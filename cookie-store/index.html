<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Cookie 存储 API</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
    <link href="https://wicg.github.io/cookie-store/" rel="canonical">
    <link href="https://wicg.github.io/cookie-store/logo-cookies.svg" rel="icon">
    <meta content="dark light" name="color-scheme">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">
    <style>
        .domintro::before {
            content: 'For web developers (non-normative)';
            text-transform: initial;
        }

        .domintro dt {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;

            padding-top: 0.5em;
            padding-bottom: 1em;
        }

        .domintro dt a {
            color: inherit;
            border-bottom-style: none;
        }

        .domintro dt code {
            font-size: inherit;
        }
    </style>
    <style>
        #speclogo {
            height: 100px;
            width: 100px;
            background-color: transparent;
        }

        main #speclogo {
            position: absolute;
            right: 20px;
            top: 30px;
        }

        .logo #speclogo {
            margin-top: 20px;
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
            --mdn-pass: green;
            --mdn-fail: red;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --mdn-bg: #222;
                --mdn-shadow: #444;
                --mdn-nosupport-text: #666;
                --mdn-pass: #690;
                --mdn-fail: #d22;
            }
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: var(--mdn-fail);
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: var(--mdn-pass);
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: var(--mdn-fail);
        }

        .mdn-anno>.feature>.all-engines-text {
            color: var(--mdn-pass);
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>

<body class="h-entry">
    <div class="head">
        <h1 class="p-name no-ref" id="title">Cookie Store API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#CG-DRAFT">社区组报告草案</a>，<time class="dt-updated"
                datetime="2025-07-21">2025年7月21日</time></p>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>当前版本：</dt>
                <dd><a class="u-url"
                        href="https://wicg.github.io/cookie-store/">https://wicg.github.io/cookie-store/</a></dd>
                <dt>测试套件：</dt>
                <dd><a
                        href="https://github.com/web-platform-tests/wpt/tree/master/cookie-store">https://github.com/web-platform-tests/wpt/tree/master/cookie-store</a>
                </dd>
                <dt>问题跟踪：</dt>
                <dd><a href="https://github.com/WICG/cookie-store/issues/">GitHub</a></dd>
                <dd><a href="#issues-index">规范内联问题</a></dd>
                <dt class="editor">编辑：</dt>
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:dylancutler@google.com">Dylan Cutler</a> (<a class="p-org org"
                        href="https://google.com">Google 公司</a>)</dd>
                <dt class="editor">前编辑：</dt>
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:ayui@google.com">Ayu Ishii</a> (<a class="p-org org"
                        href="https://google.com">Google 公司</a>)</dd>
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:jsbell@google.com">Joshua Bell</a> (<a class="p-org org"
                        href="https://google.com">Google 公司</a>)</dd>
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:rtoy@google.com">Raymond Toy</a> (<a class="p-org org"
                        href="https://google.com">Google 公司</a>)</dd>
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:costan@google.com">Victor Costan</a> (<a class="p-org org"
                        href="https://google.com">Google 公司</a>)</dd>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">版权</a> ©
            2025 Cookie Store API 规范的贡献者，由<a href="https://www.w3.org/community/wicg/">Web 平台孵化社区组</a>根据<a
                href="https://www.w3.org/community/about/agreements/cla/">W3C 社区贡献者许可协议 (CLA)</a>发布。
            提供了一个<a href="http://www.w3.org/community/about/agreements/cla-deed/">可读的摘要</a>。
        </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>一个用于文档和Service Worker的异步 JavaScript Cookie API。</p>
    </div>
    <div data-fill-with="at-risk"></div>
    <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">本文档的状态</span></h2>
    <div data-fill-with="status">
        <p>本规范由<a href="https://www.w3.org/community/wicg/">Web 平台孵化社区组</a>发布。
            它不是 W3C 标准，也不在 W3C 标准轨道上。

            请注意，根据<a href="https://www.w3.org/community/about/agreements/cla/">W3C 社区贡献者许可协议
                (CLA)</a>，存在有限的选择退出权利，并适用其他条件。

            了解更多关于<a href="http://www.w3.org/community/">W3C 社区和业务组</a>的信息。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#intro"><span class="secno">1</span> <span class="content">介绍</span></a>
                <ol class="toc">
                    <li><a href="#intro-proposed-change"><span class="secno">1.1</span> <span
                                class="content">提议变更概览</span></a></li>
                    <li><a href="#intro-summary"><span class="secno">1.2</span> <span class="content">摘要</span></a></li>
                    <li><a href="#intro-query"><span class="secno">1.3</span> <span class="content">查询
                                Cookies</span></a></li>
                    <li><a href="#intro-modify"><span class="secno">1.4</span> <span class="content">修改
                                Cookies</span></a></li>
                    <li><a href="#intro-monitor"><span class="secno">1.5</span> <span class="content">监控
                                Cookies</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#concepts"><span class="secno">2</span> <span class="content">概念</span></a>
                <ol class="toc">
                    <li><a href="#cookie-concept"><span class="secno">2.1</span> <span class="content">Cookie</span></a>
                    </li>
                    <li><a href="#cookie-store--concept"><span class="secno">2.2</span> <span class="content">Cookie
                                存储</span></a></li>
                    <li><a href="#service-worker-extensions"><span class="secno">2.3</span> <span
                                class="content">Service Worker的扩展</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#CookieStore"><span class="secno">3</span> <span class="content"><code
                            class="idl"><span>CookieStore</span></code> 接口</span></a>
                <ol class="toc">
                    <li><a href="#CookieStore-get"><span class="secno">3.1</span> <span class="content"><code
                                    class="idl"><span>get()</span></code> 方法</span></a></li>
                    <li><a href="#CookieStore-getAll"><span class="secno">3.2</span> <span class="content"><code
                                    class="idl"><span>getAll()</span></code> 方法</span></a></li>
                    <li><a href="#CookieStore-set"><span class="secno">3.3</span> <span class="content"><code
                                    class="idl"><span>set()</span></code> 方法</span></a></li>
                    <li><a href="#CookieStore-delete"><span class="secno">3.4</span> <span class="content"><code
                                    class="idl"><span>delete()</span></code> 方法</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#CookieStoreManager"><span class="secno">4</span> <span class="content"><code
                            class="idl"><span>CookieStoreManager</span></code> 接口</span></a>
                <ol class="toc">
                    <li><a href="#CookieStoreManager-subscribe"><span class="secno">4.1</span> <span
                                class="content"><code class="idl"><span>subscribe()</span></code> 方法</span></a></li>
                    <li><a href="#CookieStoreManager-getSubscriptions"><span class="secno">4.2</span> <span
                                class="content"><code class="idl"><span>getSubscriptions()</span></code> 方法</span></a>
                    </li>
                    <li><a href="#CookieStoreManager-unsubscribe"><span class="secno">4.3</span> <span
                                class="content"><code class="idl"><span>unsubscribe()</span></code> 方法</span></a></li>
                    <li><a href="#ServiceWorkerRegistration"><span class="secno">4.4</span> <span class="content"><code
                                    class="idl"><span>ServiceWorkerRegistration</span></code> 接口</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#event-interfaces"><span class="secno">5</span> <span class="content">事件接口</span></a>
                <ol class="toc">
                    <li><a href="#CookieChangeEvent"><span class="secno">5.1</span> <span class="content"><code
                                    class="idl"><span>CookieChangeEvent</span></code> 接口</span></a></li>
                    <li><a href="#ExtendableCookieChangeEvent"><span class="secno">5.2</span> <span
                                class="content"><code class="idl"><span>ExtendableCookieChangeEvent</span></code>
                                接口</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#globals"><span class="secno">6</span> <span class="content">全局接口</span></a>
                <ol class="toc">
                    <li><a href="#Window"><span class="secno">6.1</span> <span class="content"><code
                                    class="idl"><span>Window</span></code> 接口</span></a></li>
                    <li><a href="#ServiceWorkerGlobalScope"><span class="secno">6.2</span> <span class="content"><code
                                    class="idl"><span>ServiceWorkerGlobalScope</span></code> 接口</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#algorithms"><span class="secno">7</span> <span class="content">算法</span></a>
                <ol class="toc">
                    <li><a href="#query-cookies-algorithm"><span class="secno">7.1</span> <span class="content">查询
                                Cookies</span></a></li>
                    <li><a href="#set-cookie-algorithm"><span class="secno">7.2</span> <span class="content">设置
                                Cookie</span></a></li>
                    <li><a href="#delete-cookie-algorithm"><span class="secno">7.3</span> <span class="content">删除
                                Cookie</span></a></li>
                    <li><a href="#process-changes"><span class="secno">7.4</span> <span class="content">处理变更</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#security"><span class="secno">8</span> <span class="content">安全性考虑</span></a>
                <ol class="toc">
                    <li><a href="#gotcha"><span class="secno">8.1</span> <span class="content">注意事项</span></a></li>
                    <li><a href="#restrict"><span class="secno">8.2</span> <span class="content">限制？</span></a></li>
                    <li><a href="#secure-cookies"><span class="secno">8.3</span> <span class="content">安全
                                Cookies</span></a></li>
                    <li><a href="#surprises"><span class="secno">8.4</span> <span class="content">意外</span></a></li>
                    <li><a href="#prefixes"><span class="secno">8.5</span> <span class="content">前缀</span></a></li>
                    <li><a href="#url-scoping"><span class="secno">8.6</span> <span class="content">URL 范围</span></a>
                    </li>
                    <li><a href="#aversion"><span class="secno">8.7</span> <span class="content">Cookie 厌恶</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#privacy"><span class="secno">9</span> <span class="content">隐私考虑</span></a>
                <ol class="toc">
                    <li><a href="#clear-cookies"><span class="secno">9.1</span> <span class="content">清除
                                Cookies</span></a></li>
                </ol>
            </li>
            <li><a href="#acknowledgements"><span class="secno">10</span> <span class="content">致谢</span></a></li>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a></li>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a></li>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">非规范性参考文献</span></a>
                    </li>
                </ol>
            </li>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a></li>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a></li>
        </ol>
    </nav>
    <main>
        <p><img alt="logo" height="100" id="speclogo" src="https://wicg.github.io/cookie-store/logo-cookies.svg"
                width="100"></p>
        <script>
            (function () {
                const logo = document.querySelector('.logo');
                if (logo) logo.appendChild(document.querySelector('#speclogo'));
            })();
        </script>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">介绍</span><a class="self-link" href="#intro"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>这是一个提议，旨在为运行在 HTML 文档和<a data-link-type="biblio" href="#biblio-service-workers"
                title="Service Workers">Service Worker</a>中的脚本引入异步的 Cookie API。</p>
        <p><a data-link-type="biblio" href="#biblio-rfc6265bis-14" title="Cookies: HTTP State Management Mechanism">HTTP
                Cookies</a> 自其在 Netscape 起源以来<a
                href="https://web.archive.org/web/0/http://wp.netscape.com/newsref/std/cookie_spec.html">(archive.org
                保存的文档)</a>，为 Web 提供了<a
                href="https://montulli.blogspot.com/2013/05/the-reasoning-behind-web-cookies.html">有价值的状态管理机制</a>。</p>
        <p>同步的、单线程的脚本级 <code class="idl"><a data-link-type="idl"
                    href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie"
                    id="ref-for-dom-document-cookie">document.cookie</a></code> 接口一直是<a
                href="https://lists.w3.org/Archives/Public/public-whatwg-archive/2009Sep/0083.html">复杂性和性能问题</a>的来源，尤其是在许多浏览器从以下模型转变时：
        </p>
        <ul>
            <li data-md>
                <p>单一浏览器进程，</p>
            </li>
            <li data-md>
                <p>单线程事件循环模型，以及</p>
            </li>
            <li data-md>
                <p>在处理 Cookie 操作时对脚本事件处理的响应性没有普遍预期。</p>
            </li>
        </ul>
        <p>……到现代 Web，追求平滑响应的高性能：</p>
        <ul>
            <li data-md>
                <p>在多个浏览器进程中，</p>
            </li>
            <li data-md>
                <p>采用多线程、多事件循环模型，以及</p>
            </li>
            <li data-md>
                <p>在人类反应时间尺度上对响应性有明确预期。</p>
            </li>
        </ul>
        <p>在现代 Web 中，Web 应用程序某一部分的 Cookie 操作不能阻塞：</p>
        <ul>
            <li data-md>
                <p>Web 应用程序的其他部分，</p>
            </li>
            <li data-md>
                <p>同一 Web 源的其他部分，或</p>
            </li>
            <li data-md>
                <p>整个浏览器。</p>
            </li>
        </ul>
        <p>构建在Service Worker中的较新 Web 部分<a href="https://github.com/w3c/ServiceWorker/issues/707">也需要访问 Cookies</a>，但无法使用同步的、阻塞的
            <code class="idl"><a data-link-type="idl"
                    href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie"
                    id="ref-for-dom-document-cookie①">document.cookie</a></code> 接口，因为它们既没有
            <code>document</code>，也不能阻塞事件循环，否则会干扰无关事件的处理。
        </p>
        <h3 class="heading settled" data-level="1.1" id="intro-proposed-change"><span class="secno">1.1. </span><span
                class="content">提议变更概览</span><a class="self-link" href="#intro-proposed-change"></a></h3>
        <p>尽管完全<a href="https://discourse.wicg.io/t/rethinking-cookies/744">重新思考
                Cookies</a>的想法很有吸引力，但当今的网站仍然严重依赖它们，而用于操作 Cookies 的脚本 API 在其最初几十年的使用中几乎没有变化。</p>
        <p>如今，写入一个 Cookie 意味着在等待浏览器以 <code>Set-Cookie</code> 格式同步更新 Cookie 容器时阻塞事件循环：</p>
        <div class="example" id="example-e33babf4">
            <a class="self-link" href="#example-e33babf4"></a>
            <pre class="language-js highlight">document<c- p>.</c->cookie <c- o>=</c->
    <c- t>'__Secure-COOKIENAME=cookie-value'</c-> <c- o>+</c->
    <c- t>'; Path=/'</c-> <c- o>+</c->
    <c- t>'; expires=Fri, 12 Aug 2016 23:05:17 GMT'</c-> <c- o>+</c->
    <c- t>'; Secure'</c-> <c- o>+</c->
    <c- t>'; Domain=example.org'</c-><c- p>;</c->
<c- c1>// 现在我们可以假设写入成功了，但由于</c->
<c- c1>// 失败是静默的，很难判断，所以我们</c->
<c- c1>// 读取以查看写入是否成功</c->
<c- a>var</c-> successRegExp <c- o>=</c->
    <c- sr>/(^|; ?)__Secure-COOKIENAME=cookie-value(;|$)/</c-><c- p>;</c->
<c- k>if</c-> <c- p>(</c->String<c- p>(</c->document<c- p>.</c->cookie<c- p>).</c->match<c- p>(</c->successRegExp<c- p>))</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'It worked!'</c-><c- p>);</c->
<c- p>}</c-> <c- k>else</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- t>'It did not work, and we do not know why'</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <p>如果你可以这样写会怎么样：</p>
        <div class="example" id="example-e2699daa">
            <a class="self-link" href="#example-e2699daa"></a>
            <pre class="language-js highlight"><c- a>const</c-> one_day_ms <c- o>=</c-> <c- mf>24</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>1000</c-><c- p>;</c->
cookieStore<c- p>.</c->set<c- p>(</c->
    <c- p>{</c->
    name<c- o>:</c-> <c- t>'__Secure-COOKIENAME'</c-><c- p>,</c->
    value<c- o>:</c-> <c- t>'cookie-value'</c-><c- p>,</c->
    expires<c- o>:</c-> Date<c- p>.</c->now<c- p>()</c-> <c- o>+</c-> one_day_ms<c- p>,</c->
    domain<c- o>:</c-> <c- t>'example.org'</c->
    <c- p>}).</c->then<c- p>(</c-><c- a>function</c-><c- p>()</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'It worked!'</c-><c- p>);</c->
    <c- p>},</c-> <c- a>function</c-><c- p>(</c->reason<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c->
        <c- t>'It did not work, and this is why:'</c-><c- p>,</c-> 
        reason<c- p>);</c->
    <c- p>});</c->
<c- c1>// 同时我们可以在等待 Cookie 存储处理写入时做其他事情...</c->
</pre>
        </div>
        <p>这还具有不依赖 <code>document</code> 且不阻塞的优势，这使得它可以从<a data-link-type="biblio" href="#biblio-service-workers"
                title="Service Workers">Service Worker</a>中使用，而Service Worker脚本中通常无法访问 Cookies。</p>
        <p>该提议还包括一个节能的监控 API，用于用 Cookie 更改观察器替代基于 <code>setTimeout</code> 的轮询 Cookie 监控。</p>
        <h3 class="heading settled" data-level="1.2" id="intro-summary"><span class="secno">1.2. </span><span
                class="content">摘要</span><a class="self-link" href="#intro-summary"></a></h3>
        <p>本提案概述了一个使用 Promises/async 函数的异步 API，用于以下 Cookie 操作：</p>
        <ul>
            <li data-md>
                <p><a href="#intro-modify">写入</a>（或“设置”）和删除（或“过期”）Cookies</p>
            <li data-md>
                <p><a href="#intro-query">读取</a>（或“获取”）<a data-link-type="dfn" href="#script-visible"
                        id="ref-for-script-visible">脚本可见</a>的 Cookies</p>
                <ul>
                    <li data-md>
                        <p>……包括在<a data-link-type="biblio" href="#biblio-service-workers"
                                title="Service Workers">Service Worker</a>上下文中指定范围内的请求路径</p>
                </ul>
            <li data-md>
                <p><a href="#intro-monitor">监控</a> <a data-link-type="dfn" href="#script-visible"
                        id="ref-for-script-visible①">脚本可见</a>的 Cookies 变化，使用
                    <code>CookieChangeEvent</code>
                </p>
                <ul>
                    <li data-md>
                        <p>……在长时间运行的脚本上下文中（例如 <code>document</code>）</p>
                    <li data-md>
                        <p>……在<a data-link-type="biblio" href="#biblio-service-workers"
                                title="Service Workers">Service Worker</a>上下文中由脚本提供的范围内请求路径</p>
                </ul>
        </ul>
        <h3 class="heading settled" data-level="1.3" id="intro-query"><span class="secno">1.3. </span><span
                class="content">查询 Cookies</span><a class="self-link" href="#intro-query"></a></h3>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document">文档</a>和<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker">Service Worker</a>通过<a href="#globals">全局对象</a>上的 <code
                class="idl"><a data-link-type="idl" href="#dom-window-cookiestore" id="ref-for-dom-window-cookiestore">cookieStore</a></code>
            属性访问相同的查询 API。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options">get()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options">getAll()</a></code>
            方法用于查询 Cookies。
            两个方法都返回 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise">Promise</a></code>。
            两个方法接受相同的参数，可以是：</p>
        <ul>
            <li data-md>
                <p>一个名称，或</p>
            <li data-md>
                <p>一个选项字典（对于 <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options①">getAll()</a></code>
                    是可选的）
                </p>
        </ul>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options①">get()</a></code>
            方法本质上是 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options②">getAll()</a></code>
            的一种形式，只返回第一个结果。</p>
        <div class="example" id="example-75b57f43">
            <a class="self-link" href="#example-75b57f43"></a> 读取一个 Cookie：
            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
    <c- a>const</c-> cookie <c- o>=</c-> <c- k>await</c-> cookieStore<c- p>.</c->get<c- p>(</c-><c- t>'session_id'</c-><c- p>);</c->
    <c- k>if</c-> <c- p>(</c->cookie<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`找到 </c-><c- si>${</c->cookie<c- p>.</c->name<c- si>}</c-><c- sb> Cookie: </c-><c- si>${</c->cookie<c- p>.</c->value<c- si>}</c-><c- sb>`</c-><c- p>);</c->
    <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'未找到 Cookie'</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- sb>`Cookie 存储错误: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <div class="example" id="example-9453f9c5">
            <a class="self-link" href="#example-9453f9c5"></a> 读取多个 Cookies：
            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
    <c- a>const</c-> cookies <c- o>=</c-> <c- k>await</c-> cookieStore<c- p>.</c->getAll<c- p>(</c-><c- t>'session_id'</c-><c- p>});</c->
    <c- k>for</c-> <c- p>(</c-><c- a>const</c-> cookie <c- k>of</c-> cookies<c- p>)</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`结果: </c-><c- si>${</c->cookie<c- p>.</c->name<c- si>}</c-><c- sb> = </c-><c- si>${</c->cookie<c- p>.</c->value<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- sb>`Cookie 存储错误: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker①">Service Worker</a>可以获取将在其<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-scope-url" id="ref-for-dfn-scope-url">范围</a>内的任何 URL
            上通过<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
                id="ref-for-concept-fetch">fetch</a>发送的 Cookies 列表。</p>
        <div class="example" id="example-2f07df9d">
            <a class="self-link" href="#example-2f07df9d"></a> 读取特定 URL 的 Cookies（在<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker②">Service Worker</a>中）：
            <pre class="language-js highlight"><c- k>await</c-> cookieStore<c- p>.</c->getAll<c- p>({</c->url<c- o>:</c-> <c- t>'/admin'</c-><c- p>});</c->
</pre>
        </div>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document①">文档</a>只能获取其当前 URL 的 Cookies。换句话说，在<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document②">文档</a>上下文中，<a
                data-link-type="idl" href="#dom-cookiestoregetoptions-url"
                id="ref-for-dom-cookiestoregetoptions-url">url</a> 的唯一有效值是文档的 URL。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options②">get()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options③">getAll()</a></code>
            返回的对象包含 Cookie 存储中的所有相关信息，而不仅仅是旧 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie②">document.cookie</a></code>
            API 中的<a data-link-type="dfn" href="#cookie-name" id="ref-for-cookie-name">名称</a>和<a data-link-type="dfn"
                href="#cookie-value" id="ref-for-cookie-value">值</a>。</p>
        <div class="example" id="example-74bb82cb">
            <a class="self-link" href="#example-74bb82cb"></a> 访问所有 Cookie 数据：
            <pre class="language-js highlight"><c- k>await</c-> cookie <c- o>=</c-> cookieStore<c- p>.</c->get<c- p>(</c-><c- t>'session_id'</c-><c- p>);</c->
console<c- p>.</c->log<c- p>(</c-><c- sb>`Cookie 范围 - 域: </c-><c- si>${</c->cookie<c- p>.</c->domain<c- si>}</c-><c- sb> 路径: </c-><c- si>${</c->cookie<c- p>.</c->path<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- k>if</c-> <c- p>(</c->cookie<c- p>.</c->expires <c- o>===</c-> <c- kc>null</c-><c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'Cookie 在会话结束时过期'</c-><c- p>);</c->
<c- p>}</c-> <c- k>else</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`Cookie 过期时间: </c-><c- si>${</c->cookie<c- p>.</c->expires<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
<c- k>if</c-> <c- p>(</c->cookie<c- p>.</c->secure<c- p>)</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'该 Cookie 仅限于安全来源'</c-><c- p>);</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="1.4" id="intro-modify"><span class="secno">1.4. </span><span
                class="content">修改 Cookies</span><a class="self-link" href="#intro-modify"></a></h3>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document③">文档</a>和<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker③">Service Worker</a>通过<a href="#globals">全局对象</a>上的 <code
                class="idl"><a data-link-type="idl" href="#dom-window-cookiestore" id="ref-for-dom-window-cookiestore①">cookieStore</a></code>
            属性访问相同的修改 API。</p>
        <p>使用 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set">set()</a></code>
            方法创建或修改（写入）Cookies。</p>
        <div class="example" id="example-cf76b712">
            <a class="self-link" href="#example-cf76b712"></a> 写入一个 Cookie：
            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
    <c- k>await</c-> cookieStore<c- p>.</c->set<c- p>(</c-><c- t>'opted_out'</c-><c- p>,</c-> <c- t>'1'</c-><c- p>);</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- sb>`设置 Cookie 失败: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>上面的 <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set①">set()</a></code>
                调用是使用选项字典的简写形式，如下所示：</p>
            <pre class="language-js highlight"><c- k>await</c-> cookieStore<c- p>.</c->set<c- p>({</c->
    name<c- o>:</c-> <c- t>'opted_out'</c-><c- p>,</c->
    value<c- o>:</c-> <c- t>'1'</c-><c- p>,</c->
    expires<c- o>:</c-> <c- kc>null</c-><c- p>,</c->  <c- c1>// 会话 Cookie</c->

    <c- c1>// 默认情况下，domain 设置为 null，这意味着范围被锁定在当前域。</c-> 
    domain<c- o>:</c-> <c- kc>null</c-><c- p>,</c->
    path<c- o>:</c-> <c- t>'/'</c-> 
<c- p>});</c->
</pre>
        </div>
        <p>使用 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-delete" id="ref-for-dom-cookiestore-delete">delete()</a></code>
            方法删除（过期）Cookies。</p>
        <div class="example" id="example-7990c896">
            <a class="self-link" href="#example-7990c896"></a> 删除一个 Cookie：
            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
    <c- k>await</c-> cookieStore<c- p>.</c-><c- ow>delete</c-><c- p>(</c-><c- t>'session_id'</c-><c- p>);</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- sb>`删除 Cookie 失败: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <p>实际上，删除一个 Cookie 是通过将其过期日期更改为过去的时间来完成的，这种方式仍然有效。</p>
        <div class="example" id="example-e0eca546">
            <a class="self-link" href="#example-e0eca546"></a> 通过更改过期日期删除一个 Cookie：
            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
    <c- a>const</c-> one_day_ms <c- o>=</c-> <c- mf>24</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>1000</c-><c- p>;</c->
    <c- k>await</c-> cookieStore<c- p>.</c->set<c- p>({</c->
    name<c- o>:</c-> <c- t>'session_id'</c-><c- p>,</c->
    value<c- o>:</c-> <c- t>'value will be ignored'</c-><c- p>,</c->
    expires<c- o>:</c-> Date<c- p>.</c->now<c- p>()</c-> <c- o>-</c-> one_day_ms <c- p>});</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- sb>`删除 Cookie 失败: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="1.5" id="intro-monitor"><span class="secno">1.5. </span><span
                class="content">监控 Cookies</span><a class="self-link" href="#intro-monitor"></a></h3>
        <p>为了避免轮询，可以观察 Cookies 的变化。</p>
        <p>在<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document④">文档</a>中，会为所有相关的 Cookie 更改触发 <code>change</code> 事件。</p>
        <div class="example" id="example-7e599641">
            <a class="self-link" href="#example-7e599641"></a> 在文档中注册 <code>change</code> 事件：
            <pre class="language-js highlight">cookieStore<c- p>.</c->addEventListener<c- p>(</c-><c- t>'change'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`</c-><c- si>${</c->event<c- p>.</c->changed<c- p>.</c->length<c- si>}</c-><c- sb> 个 Cookie 已更改`</c-><c- p>);</c->
    <c- k>for</c-> <c- p>(</c-><c- a>const</c-> cookie <c- ow>in</c-> event<c- p>.</c->changed<c- p>)</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`Cookie </c-><c- si>${</c->cookie<c- p>.</c->name<c- si>}</c-><c- sb> 更改为 </c-><c- si>${</c->cookie<c- p>.</c->value<c- si>}</c-><c- sb>`</c-><c- p>);</c->

    console<c- p>.</c->log<c- p>(</c-><c- sb>`</c-><c- si>${</c->event<c- p>.</c->deleted<c- p>.</c->length<c- si>}</c-><c- sb> 个 Cookie 已删除`</c-><c- p>);</c->
    <c- k>for</c-> <c- p>(</c-><c- a>const</c-> cookie <c- ow>in</c-> event<c- p>.</c->deleted<c- p>)</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`Cookie </c-><c- si>${</c->cookie<c- p>.</c->name<c- si>}</c-><c- sb> 已删除`</c-><c- p>);</c->
<c- p>});</c-> 
</pre>
        </div>
        <p>在<a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker④">Service Worker</a>中，会针对全局范围触发 <code>cookiechange</code>
            事件，但需要显式订阅，并与Service Worker的注册相关联。</p>
        <div class="example" id="example-1ce710fe">
            <a class="self-link" href="#example-1ce710fe"></a> 在Service Worker中注册 <code>cookiechange</code> 事件：
            <pre class="language-js highlight">self<c- p>.</c->addEventListener<c- p>(</c-><c- t>'activate'</c-><c- p>,</c-> <c- p>(</c->event<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
    event<c- p>.</c->waitUntil<c- p>(</c-><c- k>async</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
    <c- c1>// 快照当前订阅状态。</c-> 
    <c- a>const</c-> subscriptions <c- o>=</c-> <c- k>await</c-> self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->getSubscriptions<c- p>();</c->

    <c- c1>// 清除任何现有订阅。</c-> 
    <c- k>await</c-> self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->unsubscribe<c- p>(</c->subscriptions<c- p>);</c->

    <c- k>await</c-> self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->subscribe<c- p>([</c-> 
        <c- p>{</c-> 
        name<c- o>:</c-> <c- t>'session_id'</c-><c- p>,</c->  <c- c1>// 获取名为 session_id 的 Cookie 的更改事件。</c-> 
        <c- p>}</c-> 
    <c- p>]);</c-> 
    <c- p>});</c-> 
<c- p>});</c-> 

self<c- p>.</c->addEventListener<c- p>(</c-><c- t>'cookiechange'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
    <c- c1>// 该事件具有 |changed| 和 |deleted| 属性，与文档事件具有相同的语义。</c-> 
    console<c- p>.</c->log<c- p>(</c-><c- sb>`</c-><c- si>${</c->event<c- p>.</c->changed<c- p>.</c->length<c- si>}</c-><c- sb> 个 Cookie 已更改`</c-><c- p>);</c-> 
    console<c- p>.</c->log<c- p>(</c-><c- sb>`</c-><c- si>${</c->event<c- p>.</c->deleted<c- p>.</c->length<c- si>}</c-><c- sb> 个 Cookie 已删除`</c-><c- p>);</c-> 
<c- p>});</c-> 
</pre>
        </div>
        <p>对 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe">subscribe()</a></code>
            的调用是累积的，因此独立维护的模块或库可以设置自己的订阅。如预期的那样，<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker⑤">Service Worker</a>的订阅会与<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration">Service Worker注册</a>一起持久化。</p>
        <p>订阅可以使用与 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options③">get()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options④">getAll()</a></code>
            相同的选项。细粒度订阅的复杂性是合理的，因为向<a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker⑥">Service Worker</a>分派无关的 Cookie 更改事件的成本远高于向 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>
            分派等效事件的成本。
            特别是，向<a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker⑦">Service Worker</a>分派事件可能需要唤醒工作者，这对电池寿命有显著影响。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions">getSubscriptions()</a></code>
            允许<a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker⑧">Service Worker</a>检查已创建的订阅。</p>
        <div class="example" id="example-5e735d9a">
            <a class="self-link" href="#example-5e735d9a"></a> 检查更改订阅：
            <pre class="language-js highlight"><c- a>const</c-> subscriptions <c- o>=</c-> <c- k>await</c-> self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->getSubscriptions<c- p>();</c-> 
<c- k>for</c-> <c- p>(</c-><c- a>const</c-> sub <c- k>of</c-> subscriptions<c- p>)</c-> <c- p>{</c-> 
    console<c- p>.</c->log<c- p>(</c->sub<c- p>.</c->name<c- p>,</c-> sub<c- p>.</c->url<c- p>);</c-> 
<c- p>}</c-> 
</pre>
        </div>
        <h2 class="heading settled" data-level="2" id="concepts"><span class="secno">2. </span><span
                class="content">概念</span><a class="self-link" href="#concepts"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="cookie-concept"><span class="secno">2.1. </span><span
                class="content">Cookie</span><a class="self-link" href="#cookie-concept"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cookie">Cookie</dfn> 在规范中由用户代理的 <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-user-agent-requirements">Cookies
                § 用户代理要求</a> 定义。</p>
        <div> 根据 <a href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-storage-model">Cookies §
                存储模型</a>，<a data-link-type="dfn" href="#cookie" id="ref-for-cookie">Cookie</a> 包含以下字段：
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport id="cookie-name">名称</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport id="cookie-value">值</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-expiry-time">过期时间</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport id="cookie-domain">域</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport id="cookie-path">路径</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-creation-time">创建时间</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-last-access-time">最后访问时间</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-persistent-flag">持久标志</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-host-only-flag">仅主机标志</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-secure-only-flag">仅安全标志</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-http-only-flag">HttpOnly 标志</dfn>、
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-same-site-flag">SameSite 标志</dfn>。
        </div>
        <p>当 Cookie 在范围内且没有 <code>HttpOnly</code> 标志时，它是 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="script-visible">脚本可见</dfn> 的。这在处理模型中更正式地执行，该模型在适当的点参考 <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-retrieval-model">Cookies §
                检索模型</a>。</p>
        <p>Cookie 还受某些大小限制。根据 <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-storage-model">Cookies §
                存储模型</a>：</p>
        <ul>
            <li data-md>
                <p>名称和值字段的总长度不得超过 4096 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte"
                        id="ref-for-byte">字节</a>（<dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn"
                        data-noexport id="cookie-maximum-name-value-pair-size">名称/值对的最大大小</dfn>）。</p>
            <li data-md>
                <p>除名称和值字段外，每个字段的长度不得超过 1024 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte"
                        id="ref-for-byte①">字节</a>（<dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn"
                        data-noexport id="cookie-maximum-attribute-value-size">属性值的最大大小</dfn>）。</p>
        </ul>
        <p class="note" role="note"><span class="marker">注意：</span> <a data-link-type="dfn" href="#cookie"
                id="ref-for-cookie①">Cookie</a> 属性值存储为 <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">字节序列</a>，而不是字符串。</p>
        <h3 class="heading settled" data-level="2.2" id="cookie-store--concept"><span class="secno">2.2. </span><span
                class="content">Cookie 存储</span><a class="self-link" href="#cookie-store--concept"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cookie-store">Cookie 存储</dfn> 在规范中由用户代理的 <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-user-agent-requirements">Cookies
                § 用户代理要求</a> 定义。</p>
        <p>当以下任一条件发生在 <a data-link-type="dfn" href="#cookie-store" id="ref-for-cookie-store">Cookie 存储</a>时，执行 <a
                data-link-type="dfn" href="#process-cookie-changes" id="ref-for-process-cookie-changes">处理 Cookie 更改</a>
            的步骤。</p>
        <ul>
            <li data-md>
                <p>一个新创建的 <a data-link-type="dfn" href="#cookie" id="ref-for-cookie②">Cookie</a> 被插入到 <a
                        data-link-type="dfn" href="#cookie-store" id="ref-for-cookie-store①">Cookie 存储</a>中。</p>
            <li data-md>
                <p>用户代理从 <a data-link-type="dfn" href="#cookie-store" id="ref-for-cookie-store②">Cookie 存储</a>中驱逐过期的 <a
                        data-link-type="dfn" href="#cookie" id="ref-for-cookie③">Cookie</a>。</p>
            <li data-md>
                <p>用户代理从 <a data-link-type="dfn" href="#cookie-store" id="ref-for-cookie-store③">Cookie 存储</a>中移除多余的 <a
                        data-link-type="dfn" href="#cookie" id="ref-for-cookie④">Cookie</a>。</p>
        </ul>
        <h3 class="heading settled" data-level="2.3" id="service-worker-extensions"><span class="secno">2.3.
            </span><span class="content">Service Worker的扩展</span><a class="self-link" href="#service-worker-extensions"></a></h3>
        <p><a data-link-type="biblio" href="#biblio-service-workers" title="Service Workers">[Service-Workers]</a>
            定义了 <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration①">Service Worker注册</a>，本规范对此进行了扩展。</p>
        <p>一个 <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration②">Service Worker注册</a> 具有一个关联的 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="cookie-change-subscription-list">Cookie 更改订阅列表</dfn>，它是一个 <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">列表</a>；
            每个成员是一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cookie-change-subscription">Cookie
                更改订阅</dfn>。一个 <a data-link-type="dfn" href="#cookie-change-subscription"
                id="ref-for-cookie-change-subscription">Cookie 更改订阅</a> 是 <span> 一个 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">元组</a>，包含 <dfn class="dfn-paneled"
                    data-dfn-for="cookie change subscription" data-dfn-type="dfn" data-noexport
                    id="cookie-change-subscription-name">名称</dfn> 和 <dfn class="dfn-paneled"
                    data-dfn-for="cookie change subscription" data-dfn-type="dfn" data-noexport
                    id="cookie-change-subscription-url">URL</dfn>。 </span></p>
        <h2 class="heading settled" data-level="3" id="CookieStore"><span class="secno">3. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore①">CookieStore</a></code>
                接口</span><a class="self-link" href="#CookieStore"></a></h2>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->),
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cookiestore"><code><c- g>CookieStore</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem"><c- n>CookieListItem</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-get" id="ref-for-dom-cookiestore-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/get(name)" data-dfn-type="argument" data-export id="dom-cookiestore-get-name-name"><code><c- g>name</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem①"><c- n>CookieListItem</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options④"><c- g>get</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/get(options), CookieStore/get()" data-dfn-type="argument" data-export id="dom-cookiestore-get-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist"><c- n>CookieList</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-getall" id="ref-for-dom-cookiestore-getall"><c- g>getAll</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/getAll(name)" data-dfn-type="argument" data-export id="dom-cookiestore-getall-name-name"><code><c- g>name</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist①"><c- n>CookieList</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options⑤"><c- g>getAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions①"><c- n>CookieStoreGetOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/getAll(options), CookieStore/getAll()" data-dfn-type="argument" data-export id="dom-cookiestore-getall-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set②"><c- g>set</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/set(name, value)" data-dfn-type="argument" data-export id="dom-cookiestore-set-name-value-name"><code><c- g>name</c-></code></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/set(name, value)" data-dfn-type="argument" data-export id="dom-cookiestore-set-name-value-value"><code><c- g>value</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-set-options" id="ref-for-dom-cookiestore-set-options"><c- g>set</c-></a>(<a data-link-type="idl-name" href="#dictdef-cookieinit" id="ref-for-dictdef-cookieinit"><c- n>CookieInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/set(options)" data-dfn-type="argument" data-export id="dom-cookiestore-set-options-options"><code><c- g>options</c-></code></dfn>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-delete" id="ref-for-dom-cookiestore-delete①"><c- g>delete</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/delete(name)" data-dfn-type="argument" data-export id="dom-cookiestore-delete-name-name"><code><c- g>name</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-delete-options" id="ref-for-dom-cookiestore-delete-options"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="#dictdef-cookiestoredeleteoptions" id="ref-for-dictdef-cookiestoredeleteoptions"><c- n>CookieStoreDeleteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/delete(options)" data-dfn-type="argument" data-export id="dom-cookiestore-delete-options-options"><code><c- g>options</c-></code></dfn>);

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-cookiestore-onchange"><code><c- g>onchange</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookiestoregetoptions"><code><c- g>CookieStoreGetOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreGetOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookiestoregetoptions-name"><code><c- g>name</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreGetOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookiestoregetoptions-url"><code><c- g>url</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-cookiesamesite"><code><c- g>CookieSameSite</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="CookieSameSite" data-dfn-type="enum-value" data-export id="dom-cookiesamesite-strict"><code><c- s>"strict"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="CookieSameSite" data-dfn-type="enum-value" data-export id="dom-cookiesamesite-lax"><code><c- s>"lax"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="CookieSameSite" data-dfn-type="enum-value" data-export id="dom-cookiesamesite-none"><code><c- s>"none"</c-></code></dfn>
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookieinit"><code><c- g>CookieInit</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookieinit-name"><code><c- g>name</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookieinit-value"><code><c- g>value</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="DOMHighResTimeStamp?" id="dom-cookieinit-expires"><code><c- g>expires</c-></code></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c- b>USVString</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="USVString?" id="dom-cookieinit-domain"><code><c- g>domain</c-></code></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⓪"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;/&quot;" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookieinit-path"><code><c- g>path</c-></code></dfn> = "/";
  <a data-link-type="idl-name" href="#enumdef-cookiesamesite" id="ref-for-enumdef-cookiesamesite"><c- n>CookieSameSite</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;strict&quot;" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="CookieSameSite" id="dom-cookieinit-samesite"><code><c- g>sameSite</c-></code></dfn> = "strict";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cookieinit-partitioned"><code><c- g>partitioned</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookiestoredeleteoptions"><code><c- g>CookieStoreDeleteOptions</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreDeleteOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookiestoredeleteoptions-name"><code><c- g>name</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①②"><c- b>USVString</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="CookieStoreDeleteOptions" data-dfn-type="dict-member" data-export data-type="USVString?" id="dom-cookiestoredeleteoptions-domain"><code><c- g>domain</c-></code></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;/&quot;" data-dfn-for="CookieStoreDeleteOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookiestoredeleteoptions-path"><code><c- g>path</c-></code></dfn> = "/";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CookieStoreDeleteOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cookiestoredeleteoptions-partitioned"><code><c- g>partitioned</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookielistitem"><code><c- g>CookieListItem</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookielistitem-name"><code><c- g>name</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookielistitem-value"><code><c- g>value</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑥"><c- b>USVString</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="USVString?" id="dom-cookielistitem-domain"><code><c- g>domain</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑦"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookielistitem-path"><code><c- g>path</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①"><c- n>DOMHighResTimeStamp</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="DOMHighResTimeStamp?" id="dom-cookielistitem-expires"><code><c- g>expires</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cookielistitem-secure"><code><c- g>secure</c-></code></dfn>;
  <a data-link-type="idl-name" href="#enumdef-cookiesamesite" id="ref-for-enumdef-cookiesamesite①"><c- n>CookieSameSite</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="CookieSameSite" id="dom-cookielistitem-samesite"><code><c- g>sameSite</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cookielistitem-partitioned"><code><c- g>partitioned</c-></code></dfn>;
};

<c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem②"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-cookielist"><code><c- g>CookieList</c-></code></dfn>;
</pre>
        <h3 class="heading settled" data-level="3.1" id="CookieStore-get"><span class="secno">3.1. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options⑤">get()</a></code>
                方法</span><a class="self-link" href="#CookieStore-get"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md><var>cookie</var> = await cookieStore . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-get" id="ref-for-dom-cookiestore-get①">get</a></code>(<var>name</var>)
                <dt data-md><var>cookie</var> = await cookieStore . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options⑥">get</a></code>(<var>options</var>)
                <dd data-md>
                    <p>返回一个 Promise，解析为给定 Cookie 名称（或其他选项）的第一个在范围内的 <a data-link-type="dfn" href="#script-visible"
                            id="ref-for-script-visible②">脚本可见</a>值。
                        在Service Worker上下文中，默认路径为Service Worker注册范围的路径。
                        在文档中，默认路径为当前文档的路径，不受 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" id="ref-for-dom-history-replacestate">replaceState()</a></code>
                        或 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain" id="ref-for-dom-document-domain">document.domain</a></code>
                        的更改影响。
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="get(name)" data-algorithm-for="CookieStore">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-get"><code>get(<var>name</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin">来源</a>。</p>
                <li data-md>
                    <p>如果 <var>origin</var> 是 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque">不透明来源</a>，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with">一个被拒绝的 Promise</a>，原因是 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>url</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url">创建 URL</a>。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>list</var> 为运行 <a data-link-type="dfn" href="#query-cookies"
                                    id="ref-for-query-cookies">查询 Cookies</a> 的结果，参数为
                                <var>url</var> 和 <var>name</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>list</var> 失败，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">拒绝</a>
                                <var>p</var>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>，并中止这些步骤。
                            </p>
                        <li data-md>
                            <p>如果 <var>list</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-is-empty"
                                    id="ref-for-list-is-empty">为空</a>，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">解析</a>
                                <var>p</var> 为 null。
                            </p>
                        <li data-md>
                            <p>否则，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve①">解析</a> <var>p</var> 为 <var>list</var> 的第一个项目。
                            </p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="get(options)" data-algorithm-for="CookieStore">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                data-lt="get(options)|get()" id="dom-cookiestore-get-options"><code>get(<var>options</var>)</code></dfn>
            方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object①">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin①">来源</a>。</p>
                <li data-md>
                    <p>如果 <var>origin</var> 是 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque①">不透明来源</a>，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①">一个被拒绝的 Promise</a>，原因是 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror①">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>url</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url①">创建 URL</a>。</p>
                <li data-md>
                    <p>如果 <var>options</var> 为空，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②">一个被拒绝的 Promise</a>，原因是 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>如果 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url①">url</a></code>"]
                        存在，则运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>parsed</var> 为使用 <var>settings</var> 的 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                                    id="ref-for-api-base-url">API 基础 URL</a> 解析 <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url②">url</a></code>"]
                                的结果。</p>
                        <li data-md>
                            <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this②">this</a> 的 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global">关联全局对象（relevant global object）</a>是 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>
                                对象，且 <var>parsed</var> 与 <var>url</var> 在 <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#url-equals-exclude-fragments"
                                    id="ref-for-url-equals-exclude-fragments">忽略片段（exclude fragments）</a>设为 true 的情况下不<a
                                    data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-equals"
                                    id="ref-for-concept-url-equals">相等</a>，则返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with③">一个以</a> <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>
                                拒绝的 promise。
                            </p>
                        <li data-md>
                            <p>如果 <var>parsed</var> 的 <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-origin"
                                    id="ref-for-concept-url-origin">来源</a> 和 <var>url</var> 的 <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-origin"
                                    id="ref-for-concept-url-origin①">来源</a> 不 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                                    id="ref-for-same-origin">相同</a>，
                                则返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④">一个被拒绝的 Promise</a>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>。
                            </p>
                        <li data-md>
                            <p>将 <var>url</var> 设置为 <var>parsed</var>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise①">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel①">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>list</var> 为运行 <a data-link-type="dfn" href="#query-cookies"
                                    id="ref-for-query-cookies①">查询 Cookies</a> 的结果，参数为
                                <var>url</var> 和 <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name">name</a></code>"]
                                （如果存在）。
                            </p>
                        <li data-md>
                            <p>如果 <var>list</var> 失败，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">拒绝</a>
                                <var>p</var>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>，并中止这些步骤。
                            </p>
                        <li data-md>
                            <p>如果 <var>list</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-is-empty"
                                    id="ref-for-list-is-empty①">为空</a>，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">解析</a>
                                <var>p</var> 为 null。
                            </p>
                        <li data-md>
                            <p>否则，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve③">解析</a> <var>p</var> 为 <var>list</var> 的第一个项目。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.2" id="CookieStore-getAll"><span class="secno">3.2. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options⑥">getAll()</a></code>
                方法</span><a class="self-link" href="#CookieStore-getAll"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md><var>cookies</var> = await cookieStore . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall" id="ref-for-dom-cookiestore-getall①">getAll</a></code>(<var>name</var>)
                <dt data-md><var>cookies</var> = await cookieStore . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options⑦">getAll</a></code>(<var>options</var>)
                <dd data-md>
                    <p>返回一个 Promise，解析为给定 Cookie 名称（或其他选项）的所有在范围内的 <a data-link-type="dfn" href="#script-visible"
                            id="ref-for-script-visible③">脚本可见</a>值。
                        在Service Worker上下文中，默认路径为Service Worker注册范围的路径。
                        在文档中，默认路径为当前文档的路径，不受 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" id="ref-for-dom-history-replacestate①">replaceState()</a></code>
                        或 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain" id="ref-for-dom-document-domain①">document.domain</a></code>
                        的更改影响。
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getAll(name)" data-algorithm-for="CookieStore">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-getall"><code>getAll(<var>name</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object②">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin②">来源</a>。</p>
                <li data-md>
                    <p>如果 <var>origin</var> 是 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque②">不透明来源</a>，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with⑤">一个被拒绝的 Promise</a>，原因是 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror②">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>url</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url②">创建 URL</a>。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise②">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel②">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>list</var> 为运行 <a data-link-type="dfn" href="#query-cookies"
                                    id="ref-for-query-cookies②">查询 Cookies</a> 的结果，参数为
                                <var>url</var> 和 <var>name</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>list</var> 失败，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">拒绝</a>
                                <var>p</var>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>。
                            </p>
                        <li data-md>
                            <p>否则，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve④">解析</a> <var>p</var> 为 <var>list</var>。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="getAll(options)" data-algorithm-for="CookieStore">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                data-lt="getAll(options)|getAll()"
                id="dom-cookiestore-getall-options"><code>getAll(<var>options</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object③">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin③">来源</a>。</p>
                <li data-md>
                    <p>如果 <var>origin</var> 是 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque③">不透明来源</a>，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with⑥">一个被拒绝的 Promise</a>，原因是 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror③">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>url</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url③">创建 URL</a>。</p>
                <li data-md>
                    <p>如果 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url③">url</a></code>"]
                        存在，则运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>parsed</var> 为使用 <var>settings</var> 的 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                                    id="ref-for-api-base-url①">API 基础 URL</a> 解析 <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url④">url</a></code>"]
                                的结果。</p>
                        <li data-md>
                            <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this⑤">this</a> 的 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global①">关联全局对象（relevant global object）</a>是 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code>
                                对象，且 <var>parsed</var> 与 <var>url</var> 在 <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#url-equals-exclude-fragments"
                                    id="ref-for-url-equals-exclude-fragments①">排除片段（exclude fragments）</a>设为 true
                                的情况下不<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-equals"
                                    id="ref-for-concept-url-equals①">相等</a>，则返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with⑦">一个以</a> <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code>
                                拒绝的 promise。</p>
                        <li data-md>
                            <p>如果 <var>parsed</var> 的 <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-origin"
                                    id="ref-for-concept-url-origin②">来源</a> 和 <var>url</var> 的 <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-origin"
                                    id="ref-for-concept-url-origin③">来源</a> 不 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                                    id="ref-for-same-origin①">相同</a>，
                                则返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with⑧">一个被拒绝的 Promise</a>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>。
                            </p>
                        <li data-md>
                            <p>将 <var>url</var> 设置为 <var>parsed</var>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise③">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel③">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>list</var> 为运行 <a data-link-type="dfn" href="#query-cookies"
                                    id="ref-for-query-cookies③">查询 Cookies</a> 的结果，参数为
                                <var>url</var> 和 <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name①">name</a></code>"]
                                （如果存在）。
                            </p>
                        <li data-md>
                            <p>如果 <var>list</var> 失败，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">拒绝</a>
                                <var>p</var>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑧">TypeError</a></code>。
                            </p>
                        <li data-md>
                            <p>否则，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑤">解析</a> <var>p</var> 为 <var>list</var>。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.3" id="CookieStore-set"><span class="secno">3.3. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set③">set()</a></code>
                方法</span><a class="self-link" href="#CookieStore-set"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md>await cookieStore . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set④">set</a></code>(<var>name</var>,
                    <var>value</var>)
                <dt data-md>await cookieStore . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-set-options" id="ref-for-dom-cookiestore-set-options①">set</a></code>(<var>options</var>)
                <dd data-md>
                    <p>写入（创建或修改）一个 Cookie。</p>
                    <p>选项的默认值为：</p>
                    <ul>
                        <li data-md>
                            <p>路径：<code>/</code></p>
                        <li data-md>
                            <p>域：与当前文档或Service Worker的位置相同</p>
                        <li data-md>
                            <p>无过期日期</p>
                        <li data-md>
                            <p>SameSite：严格模式</p>
                    </ul>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="set(name, value)" data-algorithm-for="CookieStore">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-set"><code>set(<var>name</var>, <var>value</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object④">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin④">来源</a>。</p>
                <li data-md>
                    <p>如果 <var>origin</var> 是 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque④">不透明来源</a>，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with⑨">一个被拒绝的 Promise</a>，原因是 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror④">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>url</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url④">创建 URL</a>。</p>
                <li data-md>
                    <p>令 <var>domain</var> 为 null。</p>
                <li data-md>
                    <p>令 <var>path</var> 为 "/".</p>
                <li data-md>
                    <p>令 <var>sameSite</var> 为 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-strict" id="ref-for-dom-cookiesamesite-strict">strict</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>partitioned</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise④">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel④">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>r</var> 为运行 <a data-link-type="dfn" href="#set-a-cookie"
                                    id="ref-for-set-a-cookie">设置 Cookie</a> 的结果，参数为 <var>url</var>、<var>name</var>、
                                <var>value</var>、<var>domain</var>、<var>path</var>、<var>sameSite</var> 和
                                <var>partitioned</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>r</var> 失败，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">拒绝</a>
                                <var>p</var>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑨">TypeError</a></code>
                                并中止这些步骤。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑥">解析</a> <var>p</var> 为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="set(options)" data-algorithm-for="CookieStore">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-set-options"><code>set(<var>options</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑦">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑤">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin⑤">来源</a>。</p>
                <li data-md>
                    <p>如果 <var>origin</var> 是 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque⑤">不透明来源</a>，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①⓪">一个被拒绝的 Promise</a>，原因是 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑤">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>url</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url⑤">创建 URL</a>。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑤">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑤">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>r</var> 为运行 <a data-link-type="dfn" href="#set-a-cookie"
                                    id="ref-for-set-a-cookie①">设置 Cookie</a> 的结果，参数为 <var>url</var>、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-name" id="ref-for-dom-cookieinit-name">name</a></code>"]、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-value" id="ref-for-dom-cookieinit-value">value</a></code>"]、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-expires" id="ref-for-dom-cookieinit-expires">expires</a></code>"]、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-domain" id="ref-for-dom-cookieinit-domain">domain</a></code>"]、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-path" id="ref-for-dom-cookieinit-path">path</a></code>"]、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-samesite" id="ref-for-dom-cookieinit-samesite">sameSite</a></code>"]、
                                和 <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-partitioned" id="ref-for-dom-cookieinit-partitioned">partitioned</a></code>"]。
                            </p>
                        <li data-md>
                            <p>如果 <var>r</var> 失败，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑤">拒绝</a>
                                <var>p</var>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⓪">TypeError</a></code>
                                并中止这些步骤。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑦">解析</a> <var>p</var> 为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.4" id="CookieStore-delete"><span class="secno">3.4. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-delete" id="ref-for-dom-cookiestore-delete②">delete()</a></code>
                方法</span><a class="self-link" href="#CookieStore-delete"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md>await cookieStore . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-delete" id="ref-for-dom-cookiestore-delete③">delete</a></code>(<var>name</var>)
                <dt data-md>await cookieStore . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-delete-options" id="ref-for-dom-cookiestore-delete-options①">delete</a></code>(<var>options</var>)
                <dd data-md>
                    <p>删除（过期）具有给定名称或名称及可选域和路径的 Cookie。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="delete(name)" data-algorithm-for="CookieStore">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-delete"><code>delete(<var>name</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑥">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin⑥">来源</a>。</p>
                <li data-md>
                    <p>如果 <var>origin</var> 是 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque⑥">不透明来源</a>，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①①">一个被拒绝的 Promise</a>，原因是 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑥">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>url</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url⑥">创建 URL</a>。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑥">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑥">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>r</var> 为运行 <a data-link-type="dfn" href="#delete-a-cookie"
                                    id="ref-for-delete-a-cookie">删除 Cookie</a> 的结果，参数为 <var>url</var>、
                                <var>name</var>、
                                null、
                                "<code>/</code>"、
                                true 和
                                "<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-strict" id="ref-for-dom-cookiesamesite-strict①">strict</a></code>"。
                            </p>
                        <li data-md>
                            <p>如果 <var>r</var> 失败，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑥">拒绝</a>
                                <var>p</var>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①①">TypeError</a></code>
                                并中止这些步骤。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑧">解析</a> <var>p</var> 为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="delete(options)" data-algorithm-for="CookieStore">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-delete-options"><code>delete(<var>options</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑦">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin⑦">来源</a>。</p>
                <li data-md>
                    <p>如果 <var>origin</var> 是 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque⑦">不透明来源</a>，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①②">一个被拒绝的 Promise</a>，原因是 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑦">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>url</var> 为 <var>settings</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url⑦">创建 URL</a>。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑦">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑦">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>r</var> 为运行 <a data-link-type="dfn" href="#delete-a-cookie"
                                    id="ref-for-delete-a-cookie①">删除 Cookie</a> 的结果，参数为 <var>url</var>、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoredeleteoptions-name" id="ref-for-dom-cookiestoredeleteoptions-name">name</a></code>"]、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoredeleteoptions-domain" id="ref-for-dom-cookiestoredeleteoptions-domain">domain</a></code>"]、
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoredeleteoptions-path" id="ref-for-dom-cookiestoredeleteoptions-path">path</a></code>"]、
                                和 <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoredeleteoptions-partitioned" id="ref-for-dom-cookiestoredeleteoptions-partitioned">partitioned</a></code>"]。
                            </p>
                        <li data-md>
                            <p>如果 <var>r</var> 失败，则 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑦">拒绝</a>
                                <var>p</var>，原因是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①②">TypeError</a></code>
                                并中止这些步骤。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑨">解析</a> <var>p</var> 为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="4" id="CookieStoreManager"><span class="secno">4. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager">CookieStoreManager</a></code>
                接口</span><a class="self-link" href="#CookieStoreManager"></a></h2>
        <p><code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager①">CookieStoreManager</a></code>
            具有一个关联的 <dfn class="dfn-paneled" data-dfn-for="CookieStoreManager" data-dfn-type="dfn" data-noexport
                id="cookiestoremanager-registration">注册</dfn>，它是一个 <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration③">Service Worker注册</a>。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager②">CookieStoreManager</a></code>
            接口允许 <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker⑨">Service Worker</a> 订阅 Cookie 更改事件。使用 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe①">subscribe()</a></code>
            方法是必要的，以表明特定的 <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration④">Service Worker注册</a> 对更改事件感兴趣。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->),
    <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cookiestoremanager"><code><c- g>CookieStoreManager</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe②"><c- g>subscribe</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions②"><c- n>CookieStoreGetOptions</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager/subscribe(subscriptions)" data-dfn-type="argument" data-export id="dom-cookiestoremanager-subscribe-subscriptions-subscriptions"><code><c- g>subscriptions</c-></code></dfn>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⓪"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions③"><c- n>CookieStoreGetOptions</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions①"><c- g>getSubscriptions</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-unsubscribe" id="ref-for-dom-cookiestoremanager-unsubscribe"><c- g>unsubscribe</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions④"><c- n>CookieStoreGetOptions</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager/unsubscribe(subscriptions)" data-dfn-type="argument" data-export id="dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions"><code><c- g>subscriptions</c-></code></dfn>);
};
</pre>
        <h3 class="heading settled" data-level="4.1" id="CookieStoreManager-subscribe"><span class="secno">4.1.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe③">subscribe()</a></code>
                方法</span><a class="self-link" href="#CookieStoreManager-subscribe"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md>await <var>registration</var> . cookies . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe④">subscribe</a></code>(<var>subscriptions</var>)
                <dd data-md>
                    <p>订阅 Cookie 的更改。订阅可以使用与 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options⑦">get()</a></code>
                        和 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options⑧">getAll()</a></code>
                        相同的选项，并具有可选的 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name②">name</a></code>
                        和 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url⑤">url</a></code>
                        属性。</p>
                    <p>一旦订阅，通知将作为 "<code>cookiechange</code>" 事件发送到 <a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                            id="ref-for-dfn-service-worker①⓪">Service Worker</a> 的全局范围：</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="subscribe(subscriptions)" data-algorithm-for="CookieStoreManager">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager" data-dfn-type="method" data-export
                id="dom-cookiestoremanager-subscribe"><code>subscribe(<var>subscriptions</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑧">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>registration</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①">this</a> 的 <a data-link-type="dfn"
                            href="#cookiestoremanager-registration" id="ref-for-cookiestoremanager-registration">注册</a>。
                    </p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑧">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑧">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>subscription list</var> 为 <var>registration</var> 的关联 <a data-link-type="dfn"
                                    href="#cookie-change-subscription-list"
                                    id="ref-for-cookie-change-subscription-list">Cookie 更改订阅列表</a>。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate">对于</a> <var>subscriptions</var> 中的每个
                                <var>entry</var>，运行以下步骤：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>name</var> 为 <var>entry</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name③">name</a></code>"]。
                                    </p>
                                <li data-md>
                                    <p>令 <var>url</var> 为使用 <var>settings</var> 的 <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                                            id="ref-for-api-base-url②">API 基础 URL</a> 解析 <var>entry</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url⑥">url</a></code>"]
                                        的结果。</p>
                                <li data-md>
                                    <p>如果 <var>url</var> 不以 <var>registration</var> 的 <a data-link-type="dfn"
                                            href="https://w3c.github.io/ServiceWorker/#dfn-scope-url"
                                            id="ref-for-dfn-scope-url①">范围 URL</a> 开头，
                                        则 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject⑧">拒绝</a> <var>p</var>，原因是 <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①③">TypeError</a></code>
                                        并中止这些步骤。</p>
                                <li data-md>
                                    <p>令 <var>subscription</var> 为 <a data-link-type="dfn"
                                            href="#cookie-change-subscription"
                                            id="ref-for-cookie-change-subscription①">Cookie 更改订阅</a>
                                        (<var>name</var>, <var>url</var>)。</p>
                                <li data-md>
                                    <p>如果 <var>subscription list</var> 尚未 <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#list-contain"
                                            id="ref-for-list-contain">包含</a> <var>subscription</var>，则 <a
                                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                            id="ref-for-list-append">追加</a> <var>subscription</var> 到
                                        <var>subscription list</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve①⓪">解析</a> <var>p</var> 为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.2" id="CookieStoreManager-getSubscriptions"><span class="secno">4.2.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions②">getSubscriptions()</a></code>
                方法</span><a class="self-link" href="#CookieStoreManager-getSubscriptions"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md><var>subscriptions</var> = await <var>registration</var> . cookies . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions③">getSubscriptions()</a></code>
                <dd data-md>
                    <p>此方法返回一个 Promise，该 Promise 解析为为此Service Worker注册所创建的 Cookie 更改订阅列表。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getSubscriptions()" data-algorithm-for="CookieStoreManager">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager" data-dfn-type="method" data-export
                id="dom-cookiestoremanager-getsubscriptions"><code>getSubscriptions()</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>registration</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①②">this</a> 的 <a data-link-type="dfn"
                            href="#cookiestoremanager-registration"
                            id="ref-for-cookiestoremanager-registration①">注册</a>。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑨">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑨">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>subscriptions</var> 为 <var>registration</var> 的关联 <a data-link-type="dfn"
                                    href="#cookie-change-subscription-list"
                                    id="ref-for-cookie-change-subscription-list①">Cookie 更改订阅列表</a>。
                            </p>
                        <li data-md>
                            <p>令 <var>result</var> 为一个新的 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">列表</a>。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate①">对于</a> <var>subscriptions</var> 中的每个
                                <var>subscription</var>，运行以下步骤：
                            </p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                            id="ref-for-list-append①">追加</a> «[ "name" → <var>subscription</var> 的
                                        <a data-link-type="dfn" href="#cookie-change-subscription-name"
                                            id="ref-for-cookie-change-subscription-name">name</a>, "url" →
                                        <var>subscription</var> 的 <a data-link-type="dfn"
                                            href="#cookie-change-subscription-url"
                                            id="ref-for-cookie-change-subscription-url">url</a>]» 到 <var>result</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve①①">解析</a> <var>p</var> 为 <var>result</var>。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.3" id="CookieStoreManager-unsubscribe"><span class="secno">4.3.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-unsubscribe" id="ref-for-dom-cookiestoremanager-unsubscribe①">unsubscribe()</a></code>
                方法</span><a class="self-link" href="#CookieStoreManager-unsubscribe"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md>await <var>registration</var> . cookies . <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-unsubscribe" id="ref-for-dom-cookiestoremanager-unsubscribe②">unsubscribe</a></code>(<var>subscriptions</var>)
                <dd data-md>
                    <p>调用此方法将停止已注册的Service Worker接收先前订阅的事件。<var>subscriptions</var> 参数应以与传递给 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe⑤">subscribe()</a></code>
                        或从 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions④">getSubscriptions()</a></code>
                        返回的形式相同的方式列出订阅。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="unsubscribe(subscriptions)" data-algorithm-for="CookieStoreManager">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager" data-dfn-type="method" data-export
                id="dom-cookiestoremanager-unsubscribe"><code>unsubscribe(<var>subscriptions</var>)</code></dfn>
            方法的步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>settings</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①③">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑨">相关设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>registration</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①④">this</a> 的 <a data-link-type="dfn"
                            href="#cookiestoremanager-registration"
                            id="ref-for-cookiestoremanager-registration②">注册</a>。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise①⓪">一个新的 Promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel①⓪">并行</a>运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>subscription list</var> 为 <var>registration</var> 的关联 <a data-link-type="dfn"
                                    href="#cookie-change-subscription-list"
                                    id="ref-for-cookie-change-subscription-list②">Cookie 更改订阅列表</a>。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate②">对于</a> <var>subscriptions</var> 中的每个
                                <var>entry</var>，运行以下步骤：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>name</var> 为 <var>entry</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name④">name</a></code>"]。
                                    </p>
                                <li data-md>
                                    <p>令 <var>url</var> 为使用 <var>settings</var> 的 <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                                            id="ref-for-api-base-url③">API 基础 URL</a> 解析 <var>entry</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url⑦">url</a></code>"]
                                        的结果。</p>
                                <li data-md>
                                    <p>如果 <var>url</var> 不以 <var>registration</var> 的 <a data-link-type="dfn"
                                            href="https://w3c.github.io/ServiceWorker/#dfn-scope-url"
                                            id="ref-for-dfn-scope-url②">范围 URL</a> 开头，
                                        则 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject⑨">拒绝</a> <var>p</var>，原因是 <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①④">TypeError</a></code>
                                        并中止这些步骤。</p>
                                <li data-md>
                                    <p>令 <var>subscription</var> 为 <a data-link-type="dfn"
                                            href="#cookie-change-subscription"
                                            id="ref-for-cookie-change-subscription②">Cookie 更改订阅</a>
                                        (<var>name</var>, <var>url</var>)。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                                            id="ref-for-list-remove">移除</a> <var>subscription list</var> 中等于
                                        <var>subscription</var> 的任何 <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#list-item"
                                            id="ref-for-list-item">项</a>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve①②">解析</a> <var>p</var> 为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.4" id="ServiceWorkerRegistration"><span class="secno">4.4.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a></code>
                接口</span><a class="self-link" href="#ServiceWorkerRegistration"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration①">ServiceWorkerRegistration</a></code>
            接口被扩展以通过 <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager③">CookieStoreManager</a></code>
            提供对 <code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-cookies" id="ref-for-dom-serviceworkerregistration-cookies">cookies</a></code>
            的访问，该接口提供订阅 Cookie 更改的功能。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->)]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration②"><c- g>ServiceWorkerRegistration</c-></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestoremanager" id="ref-for-cookiestoremanager④"><c- n>CookieStoreManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStoreManager" href="#dom-serviceworkerregistration-cookies" id="ref-for-dom-serviceworkerregistration-cookies①"><c- g>cookies</c-></a>;
};
</pre>
        <p>每个 <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration③">ServiceWorkerRegistration</a></code>
            都有一个关联的 <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager⑤">CookieStoreManager</a></code>
            对象。
            <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager⑥">CookieStoreManager</a></code>
            的 <a data-link-type="dfn" href="#cookiestoremanager-registration"
                id="ref-for-cookiestoremanager-registration③">注册</a>等于 <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration④">ServiceWorkerRegistration</a></code>
            的 <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤">Service Worker注册</a>。
        </p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
                data-export id="dom-serviceworkerregistration-cookies"><code>cookies</code></dfn> getter 的步骤是返回 <a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a> 的关联 <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager⑦">CookieStoreManager</a></code>
            对象。</p>
        <div class="example" id="example-45f94580">
            <a class="self-link" href="#example-45f94580"></a> 从Service Worker脚本订阅 Cookie 更改：
            <pre class="language-js highlight">self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->subscribe<c- p>([{</c->name<c- o>:</c-><c- t>'session-id'</c-><c- p>}]);</c->
</pre>
        </div>
        <div class="example" id="example-254a868d">
            <a class="self-link" href="#example-254a868d"></a> 从窗口上下文中的脚本订阅 Cookie 更改：
            <pre class="language-js highlight">navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- t>'sw.js'</c-><c- p>).</c->then<c- p>(</c->registration <c- p>=></c-> <c- p>{</c->
    registration<c- p>.</c->cookies<c- p>.</c->subscribe<c- p>([{</c->name<c- o>:</c-><c- t>'session-id'</c-><c- p>}]);</c->
<c- p>});</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="5" id="event-interfaces"><span class="secno">5. </span><span
                class="content">事件接口</span><a class="self-link" href="#event-interfaces"></a></h2>
        <h3 class="heading settled" data-level="5.1" id="CookieChangeEvent"><span class="secno">5.1. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#cookiechangeevent" id="ref-for-cookiechangeevent">CookieChangeEvent</a></code>
                接口</span><a class="self-link" href="#CookieChangeEvent"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#cookiechangeevent" id="ref-for-cookiechangeevent①">CookieChangeEvent</a></code>
            在 <code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore②">CookieStore</a></code>
            对象上分派，位于 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code>
            上下文中，当发生任何 <a data-link-type="dfn" href="#script-visible" id="ref-for-script-visible④">脚本可见</a>的 Cookie 更改时。
        </p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>Window</c->,
    <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cookiechangeevent"><code><c- g>CookieChangeEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent" data-dfn-type="constructor" data-export data-lt="CookieChangeEvent(type, eventInitDict)|constructor(type, eventInitDict)|CookieChangeEvent(type)|constructor(type)" id="dom-cookiechangeevent-cookiechangeevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent/CookieChangeEvent(type, eventInitDict), CookieChangeEvent/constructor(type, eventInitDict), CookieChangeEvent/CookieChangeEvent(type), CookieChangeEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiechangeeventinit" id="ref-for-dictdef-cookiechangeeventinit"><c- n>CookieChangeEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent/CookieChangeEvent(type, eventInitDict), CookieChangeEvent/constructor(type, eventInitDict), CookieChangeEvent/CookieChangeEvent(type), CookieChangeEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject①"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem③"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CookieListItem>" id="dom-cookiechangeevent-changed"><code><c- g>changed</c-></code></dfn>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject②"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem④"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CookieListItem>" id="dom-cookiechangeevent-deleted"><code><c- g>deleted</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookiechangeeventinit"><code><c- g>CookieChangeEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist②"><c- n>CookieList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEventInit" data-dfn-type="dict-member" data-export data-type="CookieList" id="dom-cookiechangeeventinit-changed"><code><c- g>changed</c-></code></dfn>;
  <a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist③"><c- n>CookieList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEventInit" data-dfn-type="dict-member" data-export data-type="CookieList" id="dom-cookiechangeeventinit-deleted"><code><c- g>deleted</c-></code></dfn>;
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-cookiechangeevent-changed" id="ref-for-dom-cookiechangeevent-changed">changed</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-cookiechangeevent-deleted" id="ref-for-dom-cookiechangeevent-deleted">deleted</a></code>
            属性必须返回它们被初始化时的值。</p>
        <h3 class="heading settled" data-level="5.2" id="ExtendableCookieChangeEvent"><span class="secno">5.2.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#extendablecookiechangeevent" id="ref-for-extendablecookiechangeevent">ExtendableCookieChangeEvent</a></code>
                接口</span><a class="self-link" href="#ExtendableCookieChangeEvent"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#extendablecookiechangeevent" id="ref-for-extendablecookiechangeevent①">ExtendableCookieChangeEvent</a></code>
            在 <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code>
            对象上分派，当发生任何与 <a data-link-type="dfn" href="#cookie-change-subscription-list"
                id="ref-for-cookie-change-subscription-list③">Cookie 更改订阅列表</a>
            匹配的 <a data-link-type="dfn" href="#script-visible" id="ref-for-script-visible⑤">脚本可见</a>的 Cookie 更改时。</p>
        <p class="note" role="note"><span class="marker">注意：</span> <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent">ExtendableEvent</a></code>
            被用作所有Service Worker事件的祖先接口，以便在执行异步操作时保持工作者本身的存活。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="extendablecookiechangeevent"><code><c- g>ExtendableCookieChangeEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent①"><c- n>ExtendableEvent</c-></a> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent" data-dfn-type="constructor" data-export data-lt="ExtendableCookieChangeEvent(type, eventInitDict)|constructor(type, eventInitDict)|ExtendableCookieChangeEvent(type)|constructor(type)" id="dom-extendablecookiechangeevent-extendablecookiechangeevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent/ExtendableCookieChangeEvent(type, eventInitDict), ExtendableCookieChangeEvent/constructor(type, eventInitDict), ExtendableCookieChangeEvent/ExtendableCookieChangeEvent(type), ExtendableCookieChangeEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendablecookiechangeeventinit" id="ref-for-dictdef-extendablecookiechangeeventinit"><c- n>ExtendableCookieChangeEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent/ExtendableCookieChangeEvent(type, eventInitDict), ExtendableCookieChangeEvent/constructor(type, eventInitDict), ExtendableCookieChangeEvent/ExtendableCookieChangeEvent(type), ExtendableCookieChangeEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject③"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array②"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem⑤"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CookieListItem>" id="dom-extendablecookiechangeevent-changed"><code><c- g>changed</c-></code></dfn>;
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject④"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array③"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem⑥"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CookieListItem>" id="dom-extendablecookiechangeevent-deleted"><code><c- g>deleted</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-extendablecookiechangeeventinit"><code><c- g>ExtendableCookieChangeEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
    <a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist④"><c- n>CookieList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEventInit" data-dfn-type="dict-member" data-export data-type="CookieList" id="dom-extendablecookiechangeeventinit-changed"><code><c- g>changed</c-></code></dfn>;
    <a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist⑤"><c- n>CookieList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEventInit" data-dfn-type="dict-member" data-export data-type="CookieList" id="dom-extendablecookiechangeeventinit-deleted"><code><c- g>deleted</c-></code></dfn>;
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-extendablecookiechangeevent-changed" id="ref-for-dom-extendablecookiechangeevent-changed">changed</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-extendablecookiechangeevent-deleted" id="ref-for-dom-extendablecookiechangeevent-deleted">deleted</a></code>
            属性必须返回它们被初始化时的值。</p>
        <h2 class="heading settled" data-level="6" id="globals"><span class="secno">6. </span><span
                class="content">全局接口</span><a class="self-link" href="#globals"></a></h2>
        <p><code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore③">CookieStore</a></code>
            可通过全局对象中的属性访问，例如 <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                    id="ref-for-window④">Window</a></code> 和 <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"
                    id="ref-for-serviceworkerglobalscope①">ServiceWorkerGlobalScope</a></code>。</p>
        <h3 class="heading settled" data-level="6.1" id="Window"><span class="secno">6.1. </span><span
                class="content"><code class="idl"><a data-link-type="idl"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                        id="ref-for-window⑤">Window</a></code>
                接口</span><a class="self-link" href="#Window"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑥"><c- g>Window</c-></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑤"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestore" id="ref-for-cookiestore④"><c- n>CookieStore</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStore" href="#dom-window-cookiestore" id="ref-for-dom-window-cookiestore②"><c- g>cookieStore</c-></a>;
};
</pre>
        <p><code class="idl"><a data-link-type="idl"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                    id="ref-for-window⑦">Window</a></code>
            有一个 <dfn class="dfn-paneled" data-dfn-for="Window" data-dfn-type="dfn" data-noexport
                id="window-associated-cookiestore">关联的 CookieStore</dfn>，它是一个 <code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore⑤">CookieStore</a></code>。
        </p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="attribute" data-export
                id="dom-window-cookiestore"><code>cookieStore</code></dfn> getter 的步骤是返回 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a> 的
            <a data-link-type="dfn" href="#window-associated-cookiestore" id="ref-for-window-associated-cookiestore">关联的
                CookieStore</a>。
        </p>
        <h3 class="heading settled" data-level="6.2" id="ServiceWorkerGlobalScope"><span class="secno">6.2. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②">ServiceWorkerGlobalScope</a></code>
                接口</span><a class="self-link" href="#ServiceWorkerGlobalScope"></a></h3>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope③"><c- g>ServiceWorkerGlobalScope</c-></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑥"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestore" id="ref-for-cookiestore⑥"><c- n>CookieStore</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStore" href="#dom-serviceworkerglobalscope-cookiestore" id="ref-for-dom-serviceworkerglobalscope-cookiestore"><c- g>cookieStore</c-></a>;

    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-oncookiechange"><code><c- g>oncookiechange</c-></code></dfn>;
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope④">ServiceWorkerGlobalScope</a></code>
            有一个 <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="dfn" data-noexport
                id="serviceworkerglobalscope-associated-cookiestore">关联的 CookieStore</dfn>，它是一个 <code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore⑦">CookieStore</a></code>。
        </p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
                data-export id="dom-serviceworkerglobalscope-cookiestore"><code>cookieStore</code></dfn> getter 的步骤是返回
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a> 的 <a
                data-link-type="dfn" href="#serviceworkerglobalscope-associated-cookiestore"
                id="ref-for-serviceworkerglobalscope-associated-cookiestore">关联的 CookieStore</a>。
        </p>
        <h2 class="heading settled" data-level="7" id="algorithms"><span class="secno">7. </span><span
                class="content">算法</span><a class="self-link" href="#algorithms"></a></h2>
        <div class="algorithm" data-algorithm="as a timestamp">
            要将日期和时间 <var>dateTime</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="as-a-timestamp">表示为时间戳</dfn>，
            返回从 1970 年 1 月 1 日 00:00:00 UTC 到 <var>dateTime</var> 的毫秒数（假设每天恰好有 86,400,000 毫秒）。
            <p class="note" role="note"><span class="marker">注意：</span> 这与 <a data-link-type="dfn"
                    href="https://tc39.github.io/ecma262/#sec-time-values-and-time-range"
                    id="ref-for-sec-time-values-and-time-range">时间值</a>在 <a data-link-type="biblio"
                    href="#biblio-ecmascript" title="ECMAScript Language Specification">[ECMAScript]</a> 中的表示方式相同。</p>
        </div>
        <div class="algorithm" data-algorithm="date serialize">
            要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="date-serialize">序列化日期</dfn> <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp②">DOMHighResTimeStamp</a></code>
            <var>millis</var>，
            令 <var>dateTime</var> 为从 1970 年 1 月 1 日 00:00:00 UTC 开始经过 <var>millis</var> 毫秒后的日期和时间
            （假设每天恰好有 86,400,000 毫秒），
            并返回一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                id="ref-for-byte-sequence①">字节序列</a>，该序列对应于根据 <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-dates">Cookies § Dates</a> 的
            <code>cookie-date</code> 表示形式的最接近值。
        </div>
        <h3 class="heading settled" data-level="7.1" id="query-cookies-algorithm"><span class="secno">7.1. </span><span
                class="content">查询 Cookies</span><a class="self-link" href="#query-cookies-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="query cookies">
            <p>要使用 <var>url</var> 和可选的 <var>name</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="query-cookies">查询 Cookies</dfn>，运行以下步骤：</p>
            <ol>
                <li data-md>
                    <p>执行 <a href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-retrieval-model">Cookies
                            § 检索模型</a> 中定义的步骤，以使用 <var>url</var> 作为 <var>request-uri</var> 计算“从给定的 Cookie 存储中生成的
                        cookie-string”。
                        忽略 <var>cookie-string</var> 本身，但在后续步骤中使用中间的 <var>cookie-list</var>。</p>
                    <p>在这些步骤中，<var>cookie-string</var> 是为“非 HTTP”API 生成的。</p>
                <li data-md>
                    <p>令 <var>list</var> 为一个新的 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list②">列表</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate③">对于</a> <var>cookie-list</var> 中的每个 <var>cookie</var>，运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>cookie</var> 的 <a data-link-type="dfn"
                                    href="#cookie-http-only-flag" id="ref-for-cookie-http-only-flag">http-only-flag</a>
                                为 false。</p>
                        <li data-md>
                            <p>如果提供了 <var>name</var>，则运行以下步骤：</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>cookieName</var> 为对 <var>cookie</var> 的 <a data-link-type="dfn"
                                            href="#cookie-name" id="ref-for-cookie-name①">name</a> 运行 <a
                                            data-link-type="dfn"
                                            href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                                            id="ref-for-utf-8-decode-without-bom">UTF-8 无 BOM 解码</a> 的结果。</p>
                                <li data-md>
                                    <p>如果 <var>cookieName</var> 不等于 <var>name</var>，则 <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#iteration-continue"
                                            id="ref-for-iteration-continue">继续</a>。</p>
                            </ol>
                        <li data-md>
                            <p>令 <var>item</var> 为对 <var>cookie</var> 运行 <a data-link-type="dfn"
                                    href="#create-a-cookielistitem" id="ref-for-create-a-cookielistitem">创建
                                    CookieListItem</a> 的结果。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append②">追加</a> <var>item</var> 到 <var>list</var>。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>list</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="create a CookieListItem">
            <p>要从 <var>cookie</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="create-a-cookielistitem">创建一个 <code
                        class="idl"><a data-link-type="idl" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem⑦">CookieListItem</a></code></dfn>，运行以下步骤：
            </p>
            <ol>
                <li data-md>
                    <p>令 <var>name</var> 为对 <var>cookie</var> 的 <a data-link-type="dfn" href="#cookie-name"
                            id="ref-for-cookie-name②">name</a> 运行 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                            id="ref-for-utf-8-decode-without-bom①">UTF-8 无 BOM 解码</a> 的结果。</p>
                <li data-md>
                    <p>令 <var>value</var> 为对 <var>cookie</var> 的 <a data-link-type="dfn" href="#cookie-value"
                            id="ref-for-cookie-value①">value</a> 运行 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                            id="ref-for-utf-8-decode-without-bom②">UTF-8 无 BOM 解码</a> 的结果。</p>
                <li data-md>
                    <p>令 <var>domain</var> 为对 <var>cookie</var> 的 <a data-link-type="dfn" href="#cookie-domain"
                            id="ref-for-cookie-domain">domain</a> 运行 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                            id="ref-for-utf-8-decode-without-bom③">UTF-8 无 BOM 解码</a> 的结果。</p>
                <li data-md>
                    <p>令 <var>path</var> 为对 <var>cookie</var> 的 <a data-link-type="dfn" href="#cookie-path"
                            id="ref-for-cookie-path">path</a> 运行 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                            id="ref-for-utf-8-decode-without-bom④">UTF-8 无 BOM 解码</a> 的结果。</p>
                <li data-md>
                    <p>令 <var>expires</var> 为 <var>cookie</var> 的 <a data-link-type="dfn" href="#cookie-expiry-time"
                            id="ref-for-cookie-expiry-time">expiry-time</a>（<a data-link-type="dfn"
                            href="#as-a-timestamp" id="ref-for-as-a-timestamp">作为时间戳</a>）。</p>
                <li data-md>
                    <p>令 <var>secure</var> 为 <var>cookie</var> 的 <a data-link-type="dfn" href="#cookie-secure-only-flag"
                            id="ref-for-cookie-secure-only-flag">secure-only-flag</a>。</p>
                <li data-md>
                    <p>根据 <var>cookie</var> 的 <a data-link-type="dfn" href="#cookie-same-site-flag"
                            id="ref-for-cookie-same-site-flag">same-site-flag</a> 进行切换：</p>
                    <dl class="switch">
                        <dt data-md>`<code>None</code>`
                        <dd data-md>
                            <p>令 <var>sameSite</var> 为 "<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-none" id="ref-for-dom-cookiesamesite-none">none</a></code>"。
                            </p>
                        <dt data-md>`<code>Strict</code>`
                        <dd data-md>
                            <p>令 <var>sameSite</var> 为 "<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-strict" id="ref-for-dom-cookiesamesite-strict②">strict</a></code>"。
                            </p>
                        <dt data-md>`<code>Lax</code>`
                        <dd data-md>
                            <p>令 <var>sameSite</var> 为 "<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-lax" id="ref-for-dom-cookiesamesite-lax">lax</a></code>"。
                            </p>
                    </dl>
                <li data-md>
                    <p>令 <var>partitioned</var> 为一个布尔值，指示用户代理是否支持 <a href="https://github.com/privacycg/CHIPS">Cookie
                            分区</a>，并且 <var>cookie</var> 是否具有分区键。</p>
                <li data-md>
                    <p>返回 «[
                        "name" → <var>name</var>,
                        "value" → <var>value</var>,
                        "domain" → <var>domain</var>,
                        "path" → <var>path</var>,
                        "expires" → <var>expires</var>,
                        "secure" → <var>secure</var>,
                        "sameSite" → <var>sameSite</var>,
                        "partitioned" → <var>partitioned</var> ]»</p>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span> <var>cookie</var> 的 <a data-link-type="dfn"
                    href="#cookie-creation-time" id="ref-for-cookie-creation-time">creation-time</a>、<a
                    data-link-type="dfn" href="#cookie-last-access-time"
                    id="ref-for-cookie-last-access-time">last-access-time</a>、<a data-link-type="dfn"
                    href="#cookie-persistent-flag" id="ref-for-cookie-persistent-flag">persistent-flag</a>、<a
                    data-link-type="dfn" href="#cookie-host-only-flag"
                    id="ref-for-cookie-host-only-flag">host-only-flag</a> 和 <a data-link-type="dfn"
                    href="#cookie-http-only-flag" id="ref-for-cookie-http-only-flag①">http-only-flag</a> 属性不会暴露给脚本。</p>
        </div>
        <h3 class="heading settled" data-level="7.2" id="set-cookie-algorithm"><span class="secno">7.2. </span><span
                class="content">设置 Cookie</span><a class="self-link" href="#set-cookie-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="set a cookie">
            <p>要使用 <var>url</var>、<var>name</var>、<var>value</var>，可选的
                <var>expires</var>、<var>domain</var>、<var>path</var>、<var>sameSite</var> 和 <var>partitioned</var> <dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-a-cookie">设置 Cookie</dfn>，运行以下步骤：
            </p>
            <ol>
                <li data-md>
                    <p>如果 <var>name</var> 或 <var>value</var> 包含 U+003B (;)，或包含除 U+0009 TAB 外的任意 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#c0-control" id="ref-for-c0-control">C0 控制字符</a>，或
                        U+007F DELETE，则返回失败。</p>
                    <p class="issue" id="issue-d93c44be"><a class="self-link" href="#issue-d93c44be"></a>
                        注意，目前还在讨论这些字符限制是否也应适用于 <var>expires</var>、<var>domain</var>、<var>path</var> 和
                        <var>sameSite</var>。<a
                            href="https://github.com/httpwg/http-extensions/issues/1593">[httpwg/http-extensions Issue
                            #1593]</a>
                    </p>
                <li data-md>
                    <p>如果 <var>name</var> 包含 U+003D (=)，则返回失败。</p>
                <li data-md>
                    <p>如果 <var>name</var> 的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length"
                            id="ref-for-string-length">长度</a>为 0：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>value</var> 包含 U+003D (=)，则返回失败。</p>
                        <li data-md>
                            <p>如果 <var>value</var> 的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#string-length"
                                    id="ref-for-string-length①">长度</a>为 0，则返回失败。</p>
                        <li data-md>
                            <p>如果 <var>value</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-lowercase"
                                    id="ref-for-byte-lowercase">字节小写</a>后，<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                                    id="ref-for-byte-sequence-starts-with">以</a>
                                `<code>__host-</code>`、`<code>__hosthttp-</code>`、`<code>__http-</code>` 或
                                `<code>__secure-</code>` 开头，则返回失败。</p>
                    </ol>
                <li data-md>
                    <p>如果 <var>name</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-lowercase"
                            id="ref-for-byte-lowercase①">字节小写</a>后，<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                            id="ref-for-byte-sequence-starts-with①">以</a> `<code>__http-</code>` 或
                        `<code>__hosthttp-</code>` 开头，则返回失败。</p>
                <li data-md>
                    <p>令 <var>encodedName</var> 为 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode">UTF-8
                            编码</a>后的 <var>name</var>。</p>
                <li data-md>
                    <p>令 <var>encodedValue</var> 为 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode①">UTF-8
                            编码</a>后的 <var>value</var>。</p>
                <li data-md>
                    <p>如果 <var>encodedName</var> 的<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence②">字节序列</a>的<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length">长度</a>加上 <var>encodedValue</var> 的<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence③">字节序列</a>的<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length①">长度</a>大于<a data-link-type="dfn"
                            href="#cookie-maximum-name-value-pair-size"
                            id="ref-for-cookie-maximum-name-value-pair-size">最大 name/value 对长度</a>，则返回失败。</p>
                <li data-md>
                    <p>令 <var>host</var> 为 <var>url</var> 的<a data-link-type="dfn"
                            href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host">主机</a>。
                    </p>
                <li data-md>
                    <p>令 <var>attributes</var> 为一个新的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list③">列表</a>。</p>
                <li data-md>
                    <p>如果 <var>domain</var> 不为 null，则执行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>domain</var> 以 U+002E (.) 开头，则返回失败。</p>
                        <li data-md>
                            <p>如果 <var>name</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-lowercase"
                                    id="ref-for-byte-lowercase②">字节小写</a>后，<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                                    id="ref-for-byte-sequence-starts-with②">以</a> `<code>__host-</code>` 开头，则返回失败。</p>
                        <li data-md>
                            <p>如果 <var>domain</var> <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/browsers.html#is-a-registrable-domain-suffix-of-or-is-equal-to"
                                    id="ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to">不是</a> <var>host</var>
                                的可注册域后缀且不等于 <var>host</var>，则返回失败。</p>
                        <li data-md>
                            <p>令 <var>parsedDomain</var> 为 <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-host-parser"
                                    id="ref-for-concept-host-parser">主机解析</a> <var>domain</var> 的结果。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>parsedDomain</var> 不为失败。</p>
                        <li data-md>
                            <p>令 <var>encodedDomain</var> 为 <a data-link-type="dfn"
                                    href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                    id="ref-for-utf-8-encode②">UTF-8 编码</a>后的 <var>parsedDomain</var>。</p>
                        <li data-md>
                            <p>如果 <var>encodedDomain</var> 的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequence④">字节序列</a>的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                    id="ref-for-byte-sequence-length②">长度</a>大于<a data-link-type="dfn"
                                    href="#cookie-maximum-attribute-value-size"
                                    id="ref-for-cookie-maximum-attribute-value-size">最大属性值长度</a>，则返回失败。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append③">追加</a> `<code>Domain</code>`/<var>encodedDomain</var> 至
                                <var>attributes</var>。
                            </p>
                    </ol>
                <li data-md>
                    <p>如果给定了 <var>expires</var>，则<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">追加</a>
                        `<code>Expires</code>`/<var>expires</var>（<a data-link-type="dfn" href="#date-serialize"
                            id="ref-for-date-serialize">序列化日期</a>）到 <var>attributes</var>。</p>
                <li data-md>
                    <p>如果 <var>path</var> 不为 null：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>path</var> 不以 U+002F (/) 开头，则返回失败。</p>
                        <li data-md>
                            <p>如果 <var>path</var> 不是 U+002F (/) 且 <var>name</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-lowercase"
                                    id="ref-for-byte-lowercase③">字节小写</a>后，<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                                    id="ref-for-byte-sequence-starts-with③">以</a> `<code>__host-</code>` 开头，则返回失败。</p>
                        <li data-md>
                            <p>令 <var>encodedPath</var> 为 <a data-link-type="dfn"
                                    href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                    id="ref-for-utf-8-encode③">UTF-8 编码</a>后的 <var>path</var>。</p>
                        <li data-md>
                            <p>如果 <var>encodedPath</var> 的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequence⑤">字节序列</a>的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                    id="ref-for-byte-sequence-length③">长度</a>大于<a data-link-type="dfn"
                                    href="#cookie-maximum-attribute-value-size"
                                    id="ref-for-cookie-maximum-attribute-value-size①">最大属性值长度</a>，则返回失败。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append⑤">追加</a> `<code>Path</code>`/<var>encodedPath</var> 到
                                <var>attributes</var>。
                            </p>
                    </ol>
                <li data-md>
                    <p>否则，<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append⑥">追加</a> `<code>Path</code>`/ U+002F (/) 到 <var>attributes</var>。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append⑦">追加</a> `<code>Secure</code>`/`` 到 <var>attributes</var>。</p>
                <li data-md>
                    <p>根据 <var>sameSite</var> 的值，执行如下操作：</p>
                    <dl class="switch">
                        <dt data-md>"<code
                                class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-none" id="ref-for-dom-cookiesamesite-none①">none</a></code>"
                        <dd data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append⑧">追加</a> `<code>SameSite</code>`/`<code>None</code>` 到
                                <var>attributes</var>。
                            </p>
                        <dt data-md>"<code
                                class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-strict" id="ref-for-dom-cookiesamesite-strict③">strict</a></code>"
                        <dd data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append⑨">追加</a> `<code>SameSite</code>`/`<code>Strict</code>` 到
                                <var>attributes</var>。
                            </p>
                        <dt data-md>"<code
                                class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-lax" id="ref-for-dom-cookiesamesite-lax①">lax</a></code>"
                        <dd data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append①⓪">追加</a> `<code>SameSite</code>`/`<code>Lax</code>` 到
                                <var>attributes</var>。
                            </p>
                    </dl>
                <li data-md>
                    <p>如果 <var>partitioned</var> 为 true，<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">追加</a>
                        `<code>Partitioned</code>`/`` 到 <var>attributes</var>。</p>
                <li data-md>
                    <p>按照 <a href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-storage-model">Cookies
                            § 存储模型</a>中“用户代理接收到 cookie”时的步骤执行，
                        <var>url</var> 作为 <var>request-uri</var>，
                        <var>encodedName</var> 作为 <var>cookie-name</var>，
                        <var>encodedValue</var> 作为 <var>cookie-value</var>，
                        <var>attributes</var> 作为 <var>cookie-attribute-list</var>。
                    </p>
                    <p>就这些步骤而言，新创建的 cookie 被视为来自“非 HTTP”API。</p>
                <li data-md>
                    <p>返回成功。</p>
                    <p class="note" role="note"><span class="marker">注意：</span>由于 <a data-link-type="biblio"
                            href="#biblio-rfc6265bis-14"
                            title="Cookies: HTTP State Management Mechanism">[RFC6265BIS-14]</a> 中的要求，存储 cookie 可能仍然会失败，
                        但这些步骤将视为已成功。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.3" id="delete-cookie-algorithm"><span class="secno">7.3. </span><span
                class="content">删除 Cookie</span><a class="self-link" href="#delete-cookie-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="delete a cookie">
            <p>要使用 <var>url</var>、<var>name</var>、<var>domain</var>、<var>path</var> 和 <var>partitioned</var> <dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-noexport id="delete-a-cookie">删除 Cookie</dfn>，运行以下步骤：
            </p>
            <ol>
                <li data-md>
                    <p>令 <var>expires</var> 为最早可表示的日期，表示为 <a data-link-type="dfn" href="#as-a-timestamp"
                            id="ref-for-as-a-timestamp①">时间戳</a>。</p>
                    <p class="note" role="note"><span class="marker">注意：</span> 对于此算法的目的，<var>expires</var>
                        的确切值并不重要，只要它是过去的时间即可。</p>
                <li data-md>
                    <p>令 <var>value</var> 为空字符串。</p>
                <li data-md>
                    <p>如果 <var>name</var> 的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length"
                            id="ref-for-string-length②">长度</a>为 0，则将 <var>value</var> 设置为任意非空的<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#implementation-defined"
                            id="ref-for-implementation-defined">实现定义</a>的字符串。</p>
                <li data-md>
                    <p>令 <var>sameSite</var> 为 "<code
                            class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-strict" id="ref-for-dom-cookiesamesite-strict④">strict</a></code>"。
                    </p>
                    <p class="note" role="note"><span class="marker">注意：</span> 此算法不会持久化 <var>value</var> 和
                        <var>sameSite</var> 的值。
                    </p>
                <li data-md>
                    <p>返回运行 <a data-link-type="dfn" href="#set-a-cookie" id="ref-for-set-a-cookie②">设置 Cookie</a> 的结果，使用
                        <var>url</var>、<var>name</var>、<var>value</var>、<var>expires</var>、<var>domain</var>、<var>path</var>、<var>sameSite</var>
                        和 <var>partitioned</var>。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.4" id="process-changes"><span class="secno">7.4. </span><span
                class="content">处理更改</span><a class="self-link" href="#process-changes"></a></h3>
        <div class="algorithm" data-algorithm="process cookie changes">
            <p>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-cookie-changes">处理 Cookie
                    更改</dfn>，运行以下步骤：</p>
            <ol>
                <li data-md>
                    <p>对于每个 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑧">Window</a></code>
                        <var>window</var>，运行以下步骤：
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>url</var> 为 <var>window</var> 的 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                                    id="ref-for-relevant-settings-object①⓪">相关设置对象</a> 的 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                                    id="ref-for-concept-environment-creation-url⑧">创建 URL</a>。</p>
                        <li data-md>
                            <p>令 <var>changes</var> 为 <var>url</var> 的 <a data-link-type="dfn"
                                    href="#observable-changes" id="ref-for-observable-changes">可观察更改</a>。</p>
                        <li data-md>
                            <p>如果 <var>changes</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-is-empty"
                                    id="ref-for-list-is-empty②">为空</a>，则 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue①">继续</a>。</p>
                        <li data-md>
                            <p><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                    id="ref-for-queue-a-global-task">在全局任务队列中排队</a>一个任务，使用 <var>window</var>，以 <a
                                    data-link-type="dfn" href="#fire-a-change-event"
                                    id="ref-for-fire-a-change-event">触发一个更改事件</a>，事件名称为 "<code>change</code>"，并将
                                <var>changes</var> 传递给 <var>window</var> 的 <code
                                    class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore⑧">CookieStore</a></code>。
                            </p>
                    </ol>
                <li data-md>
                    <p>对于每个 <a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                            id="ref-for-dfn-service-worker-registration⑥">Service Worker注册</a>
                        <var>registration</var>，运行以下步骤：
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>changes</var> 为一个新的 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">集合</a>。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate④">对于</a> <var>registration</var> 的 <a data-link-type="dfn"
                                    href="#observable-changes" id="ref-for-observable-changes①">可观察更改</a> 中的每个
                                <var>change</var>，运行以下步骤：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>cookie</var> 为 <var>change</var> 的 Cookie。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                            id="ref-for-list-iterate⑤">对于</a> <var>registration</var> 的 <a
                                            data-link-type="dfn" href="#cookie-change-subscription-list"
                                            id="ref-for-cookie-change-subscription-list④">Cookie 更改订阅列表</a> 中的每个
                                        <var>subscription</var>，运行以下步骤：
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>如果 <var>change</var> 不在 <var>subscription</var> 的 <a data-link-type="dfn"
                                                    href="#observable-changes"
                                                    id="ref-for-observable-changes②">可观察更改</a> 中，则 <a
                                                    data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                                    id="ref-for-iteration-continue②">继续</a>。</p>
                                        <li data-md>
                                            <p>令 <var>cookieName</var> 为对 <var>cookie</var> 的 <a data-link-type="dfn"
                                                    href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                                                    id="ref-for-utf-8-decode-without-bom⑤">UTF-8 无 BOM 解码</a> 的结果。</p>
                                        <li data-md>
                                            <p>如果 <var>cookieName</var> 等于 <var>subscription</var> 的 <a
                                                    data-link-type="dfn" href="#cookie-change-subscription-name"
                                                    id="ref-for-cookie-change-subscription-name①">名称</a>，则将
                                                <var>change</var> 添加到 <var>changes</var> 并中断循环。
                                            </p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>如果 <var>changes</var> 为空，则继续。</p>
                        <li data-md>
                            <p>令 <var>changedList</var> 和 <var>deletedList</var> 为运行 <a data-link-type="dfn"
                                    href="#prepare-lists" id="ref-for-prepare-lists">准备列表</a> 的结果，使用 <var>changes</var>。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#fire-functional-event"
                                    id="ref-for-fire-functional-event">触发一个功能事件</a>，事件名称为 "<code>cookiechange</code>"，使用
                                <code
                                    class="idl"><a data-link-type="idl" href="#extendablecookiechangeevent" id="ref-for-extendablecookiechangeevent②">ExtendableCookieChangeEvent</a></code>，在
                                <var>registration</var> 上，具有以下属性：
                            </p>
                            <dl>
                                <dt data-md><code
                                        class="idl"><a data-link-type="idl" href="#dom-extendablecookiechangeevent-changed" id="ref-for-dom-extendablecookiechangeevent-changed①">changed</a></code>
                                <dd data-md>
                                    <p><var>changedList</var></p>
                                <dt data-md><code
                                        class="idl"><a data-link-type="idl" href="#dom-extendablecookiechangeevent-deleted" id="ref-for-dom-extendablecookiechangeevent-deleted①">deleted</a></code>
                                <dd data-md>
                                    <p><var>deletedList</var></p>
                            </dl>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="observable changes">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="observable-changes">可观察的更改</dfn> 是针对
                <var>url</var> 的 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                    id="ref-for-ordered-set①">集合</a>，包含对 <a data-link-type="dfn" href="#cookie"
                    id="ref-for-cookie⑤">Cookie</a> 的 <a data-link-type="dfn" href="#cookie-change"
                    id="ref-for-cookie-change">更改</a>，这些更改满足 <a
                    href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-retrieval-algorithm">Cookies
                    § 检索算法</a> 第 1 步的要求，用于计算给定 Cookie 存储的 "cookie-string"，其中 <var>url</var> 作为
                <var>request-uri</var>，适用于 "非 HTTP" API。
            </p>
        </div>
        <div class="algorithm" data-algorithm="cookie change">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cookie-change">Cookie 更改</dfn> 是一个 <a
                    data-link-type="dfn" href="#cookie" id="ref-for-cookie⑥">Cookie</a> 和一个类型（<em>更改</em> 或
                <em>删除</em>）：
            </p>
            <ul>
                <li data-md>
                    <p>如果由于插入另一个具有相同 <a data-link-type="dfn" href="#cookie-name" id="ref-for-cookie-name④">名称</a>、<a
                            data-link-type="dfn" href="#cookie-domain" id="ref-for-cookie-domain①">域</a> 和 <a
                            data-link-type="dfn" href="#cookie-path" id="ref-for-cookie-path①">路径</a> 的 <a
                            data-link-type="dfn" href="#cookie" id="ref-for-cookie⑧">Cookie</a> 而移除某个 <a
                            data-link-type="dfn" href="#cookie" id="ref-for-cookie⑦">Cookie</a>，则忽略该 Cookie。</p>
                <li data-md>
                    <p>新创建的 <a data-link-type="dfn" href="#cookie" id="ref-for-cookie⑨">Cookie</a> 如果未立即被驱逐，则视为
                        <em>更改</em>。
                    </p>
                <li data-md>
                    <p>新创建的 <a data-link-type="dfn" href="#cookie" id="ref-for-cookie①⓪">Cookie</a> 如果立即被驱逐，则视为
                        <em>删除</em>。
                    </p>
                <li data-md>
                    <p>其他被驱逐或移除的 <a data-link-type="dfn" href="#cookie" id="ref-for-cookie①①">Cookie</a> 视为 <em>删除</em>。
                    </p>
            </ul>
        </div>
        <div class="algorithm" data-algorithm="fire a change event">
            <p>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-change-event">触发更改事件</dfn>，事件名称为
                <var>type</var>，更改为 <var>changes</var>，目标为 <var>target</var>，运行以下步骤：
            </p>
            <ol>
                <li data-md>
                    <p>令 <var>event</var> 为使用 <code
                            class="idl"><a data-link-type="idl" href="#cookiechangeevent" id="ref-for-cookiechangeevent②">CookieChangeEvent</a></code>
                        创建的 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create"
                            id="ref-for-concept-event-create">事件</a>。</p>
                <li data-md>
                    <p>将 <var>event</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type">type</a></code>
                        属性设置为 <var>type</var>。</p>
                <li data-md>
                    <p>将 <var>event</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-bubbles" id="ref-for-dom-event-bubbles">bubbles</a></code>
                        和 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-cancelable" id="ref-for-dom-event-cancelable">cancelable</a></code>
                        属性设置为 false。</p>
                <li data-md>
                    <p>令 <var>changedList</var> 和 <var>deletedList</var> 为运行 <a data-link-type="dfn"
                            href="#prepare-lists" id="ref-for-prepare-lists①">准备列表</a> 的结果，使用 <var>changes</var>。</p>
                <li data-md>
                    <p>将 <var>event</var> 的 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiechangeevent-changed" id="ref-for-dom-cookiechangeevent-changed①">changed</a></code>
                        属性设置为 <var>changedList</var>。</p>
                <li data-md>
                    <p>将 <var>event</var> 的 <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiechangeevent-deleted" id="ref-for-dom-cookiechangeevent-deleted①">deleted</a></code>
                        属性设置为 <var>deletedList</var>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                            id="ref-for-concept-event-dispatch②">分派</a> <var>event</var> 到 <var>target</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="prepare lists">
            <p>要从 <var>changes</var> 中 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="prepare-lists">准备列表</dfn>，运行以下步骤：</p>
            <ol>
                <li data-md>
                    <p>令 <var>changedList</var> 为一个新的 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list④">列表</a>。</p>
                <li data-md>
                    <p>令 <var>deletedList</var> 为一个新的 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list⑤">列表</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate⑥">对于</a> <var>changes</var> 中的每个 <var>change</var>，运行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>item</var> 为运行 <a data-link-type="dfn" href="#create-a-cookielistitem"
                                    id="ref-for-create-a-cookielistitem①">创建 CookieListItem</a> 的结果，使用 <var>change</var>
                                的 cookie。</p>
                        <li data-md>
                            <p>如果 <var>change</var> 的类型是 <em>changed</em>，则 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①②">追加</a>
                                <var>item</var> 到 <var>changedList</var>。
                            </p>
                        <li data-md>
                            <p>否则，运行以下步骤：</p>
                            <ol>
                                <li data-md>
                                    <p>将 <var>item</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookielistitem-value" id="ref-for-dom-cookielistitem-value">value</a></code>"]
                                        设置为 undefined。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                            id="ref-for-list-append①③">追加</a> <var>item</var> 到 <var>deletedList</var>。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 <var>changedList</var> 和 <var>deletedList</var>。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="8" id="security"><span class="secno">8. </span><span
                class="content">安全注意事项</span><a class="self-link" href="#security"></a></h2>
        <p>除了Service Worker上下文中的 Cookie 访问外，此 API 并不打算向 Web 暴露任何新功能。</p>
        <h3 class="heading settled" data-level="8.1" id="gotcha"><span class="secno">8.1. </span><span
                class="content">注意事项</span><a class="self-link" href="#gotcha"></a></h3>
        <p>尽管浏览器的 Cookie 实现正在朝着更好的安全性和更少的意外和易出错的默认值方向发展，但目前对 Cookie 数据安全性几乎没有保证。</p>
        <ul>
            <li data-md>
                <p>非安全来源通常可以覆盖安全来源使用的 Cookie</p>
            <li data-md>
                <p>超级域通常可以覆盖子域看到的 Cookie</p>
            <li data-md>
                <p>跨站脚本攻击和其他脚本与头部注入攻击也可以用来伪造 Cookie</p>
            <li data-md>
                <p>Cookie 读取操作（无论是来自脚本还是 Web 服务器）都不会指示 Cookie 的来源</p>
            <li data-md>
                <p>浏览器有时会以令人惊讶且违反直觉的方式截断、转换或驱逐 Cookie 数据</p>
                <ul>
                    <li data-md>
                        <p>... 由于达到存储限制</p>
                    <li data-md>
                        <p>... 由于字符编码差异</p>
                    <li data-md>
                        <p>... 由于 Cookie 的语法和语义规则不同</p>
                </ul>
        </ul>
        <p>因此，最好在解释任何 Cookie 的值时保持谨慎，且永远不要将 Cookie 的值作为脚本、HTML、CSS、XML、PDF 或任何其他可执行格式执行。</p>
        <h3 class="heading settled" data-level="8.2" id="restrict"><span class="secno">8.2. </span><span
                class="content">限制？</span><a class="self-link" href="#restrict"></a></h3>
        <p>此 API 可能会意外地使 Cookie 更易于使用，从而鼓励其进一步使用。如果它导致在 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                id="ref-for-non-secure-context">非安全上下文</a> 中的进一步使用，这可能会导致对用户而言更不安全的 Web。因此，此 API 已被限制为仅在 <a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                id="ref-for-secure-context">安全上下文</a> 中使用。</p>
        <h3 class="heading settled" data-level="8.3" id="secure-cookies"><span class="secno">8.3. </span><span
                class="content">安全 Cookie</span><a class="self-link" href="#secure-cookies"></a></h3>
        <p><em>本节为非规范性内容。</em></p>
        <p>此 API 仅允许写入 <code>Secure</code> Cookie，以鼓励围绕安全性做出更好的决策。然而，该 API 仍允许读取非 <code>Secure</code> Cookie，以便于迁移到
            <code>Secure</code> Cookie。作为副作用，当使用此 API 获取和修改非 <code>Secure</code> Cookie 时，该非 <code>Secure</code> Cookie
            将自动修改为 <code>Secure</code>。
        </p>
        <h3 class="heading settled" data-level="8.4" id="surprises"><span class="secno">8.4. </span><span
                class="content">意外行为</span><a class="self-link" href="#surprises"></a></h3>
        <p>某些现有的 Cookie 行为（尤其是基于域而非来源的取向、<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                id="ref-for-non-secure-context①">非安全上下文</a> 能够设置在 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                id="ref-for-secure-context①">安全上下文</a> 中可读的 Cookie，以及脚本能够设置在脚本上下文中不可读的 Cookie）从 Web 安全的角度来看可能非常令人意外。</p>
        <p>其他意外行为记录在 <a href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-introduction">Cookies §
                Introduction</a> 中，例如，可以为超级域设置 Cookie（例如，app.example.com 可以为整个 example.com 域设置 Cookie），并且 Cookie
            可以跨给定域名的所有端口号读取。</p>
        <p>进一步复杂化的是主要浏览器在 Cookie 处理上的历史差异，尽管其中一些（例如端口号处理）现在比以前更一致。</p>
        <h3 class="heading settled" data-level="8.5" id="prefixes"><span class="secno">8.5. </span><span
                class="content">前缀</span><a class="self-link" href="#prefixes"></a></h3>
        <p>在可行的情况下，示例使用了 <code>__Host-</code> 和 <code>__Secure-</code> 名称前缀，这会导致某些当前浏览器禁止从 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                id="ref-for-non-secure-context②">非安全上下文</a> 覆盖，禁止没有 <code>Secure</code> 标志的覆盖，并且在 <code>__Host-</code>
            的情况下，禁止具有显式 <code>Domain</code> 或非 '/' <code>Path</code> 属性的覆盖（有效地强制执行同源语义）。这些前缀在实现安全 Cookie
            的浏览器中提供了重要的安全优势，并在其他浏览器中优雅降级（即，特殊语义可能不会在其他 Cookie API 中强制执行，但 Cookie 正常工作，异步 Cookie API 在写操作中强制执行安全语义）。不过，此
            API 的一个主要目标是与现有 Cookie 的互操作性，因此也提供了一些未使用这些前缀的 Cookie 名称示例。</p>
        <p>前缀规则也由此 API 在写操作中强制执行，但可能不会在同一浏览器的其他 API 中强制执行。因此，在这些规则被更广泛采用之前，不建议过于依赖它们的强制执行。</p>
        <h3 class="heading settled" data-level="8.6" id="url-scoping"><span class="secno">8.6. </span><span
                class="content">URL 范围</span><a class="self-link" href="#url-scoping"></a></h3>
        <p>尽管Service Worker脚本今天无法直接访问 Cookie，但它已经可以使用受控渲染的范围内 HTML 和脚本资源，在Service Worker脚本的远程控制下注入 Cookie 监控代码。这意味着在Service Worker范围内访问 Cookie
            在技术上已经可能，只是并不十分方便。</p>
        <p>当Service Worker的范围比 <code>/</code> 更窄时，它仍然可以通过成功猜测/构造允许 IFRAME 的 404 页面 URL 并在其中运行脚本来读取其范围路径空间之外的路径范围
            Cookie。同样的技术可以扩展到整个来源，但精心构建的网站（一个没有超出范围页面可被 IFRAME 的网站）实际上可以今天拒绝路径范围Service Worker的这种能力，而我不愿意在没有进一步讨论其影响的情况下移除这种限制。
        </p>
        <h3 class="heading settled" data-level="8.7" id="aversion"><span class="secno">8.7. </span><span
                class="content">Cookie 厌恶</span><a class="self-link" href="#aversion"></a></h3>
        <p>为了减少开发人员的复杂性并消除对临时测试 Cookie 的需求，此异步 Cookie API 将明确拒绝在操作将被忽略时写入或删除 Cookie 的尝试。同样，它将明确拒绝在操作将忽略实际 Cookie 数据并模拟空
            Cookie Jar 时读取 Cookie 的尝试。在这些上下文中尝试观察 Cookie 更改仍然“有效”，但不会调用回调，直到读取访问被允许（例如，由于站点权限更改）。</p>
        <p>今天，在脚本启动的 Cookie 写入被禁止的上下文中写入 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie③">document.cookie</a></code>
            通常是无操作的。然而，许多 Cookie 写入脚本和框架总是写入一个测试 Cookie，然后检查其存在性以确定是否可以进行脚本启动的 Cookie 写入。</p>
        <p>同样，今天在脚本启动的 Cookie 读取被禁止的上下文中读取 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie④">document.cookie</a></code>
            通常返回一个空字符串。然而，一个合作的 Web 服务器可以验证服务器启动的 Cookie 写入和读取是否有效，并将此报告给脚本（脚本仍然看到空字符串），脚本可以使用此信息推断脚本启动的 Cookie 读取被禁止。
        </p>
        <h2 class="heading settled" data-level="9" id="privacy"><span class="secno">9. </span><span
                class="content">隐私注意事项</span><a class="self-link" href="#privacy"></a></h2>
        <h3 class="heading settled" data-level="9.1" id="clear-cookies"><span class="secno">9.1. </span><span
                class="content">清除 Cookie</span><a class="self-link" href="#clear-cookies"></a></h3>
        <p><em>本节为非规范性内容。</em></p>
        <p>当用户清除某个来源的 Cookie 时，用户代理需要清除该来源的所有存储，包括该来源的Service Worker和 DOM 可访问的存储。这是为了防止网站在用户执行此操作后，通过持久存储恢复任何用户标识符。</p>
        <h2 class="heading settled" data-level="10" id="acknowledgements"><span class="secno">10. </span><span
                class="content">致谢</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>感谢 Benjamin Sittler，他为此 API 创建了初始提案。</p>
        <p>特别感谢以下人员帮助完善此提案：</p>
        <p>
            Adam Barth,
            Alex Russell,
            Andrea Marchesini,
            Andrew Williams,
            Anne van Kesteren,
            Ben Kelly,
            Craig Francis,
            Daniel Appelquist,
            Daniel Murphy,
            Domenic Denicola,
            Elliott Sprehn,
            Fagner Brack,
            Jake Archibald,
            Joel Weinberger,
            Kenneth Rohde Christiansen,
            Lukasz Olejnik,
            Marijn Kruisselbrink, 和
            Mike West。
        </p>
        <p>特别感谢 Tab Atkins, Jr. 创建并维护了 <a
                href="https://github.com/tabatkins/bikeshed">Bikeshed</a>，这是用于创建本文档的规范编写工具，并感谢他提供的通用编写建议。</p>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文档约定</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>一致性要求通过描述性断言和 RFC 2119 术语的组合来表达。
            规范性部分中的关键字 “MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD NOT”、“RECOMMENDED”、“MAY” 和
            “OPTIONAL”
            应按照 RFC 2119 中的描述进行解释。
            然而，为了可读性，这些词在本规范中并未全部以大写字母出现。</p>
        <p>本规范的所有文本均为规范性内容，除非明确标记为非规范性内容的章节、示例和注释。<a data-link-type="biblio" href="#biblio-rfc2119"
                title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>
        </p>
        <p>本规范中的示例以“例如”一词引入，或者通过 <code>class="example"</code> 与规范性文本区分开来，例如：</p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>这是一个信息性示例。</p>
        </div>
        <p>信息性注释以“注意”一词开头，并通过 <code>class="note"</code> 与规范性文本区分开来，例如：</p>
        <p class="note" role="note">注意，这是一个信息性注释。</p>
    </div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this
            specification</span><a class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#as-a-timestamp">as a timestamp</a><span>, in § 7</span>
        <li>
            associated CookieStore
            <ul>
                <li><a href="#serviceworkerglobalscope-associated-cookiestore">dfn for
                        ServiceWorkerGlobalScope</a><span>, in § 6.2</span>
                <li><a href="#window-associated-cookiestore">dfn for Window</a><span>, in § 6.1</span>
            </ul>
        <li>
            changed
            <ul>
                <li><a href="#dom-cookiechangeevent-changed">attribute for CookieChangeEvent</a><span>, in § 5.1</span>
                <li><a href="#dom-extendablecookiechangeevent-changed">attribute for
                        ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
                <li><a href="#dom-cookiechangeeventinit-changed">dict-member for CookieChangeEventInit</a><span>, in
                        § 5.1</span>
                <li><a href="#dom-extendablecookiechangeeventinit-changed">dict-member for
                        ExtendableCookieChangeEventInit</a><span>, in § 5.2</span>
            </ul>
        <li>
            constructor(type)
            <ul>
                <li><a href="#dom-cookiechangeevent-cookiechangeevent">constructor for CookieChangeEvent</a><span>, in
                        § 5.1</span>
                <li><a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent">constructor for
                        ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
            </ul>
        <li>
            constructor(type, eventInitDict)
            <ul>
                <li><a href="#dom-cookiechangeevent-cookiechangeevent">constructor for CookieChangeEvent</a><span>, in
                        § 5.1</span>
                <li><a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent">constructor for
                        ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
            </ul>
        <li><a href="#cookie">cookie</a><span>, in § 2.1</span>
        <li><a href="#cookie-change">cookie change</a><span>, in § 7.4</span>
        <li><a href="#cookiechangeevent">CookieChangeEvent</a><span>, in § 5.1</span>
        <li><a href="#dictdef-cookiechangeeventinit">CookieChangeEventInit</a><span>, in § 5.1</span>
        <li><a href="#dom-cookiechangeevent-cookiechangeevent">CookieChangeEvent(type)</a><span>, in § 5.1</span>
        <li><a href="#dom-cookiechangeevent-cookiechangeevent">CookieChangeEvent(type, eventInitDict)</a><span>, in
                § 5.1</span>
        <li><a href="#cookie-change-subscription">cookie change subscription</a><span>, in § 2.3</span>
        <li><a href="#cookie-change-subscription-list">cookie change subscription list</a><span>, in § 2.3</span>
        <li><a href="#dictdef-cookieinit">CookieInit</a><span>, in § 3</span>
        <li><a href="#typedefdef-cookielist">CookieList</a><span>, in § 3</span>
        <li><a href="#dictdef-cookielistitem">CookieListItem</a><span>, in § 3</span>
        <li><a href="#dom-serviceworkerregistration-cookies">cookies</a><span>, in § 4.4</span>
        <li><a href="#enumdef-cookiesamesite">CookieSameSite</a><span>, in § 3</span>
        <li><a href="#cookie-store">cookie store</a><span>, in § 2.2</span>
        <li><a href="#cookiestore">CookieStore</a><span>, in § 3</span>
        <li>
            cookieStore
            <ul>
                <li><a href="#dom-serviceworkerglobalscope-cookiestore">attribute for
                        ServiceWorkerGlobalScope</a><span>, in § 6.2</span>
                <li><a href="#dom-window-cookiestore">attribute for Window</a><span>, in § 6.1</span>
            </ul>
        <li><a href="#dictdef-cookiestoredeleteoptions">CookieStoreDeleteOptions</a><span>, in § 3</span>
        <li><a href="#dictdef-cookiestoregetoptions">CookieStoreGetOptions</a><span>, in § 3</span>
        <li><a href="#cookiestoremanager">CookieStoreManager</a><span>, in § 4</span>
        <li><a href="#create-a-cookielistitem">create a CookieListItem</a><span>, in § 7.1</span>
        <li><a href="#cookie-creation-time">creation-time</a><span>, in § 2.1</span>
        <li><a href="#date-serialize">date serialize</a><span>, in § 7</span>
        <li><a href="#delete-a-cookie">delete a cookie</a><span>, in § 7.3</span>
        <li>
            deleted
            <ul>
                <li><a href="#dom-cookiechangeevent-deleted">attribute for CookieChangeEvent</a><span>, in § 5.1</span>
                <li><a href="#dom-extendablecookiechangeevent-deleted">attribute for
                        ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
                <li><a href="#dom-cookiechangeeventinit-deleted">dict-member for CookieChangeEventInit</a><span>, in
                        § 5.1</span>
                <li><a href="#dom-extendablecookiechangeeventinit-deleted">dict-member for
                        ExtendableCookieChangeEventInit</a><span>, in § 5.2</span>
            </ul>
        <li><a href="#dom-cookiestore-delete">delete(name)</a><span>, in § 3.4</span>
        <li><a href="#dom-cookiestore-delete-options">delete(options)</a><span>, in § 3.4</span>
        <li>
            domain
            <ul>
                <li><a href="#cookie-domain">dfn for cookie</a><span>, in § 2.1</span>
                <li><a href="#dom-cookieinit-domain">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-domain">dict-member for CookieListItem</a><span>, in § 3</span>
                <li><a href="#dom-cookiestoredeleteoptions-domain">dict-member for CookieStoreDeleteOptions</a><span>,
                        in § 3</span>
            </ul>
        <li>
            expires
            <ul>
                <li><a href="#dom-cookieinit-expires">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-expires">dict-member for CookieListItem</a><span>, in § 3</span>
            </ul>
        <li><a href="#cookie-expiry-time">expiry-time</a><span>, in § 2.1</span>
        <li><a href="#extendablecookiechangeevent">ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
        <li><a href="#dictdef-extendablecookiechangeeventinit">ExtendableCookieChangeEventInit</a><span>, in
                § 5.2</span>
        <li><a
                href="#dom-extendablecookiechangeevent-extendablecookiechangeevent">ExtendableCookieChangeEvent(type)</a><span>,
                in § 5.2</span>
        <li><a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent">ExtendableCookieChangeEvent(type,
                eventInitDict)</a><span>, in § 5.2</span>
        <li><a href="#fire-a-change-event">fire a change event</a><span>, in § 7.4</span>
        <li><a href="#dom-cookiestore-get-options">get()</a><span>, in § 3.1</span>
        <li><a href="#dom-cookiestore-getall-options">getAll()</a><span>, in § 3.2</span>
        <li><a href="#dom-cookiestore-getall">getAll(name)</a><span>, in § 3.2</span>
        <li><a href="#dom-cookiestore-getall-options">getAll(options)</a><span>, in § 3.2</span>
        <li><a href="#dom-cookiestore-get">get(name)</a><span>, in § 3.1</span>
        <li><a href="#dom-cookiestore-get-options">get(options)</a><span>, in § 3.1</span>
        <li><a href="#dom-cookiestoremanager-getsubscriptions">getSubscriptions()</a><span>, in § 4.2</span>
        <li><a href="#cookie-host-only-flag">host-only-flag</a><span>, in § 2.1</span>
        <li><a href="#cookie-http-only-flag">http-only-flag</a><span>, in § 2.1</span>
        <li><a href="#cookie-last-access-time">last-access-time</a><span>, in § 2.1</span>
        <li><a href="#dom-cookiesamesite-lax">"lax"</a><span>, in § 3</span>
        <li><a href="#cookie-maximum-attribute-value-size">maximum attribute value size</a><span>, in § 2.1</span>
        <li><a href="#cookie-maximum-name-value-pair-size">maximum name/value pair size</a><span>, in § 2.1</span>
        <li>
            name
            <ul>
                <li><a href="#cookie-name">dfn for cookie</a><span>, in § 2.1</span>
                <li><a href="#cookie-change-subscription-name">dfn for cookie change subscription</a><span>, in
                        § 2.3</span>
                <li><a href="#dom-cookieinit-name">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-name">dict-member for CookieListItem</a><span>, in § 3</span>
                <li><a href="#dom-cookiestoredeleteoptions-name">dict-member for CookieStoreDeleteOptions</a><span>, in
                        § 3</span>
                <li><a href="#dom-cookiestoregetoptions-name">dict-member for CookieStoreGetOptions</a><span>, in
                        § 3</span>
            </ul>
        <li><a href="#dom-cookiesamesite-none">"none"</a><span>, in § 3</span>
        <li><a href="#observable-changes">observable changes</a><span>, in § 7.4</span>
        <li><a href="#dom-cookiestore-onchange">onchange</a><span>, in § 3</span>
        <li><a href="#dom-serviceworkerglobalscope-oncookiechange">oncookiechange</a><span>, in § 6.2</span>
        <li>
            partitioned
            <ul>
                <li><a href="#dom-cookieinit-partitioned">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-partitioned">dict-member for CookieListItem</a><span>, in § 3</span>
                <li><a href="#dom-cookiestoredeleteoptions-partitioned">dict-member for
                        CookieStoreDeleteOptions</a><span>, in § 3</span>
            </ul>
        <li>
            path
            <ul>
                <li><a href="#cookie-path">dfn for cookie</a><span>, in § 2.1</span>
                <li><a href="#dom-cookieinit-path">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-path">dict-member for CookieListItem</a><span>, in § 3</span>
                <li><a href="#dom-cookiestoredeleteoptions-path">dict-member for CookieStoreDeleteOptions</a><span>, in
                        § 3</span>
            </ul>
        <li><a href="#cookie-persistent-flag">persistent-flag</a><span>, in § 2.1</span>
        <li><a href="#prepare-lists">prepare lists</a><span>, in § 7.4</span>
        <li><a href="#process-cookie-changes">process cookie changes</a><span>, in § 7.4</span>
        <li><a href="#query-cookies">query cookies</a><span>, in § 7.1</span>
        <li><a href="#cookiestoremanager-registration">registration</a><span>, in § 4</span>
        <li>
            sameSite
            <ul>
                <li><a href="#dom-cookieinit-samesite">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-samesite">dict-member for CookieListItem</a><span>, in § 3</span>
            </ul>
        <li><a href="#cookie-same-site-flag">same-site-flag</a><span>, in § 2.1</span>
        <li><a href="#script-visible">script-visible</a><span>, in § 2.1</span>
        <li><a href="#dom-cookielistitem-secure">secure</a><span>, in § 3</span>
        <li><a href="#cookie-secure-only-flag">secure-only-flag</a><span>, in § 2.1</span>
        <li><a href="#set-a-cookie">set a cookie</a><span>, in § 7.2</span>
        <li><a href="#dom-cookiestore-set">set(name, value)</a><span>, in § 3.3</span>
        <li><a href="#dom-cookiestore-set-options">set(options)</a><span>, in § 3.3</span>
        <li><a href="#dom-cookiesamesite-strict">"strict"</a><span>, in § 3</span>
        <li><a href="#dom-cookiestoremanager-subscribe">subscribe(subscriptions)</a><span>, in § 4.1</span>
        <li><a href="#dom-cookiestoremanager-unsubscribe">unsubscribe(subscriptions)</a><span>, in § 4.3</span>
        <li>
            url
            <ul>
                <li><a href="#cookie-change-subscription-url">dfn for cookie change subscription</a><span>, in
                        § 2.3</span>
                <li><a href="#dom-cookiestoregetoptions-url">dict-member for CookieStoreGetOptions</a><span>, in
                        § 3</span>
            </ul>
        <li>
            value
            <ul>
                <li><a href="#cookie-value">dfn for cookie</a><span>, in § 2.1</span>
                <li><a href="#dom-cookieinit-value">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-value">dict-member for CookieListItem</a><span>, in § 3</span>
            </ul>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by
            reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[DOM]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="129bdae8">Event</span>
                <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
                <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
                <li><span class="dfn-paneled" id="0c0ceb78">bubbles</span>
                <li><span class="dfn-paneled" id="8c407366">cancelable</span>
                <li><span class="dfn-paneled" id="8abfc3b6">creating an event</span>
                <li><span class="dfn-paneled" id="1372f92a">dispatch</span>
                <li><span class="dfn-paneled" id="a973e0fe">document</span>
                <li><span class="dfn-paneled" id="9d09d04c">type</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMA262]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="873e2ff8">time values</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="a3033be5">UTF-8 decode without BOM</span>
                <li><span class="dfn-paneled" id="0303e8e5">UTF-8 encode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="a33db89a">fetch</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
                <li><span class="dfn-paneled" id="5d7209e9">Window</span>
                <li><span class="dfn-paneled" id="1b5b1c0c">API base URL</span>
                <li><span class="dfn-paneled" id="a1e6e861">cookie</span>
                <li><span class="dfn-paneled" id="fa5ee9c5">creation URL</span>
                <li><span class="dfn-paneled" id="e10e7eb7">DOM manipulation task source</span>
                <li><span class="dfn-paneled" id="cc2ecc32">domain</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
                <li><span class="dfn-paneled" id="a76569bf">is a registrable domain suffix of or is equal to</span>
                <li><span class="dfn-paneled" id="5155c2d3">non-secure context</span>
                <li><span class="dfn-paneled" id="b01b1359">opaque origin</span>
                <li><span class="dfn-paneled" id="43ac8374">origin</span>
                <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
                <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
                <li><span class="dfn-paneled" id="66fd1e11">replaceState(data, unused, url)</span>
                <li><span class="dfn-paneled" id="7393da89">same origin</span>
                <li><span class="dfn-paneled" id="65181da8">secure context</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
                <li><span class="dfn-paneled" id="7b0d918d">break</span>
                <li><span class="dfn-paneled" id="f5354b9d">byte</span>
                <li><span class="dfn-paneled" id="3de9e659">byte sequence</span>
                <li><span class="dfn-paneled" id="7838e1c1">byte-lowercase</span>
                <li><span class="dfn-paneled" id="0e2d3ffe">c0 control</span>
                <li><span class="dfn-paneled" id="ae8def21">contain</span>
                <li><span class="dfn-paneled" id="f937b7b6">continue</span>
                <li><span class="dfn-paneled" id="16d07e10">for each</span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
                <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
                <li><span class="dfn-paneled" id="5afbefcd">item</span>
                <li><span class="dfn-paneled" id="36333997">length <small>(for byte sequence)</small></span>
                <li><span class="dfn-paneled" id="0fa357c3">length <small>(for string)</small></span>
                <li><span class="dfn-paneled" id="649608b9">list</span>
                <li><span class="dfn-paneled" id="99c988d6">remove</span>
                <li><span class="dfn-paneled" id="15e48c39">set</span>
                <li><span class="dfn-paneled" id="904cdc91">starts with</span>
                <li><span class="dfn-paneled" id="0e8de730">tuple</span>
            </ul>
        <li>
            <a data-link-type="biblio">[Service-Workers]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="76b107de">ExtendableEvent</span>
                <li><span class="dfn-paneled" id="5ceafb9f">ExtendableEventInit</span>
                <li><span class="dfn-paneled" id="86d2a717">ServiceWorkerGlobalScope</span>
                <li><span class="dfn-paneled" id="a51ea74c">ServiceWorkerRegistration</span>
                <li><span class="dfn-paneled" id="d2763ae9">fire a functional event</span>
                <li><span class="dfn-paneled" id="fc627dec">scope url</span>
                <li><span class="dfn-paneled" id="c60ed63a">service worker</span>
                <li><span class="dfn-paneled" id="02406c7f">service worker registration</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="9ed8b710">basic URL parser</span>
                <li><span class="dfn-paneled" id="6fbdf145">equal</span>
                <li><span class="dfn-paneled" id="aa8d681c">exclude fragments</span>
                <li><span class="dfn-paneled" id="b85ee3be">host</span>
                <li><span class="dfn-paneled" id="390a49fa">host parser</span>
                <li><span class="dfn-paneled" id="959ad97b">origin</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                <li><span class="dfn-paneled" id="c3e881ef">SecurityError</span>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
                <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
                <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
                <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="b262501e">reject</span>
                <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
                <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a
            class="self-link" href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a
            class="self-link" href="#normative"></a></h3>
    <dl>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living
            Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living
            Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-hr-time-3">[HR-TIME-3]
        <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a
                href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>. Living Standard. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-rfc6265bis-14">[RFC6265BIS-14]
        <dd>S. Bingler; M. West; J. Wilander. <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14"><cite>Cookies: HTTP State Management
                    Mechanism</cite></a>. Internet-Draft. URL: <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14">https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14</a>
        <dt id="biblio-service-workers">[Service-Workers]
        <dd>Yoshisato Yanagisawa; Monica CHINTALA. <a href="https://w3c.github.io/ServiceWorker/"><cite>Service
                    Workers</cite></a>. URL: <a
                href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard.
            URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a
            class="self-link" href="#informative"></a></h3>
    <dl>
        <dt id="biblio-ecmascript">[ECMAScript]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->),
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#cookiestore"><code><c- g>CookieStore</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-get-name-name"><code><c- g>name</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-get-options"><c- g>get</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a> <a href="#dom-cookiestore-get-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-getall"><c- g>getAll</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-getall-name-name"><code><c- g>name</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-getall-options"><c- g>getAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a> <a href="#dom-cookiestore-getall-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-set"><c- g>set</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-set-name-value-name"><code><c- g>name</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-set-name-value-value"><code><c- g>value</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-set-options"><c- g>set</c-></a>(<a data-link-type="idl-name" href="#dictdef-cookieinit"><c- n>CookieInit</c-></a> <a href="#dom-cookiestore-set-options-options"><code><c- g>options</c-></code></a>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-delete"><c- g>delete</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-delete-name-name"><code><c- g>name</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-delete-options"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="#dictdef-cookiestoredeleteoptions"><c- n>CookieStoreDeleteOptions</c-></a> <a href="#dom-cookiestore-delete-options-options"><code><c- g>options</c-></code></a>);

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-cookiestore-onchange"><code><c- g>onchange</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-cookiestoregetoptions"><code><c- g>CookieStoreGetOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookiestoregetoptions-name"><code><c- g>name</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookiestoregetoptions-url"><code><c- g>url</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-cookiesamesite"><code><c- g>CookieSameSite</c-></code></a> {
  <a href="#dom-cookiesamesite-strict"><code><c- s>"strict"</c-></code></a>,
  <a href="#dom-cookiesamesite-lax"><code><c- s>"lax"</c-></code></a>,
  <a href="#dom-cookiesamesite-none"><code><c- s>"none"</c-></code></a>
};

<c- b>dictionary</c-> <a href="#dictdef-cookieinit"><code><c- g>CookieInit</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookieinit-name"><code><c- g>name</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookieinit-value"><code><c- g>value</c-></code></a>;
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <a data-default="null" data-type="DOMHighResTimeStamp?" href="#dom-cookieinit-expires"><code><c- g>expires</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>? <a data-default="null" data-type="USVString?" href="#dom-cookieinit-domain"><code><c- g>domain</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-default="&quot;/&quot;" data-type="USVString" href="#dom-cookieinit-path"><code><c- g>path</c-></code></a> = "/";
  <a data-link-type="idl-name" href="#enumdef-cookiesamesite"><c- n>CookieSameSite</c-></a> <a data-default="&quot;strict&quot;" data-type="CookieSameSite" href="#dom-cookieinit-samesite"><code><c- g>sameSite</c-></code></a> = "strict";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cookieinit-partitioned"><code><c- g>partitioned</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-cookiestoredeleteoptions"><code><c- g>CookieStoreDeleteOptions</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookiestoredeleteoptions-name"><code><c- g>name</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>? <a data-default="null" data-type="USVString?" href="#dom-cookiestoredeleteoptions-domain"><code><c- g>domain</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-default="&quot;/&quot;" data-type="USVString" href="#dom-cookiestoredeleteoptions-path"><code><c- g>path</c-></code></a> = "/";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cookiestoredeleteoptions-partitioned"><code><c- g>partitioned</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-cookielistitem"><code><c- g>CookieListItem</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookielistitem-name"><code><c- g>name</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookielistitem-value"><code><c- g>value</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>? <a data-type="USVString?" href="#dom-cookielistitem-domain"><code><c- g>domain</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookielistitem-path"><code><c- g>path</c-></code></a>;
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <a data-type="DOMHighResTimeStamp?" href="#dom-cookielistitem-expires"><code><c- g>expires</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean" href="#dom-cookielistitem-secure"><code><c- g>secure</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-cookiesamesite"><c- n>CookieSameSite</c-></a> <a data-type="CookieSameSite" href="#dom-cookielistitem-samesite"><code><c- g>sameSite</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean" href="#dom-cookielistitem-partitioned"><code><c- g>partitioned</c-></code></a>;
};

<c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a href="#typedefdef-cookielist"><code><c- g>CookieList</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->),
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#cookiestoremanager"><code><c- g>CookieStoreManager</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-subscribe"><c- g>subscribe</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a>> <a href="#dom-cookiestoremanager-subscribe-subscriptions-subscriptions"><code><c- g>subscriptions</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-getsubscriptions"><c- g>getSubscriptions</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-unsubscribe"><c- g>unsubscribe</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a>> <a href="#dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions"><code><c- g>subscriptions</c-></code></a>);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->)]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration"><c- g>ServiceWorkerRegistration</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestoremanager"><c- n>CookieStoreManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStoreManager" href="#dom-serviceworkerregistration-cookies"><c- g>cookies</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#cookiechangeevent"><code><c- g>CookieChangeEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-cookiechangeevent-cookiechangeevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiechangeeventinit"><c- n>CookieChangeEventInit</c-></a> <a href="#dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a data-readonly data-type="FrozenArray<CookieListItem>" href="#dom-cookiechangeevent-changed"><code><c- g>changed</c-></code></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a data-readonly data-type="FrozenArray<CookieListItem>" href="#dom-cookiechangeevent-deleted"><code><c- g>deleted</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-cookiechangeeventinit"><code><c- g>CookieChangeEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a> <a data-type="CookieList" href="#dom-cookiechangeeventinit-changed"><code><c- g>changed</c-></code></a>;
  <a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a> <a data-type="CookieList" href="#dom-cookiechangeeventinit-deleted"><code><c- g>deleted</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#extendablecookiechangeevent"><code><c- g>ExtendableCookieChangeEvent</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendablecookiechangeeventinit"><c- n>ExtendableCookieChangeEventInit</c-></a> <a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a data-readonly data-type="FrozenArray<CookieListItem>" href="#dom-extendablecookiechangeevent-changed"><code><c- g>changed</c-></code></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a data-readonly data-type="FrozenArray<CookieListItem>" href="#dom-extendablecookiechangeevent-deleted"><code><c- g>deleted</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-extendablecookiechangeeventinit"><code><c- g>ExtendableCookieChangeEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a> <a data-type="CookieList" href="#dom-extendablecookiechangeeventinit-changed"><code><c- g>changed</c-></code></a>;
  <a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a> <a data-type="CookieList" href="#dom-extendablecookiechangeeventinit-deleted"><code><c- g>deleted</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestore"><c- n>CookieStore</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStore" href="#dom-window-cookiestore"><c- g>cookieStore</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"><c- g>ServiceWorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestore"><c- n>CookieStore</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStore" href="#dom-serviceworkerglobalscope-cookiestore"><c- g>cookieStore</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-oncookiechange"><code><c- g>oncookiechange</c-></code></a>;
};

</pre>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a
            class="self-link" href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> Note that it’s up for discussion whether these character restrictions should also apply to
            <var>expires</var>, <var>domain</var>, <var>path</var>, and <var>sameSite</var> as well. <a
                href="https://github.com/httpwg/http-extensions/issues/1593">[httpwg/http-extensions Issue #1593]</a> <a
                class="issue-return" href="#issue-d93c44be" title="Jump to section">↵</a>
        </div>
    </div>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiechangeevent-cookiechangeevent">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieChangeEvent/CookieChangeEvent"
                    title="The CookieChangeEvent() constructor creates a new CookieChangeEvent object which is the event type passed to CookieStore.onchange(). This constructor is called by the browser when a change event occurs.">CookieChangeEvent/CookieChangeEvent</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiechangeevent-changed">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieChangeEvent/changed"
                    title="The changed read-only property of the CookieChangeEvent interface returns an array of the cookies that have been changed.">CookieChangeEvent/changed</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiechangeevent-deleted">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieChangeEvent/deleted"
                    title="The deleted read-only property of the CookieChangeEvent interface returns an array of the cookies that have been deleted by the given CookieChangeEvent instance.">CookieChangeEvent/deleted</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="CookieChangeEvent">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieChangeEvent"
                    title="The CookieChangeEvent interface of the &apos;Cookie Store API&apos; is the event type of the change event fired at a CookieStore when any cookie changes occur. A cookie change consists of a cookie and a type (either &quot;changed&quot; or &quot;deleted&quot;).">CookieChangeEvent</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="intro-monitor">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStore/change_event"
                    title="A change event is fired at a CookieStore object when a change is made to any cookie.">CookieStore/change_event</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiestore-onchange">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStore/change_event"
                    title="A change event is fired at a CookieStore object when a change is made to any cookie.">CookieStore/change_event</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiestore-delete">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStore/delete"
                    title="The delete() method of the CookieStore interface deletes a cookie with the given name or options object. The delete() method expires the cookie by changing the date to one in the past.">CookieStore/delete</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiestore-get">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStore/get"
                    title="The get() method of the CookieStore interface returns a single cookie with the given name or options object. The method will return the first matching cookie for the passed parameters.">CookieStore/get</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiestore-getall">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStore/getAll"
                    title="The getAll() method of the CookieStore interface returns a list of cookies that match the name or options passed to it. Passing no parameters will return all cookies for the current context.">CookieStore/getAll</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiestore-set">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStore/set"
                    title="The set() method of the CookieStore interface sets a cookie with the given name and value or options object.">CookieStore/set</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="CookieStore">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStore"
                    title="The CookieStore interface of the &apos;Cookie Store API&apos; provides methods for getting and setting cookies asynchronously from either a page or a service worker.">CookieStore</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiestoremanager-getsubscriptions">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStoreManager/getSubscriptions"
                    title="The getSubscriptions() method of the CookieStoreManager interface returns a list of all the cookie change subscriptions for this ServiceWorkerRegistration.">CookieStoreManager/getSubscriptions</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiestoremanager-subscribe">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStoreManager/subscribe"
                    title="The subscribe() method of the CookieStoreManager interface subscribes a ServiceWorkerRegistration to cookie change events.">CookieStoreManager/subscribe</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-cookiestoremanager-unsubscribe">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStoreManager/unsubscribe"
                    title="The unsubscribe() method of the CookieStoreManager interface stops the ServiceWorkerRegistration from receiving previously subscribed events.">CookieStoreManager/unsubscribe</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="cookiestoremanager">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CookieStoreManager"
                    title="The CookieStoreManager interface of the &apos;Cookie Store API&apos; allows service workers to subscribe to cookie change events. Call subscribe() on a particular service worker registration to receive change events.">CookieStoreManager</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-extendablecookiechangeevent-extendablecookiechangeevent">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableCookieChangeEvent/ExtendableCookieChangeEvent"
                    title="The ExtendableCookieChangeEvent() constructor creates a new ExtendableCookieChangeEvent object which is the event type passed to ServiceWorkerRegistration.oncookiechange(). This constructor is called by the browser when a change event occurs.">ExtendableCookieChangeEvent/ExtendableCookieChangeEvent</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-extendablecookiechangeevent-changed">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableCookieChangeEvent/changed"
                    title="The changed read-only property of the ExtendableCookieChangeEvent interface returns any cookies that have been changed by the given ExtendableCookieChangeEvent instance.">ExtendableCookieChangeEvent/changed</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-extendablecookiechangeevent-deleted">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableCookieChangeEvent/deleted"
                    title="The deleted read-only property of the ExtendableCookieChangeEvent interface returns any cookies that have been deleted by the given ExtendableCookieChangeEvent instance.">ExtendableCookieChangeEvent/deleted</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ExtendableCookieChangeEvent">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableCookieChangeEvent"
                    title="The ExtendableCookieChangeEvent interface of the&apos;Cookie Store API&apos; is the event type passed to ServiceWorkerRegistration.oncookiechange() when any cookie changes occur. A cookie change event consists of a cookie and a type (either &quot;changed&quot; or &quot;deleted&quot;.)">ExtendableCookieChangeEvent</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "02406c7f": { "dfnID": "02406c7f", "dfnText": "service worker registration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-registration" }], "title": "1.5. Monitoring Cookies" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2460" }, { "id": "ref-for-dfn-service-worker-registration\u2461" }], "title": "2.3. Extensions to Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2462" }, { "id": "ref-for-dfn-service-worker-registration\u2463" }], "title": "4. The CookieStoreManager Interface" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464" }], "title": "4.4. The ServiceWorkerRegistration interface" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465" }], "title": "7.4. Process Changes" }], "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" },
                "0303e8e5": { "dfnID": "0303e8e5", "dfnText": "UTF-8 encode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }, { "id": "ref-for-utf-8-encode\u2460" }, { "id": "ref-for-utf-8-encode\u2461" }, { "id": "ref-for-utf-8-encode\u2462" }], "title": "7.2. Set a Cookie" }], "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "0c0ceb78": { "dfnID": "0c0ceb78", "dfnText": "bubbles", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-bubbles" }], "title": "7.4. Process Changes" }], "url": "https://dom.spec.whatwg.org/#dom-event-bubbles" },
                "0e2d3ffe": { "dfnID": "0e2d3ffe", "dfnText": "c0 control", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-c0-control" }], "title": "7.2. Set a Cookie" }], "url": "https://infra.spec.whatwg.org/#c0-control" },
                "0e8de730": { "dfnID": "0e8de730", "dfnText": "tuple", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-tuple" }], "title": "2.3. Extensions to Service Worker" }], "url": "https://infra.spec.whatwg.org/#tuple" },
                "0e9f636b": { "dfnID": "0e9f636b", "dfnText": "DOMHighResTimeStamp", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-domhighrestimestamp" }, { "id": "ref-for-dom-domhighrestimestamp\u2460" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-domhighrestimestamp\u2461" }], "title": "7. Algorithms" }], "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp" },
                "0fa357c3": { "dfnID": "0fa357c3", "dfnText": "length (for string)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string-length" }, { "id": "ref-for-string-length\u2460" }], "title": "7.2. Set a Cookie" }, { "refs": [{ "id": "ref-for-string-length\u2461" }], "title": "7.3. Delete a Cookie" }], "url": "https://infra.spec.whatwg.org/#string-length" },
                "129bdae8": { "dfnID": "129bdae8", "dfnText": "Event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event" }], "title": "5.1. The CookieChangeEvent interface" }], "url": "https://dom.spec.whatwg.org/#event" },
                "1372f92a": { "dfnID": "1372f92a", "dfnText": "dispatch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-dispatch" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2460" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2461" }], "title": "7.4. Process Changes" }], "url": "https://dom.spec.whatwg.org/#concept-event-dispatch" },
                "15e48c39": { "dfnID": "15e48c39", "dfnText": "set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }, { "id": "ref-for-ordered-set\u2460" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "16d07e10": { "dfnID": "16d07e10", "dfnText": "for each", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2461" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2462" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }, { "id": "ref-for-list-iterate\u2464" }, { "id": "ref-for-list-iterate\u2465" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "1b5b1c0c": { "dfnID": "1b5b1c0c", "dfnText": "API base URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-api-base-url" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-api-base-url\u2460" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-api-base-url\u2461" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-api-base-url\u2462" }], "title": "4.3. The unsubscribe() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" },
                "2bc0cdf4": { "dfnID": "2bc0cdf4", "dfnText": "EventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "3. The CookieStore Interface" }], "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "36333997": { "dfnID": "36333997", "dfnText": "length (for byte sequence)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-length" }, { "id": "ref-for-byte-sequence-length\u2460" }, { "id": "ref-for-byte-sequence-length\u2461" }, { "id": "ref-for-byte-sequence-length\u2462" }], "title": "7.2. Set a Cookie" }], "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "390a49fa": { "dfnID": "390a49fa", "dfnText": "host parser", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-host-parser" }], "title": "7.2. Set a Cookie" }], "url": "https://url.spec.whatwg.org/#concept-host-parser" },
                "3b90bdcd": { "dfnID": "3b90bdcd", "dfnText": "resolve", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolve" }, { "id": "ref-for-resolve\u2460" }, { "id": "ref-for-resolve\u2461" }, { "id": "ref-for-resolve\u2462" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-resolve\u2463" }, { "id": "ref-for-resolve\u2464" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-resolve\u2465" }, { "id": "ref-for-resolve\u2466" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-resolve\u2467" }, { "id": "ref-for-resolve\u2468" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u24ea" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2461" }], "title": "4.3. The unsubscribe() method" }], "url": "https://webidl.spec.whatwg.org/#resolve" },
                "3de9e659": { "dfnID": "3de9e659", "dfnText": "byte sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }], "title": "2.1. Cookie" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460" }], "title": "7. Algorithms" }, { "refs": [{ "id": "ref-for-byte-sequence\u2461" }, { "id": "ref-for-byte-sequence\u2462" }, { "id": "ref-for-byte-sequence\u2463" }, { "id": "ref-for-byte-sequence\u2464" }], "title": "7.2. Set a Cookie" }], "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }, { "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2461" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2464" }], "title": "4.4. The ServiceWorkerRegistration interface" }, { "refs": [{ "id": "ref-for-this\u2460\u2465" }], "title": "6.1. The Window interface" }, { "refs": [{ "id": "ref-for-this\u2460\u2466" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "43ac8374": { "dfnID": "43ac8374", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-origin" }, { "id": "ref-for-concept-settings-object-origin\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2461" }, { "id": "ref-for-concept-settings-object-origin\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2463" }, { "id": "ref-for-concept-settings-object-origin\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2465" }, { "id": "ref-for-concept-settings-object-origin\u2466" }], "title": "3.4. The delete() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "44a7708c": { "dfnID": "44a7708c", "dfnText": "EventInit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-eventinit" }], "title": "5.1. The CookieChangeEvent interface" }], "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
                "48438eb3": { "dfnID": "48438eb3", "dfnText": "queue a global task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-global-task" }], "title": "7.4. Process Changes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "5155c2d3": { "dfnID": "5155c2d3", "dfnText": "non-secure context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-non-secure-context" }], "title": "8.2. Restrict?" }, { "refs": [{ "id": "ref-for-non-secure-context\u2460" }], "title": "8.4. Surprises" }, { "refs": [{ "id": "ref-for-non-secure-context\u2461" }], "title": "8.5. Prefixes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context" },
                "53275e46": { "dfnID": "53275e46", "dfnText": "append (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-list-append\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-list-append\u2461" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-list-append\u2462" }, { "id": "ref-for-list-append\u2463" }, { "id": "ref-for-list-append\u2464" }, { "id": "ref-for-list-append\u2465" }, { "id": "ref-for-list-append\u2466" }, { "id": "ref-for-list-append\u2467" }, { "id": "ref-for-list-append\u2468" }, { "id": "ref-for-list-append\u2460\u24ea" }, { "id": "ref-for-list-append\u2460\u2460" }], "title": "7.2. Set a Cookie" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2461" }, { "id": "ref-for-list-append\u2460\u2462" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#list-append" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }, { "id": "ref-for-idl-boolean\u2461" }, { "id": "ref-for-idl-boolean\u2462" }], "title": "3. The CookieStore Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "5afbefcd": { "dfnID": "5afbefcd", "dfnText": "item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }], "title": "4.3. The unsubscribe() method" }], "url": "https://infra.spec.whatwg.org/#list-item" },
                "5ceafb9f": { "dfnID": "5ceafb9f", "dfnText": "ExtendableEventInit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-extendableeventinit" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" },
                "5d7209e9": { "dfnID": "5d7209e9", "dfnText": "Window", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window" }], "title": "1.5. Monitoring Cookies" }, { "refs": [{ "id": "ref-for-window\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-window\u2461" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-window\u2462" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-window\u2463" }], "title": "6. Global Interfaces" }, { "refs": [{ "id": "ref-for-window\u2464" }, { "id": "ref-for-window\u2465" }, { "id": "ref-for-window\u2466" }], "title": "6.1. The Window interface" }, { "refs": [{ "id": "ref-for-window\u2467" }], "title": "7.4. Process Changes" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }, { "id": "ref-for-idl-undefined\u2461" }, { "id": "ref-for-idl-undefined\u2462" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-idl-undefined\u2463" }, { "id": "ref-for-idl-undefined\u2464" }], "title": "4. The CookieStoreManager Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "649608b9": { "dfnID": "649608b9", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list" }], "title": "2.3. Extensions to Service Worker" }, { "refs": [{ "id": "ref-for-list\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-list\u2461" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-list\u2462" }], "title": "7.2. Set a Cookie" }, { "refs": [{ "id": "ref-for-list\u2463" }, { "id": "ref-for-list\u2464" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#list" },
                "65181da8": { "dfnID": "65181da8", "dfnText": "secure context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-secure-context" }], "title": "8.2. Restrict?" }, { "refs": [{ "id": "ref-for-secure-context\u2460" }], "title": "8.4. Surprises" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" },
                "66fd1e11": { "dfnID": "66fd1e11", "dfnText": "replaceState(data, unused, url)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-history-replacestate" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-history-replacestate\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" },
                "6b815fdd": { "dfnID": "6b815fdd", "dfnText": "is empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }, { "id": "ref-for-list-is-empty\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-list-is-empty\u2461" }, { "id": "ref-for-list-is-empty\u2462" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "6fbdf145": { "dfnID": "6fbdf145", "dfnText": "equal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-equals" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-url-equals\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://url.spec.whatwg.org/#concept-url-equals" },
                "7393da89": { "dfnID": "7393da89", "dfnText": "same origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-same-origin" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-same-origin\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
                "76b107de": { "dfnID": "76b107de", "dfnText": "ExtendableEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-extendableevent" }, { "id": "ref-for-extendableevent\u2460" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://w3c.github.io/ServiceWorker/#extendableevent" },
                "7838e1c1": { "dfnID": "7838e1c1", "dfnText": "byte-lowercase", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-lowercase" }, { "id": "ref-for-byte-lowercase\u2460" }, { "id": "ref-for-byte-lowercase\u2461" }, { "id": "ref-for-byte-lowercase\u2462" }], "title": "7.2. Set a Cookie" }], "url": "https://infra.spec.whatwg.org/#byte-lowercase" },
                "7b0d918d": { "dfnID": "7b0d918d", "dfnText": "break", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-break" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#iteration-break" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }, { "id": "ref-for-exceptiondef-typeerror\u2460" }, { "id": "ref-for-exceptiondef-typeerror\u2461" }, { "id": "ref-for-exceptiondef-typeerror\u2462" }, { "id": "ref-for-exceptiondef-typeerror\u2463" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2464" }, { "id": "ref-for-exceptiondef-typeerror\u2465" }, { "id": "ref-for-exceptiondef-typeerror\u2466" }, { "id": "ref-for-exceptiondef-typeerror\u2467" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2468" }, { "id": "ref-for-exceptiondef-typeerror\u2460\u24ea" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460\u2460" }, { "id": "ref-for-exceptiondef-typeerror\u2460\u2461" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460\u2462" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460\u2463" }], "title": "4.3. The unsubscribe() method" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "860300d4": { "dfnID": "860300d4", "dfnText": "implementation-defined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }], "title": "7.3. Delete a Cookie" }], "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "86d2a717": { "dfnID": "86d2a717", "dfnText": "ServiceWorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerglobalscope" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460" }], "title": "6. Global Interfaces" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2461" }, { "id": "ref-for-serviceworkerglobalscope\u2462" }, { "id": "ref-for-serviceworkerglobalscope\u2463" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" },
                "873e2ff8": { "dfnID": "873e2ff8", "dfnText": "time values", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-time-values-and-time-range" }], "title": "7. Algorithms" }], "url": "https://tc39.github.io/ecma262/#sec-time-values-and-time-range" },
                "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }, { "id": "ref-for-Exposed\u2460" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-Exposed\u2461" }], "title": "4. The CookieStoreManager Interface" }, { "refs": [{ "id": "ref-for-Exposed\u2462" }], "title": "4.4. The ServiceWorkerRegistration interface" }, { "refs": [{ "id": "ref-for-Exposed\u2463" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-Exposed\u2464" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8abfc3b6": { "dfnID": "8abfc3b6", "dfnText": "creating an event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-create" }], "title": "7.4. Process Changes" }], "url": "https://dom.spec.whatwg.org/#concept-event-create" },
                "8c407366": { "dfnID": "8c407366", "dfnText": "cancelable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-cancelable" }], "title": "7.4. Process Changes" }], "url": "https://dom.spec.whatwg.org/#dom-event-cancelable" },
                "904cdc91": { "dfnID": "904cdc91", "dfnText": "starts with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-starts-with" }, { "id": "ref-for-byte-sequence-starts-with\u2460" }, { "id": "ref-for-byte-sequence-starts-with\u2461" }, { "id": "ref-for-byte-sequence-starts-with\u2462" }], "title": "7.2. Set a Cookie" }], "url": "https://infra.spec.whatwg.org/#byte-sequence-starts-with" },
                "959ad97b": { "dfnID": "959ad97b", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-origin" }, { "id": "ref-for-concept-url-origin\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-url-origin\u2461" }, { "id": "ref-for-concept-url-origin\u2462" }], "title": "3.2. The getAll() method" }], "url": "https://url.spec.whatwg.org/#concept-url-origin" },
                "99c988d6": { "dfnID": "99c988d6", "dfnText": "remove", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }], "title": "4.3. The unsubscribe() method" }], "url": "https://infra.spec.whatwg.org/#list-remove" },
                "9c4c1e66": { "dfnID": "9c4c1e66", "dfnText": "relevant settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }, { "id": "ref-for-relevant-settings-object\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461" }, { "id": "ref-for-relevant-settings-object\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2463" }, { "id": "ref-for-relevant-settings-object\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2465" }, { "id": "ref-for-relevant-settings-object\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2467" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2468" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u24ea" }], "title": "7.4. Process Changes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "9cce47fd": { "dfnID": "9cce47fd", "dfnText": "sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-idl-sequence\u2460" }, { "id": "ref-for-idl-sequence\u2461" }, { "id": "ref-for-idl-sequence\u2462" }], "title": "4. The CookieStoreManager Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "9d09d04c": { "dfnID": "9d09d04c", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-type" }], "title": "7.4. Process Changes" }], "url": "https://dom.spec.whatwg.org/#dom-event-type" },
                "9ed8b710": { "dfnID": "9ed8b710", "dfnText": "basic URL parser", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-basic-url-parser" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-basic-url-parser\u2460" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-concept-basic-url-parser\u2461" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-concept-basic-url-parser\u2462" }], "title": "4.3. The unsubscribe() method" }], "url": "https://url.spec.whatwg.org/#concept-basic-url-parser" },
                "a1e6e861": { "dfnID": "a1e6e861", "dfnText": "cookie", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-cookie" }, { "id": "ref-for-dom-document-cookie\u2460" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-dom-document-cookie\u2461" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-dom-document-cookie\u2462" }, { "id": "ref-for-dom-document-cookie\u2463" }], "title": "8.7. Cookie aversion" }], "url": "https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" },
                "a3033be5": { "dfnID": "a3033be5", "dfnText": "UTF-8 decode without BOM", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode-without-bom" }, { "id": "ref-for-utf-8-decode-without-bom\u2460" }, { "id": "ref-for-utf-8-decode-without-bom\u2461" }, { "id": "ref-for-utf-8-decode-without-bom\u2462" }, { "id": "ref-for-utf-8-decode-without-bom\u2463" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-utf-8-decode-without-bom\u2464" }], "title": "7.4. Process Changes" }], "url": "https://encoding.spec.whatwg.org/#utf-8-decode-without-bom" },
                "a33db89a": { "dfnID": "a33db89a", "dfnText": "fetch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-fetch" }], "title": "1.3. Querying Cookies" }], "url": "https://fetch.spec.whatwg.org/#concept-fetch" },
                "a3b18719": { "dfnID": "a3b18719", "dfnText": "append (for set)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#set-append" },
                "a51ea74c": { "dfnID": "a51ea74c", "dfnText": "ServiceWorkerRegistration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerregistration" }, { "id": "ref-for-serviceworkerregistration\u2460" }, { "id": "ref-for-serviceworkerregistration\u2461" }, { "id": "ref-for-serviceworkerregistration\u2462" }, { "id": "ref-for-serviceworkerregistration\u2463" }], "title": "4.4. The ServiceWorkerRegistration interface" }], "url": "https://w3c.github.io/ServiceWorker/#serviceworkerregistration" },
                "a5c91173": { "dfnID": "a5c91173", "dfnText": "SameObject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SameObject" }], "title": "4.4. The ServiceWorkerRegistration interface" }, { "refs": [{ "id": "ref-for-SameObject\u2460" }, { "id": "ref-for-SameObject\u2461" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-SameObject\u2462" }, { "id": "ref-for-SameObject\u2463" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-SameObject\u2464" }], "title": "6.1. The Window interface" }, { "refs": [{ "id": "ref-for-SameObject\u2465" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "https://webidl.spec.whatwg.org/#SameObject" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }, { "id": "ref-for-in-parallel\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2461" }, { "id": "ref-for-in-parallel\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2463" }, { "id": "ref-for-in-parallel\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2465" }, { "id": "ref-for-in-parallel\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2467" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2468" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u24ea" }], "title": "4.3. The unsubscribe() method" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "a76569bf": { "dfnID": "a76569bf", "dfnText": "is a registrable domain suffix of or is equal to", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to" }], "title": "7.2. Set a Cookie" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#is-a-registrable-domain-suffix-of-or-is-equal-to" },
                "a973e0fe": { "dfnID": "a973e0fe", "dfnText": "document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-document" }, { "id": "ref-for-concept-document\u2460" }, { "id": "ref-for-concept-document\u2461" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-concept-document\u2462" }], "title": "1.4. Modifying Cookies" }, { "refs": [{ "id": "ref-for-concept-document\u2463" }], "title": "1.5. Monitoring Cookies" }], "url": "https://dom.spec.whatwg.org/#concept-document" },
                "aa8d681c": { "dfnID": "aa8d681c", "dfnText": "exclude fragments", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-equals-exclude-fragments" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-url-equals-exclude-fragments\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://url.spec.whatwg.org/#url-equals-exclude-fragments" },
                "ae8def21": { "dfnID": "ae8def21", "dfnText": "contain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
                "as-a-timestamp": { "dfnID": "as-a-timestamp", "dfnText": "as a timestamp", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-as-a-timestamp" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-as-a-timestamp\u2460" }], "title": "7.3. Delete a Cookie" }], "url": "#as-a-timestamp" },
                "b01b1359": { "dfnID": "b01b1359", "dfnText": "opaque origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-origin-opaque" }, { "id": "ref-for-concept-origin-opaque\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-origin-opaque\u2461" }, { "id": "ref-for-concept-origin-opaque\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-concept-origin-opaque\u2463" }, { "id": "ref-for-concept-origin-opaque\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-concept-origin-opaque\u2465" }, { "id": "ref-for-concept-origin-opaque\u2466" }], "title": "3.4. The delete() method" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" },
                "b0d7f3c3": { "dfnID": "b0d7f3c3", "dfnText": "USVString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-USVString" }, { "id": "ref-for-idl-USVString\u2460" }, { "id": "ref-for-idl-USVString\u2461" }, { "id": "ref-for-idl-USVString\u2462" }, { "id": "ref-for-idl-USVString\u2463" }, { "id": "ref-for-idl-USVString\u2464" }, { "id": "ref-for-idl-USVString\u2465" }, { "id": "ref-for-idl-USVString\u2466" }, { "id": "ref-for-idl-USVString\u2467" }, { "id": "ref-for-idl-USVString\u2468" }, { "id": "ref-for-idl-USVString\u2460\u24ea" }, { "id": "ref-for-idl-USVString\u2460\u2460" }, { "id": "ref-for-idl-USVString\u2460\u2461" }, { "id": "ref-for-idl-USVString\u2460\u2462" }, { "id": "ref-for-idl-USVString\u2460\u2463" }, { "id": "ref-for-idl-USVString\u2460\u2464" }, { "id": "ref-for-idl-USVString\u2460\u2465" }, { "id": "ref-for-idl-USVString\u2460\u2466" }], "title": "3. The CookieStore Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "b262501e": { "dfnID": "b262501e", "dfnText": "reject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reject" }, { "id": "ref-for-reject\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-reject\u2461" }, { "id": "ref-for-reject\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-reject\u2463" }, { "id": "ref-for-reject\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-reject\u2465" }, { "id": "ref-for-reject\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-reject\u2467" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-reject\u2468" }], "title": "4.3. The unsubscribe() method" }], "url": "https://webidl.spec.whatwg.org/#reject" },
                "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "4. The CookieStoreManager Interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2461" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2462" }], "title": "6.1. The Window interface" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "b85ee3be": { "dfnID": "b85ee3be", "dfnText": "host", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-host" }], "title": "7.2. Set a Cookie" }], "url": "https://url.spec.whatwg.org/#concept-url-host" },
                "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-idl-promise\u2460" }, { "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }, { "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }, { "id": "ref-for-idl-promise\u2465" }, { "id": "ref-for-idl-promise\u2466" }, { "id": "ref-for-idl-promise\u2467" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2468" }, { "id": "ref-for-idl-promise\u2460\u24ea" }, { "id": "ref-for-idl-promise\u2460\u2460" }], "title": "4. The CookieStoreManager Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "c3e881ef": { "dfnID": "c3e881ef", "dfnText": "SecurityError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-securityerror" }, { "id": "ref-for-securityerror\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-securityerror\u2461" }, { "id": "ref-for-securityerror\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-securityerror\u2463" }, { "id": "ref-for-securityerror\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-securityerror\u2465" }, { "id": "ref-for-securityerror\u2466" }], "title": "3.4. The delete() method" }], "url": "https://webidl.spec.whatwg.org/#securityerror" },
                "c60ed63a": { "dfnID": "c60ed63a", "dfnText": "service worker", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker" }, { "id": "ref-for-dfn-service-worker\u2460" }, { "id": "ref-for-dfn-service-worker\u2461" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2462" }], "title": "1.4. Modifying Cookies" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2463" }, { "id": "ref-for-dfn-service-worker\u2464" }, { "id": "ref-for-dfn-service-worker\u2465" }, { "id": "ref-for-dfn-service-worker\u2466" }, { "id": "ref-for-dfn-service-worker\u2467" }], "title": "1.5. Monitoring Cookies" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2468" }], "title": "4. The CookieStoreManager Interface" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2460" }, { "id": "ref-for-dfn-service-worker\u2460\u2461" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker" },
                "cc2ecc32": { "dfnID": "cc2ecc32", "dfnText": "domain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-domain" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-document-domain\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain" },
                "cookie": { "dfnID": "cookie", "dfnText": "cookie", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie" }, { "id": "ref-for-cookie\u2460" }], "title": "2.1. Cookie" }, { "refs": [{ "id": "ref-for-cookie\u2461" }, { "id": "ref-for-cookie\u2462" }, { "id": "ref-for-cookie\u2463" }], "title": "2.2. Cookie Store" }, { "refs": [{ "id": "ref-for-cookie\u2464" }, { "id": "ref-for-cookie\u2465" }, { "id": "ref-for-cookie\u2466" }, { "id": "ref-for-cookie\u2467" }, { "id": "ref-for-cookie\u2468" }, { "id": "ref-for-cookie\u2460\u24ea" }, { "id": "ref-for-cookie\u2460\u2460" }], "title": "7.4. Process Changes" }], "url": "#cookie" },
                "cookie-change": { "dfnID": "cookie-change", "dfnText": "cookie change", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change" }], "title": "7.4. Process Changes" }], "url": "#cookie-change" },
                "cookie-change-subscription": { "dfnID": "cookie-change-subscription", "dfnText": "cookie change subscription", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change-subscription" }], "title": "2.3. Extensions to Service Worker" }, { "refs": [{ "id": "ref-for-cookie-change-subscription\u2460" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription\u2461" }], "title": "4.3. The unsubscribe() method" }], "url": "#cookie-change-subscription" },
                "cookie-change-subscription-list": { "dfnID": "cookie-change-subscription-list", "dfnText": "cookie change subscription list", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change-subscription-list" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-list\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-list\u2461" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-list\u2462" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-list\u2463" }], "title": "7.4. Process Changes" }], "url": "#cookie-change-subscription-list" },
                "cookie-change-subscription-name": { "dfnID": "cookie-change-subscription-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change-subscription-name" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-name\u2460" }], "title": "7.4. Process Changes" }], "url": "#cookie-change-subscription-name" },
                "cookie-change-subscription-url": { "dfnID": "cookie-change-subscription-url", "dfnText": "url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change-subscription-url" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-url\u2460" }], "title": "7.4. Process Changes" }], "url": "#cookie-change-subscription-url" },
                "cookie-creation-time": { "dfnID": "cookie-creation-time", "dfnText": "creation-time", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-creation-time" }], "title": "7.1. Query Cookies" }], "url": "#cookie-creation-time" },
                "cookie-domain": { "dfnID": "cookie-domain", "dfnText": "domain", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-domain" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-cookie-domain\u2460" }], "title": "7.4. Process Changes" }], "url": "#cookie-domain" },
                "cookie-expiry-time": { "dfnID": "cookie-expiry-time", "dfnText": "expiry-time", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-expiry-time" }], "title": "7.1. Query Cookies" }], "url": "#cookie-expiry-time" },
                "cookie-host-only-flag": { "dfnID": "cookie-host-only-flag", "dfnText": "host-only-flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-host-only-flag" }], "title": "7.1. Query Cookies" }], "url": "#cookie-host-only-flag" },
                "cookie-http-only-flag": { "dfnID": "cookie-http-only-flag", "dfnText": "http-only-flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-http-only-flag" }, { "id": "ref-for-cookie-http-only-flag\u2460" }], "title": "7.1. Query Cookies" }], "url": "#cookie-http-only-flag" },
                "cookie-last-access-time": { "dfnID": "cookie-last-access-time", "dfnText": "last-access-time", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-last-access-time" }], "title": "7.1. Query Cookies" }], "url": "#cookie-last-access-time" },
                "cookie-maximum-attribute-value-size": { "dfnID": "cookie-maximum-attribute-value-size", "dfnText": "maximum attribute value size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-maximum-attribute-value-size" }, { "id": "ref-for-cookie-maximum-attribute-value-size\u2460" }], "title": "7.2. Set a Cookie" }], "url": "#cookie-maximum-attribute-value-size" },
                "cookie-maximum-name-value-pair-size": { "dfnID": "cookie-maximum-name-value-pair-size", "dfnText": "maximum name/value pair size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-maximum-name-value-pair-size" }], "title": "7.2. Set a Cookie" }], "url": "#cookie-maximum-name-value-pair-size" },
                "cookie-name": { "dfnID": "cookie-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-name" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-cookie-name\u2460" }, { "id": "ref-for-cookie-name\u2461" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-cookie-name\u2462" }, { "id": "ref-for-cookie-name\u2463" }], "title": "7.4. Process Changes" }], "url": "#cookie-name" },
                "cookie-path": { "dfnID": "cookie-path", "dfnText": "path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-path" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-cookie-path\u2460" }], "title": "7.4. Process Changes" }], "url": "#cookie-path" },
                "cookie-persistent-flag": { "dfnID": "cookie-persistent-flag", "dfnText": "persistent-flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-persistent-flag" }], "title": "7.1. Query Cookies" }], "url": "#cookie-persistent-flag" },
                "cookie-same-site-flag": { "dfnID": "cookie-same-site-flag", "dfnText": "same-site-flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-same-site-flag" }], "title": "7.1. Query Cookies" }], "url": "#cookie-same-site-flag" },
                "cookie-secure-only-flag": { "dfnID": "cookie-secure-only-flag", "dfnText": "secure-only-flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-secure-only-flag" }], "title": "7.1. Query Cookies" }], "url": "#cookie-secure-only-flag" },
                "cookie-store": { "dfnID": "cookie-store", "dfnText": "cookie store", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-store" }, { "id": "ref-for-cookie-store\u2460" }, { "id": "ref-for-cookie-store\u2461" }, { "id": "ref-for-cookie-store\u2462" }], "title": "2.2. Cookie Store" }, { "refs": [{ "id": "ref-for-cookie-store\u2463" }], "title": "7.4. Process Changes" }], "url": "#cookie-store" },
                "cookie-value": { "dfnID": "cookie-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-value" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-cookie-value\u2460" }], "title": "7.1. Query Cookies" }], "url": "#cookie-value" },
                "cookiechangeevent": { "dfnID": "cookiechangeevent", "dfnText": "CookieChangeEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookiechangeevent" }, { "id": "ref-for-cookiechangeevent\u2460" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-cookiechangeevent\u2461" }], "title": "7.4. Process Changes" }], "url": "#cookiechangeevent" },
                "cookiestore": { "dfnID": "cookiestore", "dfnText": "CookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookiestore" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-cookiestore\u2460" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-cookiestore\u2461" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-cookiestore\u2462" }], "title": "6. Global Interfaces" }, { "refs": [{ "id": "ref-for-cookiestore\u2463" }, { "id": "ref-for-cookiestore\u2464" }], "title": "6.1. The Window interface" }, { "refs": [{ "id": "ref-for-cookiestore\u2465" }, { "id": "ref-for-cookiestore\u2466" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }, { "refs": [{ "id": "ref-for-cookiestore\u2467" }], "title": "7.4. Process Changes" }], "url": "#cookiestore" },
                "cookiestoremanager": { "dfnID": "cookiestoremanager", "dfnText": "CookieStoreManager", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookiestoremanager" }, { "id": "ref-for-cookiestoremanager\u2460" }, { "id": "ref-for-cookiestoremanager\u2461" }], "title": "4. The CookieStoreManager Interface" }, { "refs": [{ "id": "ref-for-cookiestoremanager\u2462" }, { "id": "ref-for-cookiestoremanager\u2463" }, { "id": "ref-for-cookiestoremanager\u2464" }, { "id": "ref-for-cookiestoremanager\u2465" }, { "id": "ref-for-cookiestoremanager\u2466" }], "title": "4.4. The ServiceWorkerRegistration interface" }], "url": "#cookiestoremanager" },
                "cookiestoremanager-registration": { "dfnID": "cookiestoremanager-registration", "dfnText": "registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookiestoremanager-registration" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-cookiestoremanager-registration\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-cookiestoremanager-registration\u2461" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-cookiestoremanager-registration\u2462" }], "title": "4.4. The ServiceWorkerRegistration interface" }], "url": "#cookiestoremanager-registration" },
                "create-a-cookielistitem": { "dfnID": "create-a-cookielistitem", "dfnText": "create a CookieListItem", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-cookielistitem" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-create-a-cookielistitem\u2460" }], "title": "7.4. Process Changes" }], "url": "#create-a-cookielistitem" },
                "d0b4a948": { "dfnID": "d0b4a948", "dfnText": "a promise rejected with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-rejected-with" }, { "id": "ref-for-a-promise-rejected-with\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2461" }, { "id": "ref-for-a-promise-rejected-with\u2462" }, { "id": "ref-for-a-promise-rejected-with\u2463" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2464" }, { "id": "ref-for-a-promise-rejected-with\u2465" }, { "id": "ref-for-a-promise-rejected-with\u2466" }, { "id": "ref-for-a-promise-rejected-with\u2467" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2468" }, { "id": "ref-for-a-promise-rejected-with\u2460\u24ea" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2461" }], "title": "3.4. The delete() method" }], "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "d2763ae9": { "dfnID": "d2763ae9", "dfnText": "fire a functional event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fire-functional-event" }], "title": "7.4. Process Changes" }], "url": "https://w3c.github.io/ServiceWorker/#fire-functional-event" },
                "dacde8b5": { "dfnID": "dacde8b5", "dfnText": "a new promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }, { "id": "ref-for-a-new-promise\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461" }, { "id": "ref-for-a-new-promise\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2463" }, { "id": "ref-for-a-new-promise\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2465" }, { "id": "ref-for-a-new-promise\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2467" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2468" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u24ea" }], "title": "4.3. The unsubscribe() method" }], "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "date-serialize": { "dfnID": "date-serialize", "dfnText": "date serialize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-date-serialize" }], "title": "7.2. Set a Cookie" }], "url": "#date-serialize" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }, { "id": "ref-for-idl-DOMException\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }, { "id": "ref-for-idl-DOMException\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2463" }, { "id": "ref-for-idl-DOMException\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }, { "id": "ref-for-idl-DOMException\u2466" }], "title": "3.4. The delete() method" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "dcf5fafa": { "dfnID": "dcf5fafa", "dfnText": "FrozenArray", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-frozen-array" }, { "id": "ref-for-idl-frozen-array\u2460" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-idl-frozen-array\u2461" }, { "id": "ref-for-idl-frozen-array\u2462" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
                "delete-a-cookie": { "dfnID": "delete-a-cookie", "dfnText": "delete a cookie", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-delete-a-cookie" }, { "id": "ref-for-delete-a-cookie\u2460" }], "title": "3.4. The delete() method" }], "url": "#delete-a-cookie" },
                "dictdef-cookiechangeeventinit": { "dfnID": "dictdef-cookiechangeeventinit", "dfnText": "CookieChangeEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookiechangeeventinit" }], "title": "5.1. The CookieChangeEvent interface" }], "url": "#dictdef-cookiechangeeventinit" },
                "dictdef-cookieinit": { "dfnID": "dictdef-cookieinit", "dfnText": "CookieInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookieinit" }], "title": "3. The CookieStore Interface" }], "url": "#dictdef-cookieinit" },
                "dictdef-cookielistitem": { "dfnID": "dictdef-cookielistitem", "dfnText": "CookieListItem", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookielistitem" }, { "id": "ref-for-dictdef-cookielistitem\u2460" }, { "id": "ref-for-dictdef-cookielistitem\u2461" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dictdef-cookielistitem\u2462" }, { "id": "ref-for-dictdef-cookielistitem\u2463" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dictdef-cookielistitem\u2464" }, { "id": "ref-for-dictdef-cookielistitem\u2465" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dictdef-cookielistitem\u2466" }], "title": "7.1. Query Cookies" }], "url": "#dictdef-cookielistitem" },
                "dictdef-cookiestoredeleteoptions": { "dfnID": "dictdef-cookiestoredeleteoptions", "dfnText": "CookieStoreDeleteOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookiestoredeleteoptions" }], "title": "3. The CookieStore Interface" }], "url": "#dictdef-cookiestoredeleteoptions" },
                "dictdef-cookiestoregetoptions": { "dfnID": "dictdef-cookiestoregetoptions", "dfnText": "CookieStoreGetOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookiestoregetoptions" }, { "id": "ref-for-dictdef-cookiestoregetoptions\u2460" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dictdef-cookiestoregetoptions\u2461" }, { "id": "ref-for-dictdef-cookiestoregetoptions\u2462" }, { "id": "ref-for-dictdef-cookiestoregetoptions\u2463" }], "title": "4. The CookieStoreManager Interface" }], "url": "#dictdef-cookiestoregetoptions" },
                "dictdef-extendablecookiechangeeventinit": { "dfnID": "dictdef-extendablecookiechangeeventinit", "dfnText": "ExtendableCookieChangeEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-extendablecookiechangeeventinit" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "#dictdef-extendablecookiechangeeventinit" },
                "dom-cookiechangeevent-changed": { "dfnID": "dom-cookiechangeevent-changed", "dfnText": "changed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiechangeevent-changed" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dom-cookiechangeevent-changed\u2460" }], "title": "7.4. Process Changes" }], "url": "#dom-cookiechangeevent-changed" },
                "dom-cookiechangeevent-cookiechangeevent": { "dfnID": "dom-cookiechangeevent-cookiechangeevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-cookiechangeevent-cookiechangeevent" },
                "dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict" },
                "dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type": { "dfnID": "dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type" },
                "dom-cookiechangeevent-deleted": { "dfnID": "dom-cookiechangeevent-deleted", "dfnText": "deleted", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiechangeevent-deleted" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dom-cookiechangeevent-deleted\u2460" }], "title": "7.4. Process Changes" }], "url": "#dom-cookiechangeevent-deleted" },
                "dom-cookiechangeeventinit-changed": { "dfnID": "dom-cookiechangeeventinit-changed", "dfnText": "changed", "external": false, "refSections": [], "url": "#dom-cookiechangeeventinit-changed" },
                "dom-cookiechangeeventinit-deleted": { "dfnID": "dom-cookiechangeeventinit-deleted", "dfnText": "deleted", "external": false, "refSections": [], "url": "#dom-cookiechangeeventinit-deleted" },
                "dom-cookieinit-domain": { "dfnID": "dom-cookieinit-domain", "dfnText": "domain", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-domain" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-domain" },
                "dom-cookieinit-expires": { "dfnID": "dom-cookieinit-expires", "dfnText": "expires", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-expires" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-expires" },
                "dom-cookieinit-name": { "dfnID": "dom-cookieinit-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-name" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-name" },
                "dom-cookieinit-partitioned": { "dfnID": "dom-cookieinit-partitioned", "dfnText": "partitioned", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-partitioned" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-partitioned" },
                "dom-cookieinit-path": { "dfnID": "dom-cookieinit-path", "dfnText": "path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-path" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-path" },
                "dom-cookieinit-samesite": { "dfnID": "dom-cookieinit-samesite", "dfnText": "sameSite", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-samesite" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-samesite" },
                "dom-cookieinit-value": { "dfnID": "dom-cookieinit-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-value" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-value" },
                "dom-cookielistitem-domain": { "dfnID": "dom-cookielistitem-domain", "dfnText": "domain", "external": false, "refSections": [], "url": "#dom-cookielistitem-domain" },
                "dom-cookielistitem-expires": { "dfnID": "dom-cookielistitem-expires", "dfnText": "expires", "external": false, "refSections": [], "url": "#dom-cookielistitem-expires" },
                "dom-cookielistitem-name": { "dfnID": "dom-cookielistitem-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookielistitem-name" },
                "dom-cookielistitem-partitioned": { "dfnID": "dom-cookielistitem-partitioned", "dfnText": "partitioned", "external": false, "refSections": [], "url": "#dom-cookielistitem-partitioned" },
                "dom-cookielistitem-path": { "dfnID": "dom-cookielistitem-path", "dfnText": "path", "external": false, "refSections": [], "url": "#dom-cookielistitem-path" },
                "dom-cookielistitem-samesite": { "dfnID": "dom-cookielistitem-samesite", "dfnText": "sameSite", "external": false, "refSections": [], "url": "#dom-cookielistitem-samesite" },
                "dom-cookielistitem-secure": { "dfnID": "dom-cookielistitem-secure", "dfnText": "secure", "external": false, "refSections": [], "url": "#dom-cookielistitem-secure" },
                "dom-cookielistitem-value": { "dfnID": "dom-cookielistitem-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookielistitem-value" }], "title": "7.4. Process Changes" }], "url": "#dom-cookielistitem-value" },
                "dom-cookiesamesite-lax": { "dfnID": "dom-cookiesamesite-lax", "dfnText": "\"lax\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiesamesite-lax" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiesamesite-lax\u2460" }], "title": "7.2. Set a Cookie" }], "url": "#dom-cookiesamesite-lax" },
                "dom-cookiesamesite-none": { "dfnID": "dom-cookiesamesite-none", "dfnText": "\"none\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiesamesite-none" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiesamesite-none\u2460" }], "title": "7.2. Set a Cookie" }], "url": "#dom-cookiesamesite-none" },
                "dom-cookiesamesite-strict": { "dfnID": "dom-cookiesamesite-strict", "dfnText": "\"strict\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiesamesite-strict" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-dom-cookiesamesite-strict\u2460" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-dom-cookiesamesite-strict\u2461" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiesamesite-strict\u2462" }], "title": "7.2. Set a Cookie" }, { "refs": [{ "id": "ref-for-dom-cookiesamesite-strict\u2463" }], "title": "7.3. Delete a Cookie" }], "url": "#dom-cookiesamesite-strict" },
                "dom-cookiestore-delete": { "dfnID": "dom-cookiestore-delete", "dfnText": "delete(name)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-delete" }], "title": "1.4. Modifying Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-delete\u2460" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-delete\u2461" }, { "id": "ref-for-dom-cookiestore-delete\u2462" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestore-delete" },
                "dom-cookiestore-delete-name-name": { "dfnID": "dom-cookiestore-delete-name-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookiestore-delete-name-name" },
                "dom-cookiestore-delete-options": { "dfnID": "dom-cookiestore-delete-options", "dfnText": "delete(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-delete-options" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-delete-options\u2460" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestore-delete-options" },
                "dom-cookiestore-delete-options-options": { "dfnID": "dom-cookiestore-delete-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cookiestore-delete-options-options" },
                "dom-cookiestore-get": { "dfnID": "dom-cookiestore-get", "dfnText": "get(name)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-get" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get\u2460" }], "title": "3.1. The get() method" }], "url": "#dom-cookiestore-get" },
                "dom-cookiestore-get-name-name": { "dfnID": "dom-cookiestore-get-name-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookiestore-get-name-name" },
                "dom-cookiestore-get-options": { "dfnID": "dom-cookiestore-get-options", "dfnText": "get(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-get-options" }, { "id": "ref-for-dom-cookiestore-get-options\u2460" }, { "id": "ref-for-dom-cookiestore-get-options\u2461" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get-options\u2462" }], "title": "1.5. Monitoring Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get-options\u2463" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get-options\u2464" }, { "id": "ref-for-dom-cookiestore-get-options\u2465" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get-options\u2466" }], "title": "4.1. The subscribe() method" }], "url": "#dom-cookiestore-get-options" },
                "dom-cookiestore-get-options-options": { "dfnID": "dom-cookiestore-get-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cookiestore-get-options-options" },
                "dom-cookiestore-getall": { "dfnID": "dom-cookiestore-getall", "dfnText": "getAll(name)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-getall" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall\u2460" }], "title": "3.2. The getAll() method" }], "url": "#dom-cookiestore-getall" },
                "dom-cookiestore-getall-name-name": { "dfnID": "dom-cookiestore-getall-name-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookiestore-getall-name-name" },
                "dom-cookiestore-getall-options": { "dfnID": "dom-cookiestore-getall-options", "dfnText": "getAll(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-getall-options" }, { "id": "ref-for-dom-cookiestore-getall-options\u2460" }, { "id": "ref-for-dom-cookiestore-getall-options\u2461" }, { "id": "ref-for-dom-cookiestore-getall-options\u2462" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall-options\u2463" }], "title": "1.5. Monitoring Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall-options\u2464" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall-options\u2465" }, { "id": "ref-for-dom-cookiestore-getall-options\u2466" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall-options\u2467" }], "title": "4.1. The subscribe() method" }], "url": "#dom-cookiestore-getall-options" },
                "dom-cookiestore-getall-options-options": { "dfnID": "dom-cookiestore-getall-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cookiestore-getall-options-options" },
                "dom-cookiestore-onchange": { "dfnID": "dom-cookiestore-onchange", "dfnText": "onchange", "external": false, "refSections": [], "url": "#dom-cookiestore-onchange" },
                "dom-cookiestore-set": { "dfnID": "dom-cookiestore-set", "dfnText": "set(name, value)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-set" }, { "id": "ref-for-dom-cookiestore-set\u2460" }], "title": "1.4. Modifying Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-set\u2461" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-set\u2462" }, { "id": "ref-for-dom-cookiestore-set\u2463" }], "title": "3.3. The set() method" }], "url": "#dom-cookiestore-set" },
                "dom-cookiestore-set-name-value-name": { "dfnID": "dom-cookiestore-set-name-value-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookiestore-set-name-value-name" },
                "dom-cookiestore-set-name-value-value": { "dfnID": "dom-cookiestore-set-name-value-value", "dfnText": "value", "external": false, "refSections": [], "url": "#dom-cookiestore-set-name-value-value" },
                "dom-cookiestore-set-options": { "dfnID": "dom-cookiestore-set-options", "dfnText": "set(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-set-options" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-set-options\u2460" }], "title": "3.3. The set() method" }], "url": "#dom-cookiestore-set-options" },
                "dom-cookiestore-set-options-options": { "dfnID": "dom-cookiestore-set-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cookiestore-set-options-options" },
                "dom-cookiestoredeleteoptions-domain": { "dfnID": "dom-cookiestoredeleteoptions-domain", "dfnText": "domain", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoredeleteoptions-domain" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestoredeleteoptions-domain" },
                "dom-cookiestoredeleteoptions-name": { "dfnID": "dom-cookiestoredeleteoptions-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoredeleteoptions-name" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestoredeleteoptions-name" },
                "dom-cookiestoredeleteoptions-partitioned": { "dfnID": "dom-cookiestoredeleteoptions-partitioned", "dfnText": "partitioned", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoredeleteoptions-partitioned" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestoredeleteoptions-partitioned" },
                "dom-cookiestoredeleteoptions-path": { "dfnID": "dom-cookiestoredeleteoptions-path", "dfnText": "path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoredeleteoptions-path" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestoredeleteoptions-path" },
                "dom-cookiestoregetoptions-name": { "dfnID": "dom-cookiestoregetoptions-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-name" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-name\u2460" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-name\u2461" }, { "id": "ref-for-dom-cookiestoregetoptions-name\u2462" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-name\u2463" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoregetoptions-name" },
                "dom-cookiestoregetoptions-url": { "dfnID": "dom-cookiestoregetoptions-url", "dfnText": "url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url\u2460" }, { "id": "ref-for-dom-cookiestoregetoptions-url\u2461" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url\u2462" }, { "id": "ref-for-dom-cookiestoregetoptions-url\u2463" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url\u2464" }, { "id": "ref-for-dom-cookiestoregetoptions-url\u2465" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url\u2466" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoregetoptions-url" },
                "dom-cookiestoremanager-getsubscriptions": { "dfnID": "dom-cookiestoremanager-getsubscriptions", "dfnText": "getSubscriptions()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoremanager-getsubscriptions" }], "title": "1.5. Monitoring Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-getsubscriptions\u2460" }], "title": "4. The CookieStoreManager Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-getsubscriptions\u2461" }, { "id": "ref-for-dom-cookiestoremanager-getsubscriptions\u2462" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-getsubscriptions\u2463" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoremanager-getsubscriptions" },
                "dom-cookiestoremanager-subscribe": { "dfnID": "dom-cookiestoremanager-subscribe", "dfnText": "subscribe(subscriptions)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoremanager-subscribe" }], "title": "1.5. Monitoring Cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-subscribe\u2460" }, { "id": "ref-for-dom-cookiestoremanager-subscribe\u2461" }], "title": "4. The CookieStoreManager Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-subscribe\u2462" }, { "id": "ref-for-dom-cookiestoremanager-subscribe\u2463" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-subscribe\u2464" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoremanager-subscribe" },
                "dom-cookiestoremanager-subscribe-subscriptions-subscriptions": { "dfnID": "dom-cookiestoremanager-subscribe-subscriptions-subscriptions", "dfnText": "subscriptions", "external": false, "refSections": [], "url": "#dom-cookiestoremanager-subscribe-subscriptions-subscriptions" },
                "dom-cookiestoremanager-unsubscribe": { "dfnID": "dom-cookiestoremanager-unsubscribe", "dfnText": "unsubscribe(subscriptions)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoremanager-unsubscribe" }], "title": "4. The CookieStoreManager Interface" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-unsubscribe\u2460" }, { "id": "ref-for-dom-cookiestoremanager-unsubscribe\u2461" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoremanager-unsubscribe" },
                "dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions": { "dfnID": "dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions", "dfnText": "subscriptions", "external": false, "refSections": [], "url": "#dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions" },
                "dom-extendablecookiechangeevent-changed": { "dfnID": "dom-extendablecookiechangeevent-changed", "dfnText": "changed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablecookiechangeevent-changed" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dom-extendablecookiechangeevent-changed\u2460" }], "title": "7.4. Process Changes" }], "url": "#dom-extendablecookiechangeevent-changed" },
                "dom-extendablecookiechangeevent-deleted": { "dfnID": "dom-extendablecookiechangeevent-deleted", "dfnText": "deleted", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablecookiechangeevent-deleted" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dom-extendablecookiechangeevent-deleted\u2460" }], "title": "7.4. Process Changes" }], "url": "#dom-extendablecookiechangeevent-deleted" },
                "dom-extendablecookiechangeevent-extendablecookiechangeevent": { "dfnID": "dom-extendablecookiechangeevent-extendablecookiechangeevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeevent-extendablecookiechangeevent" },
                "dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict" },
                "dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type": { "dfnID": "dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type" },
                "dom-extendablecookiechangeeventinit-changed": { "dfnID": "dom-extendablecookiechangeeventinit-changed", "dfnText": "changed", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeeventinit-changed" },
                "dom-extendablecookiechangeeventinit-deleted": { "dfnID": "dom-extendablecookiechangeeventinit-deleted", "dfnText": "deleted", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeeventinit-deleted" },
                "dom-serviceworkerglobalscope-cookiestore": { "dfnID": "dom-serviceworkerglobalscope-cookiestore", "dfnText": "cookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-cookiestore" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "#dom-serviceworkerglobalscope-cookiestore" },
                "dom-serviceworkerglobalscope-oncookiechange": { "dfnID": "dom-serviceworkerglobalscope-oncookiechange", "dfnText": "oncookiechange", "external": false, "refSections": [], "url": "#dom-serviceworkerglobalscope-oncookiechange" },
                "dom-serviceworkerregistration-cookies": { "dfnID": "dom-serviceworkerregistration-cookies", "dfnText": "cookies", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-cookies" }, { "id": "ref-for-dom-serviceworkerregistration-cookies\u2460" }], "title": "4.4. The ServiceWorkerRegistration interface" }], "url": "#dom-serviceworkerregistration-cookies" },
                "dom-window-cookiestore": { "dfnID": "dom-window-cookiestore", "dfnText": "cookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-cookiestore" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-dom-window-cookiestore\u2460" }], "title": "1.4. Modifying Cookies" }, { "refs": [{ "id": "ref-for-dom-window-cookiestore\u2461" }], "title": "6.1. The Window interface" }], "url": "#dom-window-cookiestore" },
                "e10e7eb7": { "dfnID": "e10e7eb7", "dfnText": "DOM manipulation task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-manipulation-task-source" }], "title": "7.4. Process Changes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "enumdef-cookiesamesite": { "dfnID": "enumdef-cookiesamesite", "dfnText": "CookieSameSite", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-cookiesamesite" }, { "id": "ref-for-enumdef-cookiesamesite\u2460" }], "title": "3. The CookieStore Interface" }], "url": "#enumdef-cookiesamesite" },
                "extendablecookiechangeevent": { "dfnID": "extendablecookiechangeevent", "dfnText": "ExtendableCookieChangeEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendablecookiechangeevent" }, { "id": "ref-for-extendablecookiechangeevent\u2460" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-extendablecookiechangeevent\u2461" }], "title": "7.4. Process Changes" }], "url": "#extendablecookiechangeevent" },
                "f0951476": { "dfnID": "f0951476", "dfnText": "EventHandler", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventhandler" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-eventhandler\u2460" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "f5354b9d": { "dfnID": "f5354b9d", "dfnText": "byte", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte" }, { "id": "ref-for-byte\u2460" }], "title": "2.1. Cookie" }], "url": "https://infra.spec.whatwg.org/#byte" },
                "f937b7b6": { "dfnID": "f937b7b6", "dfnText": "continue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }], "title": "7.1. Query Cookies" }, { "refs": [{ "id": "ref-for-iteration-continue\u2460" }, { "id": "ref-for-iteration-continue\u2461" }, { "id": "ref-for-iteration-continue\u2462" }], "title": "7.4. Process Changes" }], "url": "https://infra.spec.whatwg.org/#iteration-continue" },
                "fa5ee9c5": { "dfnID": "fa5ee9c5", "dfnText": "creation URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-creation-url" }, { "id": "ref-for-concept-environment-creation-url\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2461" }, { "id": "ref-for-concept-environment-creation-url\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2463" }, { "id": "ref-for-concept-environment-creation-url\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2465" }, { "id": "ref-for-concept-environment-creation-url\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2467" }], "title": "7.4. Process Changes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" },
                "fc627dec": { "dfnID": "fc627dec", "dfnText": "scope url", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-scope-url" }], "title": "1.3. Querying Cookies" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2461" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2462" }], "title": "7.4. Process Changes" }], "url": "https://w3c.github.io/ServiceWorker/#dfn-scope-url" },
                "fire-a-change-event": { "dfnID": "fire-a-change-event", "dfnText": "fire a change event", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fire-a-change-event" }], "title": "7.4. Process Changes" }], "url": "#fire-a-change-event" },
                "observable-changes": { "dfnID": "observable-changes", "dfnText": "observable changes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-observable-changes" }, { "id": "ref-for-observable-changes\u2460" }, { "id": "ref-for-observable-changes\u2461" }], "title": "7.4. Process Changes" }], "url": "#observable-changes" },
                "prepare-lists": { "dfnID": "prepare-lists", "dfnText": "prepare lists", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-prepare-lists" }, { "id": "ref-for-prepare-lists\u2460" }], "title": "7.4. Process Changes" }], "url": "#prepare-lists" },
                "process-cookie-changes": { "dfnID": "process-cookie-changes", "dfnText": "process cookie changes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-process-cookie-changes" }], "title": "2.2. Cookie Store" }], "url": "#process-cookie-changes" },
                "query-cookies": { "dfnID": "query-cookies", "dfnText": "query cookies", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-query-cookies" }, { "id": "ref-for-query-cookies\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-query-cookies\u2461" }, { "id": "ref-for-query-cookies\u2462" }], "title": "3.2. The getAll() method" }], "url": "#query-cookies" },
                "script-visible": { "dfnID": "script-visible", "dfnText": "script-visible", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-script-visible" }, { "id": "ref-for-script-visible\u2460" }], "title": "1.2. Summary" }, { "refs": [{ "id": "ref-for-script-visible\u2461" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-script-visible\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-script-visible\u2463" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-script-visible\u2464" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "#script-visible" },
                "serviceworkerglobalscope-associated-cookiestore": { "dfnID": "serviceworkerglobalscope-associated-cookiestore", "dfnText": "associated CookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerglobalscope-associated-cookiestore" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "#serviceworkerglobalscope-associated-cookiestore" },
                "set-a-cookie": { "dfnID": "set-a-cookie", "dfnText": "set a cookie", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-a-cookie" }, { "id": "ref-for-set-a-cookie\u2460" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-set-a-cookie\u2461" }], "title": "7.3. Delete a Cookie" }], "url": "#set-a-cookie" },
                "typedefdef-cookielist": { "dfnID": "typedefdef-cookielist", "dfnText": "CookieList", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-cookielist" }, { "id": "ref-for-typedefdef-cookielist\u2460" }], "title": "3. The CookieStore Interface" }, { "refs": [{ "id": "ref-for-typedefdef-cookielist\u2461" }, { "id": "ref-for-typedefdef-cookielist\u2462" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-typedefdef-cookielist\u2463" }, { "id": "ref-for-typedefdef-cookielist\u2464" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "#typedefdef-cookielist" },
                "window-associated-cookiestore": { "dfnID": "window-associated-cookiestore", "dfnText": "associated CookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-window-associated-cookiestore" }], "title": "6.1. The Window interface" }], "url": "#window-associated-cookiestore" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-position-annos */
        "use strict";
        {
            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                hydratePanels(panels);
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }
            function hydratePanels(panels) {
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                // First display them all, if they're not already visible.
                for (const panel of panels) {
                    panel.classList.remove("unpositioned");
                }
                // Measure them all
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    panel.dfn = dfn;
                    panel.top = window.scrollY + dfn.getBoundingClientRect().top;
                    let panelRect = panel.getBoundingClientRect();
                    panel.height = panelRect.height;
                    if (main) {
                        panel.overlappingMain = panelRect.left < mainRect.right;
                    } else {
                        panel.overlappingMain = false;
                    }
                }
                // And finally position them
                for (const panel of panels) {
                    const dfn = panel.dfn;
                    if (!dfn) continue;
                    panel.style.top = panel.top + "px";
                    panel.classList.toggle("overlapping-main", panel.overlappingMain);
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#as-a-timestamp": { "displayText": "as a timestamp", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "as a timestamp", "type": "dfn", "url": "#as-a-timestamp" },
                "#cookie": { "displayText": "cookie", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "cookie", "type": "dfn", "url": "#cookie" },
                "#cookie-change": { "displayText": "cookie change", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "cookie change", "type": "dfn", "url": "#cookie-change" },
                "#cookie-change-subscription": { "displayText": "cookie change subscription", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "cookie change subscription", "type": "dfn", "url": "#cookie-change-subscription" },
                "#cookie-change-subscription-list": { "displayText": "cookie change subscription list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "cookie change subscription list", "type": "dfn", "url": "#cookie-change-subscription-list" },
                "#cookie-change-subscription-name": { "displayText": "name", "export": true, "for_": ["cookie change subscription"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "name", "type": "dfn", "url": "#cookie-change-subscription-name" },
                "#cookie-change-subscription-url": { "displayText": "url", "export": true, "for_": ["cookie change subscription"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "url", "type": "dfn", "url": "#cookie-change-subscription-url" },
                "#cookie-creation-time": { "displayText": "creation-time", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "creation-time", "type": "dfn", "url": "#cookie-creation-time" },
                "#cookie-domain": { "displayText": "domain", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "domain", "type": "dfn", "url": "#cookie-domain" },
                "#cookie-expiry-time": { "displayText": "expiry-time", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "expiry-time", "type": "dfn", "url": "#cookie-expiry-time" },
                "#cookie-host-only-flag": { "displayText": "host-only-flag", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "host-only-flag", "type": "dfn", "url": "#cookie-host-only-flag" },
                "#cookie-http-only-flag": { "displayText": "http-only-flag", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "http-only-flag", "type": "dfn", "url": "#cookie-http-only-flag" },
                "#cookie-last-access-time": { "displayText": "last-access-time", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "last-access-time", "type": "dfn", "url": "#cookie-last-access-time" },
                "#cookie-maximum-attribute-value-size": { "displayText": "maximum attribute value size", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "maximum attribute value size", "type": "dfn", "url": "#cookie-maximum-attribute-value-size" },
                "#cookie-maximum-name-value-pair-size": { "displayText": "maximum name/value pair size", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "maximum name/value pair size", "type": "dfn", "url": "#cookie-maximum-name-value-pair-size" },
                "#cookie-name": { "displayText": "name", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "name", "type": "dfn", "url": "#cookie-name" },
                "#cookie-path": { "displayText": "path", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "path", "type": "dfn", "url": "#cookie-path" },
                "#cookie-persistent-flag": { "displayText": "persistent-flag", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "persistent-flag", "type": "dfn", "url": "#cookie-persistent-flag" },
                "#cookie-same-site-flag": { "displayText": "same-site-flag", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "same-site-flag", "type": "dfn", "url": "#cookie-same-site-flag" },
                "#cookie-secure-only-flag": { "displayText": "secure-only-flag", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "secure-only-flag", "type": "dfn", "url": "#cookie-secure-only-flag" },
                "#cookie-store": { "displayText": "cookie store", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "cookie store", "type": "dfn", "url": "#cookie-store" },
                "#cookie-value": { "displayText": "value", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "value", "type": "dfn", "url": "#cookie-value" },
                "#cookiechangeevent": { "displayText": "CookieChangeEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieChangeEvent", "type": "interface", "url": "#cookiechangeevent" },
                "#cookiestore": { "displayText": "CookieStore", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieStore", "type": "interface", "url": "#cookiestore" },
                "#cookiestoremanager": { "displayText": "CookieStoreManager", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieStoreManager", "type": "interface", "url": "#cookiestoremanager" },
                "#cookiestoremanager-registration": { "displayText": "registration", "export": true, "for_": ["CookieStoreManager"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "registration", "type": "dfn", "url": "#cookiestoremanager-registration" },
                "#create-a-cookielistitem": { "displayText": "create a cookielistitem", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "create a cookielistitem", "type": "dfn", "url": "#create-a-cookielistitem" },
                "#date-serialize": { "displayText": "date serialize", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "date serialize", "type": "dfn", "url": "#date-serialize" },
                "#delete-a-cookie": { "displayText": "delete a cookie", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "delete a cookie", "type": "dfn", "url": "#delete-a-cookie" },
                "#dictdef-cookiechangeeventinit": { "displayText": "CookieChangeEventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieChangeEventInit", "type": "dictionary", "url": "#dictdef-cookiechangeeventinit" },
                "#dictdef-cookieinit": { "displayText": "CookieInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieInit", "type": "dictionary", "url": "#dictdef-cookieinit" },
                "#dictdef-cookielistitem": { "displayText": "CookieListItem", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieListItem", "type": "dictionary", "url": "#dictdef-cookielistitem" },
                "#dictdef-cookiestoredeleteoptions": { "displayText": "CookieStoreDeleteOptions", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieStoreDeleteOptions", "type": "dictionary", "url": "#dictdef-cookiestoredeleteoptions" },
                "#dictdef-cookiestoregetoptions": { "displayText": "CookieStoreGetOptions", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieStoreGetOptions", "type": "dictionary", "url": "#dictdef-cookiestoregetoptions" },
                "#dictdef-extendablecookiechangeeventinit": { "displayText": "ExtendableCookieChangeEventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "ExtendableCookieChangeEventInit", "type": "dictionary", "url": "#dictdef-extendablecookiechangeeventinit" },
                "#dom-cookiechangeevent-changed": { "displayText": "changed", "export": true, "for_": ["CookieChangeEvent"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "changed", "type": "attribute", "url": "#dom-cookiechangeevent-changed" },
                "#dom-cookiechangeevent-deleted": { "displayText": "deleted", "export": true, "for_": ["CookieChangeEvent"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "deleted", "type": "attribute", "url": "#dom-cookiechangeevent-deleted" },
                "#dom-cookieinit-domain": { "displayText": "domain", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "domain", "type": "dict-member", "url": "#dom-cookieinit-domain" },
                "#dom-cookieinit-expires": { "displayText": "expires", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "expires", "type": "dict-member", "url": "#dom-cookieinit-expires" },
                "#dom-cookieinit-name": { "displayText": "name", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "name", "type": "dict-member", "url": "#dom-cookieinit-name" },
                "#dom-cookieinit-partitioned": { "displayText": "partitioned", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "partitioned", "type": "dict-member", "url": "#dom-cookieinit-partitioned" },
                "#dom-cookieinit-path": { "displayText": "path", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "path", "type": "dict-member", "url": "#dom-cookieinit-path" },
                "#dom-cookieinit-samesite": { "displayText": "sameSite", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "sameSite", "type": "dict-member", "url": "#dom-cookieinit-samesite" },
                "#dom-cookieinit-value": { "displayText": "value", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "value", "type": "dict-member", "url": "#dom-cookieinit-value" },
                "#dom-cookielistitem-value": { "displayText": "value", "export": true, "for_": ["CookieListItem"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "value", "type": "dict-member", "url": "#dom-cookielistitem-value" },
                "#dom-cookiesamesite-lax": { "displayText": "\"lax\"", "export": true, "for_": ["CookieSameSite"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "\"lax\"", "type": "enum-value", "url": "#dom-cookiesamesite-lax" },
                "#dom-cookiesamesite-none": { "displayText": "\"none\"", "export": true, "for_": ["CookieSameSite"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "\"none\"", "type": "enum-value", "url": "#dom-cookiesamesite-none" },
                "#dom-cookiesamesite-strict": { "displayText": "\"strict\"", "export": true, "for_": ["CookieSameSite"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "\"strict\"", "type": "enum-value", "url": "#dom-cookiesamesite-strict" },
                "#dom-cookiestore-delete": { "displayText": "delete(name)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "delete(name)", "type": "method", "url": "#dom-cookiestore-delete" },
                "#dom-cookiestore-delete-options": { "displayText": "delete(options)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "delete(options)", "type": "method", "url": "#dom-cookiestore-delete-options" },
                "#dom-cookiestore-get": { "displayText": "get(name)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "get(name)", "type": "method", "url": "#dom-cookiestore-get" },
                "#dom-cookiestore-get-options": { "displayText": "get()", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "get()", "type": "method", "url": "#dom-cookiestore-get-options" },
                "#dom-cookiestore-getall": { "displayText": "getAll(name)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "getAll(name)", "type": "method", "url": "#dom-cookiestore-getall" },
                "#dom-cookiestore-getall-options": { "displayText": "getAll()", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "getAll()", "type": "method", "url": "#dom-cookiestore-getall-options" },
                "#dom-cookiestore-set": { "displayText": "set(name, value)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "set(name, value)", "type": "method", "url": "#dom-cookiestore-set" },
                "#dom-cookiestore-set-options": { "displayText": "set(options)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "set(options)", "type": "method", "url": "#dom-cookiestore-set-options" },
                "#dom-cookiestoredeleteoptions-domain": { "displayText": "domain", "export": true, "for_": ["CookieStoreDeleteOptions"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "domain", "type": "dict-member", "url": "#dom-cookiestoredeleteoptions-domain" },
                "#dom-cookiestoredeleteoptions-name": { "displayText": "name", "export": true, "for_": ["CookieStoreDeleteOptions"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "name", "type": "dict-member", "url": "#dom-cookiestoredeleteoptions-name" },
                "#dom-cookiestoredeleteoptions-partitioned": { "displayText": "partitioned", "export": true, "for_": ["CookieStoreDeleteOptions"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "partitioned", "type": "dict-member", "url": "#dom-cookiestoredeleteoptions-partitioned" },
                "#dom-cookiestoredeleteoptions-path": { "displayText": "path", "export": true, "for_": ["CookieStoreDeleteOptions"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "path", "type": "dict-member", "url": "#dom-cookiestoredeleteoptions-path" },
                "#dom-cookiestoregetoptions-name": { "displayText": "name", "export": true, "for_": ["CookieStoreGetOptions"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "name", "type": "dict-member", "url": "#dom-cookiestoregetoptions-name" },
                "#dom-cookiestoregetoptions-url": { "displayText": "url", "export": true, "for_": ["CookieStoreGetOptions"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "url", "type": "dict-member", "url": "#dom-cookiestoregetoptions-url" },
                "#dom-cookiestoremanager-getsubscriptions": { "displayText": "getSubscriptions()", "export": true, "for_": ["CookieStoreManager"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "getSubscriptions()", "type": "method", "url": "#dom-cookiestoremanager-getsubscriptions" },
                "#dom-cookiestoremanager-subscribe": { "displayText": "subscribe(subscriptions)", "export": true, "for_": ["CookieStoreManager"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "subscribe(subscriptions)", "type": "method", "url": "#dom-cookiestoremanager-subscribe" },
                "#dom-cookiestoremanager-unsubscribe": { "displayText": "unsubscribe(subscriptions)", "export": true, "for_": ["CookieStoreManager"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "unsubscribe(subscriptions)", "type": "method", "url": "#dom-cookiestoremanager-unsubscribe" },
                "#dom-extendablecookiechangeevent-changed": { "displayText": "changed", "export": true, "for_": ["ExtendableCookieChangeEvent"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "changed", "type": "attribute", "url": "#dom-extendablecookiechangeevent-changed" },
                "#dom-extendablecookiechangeevent-deleted": { "displayText": "deleted", "export": true, "for_": ["ExtendableCookieChangeEvent"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "deleted", "type": "attribute", "url": "#dom-extendablecookiechangeevent-deleted" },
                "#dom-serviceworkerglobalscope-cookiestore": { "displayText": "cookieStore", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "cookieStore", "type": "attribute", "url": "#dom-serviceworkerglobalscope-cookiestore" },
                "#dom-serviceworkerregistration-cookies": { "displayText": "cookies", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "cookies", "type": "attribute", "url": "#dom-serviceworkerregistration-cookies" },
                "#dom-window-cookiestore": { "displayText": "cookieStore", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "cookieStore", "type": "attribute", "url": "#dom-window-cookiestore" },
                "#enumdef-cookiesamesite": { "displayText": "CookieSameSite", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieSameSite", "type": "enum", "url": "#enumdef-cookiesamesite" },
                "#extendablecookiechangeevent": { "displayText": "ExtendableCookieChangeEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "ExtendableCookieChangeEvent", "type": "interface", "url": "#extendablecookiechangeevent" },
                "#fire-a-change-event": { "displayText": "fire a change event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "fire a change event", "type": "dfn", "url": "#fire-a-change-event" },
                "#observable-changes": { "displayText": "observable changes", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "observable changes", "type": "dfn", "url": "#observable-changes" },
                "#prepare-lists": { "displayText": "prepare lists", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "prepare lists", "type": "dfn", "url": "#prepare-lists" },
                "#process-cookie-changes": { "displayText": "process cookie changes", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "process cookie changes", "type": "dfn", "url": "#process-cookie-changes" },
                "#query-cookies": { "displayText": "query cookies", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "query cookies", "type": "dfn", "url": "#query-cookies" },
                "#script-visible": { "displayText": "script-visible", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "script-visible", "type": "dfn", "url": "#script-visible" },
                "#serviceworkerglobalscope-associated-cookiestore": { "displayText": "associated cookiestore", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "associated cookiestore", "type": "dfn", "url": "#serviceworkerglobalscope-associated-cookiestore" },
                "#set-a-cookie": { "displayText": "set a cookie", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "set a cookie", "type": "dfn", "url": "#set-a-cookie" },
                "#typedefdef-cookielist": { "displayText": "CookieList", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "CookieList", "type": "typedef", "url": "#typedefdef-cookielist" },
                "#window-associated-cookiestore": { "displayText": "associated cookiestore", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cookie-store", "spec": "cookie-store-1", "status": "local", "text": "associated cookiestore", "type": "dfn", "url": "#window-associated-cookiestore" },
                "https://dom.spec.whatwg.org/#concept-document": { "displayText": "document", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "document", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-document" },
                "https://dom.spec.whatwg.org/#concept-event-create": { "displayText": "creating an event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "creating an event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-create" },
                "https://dom.spec.whatwg.org/#concept-event-dispatch": { "displayText": "dispatch", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "dispatch", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-dispatch" },
                "https://dom.spec.whatwg.org/#dictdef-eventinit": { "displayText": "EventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventInit", "type": "dictionary", "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
                "https://dom.spec.whatwg.org/#dom-event-bubbles": { "displayText": "bubbles", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "bubbles", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-bubbles" },
                "https://dom.spec.whatwg.org/#dom-event-cancelable": { "displayText": "cancelable", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "cancelable", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-cancelable" },
                "https://dom.spec.whatwg.org/#dom-event-type": { "displayText": "type", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "type", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-type" },
                "https://dom.spec.whatwg.org/#event": { "displayText": "Event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Event", "type": "interface", "url": "https://dom.spec.whatwg.org/#event" },
                "https://dom.spec.whatwg.org/#eventtarget": { "displayText": "EventTarget", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventTarget", "type": "interface", "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "https://encoding.spec.whatwg.org/#utf-8-decode-without-bom": { "displayText": "UTF-8 decode without BOM", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 decode without bom", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-decode-without-bom" },
                "https://encoding.spec.whatwg.org/#utf-8-encode": { "displayText": "UTF-8 encode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 encode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "https://fetch.spec.whatwg.org/#concept-fetch": { "displayText": "fetch", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "fetch", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-fetch" },
                "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque": { "displayText": "opaque origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "opaque origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" },
                "https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain": { "displayText": "domain", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "domain", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain" },
                "https://html.spec.whatwg.org/multipage/browsers.html#is-a-registrable-domain-suffix-of-or-is-equal-to": { "displayText": "is a registrable domain suffix of or is equal to", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "is a registrable domain suffix of or is equal to", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#is-a-registrable-domain-suffix-of-or-is-equal-to" },
                "https://html.spec.whatwg.org/multipage/browsers.html#same-origin": { "displayText": "same origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "same origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
                "https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie": { "displayText": "cookie", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "cookie", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate": { "displayText": "replaceState(data, unused, url)", "export": true, "for_": ["History"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "replaceState(data, unused, url)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": { "displayText": "Window", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Window", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url": { "displayText": "API base URL", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "api base url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url": { "displayText": "creation URL", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "creation url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": { "displayText": "origin", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source": { "displayText": "DOM manipulation task source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "dom manipulation task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": { "displayText": "EventHandler", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "EventHandler", "type": "typedef", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context": { "displayText": "non-secure context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "non-secure context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": { "displayText": "queue a global task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a global task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": { "displayText": "relevant settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context": { "displayText": "secure context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "secure context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" },
                "https://infra.spec.whatwg.org/#byte": { "displayText": "byte", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte" },
                "https://infra.spec.whatwg.org/#byte-lowercase": { "displayText": "byte-lowercase", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte-lowercase", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-lowercase" },
                "https://infra.spec.whatwg.org/#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte sequence", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "https://infra.spec.whatwg.org/#byte-sequence-length": { "displayText": "length", "export": true, "for_": ["byte sequence"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "length", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "https://infra.spec.whatwg.org/#byte-sequence-starts-with": { "displayText": "starts with", "export": true, "for_": ["byte sequence"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "starts with", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence-starts-with" },
                "https://infra.spec.whatwg.org/#c0-control": { "displayText": "c0 control", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "c0 control", "type": "dfn", "url": "https://infra.spec.whatwg.org/#c0-control" },
                "https://infra.spec.whatwg.org/#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "implementation-defined", "type": "dfn", "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "https://infra.spec.whatwg.org/#iteration-break": { "displayText": "break", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "break", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-break" },
                "https://infra.spec.whatwg.org/#iteration-continue": { "displayText": "continue", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "continue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-continue" },
                "https://infra.spec.whatwg.org/#list": { "displayText": "list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "list", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list" },
                "https://infra.spec.whatwg.org/#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-append" },
                "https://infra.spec.whatwg.org/#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
                "https://infra.spec.whatwg.org/#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is empty", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "https://infra.spec.whatwg.org/#list-item": { "displayText": "item", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-item" },
                "https://infra.spec.whatwg.org/#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "https://infra.spec.whatwg.org/#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-remove" },
                "https://infra.spec.whatwg.org/#ordered-set": { "displayText": "set", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "https://infra.spec.whatwg.org/#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#set-append" },
                "https://infra.spec.whatwg.org/#string-length": { "displayText": "length", "export": true, "for_": ["string", "JavaScript string", "ASCII string", "isomorphic string", "scalar value string"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "length", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string-length" },
                "https://infra.spec.whatwg.org/#tuple": { "displayText": "tuple", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "tuple", "type": "dfn", "url": "https://infra.spec.whatwg.org/#tuple" },
                "https://tc39.github.io/ecma262/#sec-time-values-and-time-range": { "displayText": "time values", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecma262", "spec": "ecma262", "status": "anchor-block", "text": "time values", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-time-values-and-time-range" },
                "https://url.spec.whatwg.org/#concept-basic-url-parser": { "displayText": "basic URL parser", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "basic url parser", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-basic-url-parser" },
                "https://url.spec.whatwg.org/#concept-host-parser": { "displayText": "host parser", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "host parser", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-host-parser" },
                "https://url.spec.whatwg.org/#concept-url-equals": { "displayText": "equal", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "equal", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-equals" },
                "https://url.spec.whatwg.org/#concept-url-host": { "displayText": "host", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "host", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-host" },
                "https://url.spec.whatwg.org/#concept-url-origin": { "displayText": "origin", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "origin", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-origin" },
                "https://url.spec.whatwg.org/#url-equals-exclude-fragments": { "displayText": "exclude fragments", "export": true, "for_": ["url/equals"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "exclude fragments", "type": "dfn", "url": "https://url.spec.whatwg.org/#url-equals-exclude-fragments" },
                "https://w3c.github.io/ServiceWorker/#dfn-scope-url": { "displayText": "scope url", "export": true, "for_": ["service worker registration"], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "scope url", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#dfn-scope-url" },
                "https://w3c.github.io/ServiceWorker/#dfn-service-worker": { "displayText": "service worker", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "service worker", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker" },
                "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration": { "displayText": "service worker registration", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "service worker registration", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" },
                "https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit": { "displayText": "ExtendableEventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "ExtendableEventInit", "type": "dictionary", "url": "https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" },
                "https://w3c.github.io/ServiceWorker/#extendableevent": { "displayText": "ExtendableEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "ExtendableEvent", "type": "interface", "url": "https://w3c.github.io/ServiceWorker/#extendableevent" },
                "https://w3c.github.io/ServiceWorker/#fire-functional-event": { "displayText": "fire a functional event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "fire a functional event", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#fire-functional-event" },
                "https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope": { "displayText": "ServiceWorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "ServiceWorkerGlobalScope", "type": "interface", "url": "https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" },
                "https://w3c.github.io/ServiceWorker/#serviceworkerregistration": { "displayText": "ServiceWorkerRegistration", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "ServiceWorkerRegistration", "type": "interface", "url": "https://w3c.github.io/ServiceWorker/#serviceworkerregistration" },
                "https://w3c.github.io/hr-time/#dom-domhighrestimestamp": { "displayText": "DOMHighResTimeStamp", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "DOMHighResTimeStamp", "type": "typedef", "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#SameObject": { "displayText": "SameObject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SameObject", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SameObject" },
                "https://webidl.spec.whatwg.org/#SecureContext": { "displayText": "SecureContext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "https://webidl.spec.whatwg.org/#a-new-promise": { "displayText": "a new promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a new promise", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "https://webidl.spec.whatwg.org/#a-promise-rejected-with": { "displayText": "a promise rejected with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise rejected with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-DOMString": { "displayText": "DOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "https://webidl.spec.whatwg.org/#idl-USVString": { "displayText": "USVString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "USVString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-frozen-array": { "displayText": "FrozenArray", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "FrozenArray", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
                "https://webidl.spec.whatwg.org/#idl-promise": { "displayText": "Promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "https://webidl.spec.whatwg.org/#idl-sequence": { "displayText": "sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "sequence", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "https://webidl.spec.whatwg.org/#reject": { "displayText": "reject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reject", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#reject" },
                "https://webidl.spec.whatwg.org/#resolve": { "displayText": "resolve", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "resolve", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#resolve" },
                "https://webidl.spec.whatwg.org/#securityerror": { "displayText": "SecurityError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecurityError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#securityerror" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>