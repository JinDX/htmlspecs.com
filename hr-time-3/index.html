<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.1.2">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "âš ";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>High Resolution Time</title>



    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "Â§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <style>
        ul.index {
            columns: 30ch;
            column-gap: 1.5em
        }

        ul.index li {
            list-style: inherit
        }

        ul.index li span {
            color: inherit;
            cursor: pointer;
            white-space: normal
        }

        #index-defined-here ul.index li {
            font-size: .9rem
        }

        ul.index code {
            color: inherit
        }

        #index-defined-here .print-only {
            display: none
        }

        @media print {
            #index-defined-here .print-only {
                display: initial
            }
        }
    </style>
    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--indextable-hover-text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            color: var(--bg, #fff);
            background-color: #000;
            background-color: var(--text, #000);
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="revision" content="060b3c95d503961f6d39bc6c0c10db99a3b2dd6b">
    <meta name="description" content="This specification defines an API that provides the time origin, and
        current time in sub-millisecond resolution, such that it is not subject
        to system clock skew or adjustments.">
    <link rel="canonical" href="https://www.w3.org/TR/hr-time-3/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <style>
        :root {
            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black
        }

        .assert {
            border-left: .5em solid #aaa;
            padding: .3em;
            border-color: #aaa;
            border-color: var(--assertion-border);
            background: #eee;
            background: var(--assertion-bg);
            color: #000;
            color: var(--assertion-text)
        }

        @media (prefers-color-scheme:dark) {
            :root {
                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text)
            }
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "shortName": "hr-time-3",
  "specStatus": "WD",
  "editors": [
    {
      "company": "Google LLC",
      "companyURL": "https://google.com/",
      "name": "Yoav Weiss",
      "url": "https://blog.yoav.ws/",
      "w3cid": "58673"
    }
  ],
  "formerEditors": [
    {
      "company": "Google LLC",
      "name": "Ilya Grigorik",
      "retiredDate": "2021-03-01",
      "url": "mailto:igrigorik@gmail.com",
      "w3cid": "56102"
    },
    {
      "company": "Google LLC",
      "name": "James Simonsen",
      "retiredDate": "2015-01-01",
      "url": "mailto:simonjam@google.com",
      "w3cid": "45726"
    },
    {
      "company": "Microsoft Corp.",
      "name": "Jatinder Mann",
      "retiredDate": "2014-02-01",
      "url": "mailto:jmann@microsoft.com",
      "w3cid": "44357"
    }
  ],
  "github": "w3c/hr-time",
  "caniuse": "high-resolution-time",
  "testSuiteURI": "https://wpt.live/hr-time/",
  "implementationReportURI": "https://wpt.fyi/hr-time/",
  "group": "webperf",
  "xref": "web-platform",
  "mdn": "hr-time",
  "highlightVars": true,
  "localBiblio": {
    "Temporal": {
      "href": "https://tc39.es/proposal-temporal/",
      "title": "Temporal",
      "status": "Stage 3 Proposal",
      "publisher": "ECMA TC39",
      "id": "temporal"
    }
  },
  "shortname": "hr-time-3",
  "gitRevision": "060b3c95d503961f6d39bc6c0c10db99a3b2dd6b",
  "publishDate": "2024-11-07",
  "previousMaturity": "WD",
  "previousPublishDate": "2023-07-19",
  "publishISODate": "2024-11-07T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 07 November 2024"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body class="h-entry" data-cite="WEBIDL HTML INFRA URL WEBIDL DOM FETCH">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">High Resolution Time</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C Working Draft</a> <time
                class="dt-published" datetime="2024-11-07">07 November 2024</time></p>
        <details open="">
            <summary>More details about this document</summary>
            <dl>
                <dt>This version:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2024/WD-hr-time-3-20241107/">https://www.w3.org/TR/2024/WD-hr-time-3-20241107/</a>
                </dd>
                <dt>Latest published version:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
                </dd>
                <dt>Latest editor's draft:</dt>
                <dd><a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a></dd>
                <dt>History:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/hr-time-3/">https://www.w3.org/standards/history/hr-time-3/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/hr-time/commits/">Commit history</a>
                </dd>
                <dt>Test suite:</dt>
                <dd><a href="https://wpt.live/hr-time/">https://wpt.live/hr-time/</a></dd>
                <dt>Implementation report:</dt>
                <dd>
                    <a href="https://wpt.fyi/hr-time/">https://wpt.fyi/hr-time/</a>
                </dd>



                <dt>Editor:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="58673">
                    <a class="u-url url p-name fn" href="https://blog.yoav.ws/">Yoav Weiss</a> (<a
                        class="p-org org h-org" href="https://google.com/">Google LLC</a>)
                </dd>
                <dt>
                    Former editors:
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="56102">
                    <a class="ed_mailto u-email email p-name" href="mailto:igrigorik@gmail.com">Ilya Grigorik</a> (<span
                        class="p-org org h-org">Google LLC</span>) - Until <time datetime="2021-03-01">01 March
                        2021</time>
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="45726">
                    <a class="ed_mailto u-email email p-name" href="mailto:simonjam@google.com">James Simonsen</a>
                    (<span class="p-org org h-org">Google LLC</span>) - Until <time datetime="2015-01-01">01 January
                        2015</time>
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="44357">
                    <a class="ed_mailto u-email email p-name" href="mailto:jmann@microsoft.com">Jatinder Mann</a> (<span
                        class="p-org org h-org">Microsoft Corp.</span>) - Until <time datetime="2014-02-01">01 February
                        2014</time>
                </dd>

                <dt>Feedback:</dt>
                <dd>
                    <a href="https://github.com/w3c/hr-time/">GitHub w3c/hr-time</a>
                    (<a href="https://github.com/w3c/hr-time/pulls/">pull requests</a>,
                    <a href="https://github.com/w3c/hr-time/issues/new/choose">new issue</a>,
                    <a href="https://github.com/w3c/hr-time/issues/">open issues</a>)
                </dd>


                <dt class="caniuse-title">Browser support:</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/high-resolution-time">caniuse.com</a></dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            Â©
            2024

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>Â®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>Abstract</h2>
        <p>
            This specification defines an API that provides the time origin, and
            current time in sub-millisecond resolution, such that it is not subject
            to system clock skew or adjustments.
        </p>
    </section>
    <section id="sotd" class="introductory">
        <h2>Status of This Document</h2>
        <p><em>This section describes the status of this
                document at the time of its publication. A list of current <abbr
                    title="World Wide Web Consortium">W3C</abbr>
                publications and the latest revision of this technical report can be found
                in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical
                    reports index</a> at
                https://www.w3.org/TR/.</em></p>
        <p>
            This document was published by the <a href="https://www.w3.org/groups/wg/webperf">Web Performance Working
                Group</a> as
            a Working Draft using the
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">Recommendation track</a>.
        </p>
        <p>Publication as a Working Draft does not
            imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. </p>
        <p>
            This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other
            than work in progress.

        </p>
        <p>

            This document was produced by a group
            operating under the
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                Patent
                Policy</a>.


            <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webperf/ipr">public list of any patent
                disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual
            knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a>
            must disclose the information in accordance with
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the <abbr
                    title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.

        </p>
        <p>
            This document is governed by the
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">03 November 2023 <abbr
                    title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    Introduction
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#use-cases"><bdi class="secno">1.1 </bdi>
                            Use-cases
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">1.2 </bdi>
                            Examples
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-concepts"><bdi class="secno">2. </bdi>
                    Time Concepts
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#sec-clocks"><bdi class="secno">2.1 </bdi>
                            Clocks
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#moments-and-durations"><bdi class="secno">2.2 </bdi>
                            Moments and Durations
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-tools"><bdi class="secno">3. </bdi>
                    Tools for Specification Authors
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#sec-tools-examples"><bdi class="secno">3.1 </bdi>
                            Examples
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-time-origin"><bdi class="secno">4. </bdi>
                    Time Origin
                </a></li>
            <li class="tocline"><a class="tocxref" href="#sec-domhighrestimestamp"><bdi class="secno">5. </bdi>
                    The <span data-export="" data-dfn-type="typedef" data-idl="typedef" data-title="DOMHighResTimeStamp"
                        data-dfn-for=""><code>DOMHighResTimeStamp</code></span> typedef
                </a></li>
            <li class="tocline"><a class="tocxref" href="#the-epochtimestamp-typedef"><bdi class="secno">6. </bdi>
                    The <span data-export="" data-dfn-type="typedef" data-idl="typedef" data-title="EpochTimeStamp"
                        data-dfn-for=""><code>EpochTimeStamp</code></span> typedef
                </a></li>
            <li class="tocline"><a class="tocxref" href="#sec-performance"><bdi class="secno">7. </bdi>
                    The <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="Performance"
                        data-dfn-for=""><code>Performance</code></span> interface
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#now-method"><bdi class="secno">7.1 </bdi>
                            <code>now()</code> method
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#timeorigin-attribute"><bdi class="secno">7.2 </bdi>
                            <code>timeOrigin</code> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#tojson-method"><bdi class="secno">7.3 </bdi>
                            <code>toJSON()</code> method
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#extensions-to-windoworworkerglobalscope-mixin"><bdi
                        class="secno">8. </bdi>
                    Extensions to <code>WindowOrWorkerGlobalScope</code> mixin
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#the-performance-attribute"><bdi class="secno">8.1
                            </bdi>
                            The <code>performance</code> attribute
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-security"><bdi class="secno">9. </bdi>
                    Security Considerations
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#clock-resolution"><bdi class="secno">9.1 </bdi>
                            Clock resolution
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#clock-drift"><bdi class="secno">9.2 </bdi>
                            Clock drift
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#sec-privacy"><bdi class="secno">10. </bdi>
                    Privacy Considerations
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">11. </bdi>Conformance</a></li>
            <li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">A. </bdi>Index</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">A.1 </bdi>Terms
                            defined by this specification</a></li>
                    <li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">A.2
                            </bdi>Terms defined by reference</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">B. </bdi>IDL Index</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">C. </bdi>
                    Acknowledgments
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">D. </bdi>References</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">D.1
                            </bdi>Normative references</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">D.2
                            </bdi>Informative references</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section id="introduction" class="informative">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                Introduction
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            The ECMAScript Language specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                    title="ECMAScript Language Specification">ECMA-262</a></cite>] defines the
            <code><dfn data-no-export="" id="dfn-date" class="externalDFN" data-dfn-type="dfn"><a href="https://tc39.es/ecma262/multipage/#sec-date-objects" id="ref-for-index-term-date-1">Date</a></dfn></code>
            object as a time value
            representing time in milliseconds since 01 January, 1970 UTC. For most
            purposes, this definition of time is sufficient as these values
            represent time to millisecond precision for any moment that is within
            approximately 285,616 years from 01 January, 1970 UTC.
        </p>
        <p>
            In practice, these definitions of time are subject to both clock skew
            and adjustment of the system clock. The value of time may not always be
            monotonically increasing and subsequent values may either decrease or
            remain the same.
        </p>
        <p>
            For example, the following script may record a positive number,
            negative number, or zero for computed <code>duration</code>:
        </p>
        <div class="example" id="example-1">
            <div class="marker">
                <a class="self-link" href="#example-1">Example<bdi> 1</bdi></a>
            </div>
            <pre
                aria-busy="false"><code class="hljs js"><span class="hljs-keyword">var</span> mark_start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
<span class="hljs-title function_">doTask</span>(); <span class="hljs-comment">// Some task</span>
<span class="hljs-keyword">var</span> duration = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - mark_start;</code></pre>
        </div>
        <p>
            For certain tasks this definition of time may not be sufficient as it:
        </p>
        <ul>
            <li>Does not have a stable monotonic clock, and as a result, it is
                subject to system clock skew.
            </li>
            <li>Does not provide sub-millisecond time resolution.
            </li>
        </ul>
        <p>
            This specification does not propose changing the behavior of
            <code><dfn data-no-export="" id="dfn-date-now" class="externalDFN" data-dfn-type="dfn"><a href="https://tc39.es/ecma262/multipage/#sec-date.now" id="ref-for-index-term-date-now-1">Date.now()</a></dfn></code>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                    title="ECMAScript Language Specification">ECMA-262</a></cite>] as it is
            genuinely useful in determining the current value of the calendar time
            and has a long history of usage. The <a data-link-type="idl" data-lt="DOMHighResTimeStamp"
                href="#dom-domhighrestimestamp" class="internalDFN"
                id="ref-for-dom-domhighrestimestamp-1"><code>DOMHighResTimeStamp</code></a> type,
            <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                id="ref-for-dom-performance-1"><code>Performance</code></a>.<a data-link-type="idl" data-lt="now()"
                href="#dom-performance-now" class="internalDFN"
                id="ref-for-dom-performance-now-1"><code>now</code></a><code>()</code> method, and
            <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                id="ref-for-dom-performance-2"><code>Performance</code></a>.<a data-link-type="idl"
                href="#dom-performance-timeorigin" class="internalDFN"
                id="ref-for-dom-performance-timeorigin-1"><code>timeOrigin</code></a> attributes of the
            <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                id="ref-for-dom-performance-3"><code>Performance</code></a> interface resolve the above issues by
            providing
            monotonically increasing time values with sub-millisecond resolution.
        </p>
        <div class="note" role="note" id="issue-container-generatedID">
            <div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Note</span></div>
            <p class="">
                Providing sub-millisecond resolution is not a mandatory part of this
                specification. Implementations may choose to limit the timer resolution
                they expose for privacy and security reasons, and not expose
                sub-millisecond timers. Use-cases that rely on sub-millisecond
                resolution may not be satisfied when that happens.
            </p>
        </div>
        <section id="use-cases" class="informative">
            <div class="header-wrapper">
                <h3 id="x1-1-use-cases"><bdi class="secno">1.1 </bdi>
                    Use-cases
                </h3><a class="self-link" href="#use-cases" aria-label="Permalink for Section 1.1"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                This specification defines a few different capabilities: it provides
                timestamps based on a stable, monotonic clock, comparable across
                contexts, with potential sub-millisecond resolution.
            </p>
            <p>
                The need for a stable monotonic clock when talking about performance
                measurements stems from the fact that unrelated clock skew can
                distort measurements and render them useless. For example, when
                attempting to accurately measure the elapsed time of navigating to a
                Document, fetching of resources or execution of script, a
                monotonically increasing clock with sub-millisecond resolution is
                desired.
            </p>
            <p>
                Comparing timestamps between contexts is essential e.g. when
                synchronizing work between a <a data-link-type="idl" data-lt="Worker" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                    id="ref-for-index-term-worker-interface-1"><code>Worker</code></a> and the main thread or when
                instrumenting such work in order to create a unified view of the
                event timeline.
            </p>
            <p>
                Finally, the need for sub-millisecond timers revolves around the
                following use-cases:
            </p>
            <ul>
                <li>Ability to schedule work in sub-millisecond intervals. That is
                    particularly important on the main thread, where work can interfere
                    with frame rendering which needs to happen in short and regular
                    intervals, to avoid user-visible jank.
                </li>
                <li>When calculating the frame rate of a script-based animation,
                    developers will need sub-millisecond resolution in order to determine
                    if an animation is drawing at 60 FPS. Without sub-millisecond
                    resolution, a developer can only determine if an animation is drawing
                    at 58.8 FPS (1000ms / 16) or 62.5 FPS (1000ms / 17).
                </li>
                <li>When collecting in-the-wild measurements of JS code (e.g. using
                    User-Timing), developers may be interested in gathering
                    sub-milliseconds timing of their functions, to catch regressions
                    early.
                </li>
                <li>When attempting to cue audio to a specific point in an animation
                    or ensure that the audio and animation are perfectly synchronized,
                    developers will need to accurately measure the amount of time
                    elapsed.
                </li>
            </ul>
        </section>
        <section id="examples" class="informative">
            <div class="header-wrapper">
                <h3 id="x1-2-examples"><bdi class="secno">1.2 </bdi>
                    Examples
                </h3><a class="self-link" href="#examples" aria-label="Permalink for Section 1.2"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                A developer may wish to construct a timeline of their entire
                application, including events from <a data-link-type="idl" data-lt="Worker" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                    id="ref-for-index-term-worker-interface-2"><code>Worker</code></a> or <a data-link-type="idl"
                    data-lt="SharedWorker" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/workers.html#sharedworker"
                    id="ref-for-index-term-sharedworker-interface-1"><code>SharedWorker</code></a>,
                which have different <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-1">time origins</a>. To
                display such events on the same timeline, the application can
                translate the <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                    class="internalDFN" id="ref-for-dom-domhighrestimestamp-2"><code>DOMHighResTimeStamp</code></a>s
                with the help of the
                <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                    id="ref-for-dom-performance-4"><code>Performance</code></a>.<a data-link-type="idl"
                    href="#dom-performance-timeorigin" class="internalDFN"
                    id="ref-for-dom-performance-timeorigin-2"><code>timeOrigin</code></a> attribute.
            </p>
            <div class="example" id="example-2">
                <div class="marker">
                    <a class="self-link" href="#example-2">Example<bdi> 2</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// ---- worker.js -----------------------------</span>
<span class="hljs-comment">// Shared worker script</span>
onconnect = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">var</span> port = e.<span class="hljs-property">ports</span>[<span class="hljs-number">0</span>];
  port.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-comment">// Time execution in worker</span>
    <span class="hljs-keyword">var</span> task_start = performance.<span class="hljs-title function_">now</span>();
    result = <span class="hljs-title function_">runSomeWorkerTask</span>();
    <span class="hljs-keyword">var</span> task_end = performance.<span class="hljs-title function_">now</span>();
  }

  <span class="hljs-comment">// Send results and epoch-relative timestamps to another context</span>
  port.<span class="hljs-title function_">postMessage</span>({
    <span class="hljs-string">'task'</span>: <span class="hljs-string">'Some worker task'</span>,
    <span class="hljs-string">'start_time'</span>: task_start + performance.<span class="hljs-property">timeOrigin</span>,
    <span class="hljs-string">'end_time'</span>: task_end + performance.<span class="hljs-property">timeOrigin</span>,
    <span class="hljs-string">'result'</span>: result
  });
}

<span class="hljs-comment">// ---- application.js ------------------------</span>
<span class="hljs-comment">// Timing tasks in the document</span>
<span class="hljs-keyword">var</span> task_start = performance.<span class="hljs-title function_">now</span>();
<span class="hljs-title function_">runSomeApplicationTask</span>();
<span class="hljs-keyword">var</span> task_end = performance.<span class="hljs-title function_">now</span>();

<span class="hljs-comment">// developer provided method to upload runtime performance data</span>
<span class="hljs-title function_">reportEventToAnalytics</span>({
  <span class="hljs-string">'task'</span>: <span class="hljs-string">'Some document task'</span>,
  <span class="hljs-string">'start_time'</span>: task_start,
  <span class="hljs-string">'duration'</span>: task_end - task_start
});

<span class="hljs-comment">// Translating worker timestamps into document's time origin</span>
<span class="hljs-keyword">var</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedWorker</span>(<span class="hljs-string">'worker.js'</span>);
worker.<span class="hljs-property">port</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) {
  <span class="hljs-keyword">var</span> msg = event.<span class="hljs-property">data</span>;

  <span class="hljs-comment">// translate epoch-relative timestamps into document's time origin</span>
  msg.<span class="hljs-property">start_time</span> = msg.<span class="hljs-property">start_time</span> - performance.<span class="hljs-property">timeOrigin</span>;
  msg.<span class="hljs-property">end_time</span> = msg.<span class="hljs-property">end_time</span> - performance.<span class="hljs-property">timeOrigin</span>;

  <span class="hljs-title function_">reportEventToAnalytics</span>(msg);
}</code></pre>
            </div>
        </section>
    </section>
    <section id="sec-concepts">
        <div class="header-wrapper">
            <h2 id="x2-time-concepts"><bdi class="secno">2. </bdi>
                Time Concepts
            </h2><a class="self-link" href="#sec-concepts" aria-label="Permalink for Section 2."></a>
        </div>

        <section id="sec-clocks">
            <div class="header-wrapper">
                <h3 id="x2-1-clocks"><bdi class="secno">2.1 </bdi>
                    Clocks
                </h3><a class="self-link" href="#sec-clocks" aria-label="Permalink for Section 2.1"></a>
            </div>

            <p>
                A <dfn data-plurals="clocks" id="dfn-clock" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">clock</dfn> tracks the passage of time and can report the
                <dfn id="dfn-unsafe-current-time" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">unsafe current
                    time</dfn> that an algorithm step is executing.
                There are many kinds of clocks. All clocks on the web platform
                attempt to count 1 millisecond of clock time per 1 millisecond of
                real-world time, but they differ in how they handle cases where they
                can't be exactly correct.
            </p>
            <ul>
                <li>The <dfn data-export="" id="dfn-wall-clock" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">wall clock</dfn>'s <dfn data-dfn-for="wall clock" data-export=""
                        id="wall-clock-unsafe-current-time" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">unsafe current time</dfn> is always
                    as close as possible to a user's notion of time. Since a computer
                    sometimes runs slow or fast or loses track of time, its <a data-link-type="dfn|abstract-op"
                        href="#dfn-wall-clock" class="internalDFN" id="ref-for-dfn-wall-clock-1">wall clock</a>
                    sometimes needs to be adjusted, which means the <a data-link-type="dfn|abstract-op"
                        href="#wall-clock-unsafe-current-time" class="internalDFN"
                        id="ref-for-wall-clock-unsafe-current-time-1">unsafe current time</a> can decrease, making it
                    unreliable for
                    performance measurement or recording the orders of events. The web
                    platform shares a <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                        id="ref-for-dfn-wall-clock-2">wall clock</a> with [<cite><a class="bibref"
                            data-link-type="biblio" href="#bib-ecma-262"
                            title="ECMAScript Language Specification">ECMA-262</a></cite>]
                    <dfn data-no-export="" id="dfn-time" class="externalDFN" data-dfn-type="dfn"><a
                            href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                            id="ref-for-index-term-time-1">time</a></dfn>.
                </li>
                <li>
                    <p>
                        The <dfn data-export="" id="dfn-monotonic-clock" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">monotonic clock</dfn>'s <dfn data-export=""
                            data-dfn-for="monotonic clock" id="monotonic-clock-unsafe-current-time" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn">unsafe current time</dfn>
                        never decreases, so it can't be changed by system clock
                        adjustments. The <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock"
                            class="internalDFN" id="ref-for-dfn-monotonic-clock-1">monotonic clock</a> only exists
                        within a single
                        execution of the <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-index-term-user-agent-1">user
                            agent</a>, so it can't be used to compare
                        events that might happen in different executions.
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-0">
                        <div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            Since the <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock"
                                class="internalDFN" id="ref-for-dfn-monotonic-clock-2">monotonic clock</a> can't be
                            adjusted to match the
                            user's notion of time, it should be used for measurement, rather
                            than user-visible times. For any time communication with the
                            user, use the wall clock.
                        </p>
                    </div>
                    <div class="note" role="note" id="issue-container-generatedID-1">
                        <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            The user agent can pick a new <a data-link-type="dfn|abstract-op"
                                href="#dfn-estimated-monotonic-time-of-the-unix-epoch" class="internalDFN"
                                id="ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-1">estimated monotonic time
                                of the Unix epoch</a> when the browser restarts, when it starts an
                            isolated browsing sessionâ€”e.g. incognito or a similar browsing
                            modeâ€”or when it creates an <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                                id="ref-for-index-term-environment-settings-object-1">environment settings object</a>
                            that
                            can't communicate with any existing settings objects. As a
                            result, developers should not use shared timestamps as absolute
                            time that holds its monotonic properties across all past,
                            present, and future contexts; in practice, the monotonic
                            properties only apply for contexts that can reach each other by
                            exchanging messages via one of the provided messaging mechanisms
                            - e.g. <a data-link-type="idl" data-lt="postMessage(message, options)" data-type="method"
                                href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-window-postmessage-options"
                                id="ref-for-index-term-postmessage-message-options-for-window-1"><code>postMessage</code></a><code>(<var>message</var>, <var>options</var>)</code>,
                            <a data-link-type="idl" data-lt="BroadcastChannel" data-type="interface"
                                href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcastchannel"
                                id="ref-for-index-term-broadcastchannel-interface-1"><code>BroadcastChannel</code></a>,
                            etc.
                        </p>
                    </div>
                    <div class="note" role="note" id="issue-container-generatedID-2">
                        <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            In certain scenarios (e.g. when a tab is backgrounded), the user
                            agent may choose to throttle timers and periodic callbacks run in
                            that context or even freeze them entirely. Any such throttling
                            should not affect the resolution or accuracy of the time returned
                            by the monotonic clock.
                        </p>
                    </div>
                </li>
            </ul>
        </section>
        <section id="moments-and-durations">
            <div class="header-wrapper">
                <h3 id="x2-2-moments-and-durations"><bdi class="secno">2.2 </bdi>
                    Moments and Durations
                </h3><a class="self-link" href="#moments-and-durations" aria-label="Permalink for Section 2.2"></a>
            </div>

            <p>
                Each <a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                    id="ref-for-dfn-clock-1">clock</a>'s <a data-link-type="dfn|abstract-op"
                    href="#dfn-unsafe-current-time" class="internalDFN" id="ref-for-dfn-unsafe-current-time-1">unsafe
                    current time</a> returns an <dfn data-plurals="unsafe moments" id="dfn-unsafe-moment" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">unsafe
                    moment</dfn>. <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                    id="ref-for-dfn-coarsen-time-1">Coarsen time</a> converts these <a data-link-type="dfn|abstract-op"
                    href="#dfn-unsafe-moment" class="internalDFN" id="ref-for-dfn-unsafe-moment-1">unsafe moments</a> to
                <dfn data-export="" data-lt="moment|coarsened moments" data-plurals="moments" id="dfn-moment"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">coarsened moments</dfn> or just
                <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-1">moments</a>. <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-moment"
                    class="internalDFN" id="ref-for-dfn-unsafe-moment-2">Unsafe moments</a> and <a
                    data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-2">moments</a> from different clocks
                are not comparable.
            </p>
            <div class="note" role="note" id="issue-container-generatedID-3">
                <div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>Note</span></div>
                <p class="">
                    <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                        id="ref-for-dfn-moment-3">Moments</a> and <a data-link-type="dfn|abstract-op"
                        href="#dfn-unsafe-moment" class="internalDFN" id="ref-for-dfn-unsafe-moment-3">unsafe
                        moments</a> represent points in time, which
                    means they can't be directly stored as numbers. Implementations will
                    usually represent a <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                        id="ref-for-dfn-moment-4">moment</a> as a <a data-link-type="dfn|abstract-op"
                        href="#dfn-duration" class="internalDFN" id="ref-for-dfn-duration-1">duration</a> from some
                    other
                    fixed point in time, but specifications ought to deal in the
                    <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                        id="ref-for-dfn-moment-5">moments</a> themselves.
                </p>
            </div>
            <p>
                A <dfn data-export="" data-plurals="durations" id="dfn-duration" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">duration</dfn> is the distance from one
                <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-6">moment</a> to another from the same <a data-link-type="dfn|abstract-op"
                    href="#dfn-clock" class="internalDFN" id="ref-for-dfn-clock-2">clock</a>. Neither endpoint can
                be an <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-moment" class="internalDFN"
                    id="ref-for-dfn-unsafe-moment-4">unsafe moment</a> so that both <a data-link-type="dfn|abstract-op"
                    href="#dfn-duration" class="internalDFN" id="ref-for-dfn-duration-2">durations</a> and differences
                of
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-3">durations</a> mitigate the concerns in <a href="#clock-resolution"
                    data-matched-text="[[[#clock-resolution]]]" class="sec-ref"><bdi class="secno">9.1 </bdi>
                    Clock resolution</a>.
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-4">Durations</a> are measured in milliseconds, seconds, etc. Since all
                <a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                    id="ref-for-dfn-clock-3">clocks</a> attempt to count at the same rate, <a
                    data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-5">durations</a> don't
                have an associated <a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                    id="ref-for-dfn-clock-4">clock</a>, and a <a data-link-type="dfn|abstract-op" href="#dfn-duration"
                    class="internalDFN" id="ref-for-dfn-duration-6">duration</a> calculated from two
                <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-7">moments</a> on one clock can be added to a <a
                    data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-8">moment</a> from a second
                <a data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                    id="ref-for-dfn-clock-5">clock</a>, to produce another <a data-link-type="dfn|abstract-op"
                    href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-9">moment</a> on that second <a
                    data-link-type="dfn|abstract-op" href="#dfn-clock" class="internalDFN"
                    id="ref-for-dfn-clock-6">clock</a>.
            </p>
            <p>
                The <dfn data-export="" id="dfn-duration-from" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">duration from</dfn> <var data-type="moment">a</var> to <var
                    data-type="moment">b</var>
                is the result of the following algorithm:
            </p>
            <ol class="algorithm">
                <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                        data-type="moment">a</var> was created by the same <a data-link-type="dfn|abstract-op"
                        href="#dfn-clock" class="internalDFN" id="ref-for-dfn-clock-7">clock</a> as <var
                        data-type="moment">b</var>.
                </li>
                <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: Both <var
                        data-type="moment">a</var> and <var data-type="moment">b</var> are <a
                        data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                        id="ref-for-dfn-moment-10">coarsened moments</a>.
                </li>
                <li>Return the amount of time from <var data-type="moment">a</var> to <var data-type="moment">b</var> as
                    a <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                        id="ref-for-dfn-duration-7">duration</a>. If
                    <var data-type="moment">b</var> came before <var data-type="moment">a</var>, this will be a negative
                    <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                        id="ref-for-dfn-duration-8">duration</a>.
                </li>
            </ol>
            <p>
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-9">Durations</a> can be used implicitly as <a data-link-type="idl"
                    data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp" class="internalDFN"
                    id="ref-for-dom-domhighrestimestamp-3"><code>DOMHighResTimeStamp</code></a>s. To
                <dfn id="dfn-implicitly-convert-a-duration-to-a-timestamp" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">implicitly convert a duration to a timestamp</dfn>, given a
                <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-10">duration</a> <var data-type="duration">d</var>, return the number of
                milliseconds in <var data-type="duration">d</var>.
            </p>
        </section>
    </section>
    <section id="sec-tools">
        <div class="header-wrapper">
            <h2 id="x3-tools-for-specification-authors"><bdi class="secno">3. </bdi>
                Tools for Specification Authors
            </h2><a class="self-link" href="#sec-tools" aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            For measuring time within a single page (within the context of a single
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-2">environment settings object</a>), use the <var
                data-type="environment
        settings object">settingsObject</var>'s <dfn data-export="" data-dfn-for="environment settings object"
                id="dfn-current-relative-timestamp" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">current
                relative timestamp</dfn>, defined
            as the <a data-link-type="dfn|abstract-op" href="#dfn-duration-from" class="internalDFN"
                id="ref-for-dfn-duration-from-1">duration from</a> <var data-type="environment
        settings object">settingsObject</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-2">time origin</a> to the <var
                data-type="environment
        settings object">settingsObject</var>'s <a data-link-type="dfn|abstract-op" href="#dfn-current-monotonic-time"
                class="internalDFN" id="ref-for-dfn-current-monotonic-time-1">current monotonic time</a>. This value can
            be exposed directly to
            JavaScript using the <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-11">duration</a>'s <a data-link-type="dfn|abstract-op"
                data-lt="implicitly convert a duration to a timestamp"
                href="#dfn-implicitly-convert-a-duration-to-a-timestamp" class="internalDFN"
                id="ref-for-dfn-implicitly-convert-a-duration-to-a-timestamp-1">implicit conversion</a> to <a
                data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp" class="internalDFN"
                id="ref-for-dom-domhighrestimestamp-4"><code>DOMHighResTimeStamp</code></a>.
        </p>
        <p>
            For measuring time within a single UA execution when an <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-3">environment settings object</a>'s <a
                data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-3">time origin</a> isn't
            an appropriate base for comparison, create <a data-link-type="dfn|abstract-op" href="#dfn-moment"
                class="internalDFN" id="ref-for-dfn-moment-11">moments</a> using an
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-4">environment settings object</a>'s <a
                data-link-type="dfn|abstract-op" href="#dfn-current-monotonic-time" class="internalDFN"
                id="ref-for-dfn-current-monotonic-time-2">current monotonic time</a>. An <a
                data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-5">environment settings object</a>
            <var data-type="environment settings object">settingsObject</var>'s <dfn data-export=""
                data-dfn-for="environment settings object" id="dfn-current-monotonic-time" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">current monotonic time</dfn>
            is the result of the following steps:
        </p>
        <ol>
            <li>Let <var data-type="unsafe moment on the monotonic clock">unsafeMonotonicTime</var> be
                the <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                    id="ref-for-dfn-monotonic-clock-3">monotonic clock</a>'s <a data-link-type="dfn|abstract-op"
                    href="#monotonic-clock-unsafe-current-time" class="internalDFN"
                    id="ref-for-monotonic-clock-unsafe-current-time-1">unsafe current time</a>.
            </li>
            <li>Return the result of calling <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time"
                    class="internalDFN" id="ref-for-dfn-coarsen-time-2">coarsen time</a> with
                <var data-type="unsafe moment on the monotonic clock">unsafeMonotonicTime</var> and <var
                    data-type="environment settings object">settingsObject</var>'s <a data-link-type="dfn|abstract-op"
                    data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                    id="ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-1">cross-origin
                    isolated capability</a>.
            </li>
        </ol>
        <p>
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-12">Moments</a> from the <a data-link-type="dfn|abstract-op"
                href="#dfn-monotonic-clock" class="internalDFN" id="ref-for-dfn-monotonic-clock-4">monotonic clock</a>
            can't be directly represented
            in JavaScript or HTTP. Instead, expose a <a data-link-type="dfn|abstract-op" href="#dfn-duration"
                class="internalDFN" id="ref-for-dfn-duration-12">duration</a> between two such
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-13">moments</a>.
        </p>
        <p>
            For measuring time across multiple UA executions, create <a data-link-type="dfn|abstract-op"
                href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-14">moments</a>
            using the <a data-link-type="dfn|abstract-op" href="#dfn-current-wall-time" class="internalDFN"
                id="ref-for-dfn-current-wall-time-1">current coarsened wall time</a> or (if you need higher
            precision in <a data-link-type="dfn|abstract-op" data-lt="cross-origin isolated capability" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                id="ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-2">cross-origin-isolated
                contexts</a>) an <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-6">environment settings object</a>'s <a
                data-link-type="dfn|abstract-op" href="#dfn-eso-current-wall-time" class="internalDFN"
                id="ref-for-dfn-eso-current-wall-time-1">current wall time</a>. The
            <dfn data-export="" id="dfn-current-wall-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">current coarsened wall
                time</dfn> is the result of calling <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time"
                class="internalDFN" id="ref-for-dfn-coarsen-time-3">coarsen time</a> with the <a
                data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                id="ref-for-dfn-wall-clock-3">wall clock</a>'s <a data-link-type="dfn|abstract-op"
                href="#wall-clock-unsafe-current-time" class="internalDFN"
                id="ref-for-wall-clock-unsafe-current-time-2">unsafe current time</a>.
        </p>
        <p>
            An <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-7">environment settings object</a> <var data-type="environment settings
        object">settingsObject</var>'s <dfn data-export="" data-dfn-for="environment settings object"
                id="dfn-eso-current-wall-time" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">current
                wall time</dfn> is the result of the following steps:
        </p>
        <ol>
            <li>Let <var data-type="unsafe moment on the wall clock">unsafeWallTime</var> be the <a
                    data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                    id="ref-for-dfn-wall-clock-4">wall clock</a>'s <a data-link-type="dfn|abstract-op"
                    href="#wall-clock-unsafe-current-time" class="internalDFN"
                    id="ref-for-wall-clock-unsafe-current-time-3">unsafe current time</a>.
            </li>
            <li>Return the result of calling <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time"
                    class="internalDFN" id="ref-for-dfn-coarsen-time-4">coarsen time</a> with <var
                    data-type="unsafe moment on the wall clock">unsafeWallTime</var>
                and <var data-type="environment settings
        object">settingsObject</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                    id="ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-3">cross-origin
                    isolated capability</a>.
            </li>
        </ol>
        <p class="advisement">
            When using <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-15">moments</a> from the <a data-link-type="dfn|abstract-op"
                href="#dfn-wall-clock" class="internalDFN" id="ref-for-dfn-wall-clock-5">wall clock</a>, be sure that
            your
            design accounts for situations when the user adjusts their clock either
            forward or backward.
        </p>
        <p>
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-16">Moments</a> from the <a data-link-type="dfn|abstract-op"
                href="#dfn-wall-clock" class="internalDFN" id="ref-for-dfn-wall-clock-6">wall clock</a> can be
            represented in JavaScript by
            passing the number of milliseconds from the <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch"
                class="internalDFN" id="ref-for-dfn-unix-epoch-1">Unix epoch</a> to that
            <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-17">moment</a> into the <a data-link-type="idl" data-lt="Date"
                href="https://tc39.es/ecma262/multipage/#sec-date-objects"
                id="ref-for-index-term-date-2"><code><code>Date</code></code></a> constructor, or by passing the number
            of
            nanoseconds from the <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                id="ref-for-dfn-unix-epoch-2">Unix epoch</a> to that <a data-link-type="dfn|abstract-op"
                href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-18">moment</a> into the
            <a data-link-type="idl" href="https://tc39.es/proposal-temporal/#sec-temporal-instant-constructor"
                id="ref-for-index-term-temporal-instant-1">Temporal.Instant</a>
            constructor.
        </p>
        <p class="advisement tracking-vector">
            Avoid sending similar representations between computers, as doing so
            will expose the user's clock skew, which is a <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://infra.spec.whatwg.org/#tracking-vector" id="ref-for-index-term-tracking-vector-1">tracking
                vector</a>.
            Instead, use an approach similar to <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock"
                class="internalDFN" id="ref-for-dfn-monotonic-clock-5">monotonic clock</a> <a
                data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-19">moments</a> of
            sending a duration between two <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-20">moments</a>.
        </p>
        <section id="sec-tools-examples">
            <div class="header-wrapper">
                <h3 id="x3-1-examples"><bdi class="secno">3.1 </bdi>
                    Examples
                </h3><a class="self-link" href="#sec-tools-examples" aria-label="Permalink for Section 3.1"></a>
            </div>

            <div class="example" id="example-current-relative-timestamp">
                <p>
                    The time a DOM event happens can be reported using:
                </p>
                <ol start="7">
                    <li>Initialize <var>event</var>'s <a data-link-type="idl" data-type="attribute"
                            href="https://dom.spec.whatwg.org/#dom-event-timestamp"
                            id="ref-for-index-term-timestamp-attribute-for-event-1"><code>timeStamp</code></a> attribute
                        to
                        <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-index-term-this-1">this</a>'s <a data-link-type="dfn|abstract-op"
                            data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-index-term-relevant-settings-object-1">relevant settings object</a>'s <a
                            data-link-type="dfn|abstract-op" href="#dfn-current-relative-timestamp" class="internalDFN"
                            id="ref-for-dfn-current-relative-timestamp-1">current relative timestamp</a>.
                    </li>
                </ol>
            </div>
            <div class="example" id="example-current-monotonic-time">
                <p>
                    The age of an error report can be computed using:
                </p>
                <ol start="7">
                    <li>Initialize <var>report</var>'s <a href="https://www.w3.org/TR/reporting-1/#report-timestamp"
                            id="ref-for-index-term-generation-time-1">generation time</a> to <var>settings</var>'
                        <a data-link-type="dfn|abstract-op" href="#dfn-current-monotonic-time" class="internalDFN"
                            id="ref-for-dfn-current-monotonic-time-3">current monotonic time</a>.
                    </li>
                </ol>
                <p>
                    Later:
                </p>
                <ol start="2">
                    <li>Let <var>data</var> be a map with the following key/value pairs:
                        <dl>
                            <dt>
                                age
                            </dt>
                            <dd>
                                The number of milliseconds between <var>report</var>'s <a
                                    href="https://www.w3.org/TR/reporting-1/#report-timestamp"
                                    id="ref-for-index-term-generation-time-2">generation time</a> and
                                <var>context</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                                    id="ref-for-index-term-relevant-settings-object-2">relevant settings object</a>'s <a
                                    data-link-type="dfn|abstract-op" href="#dfn-current-monotonic-time"
                                    class="internalDFN" id="ref-for-dfn-current-monotonic-time-4">current monotonic
                                    time</a>, rounded to the
                                nearest integer.
                            </dd>
                            <dd>
                                ...
                            </dd>
                        </dl>
                    </li>
                </ol>
            </div>
            <div class="example" id="example-current-wall-time">
                <p>
                    Multi-day attribution report expirations can be handled as:
                </p>
                <ol start="2">
                    <li>Let <var>source</var> be a new attribution source struct whose items
                        are:
                        <dl>
                            <dt>
                                ...
                            </dt>
                            <dt>
                                source time
                            </dt>
                            <dd>
                                <var>context</var>'s <a data-link-type="dfn|abstract-op"
                                    href="#dfn-eso-current-wall-time" class="internalDFN"
                                    id="ref-for-dfn-eso-current-wall-time-2">current wall time</a>
                            </dd>
                            <dt>
                                expiry
                            </dt>
                            <dd>
                                <a href="https://html.spec.whatwg.org/multipage/#parse-a-duration-string"
                                    id="ref-for-index-term-parse-a-duration-string-1">parse a duration
                                    string</a> from <code><var>value</var>["expiry"]</code>
                            </dd>
                        </dl>
                    </li>
                </ol>
                <p>
                    Days later:
                </p>
                <ol start="2">
                    <li>If <var>context</var>'s <a data-link-type="dfn|abstract-op" href="#dfn-eso-current-wall-time"
                            class="internalDFN" id="ref-for-dfn-eso-current-wall-time-3">current wall time</a> is less
                        than <var>source</var>'s source time + <var>source</var>'s expiry,
                        send a report.
                    </li>
                </ol>
            </div>
        </section>
    </section>
    <section id="sec-time-origin">
        <div class="header-wrapper">
            <h2 id="x4-time-origin"><bdi class="secno">4. </bdi>
                Time Origin
            </h2><a class="self-link" href="#sec-time-origin" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            The <dfn data-export="" id="dfn-unix-epoch" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Unix
                epoch</dfn> is the <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-21">moment</a> on the
            <a data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                id="ref-for-dfn-wall-clock-7">wall clock</a> corresponding to 1 January 1970 00:00:00 UTC.
        </p>
        <p>
            Each group of <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-8">environment settings objects</a> that could
            possibly
            communicate in any way has an <dfn id="dfn-estimated-monotonic-time-of-the-unix-epoch" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">estimated monotonic time of the Unix
                epoch</dfn>, a <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-22">moment</a> on the <a data-link-type="dfn|abstract-op"
                href="#dfn-monotonic-clock" class="internalDFN" id="ref-for-dfn-monotonic-clock-6">monotonic clock</a>,
            whose value is
            initialized by the following steps:
        </p>
        <ol data-algorithm="initialize the estimated monotonic time of the Unix epoch">
            <li>Let <var data-type="unsafe moment on the wall clock">wall time</var> be the <a
                    data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                    id="ref-for-dfn-wall-clock-8">wall clock</a>'s <a data-link-type="dfn|abstract-op"
                    href="#wall-clock-unsafe-current-time" class="internalDFN"
                    id="ref-for-wall-clock-unsafe-current-time-4">unsafe current time</a>.
            </li>
            <li>Let <var data-type="unsafe moment on the monotonic clock">monotonic time</var> be the
                <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                    id="ref-for-dfn-monotonic-clock-7">monotonic clock</a>'s <a data-link-type="dfn|abstract-op"
                    href="#monotonic-clock-unsafe-current-time" class="internalDFN"
                    id="ref-for-monotonic-clock-unsafe-current-time-2">unsafe current time</a>.
            </li>
            <li>Let <var data-type="unsafe moment on the monotonic clock">epoch time</var> be
                <code><var data-type="unsafe moment on the monotonic clock">monotonic time</var> - (<var data-type="unsafe moment on the wall clock">wall time</var> - <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN" id="ref-for-dfn-unix-epoch-3">Unix epoch</a>)</code>
            </li>
            <li>Initialize the <a data-link-type="dfn|abstract-op"
                    href="#dfn-estimated-monotonic-time-of-the-unix-epoch" class="internalDFN"
                    id="ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-2">estimated monotonic time of the Unix
                    epoch</a> to
                the result of calling <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                    id="ref-for-dfn-coarsen-time-5">coarsen time</a> with <var
                    data-type="unsafe moment on the monotonic clock">epoch time</var>.
            </li>
        </ol>
        <div class="issue" id="issue-container-number-1">
            <div role="heading" class="issue-title marker" id="h-issue" aria-level="3"><span>Issue 1</span></div>
            <div class="">
                The above set of settings-objects-that-could-possibly-communicate needs
                to be specified better. It's similar to <a
                    href="https://html.spec.whatwg.org/multipage/browsers.html#familiar-with"
                    id="ref-for-index-term-familiar-with-1">familiar with</a> but includes
                <a data-link-type="idl" data-lt="Worker" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                    id="ref-for-index-term-worker-interface-3"><code>Worker</code></a>s.
            </div>
        </div>
        <p>
            Performance measurements report a <a data-link-type="dfn|abstract-op" href="#dfn-duration"
                class="internalDFN" id="ref-for-dfn-duration-13">duration</a> from a <a data-link-type="dfn|abstract-op"
                href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-23">moment</a> early
            in the initialization of a relevant <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-index-term-environment-settings-object-9">environment settings object</a>.
            That <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-24">moment</a> is stored in that settings object's <a
                data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-4">time origin</a>.
        </p>
        <p>
            To <dfn id="dfn-get-time-origin-timestamp" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">get time
                origin timestamp</dfn>, given a <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                id="ref-for-index-term-global-object-1">global object</a>
            <var data-type="global object">global</var>, run the following steps, which return a
            <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-14">duration</a>:
        </p>
        <ol>
            <li>
                <p>
                    Let <var data-type="moment on the monotonic clock">timeOrigin</var> be <var
                        data-type="global object">global</var>'s
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-index-term-relevant-settings-object-3">relevant settings object</a>'s <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                        id="ref-for-index-term-time-origins-for-environment-settings-object-5">time origin</a>.
                </p>
                <div class="note" role="note" id="issue-container-generatedID-4">
                    <div role="heading" class="note-title marker" id="h-note-4" aria-level="3"><span>Note</span></div>
                    <p class="">
                        In <a data-link-type="idl" data-lt="Window" data-type="interface"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                            id="ref-for-index-term-window-interface-1"><code>Window</code></a> contexts, this value
                        represents the time when
                        <a data-link-type="dfn|abstract-op" data-lt="navigate" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                            id="ref-for-index-term-navigate-1">navigation has started</a>. In <a data-link-type="idl"
                            data-lt="Worker" data-type="interface"
                            href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                            id="ref-for-index-term-worker-interface-4"><code>Worker</code></a> and
                        <a data-link-type="idl" data-lt="ServiceWorker" data-type="interface"
                            href="https://www.w3.org/TR/service-workers/#serviceworker"
                            id="ref-for-index-term-serviceworker-interface-1"><code>ServiceWorker</code></a> contents,
                        this value represent the time when the
                        <a data-link-type="dfn|abstract-op" data-lt="run a worker" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/workers.html#run-a-worker"
                            id="ref-for-index-term-run-a-worker-1">worker is run</a>. [<cite><a class="bibref"
                                data-link-type="biblio" href="#bib-service-workers"
                                title="Service Workers">service-workers</a></cite>]
                    </p>
                </div>
            </li>
            <li>Return the <a data-link-type="dfn|abstract-op" href="#dfn-duration-from" class="internalDFN"
                    id="ref-for-dfn-duration-from-2">duration from</a> the <a data-link-type="dfn|abstract-op"
                    href="#dfn-estimated-monotonic-time-of-the-unix-epoch" class="internalDFN"
                    id="ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-3">estimated monotonic time of the Unix
                    epoch</a> to <var data-type="moment on the monotonic clock">timeOrigin</var>.
            </li>
        </ol>
        <div class="note" role="note" id="issue-container-generatedID-5">
            <div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>Note</span></div>
            <p class="">
                The value returned by <a data-link-type="dfn|abstract-op" href="#dfn-get-time-origin-timestamp"
                    class="internalDFN" id="ref-for-dfn-get-time-origin-timestamp-1">get time origin timestamp</a> is
                approximately
                the time after the <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                    id="ref-for-dfn-unix-epoch-4">Unix epoch</a> that <var data-type="global object">global</var>'s <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-6">time origin</a> happened. It
                may differ from the value
                returned by <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/#sec-date.now"
                    id="ref-for-index-term-date-now-2"><code>Date.now()</code></a> executed at the time origin, because
                the
                former is recorded with respect to a <a href="#dfn-monotonic-clock" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-monotonic-clock-8">monotonic clock</a> that is not
                subject to system and user clock adjustments, clock skew, and so on.
            </p>
        </div>
        <div data-algorithm="coarsen time">
            The <dfn data-export="" id="dfn-coarsen-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">coarsen time</dfn> algorithm, given an <a data-link-type="dfn|abstract-op"
                href="#dfn-unsafe-moment" class="internalDFN" id="ref-for-dfn-unsafe-moment-5">unsafe moment</a> <var
                data-type="unsafe moment">timestamp</var> on some <a data-link-type="dfn|abstract-op" href="#dfn-clock"
                class="internalDFN" id="ref-for-dfn-clock-8">clock</a> and an optional
            boolean <var data-type="boolean">crossOriginIsolatedCapability</var> (default false), runs
            the following steps:
            <ol>
                <li>Let <var data-type="duration">time resolution</var> be 100 microseconds, or a higher
                    <a data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-index-term-implementation-defined-1">implementation-defined</a> value.
                </li>
                <li>If <var data-type="boolean">crossOriginIsolatedCapability</var> is true, set <var
                        data-type="duration">time resolution</var>
                    to be 5 microseconds, or a higher <a data-type="dfn"
                        href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-index-term-implementation-defined-2">implementation-defined</a>
                    value.
                </li>
                <li>In an <a data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-index-term-implementation-defined-3">implementation-defined</a> manner, coarsen and
                    potentially jitter <var data-type="unsafe moment">timestamp</var> such that its resolution will not
                    exceed <var data-type="duration">time resolution</var>.
                </li>
                <li>Return <var data-type="unsafe moment">timestamp</var> as a <a data-link-type="dfn|abstract-op"
                        href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-25">moment</a>.
                </li>
            </ol>
        </div>
        <div data-algorithm="relative high resolution time">
            The <dfn data-export="" id="dfn-relative-high-resolution-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">relative high resolution time</dfn> given an
            <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-moment" class="internalDFN"
                id="ref-for-dfn-unsafe-moment-6">unsafe moment</a> from the <a data-link-type="dfn|abstract-op"
                href="#dfn-monotonic-clock" class="internalDFN" id="ref-for-dfn-monotonic-clock-9">monotonic clock</a>
            <var data-type="unsafe moment on
        the monotonic clock">time</var> and a <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-index-term-global-object-for-realm-1">global object</a> <var data-type="global
        object">global</var>, is the <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-15">duration</a> returned from the following steps:
            <ol>
                <li>Let <var data-type="moment on the monotonic clock">coarse time</var> be the result of
                    calling <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time" class="internalDFN"
                        id="ref-for-dfn-coarsen-time-6">coarsen time</a> with <var data-type="unsafe moment on
        the monotonic clock">time</var> and <var data-type="global
        object">global</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-index-term-relevant-settings-object-4">relevant settings object</a>'s <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                        id="ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-4">cross-origin
                        isolated capability</a>.
                </li>
                <li>Return the <a data-link-type="dfn|abstract-op" href="#dfn-relative-high-resolution-coarse-time"
                        class="internalDFN" id="ref-for-dfn-relative-high-resolution-coarse-time-1">relative high
                        resolution coarse time</a> for <var>coarse
                        time</var> and <var data-type="global
        object">global</var>.
                </li>
            </ol>The <dfn data-export="" id="dfn-relative-high-resolution-coarse-time" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">relative high resolution coarse time</dfn>
            given a <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                id="ref-for-dfn-moment-26">moment</a> from the <a data-link-type="dfn|abstract-op"
                href="#dfn-monotonic-clock" class="internalDFN" id="ref-for-dfn-monotonic-clock-10">monotonic clock</a>
            <var data-type="moment on
        the monotonic clock">coarseTime</var> and a <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-index-term-global-object-for-realm-2">global object</a> <var data-type="global
        object">global</var>, is the <a data-link-type="dfn|abstract-op" href="#dfn-duration-from" class="internalDFN"
                id="ref-for-dfn-duration-from-3">duration from</a> <var data-type="global
        object">global</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                id="ref-for-index-term-relevant-settings-object-5">relevant settings object</a>'s <a
                data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-7">time origin</a> to <var
                data-type="moment on
        the monotonic clock">coarseTime</var>.
        </div>
        <p>
            The <dfn data-export="" id="dfn-current-high-resolution-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">current high resolution time</dfn> given a
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                id="ref-for-index-term-global-object-2">global object</a> <var data-type="global object">current
                global</var> must return the
            result of <a data-link-type="dfn|abstract-op" href="#dfn-relative-high-resolution-time" class="internalDFN"
                id="ref-for-dfn-relative-high-resolution-time-1">relative high resolution time</a> given <a
                data-link-type="dfn|abstract-op" href="#dfn-unsafe-shared-current-time" class="internalDFN"
                id="ref-for-dfn-unsafe-shared-current-time-1">unsafe shared current time</a> and <var
                data-type="global object">current global</var>.
        </p>
        <p>
            The <dfn data-export="" id="dfn-coarsened-shared-current-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">coarsened shared current time</dfn> given an
            optional boolean <var data-type="boolean">crossOriginIsolatedCapability</var> (default
            false), must return the result of calling <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time"
                class="internalDFN" id="ref-for-dfn-coarsen-time-7">coarsen time</a> with the
            <a data-link-type="dfn|abstract-op" href="#dfn-unsafe-shared-current-time" class="internalDFN"
                id="ref-for-dfn-unsafe-shared-current-time-2">unsafe shared current time</a> and <var
                data-type="boolean">crossOriginIsolatedCapability</var>.
        </p>
        <p>
            The <dfn data-export="" id="dfn-unsafe-shared-current-time" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">unsafe shared current time</dfn> must return
            the <a data-link-type="dfn|abstract-op" href="#monotonic-clock-unsafe-current-time" class="internalDFN"
                id="ref-for-monotonic-clock-unsafe-current-time-3">unsafe current time</a> of the <a
                href="#dfn-monotonic-clock" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-monotonic-clock-11">monotonic
                clock</a>.
        </p>
    </section>
    <section id="sec-domhighrestimestamp">
        <div class="header-wrapper">
            <h2 id="x5-the-domhighrestimestamp-typedef"><bdi class="secno">5. </bdi>
                The <dfn data-export="" data-dfn-type="typedef" id="dom-domhighrestimestamp" data-idl="typedef"
                    data-title="DOMHighResTimeStamp" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>DOMHighResTimeStamp</code></dfn> typedef
            </h2><a class="self-link" href="#sec-domhighrestimestamp" aria-label="Permalink for Section 5."></a>
        </div>

        <p>
            The <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                class="internalDFN" id="ref-for-dom-domhighrestimestamp-5"><code>DOMHighResTimeStamp</code></a> type is
            used to store a <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-16">duration</a> in
            milliseconds. Depending on its context, it may represent the <a data-link-type="dfn|abstract-op"
                href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-27">moment</a>
            that is this <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                id="ref-for-dfn-duration-17">duration</a> after a base <a data-link-type="dfn|abstract-op"
                href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-28">moment</a> like a <a
                data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-8">time origin</a> or the <a
                data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                id="ref-for-dfn-unix-epoch-5">Unix epoch</a>.
        </p>
        <pre class="idl def"
            id="webidl-2125136869"><span class="idlHeader"><a class="self-link" href="#webidl-2125136869">WebIDL</a></span><code><span data-idl="" class="idlTypedef" id="idl-def-domhighrestimestamp" data-title="DOMHighResTimeStamp">typedef<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-1">double</a></span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp-6"><code>DOMHighResTimeStamp</code></a>;</span></code></pre>
        <p>
            A <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp" class="internalDFN"
                id="ref-for-dom-domhighrestimestamp-7"><code>DOMHighResTimeStamp</code></a> <em
                class="rfc2119">SHOULD</em> represent a time in milliseconds
            accurate enough to allow measurement while preventing timing attacks -
            see <a href="#clock-resolution" class="sec-ref"><bdi class="secno">9.1 </bdi>
                Clock resolution</a> for additional considerations.
        </p>
        <div class="note" role="note" id="issue-container-generatedID-6">
            <div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>Note</span></div>
            <p class="">
                A <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                    class="internalDFN" id="ref-for-dom-domhighrestimestamp-8"><code>DOMHighResTimeStamp</code></a> is a
                <a data-link-type="idl" data-lt="double" data-type="interface"
                    href="https://webidl.spec.whatwg.org/#idl-double"
                    id="ref-for-index-term-double-type-2"><code>double</code></a>, so it can only represent an
                epoch-relative timeâ€”the number of milliseconds from the <a data-link-type="dfn|abstract-op"
                    href="#dfn-unix-epoch" class="internalDFN" id="ref-for-dfn-unix-epoch-6">Unix epoch</a>
                to a <a data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-29">moment</a>â€”to a finite resolution. For <a
                    data-link-type="dfn|abstract-op" href="#dfn-moment" class="internalDFN"
                    id="ref-for-dfn-moment-30">moments</a> in 2023, that
                resolution is approximately 0.2 microseconds.
            </p>
        </div>
    </section>
    <section id="the-epochtimestamp-typedef">
        <div class="header-wrapper">
            <h2 id="x6-the-epochtimestamp-typedef"><bdi class="secno">6. </bdi>
                The <dfn data-export="" data-dfn-type="typedef" id="dom-epochtimestamp" data-idl="typedef"
                    data-title="EpochTimeStamp" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>EpochTimeStamp</code></dfn> typedef
            </h2><a class="self-link" href="#the-epochtimestamp-typedef" aria-label="Permalink for Section 6."></a>
        </div>

        <pre class="idl def"
            id="webidl-928658152"><span class="idlHeader"><a class="self-link" href="#webidl-928658152">WebIDL</a></span><code><span data-idl="" class="idlTypedef" id="idl-def-epochtimestamp" data-title="EpochTimeStamp">typedef<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-index-term-unsigned-long-long-type-1">unsigned long long</a></span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-epochtimestamp" id="ref-for-dom-epochtimestamp-1"><code>EpochTimeStamp</code></a>;</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID-7">
            <div role="heading" class="note-title marker" id="h-note-7" aria-level="3"><span>Note</span><span
                    class="issue-label">: Legacy platform feature</span></div>
            <aside class="">
                <p>
                    The use of <code>EpochTimeStamp</code>, known previously as <code>DOMTimeStamp</code>, is
                    discouraged. Wherever possible use <a data-link-type="idl" data-lt="DOMHighResTimeStamp"
                        href="#dom-domhighrestimestamp" class="internalDFN"
                        id="ref-for-dom-domhighrestimestamp-9"><code>DOMHighResTimeStamp</code></a> instead.
                </p>
            </aside>
        </div>
        <p>
            A <a data-link-type="idl" data-lt="EpochTimeStamp" href="#dom-epochtimestamp" class="internalDFN"
                id="ref-for-dom-epochtimestamp-2"><code>EpochTimeStamp</code></a> represents an integral number of
            milliseconds from
            the <a data-link-type="dfn|abstract-op" href="#dfn-unix-epoch" class="internalDFN"
                id="ref-for-dfn-unix-epoch-7">Unix epoch</a> to a given <a data-link-type="dfn|abstract-op"
                href="#dfn-moment" class="internalDFN" id="ref-for-dfn-moment-31">moment</a> on the <a
                data-link-type="dfn|abstract-op" href="#dfn-wall-clock" class="internalDFN"
                id="ref-for-dfn-wall-clock-9">wall clock</a>,
            excluding leap seconds. Specifications that use this type define how
            the number of milliseconds are interpreted.
        </p>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="Expand MDN details for Performance"><span>MDN</span><span
                    title="This feature is in all major engines.">âœ…</span></summary>
            <a title="The Performance interface provides access to performance-related information for the current page."
                href="https://developer.mozilla.org/en-US/docs/Web/API/Performance">Performance</a>
            <p class="engines-all">This feature is in all major engines.</p>
            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>6+</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge yes">
                    <td>Edge</td>
                    <td>12+</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>7+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari yes">
                    <td>Safari</td>
                    <td>8+</td>
                </tr>
                <tr class="safari_ios yes">
                    <td>Safari iOS</td>
                    <td>9+</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android yes">
                    <td>WebView Android</td>
                    <td>37+</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="sec-performance" data-dfn-for="Performance">
        <div class="header-wrapper">
            <h2 id="x7-the-performance-interface"><bdi class="secno">7. </bdi>
                The <dfn data-export="" data-dfn-type="interface" id="dom-performance" data-idl="interface"
                    data-title="Performance" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>Performance</code></dfn> interface
            </h2><a class="self-link" href="#sec-performance" aria-label="Permalink for Section 7."></a>
        </div>

        <pre class="idl def" id="webidl-934063708"><span class="idlHeader"><a class="self-link" href="#webidl-934063708">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-performance" data-title="Performance">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-1">Exposed</a>=(Window,Worker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-performance" id="ref-for-dom-performance-5"><code>Performance</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-index-term-eventtarget-interface-1">EventTarget</a></span> {<span data-idl="" class="idlMethod" id="idl-def-performance-now" data-title="now" data-dfn-for="Performance"><span class="idlType">
    <a data-link-type="idl" href="#dom-domhighrestimestamp" class="internalDFN" id="ref-for-dom-domhighrestimestamp-10"><code>DOMHighResTimeStamp</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-performance-now" id="ref-for-dom-performance-now-2"><code>now</code></a>();</span><span data-idl="" class="idlAttribute" id="idl-def-performance-timeorigin" data-title="timeOrigin" data-dfn-for="Performance">
    readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-domhighrestimestamp" class="internalDFN" id="ref-for-dom-domhighrestimestamp-11"><code>DOMHighResTimeStamp</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-performance-timeorigin" id="ref-for-dom-performance-timeorigin-3"><code>timeOrigin</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-performance-tojson" data-title="toJSON" data-dfn-for="Performance">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default" id="ref-for-index-term-default-extended-attribute-1">Default</a></span>]<span class="idlType"> <a data-link-type="interface" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-index-term-object-type-1">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-performance-tojson" id="ref-for-dom-performance-tojson-1"><code>toJSON</code></a>();</span>
};</span></code></pre>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for now"><span>MDN</span><span
                        title="This feature is in all major engines.">âœ…</span></summary>
                <a title="The performance.now() method returns a high resolution timestamp in milliseconds. It represents the time elapsed since Performance.timeOrigin (the time when navigation has started in window contexts, or the time when the worker is run in Worker and ServiceWorker contexts)."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Performance/now">Performance/now</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome unknown">
                        <td>Chrome</td>
                        <td>?</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>15+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>8+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>9+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android unknown">
                        <td>WebView Android</td>
                        <td>?</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="now-method">
            <div class="header-wrapper">
                <h3 id="x7-1-now-method"><bdi class="secno">7.1 </bdi>
                    <code>now()</code> method
                </h3><a class="self-link" href="#now-method" aria-label="Permalink for Section 7.1"></a>
            </div>

            <p data-tests="basic.any.html, basic.any.worker.html">
                The <dfn data-export="" data-dfn-type="method" id="dom-performance-now" data-idl="operation"
                    data-title="now()" data-dfn-for="Performance" data-type="DOMHighResTimeStamp" data-lt="now()"
                    data-local-lt="Performance.now|Performance.now()|now" tabindex="0"
                    aria-haspopup="dialog"><code>now()</code></dfn> method <em class="rfc2119">MUST</em> return the
                number of milliseconds in
                the <a href="#dfn-current-high-resolution-time" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-current-high-resolution-time-1">current high resolution time</a> given <a
                    data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-index-term-this-2">this</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                    id="ref-for-index-term-relevant-global-object-1">relevant global object</a> (a <a
                    data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-18">duration</a>).
            </p>
            <p data-tests="monotonic-clock.any.html, monotonic-clock.any.worker.html">
                The time values returned when calling the <a data-link-type="idl" data-lt="now()"
                    href="#dom-performance-now" class="internalDFN"
                    id="ref-for-dom-performance-now-3"><code>now</code></a><code>()</code>
                method on <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                    id="ref-for-dom-performance-6"><code>Performance</code></a> objects with the same <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-9">time origin</a> <em
                    class="rfc2119">MUST</em> use the same <a data-link-type="dfn|abstract-op"
                    href="#dfn-monotonic-clock" class="internalDFN" id="ref-for-dfn-monotonic-clock-12">monotonic
                    clock</a>.
                The difference between any two chronologically recorded time values
                returned from the <a data-link-type="idl" data-lt="now()" href="#dom-performance-now"
                    class="internalDFN" id="ref-for-dom-performance-now-4"><code>now</code></a><code>()</code> method
                <em class="rfc2119">MUST</em> never be negative
                if the two time values have the same <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-10">time origin</a>.
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for timeOrigin"><span>MDN</span><span
                        title="This feature is in all major engines.">âœ…</span></summary>
                <a title="The timeOrigin read-only property of the Performance interface returns the high resolution timestamp that is used as the baseline for performance-related timestamps."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Performance/timeOrigin">Performance/timeOrigin</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>62+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>16+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>53+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>15+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android unknown">
                        <td>WebView Android</td>
                        <td>?</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="timeorigin-attribute">
            <div class="header-wrapper">
                <h3 id="x7-2-timeorigin-attribute"><bdi class="secno">7.2 </bdi>
                    <code>timeOrigin</code> attribute
                </h3><a class="self-link" href="#timeorigin-attribute" aria-label="Permalink for Section 7.2"></a>
            </div>

            <p data-tests="timeOrigin.html, window-worker-timeOrigin.window.html">
                The <dfn data-export="" data-dfn-type="attribute" id="dom-performance-timeorigin" data-idl="attribute"
                    data-title="timeOrigin" data-dfn-for="Performance" data-type="DOMHighResTimeStamp"
                    data-lt="timeOrigin" data-local-lt="Performance.timeOrigin" tabindex="0"
                    aria-haspopup="dialog"><code>timeOrigin</code></dfn> attribute <em class="rfc2119">MUST</em> return
                the number of
                milliseconds in the <a data-link-type="dfn|abstract-op" href="#dfn-duration" class="internalDFN"
                    id="ref-for-dfn-duration-19">duration</a> returned by <a data-link-type="dfn|abstract-op"
                    href="#dfn-get-time-origin-timestamp" class="internalDFN"
                    id="ref-for-dfn-get-time-origin-timestamp-2">get time origin timestamp</a> for the <a
                    data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                    id="ref-for-index-term-relevant-global-object-2">relevant global object</a> of <a
                    data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-index-term-this-3">this</a>.
            </p>
            <p data-tests="test_cross_frame_start.html">
                The time values returned when getting
                <a data-link-type="idl" data-lt="Performance" href="#dom-performance" class="internalDFN"
                    id="ref-for-dom-performance-7"><code>Performance</code></a>.<a data-link-type="idl"
                    href="#dom-performance-timeorigin" class="internalDFN"
                    id="ref-for-dom-performance-timeorigin-4"><code>timeOrigin</code></a> <em class="rfc2119">MUST</em>
                use the same
                <a data-link-type="dfn|abstract-op" href="#dfn-monotonic-clock" class="internalDFN"
                    id="ref-for-dfn-monotonic-clock-13">monotonic clock</a> that is shared by <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-11">time origins</a>, and whose
                reference point is the [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                        title="ECMAScript Language Specification">ECMA-262</a></cite>]
                <a href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                    id="ref-for-index-term-time-2">time</a>
                definition - see <a href="#sec-security" data-matched-text="[[[#sec-security]]]" class="sec-ref"><bdi
                        class="secno">9. </bdi>
                    Security Considerations</a>.
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for toJSON"><span>MDN</span><span
                        title="This feature is in all major engines.">âœ…</span></summary>
                <a title="The toJSON() method of the Performance interface is a serializer; it returns a JSON representation of the Performance object."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Performance/toJSON">Performance/toJSON</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>56+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>25+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera no">
                        <td>Opera</td>
                        <td>No</td>
                    </tr>
                    <tr class="opera_android no">
                        <td>Opera Android</td>
                        <td>No</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>14.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android unknown">
                        <td>WebView Android</td>
                        <td>?</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="tojson-method">
            <div class="header-wrapper">
                <h3 id="x7-3-tojson-method"><bdi class="secno">7.3 </bdi>
                    <code>toJSON()</code> method
                </h3><a class="self-link" href="#tojson-method" aria-label="Permalink for Section 7.3"></a>
            </div>

            <p data-tests="performance-tojson.html">
                When <dfn data-export="" data-dfn-type="method" id="dom-performance-tojson" data-idl="operation"
                    data-title="toJSON()" data-dfn-for="Performance" data-type="object" data-lt="toJSON()"
                    data-local-lt="Performance.toJSON|Performance.toJSON()|toJSON" tabindex="0"
                    aria-haspopup="dialog"><code>toJSON()</code></dfn> is called, run [<cite><a class="bibref"
                        data-link-type="biblio" href="#bib-webidl" title="Web IDL Standard">WEBIDL</a></cite>]'s <a
                    data-type="dfn" href="https://webidl.spec.whatwg.org/#default-tojson-steps"
                    id="ref-for-index-term-default-tojson-steps-1">default
                    toJSON steps</a>.
            </p>
        </section>
    </section>
    <section id="extensions-to-windoworworkerglobalscope-mixin">
        <div class="header-wrapper">
            <h2 id="x8-extensions-to-windoworworkerglobalscope-mixin"><bdi class="secno">8. </bdi>
                Extensions to <code>WindowOrWorkerGlobalScope</code> mixin
            </h2><a class="self-link" href="#extensions-to-windoworworkerglobalscope-mixin"
                aria-label="Permalink for Section 8."></a>
        </div>

        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for performance"><span>MDN</span><span
                        title="This feature is in all major engines.">âœ…</span></summary>
                <a title="The global performance property returns a Performance object, which can be used to gather performance information about the context it is called in (window or worker)."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/performance_property">performance_property</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>6+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>7+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>8+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>9+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="WindowOrWorkerGlobalScope" id="the-performance-attribute">
            <div class="header-wrapper">
                <h3 id="x8-1-the-performance-attribute"><bdi class="secno">8.1 </bdi>
                    The <code>performance</code> attribute
                </h3><a class="self-link" href="#the-performance-attribute" aria-label="Permalink for Section 8.1"></a>
            </div>

            <p>
                The <dfn data-export="" data-dfn-type="attribute" id="dom-windoworworkerglobalscope-performance"
                    data-idl="attribute" data-title="performance" data-dfn-for="WindowOrWorkerGlobalScope"
                    data-type="Performance" data-lt="performance" data-local-lt="WindowOrWorkerGlobalScope.performance"
                    tabindex="0" aria-haspopup="dialog"><code>performance</code></dfn> attribute on the interface mixin
                <a data-link-type="idl" data-lt="WindowOrWorkerGlobalScope" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"
                    id="ref-for-index-term-windoworworkerglobalscope-interface-1"><code>WindowOrWorkerGlobalScope</code></a>
                allows access to performance related
                attributes and methods from the <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                    id="ref-for-index-term-global-object-for-realm-3">global object</a>.
            </p>
            <pre class="idl def" id="webidl-2037739231"><span class="idlHeader"><a class="self-link" href="#webidl-2037739231">WebIDL</a></span><code><span data-idl="" class="idlInterface mixin" id="idl-def-windoworworkerglobalscope-partial-1" data-title="WindowOrWorkerGlobalScope">partial interface mixin <a data-idl="partial" data-link-type="interface" data-title="WindowOrWorkerGlobalScope" class="idlID" data-dfn-for="WindowOrWorkerGlobalScope" data-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" id="ref-for-index-term-windoworworkerglobalscope-interface-2">WindowOrWorkerGlobalScope</a> {<span data-idl="" class="idlAttribute" id="idl-def-windoworworkerglobalscope-performance" data-title="performance" data-dfn-for="WindowOrWorkerGlobalScope">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Replaceable" id="ref-for-index-term-replaceable-extended-attribute-1">Replaceable</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-performance" class="internalDFN" id="ref-for-dom-performance-8"><code>Performance</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-windoworworkerglobalscope-performance" id="ref-for-dom-windoworworkerglobalscope-performance-1"><code>performance</code></a>;</span>
};</span></code></pre>
        </section>
    </section>
    <section id="sec-security">
        <div class="header-wrapper">
            <h2 id="x9-security-considerations"><bdi class="secno">9. </bdi>
                Security Considerations
            </h2><a class="self-link" href="#sec-security" aria-label="Permalink for Section 9."></a>
        </div>

        <section id="clock-resolution">
            <div class="header-wrapper">
                <h3 id="x9-1-clock-resolution"><bdi class="secno">9.1 </bdi>
                    Clock resolution
                </h3><a class="self-link" href="#clock-resolution" aria-label="Permalink for Section 9.1"></a>
            </div>

            <p>
                Access to accurate timing information, both for measurement and
                scheduling purposes, is a common requirement for many applications.
                For example, coordinating animations, sound, and other activity on
                the page requires access to high-resolution time to provide a good
                user experience. Similarly, measurement enables developers to track
                the performance of critical code components, detect regressions, and
                so on.
            </p>
            <p>
                However, access to the same accurate timing information can sometimes
                be also used for malicious purposes by an attacker to guess and infer
                data that they can't see or access otherwise. For example, cache
                attacks, statistical fingerprinting and micro-architectural attacks
                are a privacy and security concern where a malicious web site may use
                high resolution timing data of various browser or
                application-initiated operations to differentiate between subset of
                users, identify a particular user or reveal unrelated but
                same-process user data - see [<cite><a class="bibref" data-link-type="biblio" href="#bib-cache-attacks"
                        title="The Spy in the Sandbox - Practical Cache Attacks in Javascript">CACHE-ATTACKS</a></cite>]
                and [<cite><a class="bibref" data-link-type="biblio" href="#bib-spectre"
                        title="Spectre Attacks: Exploiting Speculative Execution">SPECTRE</a></cite>] for
                more background.
            </p>
            <p data-tests="timing-attack.html">
                This specification defines an API that provides sub-millisecond time
                resolution, which is more accurate than the previously available
                millisecond resolution exposed by <a data-link-type="idl" data-lt="EpochTimeStamp"
                    href="#dom-epochtimestamp" class="internalDFN"
                    id="ref-for-dom-epochtimestamp-3"><code>EpochTimeStamp</code></a>. However, even
                without this new API an attacker may be able to obtain
                high-resolution estimates through repeat execution and statistical
                analysis.
            </p>
            <p>
                To ensure that the new API does not significantly improve the
                accuracy or speed of such attacks, the minimum resolution of the
                <a data-link-type="idl" data-lt="DOMHighResTimeStamp" href="#dom-domhighrestimestamp"
                    class="internalDFN" id="ref-for-dom-domhighrestimestamp-12"><code>DOMHighResTimeStamp</code></a>
                type should be inaccurate enough to prevent
                attacks.
            </p>
            <p>
                Where necessary, the user agent should set higher resolution values
                to <var>time resolution</var> in <a data-link-type="dfn|abstract-op" href="#dfn-coarsen-time"
                    class="internalDFN" id="ref-for-dfn-coarsen-time-8">coarsen time</a>'s processing model, to
                address privacy and security concerns due to architecture or software
                constraints, or other considerations.
            </p>
            <p>
                In order to mitigate such attacks user agents may deploy any
                technique they deem necessary. Deployment of those techniques may
                vary based on the browser's architecture, the user's device, the
                content and its ability to maliciously read cross-origin data, or
                other practical considerations.
            </p>
            <p>
                These techniques may include:
            </p>
            <ul>
                <li>Resolution reduction.
                </li>
                <li>Added jitter.
                </li>
                <li>Abuse detection and/or API call throttling.
                </li>
            </ul>
            <p>
                Mitigating such timing side-channel attacks entirely is practically
                impossible: either all operations would have to execute in a time
                that does not vary based on the value of any confidential
                information, or the application would need to be isolated from any
                time-related primitives (clock, timers, counters, etc). Neither is
                practical due to the associated complexity for the browser and
                application developers and the associated negative effects on
                performance and responsiveness of applications.
            </p>
            <div class="note" role="note" id="issue-container-generatedID-8">
                <div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>Note</span></div>
                <div class="">
                    Clock resolution is an unsolved and evolving area of research, with
                    no existing industry consensus or definitive set of recommendations
                    that applies to all browsers. To track the discussion, refer to
                    <a href="https://github.com/w3c/hr-time/issues/79">Issue 79</a>.
                </div>
            </div>
        </section>
        <section id="clock-drift">
            <div class="header-wrapper">
                <h3 id="x9-2-clock-drift"><bdi class="secno">9.2 </bdi>
                    Clock drift
                </h3><a class="self-link" href="#clock-drift" aria-label="Permalink for Section 9.2"></a>
            </div>

            <p>
                This specification also defines an API that provides sub-millisecond
                time resolution of the zero time of the time origin, which requires
                and exposes a <a href="#dfn-monotonic-clock" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-monotonic-clock-14">monotonic clock</a> to the application, and that
                must be shared across all the browser contexts. The <a href="#dfn-monotonic-clock" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-monotonic-clock-15">monotonic
                    clock</a> does not need to be tied to physical time, but is
                recommended to be set with respect to the [<cite><a class="bibref" data-link-type="biblio"
                        href="#bib-ecma-262" title="ECMAScript Language Specification">ECMA-262</a></cite>] definition
                of
                <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                    id="ref-for-index-term-time-3">time</a> to avoid exposing new fingerprint entropy about the user
                â€” e.g. this time can already be easily obtained by the application,
                whereas exposing a new logical clock provides new information.
            </p>
            <p>
                However, even with the above mechanism in place, the <a href="#dfn-monotonic-clock" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-monotonic-clock-16">monotonic
                    clock</a> may provide additional <a href="https://en.wikipedia.org/wiki/Clock_drift">clock drift</a>
                resolution. Today, the application can timestamp the time-of-day and
                monotonic time values (via <a data-link-type="dfn"
                    href="https://tc39.es/ecma262/multipage/#sec-date.now"
                    id="ref-for-index-term-date-now-3"><code>Date.now()</code></a> and
                <a data-link-type="idl" data-lt="now()" href="#dom-performance-now" class="internalDFN"
                    id="ref-for-dom-performance-now-5"><code>now</code></a><code>()</code>) at multiple points within
                the same context and
                observe drift between themâ€”e.g. due to automatic or user clock
                adjustments. With the <a data-link-type="idl" href="#dom-performance-timeorigin" class="internalDFN"
                    id="ref-for-dom-performance-timeorigin-5"><code>timeOrigin</code></a> attribute, the
                attacker can also compare the <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-12">time origin</a>, as reported
                by the <a href="#dfn-monotonic-clock" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-monotonic-clock-17">monotonic clock</a>, against the
                current time-of-day estimate of the <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                    id="ref-for-index-term-time-origins-for-environment-settings-object-13">time origin</a> (i.e. the
                difference between
                <code>performance.timeOrigin</code> and <code>Date.now() - performance.now()</code>) and
                potentially observe clock drift between these clocks over a longer
                time period.
            </p>
            <p>
                In practice, the same time drift can be observed by an application
                across multiple navigations: the application can record the logical
                time in each context and use a client or server time synchronization
                mechanism to infer changes in the user's clock. Similarly,
                lower-layer mechanisms such as TCP timestamps may reveal the same
                high-resolution information to the server without the need for
                multiple visits. As such, the information provided by this API should
                not expose any significant or previously unavailable entropy about
                the user.
            </p>
        </section>
    </section>
    <section id="sec-privacy">
        <div class="header-wrapper">
            <h2 id="x10-privacy-considerations"><bdi class="secno">10. </bdi>
                Privacy Considerations
            </h2><a class="self-link" href="#sec-privacy" aria-label="Permalink for Section 10."></a>
        </div>

        <p>
            The current definition of <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                id="ref-for-index-term-time-origins-for-environment-settings-object-14">time origin</a>
            for a <a data-link-type="idl" data-lt="Document" data-type="interface"
                href="https://dom.spec.whatwg.org/#document"
                id="ref-for-index-term-document-interface-1"><code>Document</code></a> exposes the total time of
            cross-origin redirects
            prior to the request arriving at the document's origin. This exposes
            cross-origin information, however it's not yet decided how to mitigate
            this without causing major breakages to performance metrics.
        </p>
        <p>
            To track the discussion, refer to <a href="https://github.com/w3c/navigation-timing/issues/160">Navigation
                Timing
                Issue 160</a>.
        </p>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x11-conformance"><bdi class="secno">11. </bdi>Conformance</h2><a class="self-link"
                href="#conformance" aria-label="Permalink for Section 11."></a>
        </div>
        <p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this
            specification are non-normative. Everything else in this specification is normative.</p>
        <p>
            The key words <em class="rfc2119">MUST</em> and <em class="rfc2119">SHOULD</em> in this document
            are to be interpreted as described in
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            when, and only when, they appear in all capitals, as shown here.
        </p>
        <p>
            Some conformance requirements are phrased as requirements on
            attributes, methods or objects. Such requirements are to be interpreted
            as requirements on user agents.
        </p>
    </section>
    <section id="index" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-index"><bdi class="secno">A. </bdi>Index</h2><a class="self-link" href="#index"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <section id="index-defined-here">
            <div class="header-wrapper">
                <h3 id="a-1-terms-defined-by-this-specification"><bdi class="secno">A.1 </bdi>Terms defined by this
                    specification</h3><a class="self-link" href="#index-defined-here"
                    aria-label="Permalink for Appendix A.1"></a>
            </div>

            <ul class="index">
                <li>
                    <a class="index-term" href="#dfn-clock">clock</a>
                    <span class="print-only">Â§2.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-coarsen-time">coarsen time</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-moment">coarsened moments</a>
                    <span class="print-only">Â§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-coarsened-shared-current-time">coarsened shared current time</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-wall-time">current coarsened wall time</a>
                    <span class="print-only">Â§3.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-high-resolution-time">current high resolution time</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-monotonic-time">current monotonic time</a>
                    <span class="print-only">Â§3.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-current-relative-timestamp">current relative timestamp</a>
                    <span class="print-only">Â§3.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-eso-current-wall-time">current wall time</a>
                    <span class="print-only">Â§3.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-domhighrestimestamp"><code>DOMHighResTimeStamp</code></a>
                    <span class="print-only">Â§5.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-duration">duration</a>
                    <span class="print-only">Â§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-duration-from">duration from</a>
                    <span class="print-only">Â§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-epochtimestamp"><code>EpochTimeStamp</code></a>
                    <span class="print-only">Â§6.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-estimated-monotonic-time-of-the-unix-epoch">estimated monotonic
                        time of the Unix epoch</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-get-time-origin-timestamp">get time origin timestamp</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-implicitly-convert-a-duration-to-a-timestamp">implicitly convert a
                        duration to a timestamp</a>
                    <span class="print-only">Â§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-monotonic-clock">monotonic clock</a>
                    <span class="print-only">Â§2.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-performance-now"><code>now()</code></a> method for
                    <code>Performance</code>
                    <span class="print-only">Â§7.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-windoworworkerglobalscope-performance"><code>performance</code></a>
                    attribute for <code>WindowOrWorkerGlobalScope</code>
                    <span class="print-only">Â§8.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-performance"><code>Performance</code></a> interface
                    <span class="print-only">Â§7.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-relative-high-resolution-coarse-time">relative high resolution
                        coarse time</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-relative-high-resolution-time">relative high resolution time</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-performance-timeorigin"><code>timeOrigin</code></a> attribute for
                    <code>Performance</code>
                    <span class="print-only">Â§7.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-performance-tojson"><code>toJSON()</code></a> method for
                    <code>Performance</code>
                    <span class="print-only">Â§7.3</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-unix-epoch">Unix epoch</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    unsafe current time
                    <ul>
                        <li>
                            <a class="index-term" href="#dfn-unsafe-current-time">definition of</a>
                            <span class="print-only">Â§2.1</span>
                        </li>
                        <li>
                            <a class="index-term" href="#wall-clock-unsafe-current-time">definition of</a>
                            <span class="print-only">Â§2.1</span>
                        </li>
                        <li>
                            <a class="index-term" href="#monotonic-clock-unsafe-current-time">definition of</a>
                            <span class="print-only">Â§2.1</span>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="index-term" href="#dfn-unsafe-moment">unsafe moment</a>
                    <span class="print-only">Â§2.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-unsafe-shared-current-time">unsafe shared current time</a>
                    <span class="print-only">Â§4.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-wall-clock">wall clock</a>
                    <span class="print-only">Â§2.1</span>
                </li>
            </ul>
        </section>
        <section id="index-defined-elsewhere">
            <div class="header-wrapper">
                <h3 id="a-2-terms-defined-by-reference"><bdi class="secno">A.2 </bdi>Terms defined by reference</h3><a
                    class="self-link" href="#index-defined-elsewhere" aria-label="Permalink for Appendix A.2"></a>
            </div>

            <ul class="index">
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom">DOM</a></cite>] defines the
                    following:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://dom.spec.whatwg.org/#document"
                                id="index-term-document-interface" tabindex="0"
                                aria-haspopup="dialog"><code>Document</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://dom.spec.whatwg.org/#eventtarget"
                                id="index-term-eventtarget-interface" tabindex="0"
                                aria-haspopup="dialog"><code>EventTarget</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://dom.spec.whatwg.org/#dom-event-timestamp"
                                id="index-term-timestamp-attribute-for-event" tabindex="0"
                                aria-haspopup="dialog"><code>timeStamp</code> attribute (for <code>Event</code>)</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262">ECMA-262</a></cite>] defines
                    the following:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://tc39.es/ecma262/multipage/#sec-date-objects"
                                id="index-term-date" tabindex="0" aria-haspopup="dialog">Date</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://tc39.es/ecma262/multipage/#sec-date.now"
                                id="index-term-date-now" tabindex="0" aria-haspopup="dialog">Date.now()</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                                id="index-term-time" tabindex="0" aria-haspopup="dialog">time</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html">HTML</a></cite>] defines the
                    following:
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcastchannel"
                                id="index-term-broadcastchannel-interface" tabindex="0"
                                aria-haspopup="dialog"><code>BroadcastChannel</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                                id="index-term-cross-origin-isolated-capability-for-environment-settings-object"
                                tabindex="0" aria-haspopup="dialog">cross-origin isolated capability (for environment
                                settings object)</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                                id="index-term-environment-settings-object" tabindex="0"
                                aria-haspopup="dialog">environment settings object</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/browsers.html#familiar-with"
                                id="index-term-familiar-with" tabindex="0" aria-haspopup="dialog">familiar with</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                                id="index-term-global-object" tabindex="0" aria-haspopup="dialog">global object</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                id="index-term-global-object-for-realm" tabindex="0" aria-haspopup="dialog">global
                                object (for <code>realm</code>)</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                                id="index-term-navigate" tabindex="0" aria-haspopup="dialog">navigate</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/#parse-a-duration-string"
                                id="index-term-parse-a-duration-string" tabindex="0" aria-haspopup="dialog">parse a
                                duration string</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-window-postmessage-options"
                                id="index-term-postmessage-message-options-for-window" tabindex="0"
                                aria-haspopup="dialog"><code>postMessage(message, options)</code> (for
                                <code>Window</code>)</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                id="index-term-relevant-global-object" tabindex="0" aria-haspopup="dialog">relevant
                                global object</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                                id="index-term-relevant-settings-object" tabindex="0" aria-haspopup="dialog">relevant
                                settings object</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/workers.html#run-a-worker"
                                id="index-term-run-a-worker" tabindex="0" aria-haspopup="dialog">run a worker</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/workers.html#sharedworker"
                                id="index-term-sharedworker-interface" tabindex="0"
                                aria-haspopup="dialog"><code>SharedWorker</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                                id="index-term-time-origins-for-environment-settings-object" tabindex="0"
                                aria-haspopup="dialog">time origins (for environment settings object)</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                                id="index-term-window-interface" tabindex="0" aria-haspopup="dialog"><code>Window</code>
                                interface</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"
                                id="index-term-windoworworkerglobalscope-interface" tabindex="0"
                                aria-haspopup="dialog"><code>WindowOrWorkerGlobalScope</code> interface</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                                id="index-term-worker-interface" tabindex="0" aria-haspopup="dialog"><code>Worker</code>
                                interface</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra">INFRA</a></cite>] defines the
                    following:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#implementation-defined"
                                id="index-term-implementation-defined" tabindex="0"
                                aria-haspopup="dialog">implementation-defined</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#tracking-vector"
                                id="index-term-tracking-vector" tabindex="0" aria-haspopup="dialog">tracking
                                vector</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#user-agent"
                                id="index-term-user-agent" tabindex="0" aria-haspopup="dialog">user agent</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-reporting">REPORTING</a></cite>] defines
                    the following:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/reporting-1/#report-timestamp"
                                id="index-term-generation-time" tabindex="0" aria-haspopup="dialog">generation
                                time</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio"
                            href="#bib-service-workers">SERVICE-WORKERS</a></cite>] defines the following:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/service-workers/#serviceworker"
                                id="index-term-serviceworker-interface" tabindex="0"
                                aria-haspopup="dialog"><code>ServiceWorker</code> interface</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-temporal">TEMPORAL</a></cite>] defines
                    the following:
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://tc39.es/proposal-temporal/#sec-temporal-instant-constructor"
                                id="index-term-temporal-instant" tabindex="0"
                                aria-haspopup="dialog">Temporal.Instant</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl">WEBIDL</a></cite>] defines the
                    following:
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Default"
                                id="index-term-default-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Default]</code> extended attribute</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#default-tojson-steps"
                                id="index-term-default-tojson-steps" tabindex="0" aria-haspopup="dialog">default toJSON
                                steps</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-double"
                                id="index-term-double-type" tabindex="0" aria-haspopup="dialog"><code>double</code>
                                type</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Exposed"
                                id="index-term-exposed-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Exposed]</code> extended attribute</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-object"
                                id="index-term-object-type" tabindex="0" aria-haspopup="dialog"><code>object</code>
                                type</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Replaceable"
                                id="index-term-replaceable-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Replaceable]</code> extended attribute</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#this"
                                id="index-term-this" tabindex="0" aria-haspopup="dialog">this</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"
                                id="index-term-unsigned-long-long-type" tabindex="0"
                                aria-haspopup="dialog"><code>unsigned long long</code> type</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </section>
    </section>
    <section id="idl-index">
        <div class="header-wrapper">
            <h2 id="b-idl-index"><bdi class="secno">B. </bdi>IDL Index</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Section B."></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlTypedef" data-title="DOMHighResTimeStamp">typedef<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-3">double</a></span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp-13"><code>DOMHighResTimeStamp</code></a>;</span>

<span data-idl="" class="idlTypedef" data-title="EpochTimeStamp">typedef<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-index-term-unsigned-long-long-type-2">unsigned long long</a></span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-epochtimestamp" id="ref-for-dom-epochtimestamp-4"><code>EpochTimeStamp</code></a>;</span>

<span data-idl="" class="idlInterface" data-title="Performance">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-2">Exposed</a>=(Window,Worker)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-performance" id="ref-for-dom-performance-9"><code>Performance</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-index-term-eventtarget-interface-2">EventTarget</a></span> {<span data-idl="" class="idlMethod" data-title="now" data-dfn-for="Performance"><span class="idlType">
    <a data-link-type="idl" href="#dom-domhighrestimestamp" class="internalDFN" id="ref-for-dom-domhighrestimestamp-14"><code>DOMHighResTimeStamp</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-performance-now" id="ref-for-dom-performance-now-6"><code>now</code></a>();</span><span data-idl="" class="idlAttribute" data-title="timeOrigin" data-dfn-for="Performance">
    readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-domhighrestimestamp" class="internalDFN" id="ref-for-dom-domhighrestimestamp-15"><code>DOMHighResTimeStamp</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-performance-timeorigin" id="ref-for-dom-performance-timeorigin-6"><code>timeOrigin</code></a>;</span><span data-idl="" class="idlMethod" data-title="toJSON" data-dfn-for="Performance">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default" id="ref-for-index-term-default-extended-attribute-2">Default</a></span>]<span class="idlType"> <a data-link-type="interface" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-index-term-object-type-2">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-performance-tojson" id="ref-for-dom-performance-tojson-2"><code>toJSON</code></a>();</span>
};</span>

<span data-idl="" class="idlInterface mixin" data-title="WindowOrWorkerGlobalScope">partial interface mixin <a data-idl="partial" data-link-type="interface" data-title="WindowOrWorkerGlobalScope" class="idlID" data-dfn-for="WindowOrWorkerGlobalScope" data-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" id="ref-for-index-term-windoworworkerglobalscope-interface-3">WindowOrWorkerGlobalScope</a> {<span data-idl="" class="idlAttribute" data-title="performance" data-dfn-for="WindowOrWorkerGlobalScope">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Replaceable" id="ref-for-index-term-replaceable-extended-attribute-2">Replaceable</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-performance" class="internalDFN" id="ref-for-dom-performance-10"><code>Performance</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-windoworworkerglobalscope-performance" id="ref-for-dom-windoworworkerglobalscope-performance-2"><code>performance</code></a>;</span>
};</span></code></pre>
    </section>
    <section class="appendix" id="acknowledgments">
        <div class="header-wrapper">
            <h2 id="c-acknowledgments"><bdi class="secno">C. </bdi>
                Acknowledgments
            </h2><a class="self-link" href="#acknowledgments" aria-label="Permalink for Appendix C."></a>
        </div>

        <p>
            Thanks to Arvind Jain, Angelos D. Keromytis, Boris Zbarsky, Jason
            Weber, Karen Anderson, Nat Duca, Philippe Le Hegaret, Ryosuke Niwa,
            Simha Sethumadhavan, Todd Reifsteck, Tony Gentilcore, Vasileios P.
            Kemerlis, Yoav Weiss, and Yossef Oren for their contributions to this
            work.
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="d-references"><bdi class="secno">D. </bdi>References</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix D."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="d-1-normative-references"><bdi class="secno">D.1 </bdi>Normative references</h3><a
                    class="self-link" href="#normative-references" aria-label="Permalink for Appendix D.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-ecma-262">[ECMA-262]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>.
                    Ecma International. URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip JÃ¤genstedt; Simon Pieters. WHATWG. Living
                    Standard. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. Living Standard. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate
                            Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                            2119 Key Words</cite></a>. B. Leiba. IETF. May 2017. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-spectre">[SPECTRE]</dt>
                <dd>
                    <a href="https://spectreattack.com/spectre.pdf"><cite>Spectre Attacks: Exploiting Speculative
                            Execution</cite></a>. Paul Kocher; Jann Horn; Anders Fogh; Daniel Genkin; Daniel Gruss;
                    Werner Haas; Mike Hamburg; Moritz Lipp; Stefan Mangard; Thomas Prescher; Michael Schwarz; Yuval
                    Yarom. January 2018. URL: <a
                        href="https://spectreattack.com/spectre.pdf">https://spectreattack.com/spectre.pdf</a>
                </dd>
                <dt id="bib-temporal">[Temporal]</dt>
                <dd>
                    <a href="https://tc39.es/proposal-temporal/"><cite>Temporal</cite></a>. ECMA TC39. Stage 3 Proposal.
                    URL: <a href="https://tc39.es/proposal-temporal/">https://tc39.es/proposal-temporal/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. Living Standard. URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="d-2-informative-references"><bdi class="secno">D.2 </bdi>Informative references</h3><a
                    class="self-link" href="#informative-references" aria-label="Permalink for Appendix D.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-cache-attacks">[CACHE-ATTACKS]</dt>
                <dd>
                    <a href="https://arxiv.org/abs/1502.07373"><cite>The Spy in the Sandbox - Practical Cache Attacks in
                            Javascript</cite></a>. Yossef Oren; Vasileios P. Kemerlis; Simha Sethumadhavan; Angelos D.
                    Keromytis. 1 March 2015. URL: <a
                        href="https://arxiv.org/abs/1502.07373">https://arxiv.org/abs/1502.07373</a>
                </dd>
                <dt id="bib-reporting">[reporting]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/reporting-1/"><cite>Reporting API</cite></a>. Douglas Creager; Ian
                    Clelland; Mike West. W3C. 13 August 2024. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/reporting-1/">https://www.w3.org/TR/reporting-1/</a>
                </dd>
                <dt id="bib-service-workers">[service-workers]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/service-workers/"><cite>Service Workers</cite></a>. Jake Archibald;
                    Marijn Kruisselbrink. W3C. 12 July 2022. W3C Candidate Recommendation. URL: <a
                        href="https://www.w3.org/TR/service-workers/">https://www.w3.org/TR/service-workers/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">â†‘</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-clock"
        aria-label="Links in this document to definition: clock">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-clock"
                aria-label="Permalink for definition: clock. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-clock-1" title="Â§ 2.2 Moments and Durations">Â§ 2.2 Moments and Durations</a> <a
                    href="#ref-for-dfn-clock-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-clock-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-clock-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-clock-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-clock-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-clock-7" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-clock-8" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unsafe-current-time"
        aria-label="Links in this document to definition: unsafe current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unsafe-current-time"
                aria-label="Permalink for definition: unsafe current time. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unsafe-current-time-1" title="Â§ 2.2 Moments and Durations">Â§ 2.2 Moments and
                    Durations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-wall-clock"
        aria-label="Links in this document to definition: wall clock">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-wall-clock"
                aria-label="Permalink for definition: wall clock. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-wall-clock-1" title="Â§ 2.1 Clocks">Â§ 2.1 Clocks</a> <a
                    href="#ref-for-dfn-wall-clock-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-wall-clock-3" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-wall-clock-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-wall-clock-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-wall-clock-6"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-wall-clock-7" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-wall-clock-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-wall-clock-9" title="Â§ 6. The EpochTimeStamp typedef">Â§ 6. The EpochTimeStamp
                    typedef</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-wall-clock-unsafe-current-time"
        aria-label="Links in this document to definition: unsafe current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#wall-clock-unsafe-current-time"
                aria-label="Permalink for definition: unsafe current time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-wall-clock-unsafe-current-time-1" title="Â§ 2.1 Clocks">Â§ 2.1 Clocks</a>
            </li>
            <li>
                <a href="#ref-for-wall-clock-unsafe-current-time-2" title="Â§ 3. Tools for Specification Authors">Â§ 3.
                    Tools for Specification Authors</a> <a href="#ref-for-wall-clock-unsafe-current-time-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-wall-clock-unsafe-current-time-4" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-monotonic-clock"
        aria-label="Links in this document to definition: monotonic clock">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-monotonic-clock"
                aria-label="Permalink for definition: monotonic clock. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-1" title="Â§ 2.1 Clocks">Â§ 2.1 Clocks</a> <a
                    href="#ref-for-dfn-monotonic-clock-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-3" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-monotonic-clock-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monotonic-clock-5" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-6" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-monotonic-clock-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monotonic-clock-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-monotonic-clock-9" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-monotonic-clock-10" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-monotonic-clock-11" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-12" title="Â§ 7.1 now() method">Â§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-13" title="Â§ 7.2 timeOrigin attribute">Â§ 7.2 timeOrigin
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monotonic-clock-14" title="Â§ 9.2 Clock drift">Â§ 9.2 Clock drift</a> <a
                    href="#ref-for-dfn-monotonic-clock-15" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monotonic-clock-16" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-monotonic-clock-17" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-monotonic-clock-unsafe-current-time"
        aria-label="Links in this document to definition: unsafe current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#monotonic-clock-unsafe-current-time"
                aria-label="Permalink for definition: unsafe current time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-monotonic-clock-unsafe-current-time-1" title="Â§ 3. Tools for Specification Authors">Â§
                    3. Tools for Specification Authors</a>
            </li>
            <li>
                <a href="#ref-for-monotonic-clock-unsafe-current-time-2" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
                <a href="#ref-for-monotonic-clock-unsafe-current-time-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unsafe-moment"
        aria-label="Links in this document to definition: unsafe moment">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unsafe-moment"
                aria-label="Permalink for definition: unsafe moment. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unsafe-moment-1" title="Â§ 2.2 Moments and Durations">Â§ 2.2 Moments and
                    Durations</a> <a href="#ref-for-dfn-unsafe-moment-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-unsafe-moment-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-unsafe-moment-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unsafe-moment-5" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-unsafe-moment-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-moment"
        aria-label="Links in this document to definition: coarsened moments">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-moment"
                aria-label="Permalink for definition: coarsened moments. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-moment-1" title="Â§ 2.2 Moments and Durations">Â§ 2.2 Moments and Durations</a> <a
                    href="#ref-for-dfn-moment-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-moment-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-moment-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-moment-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-moment-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-moment-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-moment-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-moment-9"
                    title="Reference 9">(9)</a> <a href="#ref-for-dfn-moment-10" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-moment-11" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-moment-12" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-moment-13" title="Reference 3">(3)</a> <a href="#ref-for-dfn-moment-14"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-moment-15" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-moment-16" title="Reference 6">(6)</a> <a href="#ref-for-dfn-moment-17"
                    title="Reference 7">(7)</a> <a href="#ref-for-dfn-moment-18" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-moment-19" title="Reference 9">(9)</a> <a href="#ref-for-dfn-moment-20"
                    title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-moment-21" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-moment-22" title="Reference 2">(2)</a> <a href="#ref-for-dfn-moment-23"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-moment-24" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-moment-25" title="Reference 5">(5)</a> <a href="#ref-for-dfn-moment-26"
                    title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-moment-27" title="Â§ 5. The DOMHighResTimeStamp typedef">Â§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-dfn-moment-28" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-moment-29" title="Reference 3">(3)</a> <a href="#ref-for-dfn-moment-30"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-moment-31" title="Â§ 6. The EpochTimeStamp typedef">Â§ 6. The EpochTimeStamp
                    typedef</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-duration"
        aria-label="Links in this document to definition: duration">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-duration"
                aria-label="Permalink for definition: duration. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-duration-1" title="Â§ 2.2 Moments and Durations">Â§ 2.2 Moments and Durations</a> <a
                    href="#ref-for-dfn-duration-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-duration-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-duration-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-duration-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-duration-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-duration-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-duration-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-duration-9"
                    title="Reference 9">(9)</a> <a href="#ref-for-dfn-duration-10" title="Reference 10">(10)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-11" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-duration-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-13" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-duration-14" title="Reference 2">(2)</a> <a href="#ref-for-dfn-duration-15"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-16" title="Â§ 5. The DOMHighResTimeStamp typedef">Â§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-dfn-duration-17" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-18" title="Â§ 7.1 now() method">Â§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-19" title="Â§ 7.2 timeOrigin attribute">Â§ 7.2 timeOrigin attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-duration-from"
        aria-label="Links in this document to definition: duration from">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-duration-from"
                aria-label="Permalink for definition: duration from. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-duration-from-1" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a>
            </li>
            <li>
                <a href="#ref-for-dfn-duration-from-2" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-duration-from-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-implicitly-convert-a-duration-to-a-timestamp"
        aria-label="Links in this document to definition: implicitly convert a duration to a timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-implicitly-convert-a-duration-to-a-timestamp"
                aria-label="Permalink for definition: implicitly convert a duration to a timestamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-implicitly-convert-a-duration-to-a-timestamp-1"
                    title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-relative-timestamp"
        aria-label="Links in this document to definition: current relative timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-relative-timestamp"
                aria-label="Permalink for definition: current relative timestamp. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-relative-timestamp-1" title="Â§ 3.1 Examples">Â§ 3.1 Examples</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-monotonic-time"
        aria-label="Links in this document to definition: current monotonic time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-monotonic-time"
                aria-label="Permalink for definition: current monotonic time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-monotonic-time-1" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools
                    for Specification Authors</a> <a href="#ref-for-dfn-current-monotonic-time-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-current-monotonic-time-3" title="Â§ 3.1 Examples">Â§ 3.1 Examples</a> <a
                    href="#ref-for-dfn-current-monotonic-time-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-wall-time"
        aria-label="Links in this document to definition: current coarsened wall time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-wall-time"
                aria-label="Permalink for definition: current coarsened wall time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-wall-time-1" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-eso-current-wall-time"
        aria-label="Links in this document to definition: current wall time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-eso-current-wall-time"
                aria-label="Permalink for definition: current wall time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-eso-current-wall-time-1" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools
                    for Specification Authors</a>
            </li>
            <li>
                <a href="#ref-for-dfn-eso-current-wall-time-2" title="Â§ 3.1 Examples">Â§ 3.1 Examples</a> <a
                    href="#ref-for-dfn-eso-current-wall-time-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unix-epoch"
        aria-label="Links in this document to definition: Unix epoch">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unix-epoch"
                aria-label="Permalink for definition: Unix epoch. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unix-epoch-1" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-unix-epoch-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unix-epoch-3" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-unix-epoch-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unix-epoch-5" title="Â§ 5. The DOMHighResTimeStamp typedef">Â§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-dfn-unix-epoch-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unix-epoch-7" title="Â§ 6. The EpochTimeStamp typedef">Â§ 6. The EpochTimeStamp
                    typedef</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-estimated-monotonic-time-of-the-unix-epoch"
        aria-label="Links in this document to definition: estimated monotonic time of the Unix epoch">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-estimated-monotonic-time-of-the-unix-epoch"
                aria-label="Permalink for definition: estimated monotonic time of the Unix epoch. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-1" title="Â§ 2.1 Clocks">Â§ 2.1
                    Clocks</a>
            </li>
            <li>
                <a href="#ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-2" title="Â§ 4. Time Origin">Â§ 4. Time
                    Origin</a> <a href="#ref-for-dfn-estimated-monotonic-time-of-the-unix-epoch-3"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-get-time-origin-timestamp"
        aria-label="Links in this document to definition: get time origin timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-get-time-origin-timestamp"
                aria-label="Permalink for definition: get time origin timestamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-get-time-origin-timestamp-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
            <li>
                <a href="#ref-for-dfn-get-time-origin-timestamp-2" title="Â§ 7.2 timeOrigin attribute">Â§ 7.2 timeOrigin
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-coarsen-time"
        aria-label="Links in this document to definition: coarsen time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coarsen-time"
                aria-label="Permalink for definition: coarsen time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-coarsen-time-1" title="Â§ 2.2 Moments and Durations">Â§ 2.2 Moments and
                    Durations</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coarsen-time-2" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a> <a href="#ref-for-dfn-coarsen-time-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-coarsen-time-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coarsen-time-5" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-coarsen-time-6" title="Reference 2">(2)</a> <a href="#ref-for-dfn-coarsen-time-7"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-coarsen-time-8" title="Â§ 9.1 Clock resolution">Â§ 9.1 Clock resolution</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-relative-high-resolution-time"
        aria-label="Links in this document to definition: relative high resolution time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-relative-high-resolution-time"
                aria-label="Permalink for definition: relative high resolution time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-relative-high-resolution-time-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-relative-high-resolution-coarse-time"
        aria-label="Links in this document to definition: relative high resolution coarse time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-relative-high-resolution-coarse-time"
                aria-label="Permalink for definition: relative high resolution coarse time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-relative-high-resolution-coarse-time-1" title="Â§ 4. Time Origin">Â§ 4. Time
                    Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-high-resolution-time"
        aria-label="Links in this document to definition: current high resolution time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-high-resolution-time"
                aria-label="Permalink for definition: current high resolution time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-high-resolution-time-1" title="Â§ 7.1 now() method">Â§ 7.1 now() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-coarsened-shared-current-time"
        aria-label="Links in this document to definition: coarsened shared current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-coarsened-shared-current-time"
                aria-label="Permalink for definition: coarsened shared current time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unsafe-shared-current-time"
        aria-label="Links in this document to definition: unsafe shared current time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unsafe-shared-current-time"
                aria-label="Permalink for definition: unsafe shared current time. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unsafe-shared-current-time-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-dfn-unsafe-shared-current-time-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-domhighrestimestamp"
        aria-label="Links in this document to definition: DOMHighResTimeStamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-domhighrestimestamp"
                aria-label="Permalink for definition: DOMHighResTimeStamp. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2125136869">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-1" title="Â§ 1. Introduction">Â§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-2" title="Â§ 1.2 Examples">Â§ 1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-3" title="Â§ 2.2 Moments and Durations">Â§ 2.2 Moments and
                    Durations</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-4" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-5" title="Â§ 5. The DOMHighResTimeStamp typedef">Â§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-dom-domhighrestimestamp-6"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-domhighrestimestamp-7" title="Reference 3">(3)</a>
                <a href="#ref-for-dom-domhighrestimestamp-8" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-9" title="Â§ 6. The EpochTimeStamp typedef">Â§ 6. The
                    EpochTimeStamp typedef</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-10" title="Â§ 7. The Performance interface">Â§ 7. The
                    Performance interface</a> <a href="#ref-for-dom-domhighrestimestamp-11" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-12" title="Â§ 9.1 Clock resolution">Â§ 9.1 Clock resolution</a>
            </li>
            <li>
                <a href="#ref-for-dom-domhighrestimestamp-13" title="Â§ B. IDL Index">Â§ B. IDL Index</a> <a
                    href="#ref-for-dom-domhighrestimestamp-14" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-domhighrestimestamp-15" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-epochtimestamp"
        aria-label="Links in this document to definition: EpochTimeStamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-epochtimestamp"
                aria-label="Permalink for definition: EpochTimeStamp. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-928658152">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-epochtimestamp-1" title="Â§ 6. The EpochTimeStamp typedef">Â§ 6. The EpochTimeStamp
                    typedef</a> <a href="#ref-for-dom-epochtimestamp-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-epochtimestamp-3" title="Â§ 9.1 Clock resolution">Â§ 9.1 Clock resolution</a>
            </li>
            <li>
                <a href="#ref-for-dom-epochtimestamp-4" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-performance"
        aria-label="Links in this document to definition: Performance">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-performance"
                aria-label="Permalink for definition: Performance. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-934063708">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-performance-1" title="Â§ 1. Introduction">Â§ 1. Introduction</a> <a
                    href="#ref-for-dom-performance-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-performance-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-4" title="Â§ 1.2 Examples">Â§ 1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-5" title="Â§ 7. The Performance interface">Â§ 7. The Performance
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-6" title="Â§ 7.1 now() method">Â§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-7" title="Â§ 7.2 timeOrigin attribute">Â§ 7.2 timeOrigin attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-8" title="Â§ 8.1 The performance attribute">Â§ 8.1 The performance
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-9" title="Â§ B. IDL Index">Â§ B. IDL Index</a> <a
                    href="#ref-for-dom-performance-10" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-performance-now"
        aria-label="Links in this document to definition: now()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-performance-now"
                aria-label="Permalink for definition: now(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-934063708">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-performance-now-1" title="Â§ 1. Introduction">Â§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-now-2" title="Â§ 7. The Performance interface">Â§ 7. The Performance
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-now-3" title="Â§ 7.1 now() method">Â§ 7.1 now() method</a> <a
                    href="#ref-for-dom-performance-now-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-now-5" title="Â§ 9.2 Clock drift">Â§ 9.2 Clock drift</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-now-6" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-performance-timeorigin"
        aria-label="Links in this document to definition: timeOrigin">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-performance-timeorigin"
                aria-label="Permalink for definition: timeOrigin. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-934063708">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-1" title="Â§ 1. Introduction">Â§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-2" title="Â§ 1.2 Examples">Â§ 1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-3" title="Â§ 7. The Performance interface">Â§ 7. The
                    Performance interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-4" title="Â§ 7.2 timeOrigin attribute">Â§ 7.2 timeOrigin
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-5" title="Â§ 9.2 Clock drift">Â§ 9.2 Clock drift</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-timeorigin-6" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-performance-tojson"
        aria-label="Links in this document to definition: toJSON()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-performance-tojson"
                aria-label="Permalink for definition: toJSON(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-934063708">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-performance-tojson-1" title="Â§ 7. The Performance interface">Â§ 7. The Performance
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-performance-tojson-2" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-windoworworkerglobalscope-performance"
        aria-label="Links in this document to definition: performance">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-windoworworkerglobalscope-performance"
                aria-label="Permalink for definition: performance. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2037739231">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-windoworworkerglobalscope-performance-1" title="Â§ 8.1 The performance attribute">Â§
                    8.1 The performance attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-windoworworkerglobalscope-performance-2" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-document-interface"
        aria-label="Links in this document to definition: Document interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://dom.spec.whatwg.org/#document"
                aria-label="Permalink for definition: Document interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-document-interface-1" title="Â§ 10. Privacy Considerations">Â§ 10. Privacy
                    Considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-eventtarget-interface"
        aria-label="Links in this document to definition: EventTarget interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://dom.spec.whatwg.org/#eventtarget"
                aria-label="Permalink for definition: EventTarget interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-eventtarget-interface-1" title="Â§ 7. The Performance interface">Â§ 7. The
                    Performance interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-eventtarget-interface-2" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-timestamp-attribute-for-event"
        aria-label="Links in this document to definition: timeStamp attribute (for Event)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://dom.spec.whatwg.org/#dom-event-timestamp"
                aria-label="Permalink for definition: timeStamp attribute (for Event). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-timestamp-attribute-for-event-1" title="Â§ 3.1 Examples">Â§ 3.1 Examples</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-date"
        aria-label="Links in this document to definition: Date">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://tc39.es/ecma262/multipage/#sec-date-objects"
                aria-label="Permalink for definition: Date. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-date-1" title="Â§ 1. Introduction">Â§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-index-term-date-2" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for
                    Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-date-now"
        aria-label="Links in this document to definition: Date.now()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://tc39.es/ecma262/multipage/#sec-date.now"
                aria-label="Permalink for definition: Date.now(). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-date-now-1" title="Â§ 1. Introduction">Â§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-index-term-date-now-2" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
            <li>
                <a href="#ref-for-index-term-date-now-3" title="Â§ 9.2 Clock drift">Â§ 9.2 Clock drift</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-time"
        aria-label="Links in this document to definition: time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://tc39.es/ecma262/multipage/#sec-time-values-and-time-range"
                aria-label="Permalink for definition: time. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-time-1" title="Â§ 2.1 Clocks">Â§ 2.1 Clocks</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-2" title="Â§ 7.2 timeOrigin attribute">Â§ 7.2 timeOrigin attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-3" title="Â§ 9.2 Clock drift">Â§ 9.2 Clock drift</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-broadcastchannel-interface"
        aria-label="Links in this document to definition: BroadcastChannel interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcastchannel"
                aria-label="Permalink for definition: BroadcastChannel interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-broadcastchannel-interface-1" title="Â§ 2.1 Clocks">Â§ 2.1 Clocks</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-cross-origin-isolated-capability-for-environment-settings-object"
        aria-label="Links in this document to definition: cross-origin isolated capability (for environment settings object)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"
                aria-label="Permalink for definition: cross-origin isolated capability (for environment settings object). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-1"
                    title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for Specification Authors</a> <a
                    href="#ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-2"
                    title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-cross-origin-isolated-capability-for-environment-settings-object-4"
                    title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-environment-settings-object"
        aria-label="Links in this document to definition: environment settings object">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                aria-label="Permalink for definition: environment settings object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-environment-settings-object-1" title="Â§ 2.1 Clocks">Â§ 2.1 Clocks</a>
            </li>
            <li>
                <a href="#ref-for-index-term-environment-settings-object-2"
                    title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for Specification Authors</a> <a
                    href="#ref-for-index-term-environment-settings-object-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-environment-settings-object-4" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-environment-settings-object-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-index-term-environment-settings-object-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-index-term-environment-settings-object-7" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-environment-settings-object-8" title="Â§ 4. Time Origin">Â§ 4. Time
                    Origin</a> <a href="#ref-for-index-term-environment-settings-object-9" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-familiar-with"
        aria-label="Links in this document to definition: familiar with">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/browsers.html#familiar-with"
                aria-label="Permalink for definition: familiar with. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-familiar-with-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-global-object"
        aria-label="Links in this document to definition: global object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                aria-label="Permalink for definition: global object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-global-object-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-index-term-global-object-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-global-object-for-realm"
        aria-label="Links in this document to definition: global object (for realm)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                aria-label="Permalink for definition: global object (for realm). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-global-object-for-realm-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-index-term-global-object-for-realm-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-global-object-for-realm-3" title="Â§ 8.1 The performance attribute">Â§ 8.1
                    The performance attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-navigate"
        aria-label="Links in this document to definition: navigate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                aria-label="Permalink for definition: navigate. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-navigate-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-parse-a-duration-string"
        aria-label="Links in this document to definition: parse a duration string">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/#parse-a-duration-string"
                aria-label="Permalink for definition: parse a duration string. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-parse-a-duration-string-1" title="Â§ 3.1 Examples">Â§ 3.1 Examples</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-postmessage-message-options-for-window"
        aria-label="Links in this document to definition: postMessage(message, options) (for Window)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-window-postmessage-options"
                aria-label="Permalink for definition: postMessage(message, options) (for Window). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-postmessage-message-options-for-window-1" title="Â§ 2.1 Clocks">Â§ 2.1
                    Clocks</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-relevant-global-object"
        aria-label="Links in this document to definition: relevant global object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                aria-label="Permalink for definition: relevant global object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-relevant-global-object-1" title="Â§ 7.1 now() method">Â§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-relevant-global-object-2" title="Â§ 7.2 timeOrigin attribute">Â§ 7.2
                    timeOrigin attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-relevant-settings-object"
        aria-label="Links in this document to definition: relevant settings object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                aria-label="Permalink for definition: relevant settings object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-relevant-settings-object-1" title="Â§ 3.1 Examples">Â§ 3.1 Examples</a> <a
                    href="#ref-for-index-term-relevant-settings-object-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-relevant-settings-object-3" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
                <a href="#ref-for-index-term-relevant-settings-object-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-relevant-settings-object-5" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-run-a-worker"
        aria-label="Links in this document to definition: run a worker">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/workers.html#run-a-worker"
                aria-label="Permalink for definition: run a worker. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-run-a-worker-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-sharedworker-interface"
        aria-label="Links in this document to definition: SharedWorker interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/workers.html#sharedworker"
                aria-label="Permalink for definition: SharedWorker interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-sharedworker-interface-1" title="Â§ 1.2 Examples">Â§ 1.2 Examples</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-time-origins-for-environment-settings-object"
        aria-label="Links in this document to definition: time origins (for environment settings object)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                aria-label="Permalink for definition: time origins (for environment settings object). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-1" title="Â§ 1.2 Examples">Â§
                    1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-2"
                    title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools for Specification Authors</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-4" title="Â§ 4. Time Origin">Â§
                    4. Time Origin</a> <a href="#ref-for-index-term-time-origins-for-environment-settings-object-5"
                    title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-6"
                    title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-7"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-8"
                    title="Â§ 5. The DOMHighResTimeStamp typedef">Â§ 5. The DOMHighResTimeStamp typedef</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-9"
                    title="Â§ 7.1 now() method">Â§ 7.1 now() method</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-10"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-11"
                    title="Â§ 7.2 timeOrigin attribute">Â§ 7.2 timeOrigin attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-12"
                    title="Â§ 9.2 Clock drift">Â§ 9.2 Clock drift</a> <a
                    href="#ref-for-index-term-time-origins-for-environment-settings-object-13"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-time-origins-for-environment-settings-object-14"
                    title="Â§ 10. Privacy Considerations">Â§ 10. Privacy Considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-window-interface"
        aria-label="Links in this document to definition: Window interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"
                aria-label="Permalink for definition: Window interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-window-interface-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-windoworworkerglobalscope-interface"
        aria-label="Links in this document to definition: WindowOrWorkerGlobalScope interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"
                aria-label="Permalink for definition: WindowOrWorkerGlobalScope interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-windoworworkerglobalscope-interface-1"
                    title="Â§ 8.1 The performance attribute">Â§ 8.1 The performance attribute</a> <a
                    href="#ref-for-index-term-windoworworkerglobalscope-interface-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-windoworworkerglobalscope-interface-3" title="Â§ B. IDL Index">Â§ B. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-worker-interface"
        aria-label="Links in this document to definition: Worker interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/workers.html#worker"
                aria-label="Permalink for definition: Worker interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-worker-interface-1" title="Â§ 1.1 Use-cases">Â§ 1.1 Use-cases</a>
            </li>
            <li>
                <a href="#ref-for-index-term-worker-interface-2" title="Â§ 1.2 Examples">Â§ 1.2 Examples</a>
            </li>
            <li>
                <a href="#ref-for-index-term-worker-interface-3" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-index-term-worker-interface-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-implementation-defined"
        aria-label="Links in this document to definition: implementation-defined">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#implementation-defined"
                aria-label="Permalink for definition: implementation-defined. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-implementation-defined-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a> <a
                    href="#ref-for-index-term-implementation-defined-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-implementation-defined-3" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-tracking-vector"
        aria-label="Links in this document to definition: tracking vector">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#tracking-vector"
                aria-label="Permalink for definition: tracking vector. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-tracking-vector-1" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools
                    for Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-user-agent"
        aria-label="Links in this document to definition: user agent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#user-agent"
                aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-user-agent-1" title="Â§ 2.1 Clocks">Â§ 2.1 Clocks</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-generation-time"
        aria-label="Links in this document to definition: generation time">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/reporting-1/#report-timestamp"
                aria-label="Permalink for definition: generation time. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-generation-time-1" title="Â§ 3.1 Examples">Â§ 3.1 Examples</a> <a
                    href="#ref-for-index-term-generation-time-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-serviceworker-interface"
        aria-label="Links in this document to definition: ServiceWorker interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/service-workers/#serviceworker"
                aria-label="Permalink for definition: ServiceWorker interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-serviceworker-interface-1" title="Â§ 4. Time Origin">Â§ 4. Time Origin</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-temporal-instant"
        aria-label="Links in this document to definition: Temporal.Instant">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://tc39.es/proposal-temporal/#sec-temporal-instant-constructor"
                aria-label="Permalink for definition: Temporal.Instant. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-temporal-instant-1" title="Â§ 3. Tools for Specification Authors">Â§ 3. Tools
                    for Specification Authors</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-default-extended-attribute"
        aria-label="Links in this document to definition: [Default] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Default"
                aria-label="Permalink for definition: [Default] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-default-extended-attribute-1" title="Â§ 7. The Performance interface">Â§ 7.
                    The Performance interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-default-extended-attribute-2" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-default-tojson-steps"
        aria-label="Links in this document to definition: default toJSON steps">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#default-tojson-steps"
                aria-label="Permalink for definition: default toJSON steps. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-default-tojson-steps-1" title="Â§ 7.3 toJSON() method">Â§ 7.3 toJSON()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-double-type"
        aria-label="Links in this document to definition: double type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-double"
                aria-label="Permalink for definition: double type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-double-type-1" title="Â§ 5. The DOMHighResTimeStamp typedef">Â§ 5. The
                    DOMHighResTimeStamp typedef</a> <a href="#ref-for-index-term-double-type-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-double-type-3" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-exposed-extended-attribute"
        aria-label="Links in this document to definition: [Exposed] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Exposed"
                aria-label="Permalink for definition: [Exposed] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-1" title="Â§ 7. The Performance interface">Â§ 7.
                    The Performance interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-2" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-object-type"
        aria-label="Links in this document to definition: object type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-object"
                aria-label="Permalink for definition: object type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-object-type-1" title="Â§ 7. The Performance interface">Â§ 7. The Performance
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-object-type-2" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-replaceable-extended-attribute"
        aria-label="Links in this document to definition: [Replaceable] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Replaceable"
                aria-label="Permalink for definition: [Replaceable] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-replaceable-extended-attribute-1" title="Â§ 8.1 The performance attribute">Â§
                    8.1 The performance attribute</a>
            </li>
            <li>
                <a href="#ref-for-index-term-replaceable-extended-attribute-2" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-this"
        aria-label="Links in this document to definition: this">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#this"
                aria-label="Permalink for definition: this. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-this-1" title="Â§ 3.1 Examples">Â§ 3.1 Examples</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-2" title="Â§ 7.1 now() method">Â§ 7.1 now() method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-3" title="Â§ 7.2 timeOrigin attribute">Â§ 7.2 timeOrigin attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-unsigned-long-long-type"
        aria-label="Links in this document to definition: unsigned long long type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"
                aria-label="Permalink for definition: unsigned long long type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-unsigned-long-long-type-1" title="Â§ 6. The EpochTimeStamp typedef">Â§ 6. The
                    EpochTimeStamp typedef</a>
            </li>
            <li>
                <a href="#ref-for-index-term-unsigned-long-long-type-2" title="Â§ B. IDL Index">Â§ B. IDL Index</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>