<!DOCTYPE html>
<html lang="zh-hans">

<head>
    <meta charset="UTF-8">
    <!-- <meta name="generator" content="ReSpec 35.0.2"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>远程播放 API</title>



    <style>
        /* Note formatting taken from Presentation API spec for consistency in the
       Second Screen WG */
        .note {
            border-left-style: solid;
            border-left-width: 0.25em;
            background: none repeat scroll 0 0 #E9FBE9;
            border-color: #52E052;
        }

        .note em,
        .warning em,
        .note i,
        .warning i {
            font-style: normal;
        }

        p.note,
        div.note {
            padding: 0.5em 2em;
        }

        span.note {
            padding: 0 2em;
        }

        .note p:first-child {
            margin-top: 0;
        }

        .note p:last-child {
            margin-bottom: 0;
        }

        p.note:before {
            content: 'NOTE: ';
        }

        .non-normative {
            border-left-style: solid;
            border-left-width: 0.25em;
            background: none repeat scroll 0 0 #E9FBE9;
            border-color: #52E052;
        }

        p.non-normative:before {
            content: 'Non-normative: ';
            font-weight: bolder;
        }

        p.non-normative,
        div.non-normative {
            padding: 0.5em 2em;
        }

        .algorithm li {
            margin-bottom: 0.5em;
        }

        .interface dd,
        .parameters dt {
            margin-bottom: 0.5em;
        }

        code {
            color: orangered;
        }

        table {
            border-collapse: collapse;
            border-style: hidden hidden none hidden;
        }

        table thead,
        table tbody {
            border-bottom: solid;
        }

        table td,
        table th {
            border-left: solid;
            border-right: solid;
            border-bottom: solid thin;
            vertical-align: top;
            padding: 0.2em;
        }

        dfn {
            font-weight: bolder;
            font-style: normal;
        }

        .copyright {
            font-size: small;
        }

        .issue[id^='issue-']>*:not([role='heading']) {
            display: none;
        }
    </style>

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <!-- <meta name="revision" content="151a3f48986c0a390903c4a16c09e5c85c2cb6d0"> -->
    <meta name="description" content="本规范定义了一个扩展 HTMLMediaElement 的 API，使网页能够控制媒体的远程播放。">
    <link rel="canonical" href="https://www.w3.org/TR/remote-playback/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "CRD",
  "edDraftURI": "https://w3c.github.io/remote-playback/",
  "shortName": "remote-playback",
  "group": "secondscreen",
  "editors": [
    {
      "w3cid": 68454,
      "name": "Mark Foltz",
      "company": "Google"
    }
  ],
  "formerEditors": [
    {
      "w3cid": 45389,
      "name": "Mounir Lamouri",
      "company": "Google"
    },
    {
      "w3cid": 68811,
      "name": "Anton Vayvod",
      "company": "Google"
    }
  ],
  "sotdAfterWGinfo": true,
  "license": "w3c-software-doc",
  "otherLinks": [
    {
      "key": "Test suite",
      "data": [
        {
          "value": "GitHub web-platform-tests/remote-playback",
          "href": "https://github.com/web-platform-tests/wpt/tree/master/remote-playback"
        },
        {
          "value": "w3c-test.org/remote-playback/",
          "href": "https://w3c-test.org/remote-playback/"
        }
      ]
    }
  ],
  "github": "https://github.com/w3c/remote-playback",
  "crEnd": "2017-11-30",
  "implementationReportURI": "https://www.w3.org/wiki/Second_Screen/Implementation_Status#Remote_Playback_API",
  "gitRevision": "151a3f48986c0a390903c4a16c09e5c85c2cb6d0",
  "publishDate": "2024-04-30",
  "previousMaturity": "CRD",
  "previousPublishDate": "2024-04-15",
  "publishISODate": "2024-04-30T00:00:00.000Z",
  "generatedSubtitle": "W3C Candidate Recommendation Draft 30 April 2024"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-CRD">
</head>

<body data-cite="WEBIDL HTML DOM URL SECURE-CONTEXTS" class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">远程播放 API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CRD">W3C 候选推荐标准草案</a> <time class="dt-published"
                datetime="2024-04-30">2024年4月30日</time></p>
        <details open="">
            <summary>关于本文件的更多信息</summary>
            <dl>
                <dt>本版本：</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2024/CRD-remote-playback-20240430/">https://www.w3.org/TR/2024/CRD-remote-playback-20240430/</a>
                </dd>
                <dt>最新发布版本：</dt>
                <dd>
                    <a href="https://www.w3.org/TR/remote-playback/">https://www.w3.org/TR/remote-playback/</a>
                </dd>
                <dt>最新编辑草案：</dt>
                <dd><a href="https://w3c.github.io/remote-playback/">https://w3c.github.io/remote-playback/</a></dd>
                <dt>历史：</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/remote-playback/">https://www.w3.org/standards/history/remote-playback/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/remote-playback/commits/">提交历史</a>
                </dd>

                <dt>实现报告：</dt>
                <dd>
                    <a
                        href="https://www.w3.org/wiki/Second_Screen/Implementation_Status#Remote_Playback_API">https://www.w3.org/wiki/Second_Screen/Implementation_Status#Remote_Playback_API</a>
                </dd>



                <dt>编辑：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="68454">
                    <span class="p-name fn">Mark Foltz</span> (<span class="p-org org h-org">Google</span>)
                </dd>
                <dt>
                    前任编辑：
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="45389">
                    <span class="p-name fn">Mounir Lamouri</span> (<span class="p-org org h-org">Google</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="68811">
                    <span class="p-name fn">Anton Vayvod</span> (<span class="p-org org h-org">Google</span>)
                </dd>

                <dt>反馈：</dt>
                <dd>
                    <a href="https://github.com/w3c/remote-playback/">GitHub w3c/remote-playback</a>
                    (<a href="https://github.com/w3c/remote-playback/pulls/">拉取请求</a>,
                    <a href="https://github.com/w3c/remote-playback/issues/new/choose">新问题</a>,
                    <a href="https://github.com/w3c/remote-playback/issues/">打开的问题</a>)
                </dd>

                <dt>测试套件</dt>
                <dd>
                    <a href="https://github.com/web-platform-tests/wpt/tree/master/remote-playback">GitHub
                        web-platform-tests/remote-playback</a>
                </dd>
                <dd>
                    <a href="https://w3c-test.org/remote-playback/">w3c-test.org/remote-playback/</a>
                </dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2024

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>摘要</h2>
        <p>
            本规范定义了一个扩展 <a data-link-type="idl" data-lt="HTMLMediaElement" data-type="interface"
                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
            的 API，使网页能够控制媒体的远程播放。
        </p>
    </section>
    <section id="sotd" class="introductory">
        <h2>本文件状态</h2>
        <p><em>本节描述了本文件发布时的状态。当前 <abbr title="World Wide Web Consortium">W3C</abbr>
                发布的技术报告及其最新修订可在 <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
                    技术报告索引</a>（https://www.w3.org/TR/）中找到。</em></p>
        <p>
            本文件由 <a href="https://www.w3.org/groups/wg/secondscreen">Second Screen 工作组</a> 作为
            候选推荐标准草案发布，并采用
            <a href="https://www.w3.org/2023/Process-20231103/#recs-and-notes">推荐流程</a>。
        </p>
        <p>
            本文件基于工作组关于在外部展示型显示设备上呈现网页内容的经验，并在适当情况下复用了 Presentation API 规范中的设计模式和考虑[<cite><a class="bibref"
                    data-link-type="biblio" href="#bib-presentation-api"
                    title="Presentation API">PRESENTATION-API</a></cite>]。
        </p>
        <p>
            尽管本文件仍是 <strong>进行中的工作</strong> 并可能发生变化，工作组认为 API 的接口较为稳定。大部分在 <a
                href="https://github.com/w3c/remote-playback/issues/">问题跟踪器</a>上的剩余问题目前认为是次要的，除了
            第 <a href="https://github.com/w3c/remote-playback/issues/41">41号</a> 问题。
        </p>
        <p>
            第 <a href="https://github.com/w3c/remote-playback/issues/41">41号</a> 问题
            讨论了远程播放设备有望支持的媒体播放功能集合。工作组将进一步征求开发者反馈和实现经验，以识别这些功能在远程播放时的互操作性问题，并会根据收到的反馈进一步明确规范。
        </p>
        <p>
            对于其他问题或建议，可以 <a href="https://github.com/w3c/remote-playback/issues/new">提交 bug</a> 或
            向 <a href="https://lists.w3.org/Archives/Public/public-secondscreen/">邮件列表</a>发送邮件。如有拼写等小编辑错误，欢迎提 pull
            request。
        </p>
        <p>
            工作组欢迎所有人审查本文件，并将与 <abbr title="World Wide Web Consortium">W3C</abbr> 内相关小组合作，在无障碍、国际化、隐私、安全和技术架构原则等方面进行横向评审。
        </p>
        <p>
            未有任何特性被标记为<strong>风险中</strong>。
        </p>
        <p>
            Second Screen 工作组将在候选推荐周期内为远程播放 API 制定测试套件，并准备实现报告。为使规范升级为提议推荐，每项特性必须有两个独立且可互操作的实现，如<a
                href="#candidate-recommendation-exit-criteria">候选推荐标准退出标准</a>章节所述。
        </p>
        <p>作为候选推荐标准发布，并不意味着 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。候选推荐草案整合了工作组计划纳入后续候选推荐快照的所有变更。
        </p>
        <p>
            本文件为草案，可能随时被其它文件更新、替换或废弃。不应将本文件作为正式引用。
        </p>
        <p>
            本文件由工作组根据
            <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                专利政策</a> 制定。
            <abbr title="World Wide Web Consortium">W3C</abbr> 保持一份
            <a rel="disclosure" href="https://www.w3.org/groups/wg/secondscreen/ipr">与交付物相关的专利公开清单</a>，
            该页面还包含专利披露说明。如个人实际知悉其认为包含
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">必要权利要求</a>的专利，则需按
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">W3C 专利政策第6节</a> 披露信息。
        </p>
        <p>
            本文件受
            <a id="w3c_process_revision" href="https://www.w3.org/2023/Process-20231103/">2023年11月3日<abbr
                    title="World Wide Web Consortium">W3C</abbr>流程文档</a>
            管理。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目录</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">摘要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">本文件状态</a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">1. </bdi>一致性</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">2. </bdi>
                    简介
                </a></li>
            <li class="tocline"><a class="tocxref" href="#use-cases-and-requirements"><bdi class="secno">3. </bdi>
                    用例与需求
                </a></li>
            <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">4. </bdi>
                    示例
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref"
                            href="#monitor-availability-of-remote-playback-devices-example"><bdi class="secno">4.1
                            </bdi>
                            监控远程播放设备可用性示例
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#starting-remote-playback-of-a-video-example"><bdi
                                class="secno">4.2 </bdi>
                            启动远程播放视频示例
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#monitoring-remote-playback-state-changes"><bdi
                                class="secno">4.3 </bdi>
                            监控远程播放状态变化
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#api"><bdi class="secno">5. </bdi>
                    API
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#common-idioms"><bdi class="secno">5.1 </bdi>
                            常见用法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#remoteplayback-interface"><bdi class="secno">5.2
                            </bdi>
                            <span data-export="" data-dfn-type="interface" data-idl="interface"
                                data-title="RemotePlayback" data-dfn-for=""><code>RemotePlayback</code></span> 接口
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref"
                                    href="#observing-remote-playback-device-availability"><bdi class="secno">5.2.1
                                    </bdi>
                                    监控远程播放设备可用性
                                </a>
                                <ol class="toc">
                                    <li class="tocline"><a class="tocxref"
                                            href="#the-set-of-availability-callbacks"><bdi class="secno">5.2.1.1 </bdi>
                                            可用性回调集合
                                        </a></li>
                                    <li class="tocline"><a class="tocxref"
                                            href="#the-list-of-available-remote-playback-devices"><bdi
                                                class="secno">5.2.1.2 </bdi>
                                            可用远程播放设备列表
                                        </a></li>
                                    <li class="tocline"><a class="tocxref"
                                            href="#getting-the-remote-playback-devices-availability-information"><bdi
                                                class="secno">5.2.1.3 </bdi>
                                            获取远程播放设备可用性信息
                                        </a></li>
                                    <li class="tocline"><a class="tocxref"
                                            href="#monitoring-the-list-of-available-remote-playback-devices"><bdi
                                                class="secno">5.2.1.4 </bdi>
                                            监控可用远程播放设备列表
                                        </a></li>
                                    <li class="tocline"><a class="tocxref"
                                            href="#stop-observing-remote-playback-devices-availability"><bdi
                                                class="secno">5.2.1.5 </bdi>
                                            停止监控远程播放设备可用性
                                        </a></li>
                                </ol>
                            </li>
                            <li class="tocline"><a class="tocxref"
                                    href="#prompt-user-for-changing-remote-playback-state"><bdi class="secno">5.2.2
                                    </bdi>
                                    提示用户改变远程播放状态
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#the-state-attribute"><bdi class="secno">5.2.3
                                    </bdi>
                                    <span data-dfn-for="RemotePlayback" data-export="" data-dfn-type="attribute"
                                        data-idl="attribute" data-title="state" data-type="RemotePlaybackState"
                                        data-lt="state" data-local-lt="RemotePlayback.state"><code>state</code></span>
                                    属性
                                </a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#establishing-a-connection-with-a-remote-playback-device"><bdi
                                        class="secno">5.2.4 </bdi>
                                    与远程播放设备建立连接
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#browser-initiated-remote-playback"><bdi
                                        class="secno">5.2.5 </bdi>
                                    浏览器发起远程播放
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#media-commands-and-media-playback-state"><bdi
                                        class="secno">5.2.6 </bdi>
                                    媒体命令与媒体播放状态
                                </a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#disconnecting-from-a-remote-playback-device"><bdi class="secno">5.2.7 </bdi>
                                    断开远程播放设备连接
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#event-handlers"><bdi class="secno">5.2.8
                                    </bdi>
                                    事件处理器
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#extensions-to-htmlmediaelement"><bdi class="secno">5.3
                            </bdi>对
                            <span data-xref-type="_IDL_" data-link-type="idl" data-lt="HTMLMediaElement"
                                data-cite="html" data-cite-path="/media.html" data-cite-frag="htmlmediaelement"
                                data-type="interface" class="formerLink"><code>HTMLMediaElement</code></span> 的扩展
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#the-disableremoteplayback-attribute"><bdi
                                        class="secno">5.3.1 </bdi>
                                    <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                        data-title="disableRemotePlayback" data-dfn-for="HTMLMediaElement"
                                        data-type="boolean" data-lt="disableRemotePlayback"
                                        data-local-lt="HTMLMediaElement.disableRemotePlayback"><code>disableRemotePlayback</code></span>
                                    属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#disabling-remote-playback"><bdi
                                        class="secno">5.3.2 </bdi>
                                    禁用远程播放
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#security-and-privacy-considerations"><bdi class="secno">6.
                    </bdi>
                    安全与隐私注意事项
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#personally-identifiable-information"><bdi
                                class="secno">6.1 </bdi>
                            个人可识别信息
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-interface-guidelines"><bdi class="secno">6.2
                            </bdi>
                            用户界面指引
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#device-access"><bdi class="secno">6.3 </bdi>
                            设备访问
                        </a></li>
                    <li class="tocline"><a class="tocxref"
                            href="#messaging-between-the-local-and-remote-playback-devices"><bdi class="secno">6.4
                            </bdi>
                            本地与远程播放设备之间的消息通信
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#secure-contexts"><bdi class="secno">6.5 </bdi>
                            安全上下文
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#candidate-recommendation-exit-criteria"><bdi class="secno">A.
                    </bdi>
                    候选推荐标准退出标准
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">B.1
                            </bdi>规范性参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">B.2
                            </bdi>参考性文献</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x1-conformance"><bdi class="secno">1. </bdi>一致性</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 1."></a>
        </div>
        <p>本规范中，被标记为“非规范性”(non-normative)的部分以及所有编写指南、图示、示例与注释，均非规范性内容。除此之外的内容均为规范性内容。</p>
        <p>
            本文档中的关键字 <em class="rfc2119">MAY</em>、<em class="rfc2119">MUST</em>、<em class="rfc2119">MUST NOT</em>、<em
                class="rfc2119">RECOMMENDED</em> 和 <em class="rfc2119">SHOULD</em>，应根据
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            在且仅在全部为大写字母时，如上述用法那样进行解释。
        </p>
        <p>
            本规范规定的符合性标准，仅适用于一种产品：实现本规范中相关接口的用户代理（user agent）。
        </p>
        <p>
            以 ECMAScript 暴露本规范定义 API 的实现，<em class="rfc2119">必须</em>依据 Web IDL 规范中 ECMAScript Bindings 的要求实现之 [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-webidl"
                    title="Web IDL Standard">WEBIDL</a></cite>]。
        </p>
    </section>
    <section class="informative" id="introduction">
        <div class="header-wrapper">
            <h2 id="x2-introduction"><bdi class="secno">2. </bdi>
                简介
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 2."></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            本规范旨在让<a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-1">远程播放设备</a>（如联网电视、投影仪或仅支持音频的扬声器）对网页可用，并兼容通过有线（HDMI、DVI
            或类似接口）和无线技术（Miracast、Chromecast、DLNA、AirPlay或类似）连接的播放设备。
        </p>
        <p>
            屏幕尺寸有限或扬声器不响亮的设备，无法为更多听众（如会议室的同事或家庭聚会的朋友）播放媒体内容。把媒体内容播放到外部更大和/或声音更大的<a href="#dfn-remote-playback-devices"
                class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-2">远程播放设备</a>有助于提升感官体验和媒体影响力。
        </p>
        <p>
            本规范核心在于：允许作为
            <a data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
            的页面，发起并控制选定<a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-3">远程播放设备</a>上的特定媒体元素的远程播放。远程播放的发起和控制方式留给 UA（User
            Agent）决定，以便兼容多种类型的远程设备。例如，通过 HDMI 或 Miracast 连接<a href="#dfn-remote-playback-devices" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-remote-playback-devices-5">远程播放设备</a>时，作为<a data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
            的同一个 UA 会渲染远程媒体，但它可调用操作系统能力将内容输出至外部<a href="#dfn-remote-playback-devices" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-remote-playback-devices-6">远程播放设备</a>，而非本机播放。在这种“<dfn
                id="dfn-media-mirroring" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">媒体镜像</dfn>”场景下，浏览上下文与媒体播放器都在同一 UA 上运行，输出通过操作系统路由到<a
                href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-7">远程播放设备</a>。本规范对以这种方式连接的设备无特殊要求。
        </p>
        <p>
            如果<a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-9">远程播放设备</a>能够播放媒体、与<a data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>通信，但无法自行获取媒体时，<a
                data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>需获取媒体数据并传给<a
                href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-10">远程播放设备</a>渲染，这情况常称为<dfn id="dfn-media-remoting" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">媒体远距传输</dfn>。
        </p>
        <p>
            如果<a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-11">远程播放设备</a>既可获取又可播放媒体，并能与<a data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>通信，则浏览上下文无需获取或渲染远程媒体。此时
            UA 等同于代理，将必要的数据如媒体源传递给<a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-12">远程播放设备</a>，由其自行播放，通常称为<dfn id="dfn-media-flinging"
                tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">媒体推送</dfn>。未来可通过定义标准协议强化这种连接方式，便于远程播放设备实现相关消息传递功能。
        </p>
        <p>
            此处定义的 API，旨在为上述任一路径连接的 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-remote-playback-devices-13">远程播放设备</a> 服务。
        </p>
    </section>
    <section class="informative" id="use-cases-and-requirements">
        <div class="header-wrapper">
            <h2 id="x3-use-cases-and-requirements"><bdi class="secno">3. </bdi>
                用例与需求
            </h2><a class="self-link" href="#use-cases-and-requirements" aria-label="Permalink for Section 3."></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            本规范的用例和需求已单独整理，可<a href="https://github.com/w3c/remote-playback/blob/gh-pages/use-cases.md">点击这里</a>查看。
        </p>
    </section>
    <section id="examples">
        <div class="header-wrapper">
            <h2 id="x4-examples"><bdi class="secno">4. </bdi>
                示例
            </h2><a class="self-link" href="#examples" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            本节展示了突出远程播放 API 主要特性的代码示例。其中 <code>player.html</code> 为播放页、负责控制远程播放，<code>media.ext</code>
            为被远程播放的媒体文件。页面和媒体同样来自 <code>https://example.org</code> 域。更多细节请参阅代码示例内注释。
        </p>
        <section id="monitor-availability-of-remote-playback-devices-example">
            <div class="header-wrapper">
                <h3 id="x4-1-monitor-availability-of-remote-playback-devices-example"><bdi class="secno">4.1 </bdi>
                    监控远程播放设备可用性示例
                </h3><a class="self-link" href="#monitor-availability-of-remote-playback-devices-example"
                    aria-label="Permalink for Section 4.1"></a>
            </div>

            <div class="example" id="example-1">
                <div class="marker">
                    <a class="self-link" href="#example-1">示例<bdi> 1</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs xml"><span class="hljs-comment">&lt;!-- player.html --&gt;</span>
<span class="hljs-comment">&lt;!-- 支持远程播放的自定义控制视频元素 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"videoElement"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://example.org/media.ext"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"deviceBtn"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: none;"</span>&gt;</span>选择设备<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-comment">// 只要有一个远程播放设备，就显示“选择设备”按钮。</span>
  <span class="hljs-keyword">const</span> deviceBtn = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"deviceBtn"</span>);
  <span class="hljs-keyword">const</span> videoElem = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"videoElement"</span>);

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">availabilityCallback</span>(<span class="hljs-params">available</span>) </span>{
    <span class="hljs-comment">// 依赖设备可用性，决定是否显示设备选择按钮。</span>
    deviceBtn.style.display = available ? <span class="hljs-string">"inline"</span> : <span class="hljs-string">"none"</span>;
  }

  videoElem.remote.watchAvailability(availabilityCallback).catch(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// 平台不支持设备可用性监控，仅在调用 remote.prompt() 后发现可用远程设备。</span>
    <span class="hljs-comment">// 简单起见，可以直接显示按钮；或者，自行实现按钮的第三种显示状态。</span>
    deviceBtn.style.display = <span class="hljs-string">"inline"</span>;
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
            </div>
        </section>
        <section id="starting-remote-playback-of-a-video-example">
            <div class="header-wrapper">
                <h3 id="x4-2-starting-remote-playback-of-a-video-example"><bdi class="secno">4.2 </bdi>
                    启动远程播放视频示例
                </h3><a class="self-link" href="#starting-remote-playback-of-a-video-example"
                    aria-label="Permalink for Section 4.2"></a>
            </div>

            <div class="example" id="example-2">
                <div class="marker">
                    <a class="self-link" href="#example-2">示例<bdi> 2</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs xml"><span class="hljs-comment">&lt;!-- player.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  deviceBtn.onclick = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// 请求用户选择远程播放设备。</span>
    videoElem.remote.prompt()
      <span class="hljs-comment">// 更新界面，并监听连接状态。</span>
      .then(updateRemotePlaybackState);
      <span class="hljs-comment">// 如果未选择设备、取消了 UI 或未找到屏幕，不会触发 then。</span>
  };
&lt;script&gt;</span></code></pre>
            </div>
        </section>
        <section id="monitoring-remote-playback-state-changes">
            <div class="header-wrapper">
                <h3 id="x4-3-monitoring-remote-playback-state-changes"><bdi class="secno">4.3 </bdi>
                    监控远程播放状态变化
                </h3><a class="self-link" href="#monitoring-remote-playback-state-changes"
                    aria-label="Permalink for Section 4.3"></a>
            </div>

            <div class="example" id="example-3">
                <div class="marker">
                    <a class="self-link" href="#example-3">示例<bdi> 3</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs xml"><span class="hljs-comment">&lt;!-- player.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-comment">// 用户代理可能会自行发起远程播放，因此请检查初始状态以同步界面。</span>
  <span class="hljs-keyword">if</span> (videoElem.remote.state == <span class="hljs-string">"disconnected"</span>)
    switchToLocalUI();
  <span class="hljs-keyword">else</span>
    switchToRemoteUI();

  videoElem.remote.onconnecting = switchToRemoteUI;
  videoElem.remote.onconnect = switchToRemoteUI;
  videoElem.remote.ondisconnect = switchToLocalUI;

  <span class="hljs-comment">// 处理连接中/已连接状态。多次调用也没有影响。</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">switchToRemoteUI</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 用于指示当前为“连接中”或“已连接”状态。通常只需展示播放控制即可，视频元素可隐藏。</span>
    videoElem.style.display = <span class="hljs-string">"none"</span>;

    <span class="hljs-comment">// 停止远程设备可用性监控。</span>
    videoElem.remote.cancelWatchAvailability();
  };

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">switchToLocalUI</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 恢复显示视频元素。</span>
    videoElem.style.display = <span class="hljs-string">"inline"</span>;
    <span class="hljs-comment">// 重新开始监控远程设备可用性。</span>
    videoElem.remote.watchAvailability(availabilityCallback);
  };
&lt;script&gt;</span></code></pre>
            </div>
        </section>
    </section>
    <section id="api">
        <div class="header-wrapper">
            <h2 id="x5-api"><bdi class="secno">5. </bdi>
                API
            </h2><a class="self-link" href="#api" aria-label="Permalink for Section 5."></a>
        </div>

        <section id="common-idioms">
            <div class="header-wrapper">
                <h3 id="x5-1-common-idioms"><bdi class="secno">5.1 </bdi>
                    常见用法
                </h3><a class="self-link" href="#common-idioms" aria-label="Permalink for Section 5.1"></a>
            </div>

            <p>
                <dfn id="dfn-local-playback-device" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">本地播放设备</dfn>，指的是运行<b>浏览上下文</b>的设备及该设备默认的视频/音频输出。
            </p>
            <div class="note" role="note" id="issue-container-generatedID">
                <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>注</span></div>
                <div class="">
                    <a href="#dfn-local-playback-device" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-local-playback-device-1">本地播放设备</a>
                    可能有额外输出，比如外接显示器或扬声器/耳机。只要选择输出的动作发生在用户代理外的系统层面，根据本规范，播放仍然视为在<a href="#dfn-local-playback-device"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-local-playback-device-2">本地播放设备</a>上完成。
                </div>
            </div>
            <p>
                <dfn data-lt="remote playback devices|remote playback device" id="dfn-remote-playback-devices"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">远程播放设备</dfn>
                指除了<a href="#dfn-local-playback-device" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-local-playback-device-3">本地播放设备</a>以外，<b>浏览上下文</b>可用于播放媒体的任何其他设备。
            </p>
            <p>
                <dfn id="dfn-media-element-state" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">媒体元素状态</dfn>，指的是页面和/或用户通过用户代理实现所能观测到的单一
                <dfn data-plurals="media elements" id="dfn-media-element" class="externalDFN" data-no-export=""
                    data-dfn-type="dfn"><a href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a></dfn>
                所有属性集合。本规范新引入的属性，为方便起见，不计入<a href="#dfn-media-element-state" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-media-element-state-1">媒体元素状态</a>。
            </p>
            <div class="example">
                例如，<code>paused</code> 属性或媒体元素默认控件上对应的暂停/恢复按钮，反映的都是<a href="#dfn-media-element-state"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-media-element-state-2">媒体元素状态</a>。
            </div>
            <p>
                <dfn id="dfn-local-playback-state" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">本地播放状态</dfn>，指用户代理针对特定
                <a href="#dfn-media-element-state" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-media-element-state-3">媒体元素状态</a>的实现，用于在<a href="#dfn-local-playback-device"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-local-playback-device-4">本地播放设备</a>上播放。
            </p>
            <p>
                <dfn id="dfn-remote-playback-state" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">远程播放状态</dfn>，指用户代理针对特定
                <a href="#dfn-media-element-state" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-media-element-state-4">媒体元素状态</a>的实现，用于在对应<a href="#dfn-remote-playback-devices"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-remote-playback-devices-14">远程播放设备</a>上播放。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-0">
                <div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>注</span></div>
                <p class="">
                    为获得良好用户体验，<a href="#dfn-media-element-state" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-media-element-state-5">媒体元素状态</a>在
                    <a data-link-type="idl" href="#dom-remoteplayback-state" class="internalDFN"
                        id="ref-for-dom-remoteplayback-state-1"><code>state</code></a> 变化时不应意外改变。同理，<a
                        href="#dfn-remote-playback-state" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-remote-playback-state-1">远程播放状态</a> 也应与 <a href="#dfn-media-element-state"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-media-element-state-6">媒体元素状态</a>保持同步，比如媒体在
                    <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-remote-playback-devices-15">远程播放设备</a>上暂停时，用户和页面都能直接感知该暂停。
                </p>
            </div>
            <p>
                本规范中所述任务的<a data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">任务源</a>为
                <a href="https://html.spec.whatwg.org/multipage/#media-element-event-task-source">媒体元素事件任务源</a>。
            </p>
        </section>
        <section id="remoteplayback-interface">
            <div class="header-wrapper">
                <h3 id="x5-2-remoteplayback-interface"><bdi class="secno">5.2 </bdi>
                    <dfn data-export="" data-dfn-type="interface" id="dom-remoteplayback" data-idl="interface"
                        data-title="RemotePlayback" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>RemotePlayback</code></dfn> 接口
                </h3><a class="self-link" href="#remoteplayback-interface" aria-label="Permalink for Section 5.2"></a>
            </div>

            <pre class="idl def"
                id="webidl-1015675303"><span class="idlHeader"><a class="self-link" href="#webidl-1015675303">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-remoteplayback" data-title="RemotePlayback">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-remoteplayback" id="ref-for-dom-remoteplayback-1"><code>RemotePlayback</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlMethod" id="idl-def-remoteplayback-watchavailability-callback" data-title="watchAvailability" data-dfn-for="RemotePlayback"><span class="idlType">
  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-long">long</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-remoteplayback-watchavailability" id="ref-for-dom-remoteplayback-watchavailability-1"><code>watchAvailability</code></a>(<span class="idlType"><a data-link-type="idl" href="#dom-remoteplaybackavailabilitycallback" class="internalDFN" id="ref-for-dom-remoteplaybackavailabilitycallback-1"><code>RemotePlaybackAvailabilityCallback</code></a></span> <span class="idlParamName">callback</span>);</span><span data-idl="" class="idlMethod" id="idl-def-remoteplayback-cancelwatchavailability-id" data-title="cancelWatchAvailability" data-dfn-for="RemotePlayback"><span class="idlType">
  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-remoteplayback-cancelwatchavailability" id="ref-for-dom-remoteplayback-cancelwatchavailability-1"><code>cancelWatchAvailability</code></a>(optional<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-long">long</a></span> <span class="idlParamName">id</span>);</span><span data-idl="" class="idlAttribute" id="idl-def-remoteplayback-state" data-title="state" data-dfn-for="RemotePlayback">

  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-remoteplaybackstate" class="internalDFN" id="ref-for-dom-remoteplaybackstate-1"><code>RemotePlaybackState</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-remoteplayback-state" id="ref-for-dom-remoteplayback-state-2"><code>state</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-remoteplayback-onconnecting" data-title="onconnecting" data-dfn-for="RemotePlayback">

  attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-remoteplayback-onconnecting" id="ref-for-dom-remoteplayback-onconnecting-1"><code>onconnecting</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-remoteplayback-onconnect" data-title="onconnect" data-dfn-for="RemotePlayback">
  attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-remoteplayback-onconnect" id="ref-for-dom-remoteplayback-onconnect-1"><code>onconnect</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-remoteplayback-ondisconnect" data-title="ondisconnect" data-dfn-for="RemotePlayback">
  attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-remoteplayback-ondisconnect" id="ref-for-dom-remoteplayback-ondisconnect-1"><code>ondisconnect</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-remoteplayback-prompt" data-title="prompt" data-dfn-for="RemotePlayback"><span class="idlType">

  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-remoteplayback-prompt" id="ref-for-dom-remoteplayback-prompt-1"><code>prompt</code></a>();</span>
};</span><span data-idl="" class="idlEnum" id="idl-def-remoteplaybackstate" data-title="RemotePlaybackState">

enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-remoteplaybackstate" id="ref-for-dom-remoteplaybackstate-2"><code>RemotePlaybackState</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-remoteplaybackstate-connecting" id="ref-for-dom-remoteplaybackstate-connecting-1"><code>connecting</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-remoteplaybackstate-connected" id="ref-for-dom-remoteplaybackstate-connected-1"><code>connected</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-remoteplaybackstate-disconnected" id="ref-for-dom-remoteplaybackstate-disconnected-1"><code>disconnected</code></a>"</span>
};</span><span data-idl="" class="idlCallback" id="idl-def-remoteplaybackavailabilitycallback" data-title="RemotePlaybackAvailabilityCallback">

callback <a class="internalDFN idlID" data-link-type="callback" href="#dom-remoteplaybackavailabilitycallback" id="ref-for-dom-remoteplaybackavailabilitycallback-2"><code>RemotePlaybackAvailabilityCallback</code></a> =<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span>(<span class="idlType"><a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <span class="idlParamName">available</span>);</span></code></pre>
            <p>
                <a data-link-type="idl" data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN"
                    id="ref-for-dom-remoteplayback-2"><code>RemotePlayback</code></a> 对象允许页面检测
                <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-remote-playback-devices-16">远程播放设备</a>的可用性、连接并控制其播放。
            </p>
            <p>
                <dfn data-export="" data-dfn-type="enum" id="dom-remoteplaybackstate" data-idl="enum"
                    data-title="RemotePlaybackState" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>RemotePlaybackState</code></dfn> 枚举表示与<a
                    href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-remote-playback-devices-17">远程播放设备</a>的可能连接状态。
            </p>
            <p>
                <dfn data-export="" data-dfn-type="callback" id="dom-remoteplaybackavailabilitycallback"
                    data-idl="callback" data-title="RemotePlaybackAvailabilityCallback" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>RemotePlaybackAvailabilityCallback</code></dfn> 用于返回当前
                <a href="#dfn-remote-playback-device-availability" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-remote-playback-device-availability-1">远程播放设备可用性</a>。
            </p>
            <section data-link-for="RemotePlayback" id="observing-remote-playback-device-availability">
                <div class="header-wrapper">
                    <h4 id="x5-2-1-observing-remote-playback-device-availability"><bdi class="secno">5.2.1 </bdi>
                        监控远程播放设备可用性
                    </h4><a class="self-link" href="#observing-remote-playback-device-availability"
                        aria-label="Permalink for Section 5.2.1"></a>
                </div>

                <p>
                    <a data-link-type="idl" data-lt="RemotePlaybackAvailabilityCallback"
                        href="#dom-remoteplaybackavailabilitycallback" class="internalDFN"
                        id="ref-for-dom-remoteplaybackavailabilitycallback-3"><code>RemotePlaybackAvailabilityCallback</code></a>
                    是页面获取对应<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>
                    <dfn id="dfn-remote-playback-device-availability" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">远程播放设备可用性</dfn>的方式。如果用户代理能在后台
                    <a href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                        data-link-type="dfn"
                        id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-1">监控远程播放设备列表</a>
                    （无需待处理 <a data-link-type="idl" data-lt="prompt()" href="#dom-remoteplayback-prompt"
                        class="internalDFN"
                        id="ref-for-dom-remoteplayback-prompt-2"><code>prompt</code></a><code>()</code> 请求），
                    则用户代理 <em class="rfc2119">必须</em> 实现如下 <a data-link-type="idl"
                        data-lt="RemotePlaybackAvailabilityCallback" href="#dom-remoteplaybackavailabilitycallback"
                        class="internalDFN"
                        id="ref-for-dom-remoteplaybackavailabilitycallback-4"><code>RemotePlaybackAvailabilityCallback</code></a>
                    行为。否则，<a data-link-type="idl" data-lt="watchAvailability()"
                        href="#dom-remoteplayback-watchavailability" class="internalDFN"
                        id="ref-for-dom-remoteplayback-watchavailability-2"><code>watchAvailability</code></a><code>()</code>
                    返回的 promise <em class="rfc2119">必须</em> 因
                    <a data-link-type="idl" data-lt="NotSupportedError" data-type="exception"
                        href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a> 被拒绝。
                </p>
                <section id="the-set-of-availability-callbacks">
                    <div class="header-wrapper">
                        <h5 id="x5-2-1-1-the-set-of-availability-callbacks"><bdi class="secno">5.2.1.1 </bdi>
                            可用性回调集合
                        </h5><a class="self-link" href="#the-set-of-availability-callbacks"
                            aria-label="Permalink for Section 5.2.1.1"></a>
                    </div>

                    <p>
                        用户代理 <em class="rfc2119">必须</em> 记录通过 <dfn data-dfn-for="RemotePlayback" data-export=""
                            data-dfn-type="method" id="dom-remoteplayback-watchavailability" data-idl="operation"
                            data-title="watchAvailability()" data-type="Promise"
                            data-lt="watchAvailability()|watchAvailability(callback)"
                            data-local-lt="RemotePlayback.watchAvailability|RemotePlayback.watchAvailability()|watchAvailability"
                            tabindex="0" aria-haspopup="dialog"><code>watchAvailability()</code></dfn>
                        方法注册到每个<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>的<dfn
                            id="dfn-set-of-availability-callbacks" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">可用性回调集合</dfn>。每个
                        <a data-link-type="idl" data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN"
                            id="ref-for-dom-remoteplayback-3"><code>RemotePlayback</code></a> 对象的可用性回调集合由一组元组
                        <em>(<var data-type="long">callbackId</var>, <var
                                data-type="RemotePlaybackAvailabilityCallback">callback</var>)</em> 组成，初始为空。其中：
                    </p>
                    <ol>
                        <li>
                            <var data-type="long">callbackId</var> 是在给定 <b>浏览上下文</b> 所有 <a data-link-type="idl"
                                data-lt="watchAvailability()" href="#dom-remoteplayback-watchavailability"
                                class="internalDFN"
                                id="ref-for-dom-remoteplayback-watchavailability-3"><code>watchAvailability</code></a><code>()</code>
                            返回的唯一正整数；
                        </li>
                        <li>
                            <var data-type="RemotePlaybackAvailabilityCallback">callback</var> 是 <a data-link-type="idl"
                                data-lt="RemotePlaybackAvailabilityCallback"
                                href="#dom-remoteplaybackavailabilitycallback" class="internalDFN"
                                id="ref-for-dom-remoteplaybackavailabilitycallback-5"><code>RemotePlaybackAvailabilityCallback</code></a>
                            对象。
                        </li>
                    </ol>
                    <p>
                        每个<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>对应且仅对应一个
                        <a data-link-type="idl" data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN"
                            id="ref-for-dom-remoteplayback-4"><code>RemotePlayback</code></a> 对象，
                        因此媒体元素的<a href="#dfn-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-set-of-availability-callbacks-2">可用性回调集合</a>
                        与其<a href="#dom-htmlmediaelement-remote" class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-htmlmediaelement-remote-1"><code>remote</code></a>属性指向的
                        <a href="#dfn-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-set-of-availability-callbacks-3">RemotePlayback</a>对象的可用性回调集合一致。
                    </p>
                    <p>
                        所有已知 <a data-link-type="idl" data-lt="RemotePlayback" href="#dom-remoteplayback"
                            class="internalDFN" id="ref-for-dom-remoteplayback-6"><code>RemotePlayback</code></a> 对象的
                        <a data-lt="set of availability callbacks" href="#dfn-set-of-availability-callbacks"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-set-of-availability-callbacks-4">可用性回调集合</a> 合并后，被称为
                        <dfn id="dfn-global-set-of-availability-callbacks" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">全局可用性回调集合</dfn>。
                    </p>
                </section>
                <section id="the-list-of-available-remote-playback-devices">
                    <div class="header-wrapper">
                        <h5 id="x5-2-1-2-the-list-of-available-remote-playback-devices"><bdi class="secno">5.2.1.2
                            </bdi>
                            可用远程播放设备列表
                        </h5><a class="self-link" href="#the-list-of-available-remote-playback-devices"
                            aria-label="Permalink for Section 5.2.1.2"></a>
                    </div>

                    <p>
                        用户代理 <em class="rfc2119">必须</em> 维护一个 <dfn id="dfn-list-of-available-remote-playback-devices"
                            tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">可用远程播放设备列表</dfn>。该列表包含 <a
                            href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-18">远程播放设备</a>，并基于特定实现的发现机制构建，内容为最近一次 <a
                            href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-2">监控远程播放设备列表</a>
                        算法结果，若该算法未运行过则为空。
                    </p>
                    <p>
                        用户代理 <em class="rfc2119">可以</em> 不支持持续运行 <a
                            href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-3">监控远程播放设备列表</a>
                        算法，比如出于平台或功耗限制。在这种情况下，<a data-link-type="idl" data-lt="watchAvailability()"
                            href="#dom-remoteplayback-watchavailability" class="internalDFN"
                            id="ref-for-dom-remoteplayback-watchavailability-4"><code>watchAvailability</code></a><code>()</code>
                        返回的 promise <em class="rfc2119">必须</em> 因
                        <a data-link-type="idl" data-lt="NotSupportedError" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>
                        被拒绝；
                        此时<a href="#dfn-global-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-global-set-of-availability-callbacks-1">全局可用性回调集合</a>为空，监控可用远程设备算法只会作为<a
                            href="#dfn-initiate-remote-playback" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-initiate-remote-playback-1">发起远程播放</a>算法的一部分运行。
                    </p>
                    <p>
                        当<a href="#dfn-global-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-global-set-of-availability-callbacks-2">全局可用性回调集合</a>非空时，用户代理 <em
                            class="rfc2119">必须</em> 持续<a
                            href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-5">监控远程播放设备列表</a>，以便页面通过回调实时获得最新状态，只在有设备时提供远程播放。
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-1">
                        <div role="heading" class="note-title marker" id="h-note-1" aria-level="6"><span>注</span>
                        </div>
                        <p class="">
                            用户代理应尽量避免在不必要时<a href="#dfn-monitor-the-list-of-available-remote-playback-devices"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-6">监控远程播放设备列表</a>，以满足<a
                                href="https://github.com/w3c/remote-playback/blob/gh-pages/use-cases.md#power-saving-friendly">
                                节能非功能性需求</a>。例如当<a href="#dfn-global-set-of-availability-callbacks" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-global-set-of-availability-callbacks-3">全局可用性回调集合</a>为空，或者所有有媒体元素且可用性回调非空的页面均为后台页时，可不运行监控算法。
                        </p>
                    </div>
                    <p>
                        某些 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-19">远程播放设备</a> 由于功能、安全性或硬件限制，仅能播放部分<a
                            href="https://html.spec.whatwg.org/multipage/#media-resource">媒体资源</a>，比如只支持某些视频/音频格式的机顶盒、智能电视或网络扬声器。能合理确保某<a
                            href="https://html.spec.whatwg.org/multipage/#media-resource">媒体资源</a>远程播放可在该设备上成功播放的设备，称为
                        <dfn id="dfn-compatible-remote-playback-device" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">兼容远程播放设备</dfn>。
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-2">
                        <div role="heading" class="note-title marker" id="h-note-2" aria-level="6"><span>注</span>
                        </div>
                        <p class="">
                            用户代理可以利用
                            <a data-link-type="idl" data-type="attribute"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-track-srclang"><code>srclang</code></a>
                            属性，作为
                            <code><a data-link-type="element" data-type="element" href="https://html.spec.whatwg.org/multipage/media.html#the-track-element">track</a></code>
                            元素的文本轨道语言提示，以辅助选择<a href="#dfn-compatible-remote-playback-device" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-compatible-remote-playback-device-1">兼容远程播放设备</a>。
                        </p>
                    </div>
                    <p>
                        用户代理用于查找<a href="#dfn-compatible-remote-playback-device" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-compatible-remote-playback-device-2">兼容远程播放设备</a>时参考的<a
                            href="https://html.spec.whatwg.org/multipage/#media-resource">媒体资源</a>集合，称为 <dfn
                            id="dfn-availability-sources-set" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">可用性资源集合</dfn>。
                    </p>
                    <p>
                        用于在选中<a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-20">远程播放设备</a>上<a
                            href="#dfn-initiate-remote-playback" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-initiate-remote-playback-2">发起远程播放</a>的 <a
                            href="https://html.spec.whatwg.org/multipage/#media-resource">媒体资源</a>，称为 <dfn
                            id="dfn-remote-playback-source" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">远程播放源</dfn>。远程播放源<em class="rfc2119">必须</em>属于媒体元素的<a
                            href="#dfn-availability-sources-set" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-availability-sources-set-1">可用性资源集合</a>。
                    </p>
                    <p>
                        从<a href="#dfn-availability-sources-set" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-availability-sources-set-2">可用性资源集合</a>选择<a
                            href="#dfn-remote-playback-source" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-source-1">远程播放源</a>的机制取决于实现，但用户代理<em
                            class="rfc2119">应该</em>将集合中的每个资源都视为候选<a href="#dfn-remote-playback-source"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-source-2">远程播放源</a>。
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-3">
                        <div role="heading" class="note-title marker" id="h-note-3" aria-level="6"><span>注</span>
                        </div>
                        <div class="">
                            针对某设备选择<a href="#dfn-remote-playback-source" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-remote-playback-source-3">远程播放源</a>的算法由用户代理和所支持的<a
                                href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-remote-playback-devices-21">远程播放设备</a>类型决定。例如在<a
                                href="#dfn-media-mirroring" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-media-mirroring-1">媒体镜像</a>场景，用户代理可直接使用<a data-link-type="idl"
                                data-lt="HTMLMediaElement" data-type="interface"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>的<a
                                href="https://html.spec.whatwg.org/multipage/#concept-media-load-algorithm">资源选择算法</a>；而若用<a
                                href="#dfn-media-remoting" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-media-remoting-1">媒体远距传输</a>或<a href="#dfn-media-flinging"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-media-flinging-1">媒体推送</a>，最优源可能取决于目标设备的获取与播放能力。
                        </div>
                    </div>
                    <p>
                        如果用户代理无法确定适合<a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-23">远程播放设备</a>的<a href="#dfn-remote-playback-source"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-source-4">远程播放源</a>，
                        <em class="rfc2119">建议</em>用户代理把<a href="#dfn-availability-sources-set" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-availability-sources-set-4">可用性资源集合</a>中所有资源的元信息（如<a
                            href="https://html.spec.whatwg.org/multipage/#attr-source-type">扩展 MIME 类型</a>）发给设备，由其自行运行<a
                            href="https://html.spec.whatwg.org/multipage/#concept-media-load-algorithm">资源选择算法</a>选定<a
                            href="#dfn-remote-playback-source" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-source-5">远程播放源</a>。
                    </p>
                    <p>
                        对于<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>，当<a
                            href="#dfn-list-of-available-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-list-of-available-remote-playback-devices-1">可用远程播放设备列表</a>为空，
                        或其中没有与 <a href="#dfn-availability-sources-set" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-availability-sources-set-5">可用性资源集合</a>中任何源兼容的设备，
                        则 <dfn id="dfn-unavailable" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">远程播放不可用</dfn>。否则称为<dfn id="dfn-available" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn">可用</dfn>。如果远程播放不可用则布尔值取 <code>false</code>，可用则为
                        <code>true</code>，称为媒体元素的<dfn id="dfn-availability" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">可用性</dfn>。
                    </p>
                    <p>
                        若用户代理停止
                        <a data-lt="monitor the list of available remote playback devices"
                            href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-7">监控远程播放设备列表</a>
                        （如因用户操作或省电需求），应 <em class="rfc2119">应该</em> 用 <code>false</code> 调用所有
                        <a href="#dfn-global-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-global-set-of-availability-callbacks-4">全局可用性回调集合</a>
                        里的回调，以便页面及时调整用户体验。同时 <em class="rfc2119">应</em> 把全部媒体元素的 <a href="#dfn-availability"
                            class="internalDFN" data-link-type="dfn" id="ref-for-dfn-availability-1">可用性</a> 设为
                        <code>false</code>，这样若将来恢复监控，可正确传播可用性信息。
                    </p>
                </section>
                <section id="getting-the-remote-playback-devices-availability-information">
                    <div class="header-wrapper">
                        <h5 id="x5-2-1-3-getting-the-remote-playback-devices-availability-information"><bdi
                                class="secno">5.2.1.3 </bdi>
                            获取 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-remote-playback-devices-25">远程播放设备</a>可用性信息
                        </h5><a class="self-link" href="#getting-the-remote-playback-devices-availability-information"
                            aria-label="Permalink for Section 5.2.1.3"></a>
                    </div>

                    <p>
                        当调用 <a data-link-type="idl" data-lt="watchAvailability()"
                            href="#dom-remoteplayback-watchavailability" class="internalDFN"
                            id="ref-for-dom-remoteplayback-watchavailability-5"><code>watchAvailability</code></a><code>()</code>
                        方法时，用户代理 <em class="rfc2119">必须</em> 按如下步骤执行：
                    </p>
                    <dl>
                        <dt>
                            输入
                        </dt>
                        <dd>
                            <var data-type="RemotePlaybackAvailabilityCallback">callback</var>，用于获取可用性信息的回调函数。
                        </dd>
                        <dt>
                            输出
                        </dt>
                        <dd>
                            <var data-type="Promise">promise</var>，<a data-link-type="idl" data-lt="Promise"
                                data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>。
                        </dd>
                    </dl>
                    <ol>
                        <li>
                            令 <var data-type="Promise">promise</var> 为一个新的 <a data-link-type="idl" data-lt="Promise"
                                data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>。
                        </li>
                        <li>
                            返回 <var data-type="Promise">promise</var>，并继续执行下列步骤：
                        </li>
                        <li>
                            如果该 <a href="#dom-htmlmediaelement-disableremoteplayback" class="internalDFN"
                                data-link-type="idl"
                                id="ref-for-dom-htmlmediaelement-disableremoteplayback-1"><code>disableRemotePlayback</code></a>
                            属性存在于 <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a> 上，拒绝 <var
                                data-type="Promise">promise</var>
                            并抛出 <a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                            ，中止所有剩余步骤。
                        </li>
                        <li>
                            如果用户代理无法在整个 <a data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
                            生命周期内
                            <a href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-9">持续监控所有可用远程播放设备列表</a>
                            （例如用户禁用了该功能），则并行执行如下步骤：
                            <ol>
                                <li>
                                    标记 <var data-type="Promise">promise</var> 完成。
                                </li>
                                <li>
                                    <a data-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队任务</a>，以
                                    <code>false</code> 参数调用 <var
                                        data-type="RemotePlaybackAvailabilityCallback">callback</var>。
                                </li>
                                <li>
                                    中止所有剩余步骤。
                                </li>
                            </ol>
                        </li>
                        <li>
                            如果用户代理无法持续
                            <a href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-10">监控远程播放设备列表</a>
                            ，但可在
                            <a data-lt="initiate remote playback" href="#dfn-initiate-remote-playback"
                                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-initiate-remote-playback-3">
                                发起远程播放</a> 时短暂监控，则：
                            <ol>
                                <li>
                                    以 <a data-link-type="idl" data-lt="NotSupportedError" data-type="exception"
                                        href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>
                                    异常拒绝 <var data-type="Promise">promise</var>。
                                </li>
                                <li>
                                    中止所有剩余步骤。
                                </li>
                            </ol>
                        </li>
                        <li>
                            设 <var data-type="long">callbackId</var> 为该 <a data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
                            内此前返回的所有 <var>callbackIds</var> 中唯一的正整数。
                        </li>
                        <li>
                            创建元组 <em>(<var data-type="long">callbackId</var>, <var
                                    data-type="RemotePlaybackAvailabilityCallback">callback</var>)</em>，
                            并加入该 <a href="#dfn-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-set-of-availability-callbacks-6">媒体元素可用性回调集合</a>。
                        </li>
                        <li>
                            以 <var data-type="long">callbackId</var> 完成 <var
                                data-type="Promise">promise</var>，并并行执行下列步骤：
                            <ol>
                                <li>
                                    <a data-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队任务</a>，以
                                    <a href="#dfn-availability" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-availability-2">媒体元素可用性</a> 的当前值作为参数调用 <var
                                        data-type="RemotePlaybackAvailabilityCallback">callback</var>。
                                </li>
                                <li>若用户代理当前未
                                    <a data-lt="monitor the list of available remote playback devices"
                                        href="#dfn-monitor-the-list-of-available-remote-playback-devices"
                                        class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-11">监控远程播放设备列表</a>，
                                    立即运行该算法。
                                </li>
                            </ol>
                        </li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-4">
                        <div role="heading" class="note-title marker" id="h-note-4" aria-level="6"><span>注</span>
                        </div>
                        <p class="">
                            一个简单的 <var data-type="long">callbackId</var> 分配算法是在每个 <a data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
                            维护计数器，并在第 6 步递增。
                        </p>
                    </div>
                    <div class="note" role="note" id="issue-container-generatedID-5">
                        <div role="heading" class="note-title marker" id="h-note-5" aria-level="6"><span>注</span>
                        </div>
                        <div class="">
                            为避免泄漏可用于指纹识别用户的信息，用户代理不得分配基于浏览器配置文件或某 <a href="#dfn-remote-playback-devices"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-remote-playback-devices-26">远程播放设备</a>的持久性信息的 <var
                                data-type="long">callbackId</var>。
                        </div>
                    </div>
                </section>
                <section id="monitoring-the-list-of-available-remote-playback-devices">
                    <div class="header-wrapper">
                        <h5 id="x5-2-1-4-monitoring-the-list-of-available-remote-playback-devices"><bdi
                                class="secno">5.2.1.4 </bdi>
                            监控可用远程播放设备列表
                        </h5><a class="self-link" href="#monitoring-the-list-of-available-remote-playback-devices"
                            aria-label="Permalink for Section 5.2.1.4"></a>
                    </div>

                    <p>
                        如果 <a href="#dfn-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-set-of-availability-callbacks-7">可用性回调集合</a>非空，或存在尚未处理的 <a data-lt="prompt"
                            href="#dom-remoteplayback-prompt" class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-remoteplayback-prompt-3">
                            发起远程播放请求</a>，则用户代理<em class="rfc2119">必须</em>通过以下步骤<dfn
                            id="dfn-monitor-the-list-of-available-remote-playback-devices" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn">监控可用远程播放设备列表</dfn>：
                    </p>
                    <ol>
                        <li>
                            检索可用远程播放设备（采用具体实现机制），记为 <var data-type="list">newDevices</var>。
                        </li>
                        <li>
                            针对该 <a data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
                            已知的每个 <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>：
                            <ol>
                                <li>
                                    若 <a href="#dom-htmlmediaelement-disableremoteplayback" class="internalDFN"
                                        data-link-type="idl"
                                        id="ref-for-dom-htmlmediaelement-disableremoteplayback-2"><code>disableRemotePlayback</code></a>
                                    属性存在于 <var data-type="HTMLMediaElement">mediaElement</var> 上，终止本元组所有剩余步骤，转入下一个。
                                </li>
                                <li>
                                    设置 <var data-type="boolean">newAvailabilityValue</var> 为使用 <var
                                        data-type="list">newDevices</var> 列表（而不是 <a
                                        href="#dfn-list-of-available-remote-playback-devices" class="internalDFN"
                                        data-link-type="dfn"
                                        id="ref-for-dfn-list-of-available-remote-playback-devices-2">可用远程播放设备列表</a>）计算出的该
                                    <a href="#dfn-availability" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-availability-3">媒体元素的可用性</a>值。
                                </li>
                                <li>
                                    若当前 <a href="#dfn-availability" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-availability-4">可用性</a> 不等于 <var
                                        data-type="boolean">newAvailabilityValue</var>，则对该元素<a
                                        href="#dfn-set-of-availability-callbacks" class="internalDFN"
                                        data-link-type="dfn"
                                        id="ref-for-dfn-set-of-availability-callbacks-8">可用性回调集合</a>中的每个 <em>(<var
                                            data-type="long">callbackId</var>,
                                        <var data-type="RemotePlaybackAvailabilityCallback">callback</var>)</em>：
                                    <ol>
                                        <li>
                                            <a data-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队任务</a>，以
                                            <var data-type="boolean">newAvailabilityValue</var> 作为参数调用 <var
                                                data-type="RemotePlaybackAvailabilityCallback">callback</var>。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>
                            用 <var data-type="list">newDevices</var> 更新 <a
                                href="#dfn-list-of-available-remote-playback-devices" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-list-of-available-remote-playback-devices-3">可用远程播放设备列表</a>。
                        </li>
                    </ol>
                </section>
                <section id="stop-observing-remote-playback-devices-availability">
                    <div class="header-wrapper">
                        <h5 id="x5-2-1-5-stop-observing-remote-playback-devices-availability"><bdi class="secno">5.2.1.5
                            </bdi>
                            停止监控远程播放设备可用性
                        </h5><a class="self-link" href="#stop-observing-remote-playback-devices-availability"
                            aria-label="Permalink for Section 5.2.1.5"></a>
                    </div>

                    <p>
                        当调用 <dfn data-dfn-for="RemotePlayback" data-export="" data-dfn-type="method"
                            id="dom-remoteplayback-cancelwatchavailability" data-idl="operation"
                            data-title="cancelWatchAvailability()" data-type="Promise"
                            data-lt="cancelWatchAvailability()|cancelWatchAvailability(id)"
                            data-local-lt="RemotePlayback.cancelWatchAvailability|RemotePlayback.cancelWatchAvailability()|cancelWatchAvailability"
                            tabindex="0" aria-haspopup="dialog"><code>cancelWatchAvailability()</code></dfn> 方法时，用户代理
                        <em class="rfc2119">必须</em> 按如下步骤运行：
                    </p>
                    <dl>
                        <dt>
                            输入
                        </dt>
                        <dd>
                            <var data-type="long">id</var>，回调标识符。
                        </dd>
                        <dt>
                            输出
                        </dt>
                        <dd>
                            <var data-type="Promise">promise</var>，<a data-link-type="idl" data-lt="Promise"
                                data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>。
                        </dd>
                    </dl>
                    <ol>
                        <li>
                            令 <var data-type="Promise">promise</var> 为一个新的 <a data-link-type="idl" data-lt="Promise"
                                data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>。
                        </li>
                        <li>
                            返回 <var data-type="Promise">promise</var>，并继续执行如下步骤：
                        </li>
                        <li>
                            如果 <a href="#dom-htmlmediaelement-disableremoteplayback" class="internalDFN"
                                data-link-type="idl"
                                id="ref-for-dom-htmlmediaelement-disableremoteplayback-3"><code>disableRemotePlayback</code></a>
                            属性存在于 <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a> 上，拒绝 <var
                                data-type="Promise">promise</var>，抛出
                            <a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>，中止所有剩余步骤。
                        </li>
                        <li>
                            如果参数 <var data-type="long">id</var> 为 <code>undefined</code>，则清空 <a
                                href="#dfn-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-set-of-availability-callbacks-9">可用性回调集合</a>。
                        </li>
                        <li>
                            否则，如果 <var data-type="long">id</var> 与 <a href="#dfn-set-of-availability-callbacks"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-set-of-availability-callbacks-10">可用性回调集合</a> 中任何 <var
                                data-type="long">callbackId</var> 相符，从集合中移除该项。
                        </li>
                        <li>
                            否则，拒绝 <var data-type="Promise">promise</var> 并抛出
                            <a data-link-type="idl" data-lt="NotFoundError" data-type="exception"
                                href="https://webidl.spec.whatwg.org/#notfounderror"><code>NotFoundError</code></a>，中止所有剩余步骤。
                        </li>
                        <li>
                            若 <a href="#dfn-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-set-of-availability-callbacks-11">可用性回调集合</a> 现为空且不存在未处理的
                            <a data-lt="prompt" href="#dom-remoteplayback-prompt" class="internalDFN"
                                data-link-type="idl" id="ref-for-dom-remoteplayback-prompt-4">远程播放请求</a>，为节能取消任何待处理的 <a
                                href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-13">监控远程播放设备列表</a>
                            任务。
                        </li>
                        <li>
                            标记 <var data-type="Promise">promise</var> 完成。
                        </li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-6">
                        <div role="heading" class="note-title marker" id="h-note-6" aria-level="6"><span>注</span>
                        </div>
                        <div class="">
                            用户代理用于监控 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-remote-playback-devices-27">远程播放设备</a>
                            可用性并判定某设备与选定 <a href="#dfn-availability-sources-set" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-availability-sources-set-6">可用性资源集合</a>
                            的兼容性的机制，留给用户代理自行实现。
                        </div>
                    </div>
                </section>
            </section>
            <section data-link-for="RemotePlayback" id="prompt-user-for-changing-remote-playback-state">
                <div class="header-wrapper">
                    <h4 id="x5-2-2-prompt-user-for-changing-remote-playback-state"><bdi class="secno">5.2.2 </bdi>
                        提示用户改变远程播放状态
                    </h4><a class="self-link" href="#prompt-user-for-changing-remote-playback-state"
                        aria-label="Permalink for Section 5.2.2"></a>
                </div>

                <p>
                    当调用 <dfn data-dfn-for="RemotePlayback" data-export="" data-dfn-type="method"
                        id="dom-remoteplayback-prompt" data-idl="operation" data-title="prompt()" data-type="Promise"
                        data-lt="prompt()" data-local-lt="RemotePlayback.prompt|RemotePlayback.prompt()|prompt"
                        tabindex="0" aria-haspopup="dialog"><code>prompt()</code></dfn> 方法时，用户代理 <em
                        class="rfc2119">必须</em> 执行以下步骤：
                </p>
                <dl>
                    <dt>
                        输入
                    </dt>
                    <dd>
                        无，但算法涉及<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>、其
                        <a data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-remoteplayback-7">remote</a> 属性及其
                        <a href="#dfn-availability-sources-set" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-availability-sources-set-7">可用性资源集合</a>。
                    </dd>
                    <dt>
                        输出
                    </dt>
                    <dd>
                        一个 <a data-link-type="idl" data-lt="Promise" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>。
                    </dd>
                </dl>
                <ol>
                    <li>
                        令 <var data-type="Promise">promise</var> 为一个新的 <a data-link-type="idl" data-lt="Promise"
                            data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>。
                    </li>
                    <li>
                        返回 <var data-type="Promise">promise</var> 并继续并行执行下列步骤。
                    </li>
                    <li>
                        如果该 <a href="#dom-htmlmediaelement-disableremoteplayback" class="internalDFN"
                            data-link-type="idl"
                            id="ref-for-dom-htmlmediaelement-disableremoteplayback-4"><code>disableRemotePlayback</code></a>
                        属性存在于 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a> 上，则拒绝
                        <var data-type="Promise">promise</var>，抛出
                        <a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>，
                        并终止所有剩余步骤。
                    </li>
                    <li>
                        如果此前针对同一个 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a> 或同一 <a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
                        有未决的 <a data-link-type="idl" data-lt="prompt()" href="#dom-remoteplayback-prompt"
                            class="internalDFN"
                            id="ref-for-dom-remoteplayback-prompt-5"><code>prompt</code></a><code>()</code>
                        promise，用户代理<em class="rfc2119">可以</em>用 <a data-link-type="idl" data-lt="OperationError"
                            data-type="exception"
                            href="https://webidl.spec.whatwg.org/#operationerror"><code>OperationError</code></a> 拒绝
                        <var data-type="Promise">promise</var> 并终止所有剩余步骤。
                        <div class="note" role="note" id="issue-container-generatedID-7">
                            <div role="heading" class="note-title marker" id="h-note-7" aria-level="5"><span>注</span>
                            </div>
                            <div class="">
                                设计理由：用户代理可能会出现一个只在媒体元素或整个浏览上下文独占的对话框。在这种情况下，如果调用了第二次 <a data-link-type="idl"
                                    data-lt="prompt()" href="#dom-remoteplayback-prompt" class="internalDFN"
                                    id="ref-for-dom-remoteplayback-prompt-6"><code>prompt</code></a><code>()</code>
                                则无法再弹出新的 UI。
                            </div>
                        </div>
                    </li>
                    <li>
                        如果文档的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window">活动窗口</a> 没有
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">瞬时激活</a>，用
                        <a data-link-type="idl" data-lt="InvalidAccessError" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidaccesserror"><code>InvalidAccessError</code></a>
                        拒绝 <var data-type="Promise">promise</var> 并终止这些步骤。
                    </li>
                    <li>
                        可选：如果用户代理已知某些 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>远程播放不可行（不关联当前 <a
                            href="#dom-remoteplayback-state" class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-remoteplayback-state-3"><code>state</code></a> 或 <a
                            href="#dfn-list-of-available-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-list-of-available-remote-playback-devices-4">可用远程播放设备列表</a>），用 <a
                            data-link-type="idl" data-lt="NotSupportedError" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>
                        拒绝 <var data-type="Promise">promise</var> 并终止所有剩余步骤。
                        <div class="note" role="note" id="issue-container-generatedID-8">
                            <div role="heading" class="note-title marker" id="h-note-8" aria-level="5"><span>注</span>
                            </div>
                            <div class="">
                                例如，只支持 <a href="#dfn-media-flinging" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-media-flinging-2">媒体推送</a> 时，媒体元素的 source 不是能传递给 <a
                                    data-link-type="idl" data-lt="URL" data-type="interface"
                                    href="https://url.spec.whatwg.org/#url"><code>URL</code></a> 的远程设备。
                            </div>
                        </div>
                    </li>
                    <li>
                        如果用户代理需要显示 <a href="#dfn-list-of-available-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-list-of-available-remote-playback-devices-5">可用远程播放设备列表</a>，且未<a data-lt="monitor the list of
              available remote playback devices" href="#dfn-monitor-the-list-of-available-remote-playback-devices"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-14">监控远程播放设备列表</a>，则应并行运行上述监控算法。
                    </li>
                    <li>
                        如果远程播放 <a href="#dfn-unavailable" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-unavailable-2">不可用</a>，且在请求用户权限结束前仍不可用，则用 <a data-link-type="idl"
                            data-lt="NotFoundError" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notfounderror"><code>NotFoundError</code></a>
                        拒绝 <var data-type="Promise">promise</var>，并终止所有剩余步骤。
                    </li>
                    <li>
                        请求用户<dfn id="dfn-change-remote-playback-state" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">更改远程播放状态</dfn>的许可。
                        <div class="note" role="note" id="issue-container-generatedID-9">
                            <div role="heading" class="note-title marker" id="h-note-9" aria-level="5"><span>注</span>
                            </div>
                            <div class="">
                                示例 UI 如允许用户选择新的 <a href="#dfn-remote-playback-devices" class="internalDFN"
                                    data-link-type="dfn"
                                    id="ref-for-dfn-remote-playback-devices-30">远程播放设备</a>、在本地/远程设备间切换，或<a
                                    href="#dfn-disconnect-from-a-remote-playback-device" class="internalDFN"
                                    data-link-type="dfn"
                                    id="ref-for-dfn-disconnect-from-a-remote-playback-device-1">断开远程播放设备连接</a>。
                            </div>
                        </div>
                        <div class="note" role="note" id="issue-container-generatedID-10">
                            <div role="heading" class="note-title marker" id="h-note-10" aria-level="5">
                                <span>注</span>
                            </div>
                            <div class="">
                                用户可能因其它目的已选择某 <a href="#dfn-remote-playback-devices" class="internalDFN"
                                    data-link-type="dfn"
                                    id="ref-for-dfn-remote-playback-devices-31">远程播放设备</a>，如镜像屏幕或页面内容，用户代理可跳过设备选择 UI
                                直接进入下一步。
                            </div>
                        </div>
                    </li>
                    <li>
                        如果用户选择了某个 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-32">远程播放设备</a>
                        <var data-type="remote playback device">device</var> 并 <dfn id="dfn-initiate-remote-playback"
                            tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">发起远程播放</dfn>，用户代理 <em
                            class="rfc2119">必须</em> 依次执行下述步骤：
                        <ol>
                            <li>
                                将 <var data-type="RemotePlayback">remote</var> 对象的 <a href="#dom-remoteplayback-state"
                                    class="internalDFN" data-link-type="idl"
                                    id="ref-for-dom-remoteplayback-state-4"><code>state</code></a> 设为 <a
                                    href="#dom-remoteplaybackstate-connecting" class="internalDFN" data-link-type="idl"
                                    id="ref-for-dom-remoteplaybackstate-connecting-2"><code>connecting</code></a>。
                            </li>
                            <li>
                                标记 <var data-type="Promise">promise</var> 完成。
                            </li>
                            <li>
                                <a data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队任务</a>，在媒体元素的
                                <a data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN"
                                    data-link-type="idl" id="ref-for-dom-remoteplayback-8">remote</a> 属性上 <a
                                    data-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">派发</a>名为
                                <a href="#dfn-connecting" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-connecting-1"><code>connecting</code></a> 的事件，事件不冒泡且不可取消，无默认动作。
                            </li>
                            <li>
                                为该 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>
                                <a href="#dfn-establish-a-connection-with-the-remote-playback-device"
                                    class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-establish-a-connection-with-the-remote-playback-device-1">建立与远程播放设备的连接</a>
                                <var data-type="remote playback device">device</var>。
                            </li>
                        </ol>
                        <div class="note" role="note" id="issue-container-generatedID-11">
                            <div role="heading" class="note-title marker" id="h-note-11" aria-level="5">
                                <span>注</span>
                            </div>
                            <p class="">
                                选择 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-remote-playback-devices-33">远程播放设备</a> 即表示用户<em>授权</em>使用该设备。
                            </p>
                        </div>
                    </li>
                    <li>
                        否则如果用户选择断开 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-34">远程播放设备</a> <var data-type="remote
              playback device">device</var>，用户代理 <em class="rfc2119">必须</em> 执行以下步骤：
                        <ol>
                            <li>
                                标记 <var data-type="Promise">promise</var> 完成。
                            </li>
                            <li>
                                对该 <var data-type="remote playback device">device</var> 执行 <a
                                    href="#dfn-disconnect-from-a-remote-playback-device" class="internalDFN"
                                    data-link-type="dfn"
                                    id="ref-for-dfn-disconnect-from-a-remote-playback-device-2">断开远程播放设备连接</a> 算法。
                            </li>
                        </ol>
                    </li>
                    <li>
                        否则，视为用户<em>拒绝授权</em>使用该设备，用 <a data-link-type="idl" data-lt="NotAllowedError"
                            data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>
                        拒绝 <var data-type="Promise">promise</var> 并隐藏用户代理展示的 UI。
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-12">
                    <div role="heading" class="note-title marker" id="h-note-12" aria-level="5"><span>注</span></div>
                    <div class="">
                        具体 UI
                        和设备选择实现方式由用户代理确定。例如，可以弹出对话框让用户选择可用设备（<em>同意授权</em>），也可取消选择（<em>拒绝授权</em>）。大多数情况下，设备会提供带有本地化与文本方向信息的用户友好名称，用户代理建议采用该名称并结合其本地化和文本方向（如已知）。
                    </div>
                </div>
            </section>
            <section id="the-state-attribute">
                <div class="header-wrapper">
                    <h4 id="x5-2-3-the-state-attribute"><bdi class="secno">5.2.3 </bdi>
                        <dfn data-dfn-for="RemotePlayback" data-export="" data-dfn-type="attribute"
                            id="dom-remoteplayback-state" data-idl="attribute" data-title="state"
                            data-type="RemotePlaybackState" data-lt="state" data-local-lt="RemotePlayback.state"
                            tabindex="0" aria-haspopup="dialog"><code>state</code></dfn> 属性
                    </h4><a class="self-link" href="#the-state-attribute" aria-label="Permalink for Section 5.2.3"></a>
                </div>

                <p>
                    <a data-link-type="idl" href="#dom-remoteplayback-state" class="internalDFN"
                        id="ref-for-dom-remoteplayback-state-5"><code>state</code></a> 属性表示
                    <a data-link-type="idl" data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN"
                        id="ref-for-dom-remoteplayback-9"><code>RemotePlayback</code></a> 连接的当前状态。它可以根据连接状态取 <a
                        data-link-type="idl" data-lt="RemotePlaybackState" href="#dom-remoteplaybackstate"
                        class="internalDFN" id="ref-for-dom-remoteplaybackstate-3"><code>RemotePlaybackState</code></a>
                    的以下值之一：
                </p>
                <ul>
                    <li>
                        <dfn data-dfn-for="RemotePlaybackState" data-export="" data-dfn-type="enum-value"
                            id="dom-remoteplaybackstate-connecting" data-idl="enum-value" data-title="connecting"
                            tabindex="0" aria-haspopup="dialog"><code>connecting</code></dfn> 表示用户代理正在尝试与选定的 <a
                            href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-35">远程播放设备</a>
                        <a href="#dfn-initiate-remote-playback" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-initiate-remote-playback-4">发起远程播放</a>。当 <a data-link-type="idl"
                            data-lt="prompt()" href="#dom-remoteplayback-prompt" class="internalDFN"
                            id="ref-for-dom-remoteplayback-prompt-7"><code>prompt</code></a><code>()</code> 返回的 promise
                        被 fulfill 时为初始状态。此状态下媒体元素的本地播放继续，媒体命令仍作用于 <a href="#dfn-local-playback-state"
                            class="internalDFN" data-link-type="dfn" id="ref-for-dfn-local-playback-state-1">本地播放状态</a>。
                    </li>
                    <li>
                        <dfn data-dfn-for="RemotePlaybackState" data-export="" data-dfn-type="enum-value"
                            id="dom-remoteplaybackstate-connected" data-idl="enum-value" data-title="connected"
                            tabindex="0" aria-haspopup="dialog"><code>connected</code></dfn> 表示已从本地切换到远程播放，所有媒体命令现在都作用于
                        <a href="#dfn-remote-playback-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-state-2">远程播放状态</a>。
                    </li>
                    <li>
                        <dfn data-dfn-for="RemotePlaybackState" data-export="" data-dfn-type="enum-value"
                            id="dom-remoteplaybackstate-disconnected" data-idl="enum-value" data-title="disconnected"
                            tabindex="0" aria-haspopup="dialog"><code>disconnected</code></dfn> 表示远程播放尚未 <a data-lt="initiate remote
              playback" href="#dfn-initiate-remote-playback" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-initiate-remote-playback-5">发起</a> 或发起失败或已停止。所有媒体命令将作用于 <a
                            href="#dfn-local-playback-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-local-playback-state-2">本地播放状态</a>。可以通过调用 <a data-link-type="idl"
                            data-lt="prompt()" href="#dom-remoteplayback-prompt" class="internalDFN"
                            id="ref-for-dom-remoteplayback-prompt-8"><code>prompt</code></a><code>()</code> 发起远程播放。
                    </li>
                </ul>
            </section>
            <section data-link-for="RemotePlayback" id="establishing-a-connection-with-a-remote-playback-device">
                <div class="header-wrapper">
                    <h4 id="x5-2-4-establishing-a-connection-with-a-remote-playback-device"><bdi class="secno">5.2.4
                        </bdi>
                        与远程播放设备建立连接
                    </h4><a class="self-link" href="#establishing-a-connection-with-a-remote-playback-device"
                        aria-label="Permalink for Section 5.2.4"></a>
                </div>

                <p>
                    当用户代理要 <dfn id="dfn-establish-a-connection-with-the-remote-playback-device" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">与远程播放设备建立连接</dfn> 时，<em
                        class="rfc2119">必须</em>执行以下步骤：
                </p>
                <dl>
                    <dt>
                        输入
                    </dt>
                    <dd>
                        <var data-type="RemotePlayback">remote</var>，要连接的 <a data-link-type="idl"
                            data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN"
                            id="ref-for-dom-remoteplayback-10"><code>RemotePlayback</code></a> 对象。
                    </dd>
                    <dd>
                        <var data-type="remote playback device">device</var>，要连接的 <a href="#dfn-remote-playback-devices"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-36">远程播放设备</a>。
                    </dd>
                </dl>
                <ol>
                    <li>
                        如果 <var data-type="RemotePlayback">remote</var> 的 <a data-link-type="idl"
                            href="#dom-remoteplayback-state" class="internalDFN"
                            id="ref-for-dom-remoteplayback-state-6"><code>state</code></a> 不为 "<a data-link-type="idl"
                            href="#dom-remoteplaybackstate-connecting" class="internalDFN"
                            id="ref-for-dom-remoteplaybackstate-connecting-3"><code>connecting</code></a>"，中止所有剩余步骤。
                    </li>
                    <li>
                        请求将 <var data-type="RemotePlayback">remote</var> 连接到 <var
                            data-type="remote playback device">device</var>。此步骤的具体实现由用户代理决定。
                    </li>
                    <li>
                        如果连接成功，<a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队任务</a>
                        执行下列操作：
                        <ol>
                            <li>
                                将 <var data-type="RemotePlayback">remote</var> 的 <a data-link-type="idl"
                                    href="#dom-remoteplayback-state" class="internalDFN"
                                    id="ref-for-dom-remoteplayback-state-7"><code>state</code></a> 设为
                                "<a data-link-type="idl" href="#dom-remoteplaybackstate-connected" class="internalDFN"
                                    id="ref-for-dom-remoteplaybackstate-connected-2"><code>connected</code></a>"。
                            </li>
                            <li>
                                <a data-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">派发事件</a>，事件名为
                                <a href="#dfn-connect" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-connect-1"><code>connect</code></a>，对象为 <var
                                    data-type="RemotePlayback">remote</var>。
                            </li>
                            <li>
                                同步当前 <a href="#dfn-media-element-state" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-media-element-state-7">媒体元素状态</a>
                                与 <a href="#dfn-remote-playback-state" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-remote-playback-state-3">远程播放状态</a>。具体由用户代理实现。
                            </li>
                        </ol>
                    </li>
                    <li>
                        如果连接失败，<a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队任务</a> 执行下列操作：
                        <ol>
                            <li>
                                将 <var data-type="RemotePlayback">remote</var> 的 <a data-lt="state"
                                    href="#dom-remoteplayback-state" class="internalDFN" data-link-type="idl"
                                    id="ref-for-dom-remoteplayback-state-8">remote playback state</a> 设为
                                "<a data-link-type="idl" href="#dom-remoteplaybackstate-disconnected"
                                    class="internalDFN"
                                    id="ref-for-dom-remoteplaybackstate-disconnected-2"><code>disconnected</code></a>"。
                            </li>
                            <li>
                                <a data-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">派发事件</a>，事件名为
                                <a data-link-type="idl" href="#dfn-disconnect" class="internalDFN"
                                    id="ref-for-dfn-disconnect-1"><code><code>disconnect</code></code></a>，对象为 <var
                                    data-type="RemotePlayback">remote</var>。
                            </li>
                        </ol>
                    </li>
                </ol>
                <p>
                    当 <a href="#dfn-remote-playback-state" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-remote-playback-state-4">远程播放状态</a>为 "<a data-link-type="idl"
                        href="#dom-remoteplaybackstate-connected" class="internalDFN"
                        id="ref-for-dom-remoteplaybackstate-connected-3"><code>connected</code></a>" 时，用户代理 <em
                        class="rfc2119">应</em> 暂停媒体元素的本地音视频输出。
                </p>
                <p>
                    如果用户代理为媒体元素 <a
                        href="https://html.spec.whatwg.org/multipage/#expose-a-user-interface-to-the-user">暴露了用户界面</a>（如用默认控件），则
                    <em class="rfc2119">应</em> 通过图标或其他方式展示其 <a href="#dfn-remote-playback-state" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-remote-playback-state-5">远程播放状态</a>为 "<a
                        data-link-type="idl" href="#dom-remoteplaybackstate-connected" class="internalDFN"
                        id="ref-for-dom-remoteplaybackstate-connected-4"><code>connected</code></a>"。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-13">
                    <div role="heading" class="note-title marker" id="h-note-13" aria-level="5"><span>注</span></div>
                    <div class="">
                        用户代理与 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-37">远程播放设备</a> 连接、选择 <a
                            href="#dfn-remote-playback-source" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-source-6">远程播放源</a>、发起播放等机制均由用户代理决定。连接很可能需要提供可双向通信的封装，能将媒体命令传递到远程播放设备并接收其播放状态，以同步
                        <a href="#dfn-media-element-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-media-element-state-8">媒体元素状态</a> 与 <a href="#dfn-remote-playback-state"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-state-6">远程播放状态</a>（除非使用 <a href="#dfn-media-mirroring"
                            class="internalDFN" data-link-type="dfn" id="ref-for-dfn-media-mirroring-2">媒体镜像</a>）。
                    </div>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-14">
                    <div role="heading" class="note-title marker" id="h-note-14" aria-level="5"><span>注</span></div>
                    <div class="">
                        用户代理建议在可能时，将本地化和文本方向信息传递给 <a href="#dfn-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-38">远程播放设备</a>，以便设备依据用户偏好调整其用户界面和功能。如，可以用这些信息选择与用户代理一致的默认文本轨道，并设置
                        HTTP 的 <code>Accept-Language</code> 头来获取媒体资源。
                    </div>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-15">
                    <div role="heading" class="note-title marker" id="h-note-15" aria-level="5"><span>注</span></div>
                    <div class="">
                        当 <a data-link-type="idl" href="#dom-remoteplaybackstate-connected" class="internalDFN"
                            id="ref-for-dom-remoteplaybackstate-connected-5"><code>connected</code></a> 状态且内容正由 <a
                            href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-41">远程播放设备</a> 渲染时，用户代理不应本地渲染媒体元素输出。
                    </div>
                </div>
            </section>
            <section data-link-for="RemotePlayback" id="browser-initiated-remote-playback">
                <div class="header-wrapper">
                    <h4 id="x5-2-5-browser-initiated-remote-playback"><bdi class="secno">5.2.5 </bdi>
                        浏览器发起远程播放
                    </h4><a class="self-link" href="#browser-initiated-remote-playback"
                        aria-label="Permalink for Section 5.2.5"></a>
                </div>

                <p>
                    用户代理<em class="rfc2119">可以</em>支持通过浏览器<a
                        data-lt="establish a connection with the remote playback device"
                        href="#dfn-establish-a-connection-with-the-remote-playback-device" class="internalDFN"
                        data-link-type="dfn"
                        id="ref-for-dfn-establish-a-connection-with-the-remote-playback-device-2">连接到远程播放设备</a>。如可在 <a
                        href="https://html.spec.whatwg.org/multipage/#expose-a-user-interface-to-the-user">暴露给用户的界面</a>
                    中添加合适控件，或当开启系统级镜像时进行。此功能称为 <dfn id="dfn-browser-initiated-remote-playback" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">浏览器发起远程播放</dfn>。支持此能力的用户代理 <em class="rfc2119">应</em>
                    仅在用户有明确意图（如点击浏览器按钮）时才发起远程播放。
                </p>
                <p>
                    若用户代理支持 <a href="#dfn-browser-initiated-remote-playback" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-browser-initiated-remote-playback-2">浏览器发起远程播放</a>，
                    <a href="#dom-remoteplayback-state" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-remoteplayback-state-9"><code>state</code></a> 属性<em class="rfc2119">必须</em>反映与
                    <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-remote-playback-devices-42">远程播放设备</a> 的当前连接状态。浏览器发起或终止远程播放时，<em
                        class="rfc2119">必须</em>按本规范相关算法派发事件。
                </p>
                <p>
                    若 <a data-lt="browser initiated remote playback" href="#dfn-browser-initiated-remote-playback"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-browser-initiated-remote-playback-3">浏览器即将发起媒体元素远程播放</a>，
                    <em class="rfc2119">应</em>先将其 <a href="#dom-remoteplayback-state" class="internalDFN"
                        data-link-type="idl" id="ref-for-dom-remoteplayback-state-10"><code>state</code></a> 初始化为 "<a
                        data-link-type="idl" href="#dom-remoteplaybackstate-connecting" class="internalDFN"
                        id="ref-for-dom-remoteplaybackstate-connecting-4"><code>connecting</code></a>"，然后启动与远程播放设备的连接流程。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-16">
                    <div role="heading" class="note-title marker" id="h-note-16" aria-level="5"><span>注</span></div>
                    <div class="">
                        支持浏览器发起远程播放的用户代理应考虑其与其它媒体播放相关浏览器策略的交互，如哪些 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>
                        <a href="https://html.spec.whatwg.org/multipage/#allowed-to-play">被允许播放</a>
                        以及后台播放优化策略。
                    </div>
                </div>
            </section>
            <section id="media-commands-and-media-playback-state">
                <div class="header-wrapper">
                    <h4 id="x5-2-6-media-commands-and-media-playback-state"><bdi class="secno">5.2.6 </bdi>
                        媒体命令与媒体播放状态
                    </h4><a class="self-link" href="#media-commands-and-media-playback-state"
                        aria-label="Permalink for Section 5.2.6"></a>
                </div>

                <p>
                    <a data-link-type="idl" data-lt="HTMLMediaElement" data-type="interface"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    接口在与 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-remote-playback-devices-43">远程播放设备</a> 建立连接后即与远程媒体交互。
                </p>
                <p>
                    当 <a data-link-type="idl" href="#dom-remoteplayback-state" class="internalDFN"
                        id="ref-for-dom-remoteplayback-state-11"><code>state</code></a> 为 "<a data-link-type="idl"
                        href="#dom-remoteplaybackstate-connected" class="internalDFN"
                        id="ref-for-dom-remoteplaybackstate-connected-6"><code>connected</code></a>" 时，下述规则关联
                    <a href="#dfn-local-playback-state" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-local-playback-state-3">本地播放状态</a>、<a href="#dfn-media-element-state"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-media-element-state-9">媒体元素状态</a> 和
                    <a href="#dfn-remote-playback-state" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-remote-playback-state-7">远程播放状态</a>：
                </p>
                <ul>
                    <li>
                        用户代理 <em class="rfc2119">必须</em> 将 <a data-link-type="idl" data-lt="HTMLMediaElement"
                            data-type="interface"
                            href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                        对象的所有媒体命令发送给 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-44">远程播放设备</a> ，以修改其 <a
                            href="#dfn-remote-playback-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-state-8">远程播放状态</a>；
                    </li>
                    <li>
                        <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-45">远程播放设备</a> <em class="rfc2119">应</em>
                        实现用户代理发送的所有媒体命令；
                    </li>
                    <li>
                        <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-46">远程播放设备</a> <em class="rfc2119">应</em> 向用户代理发送 <a
                            href="#dfn-remote-playback-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-state-9">远程播放状态</a> 的最新信息，以反映通过 <a
                            href="#dfn-media-element-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-media-element-state-10">媒体元素状态</a> 暴露的任何属性变更；
                    </li>
                    <li>
                        用户代理 <em class="rfc2119">必须</em> 处理从 <a href="#dfn-remote-playback-devices" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-remote-playback-devices-47">远程播放设备</a> 接收到的所有 <a
                            href="#dfn-remote-playback-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-state-10">远程播放状态</a> 更新，并相应更新媒体元素的 <a
                            href="#dfn-local-playback-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-local-playback-state-4">本地播放状态</a>。
                    </li>
                </ul>
                <p>
                    若发送命令失败，用户代理 <em class="rfc2119">可以</em>
                    <a href="#dfn-disconnect-from-a-remote-playback-device" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-disconnect-from-a-remote-playback-device-4">断开远程播放设备连接</a>。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-17">
                    <div role="heading" class="note-title marker" id="h-note-17" aria-level="5"><span>注</span></div>
                    <div class="">
                        <p>
                            <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-remote-playback-devices-48">远程播放设备</a> 可以只实现用户代理播放引擎能力的子集，且某些 <a
                                data-link-type="idl" data-lt="HTMLMediaElement" data-type="interface"
                                href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                            API 在远程播放时并不总是适用。在这种情况下，<a href="#dfn-local-playback-state" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-local-playback-state-5">本地播放状态</a>
                            应尽可能反映媒体命令远程播放后实际的 <a href="#dfn-remote-playback-state" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-remote-playback-state-11">远程播放状态</a>。
                        </p>
                        <p>
                            例如，若连接到不支持 <a data-link-type="idl" data-lt="fastSeek()" data-type="method"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-fastseek"><code>fastSeek</code></a><code>()</code>
                            的 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-remote-playback-devices-49">远程播放设备</a> 后调用 fastSeek()，则 <a
                                data-link-type="idl" data-type="attribute"
                                href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seeking"><code>seeking</code></a>
                            属性应保持为 <code>false</code>，不会触发 <a
                                href="https://html.spec.whatwg.org/multipage/#event-media-seeking"><code>seeking</code></a>
                            事件。
                        </p>
                    </div>
                </div>
            </section>
            <section id="disconnecting-from-a-remote-playback-device">
                <div class="header-wrapper">
                    <h4 id="x5-2-7-disconnecting-from-a-remote-playback-device"><bdi class="secno">5.2.7 </bdi>
                        断开远程播放设备连接
                    </h4><a class="self-link" href="#disconnecting-from-a-remote-playback-device"
                        aria-label="Permalink for Section 5.2.7"></a>
                </div>

                <p>
                    当用户代理需要<dfn id="dfn-disconnect-from-a-remote-playback-device" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">断开远程播放设备连接</dfn>时，<em class="rfc2119">必须</em>执行如下操作：
                </p>
                <dl>
                    <dt>
                        输入
                    </dt>
                    <dd>
                        <var data-type="RemotePlayback">remote</var>，即要停止播放的 <a data-link-type="idl"
                            data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN"
                            id="ref-for-dom-remoteplayback-12"><code>RemotePlayback</code></a> 对象。
                    </dd>
                    <dd>
                        <var data-type="remote playback device">device</var>，即要断开的 <a
                            href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-50">远程播放设备</a>。
                    </dd>
                </dl>
                <ol>
                    <li>
                        如果 <var data-type="RemotePlayback">remote</var> 的 <a href="#dom-remoteplayback-state"
                            class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-remoteplayback-state-12"><code>state</code></a> 为
                        <code>disconnected</code>，终止后续所有步骤。
                    </li>
                    <li>
                        <a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>
                        执行下列步骤：
                        <ol>
                            <li>
                                请求将 <var data-type="RemotePlayback">remote</var> 从 <var
                                    data-type="remote playback device">device</var> 断开。此步骤的实现由用户代理具体决定。
                            </li>
                            <li>
                                更改 <var data-type="RemotePlayback">remote</var> 的 <code>state</code> 为
                                <code>disconnected</code>。
                            </li>
                            <li>
                                <a data-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">派发事件</a>，事件名为
                                <a data-link-type="idl" href="#dfn-disconnect" class="internalDFN"
                                    id="ref-for-dfn-disconnect-2"><code><code>disconnect</code></code></a>，目标为 <var
                                    data-type="RemotePlayback">remote</var>。
                            </li>
                            <li>
                                同步当前 <a href="#dfn-media-element-state" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-media-element-state-11">媒体元素状态</a>
                                和 <a href="#dfn-local-playback-state" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-local-playback-state-6">本地播放状态</a>。此步骤实现由用户代理决定。
                            </li>
                        </ol>
                    </li>
                </ol>
                <p>
                    如果远程播放设备在播放过程中被突然断开（例如断电或网络中断），用户代理<em class="rfc2119">应当</em>先运行<a
                        href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                        data-link-type="dfn"
                        id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-16">监控可用远程播放设备列表</a>的步骤，然后再运行
                    <a href="#dfn-disconnect-from-a-remote-playback-device" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-disconnect-from-a-remote-playback-device-5">断开远程播放设备连接</a>的步骤。这样可确保在 <a
                        href="#dfn-disconnect" class="internalDFN" data-link-type="idl"
                        id="ref-for-dfn-disconnect-3"><code><code>disconnect</code></code></a> 事件派发前，先唤起 <a
                        href="#dfn-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-set-of-availability-callbacks-12">可用性回调集合</a>，便于页面更新提示用户无法恢复播放。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-18">
                    <div role="heading" class="note-title marker" id="h-note-18" aria-level="5"><span>注</span></div>
                    <div class="">
                        当用户代理请求远程设备停止播放媒体时，设备可能实际上并不会真的停止，这取决于用户代理和设备的实现。在这种情况下，停止远程播放仅意味着用户代理与之断开，<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>切换到
                        <code>disconnected</code> 状态。
                    </div>
                </div>
            </section>
            <section id="event-handlers">
                <div class="header-wrapper">
                    <h4 id="x5-2-8-event-handlers"><bdi class="secno">5.2.8 </bdi>
                        事件处理器
                    </h4><a class="self-link" href="#event-handlers" aria-label="Permalink for Section 5.2.8"></a>
                </div>

                <p>
                    下列表格为实现 <a data-link-type="idl" data-lt="RemotePlayback" href="#dom-remoteplayback"
                        class="internalDFN" id="ref-for-dom-remoteplayback-13"><code>RemotePlayback</code></a>
                    接口的对象必须支持的<a data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">事件处理器</a>
                    及其对应的
                    <a data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">事件类型</a>，作为
                    <a data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">事件处理器</a>
                    IDL 属性：
                </p>
                <table data-dfn-for="RemotePlayback">
                    <thead>
                        <tr>
                            <th>
                                事件处理器
                            </th>
                            <th>
                                事件类型
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <dfn data-export="" data-dfn-type="attribute" id="dom-remoteplayback-onconnecting"
                                    data-idl="attribute" data-title="onconnecting" data-dfn-for="RemotePlayback"
                                    data-type="EventHandler" data-lt="onconnecting"
                                    data-local-lt="RemotePlayback.onconnecting" tabindex="0"
                                    aria-haspopup="dialog"><code>onconnecting</code></dfn>
                            </td>
                            <td>
                                <dfn data-dfn-type="event" id="dfn-connecting" tabindex="0" aria-haspopup="dialog"
                                    data-export=""><code>connecting</code></dfn>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <dfn data-export="" data-dfn-type="attribute" id="dom-remoteplayback-onconnect"
                                    data-idl="attribute" data-title="onconnect" data-dfn-for="RemotePlayback"
                                    data-type="EventHandler" data-lt="onconnect"
                                    data-local-lt="RemotePlayback.onconnect" tabindex="0"
                                    aria-haspopup="dialog"><code>onconnect</code></dfn>
                            </td>
                            <td>
                                <dfn data-dfn-type="event" id="dfn-connect" tabindex="0" aria-haspopup="dialog"
                                    data-export=""><code>connect</code></dfn>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <dfn data-export="" data-dfn-type="attribute" id="dom-remoteplayback-ondisconnect"
                                    data-idl="attribute" data-title="ondisconnect" data-dfn-for="RemotePlayback"
                                    data-type="EventHandler" data-lt="ondisconnect"
                                    data-local-lt="RemotePlayback.ondisconnect" tabindex="0"
                                    aria-haspopup="dialog"><code>ondisconnect</code></dfn>
                            </td>
                            <td>
                                <dfn data-dfn-type="event" id="dfn-disconnect" tabindex="0" aria-haspopup="dialog"
                                    data-export=""><code>disconnect</code></dfn>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </section>
        <section data-dfn-for="HTMLMediaElement" id="extensions-to-htmlmediaelement">
            <div class="header-wrapper">
                <h3 id="x5-3-extensions-to-htmlmediaelement"><bdi class="secno">5.3 </bdi>
                    对 <a data-link-type="idl" data-lt="HTMLMediaElement" data-type="interface"
                        href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>
                    的扩展
                </h3><a class="self-link" href="#extensions-to-htmlmediaelement"
                    aria-label="Permalink for Section 5.3"></a>
            </div>

            <pre class="idl def" id="webidl-1396475025"><span class="idlHeader"><a class="self-link" href="#webidl-1396475025">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-htmlmediaelement-partial-1" data-title="HTMLMediaElement">partial interface <a data-idl="partial" data-link-type="interface" data-title="HTMLMediaElement" class="idlID" data-dfn-for="HTMLMediaElement" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement">HTMLMediaElement</a> {<span data-idl="" class="idlAttribute" id="idl-def-htmlmediaelement-remote" data-title="remote" data-dfn-for="HTMLMediaElement">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-remoteplayback" class="internalDFN" id="ref-for-dom-remoteplayback-14"><code>RemotePlayback</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-htmlmediaelement-remote" id="ref-for-dom-htmlmediaelement-remote-2"><code>remote</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-htmlmediaelement-disableremoteplayback" data-title="disableRemotePlayback" data-dfn-for="HTMLMediaElement">

  [<span class="extAttr"><a data-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a></span>] attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-htmlmediaelement-disableremoteplayback" id="ref-for-dom-htmlmediaelement-disableremoteplayback-5"><code>disableRemotePlayback</code></a>;</span>
};</span></code></pre>
            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-htmlmediaelement-remote" data-idl="attribute"
                    data-title="remote" data-dfn-for="HTMLMediaElement" data-type="RemotePlayback" data-lt="remote"
                    data-local-lt="HTMLMediaElement.remote" tabindex="0"
                    aria-haspopup="dialog"><code>remote</code></dfn> 属性 <em class="rfc2119">必须</em>
                返回与
                <a data-link-type="idl" data-lt="RemotePlayback" href="#dom-remoteplayback" class="internalDFN"
                    id="ref-for-dom-remoteplayback-15"><code>RemotePlayback</code></a> 的实例，该实例关联此
                <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>。
            </p>
            <section data-link-for="HTMLMediaElement" id="the-disableremoteplayback-attribute">
                <div class="header-wrapper">
                    <h4 id="x5-3-1-the-disableremoteplayback-attribute"><bdi class="secno">5.3.1 </bdi>
                        <dfn data-export="" data-dfn-type="attribute" id="dom-htmlmediaelement-disableremoteplayback"
                            data-idl="attribute" data-title="disableRemotePlayback" data-dfn-for="HTMLMediaElement"
                            data-type="boolean" data-lt="disableRemotePlayback"
                            data-local-lt="HTMLMediaElement.disableRemotePlayback" tabindex="0"
                            aria-haspopup="dialog"><code>disableRemotePlayback</code></dfn> 属性
                    </h4><a class="self-link" href="#the-disableremoteplayback-attribute"
                        aria-label="Permalink for Section 5.3.1"></a>
                </div>

                <p>
                    某些页面可能希望<a href="#dfn-disable-remote-playback" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-disable-remote-playback-1">禁用远程播放</a>
                    某个媒体元素，例如他们更希望通过 <a
                        href="https://www.w3.org/TR/presentation-api/#interface-presentationrequest"><code>PresentationRequest</code></a>
                    在展示屏上展示整个文档。为支持该场景，<code>audio</code> 和 <code>video</code> 元素的内容属性列表增加了一个新的
                    <code>disableRemotePlayback</code> 属性。
                </p>
                <p>
                    同时，<a href="#dom-htmlmediaelement-disableremoteplayback" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-htmlmediaelement-disableremoteplayback-6"><code>disableRemotePlayback</code></a>
                    IDL 属性新增到 <code>HTMLMediaElement</code> 接口，用于反映各元素 <code>disableRemotePlayback</code>
                    内容属性的取值。
                    <a href="#dom-htmlmediaelement-disableremoteplayback" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-htmlmediaelement-disableremoteplayback-7"><code>disableRemotePlayback</code></a>
                    IDL 属性 <em class="rfc2119">必须</em>
                    <a href="https://html.spec.whatwg.org/multipage/#reflecting-content-attributes-in-idl-attributes">
                        反映</a>同名内容属性的值。
                </p>
            </section>
            <section data-link-for="HTMLMediaElement" id="disabling-remote-playback">
                <div class="header-wrapper">
                    <h4 id="x5-3-2-disabling-remote-playback"><bdi class="secno">5.3.2 </bdi>
                        禁用远程播放
                    </h4><a class="self-link" href="#disabling-remote-playback"
                        aria-label="Permalink for Section 5.3.2"></a>
                </div>

                <p>
                    如果 <a href="#dom-htmlmediaelement-disableremoteplayback" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-htmlmediaelement-disableremoteplayback-8"><code>disableRemotePlayback</code></a>
                    属性存在于 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>
                    上，则用户代理 <em class="rfc2119">不得</em> 远程播放该媒体元素，也不得展示相关的 UI。
                </p>
                <p>
                    当 <a href="#dom-htmlmediaelement-disableremoteplayback" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-htmlmediaelement-disableremoteplayback-9"><code>disableRemotePlayback</code></a>
                    属性添加到
                    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/#media-element">媒体元素</a>
                    时，用户代理<em class="rfc2119">必须</em>执行
                    <dfn id="dfn-disable-remote-playback" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">禁用远程播放</dfn>的操作：
                </p>
                <ol>
                    <li>拒绝所有待处理的 <a data-link-type="idl" data-lt="RemotePlayback" href="#dom-remoteplayback"
                            class="internalDFN" id="ref-for-dom-remoteplayback-16"><code>RemotePlayback</code></a> 方法返回的
                        promise，异常类型为 <a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>。
                    </li>
                    <li>清空该媒体元素的 <a href="#dfn-set-of-availability-callbacks" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-set-of-availability-callbacks-13">可用性回调集合</a>。
                    </li>
                    <li>如果其 <a href="#dom-remoteplayback-state" class="internalDFN" data-link-type="idl"
                            id="ref-for-dom-remoteplayback-state-13"><code>state</code></a> 不是
                        <code>disconnected</code>，则为该媒体元素处于连接或连接中状态的 <a href="#dfn-remote-playback-devices"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-51">远程播放设备</a> 执行
                        <a href="#dfn-disconnect-from-a-remote-playback-device" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-disconnect-from-a-remote-playback-device-6">断开远程播放设备连接</a> 算法。
                    </li>
                </ol>
            </section>
        </section>
    </section>
    <section class="informative" id="security-and-privacy-considerations">
        <div class="header-wrapper">
            <h2 id="x6-security-and-privacy-considerations"><bdi class="secno">6. </bdi>
                安全与隐私注意事项
            </h2><a class="self-link" href="#security-and-privacy-considerations"
                aria-label="Permalink for Section 6."></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <section id="personally-identifiable-information">
            <div class="header-wrapper">
                <h3 id="x6-1-personally-identifiable-information"><bdi class="secno">6.1 </bdi>
                    个人可识别信息
                </h3><a class="self-link" href="#personally-identifiable-information"
                    aria-label="Permalink for Section 6.1"></a>
            </div>

            <p>
                通过 <a data-link-type="idl" data-lt="watchAvailability()" href="#dom-remoteplayback-watchavailability"
                    class="internalDFN"
                    id="ref-for-dom-remoteplayback-watchavailability-6"><code>watchAvailability</code></a><code>()</code>
                方法提供的 <code>callback</code> 机制会暴露有关本地局域网中
                <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-remote-playback-devices-52">远程播放设备</a>
                是否存在的一比特信息。这可以与其他信息结合用于指纹识别用户。然而，该信息也与用户本地网络环境有关，因此风险是有限的。此外，设计上页面不会获得
                <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-remote-playback-devices-53">远程播放设备</a> 的可读名称。
            </p>
            <p>
                该 API 允许<a data-lt="monitor the list of available remote
          playback devices" href="#dfn-monitor-the-list-of-available-remote-playback-devices" class="internalDFN"
                    data-link-type="dfn"
                    id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-17">监控可用远程播放设备列表</a>。用户代理如何判断
                <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-remote-playback-devices-54">远程播放设备</a> 与 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/#media-element">媒体
                    元素</a>的 <a href="https://html.spec.whatwg.org/multipage/#media-resource">资源</a>
                的兼容性和可用性属于实现细节。如果用户代理将
                <a href="https://html.spec.whatwg.org/multipage/#media-resource">媒体资源</a>
                与特定类型设备的可用性挂钩，可以被用于探测用户拥有哪些
                <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-remote-playback-devices-55">远程播放设备</a>，无需用户同意。
            </p>
            <p>
                如果用户通过浏览器设置关闭了后台监控，则用户代理不应<a href="#dfn-monitor-the-list-of-available-remote-playback-devices"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-18">监控可用远程播放设备列表</a>。
            </p>
        </section>
        <section id="user-interface-guidelines">
            <div class="header-wrapper">
                <h3 id="x6-2-user-interface-guidelines"><bdi class="secno">6.2 </bdi>
                    用户界面指引
                </h3><a class="self-link" href="#user-interface-guidelines" aria-label="Permalink for Section 6.2"></a>
            </div>

            <dl>
                <dt>
                    来源展示
                </dt>
                <dd>
                    <p>
                        当用户被请求授权使用 <a href="#dfn-remote-playback-devices" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-remote-playback-devices-56">远程播放设备</a>
                        用于<a href="#dfn-change-remote-playback-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-change-remote-playback-state-1">更改远程播放状态</a>步骤时，用户代理应明确展示请求来自哪个源（origin）。
                    </p>
                    <p>
                        展示请求远程播放的源可以帮助用户理解是哪个内容发起了请求，尤其当请求来自<a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable">子导航上下文</a>时。例如，嵌入内容可能试图诱导用户点击以发起不受欢迎的远程播放请求。
                    </p>
                    <p>
                        显示将被展示内容的源，有助于用户知道该内容是否来自<a data-type="dfn"
                            href="https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-origin">潜在可信源</a>
                        （如 <code>https:</code>），是否为已知或预期的网站。
                    </p>
                </dd>
            </dl>
        </section>
        <section id="device-access">
            <div class="header-wrapper">
                <h3 id="x6-3-device-access"><bdi class="secno">6.3 </bdi>
                    设备访问
                </h3><a class="self-link" href="#device-access" aria-label="Permalink for Section 6.3"></a>
            </div>

            <p>
                远程播放 API 抽象了对显示器“本地”含义的界定，也就是说，它会把网络可访问显示器也作为本地显示器暴露。本 API 要求页面获得访问任意显示设备的用户许可，以减轻如在他人可见屏幕上展示不想要内容等问题。
            </p>
        </section>
        <section id="messaging-between-the-local-and-remote-playback-devices">
            <div class="header-wrapper">
                <h3 id="x6-4-messaging-between-the-local-and-remote-playback-devices"><bdi class="secno">6.4 </bdi>
                    本地与远程播放设备之间的消息通信
                </h3><a class="self-link" href="#messaging-between-the-local-and-remote-playback-devices"
                    aria-label="Permalink for Section 6.4"></a>
            </div>

            <p>
                本规范不会强制本地播放设备与
                <a href="#dfn-local-playback-device" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-local-playback-device-5">本地播放设备</a> 和 <a href="#dfn-remote-playback-devices"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-remote-playback-devices-57">远程播放设备</a>
                之间的通信协议，但用户代理应保证双方之间的消息机密性与真实性。
            </p>
        </section>
        <section id="secure-contexts">
            <div class="header-wrapper">
                <h3 id="x6-5-secure-contexts"><bdi class="secno">6.5 </bdi>
                    安全上下文
                </h3><a class="self-link" href="#secure-contexts" aria-label="Permalink for Section 6.5"></a>
            </div>

            <p>
                远程播放 API 并不局限于 [<cite><a class="bibref" data-link-type="biblio" href="#bib-secure-contexts"
                        title="Secure Contexts">SECURE-CONTEXTS</a></cite>]，因为
                它提供的功能常被用户代理原生支持，无论 <a data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
                是否安全。用户代理可选择在非安全上下文中始终返回空列表，使本 API 只适用于 [<cite><a class="bibref" data-link-type="biblio"
                        href="#bib-secure-contexts" title="Secure Contexts">SECURE-CONTEXTS</a></cite>]。
            </p>
        </section>
    </section>
    <section class="appendix" id="candidate-recommendation-exit-criteria">
        <div class="header-wrapper">
            <h2 id="a-candidate-recommendation-exit-criteria"><bdi class="secno">A. </bdi>
                候选推荐标准退出标准
            </h2><a class="self-link" href="#candidate-recommendation-exit-criteria"
                aria-label="Permalink for Appendix A."></a>
        </div>

        <p>
            为推进本规范成为建议标准，必须至少有两个独立、可互操作的实现，每项功能均须如此。每项功能可由不同产品实现，不要求所有功能由同一产品支持。此外，实现还必须展示对<a href="#dfn-media-remoting"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-media-remoting-2">媒体远距传输</a>和<a
                href="#dfn-media-flinging" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-media-flinging-3">媒体推送</a>场景的支持，
            可以在同一产品，也可以在不同产品中实现。
        </p>
        <p>
            本标准的判断术语定义如下：
        </p>
        <dl>
            <dt>
                独立性
            </dt>
            <dd>
                每一实现必须由不同主体开发，不能共享、复用或派生于另一符合要求实现的代码。与本规范实现无关的代码片段可不受此限制。
            </dd>
            <dt>
                可互操作
            </dt>
            <dd>
                能通过官方测试套件中的相应测试案例。
            </dd>
            <dt>
                实现
            </dt>
            <dd>
                用户代理，需满足：
                <ol>
                    <li>实现本规范。</li>
                    <li>公开向公众提供。该实现可为正式产品，亦可为公开测试版、预览版本或“夜间构建”。非正式产品至少应连续支持相关特性不少于一个月，以证明其稳定性。
                    </li>
                    <li>非实验性（即不是仅为通过测试套件而设计、未来不会用于普通用途的版本）。
                    </li>
                </ol>
            </dd>
        </dl>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="b-references"><bdi class="secno">B. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix B."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="b-1-normative-references"><bdi class="secno">B.1 </bdi>规范性参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix B.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living Standard. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-presentation-api">[PRESENTATION-API]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/presentation-api/"><cite>Presentation API</cite></a>. Mark Foltz;
                    Dominik Röttsches. W3C. 2023年10月16日. W3C 候选推荐标准. URL: <a
                        href="https://www.w3.org/TR/presentation-api/">https://www.w3.org/TR/presentation-api/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>用于RFC中指示需求级别的关键词</cite></a>. S. Bradner.
                    IETF. 1997年3月. 最佳当前实践. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC 2119关键词大小写歧义</cite></a>. B. Leiba. IETF.
                    2017年5月. 最佳当前实践. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. Living Standard. URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="b-2-informative-references"><bdi class="secno">B.2 </bdi>参考性文献</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix B.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-secure-contexts">[SECURE-CONTEXTS]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/secure-contexts/"><cite>安全上下文</cite></a>. Mike West. W3C.
                    2023年11月10日. W3C 候选推荐标准. URL: <a
                        href="https://www.w3.org/TR/secure-contexts/">https://www.w3.org/TR/secure-contexts/</a>
                </dd>
                <dt id="bib-url">[url]</dt>
                <dd>
                    <a href="https://url.spec.whatwg.org/"><cite>URL 标准</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="返回顶部">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-media-mirroring"
        aria-label="Links in this document to definition: media mirroring">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-media-mirroring"
                aria-label="Permalink for definition: media mirroring. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-media-mirroring-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-mirroring-2"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-media-remoting"
        aria-label="Links in this document to definition: media remoting">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-media-remoting"
                aria-label="Permalink for definition: media remoting. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-media-remoting-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-remoting-2" title="§ A. Candidate Recommendation exit criteria">§ A.
                    Candidate Recommendation exit criteria</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-media-flinging"
        aria-label="Links in this document to definition: media flinging">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-media-flinging"
                aria-label="Permalink for definition: media flinging. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-media-flinging-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-flinging-2" title="§ 5.2.2 Prompt user for changing remote playback state">§
                    5.2.2 Prompt user for changing remote playback state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-flinging-3" title="§ A. Candidate Recommendation exit criteria">§ A.
                    Candidate Recommendation exit criteria</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-local-playback-device"
        aria-label="Links in this document to definition: local playback device">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-local-playback-device"
                aria-label="Permalink for definition: local playback device. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-local-playback-device-1" title="§ 5.1 Common idioms">§ 5.1 Common idioms</a> <a
                    href="#ref-for-dfn-local-playback-device-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-local-playback-device-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-local-playback-device-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-local-playback-device-5"
                    title="§ 6.4 Messaging between the local and remote playback devices">§ 6.4 Messaging between the
                    local and remote playback devices</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-remote-playback-devices"
        aria-label="Links in this document to definition: remote playback device">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-remote-playback-devices"
                aria-label="Permalink for definition: remote playback device. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-1" title="§ 2. Introduction">§ 2. Introduction</a> <a
                    href="#ref-for-dfn-remote-playback-devices-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-8" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-9" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-10" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-11" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-12" title="Reference 12">(12)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-13" title="Reference 13">(13)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-14" title="§ 5.1 Common idioms">§ 5.1 Common idioms</a> <a
                    href="#ref-for-dfn-remote-playback-devices-15" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-16" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a> <a href="#ref-for-dfn-remote-playback-devices-17"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-18"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a> <a href="#ref-for-dfn-remote-playback-devices-19"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-remote-playback-devices-20"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-remote-playback-devices-21"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-remote-playback-devices-22"
                    title="Reference 5">(5)</a> <a href="#ref-for-dfn-remote-playback-devices-23"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-remote-playback-devices-24"
                    title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-25"
                    title="§ 5.2.1.3 Getting the remote playback devices availability information">§ 5.2.1.3 Getting the
                    remote playback devices availability information</a> <a
                    href="#ref-for-dfn-remote-playback-devices-26" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-27"
                    title="§ 5.2.1.5 Stop observing remote playback devices availability">§ 5.2.1.5 Stop observing
                    remote playback devices availability</a> <a href="#ref-for-dfn-remote-playback-devices-28"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-29"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a> <a href="#ref-for-dfn-remote-playback-devices-30"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-remote-playback-devices-31"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-remote-playback-devices-32"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-remote-playback-devices-33"
                    title="Reference 5">(5)</a> <a href="#ref-for-dfn-remote-playback-devices-34"
                    title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-35" title="§ 5.2.3 The state attribute">§ 5.2.3 The state
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-36"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a> <a href="#ref-for-dfn-remote-playback-devices-37"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-remote-playback-devices-38"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-remote-playback-devices-39"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-remote-playback-devices-40"
                    title="Reference 5">(5)</a> <a href="#ref-for-dfn-remote-playback-devices-41"
                    title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-42" title="§ 5.2.5 Browser initiated remote playback">§
                    5.2.5 Browser initiated remote playback</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-43"
                    title="§ 5.2.6 Media commands and media playback state">§ 5.2.6 Media commands and media playback
                    state</a> <a href="#ref-for-dfn-remote-playback-devices-44" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-45" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-46" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-47" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-48" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-remote-playback-devices-49" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-50"
                    title="§ 5.2.7 Disconnecting from a remote playback device">§ 5.2.7 Disconnecting from a remote
                    playback device</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-51" title="§ 5.3.2 Disabling remote playback">§ 5.3.2
                    Disabling remote playback</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-52" title="§ 6.1 Personally identifiable information">§
                    6.1 Personally identifiable information</a> <a href="#ref-for-dfn-remote-playback-devices-53"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-remote-playback-devices-54"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-remote-playback-devices-55"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-56" title="§ 6.2 User interface guidelines">§ 6.2 User
                    interface guidelines</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-devices-57"
                    title="§ 6.4 Messaging between the local and remote playback devices">§ 6.4 Messaging between the
                    local and remote playback devices</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-media-element-state"
        aria-label="Links in this document to definition: media element state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-media-element-state"
                aria-label="Permalink for definition: media element state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-media-element-state-1" title="§ 5.1 Common idioms">§ 5.1 Common idioms</a> <a
                    href="#ref-for-dfn-media-element-state-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-media-element-state-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-media-element-state-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-media-element-state-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-media-element-state-6" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-element-state-7"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a> <a href="#ref-for-dfn-media-element-state-8"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-element-state-9" title="§ 5.2.6 Media commands and media playback state">§
                    5.2.6 Media commands and media playback state</a> <a href="#ref-for-dfn-media-element-state-10"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-media-element-state-11"
                    title="§ 5.2.7 Disconnecting from a remote playback device">§ 5.2.7 Disconnecting from a remote
                    playback device</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-local-playback-state"
        aria-label="Links in this document to definition: local playback state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-local-playback-state"
                aria-label="Permalink for definition: local playback state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-local-playback-state-1" title="§ 5.2.3 The state attribute">§ 5.2.3 The state
                    attribute</a> <a href="#ref-for-dfn-local-playback-state-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-local-playback-state-3" title="§ 5.2.6 Media commands and media playback state">§
                    5.2.6 Media commands and media playback state</a> <a href="#ref-for-dfn-local-playback-state-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-local-playback-state-5"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-local-playback-state-6"
                    title="§ 5.2.7 Disconnecting from a remote playback device">§ 5.2.7 Disconnecting from a remote
                    playback device</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-remote-playback-state"
        aria-label="Links in this document to definition: remote playback state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-remote-playback-state"
                aria-label="Permalink for definition: remote playback state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-remote-playback-state-1" title="§ 5.1 Common idioms">§ 5.1 Common idioms</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-state-2" title="§ 5.2.3 The state attribute">§ 5.2.3 The state
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-state-3"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a> <a href="#ref-for-dfn-remote-playback-state-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-remote-playback-state-5"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-remote-playback-state-6"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-state-7" title="§ 5.2.6 Media commands and media playback state">§
                    5.2.6 Media commands and media playback state</a> <a href="#ref-for-dfn-remote-playback-state-8"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-remote-playback-state-9"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-remote-playback-state-10"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-remote-playback-state-11"
                    title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-remoteplayback"
        aria-label="Links in this document to definition: RemotePlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplayback"
                aria-label="Permalink for definition: RemotePlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplayback-1" title="§ 5.2 RemotePlayback interface">§ 5.2 RemotePlayback
                    interface</a> <a href="#ref-for-dom-remoteplayback-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-3" title="§ 5.2.1.1 The set of availability callbacks">§ 5.2.1.1
                    The set of availability callbacks</a> <a href="#ref-for-dom-remoteplayback-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-remoteplayback-5" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-remoteplayback-6" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-7" title="§ 5.2.2 Prompt user for changing remote playback state">§
                    5.2.2 Prompt user for changing remote playback state</a> <a href="#ref-for-dom-remoteplayback-8"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-9" title="§ 5.2.3 The state attribute">§ 5.2.3 The state
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-10"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-11" title="§ 5.2.6 Media commands and media playback state">§ 5.2.6
                    Media commands and media playback state</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-12" title="§ 5.2.7 Disconnecting from a remote playback device">§
                    5.2.7 Disconnecting from a remote playback device</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-13" title="§ 5.2.8 Event Handlers">§ 5.2.8 Event Handlers</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-14" title="§ 5.3 Extensions to HTMLMediaElement">§ 5.3 Extensions
                    to HTMLMediaElement</a> <a href="#ref-for-dom-remoteplayback-15" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-16" title="§ 5.3.2 Disabling remote playback">§ 5.3.2 Disabling
                    remote playback</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-remoteplaybackstate"
        aria-label="Links in this document to definition: RemotePlaybackState">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplaybackstate"
                aria-label="Permalink for definition: RemotePlaybackState. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-1" title="§ 5.2 RemotePlayback interface">§ 5.2 RemotePlayback
                    interface</a> <a href="#ref-for-dom-remoteplaybackstate-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-3" title="§ 5.2.3 The state attribute">§ 5.2.3 The state
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-remoteplaybackavailabilitycallback"
        aria-label="Links in this document to definition: RemotePlaybackAvailabilityCallback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplaybackavailabilitycallback"
                aria-label="Permalink for definition: RemotePlaybackAvailabilityCallback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplaybackavailabilitycallback-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a> <a href="#ref-for-dom-remoteplaybackavailabilitycallback-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackavailabilitycallback-3"
                    title="§ 5.2.1 Observing remote playback device availability">§ 5.2.1 Observing remote playback
                    device availability</a> <a href="#ref-for-dom-remoteplaybackavailabilitycallback-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackavailabilitycallback-5"
                    title="§ 5.2.1.1 The set of availability callbacks">§ 5.2.1.1 The set of availability callbacks</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-remote-playback-device-availability"
        aria-label="Links in this document to definition: remote playback device availability">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-remote-playback-device-availability"
                aria-label="Permalink for definition: remote playback device availability. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-remote-playback-device-availability-1" title="§ 5.2 RemotePlayback interface">§
                    5.2 RemotePlayback interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-set-of-availability-callbacks"
        aria-label="Links in this document to definition: set of availability callbacks">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-of-availability-callbacks"
                aria-label="Permalink for definition: set of availability callbacks. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-set-of-availability-callbacks-1"
                    title="§ 5.2.1.1 The set of availability callbacks">§ 5.2.1.1 The set of availability callbacks</a>
                <a href="#ref-for-dfn-set-of-availability-callbacks-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-set-of-availability-callbacks-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-set-of-availability-callbacks-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-set-of-availability-callbacks-5"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dfn-set-of-availability-callbacks-6"
                    title="§ 5.2.1.3 Getting the remote playback devices availability information">§ 5.2.1.3 Getting the
                    remote playback devices availability information</a>
            </li>
            <li>
                <a href="#ref-for-dfn-set-of-availability-callbacks-7"
                    title="§ 5.2.1.4 Monitoring the list of available remote playback devices">§ 5.2.1.4 Monitoring the
                    list of available remote playback devices</a> <a href="#ref-for-dfn-set-of-availability-callbacks-8"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-set-of-availability-callbacks-9"
                    title="§ 5.2.1.5 Stop observing remote playback devices availability">§ 5.2.1.5 Stop observing
                    remote playback devices availability</a> <a href="#ref-for-dfn-set-of-availability-callbacks-10"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-set-of-availability-callbacks-11"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-set-of-availability-callbacks-12"
                    title="§ 5.2.7 Disconnecting from a remote playback device">§ 5.2.7 Disconnecting from a remote
                    playback device</a>
            </li>
            <li>
                <a href="#ref-for-dfn-set-of-availability-callbacks-13" title="§ 5.3.2 Disabling remote playback">§
                    5.3.2 Disabling remote playback</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-remoteplayback-watchavailability"
        aria-label="Links in this document to definition: watchAvailability()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplayback-watchavailability"
                aria-label="Permalink for definition: watchAvailability(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplayback-watchavailability-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-watchavailability-2"
                    title="§ 5.2.1 Observing remote playback device availability">§ 5.2.1 Observing remote playback
                    device availability</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-watchavailability-3"
                    title="§ 5.2.1.1 The set of availability callbacks">§ 5.2.1.1 The set of availability callbacks</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-watchavailability-4"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-watchavailability-5"
                    title="§ 5.2.1.3 Getting the remote playback devices availability information">§ 5.2.1.3 Getting the
                    remote playback devices availability information</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-watchavailability-6"
                    title="§ 6.1 Personally identifiable information">§ 6.1 Personally identifiable information</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-global-set-of-availability-callbacks"
        aria-label="Links in this document to definition: global set of availability callbacks">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-global-set-of-availability-callbacks"
                aria-label="Permalink for definition: global set of availability callbacks. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-global-set-of-availability-callbacks-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a> <a href="#ref-for-dfn-global-set-of-availability-callbacks-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-global-set-of-availability-callbacks-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-global-set-of-availability-callbacks-4"
                    title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-list-of-available-remote-playback-devices"
        aria-label="Links in this document to definition: list of available remote playback devices">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-list-of-available-remote-playback-devices"
                aria-label="Permalink for definition: list of available remote playback devices. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-list-of-available-remote-playback-devices-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dfn-list-of-available-remote-playback-devices-2"
                    title="§ 5.2.1.4 Monitoring the list of available remote playback devices">§ 5.2.1.4 Monitoring the
                    list of available remote playback devices</a> <a
                    href="#ref-for-dfn-list-of-available-remote-playback-devices-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-list-of-available-remote-playback-devices-4"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a> <a href="#ref-for-dfn-list-of-available-remote-playback-devices-5"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-compatible-remote-playback-device"
        aria-label="Links in this document to definition: compatible remote playback device">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-compatible-remote-playback-device"
                aria-label="Permalink for definition: compatible remote playback device. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-compatible-remote-playback-device-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a> <a href="#ref-for-dfn-compatible-remote-playback-device-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-availability-sources-set"
        aria-label="Links in this document to definition: availability sources set">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-availability-sources-set"
                aria-label="Permalink for definition: availability sources set. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-availability-sources-set-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a> <a href="#ref-for-dfn-availability-sources-set-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-availability-sources-set-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-availability-sources-set-4"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-availability-sources-set-5"
                    title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-availability-sources-set-6"
                    title="§ 5.2.1.5 Stop observing remote playback devices availability">§ 5.2.1.5 Stop observing
                    remote playback devices availability</a>
            </li>
            <li>
                <a href="#ref-for-dfn-availability-sources-set-7"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-remote-playback-source"
        aria-label="Links in this document to definition: remote playback source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-remote-playback-source"
                aria-label="Permalink for definition: remote playback source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-remote-playback-source-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a> <a href="#ref-for-dfn-remote-playback-source-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-remote-playback-source-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-remote-playback-source-4"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-remote-playback-source-5"
                    title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-remote-playback-source-6"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unavailable"
        aria-label="Links in this document to definition: unavailable">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-unavailable"
                aria-label="Permalink for definition: unavailable. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-unavailable-1" title="§ 5.2.1.2 The list of available remote playback devices">§
                    5.2.1.2 The list of available remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dfn-unavailable-2" title="§ 5.2.2 Prompt user for changing remote playback state">§
                    5.2.2 Prompt user for changing remote playback state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-available"
        aria-label="Links in this document to definition: available">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-available"
                aria-label="Permalink for definition: available. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-available-1" title="§ 5.2.1.2 The list of available remote playback devices">§
                    5.2.1.2 The list of available remote playback devices</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-availability"
        aria-label="Links in this document to definition: availability">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-availability"
                aria-label="Permalink for definition: availability. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-availability-1" title="§ 5.2.1.2 The list of available remote playback devices">§
                    5.2.1.2 The list of available remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dfn-availability-2"
                    title="§ 5.2.1.3 Getting the remote playback devices availability information">§ 5.2.1.3 Getting the
                    remote playback devices availability information</a>
            </li>
            <li>
                <a href="#ref-for-dfn-availability-3"
                    title="§ 5.2.1.4 Monitoring the list of available remote playback devices">§ 5.2.1.4 Monitoring the
                    list of available remote playback devices</a> <a href="#ref-for-dfn-availability-4"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-monitor-the-list-of-available-remote-playback-devices"
        aria-label="Links in this document to definition: monitor the list of available remote playback devices">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-monitor-the-list-of-available-remote-playback-devices"
                aria-label="Permalink for definition: monitor the list of available remote playback devices. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-1"
                    title="§ 5.2.1 Observing remote playback device availability">§ 5.2.1 Observing remote playback
                    device availability</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-2"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-3"
                    title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-4"
                    title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-5"
                    title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-6"
                    title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-7"
                    title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-8"
                    title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-9"
                    title="§ 5.2.1.3 Getting the remote playback devices availability information">§ 5.2.1.3 Getting the
                    remote playback devices availability information</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-10"
                    title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-11"
                    title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-12"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-13"
                    title="§ 5.2.1.5 Stop observing remote playback devices availability">§ 5.2.1.5 Stop observing
                    remote playback devices availability</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-14"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-15"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-16"
                    title="§ 5.2.7 Disconnecting from a remote playback device">§ 5.2.7 Disconnecting from a remote
                    playback device</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-17"
                    title="§ 6.1 Personally identifiable information">§ 6.1 Personally identifiable information</a> <a
                    href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-18"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-the-list-of-available-remote-playback-devices-19"
                    title="§ 6.5 Secure Contexts">§ 6.5 Secure Contexts</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-remoteplayback-cancelwatchavailability"
        aria-label="Links in this document to definition: cancelWatchAvailability()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplayback-cancelwatchavailability"
                aria-label="Permalink for definition: cancelWatchAvailability(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplayback-cancelwatchavailability-1" title="§ 5.2 RemotePlayback interface">§
                    5.2 RemotePlayback interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-remoteplayback-prompt"
        aria-label="Links in this document to definition: prompt()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplayback-prompt"
                aria-label="Permalink for definition: prompt(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplayback-prompt-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-prompt-2"
                    title="§ 5.2.1 Observing remote playback device availability">§ 5.2.1 Observing remote playback
                    device availability</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-prompt-3"
                    title="§ 5.2.1.4 Monitoring the list of available remote playback devices">§ 5.2.1.4 Monitoring the
                    list of available remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-prompt-4"
                    title="§ 5.2.1.5 Stop observing remote playback devices availability">§ 5.2.1.5 Stop observing
                    remote playback devices availability</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-prompt-5"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a> <a href="#ref-for-dom-remoteplayback-prompt-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-prompt-7" title="§ 5.2.3 The state attribute">§ 5.2.3 The state
                    attribute</a> <a href="#ref-for-dom-remoteplayback-prompt-8" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-change-remote-playback-state"
        aria-label="Links in this document to definition: change remote playback state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-change-remote-playback-state"
                aria-label="Permalink for definition: change remote playback state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-change-remote-playback-state-1" title="§ 6.2 User interface guidelines">§ 6.2 User
                    interface guidelines</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-initiate-remote-playback"
        aria-label="Links in this document to definition: initiate remote playback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-initiate-remote-playback"
                aria-label="Permalink for definition: initiate remote playback. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-initiate-remote-playback-1"
                    title="§ 5.2.1.2 The list of available remote playback devices">§ 5.2.1.2 The list of available
                    remote playback devices</a> <a href="#ref-for-dfn-initiate-remote-playback-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-initiate-remote-playback-3"
                    title="§ 5.2.1.3 Getting the remote playback devices availability information">§ 5.2.1.3 Getting the
                    remote playback devices availability information</a>
            </li>
            <li>
                <a href="#ref-for-dfn-initiate-remote-playback-4" title="§ 5.2.3 The state attribute">§ 5.2.3 The state
                    attribute</a> <a href="#ref-for-dfn-initiate-remote-playback-5" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-remoteplayback-state"
        aria-label="Links in this document to definition: state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplayback-state"
                aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-1" title="§ 5.1 Common idioms">§ 5.1 Common idioms</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-2" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-3"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a> <a href="#ref-for-dom-remoteplayback-state-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-5" title="§ 5.2.3 The state attribute">§ 5.2.3 The state
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-6"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a> <a href="#ref-for-dom-remoteplayback-state-7"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-remoteplayback-state-8"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-9" title="§ 5.2.5 Browser initiated remote playback">§ 5.2.5
                    Browser initiated remote playback</a> <a href="#ref-for-dom-remoteplayback-state-10"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-11" title="§ 5.2.6 Media commands and media playback state">§
                    5.2.6 Media commands and media playback state</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-12"
                    title="§ 5.2.7 Disconnecting from a remote playback device">§ 5.2.7 Disconnecting from a remote
                    playback device</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplayback-state-13" title="§ 5.3.2 Disabling remote playback">§ 5.3.2
                    Disabling remote playback</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-remoteplaybackstate-connecting"
        aria-label="Links in this document to definition: connecting">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplaybackstate-connecting"
                aria-label="Permalink for definition: connecting. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-connecting-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-connecting-2"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-connecting-3"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-connecting-4"
                    title="§ 5.2.5 Browser initiated remote playback">§ 5.2.5 Browser initiated remote playback</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-remoteplaybackstate-connected"
        aria-label="Links in this document to definition: connected">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplaybackstate-connected"
                aria-label="Permalink for definition: connected. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-connected-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-connected-2"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a> <a href="#ref-for-dom-remoteplaybackstate-connected-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-remoteplaybackstate-connected-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-remoteplaybackstate-connected-5"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-connected-6"
                    title="§ 5.2.6 Media commands and media playback state">§ 5.2.6 Media commands and media playback
                    state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-remoteplaybackstate-disconnected"
        aria-label="Links in this document to definition: disconnected">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplaybackstate-disconnected"
                aria-label="Permalink for definition: disconnected. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-disconnected-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-remoteplaybackstate-disconnected-2"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-establish-a-connection-with-the-remote-playback-device"
        aria-label="Links in this document to definition: establish a connection with the remote playback device">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-establish-a-connection-with-the-remote-playback-device"
                aria-label="Permalink for definition: establish a connection with the remote playback device. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-establish-a-connection-with-the-remote-playback-device-1"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-establish-a-connection-with-the-remote-playback-device-2"
                    title="§ 5.2.5 Browser initiated remote playback">§ 5.2.5 Browser initiated remote playback</a> <a
                    href="#ref-for-dfn-establish-a-connection-with-the-remote-playback-device-3"
                    title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-establish-a-connection-with-the-remote-playback-device-4"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-browser-initiated-remote-playback"
        aria-label="Links in this document to definition: browser initiated remote playback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-browser-initiated-remote-playback"
                aria-label="Permalink for definition: browser initiated remote playback. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-browser-initiated-remote-playback-1"
                    title="§ 5.2.5 Browser initiated remote playback">§ 5.2.5 Browser initiated remote playback</a> <a
                    href="#ref-for-dfn-browser-initiated-remote-playback-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-browser-initiated-remote-playback-3" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-disconnect-from-a-remote-playback-device"
        aria-label="Links in this document to definition: disconnect from a remote playback device">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-disconnect-from-a-remote-playback-device"
                aria-label="Permalink for definition: disconnect from a remote playback device. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-disconnect-from-a-remote-playback-device-1"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a> <a href="#ref-for-dfn-disconnect-from-a-remote-playback-device-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-disconnect-from-a-remote-playback-device-3"
                    title="§ 5.2.5 Browser initiated remote playback">§ 5.2.5 Browser initiated remote playback</a>
            </li>
            <li>
                <a href="#ref-for-dfn-disconnect-from-a-remote-playback-device-4"
                    title="§ 5.2.6 Media commands and media playback state">§ 5.2.6 Media commands and media playback
                    state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-disconnect-from-a-remote-playback-device-5"
                    title="§ 5.2.7 Disconnecting from a remote playback device">§ 5.2.7 Disconnecting from a remote
                    playback device</a>
            </li>
            <li>
                <a href="#ref-for-dfn-disconnect-from-a-remote-playback-device-6"
                    title="§ 5.3.2 Disabling remote playback">§ 5.3.2 Disabling remote playback</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-remoteplayback-onconnecting"
        aria-label="Links in this document to definition: onconnecting">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplayback-onconnecting"
                aria-label="Permalink for definition: onconnecting. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplayback-onconnecting-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-connecting"
        aria-label="Links in this document to definition: connecting">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-connecting"
                aria-label="Permalink for definition: connecting. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-connecting-1" title="§ 5.2.2 Prompt user for changing remote playback state">§
                    5.2.2 Prompt user for changing remote playback state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-remoteplayback-onconnect"
        aria-label="Links in this document to definition: onconnect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplayback-onconnect"
                aria-label="Permalink for definition: onconnect. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplayback-onconnect-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-connect"
        aria-label="Links in this document to definition: connect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-connect"
                aria-label="Permalink for definition: connect. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-connect-1"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-remoteplayback-ondisconnect"
        aria-label="Links in this document to definition: ondisconnect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-remoteplayback-ondisconnect"
                aria-label="Permalink for definition: ondisconnect. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1015675303">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-remoteplayback-ondisconnect-1" title="§ 5.2 RemotePlayback interface">§ 5.2
                    RemotePlayback interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-disconnect"
        aria-label="Links in this document to definition: disconnect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-disconnect"
                aria-label="Permalink for definition: disconnect. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-disconnect-1"
                    title="§ 5.2.4 Establishing a connection with a remote playback device">§ 5.2.4 Establishing a
                    connection with a remote playback device</a>
            </li>
            <li>
                <a href="#ref-for-dfn-disconnect-2" title="§ 5.2.7 Disconnecting from a remote playback device">§ 5.2.7
                    Disconnecting from a remote playback device</a> <a href="#ref-for-dfn-disconnect-3"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-htmlmediaelement-remote"
        aria-label="Links in this document to definition: remote">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-htmlmediaelement-remote"
                aria-label="Permalink for definition: remote. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1396475025">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-remote-1" title="§ 5.2.1.1 The set of availability callbacks">§
                    5.2.1.1 The set of availability callbacks</a>
            </li>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-remote-2" title="§ 5.3 Extensions to HTMLMediaElement">§ 5.3
                    Extensions to HTMLMediaElement</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-htmlmediaelement-disableremoteplayback"
        aria-label="Links in this document to definition: disableRemotePlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-htmlmediaelement-disableremoteplayback"
                aria-label="Permalink for definition: disableRemotePlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1396475025">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-disableremoteplayback-1"
                    title="§ 5.2.1.3 Getting the remote playback devices availability information">§ 5.2.1.3 Getting the
                    remote playback devices availability information</a>
            </li>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-disableremoteplayback-2"
                    title="§ 5.2.1.4 Monitoring the list of available remote playback devices">§ 5.2.1.4 Monitoring the
                    list of available remote playback devices</a>
            </li>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-disableremoteplayback-3"
                    title="§ 5.2.1.5 Stop observing remote playback devices availability">§ 5.2.1.5 Stop observing
                    remote playback devices availability</a>
            </li>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-disableremoteplayback-4"
                    title="§ 5.2.2 Prompt user for changing remote playback state">§ 5.2.2 Prompt user for changing
                    remote playback state</a>
            </li>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-disableremoteplayback-5"
                    title="§ 5.3 Extensions to HTMLMediaElement">§ 5.3 Extensions to HTMLMediaElement</a>
            </li>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-disableremoteplayback-6"
                    title="§ 5.3.1 The disableRemotePlayback attribute">§ 5.3.1 The disableRemotePlayback attribute</a>
                <a href="#ref-for-dom-htmlmediaelement-disableremoteplayback-7" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-htmlmediaelement-disableremoteplayback-8"
                    title="§ 5.3.2 Disabling remote playback">§ 5.3.2 Disabling remote playback</a> <a
                    href="#ref-for-dom-htmlmediaelement-disableremoteplayback-9" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-disable-remote-playback"
        aria-label="Links in this document to definition: disable remote playback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-disable-remote-playback"
                aria-label="Permalink for definition: disable remote playback. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-disable-remote-playback-1" title="§ 5.3.1 The disableRemotePlayback attribute">§
                    5.3.1 The disableRemotePlayback attribute</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>