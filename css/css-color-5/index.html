<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 颜色模块 第5级</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version d5d58a306, updated Fri Jan 26 16:12:28 2024 -0800" name="generator">
    <link href="https://www.w3.org/TR/css-color-5/" rel="canonical">
    <meta content="db3f508c2e58a6e16f2dc967b0bce0c34fb065ed" name="revision">
    <link href="https://www.w3.org/TR/css-color-5/style.css" rel="stylesheet">
    <style>
        table.deltaE td {
            border: 4px solid white;
            padding: 6px;
            font-size: 1.4em;
        }

        table.deltaE td.dE0 {
            background: rgb(68, 243, 91)
        }

        table.deltaE td.dE1 {
            background: rgb(153, 243, 68)
        }

        table.deltaE td.dE2 {
            background: rgb(217, 243, 68)
        }

        table.deltaE td.dE3 {
            background: rgb(243, 240, 68)
        }

        table.deltaE td.dE4 {
            background: rgb(243, 202, 68)
        }

        table.deltaE td.dE5 {
            background: rgb(243, 103, 68);
            color: white
        }

        table.deltaE th {
            text-align: center
        }

        /* work-around for https://github.com/tabatkins/bikeshed/issues/1799 */
        div.example,
        div.example pre {
            overflow: visible;
        }

        div.example>a.self-link::before {
            content: "¶";
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS 颜色模块 第5级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 工作草案</a>, <time class="dt-updated"
                datetime="2024-02-29">2024年2月29日</time></p>
        <details open>
            <summary>更多关于该文档的信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>当前版本:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/">https://www.w3.org/TR/2024/WD-css-color-5-20240229/</a>
                    <dt>最新发布版本:
                    <dd><a href="https://www.w3.org/TR/css-color-5/">https://www.w3.org/TR/css-color-5/</a>
                    <dt>编辑草案:
                    <dd><a href="https://drafts.csswg.org/css-color-5/">https://drafts.csswg.org/css-color-5/</a>
                    <dt>历史版本:
                    <dd><a href="https://www.w3.org/TR/2022/WD-css-color-5-20220628/"
                            rel="prev">https://www.w3.org/TR/2022/WD-css-color-5-20220628/</a>
                    <dt>历史记录:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-color-5/">https://www.w3.org/standards/history/css-color-5/</a>
                    <dt>反馈:
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-color-5">CSSWG 问题仓库</a>
                    <dt class="editor">编辑者:
                    <dd class="editor p-author h-card vcard" data-editor-id="1438"><a class="p-name fn u-url url"
                            href="https://svgees.us/">Chris Lilley</a> (<span class="p-org org">W3C</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="115525"><a class="p-name fn u-url url"
                            href="https://una.im">Una Kravets</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="52258"><a class="p-name fn u-url url"
                            href="http://lea.verou.me/about">Lea Verou</a> (<span class="p-org org">受邀专家</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="112669"><a class="p-name fn u-url url"
                            href="https://nerdy.dev">Adam Argyle</a> (<span class="p-org org">Google</span>)
                    <dt>建议编辑此规范:
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-color-5/Overview.bs">GitHub 编辑器</a>
                    <dt>Delta 规范:
                    <dd>是
                    <dt>测试套件:
                    <dd class="wpt-overview"><a
                            href="https://wpt.fyi/results/css/css-color/">https://wpt.fyi/results/css/css-color/</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2024 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="头部分隔线">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本模块扩展了CSS颜色<a data-link-type="biblio" href="#biblio-css-color-4"
                title="CSS Color Module Level 4">[css-color-4]</a>，添加了颜色修改功能、自定义颜色空间（ICC配置文件）、light-dark()和device-cmyk()。
        </p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a>是一种描述结构化文档（如HTML和XML）在屏幕、纸张等媒介上的渲染的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。当前W3C出版物列表及本技术报告的最新修订版可在<a
                    href="https://www.w3.org/TR/">W3C技术报告索引https://www.w3.org/TR/</a>中找到。</em></p>
        <p> 本文档由<a href="https://www.w3.org/groups/wg/css">CSS工作组</a>发布为<strong>工作草案</strong>，采用<a
                href="https://www.w3.org/2023/Process-20231103/#recs-and-notes">推荐规范流程</a>。
            作为工作草案发布并不意味着W3C及其成员的认可。 </p>
        <p> 这是一个草案文件，可能会随时更新、替换或被其他文件取代。将此文件引用为工作进展之外的内容是不合适的。 </p>
        <p>请通过<a
                href="https://github.com/w3c/csswg-drafts/issues">在GitHub上提交问题</a>（推荐）提供反馈，在标题中包含规格代码“css-color”，例如：“[css-color]
            <i>…意见摘要…</i>”。
            所有问题和评论都会被<a href="https://lists.w3.org/Archives/Public/public-css-archive/">存档</a>。或者，可以将反馈发送至(<a
                href="https://lists.w3.org/Archives/Public/www-style/">存档</a>)公共邮件列表<a
                href="mailto:www-style@w3.org?Subject=%5Bcss-color%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。
        </p>
        <p>本文档由<a href="https://www.w3.org/2023/Process-20231103/" id="w3c_process_revision">2023年11月03日W3C流程文件</a>管理。
        </p>
        <p>本文档由根据<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C专利政策</a>运营的小组制作。
            W3C维护了一份<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">公开的专利披露列表</a>，其中包含与该小组交付成果相关的任何专利披露；
            该页面还包含有关披露专利的说明。
            个人如果实际了解某项专利，并认为该专利包含<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必要主张</a>，则必须根据<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C专利政策第6节</a>披露相关信息。</p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">简介</span></a>
            <li><a href="#color-syntax"><span class="secno">2</span> <span class="content"> <span
                            class="production">&lt;color></span> 语法</span></a>
            <li>
                <a href="#color-mix"><span class="secno">3</span> <span class="content">混合颜色：<span
                            class="css">color-mix()</span> 函数</span></a>
                <ol class="toc">
                    <li><a href="#color-mix-percent-norm"><span class="secno">3.1</span> <span class="content"> 百分比归一化
                            </span></a>
                    <li><a href="#color-mix-result"><span class="secno">3.2</span> <span class="content"> 计算color-mix的结果
                            </span></a>
                    <li><a href="#color-mix-color-space-effect"><span class="secno">3.3</span> <span class="content">
                                混合颜色空间对color-mix的影响 </span></a>
                    <li><a href="#color-mix-with-alpha"><span class="secno">3.4</span> <span class="content">
                                非统一Alpha对color-mix的影响 </span></a>
                </ol>
            <li>
                <a href="#relative-colors"><span class="secno">4</span> <span class="content">相对颜色语法</span></a>
                <ol class="toc">
                    <li><a href="#relative-RGB"><span class="secno">4.1</span> <span class="content">相对sRGB颜色</span></a>
                    <li><a href="#relative-HSL"><span class="secno">4.2</span> <span class="content">相对HSL颜色</span></a>
                    <li><a href="#relative-HWB"><span class="secno">4.3</span> <span class="content">相对HWB颜色</span></a>
                    <li><a href="#relative-Lab"><span class="secno">4.4</span> <span class="content">相对Lab颜色</span></a>
                    <li><a href="#relative-Oklab"><span class="secno">4.5</span> <span
                                class="content">相对Oklab颜色</span></a>
                    <li><a href="#relative-LCH"><span class="secno">4.6</span> <span class="content">相对LCH颜色</span></a>
                    <li><a href="#relative-Oklch"><span class="secno">4.7</span> <span
                                class="content">相对Oklch颜色</span></a>
                </ol>
            <li>
                <a href="#color-function"><span class="secno">5</span> <span class="content">指定预定义和自定义颜色空间：<span
                            class="css">color()</span> 函数</span></a>
                <ol class="toc">
                    <li><a href="#relative-color-function"><span class="secno">5.1</span> <span
                                class="content">相对颜色函数颜色</span></a>
                    <li><a href="#custom-color"><span class="secno">5.2</span> <span class="content"> 自定义颜色空间
                            </span></a>
                    <li><a href="#at-profile"><span class="secno">5.3</span> <span class="content">指定颜色配置文件：<span
                                    class="css">@color-profile</span> 规则</span></a>
                    <li><a href="#cal-cmyk"><span class="secno">5.4</span> <span
                                class="content">CSS和打印：使用校准的CMYK和其他印刷颜色空间</span></a>
                    <li><a href="#cmyk-to-lab"><span class="secno">5.5</span> <span
                                class="content">将CMYK颜色转换为Lab</span></a>
                    <li><a href="#lab-to-cmyk"><span class="secno">5.6</span> <span
                                class="content">将Lab颜色转换为CMYK</span></a>
                </ol>
            <li>
                <a href="#device-cmyk"><span class="secno">6</span> <span class="content">非校准的CMYK颜色：<span
                            class="css">device-cmyk()</span> 函数</span></a>
                <ol class="toc">
                    <li><a href="#cmyk-rgb"><span class="secno">6.1</span> <span
                                class="content">在非校准CMYK和基于sRGB的颜色之间进行转换</span></a>
                </ol>
            <li><a href="#light-dark"><span class="secno">7</span> <span class="content">根据使用的颜色方案做出反应：<span
                            class="css">light-dark()</span> 函数</span></a>
            <li><a href="#contrast-color"><span class="secno">8</span> <span class="content">动态指定具有足够对比度的文本颜色：<span
                            class="css">contrast-color()</span> 函数</span></a>
            <li>
                <a href="#interpolation"><span class="secno">9</span> <span class="content">颜色插值</span></a>
                <ol class="toc">
                    <li><a href="#interpolation-space"><span class="secno">9.1</span> <span
                                class="content">插值的颜色空间</span></a>
                </ol>
            <li>
                <a href="#resolving-color-values"><span class="secno">10</span> <span class="content">解析 <span
                            class="production">&lt;color></span> 值</span></a>
                <ol class="toc">
                    <li><a href="#resolving-mix"><span class="secno">10.1</span> <span class="content">解析 <span
                                    class="css">color-mix()</span> 值</span></a>
                    <li><a href="#resolving-rcs"><span class="secno">10.2</span> <span
                                class="content">解析相对颜色语法值</span></a>
                    <li><a href="#resolving-device-cmyk-values"><span class="secno">10.3</span> <span class="content">解析
                                <span class="css">device-cmyk</span> 值</span></a>
                </ol>
            <li>
                <a href="#serial"><span class="secno">11</span> <span class="content">序列化</span></a>
                <ol class="toc">
                    <li><a href="#serial-color-mix"><span class="secno">11.1</span> <span
                                class="content">序列化color-mix()</span></a>
                    <li><a href="#serial-relative-color"><span class="secno">11.2</span> <span
                                class="content">序列化相对颜色函数</span></a>
                    <li><a href="#serial-custom-color"><span class="secno">11.3</span> <span
                                class="content">序列化自定义颜色空间</span></a>
                    <li><a href="#serializing-device-cmyk-values"><span class="secno">11.4</span> <span
                                class="content">序列化 <span class="css">device-cmyk</span> 值</span></a>
                </ol>
            <li>
                <a href="#apis"><span class="secno">12</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li><a href="#the-csscolorprofilerule-interface"><span class="secno">12.1</span> <span
                                class="content"><code>CSSColorProfileRule</code> 接口</span></a>
                </ol>
            <li><a href="#sample"><span class="secno">13</span> <span class="content">默认样式规则</span></a>
            <li><a href="#security"><span class="secno">14</span> <span class="content">安全考虑</span></a>
            <li><a href="#privacy"><span class="secno">15</span> <span class="content">隐私考虑</span></a>
            <li>
                <a href="#changes"><span class="secno">16</span> <span class="content">变更</span></a>
                <ol class="toc">
                    <li><a href="#changes-20220628"><span class="secno">16.1</span> <span
                                class="content">自<span>2022年6月28日工作草案</span>以来</span></a>
                    <li><a href="#changes-20220428"><span class="secno">16.2</span> <span
                                class="content">自<span>2022年4月28日工作草案</span>以来</span></a>
                    <li><a href="#changes-20211215"><span class="secno">16.3</span> <span
                                class="content">自<span>2021年12月15日工作草案</span>以来</span></a>
                    <li><a href="#changes-20210601"><span class="secno">16.4</span> <span
                                class="content">自<span>2021年6月1日工作草案</span>以来</span></a>
                    <li><a href="#changes-20200303"><span class="secno">16.5</span> <span
                                class="content">自<span>2020年6月10日FPWD</span>以来</span></a>
                    <li><a href="#changes-from-4"><span class="secno">16.6</span> <span class="content">CSS Color
                                4的变更</span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span
                                class="content">一致性类</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content">部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content">不稳定和专有功能的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">非实验性实现</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参考文献定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a>
                </ol>
            <li>
                <a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
                <ol class="toc">
                    <li><a href="#color-profile-descriptor-table"><span class="secno"></span> <span
                                class="content"><span>@color-profile</span> 描述符</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL索引</span></a>
        </ol>
    </nav>
    <main>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                for (let e of document.querySelectorAll(".swatch")) {
                    e.tabIndex = "0";
                    const swatchColor = getComputedStyle(e).getPropertyValue("--color");

                    if (!CSS.supports('color', swatchColor)) {
                        e.style.background = "repeating-linear-gradient(135deg, red 0, red 4px, white 4px, white 8px)";
                        e.setAttribute("title", "Your browser does not recognize this color value, so we can't preview it.");
                    }
                }
            });
        </script>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">简介</span><a class="self-link" href="#intro"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>Web 开发人员、设计工具和设计系统开发人员
            经常使用颜色函数来帮助扩展其组件颜色关系的设计。
            随着设计系统支持多个平台和多种用户偏好（如UI中的暗模式增强功能）的使用增加，
            无需手动设置颜色变得更加有用，
            可以通过单一来源计算出配色方案。</p>
        <figure id="fig-chloropleth">
            <p><img alt="LC色彩选择器" height="1045" src="https://www.w3.org/TR/css-color-5/images/LC-picker-scale.png"
                    style="width: 40vmin" width="1168"><br> <img alt="美国的等值线地图" height="1014"
                    src="https://www.w3.org/TR/css-color-5/images/LC-picker-map2.png" style="width: 48vmin"
                    width="1396"></p>
            <figcaption>上图为在CIE LCH空间中的色彩选择器。
                此处使用一对颜色
                来定义在色度-亮度平面（恒定色调）上的色标。
                下图为该色标在等值线地图中的应用。</figcaption>
        </figure>
        <p>目前，Sass、HSL值上的calc()或PostCSS用于此目的。
            但是，预处理器无法对动态调整的颜色进行操作；
            所有当前的解决方案仅限于sRGB色域
            并受到HSL的感知限制
            （颜色在色轮中聚集，
            而两个颜色在视觉上具有不同的亮度，
            例如黄色和蓝色，可能具有相同的HSL亮度）。</p>
        <p>本模块添加了新的函数 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix">color-mix()</a> 和 <a class="css" data-link-type="maybe"
                href="#funcdef-light-dark" id="ref-for-funcdef-light-dark">light-dark()</a>，
            并通过<a href="#relative-colors">相对颜色语法</a>扩展了现有函数。</p>
        <p>它还扩展了 <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color">color()</a> 函数，
            使得不仅预定义的颜色空间，
            还可以使用由 ICC 配置文件定义的自定义颜色空间
            （包括校准的 CMYK）在 CSS 中使用。</p>
        <p>它还添加了 <span class="css">device-cmyk</span>，
            表示未校准的 CMYK 颜色。</p>
        <h2 class="heading settled" data-level="2" id="color-syntax"><span class="secno">2. </span><span
                class="content"><a class="production css" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color">&lt;color></a> 语法</span><a class="self-link" href="#color-syntax"></a>
        </h2>
        <p>CSS中的颜色由 <dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-color"><a
                    class="production css" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color①">&lt;color></a></dfn> 类型表示：</p>
        <pre class="prod">&lt;color> = <a class="production" data-link-type="type" href="#typedef-color-base" id="ref-for-typedef-color-base">&lt;color-base></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> currentColor <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-system-color" id="ref-for-typedef-system-color">&lt;system-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> <a class="production" data-link-type="function" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk">&lt;device-cmyk()></a>  <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production" data-link-type="function" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark①">&lt;light-dark()></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-base">&lt;color-base></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hex-color" id="ref-for-typedef-hex-color">&lt;hex-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production" data-link-type="type" href="#typedef-color-function" id="ref-for-typedef-color-function">&lt;color-function></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-named-color" id="ref-for-typedef-named-color">&lt;named-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> <a class="production" data-link-type="function" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①">&lt;color-mix()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> transparent
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-function">&lt;color-function></dfn> = <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-5/#funcdef-rgb" id="ref-for-funcdef-rgb">&lt;rgb()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba">&lt;rgba()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a>
              <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-5/#funcdef-hsl" id="ref-for-funcdef-hsl">&lt;hsl()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a> <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla">&lt;hsla()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> <a class="production" data-link-type="function" href="#funcdef-hwb" id="ref-for-funcdef-hwb">&lt;hwb()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a>
              <a class="production" data-link-type="function" href="#funcdef-lab" id="ref-for-funcdef-lab">&lt;lab()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a> <a class="production" data-link-type="function" href="#funcdef-lch" id="ref-for-funcdef-lch">&lt;lch()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> <a class="production" data-link-type="function" href="#funcdef-oklab" id="ref-for-funcdef-oklab">&lt;oklab()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> <a class="production" data-link-type="function" href="#funcdef-oklch" id="ref-for-funcdef-oklch">&lt;oklch()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a>
              <a class="production" data-link-type="function" href="#funcdef-color" id="ref-for-funcdef-color①">&lt;color()></a>
</pre>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="absolute-color">绝对颜色</dfn> 是一个 <a
                class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②">&lt;color></a> 其计算值具有绝对的色度解释。
            这意味着该值不包括：</p>
        <ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                        id="ref-for-valdef-color-currentcolor">currentColor</a>（取决于 <a class="property css"
                        data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color"
                        id="ref-for-propdef-color">color</a>
                    属性的值）</p>
            <li data-md>
                <p><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-color-4/#typedef-system-color"
                        id="ref-for-typedef-system-color①">&lt;system-color></a>（取决于颜色模式）</p>
            <li data-md>
                <p><a class="production css" data-link-type="function" href="#funcdef-light-dark"
                        id="ref-for-funcdef-light-dark②">&lt;light-dark()></a>（取决于颜色模式）</p>
            <li data-md>
                <p><a class="production css" data-link-type="function" href="#funcdef-device-cmyk"
                        id="ref-for-funcdef-device-cmyk①">&lt;device-cmyk()></a>（无色度基础）</p>
        </ul>
        <p>这些值也不能在 <a class="production css" data-link-type="function" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix②">&lt;color-mix()></a> 或相对颜色语法中使用。</p>
        <h2 class="heading settled" data-level="3" id="color-mix"><span class="secno">3. </span><span
                class="content">混合颜色：<a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix③">color-mix()</a> 函数</span><a class="self-link" href="#color-mix"></a>
        </h2>
        <p>该函数接受两个 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color③">&lt;color></a> 规格
            并在给定的 <a class="production css" data-link-type="type" href="#typedef-color-space"
                id="ref-for-typedef-color-space">&lt;color-space></a> 中
            按指定的比例混合它们。</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color-mix">color-mix()</dfn> = color-mix( <a class="production" data-link-type="type" href="#color-interpolation-method" id="ref-for-color-interpolation-method">&lt;color-interpolation-method></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma">,</a> [ <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color④">&lt;color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-all" id="ref-for-comb-all">&amp;&amp;</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value">&lt;percentage [0,100]></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma">#{2}</a>)
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html"
                        title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="3.1" id="color-mix-percent-norm"><span class="secno">3.1. </span><span
                class="content"> 百分比归一化 </span><a class="self-link" href="#color-mix-percent-norm"></a></h3>
        <p>百分比必须在 0% 到 100% 之间。特别禁止负百分比。百分比按如下方式归一化：</p>
        <ol>
            <li data-md>
                <p>令 <var>p1</var> 为第一个百分比，<var>p2</var> 为第二个。</p>
            <li data-md>
                <p>如果两个百分比都被省略，它们都默认为 50%
                    （两个颜色的等量混合）。</p>
            <li data-md>
                <p>否则，如果 <var>p2</var> 被省略，则其值为 100% - <var>p1</var></p>
            <li data-md>
                <p>否则，如果 <var>p1</var> 被省略，则其值为 100% - <var>p2</var></p>
            <li data-md>
                <p>如果百分比和为零，则该函数无效。</p>
            <li data-md>
                <p>否则，如果两者相加大于 100%，它们会相应地缩放，使它们的和等于 100%。</p>
            <li data-md>
                <p>否则，如果两者相加小于 100%，则将总和保存为 alpha 乘数。
                    然后它们会相应地缩放，使它们的和等于 100%。</p>
        </ol>
        <p>这意味着 <var>p1</var> 变为 <var>p1</var> / (<var>p1</var> + <var>p2</var>)
            并且 <var>p2</var> 变为 <var>p2</var> / (<var>p1</var> + <var>p2</var>)。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-percents-01.html"
                        title="css/css-color/color-mix-percents-01.html">color-mix-percents-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-percents-01.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-percents-02.html"
                        title="css/css-color/color-mix-percents-02.html">color-mix-percents-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-percents-02.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-02.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-mix-syntactic">
            <a class="self-link" href="#ex-mix-syntactic"></a> 这些语法形式都是等效的：
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> plum<c- p>,</c-> purple<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>80</c-><c- k>%</c-><c- p>,</c-> plum <c- m>80</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>所有这些都会生成 <span class="swatch" style="--color: purple"></span> purple 和 <span class="swatch"
                    style="--color: plum"></span> plum 的 50-50 混合，
                在 lch 中：<span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> lch(51.51% 52.21
                325.8) 即 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> rgb(68.51%
                36.01% 68.29%)。</p>
            <p>然而，这种形式 <em>不是</em> 一样的，因为 alpha 小于 1：</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>30</c-><c- k>%</c-><c- p>,</c-> plum <c- m>30</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>这会生成 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span> lch(51.51%
                52.21 325.8 / 0.6) 即 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span>
                rgb(68.51% 36.01% 68.29% / 0.6)。</p>
        </div>

        <h3 class="heading settled" data-level="3.2" id="color-mix-result"><span class="secno">3.2. </span><span
                class="content"> 计算 color-mix 的结果 </span><a class="self-link" href="#color-mix-result"></a></h3>
        <p>在归一化两个百分比后，结果通过以下算法产生：</p>
        <ol>
            <li data-md>
                <p>如 <a href="https://www.w3.org/TR/css-color-4/#interpolation"><cite>CSS Color 4</cite>
                        第 12 节. 颜色插值</a> 所述，
                    两个颜色转换为指定的插值 <a class="production css" data-link-type="type" href="#typedef-color-space"
                        id="ref-for-typedef-color-space①">&lt;color-space></a>，
                    考虑到任何 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#analogous-components"
                        id="ref-for-analogous-components">相似组件</a>。</p>
            <li data-md>
                <p>然后在指定的颜色空间中进行插值，
                    如 <a href="https://www.w3.org/TR/css-color-4/#interpolation"><cite>CSS Color 4</cite>
                        第 12 节. 颜色插值</a> 所述。
                    如果指定的颜色空间是 <span class="css">cylindrical-polar-color</span> 空间，
                    则 <a class="production css" data-link-type="type" href="#typedef-hue-interpolation-method"
                        id="ref-for-typedef-hue-interpolation-method">&lt;hue-interpolation-method></a> 控制色相的插值，如
                    <a href="https://www.w3.org/TR/css-color-4/#hue-interpolation"><cite>CSS Color 4</cite> 第 12.4 节
                        色相插值</a> 所述。
                    如果没有指定 <span class="production"
                        id="ref-for-typedef-hue-interpolation-method①">&lt;hue-interpolation-method></span>，
                    则相当于指定了 <span class="css">shorter</span>。
                    如果指定的颜色空间是 <span class="css">rectangular-orthogonal-color</span> 空间，
                    则指定 <span class="production"
                        id="ref-for-typedef-hue-interpolation-method②">&lt;hue-interpolation-method></span> 是错误的。
                </p>
            <li data-md>
                <p>如果在百分比归一化过程中产生了 alpha 乘数，
                    则插值结果的 alpha 分量将乘以 alpha 乘数。</p>
        </ol>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-basic-001.html"
                        title="css/css-color/color-mix-basic-001.html">color-mix-basic-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-basic-001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-basic-001.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-non-srgb-001.html"
                        title="css/css-color/color-mix-non-srgb-001.html">color-mix-non-srgb-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-non-srgb-001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-non-srgb-001.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html"
                        title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-color-mix-function.html"
                        title="css/css-color/parsing/color-invalid-color-mix-function.html">color-invalid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-mix-out-of-gamut.html"
                        title="css/css-color/parsing/color-mix-out-of-gamut.html">color-mix-out-of-gamut.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <p>混合的结果是在从第二个颜色到第一个颜色的渐进线上指定百分比处的颜色。</p>
        <p class="note" role="note"><span class="marker">注意：</span>因此，0% 的百分比仅返回转换为指定颜色空间的另一个颜色，
            而 100% 返回转换为指定颜色空间的相同颜色。</p>
        <div class="example" id="ex-mix-lch-peru40">
            <a class="self-link" href="#ex-mix-lch-peru40"></a> 此示例生成 40% <span class="swatch"
                style="--color: peru"></span> peru 和 60% <span class="swatch" style="--color: palegoldenrod"></span>
            palegoldenrod 的混合。
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> peru <c- m>40</c-><c- k>%</c-><c- p>,</c-> palegoldenrod<c- p>)</c-></pre>
            <p>混合是在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch"
                    id="ref-for-valdef-lch-lch">lch</a> 颜色空间中进行的。
                这是一个俯视图，沿着中性 L 轴观察：</p>
            <figure id="fig-LCH-peru-goldenrod">
                <object data="https://www.w3.org/TR/css-color-5/images/CH-mixing.svg" height="480" width="480">
                    <p>两个颜色的混合及混合输出。
                        我们沿着 CIE L 轴观察 ab 平面。
                        有两个轴，标记为 <em>a</em> 和 <em>b</em>，它们在原点交叉，
                        该原点位于图的中心。</p>
                </object>
                <figcaption>peru 和 palegoldenrod 在 CIE LCH 中的混合。
                    Peru 的色相角从正 a 轴测量，为 63.677 度，
                    而 palegoldenrod 的色相角为 98.834 度。
                    Peru 的色度或离中心中性轴的距离为 54.011，
                    而 palegoldenrod 的色度为 31.406。
                    所有可能的混合都位于曲线沿线。显示了 40%/60% 的混合。</figcaption>
            </figure>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: peru"></span> peru 为 lch(62.253% 54.011 63.677)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: palegoldenrod"></span> palegoldenrod 为 lch(91.374% 31.406
                        98.834)</p>
                <li data-md>
                    <p>混合后的亮度为 62.253 * 40/100 + 91.374 * (100-40)/100 = 79.7256</p>
                <li data-md>
                    <p>混合后的色度为 54.011 * 40/100 + 31.406 * (100-40)/100 = 40.448</p>
                <li data-md>
                    <p>混合后的色相为 63.677 * 40/100 + 98.834 * (100-40)/100 = 84.771</p>
                <li data-md>
                    <p>混合后的结果为 <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
                        lch(79.7256% 40.448 84.771)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-lch-teal65">
            <a class="self-link" href="#ex-mix-lch-teal65"></a> 此示例生成 teal 和 olive 的混合，
            在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch"
                id="ref-for-valdef-lch-lch①">lch</a> 颜色空间中，
            每个 lch 通道为 teal 的 65%
            和 olive 的 35%。
            <p class="note" role="note"><span class="marker">注意：</span>对色相和色度进行插值
                使中间颜色的饱和度
                与终点颜色一样饱和。</p>
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> teal <c- m>65</c-><c- k>%</c-><c- p>,</c-> olive<c- p>);</c-></pre>
            <figure id="fig-LCH-teal-olive">
                <object data="https://www.w3.org/TR/css-color-5/images/CH-mixing3.svg" height="500" width="500">
                    <p>两个颜色的混合及混合输出。
                        我们沿着 CIE L 轴观察 ab 平面。
                        有两个轴，标记为 <em>a</em> 和 <em>b</em>，它们在原点交叉，
                        该原点位于图的中心。</p>
                </object>
                <figcaption>teal 和 olive 的混合。
                    Teal 的色相角从正 a 轴测量，为 196.4524 度，
                    而 olive 的色相角为 99.5746 度。
                    Teal 的色度或离中心中性轴的距离为 31.6903，
                    而 olive 的色度为 56.8124。
                    混合位于虚线曲线沿线。显示了 65%/35% 的混合。</figcaption>
            </figure>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: teal"></span> teal (#008080) 为 lch(47.9855% 31.6903
                        196.4524)</p>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: olive"></span> olive (#808000) 为 lch(52.1496% 56.8124
                        99.5746)</p>
                <li data-md>
                    <p>混合亮度为 47.9855 * 0.65 + 52.1496 * 0.35 = 49.4429</p>
                <li data-md>
                    <p>混合色度为 31.6903 * 0.65 + 56.8124 * 0.35 = 40.4830</p>
                <li data-md>
                    <p>混合色相为 196.4524 * 0.65 + 99.5746 * 0.35 = 162.5452</p>
                <li data-md>
                    <p>混合结果为 lch(49.4429% 40.4830 162.5452)</p>
                <li data-md>
                    <p>这是稍微偏蓝的绿色：<span class="swatch" style="--color: rgb(7.7377% 52.5730% 37.3213%)"></span>
                        rgb(7.7377% 52.5730% 37.3213%)</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="3.3" id="color-mix-color-space-effect"><span class="secno">3.3.
            </span><span class="content"> 混合颜色空间对 color-mix 的影响 </span><a class="self-link"
                href="#color-mix-color-space-effect"></a></h3>
        <p>选择的混合颜色空间会对最终结果产生很大影响。</p>
        <div class="example" id="ex-mix-colorspaces-black-white">
            <a class="self-link" href="#ex-mix-colorspaces-black-white"></a> 该示例是白色和黑色的 50% 混合，
            在三个不同的颜色空间中。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: white"></span> 白色 (#FFF) 为 lch(100% 0 0)</p>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: black"></span> 黑色 (#000) 为 lch(0% 0 0)</p>
                <li data-md>
                    <p>LCH 中的混合为 <span class="swatch" style="--color: rgb(47% 47% 47%)"></span> lch(50% 0 0)</p>
                <li data-md>
                    <p>XYZ 中的混合为 <span class="swatch" style="--color: rgb(74% 74% 74%)"></span> lch(76% 0 0)</p>
                <li data-md>
                    <p>sRGB 中的混合为 <span class="swatch" style="--color: rgb(50% 50% 50%)"></span> lch(53.4% 0 0)</p>
            </ul>
            <p>LCH 中的混合给出 L 值为 50%，
                一个完美的中灰，完全符合预期
                （在 Lab 中混合也会产生相同的结果，
                因为 LCH 和 Lab 的亮度轴是相同的）。</p>
            <p>XYZ 中的混合结果过亮；
                XYZ 是线性光，但不是感知一致的。
                sRGB 中的混合结果也稍微过亮；
                sRGB 既不是感知一致的，也不是线性光。</p>
        </div>
        <div class="example" id="ex-mix-xyz">
            <a class="self-link" href="#ex-mix-xyz"></a> 该示例生成
            红色和天蓝色的混合，
            在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz"
                id="ref-for-valdef-color-xyz">xyz</a> 颜色空间中，
            混合结果为 75.23% 红色的值
            （因此，24.77% 是天蓝色的值）。
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>82.02</c-><c- k>%</c-> <c- m>30.21</c-><c- k>%</c-> <c- m>35.02</c-><c- k>%</c-><c- p>)</c-> <c- m>75.23</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>5.64</c-><c- k>%</c-> <c- m>55.94</c-><c- k>%</c-> <c- m>85.31</c-><c- k>%</c-><c- p>));</c-></pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(82.02% 30.21% 35.02%)"></span> rgb(82.02% 30.21% 35.02%)
                        为 lch(52% 58.1 22.7)，即 X=0.3214, Y=0.2014, Z=0.0879。</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(5.64% 55.94% 85.31%)"></span> rgb(5.64% 55.94% 85.31%)
                        为 lch(56% 49.1 257.1)，即 X=0.2070, Y=0.2391, Z=0.5249。</p>
                <li data-md>
                    <p>混合结果 X=(0.3214 * 0.7523) + (0.2070 * (1 - 0.7523)) = 0.29306。</p>
                <li data-md>
                    <p>混合结果 Y=(0.2014 * 0.7523) + (0.2391 * (1 - 0.7523)) = 0.21074。</p>
                <li data-md>
                    <p>混合结果 Z=(0.0879 * 0.7523) + (0.5249 * (1 - 0.7523)) = 0.19614。</p>
                <li data-md>
                    <p>混合结果为 <span class="swatch" style="--color: rgb(72.300% 38.639% 53.557%)"></span>
                        lch(53.0304% 38.9346 352.8138)，即 rgb(72.300% 38.639% 53.557%)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-blue-white">
            <a class="self-link" href="#ex-mix-blue-white"></a>
            <p>该示例是白色和蓝色的 50% 混合，
                在三个不同的颜色空间中。</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: white"></span> 白色
                        为 rgb(100% 100% 100%)，
                        即 lch(100% 0 none)，
                        即 oklch(100% 0 none)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: blue"></span> 蓝色
                        为 rgb(0% 0% 100%)，
                        即 lch(29.5683% 131.201 301.364)，
                        即 oklch(45.201% 0.31321 264.052)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(68.594% 53.794% 100%)"></span> 在 lch 中的混合为 lch(64.7841%
                        65.6008 301.364)，略带紫色</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(45.304% 63.808% 100%)"></span> 在 oklch 中的混合为
                        oklch(72.601% 0.15661 264.052)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(50% 50% 100%)"></span> 在 sRGB 中的混合为 rgb(50% 50%
                        100%)，也稍带紫色</p>
            </ul>
        </div>
        <div class="example" id="ex-hsl-gamut-map">
            <a class="self-link" href="#ex-hsl-gamut-map"></a> 该示例是两个颜色的混合，
            在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl"
                id="ref-for-valdef-hsl-hsl">hsl</a> 颜色空间中，
            其中一个颜色
            超出了 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb"
                id="ref-for-valdef-color-srgb">sRGB</a>
            色域。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in hsl<c- p>,</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0</c-> <c- m>1</c-> <c- m>0</c-><c- p>)</c-> <c- m>80</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch oog" style="--color: white"></span> color(display-p3 0 1 0)
                        为 color(srgb -0.5116 1.01827 -0.3107)，超出了 sRGB 色域</p>
                <li data-md>
                    <p>转换为 <a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl"
                            id="ref-for-valdef-hsl-hsl①">hsl</a> <span class="swatch oog"
                            style="--color: rgb(0% 99.797% 0%)"></span> hsl(127.879 301.946 25.334)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: yellow"></span> 黄色为 <span class="swatch"
                            style="--color: yellow"></span> hsl(60 100% 50%)</p>
                <li data-md>
                    <p>色相为 127.879 × 0.8 + 60 × 0.2 = 114.3032</p>
                <li data-md>
                    <p>饱和度为 301.946 × 0.8 + 100 × 0.2 = 261.5568</p>
                <li data-md>
                    <p>亮度为 25.334 × 0.8 + 50 × 0.2 = 30.2672</p>
                <li data-md>
                    <p>混合结果为 <span class="swatch oog" style="--color: rgb(72.66% 100% 0%)"></span>
                        hsl(114.3032 261.5568 30.2672)，即 <span class="swatch oog"
                            style="--color: rgb(72.66% 100% 0%)"></span> color(srgb -0.3387 1.0943 -0.48899)</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="3.4" id="color-mix-with-alpha"><span class="secno">3.4. </span><span
                class="content"> 非完全不透明的 alpha 对 color-mix 的影响 </span><a class="self-link"
                href="#color-mix-with-alpha"></a></h3>
        <p>到目前为止，所有的 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix④">color-mix()</a> 示例
            都使用了完全不透明的颜色。
            为了简化示例，省略了预乘和解乘步骤，
            因为这些步骤仅会乘以 1 再除以 1，
            因此结果不会改变。</p>
        <p>在一般情况下，颜色可能具有非完全不透明的 alpha 分量，
            因此不能省略预乘、插值、解乘步骤。</p>
        <div class="example" id="ex-premultiply-srgb">
            <a class="self-link" href="#ex-premultiply-srgb"></a> 此示例为 25% 半透明红色和 75% 半透明绿色，
            在 sRGB 中混合。
            显示了正确（预乘）和错误（非预乘）的过程。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>25</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>));</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
                        预乘后为 [0.7, 0, 0]</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
                        预乘后为 [0, 0.2, 0]</p>
                <li data-md>
                    <p>预乘、插值结果为
                        [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        即 [0.175, 0.150, 0]</p>
                <li data-md>
                    <p>插值后的 alpha 为 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
                <li data-md>
                    <p>解乘后的结果为
                        [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
                        即 [0.53846, 0.46154, 0]</p>
                <li data-md>
                    <p>因此混合颜色为 <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span>
                        color(srgb 0.53846 0.46154 0 /
                        0.325)</p>
            </ul>
            <p>错误的计算如下：</p>
            <ul>
                <li data-md>
                    <p>插值结果为
                        [1 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 1 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        即 [0.25, 0.75, 0]</p>
                <li data-md>
                    <p>因此错误的混合颜色为 <span class="swatch" style="--color: rgba(25%, 75%, 0%, 0.325)"></span> color(srgb
                        0.25 0.75 0 / 0.325)</p>
            </ul>
            <p>这是一个巨大的差异；正确和错误结果之间的 ΔE2000 为 30.7！</p>
        </div>
        <p>当百分比归一化生成 alpha 乘数时，计算与之前相同，只是多了最后一步。</p>
        <div class="example" id="ex-premultiply-srgb-2">
            <a class="self-link" href="#ex-premultiply-srgb-2"></a> 此示例与前一个类似，
            25% 半透明红色和 75% 半透明绿色，
            在 sRGB 中混合。
            <p>但在此示例中，百分比指定为
                第一个颜色的 20% 和第二个颜色的 60%。
                这加起来为 80%，因此 alpha 乘数为 0.8。</p>
            <p>混合百分比然后被缩放
                乘以 100/80：<br> 20% * 100/80 = 25%<br> 60% * 100/80 = 75%<br> 最终得到与前一个示例相同的混合百分比。</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>20</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>)</c-> <c- m>60</c-><c- k>%</c-><c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
                        预乘后为 [0.7, 0, 0]</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
                        预乘后为 [0, 0.2, 0]</p>
                <li data-md>
                    <p>预乘、插值结果为
                        [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        即 [0.175, 0.150, 0]</p>
                <li data-md>
                    <p>插值后的 alpha 为 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
                <li data-md>
                    <p>解乘后的结果为
                        [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
                        即 [0.53846, 0.46154, 0]</p>
                <li data-md>
                    <p>因此混合颜色为 <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span>
                        color(srgb 0.53846 0.46154 0 /
                        0.325)</p>
                <li data-md>
                    <p>存在 0.8 的 alpha 乘数，
                        因此混合结果的 alpha 实际上为 0.325 * 0.8 = 0.260，
                        因此混合颜色实际为 <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.260)"></span>
                        color(srgb 0.53846 0.46154 0 /
                        0.260)</p>
            </ul>
        </div>
        <p class="note" role="note"><span class="marker">注意：</span> 不要将插值后的 alpha 乘以
            alpha 乘数然后再用于解乘。
            如果混合百分比未缩放为 100%，这样做是正确的，
            但实际上它们已缩放，因此这样做会使混合颜色调整两次。</p>
        <h2 class="heading settled" data-level="4" id="relative-colors"><span class="secno">4. </span><span
                class="content"> 相对颜色语法 </span><a class="self-link" href="#relative-colors"></a></h2>
        <p>在本规范的先前级别中，颜色函数只能通过直接指定所有颜色通道的方式绝对地指定颜色。</p>
        <p>新的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="relative-color">相对颜色</dfn>语法
            扩展了<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax">现代颜色语法</a>，允许使用颜色函数修改现有颜色：
            如果指定了<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="origin-color">原始颜色</dfn>，
            那么每个颜色通道（如果指定了，还包括 alpha 通道）
            可以<em>直接</em>指定，
            或者从原始颜色中获取
            （并可能使用<a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                id="ref-for-math-function">数学函数</a>进行修改）。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html"
                        title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html"
                        title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                        title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html"
                        title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html"
                        title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html"
                        title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html"
                        title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                        title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html"
                        title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html"
                        title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html"
                        title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/relative-color-out-of-gamut.html"
                        title="css/css-color/parsing/relative-color-out-of-gamut.html">relative-color-out-of-gamut.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(source)</small></a>
            </ul>
        </details>
        <p>每个函数的变化细节如下列出，以适应<a data-link-type="dfn" href="#relative-color"
                id="ref-for-relative-color">相对颜色</a>，但它们都遵循一个共同的结构：</p>
        <ul>
            <li data-md>
                <p>可以通过在函数开始处指定 <span class="css">from &lt;color></span> 值来指定
                    <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color">原始颜色</a>。
                    如果指定了，还包括可选的 alpha 通道。
                </p>
            <li data-md>
                <p>原始颜色和相对颜色不必使用相同的颜色函数。</p>
            <li data-md>
                <p>如果指定了<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①">原始颜色</a>，
                    其余参数可以正常直接指定，
                    或者指定为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="channel-keyword">通道关键字</dfn>，
                    指的是<a id="ref-for-origin-color②">原始颜色</a>的某一个通道。<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-values-4/#math-function"
                        id="ref-for-math-function①">数学函数</a>也可以使用这些关键字
                    来动态修改<a id="ref-for-origin-color③">原始颜色</a>的通道。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①">相对颜色</a>语法
                    并不会改变参数是必需的还是可选的。
                    然而，如果省略了 alpha 值，
                    它默认为从<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color④">原始颜色</a>中获取（而不是像在绝对语法中那样默认为 <span class="css">100%</span>）。</p>
            <li data-md>
                <p>相对颜色语法仅适用于 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                        id="ref-for-modern-color-syntax①">现代颜色语法</a>。
                    它<em>不能</em>与<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                        id="ref-for-legacy-color-syntax">传统颜色语法</a>一起使用，尝试这么做会出错。</p>
            <li data-md>
                <p>不过，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑤">原始颜色</a>
                    可以使用现代或传统语法。</p>
        </ul>
        <p><a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword">通道关键字</a>返回
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value">&lt;number></a>；
            如果它们最初被指定为
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value①">&lt;percentage></a>或
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#angle-value"
                id="ref-for-angle-value">&lt;angle></a>，
            则<span class="production" id="ref-for-percentage-value②">&lt;percentage></span>会被解析为
            <span class="production" id="ref-for-number-value①">&lt;number></span>，
            并且<span class="production" id="ref-for-angle-value①">&lt;angle></span>会解析为
            [0, 360]范围内的度数
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#canonical-unit"
                id="ref-for-canonical-unit">标准单位</a>。
        </p>

        <div class="example" id="example-1f6216e3">
            <a class="self-link" href="#example-1f6216e3"></a>例如，如果颜色是用
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value③">&lt;percentage></a>指定的，
            则在相同颜色空间中的 RCS 将使用解析后的
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value③">&lt;number></a>形式：
            <pre class="highlight">html <c- p>{</c-> <c- k>--bluegreen</c-><c- p>:</c-> <span class="swatch" style="--color: teal"></span> <c- nf>oklab</c-><c- p>(</c-><c- m>54.3</c-><c- k>%</c-> <c- m>-22.5</c-><c- k>%</c-> <c- m>-5</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(4.696% 39.17% 39.38%)"></span> <c- nf>oklab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bluegreen<c- p>)</c-> <c- nf>calc</c-><c- p>(</c-><c- m>1.0</c-> - l<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->a * <c- m>0.8</c-><c- p>)</c-> b<c- p>);</c->
<c- p>}</c->
</pre>
            <p>在这个示例中，指定的百分比被解析为数值，
                生成 oklab(0.543 -0.09 -0.02)。
                结果颜色是 l = 1 - 0.543 = 0.457，
                a = -0.09 * 0.8 = -0.072，
                b 不变为 -0.02：
                oklab(0.457 -0.072 -0.02)。</p>
        </div>
        <div class="example" id="example-4889a5cd">
            <a class="self-link" href="#example-4889a5cd"></a>例如，如果原始颜色的色调
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#angle-value"
                id="ref-for-angle-value②">&lt;angle></a>以度数指定，
            则相同颜色空间中的 RCS 将使用解析后的
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value④">&lt;number></a>形式：
            <pre class="highlight">html <c- p>{</c-> <c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: sienna"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>52.6</c-><c- k>%</c-> <c- m>0.115</c-> <c- m>44.6</c-><c- k>deg</c-><c- p>)</c-> <c- p>}</c->
.summary <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(30.09% 47.36% 18.46%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> l c  <c- nf>calc</c-><c- p>(</c->h + <c- m>90</c-><c- p>));</c->
<c- p>}</c->
</pre>
            <p>在这个示例中，结果颜色是 oklch(0.526 0.115 134.6)。</p>
            <p>如果原始颜色的色调<a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#angle-value"
                    id="ref-for-angle-value③">&lt;angle></a>以其他单位指定，
                如弧度或转数，
                解析后得到的仍然是度数形式
                <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                    id="ref-for-number-value⑤">&lt;number></a>。
            </p>
        </div>
        <p id="required-conversion">如果<a class="dfn-paneled" data-dfn-type="dfn" data-export
                id="originally-specified-color-space">最初指定的颜色空间</a>为
            <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑥">原始颜色</a>使用了不同的颜色函数，
            则它首先会转换为所选颜色函数，
            以便通道具有有意义的值。
        </p>

        <div class="example" id="example-f70ef931">
            <a class="self-link" href="#example-f70ef931"></a>通过在
            <a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword①">通道关键字</a>
            中使用<a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                id="ref-for-math-function②">数学函数</a>，可以更高级地操控
            <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑦">原始颜色</a>。
            <pre class="highlight">html <c- p>{</c-> <c- k>--color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
.foo <c- p>{</c->
  <c- k>--darker-accent</c-><c- p>:</c-> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l / <c- m>2</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
</pre>
            <p>在这个示例中，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑧">原始颜色</a>
                被减半亮度来变暗，
                而不改变颜色的其他任何方面。</p>
            <p>同时需要注意的是，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑨">原始颜色</a>是一个颜色关键字
                （因此为 sRGB），
                但由于它在<a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch①">lch()</a>函数中使用，
                它会自动被解释为 LCH 颜色。</p>
        </div>

        <div class="example" id="example-e5e90948">
            <a class="self-link" href="#example-e5e90948"></a>例如，如果主题颜色被指定为不透明，
            但在某个特定情况下需要它部分透明：
            <pre class="highlight">html <c- p>{</c-> <c- k>--bg-color</c-><c- p>:</c-> <span class="swatch" style="--color: blue"></span> blue<c- p>;</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(0,0,255,80%)"></span> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg-color<c- p>)</c-> r g b / <c- m>80</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>在这个示例中，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⓪">原始颜色</a>
                的 r、g 和 b 通道保持不变，
                通过关键字指定它们从<a id="ref-for-origin-color①①">原始颜色</a>中获取值，
                但不透明度被设置为<span class="css">80%</span>，
                使其略微透明，
                无论<a id="ref-for-origin-color①②">原始颜色</a>的不透明度是什么。</p>
        </div>
        <div class="example" id="example-f7c4445d">
            <a class="self-link" href="#example-f7c4445d"></a>虽然大多数使用<a data-link-type="dfn" href="#relative-color"
                id="ref-for-relative-color②">相对颜色</a>语法
            将在对应的参数中使用<a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword②">通道关键字</a>，
            但你可以在任何位置使用它们。
            <p>例如，粗略地将颜色转换为灰度：</p>
            <pre class="highlight"><c- k>--blue-into-gray</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c->
            <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
            <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
            <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>));</c->
    </pre>
            <p>使用这种方法，<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-red"
                    id="ref-for-valdef-color-red">红色</a>将变为
                <span class="css">rgb(76.5 76.5 76.5)</span>，<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-lime" id="ref-for-valdef-color-lime">青柠</a>将变为
                <span class="css">rgb(150.45 150.45 150.45)</span>，
                而<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-blue"
                    id="ref-for-valdef-color-blue">蓝色</a>将变为
                <span class="css">rgb(150.45 150.45 150.45)</span>。
                一个更中性的颜色，如<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen"
                    id="ref-for-valdef-color-darkolivegreen">深橄榄绿</a>，
                其RGB值为<span class="css">rgb(85 107 47)</span>，
                将变为<span class="css">rgb(93.8 93.8 93.8)</span>。
            </p>
            <p>（粗略转换是因为，虽然这看起来像亮度计算，
                但红、绿和蓝值是在伽马编码空间中操作的，
                而不是线性光照空间；
                其次，权重因子是过时的NTSC颜色空间的权重，
                而不是sRGB的。）</p>
            <p>（另外请注意，这只是为了说明语法；
                一个更简单且更准确的灰度化颜色方法是使用
                <a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch①">oklch()</a>函数，
                因为该颜色空间更符合人类视觉感知：
                <span class="css">oklch(from var(--color) l 0 h)</span>保留了亮度，
                但消除了色度，色度决定了颜色的“丰富度”。）
            </p>
        </div>

        <p>在使用组件时要小心；
            当百分比解析为数字时，
            如果这些数字在不同的位置使用，
            没有“魔法缩放”来调整它们的值。</p>

        <div class="example" id="ex-no-percentage-magic">
            <a class="self-link" href="#ex-no-percentage-magic"></a>
            <p>例如：</p>
            <pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->from <c- nf>color</c-><c- p>(</c->srgb <c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> srgb alpha <c- m>0.6</c-> <c- m>0.6</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
            <p>alpha组件解析为<a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥">&lt;number></a>，
                得到0.6；因此结果颜色为<span class="swatch" style="--color: rgb(60% 60% 60% / 0.9)"></span><span
                    class="css">color(srgb 0.6 0.6 0.6 / 0.9)</span>。
            </p>
            <p>然而，在第二个例子中，alpha同样解析为0.6，
                但由于rgb()语法中颜色分量的范围是0到255，
                导致了一个非常不同的颜色：</p>
            <pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> alpha <c- m>153</c-> <c- m>153</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
            <p>结果是<span class="swatch" style="--color: rgb(0.235% 60% 60% / 0.9)"></span>
                <span class="css">rgb(0.6 153 153 / 0.9)</span>，而不是<span class="swatch"
                    style="--color: rgb(153 153 153 / 0.9)"></span>
                <span class="css">rgb(153 153 153 / 0.9)</span>。
            </p>
        </div>
        <p>缺失的组件与<a href="https://www.w3.org/TR/css-color-4/#interpolation-missing"><cite>CSS Color 4</cite> § 12.2
                插值中的缺失组件</a>处理方式相同：
            原始颜色空间和相对函数颜色空间
            会检查<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#analogous-components"
                id="ref-for-analogous-components①">类似组件</a>，这些组件会作为缺失的组件被继承。
        </p>
        <div class="example" id="ex-missing-analogous">
            <a class="self-link" href="#ex-missing-analogous"></a>在这个例子中，原始无色的颜色缺少色调；
            <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color③">相对颜色</a>也缺少色调，
            这影响了使用该颜色的渐变效果。
            <pre class="highlight">html <c- p>{</c-> <c- k>--bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.5% 48.5% 48.5%)"></span> <c- nf>hsl</c-><c- p>(</c->none <c- m>3</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.foo <c- p>{</c->
  <c- k>--darker-bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
.bar <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <c- nf>linear-gradient</c-><c- p>(</c->in Oklab to right<c- p>,</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span>  <c- nf>var</c-><c- p>(</c->--darker-bg<c- p>),</c-> <span class="swatch" style="--color: #4C3"></span>  #4C3<c- p>);</c->
<c- p>}</c->
</pre>
            <p>当--bg转换为Oklch时的值是
                oklch(0.592 0.009 17.42)，
                但类似的色调组件被继承下来，
                得到oklch(0.592 0.009 none)。
                这些值随后被用于相对函数中，生成的
                较深颜色为oklch(0.474 0.009 none)。</p>
            <p>渐变中的浅绿色为<span class="swatch" style="--color: #4C3"></span> oklch(0.743 0.222 141.6)，
                因此，当插值时，另一种颜色也继承了这个色调，
                变为<span class="swatch" style="--color: rgb(34.96% 36.56% 34.72%)"></span> oklch(0.474 0.009 141.6)。</p>
            <p>因此，渐变将具有恒定的绿色色调。</p>
            <p>如果实现过程中未能继承这种传递，
                灰色的--darker-bg将具有色调0，
                使得渐变的开头出现不受欢迎的红色调。</p>
            <figure id="fig-gradient-missing">
                <img alt height="586" src="https://www.w3.org/TR/css-color-5/images/rectangular-missing.png"
                    width="830">
                <figcaption>正确的（上图）和错误的（下图，带红色调）渐变。</figcaption>
            </figure>
        </div>
        <p>然而，如果对缺失值进行计算，<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none"
                id="ref-for-valdef-color-none">none</a>会被视为0。</p>
        <h3 class="heading settled" data-level="4.1" id="relative-RGB"><span class="secno">4.1. </span><span
                class="content">相对 sRGB 颜色</span><a class="self-link" href="#relative-RGB"></a></h3>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax②">现代颜色语法</a>中 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-5/#funcdef-rgb" id="ref-for-funcdef-rgb①">rgb()</a> 和 <a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba"
                id="ref-for-funcdef-rgba①">rgba()</a> 函数的语法被扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgb-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgb-syntax" id="ref-for-typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a></dfn> = rgb( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑤">&lt;color></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a>
        [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑦">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a> none]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑨">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②">?</a>  )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgba-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgba-syntax" id="ref-for-typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a></dfn> = rgba( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑥">&lt;color></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt③">?</a>
        [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②①">|</a> none]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value①">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②②">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt④">?</a>  )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color④">相对颜色</a>语法中，
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-5/#funcdef-rgb"
                id="ref-for-funcdef-rgb②">rgb()</a> 或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba②">rgba()</a> 函数内，
            允许的<a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword③">通道关键字</a>为：
        </p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export
                        id="valdef-rgb-r">r</dfn>，<dfn class="dfn-paneled css" data-dfn-for="rgb()"
                        data-dfn-type="value" data-export id="valdef-rgb-g">g</dfn> 和 <dfn class="dfn-paneled css"
                        data-dfn-for="rgb()" data-dfn-type="value" data-export id="valdef-rgb-b">b</dfn> 均为 <a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑨">&lt;number></a>，
                    对应<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①③">原始颜色</a>的红、绿、蓝通道，
                    经过必要时的<a href="#required-conversion">转换</a>到 sRGB 后。
                    255.0 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export
                        id="valdef-rgb-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⓪">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①④">原始颜色</a>的 alpha 透明度。1.0 等价于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="example-077312cb">
            <a class="self-link" href="#example-077312cb"></a> 要在 sRGB 颜色空间中操作颜色通道：
            <pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: indianred"></span> indianred <c- m>255</c-> g b<c- p>)</c->
</pre>
            <p>这将使用 indianred 的 sRGB 值 (205 92 92)，并将红色通道替换为 255，得到 <span class="swatch"
                    style="--color: rgb(255 92 92)"></span> rgb(255 92 92)。</p>
        </div>
        <p>相对 sRGB 颜色语法<em>仅</em>适用于非遗留的 RGB 语法形式。</p>
        <div class="example invalid" id="example-648e776c">
            <a class="self-link" href="#example-648e776c"></a> 例如，尝试使用带有逗号的 rgba 遗留 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                id="ref-for-legacy-color-syntax①">颜色语法</a>是错误的
            <pre class="highlight"><c- nf>rgba</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-><c- p>,</c-> <c- m>32</c-><c- p>,</c-> b<c- p>,</c-> <c- m>0.5</c-> <c- p>)</c->
</pre>
        </div>
        <div class="example" id="example-53895412">
            <a class="self-link" href="#example-53895412"></a> 正确的使用方式：
            <pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-> <c- m>32</c-> b / <c- m>0.5</c-> <c- p>)</c->
</pre>
            <p>这将使用 darkblue 的 sRGB 值 (0 0 139)，并替换红、绿和 alpha 通道，得到 <span class="swatch"
                    style="--color: rgb(16 32 139 / 0.5)"></span> rgb(16 32 139 / 0.5)</p>
        </div>
        <h3 class="heading settled" data-level="4.2" id="relative-HSL"><span class="secno">4.2. </span><span
                class="content">相对 HSL 颜色</span><a class="self-link" href="#relative-HSL"></a></h3>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax③">现代颜色语法</a>中 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-5/#funcdef-hsl" id="ref-for-funcdef-hsl①">hsl()</a> 和 <a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla"
                id="ref-for-funcdef-hsla①">hsla()</a> 函数的语法被扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsl-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsl-syntax" id="ref-for-typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a></dfn> = hsl([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑦">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑤">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②③">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②④">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑤">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑥">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑦">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value②">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑧">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑥">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsla-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsla-syntax" id="ref-for-typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a></dfn> = hsla([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑧">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑦">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue①">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑨">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①③">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③①">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①④">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③③">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value③">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③④">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑧">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑤">相对颜色</a>语法中
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-5/#funcdef-hsl"
                id="ref-for-funcdef-hsl②">hsl()</a> 或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla②">hsla()</a> 函数内，
            允许的 <a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword④">通道关键字</a>为：
        </p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-h">h</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑤">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑤">原始颜色</a>的 HSL 色相，以度为单位，
                    经过必要时的 <a href="#required-conversion">转换</a>到 sRGB 后，
                    归一化到 [0, 360] 范围内。90 等价于 90deg。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-s">s</dfn> 和 <dfn class="dfn-paneled css" data-dfn-for="hsl()"
                        data-dfn-type="value" data-export id="valdef-hsl-l">l</dfn> 是 <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑥">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑥">原始颜色</a>的 HSL 饱和度和亮度，
                    经过必要时的 <a href="#required-conversion">转换</a>到 sRGB 后，
                    100 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑦">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑦">原始颜色</a>的 alpha 透明度，1.0 等价于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="example-c4b276dd">
            <a class="self-link" href="#example-c4b276dd"></a> 这将色相角度增加 180 度，得到互补色。
            <pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: hsl(357deg 70% 41%)"></span> <c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
            <p>lightseagreen 是 hsl(177deg 70% 41%)，所以 --complement 是 <span class="swatch"
                    style="--color: hsl(357deg 70% 41%)"></span> hsl(357deg 70% 41%)</p>
        </div>
        <p>相对 HSL 颜色语法仅适用于非遗留的 HSL 语法形式。</p>
        <h3 class="heading settled" data-level="4.3" id="relative-HWB"><span class="secno">4.3. </span><span
                class="content">相对 HWB 颜色</span><a class="self-link" href="#relative-HWB"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb①">hwb()</a> 函数的语法被扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-hwb">hwb()</dfn> = hwb([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑨">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑨">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue②">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑤">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑥">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑦">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①①">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑧">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑨">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value④">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⓪">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⓪">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑥">相对颜色</a> 语法中的
            <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb②">hwb()</a>
            函数内，允许的 <a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword⑤">通道关键字</a> 为：
        </p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-h">h</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⓪">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑧">原始颜色</a>的 HWB 色相，以度为单位，
                    经过必要时的 <a href="#required-conversion">转换</a> 到 sRGB 后，
                    归一化到 [0, 360] 范围内。90 等价于 90deg。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-w">w</dfn> 和 <dfn class="dfn-paneled css" data-dfn-for="hwb()"
                        data-dfn-type="value" data-export id="valdef-hwb-b">b</dfn> 是 <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②①">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑨">原始颜色</a>的 HWB 白度和黑度，
                    经过必要时的 <a href="#required-conversion">转换</a> 到 sRGB 后，
                    100 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②②">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⓪">原始颜色</a>的 alpha 透明度。1.0 等价于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="4.4" id="relative-Lab"><span class="secno">4.4. </span><span
                class="content">相对 Lab 颜色</span><a class="self-link" href="#relative-Lab"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab①">lab()</a> 函数的语法被扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lab">lab()</dfn> = lab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⓪">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①①">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①②">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④①">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②③">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④②">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①③">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②④">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④④">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②⑤">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑥">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value⑤">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑦">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①②">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑦">相对颜色</a> 语法中的
            <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab②">lab()</a>
            函数内，允许的 <a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword⑥">通道关键字</a> 为：
        </p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-l">l</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑥">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②①">原始颜色</a>的 CIE 亮度，
                    经过必要时的 <a href="#required-conversion">转换</a> 到 CIE Lab。
                    100 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-a">a</dfn> 和 <dfn class="dfn-paneled css" data-dfn-for="lab()"
                        data-dfn-type="value" data-export id="valdef-lab-b">b</dfn> 是 <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑦">&lt;number></a>，
                    对应<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②②">原始颜色</a>的 CIE Lab a 和 b
                    轴，
                    经过必要时的 <a href="#required-conversion">转换</a> 到 CIE Lab。
                    125 等价于 100%，-125 等价于 -100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑧">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②③">原始颜色</a>的 alpha 透明度。1.0 等价于 100%。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                                title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(源代码)</small></a>
                    </ul>
                </details>
        </ul>
        <div class="example" id="example-b411f1d3">
            <a class="self-link" href="#example-b411f1d3"></a> 多种调整基色透明度的方法：
            <ul>
                <li data-md>
                    <p><span class="css">lab(from var(--mycolor) l a b / 100%)</span> 将 <span
                            class="css">var(--mycolor)</span> 的 alpha 设置为 1.0，而不管它原来是多少。</p>
                <li data-md>
                    <p><span class="css">lab(from var(--mycolor) l a b / calc(alpha * 0.8))</span> 将 <span
                            class="css">var(--mycolor)</span> 的 alpha 减少原值的 20%。</p>
            </ul>
            <p>请注意，所有调整都是无损的，因为不会发生色域剪裁，因为 lab() 涵盖所有可见颜色。
                这对基于 sRGB 的函数中的 alpha 调整（例如 'rgb()'、'hsl()' 或 'hwb()'）是不成立的，
                这些函数还会在计算 HSL 或 HWB 之前将颜色转换为 sRGB，
                并且还会调整 alpha 透明度。</p>
        </div>
        <div class="example" id="example-d39afaf1">
            <a class="self-link" href="#example-d39afaf1"></a> 完全去除颜色饱和度以获得灰色，同时保持相同的亮度：
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchid 是 <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>52.460</c-> <c- m>-34.103</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> <c- m>0</c-><c- p>)</c->
// mygray 是 <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>0</c-><c- p>)</c-> 即 <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="4.5" id="relative-Oklab"><span class="secno">4.5. </span><span
                class="content">相对 Oklab 颜色</span><a class="self-link" href="#relative-Oklab"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab①">oklab()</a>
            函数的语法被扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklab">oklab()</dfn> = oklab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①①">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①③">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑧">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑨">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⓪">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤①">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤③">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value⑥">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤④">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①④">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑧">相对颜色</a> 语法中的
            <a class="css" data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab②">oklab()</a>
            函数内，允许的 <a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword⑦">通道关键字</a> 为：
        </p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-l">l</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③②">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②④">原始颜色</a>的 Oklab 亮度，
                    经过必要时的 <a href="#required-conversion">转换</a> 到 Oklab。
                    1.0 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-a">a</dfn> 和 <dfn class="dfn-paneled css" data-dfn-for="oklab()"
                        data-dfn-type="value" data-export id="valdef-oklab-b">b</dfn> 是 <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③③">&lt;number></a>，
                    对应<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⑤">原始颜色</a>的 Oklab a 和 b 轴，
                    经过必要时的 <a href="#required-conversion">转换</a> 到 Oklab。
                    0.4 等价于 100%，-0.4 等价于 -100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③④">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑥">原始颜色</a>的 alpha 透明度。1.0 等价于 100%。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                                title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(源代码)</small></a>
                    </ul>
                </details>
        </ul>
        <h3 class="heading settled" data-level="4.6" id="relative-LCH"><span class="secno">4.6. </span><span
                class="content">相对 LCH 颜色</span><a class="self-link" href="#relative-LCH"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch②">lch()</a> 函数的语法被扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lch">lch()</dfn> = lch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①②">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑤">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⑤">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑥">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑦">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⑥">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑧">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue③">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑨">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value⑦">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⓪">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑥">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑨">相对颜色</a> 语法中的
            <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch③">lch()</a>
            函数内，允许的 <a data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword⑧">通道关键字</a> 为：
        </p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-l">l</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑦">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑦">原始颜色</a>的 CIE 亮度，
                    经过必要时的 <a href="#required-conversion">转换</a> 到 CIE LCH。
                    100 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-c">c</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑧">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑧">原始颜色</a>的 LCH 色度，
                    经过必要时的 <a href="#required-conversion">转换</a> 到 CIE LCH。
                    150 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-h">h</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑨">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑨">原始颜色</a>的 LCH 色相（以度为单位），
                    经过必要时的 <a href="#required-conversion">转换</a> 到 CIE LCH，
                    正常化到 [0, 360] 范围内。90 等价于 90 度。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⓪">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⓪">原始颜色</a>的 alpha 透明度。1.0 等价于 100%。</p>
        </ul>
        <div class="example" id="example-fef81186"><a class="self-link" href="#example-fef81186"></a> <span
                class="css">lch(from peru calc(l * 0.8) c h)</span> 生成的颜色比 <span class="swatch"
                style="--color: peru"></span> peru 或 lch(62.2532% 54.0114 63.6769) 暗 20%，并保持其色度和色相不变。
            结果为 <span class="swatch" style="--color: rgb(57.58% 32.47% 3.82%)"> </span> lch(49.80256 54.0114
            63.6769) </div>
        <div class="example" id="example-fb53cf30">
            <a class="self-link" href="#example-fb53cf30"></a> 这将色相角度加 180 度，生成互补色。
            <pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>));</c->
</pre>
            <p>lightseagreen 是 lch(65.4937 39.4484 190.1013)，因此 --complement 是 <span class="swatch"
                    style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> lch(65.4937 39.4484 370.1013)</p>
        </div>
        <div class="example" id="example-dddffb4a">
            <a class="self-link" href="#example-dddffb4a"></a> 完全去饱和颜色变为灰色，同时保持相同亮度：
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchid 是 <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>62.571</c-> <c- m>326.973</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> h<c- p>);</c->
// mygray 是 <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>326.973</c-><c- p>)</c->，即 <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>但现在（由于色相被保留）再次 <em>重新饱和</em>：</p>
            <pre class="highlight"><c- k>--mymuted</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(72.710% 53.293% 71.224%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mygray<c- p>)</c-> l <c- m>30</c-> h<c- p>);</c->
// mymuted 是 <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>30</c-> <c- m>326.973</c-><c- p>)</c->，即 <c- nf>rgb</c-><c- p>(</c-><c- m>72.710</c-><c- k>%</c-> <c- m>53.293</c-><c- k>%</c-> <c- m>71.224</c-><c- k>%</c-><c- p>)</c->
</pre>
        </div>
        <p>然而，不同于 HSL，操纵结果不能保证处于色域内。</p>
        <div class="example" id="ex-wildly-oog">
            <a class="self-link" href="#ex-wildly-oog"></a> 在此示例中，目的是生成与原始颜色具有相同亮度和色度，
            但色相角度相差 120 度的颜色。
            原始颜色在 RGB 色域内，
            但在 LCH 中旋转色相会生成色域外的颜色。
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
            <p>这会生成一个高色度的青绿色，<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60% 90 200)
                即 color(srgb -0.6 0.698 0.772)，
                因此超出了 sRGB 色域（负红值）。
                实际上，它也超出了 display-p3 色域：<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span>
                color(display-p3 -0.46 0.68 0.758)，
                甚至超出了 rec2020 色域：<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> color(rec2020
                -0.14 0.623 0.729)。</p>
            <p>在 sRGB 色域内的最接近颜色为 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60.71% 37.56
                201.1)
                即 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> rgb(0% 64.2% 66.3%)。色度差异（37.5 代替
                90）非常大。</p>
            <figure id="fig-LCH-rotation-oog">
                <object data="https://www.w3.org/TR/css-color-5/images/LCH-rotation-oog.svg" height="520"
                    width="540"></object>
                <p>图示 CIE CH 平面，显示相对颜色操作。
                    <em>a</em> 和 <em>b</em> 轴有标记，
                    并在中间相交。
                    我们从中央亮度轴向下看。
                    sRGB 色域的最大色域显示为不规则的凸多边形。
                </p>
                <figcaption> 此图显示了 CIE ab 平面中的 sRGB 色域。
                    小圆圈表示主要和次要颜色。
                    <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> 原始颜色（显示为大圆圈）在 sRGB 色域内；
                    但当 LCH 色相旋转 -120° 时变为 <span class="swatch oog" style="--color: #AAA"></span> 色域外（显示为灰色填充和红色边框）。
                    色域映射后的 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> 结果色度较低。
                </figcaption>
            </figure>
            <p>在 HSL 中执行相同操作将返回一个色域内的结果。
                但它在其他方面不尽如人意：</p>
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
            <p>在 HSL 中，--mycolor 是 <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> hsl(289.18
                93.136% 65.531%)
                因此减去 120 度得出 <span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> hsl(169.18
                93.136% 65.531%)。
                将该结果转换回 LCH 时，<span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> lch(89.0345%
                49.3503 178.714)
                我们看到，由于 HSL 中的色相旋转，
                亮度从 60% 增加到 89%，
                色度从 90 降至 49，
                而色相实际上改变了 141 度，而不是 120 度。</p>
        </div>
        <h3 class="heading settled" data-level="4.7" id="relative-Oklch"><span class="secno">4.7. </span><span
                class="content">相对 Oklch 颜色</span><a class="self-link" href="#relative-Oklch"></a></h3>
        <p> <a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch②">oklch()</a>
            函数的语法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklch">oklch()</dfn> = oklch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①③">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑦">?</a>
    [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥①">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥②">|</a> none]
    [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②①">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥④">|</a> none]
    [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue④">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑤">|</a> none]
    [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value⑧">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑥">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑧">?</a> )
</pre>
        <p> 在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⓪">相对颜色</a> 语法中，<a class="css"
                data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch③">oklch()</a> 函数允许的 <a
                data-link-type="dfn" href="#channel-keyword" id="ref-for-channel-keyword⑨">通道关键字</a> 为：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-l">l</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④③">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③①">原始颜色</a> 的 Oklab 亮度值，在必要时转换为 Oklch。1.0 相当于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-c">c</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④④">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③②">原始颜色</a> 的 Oklch 色度值，在必要时转换为 Oklch。0.4 相当于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-h">h</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑤">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③③">原始颜色</a> 的 Oklch 色相值（以度数计），在必要时转换为 Oklch，范围为 [0, 360]。90 相当于 90 度。
                </p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑥">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③④">原始颜色</a> 的 alpha 透明度。1.0 相当于 100%。</p>
                <p>由于 Oklch 既是感知均匀的又能保持色度，而且其轴与颜色的易理解属性相对应，Oklch 是进行颜色操作的一个不错选择。</p>
        </ul>
        <div class="example" id="ex-oklch-wildly-oog">
            <a class="self-link" href="#ex-oklch-wildly-oog"></a> 在此示例中，目标是再次生成一个新颜色，保持相同的亮度和色度，但三元组（色相差异 120
            度）。在本例中，我们将在 Oklch 中进行操作。原始颜色位于 RGB 色域内，但在 Oklch 中旋转色相再次产生了超出色域的颜色。
            <pre
                class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c-></pre>
            <p>--mycolor 是 <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> oklch(0.69012 0.25077
                319.893)。从色相中减去 120 度会产生一个非常高色度的蓝绿色，<span class="swatch oog" style="--color: grey"></span> oklch(0.69012
                0.25077 199.893)，超出 sRGB 色域，color(srgb -0.6018 0.7621 0.8448)。将此颜色调整回色域时，通过减少 Oklch 色度，生成 <span
                    class="swatch" style="--color: rgb(0.079% 69.282% 72.067%)"></span> oklch(0.69012 0.1173
                199.893)。Oklch 色度从 0.251 下降到 0.117。</p>
        </div>
        <h2 class="heading settled" data-level="5" id="color-function"><span class="secno">5. </span><span
                class="content">定义预设和自定义颜色空间：<a class="css" data-link-type="maybe" href="#funcdef-color"
                    id="ref-for-funcdef-color②">color()</a> 函数</span><a class="self-link" href="#color-function"></a>
        </h2>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color③">color()</a> 函数允许在指定的
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color-space"
                id="ref-for-color-space">颜色空间</a> 中定义颜色（而不是大多数其他颜色函数所操作的隐式 sRGB 颜色空间）。
        </p>
        <p>在此层级，<a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color④">color()</a>
            函数扩展支持自定义颜色空间，除了来自<a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> § 10.
                预定义颜色空间</a> 的预定义空间外。</p>
        <p>它还扩展支持相对颜色，而不仅仅是绝对颜色。</p>
        <p>其语法如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color">color()</dfn> = color( [from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①④">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑨">?</a> <a class="production" data-link-type="type" href="#typedef-colorspace-params" id="ref-for-typedef-colorspace-params">&lt;colorspace-params></a> [ / [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value⑨">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑦">|</a> none ] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②⓪">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-colorspace-params">&lt;colorspace-params></dfn> = [<a class="production" data-link-type="type" href="#typedef-custom-params" id="ref-for-typedef-custom-params">&lt;custom-params></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑧">|</a> <a class="production" data-link-type="type" href="#typedef-predefined-rgb-params" id="ref-for-typedef-predefined-rgb-params">&lt;predefined-rgb-params></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑨">|</a> <a class="production" data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params">&lt;xyz-params></a>]
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-params">&lt;custom-params></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident">&lt;dashed-ident></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑦">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②②">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦①">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb-params">&lt;predefined-rgb-params></dfn> = <a class="production" data-link-type="type" href="#typedef-predefined-rgb" id="ref-for-typedef-predefined-rgb">&lt;predefined-rgb></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②③">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦③">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num②">{3}</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb">&lt;predefined-rgb></dfn> = srgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦④">|</a> srgb-linear <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑤">|</a> display-p3 <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑥">|</a> a98-rgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑦">|</a> prophoto-rgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑧">|</a> rec2020
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-xyz-params">&lt;xyz-params></dfn> = <a class="production" data-link-type="type" href="#typedef-xyz" id="ref-for-typedef-xyz">&lt;xyz></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑨">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⓪">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num③">{3}</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-xyz">&lt;xyz></dfn> = xyz <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧①">|</a> xyz-d50 <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧②">|</a> xyz-d65
</pre>
        <p>color 函数的参数指定了一个颜色，并明确列出颜色空间。</p>
        <p>它可以表示一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="invalid-color">无效颜色</dfn>，如下文所述，或一个 <a
                data-link-type="dfn" href="#valid-color" id="ref-for-valid-color">有效颜色</a>。</p>
        <p>任何非 <a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color">无效颜色</a> 的颜色都是 <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="valid-color">有效颜色</dfn>。</p>
        <p>颜色可以是 <a data-link-type="dfn" href="#valid-color"
                id="ref-for-valid-color①">有效颜色</a>，但仍然超出输出设备（屏幕、投影仪或打印机）可以显示的颜色范围。此时被称为 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="out-of-gamut">色域外</dfn>。</p>
        <p>色域外的颜色其分量值小于 0 或 0%，或大于 1 或 100%。这些值并不无效；在显示时，它们会在计算值阶段使用相对比色法映射为色域内值（0/0% 到 1/100%）。</p>
        <p>每个 <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color②">有效颜色</a>要么在输出设备的色域内（屏幕或打印机），要么是 <a
                data-link-type="dfn" href="#out-of-gamut" id="ref-for-out-of-gamut">色域外</a>。</p>
        <h3 class="heading settled" data-level="5.1" id="relative-color-function"><span class="secno">5.1. </span><span
                class="content">相对 Color-Function 颜色</span><a class="self-link" href="#relative-color-function"></a>
        </h3>
        <p>在使用<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①①">相对颜色</a>语法的<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑤">color()</a>函数中，采用<a
                class="production css" data-link-type="type" href="#typedef-custom-params"
                id="ref-for-typedef-custom-params①">&lt;custom-params></a>，允许的<a data-link-type="dfn"
                href="#channel-keyword" id="ref-for-channel-keyword①⓪">通道关键字</a>数量和名称如下：</p>
        <ul>
            <li data-md>
                <p>由相应<a class="property" data-link-type="propdesc" href="#descdef-color-profile-components"
                        id="ref-for-descdef-color-profile-components">components</a>描述符定义，若存在；否则，任何相对颜色操作均无效。它们是与<a
                        data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑤">原始颜色</a>通道相对应的<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⓪">&lt;number></a>，在必要时<a
                        href="#required-conversion">转换后</a>匹配颜色配置文件的颜色空间。值 1.0 对应 100%。</p>
        </ul>
        <p>在使用<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①②">相对颜色</a>语法的<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑥">color()</a>函数中，采用<a
                class="production css" data-link-type="type" href="#typedef-predefined-rgb-params"
                id="ref-for-typedef-predefined-rgb-params①">&lt;predefined-rgb-params></a>，允许的<a data-link-type="dfn"
                href="#channel-keyword" id="ref-for-channel-keyword①①">通道关键字</a>如下：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-r">r</dfn>、<dfn class="dfn-paneled css" data-dfn-for="color()"
                        data-dfn-type="value" data-export id="valdef-color-g">g</dfn> 和 <dfn class="dfn-paneled css"
                        data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-b">b</dfn> 均为<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤①">&lt;number></a>，它们对应于<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑥">原始颜色</a>的红色、绿色和蓝色通道，在必要时<a href="#required-conversion">转换后</a>匹配预定义的
                    RGB 颜色空间。值 1.0 对应 100%。</p>
        </ul>
        <p>在使用<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①③">相对颜色</a>语法的<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑦">color()</a>函数中，采用<a
                class="production css" data-link-type="type" href="#typedef-xyz-params"
                id="ref-for-typedef-xyz-params①">&lt;xyz-params></a>，允许的<a data-link-type="dfn" href="#channel-keyword"
                id="ref-for-channel-keyword①②">通道关键字</a>如下：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-x">x</dfn>、<dfn class="dfn-paneled css" data-dfn-for="color()"
                        data-dfn-type="value" data-export id="valdef-color-y">y</dfn> 和 <dfn class="dfn-paneled css"
                        data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-z">z</dfn> 均为<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤②">&lt;number></a>，它们对应于<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑦">原始颜色</a>的 X、Y 和 Z 通道，在必要时<a href="#required-conversion">转换后</a>与相对
                    CIE XYZ 颜色空间匹配。值 1.0 对应 100%。</p>
        </ul>
        <p>在使用<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①④">相对颜色</a>语法的<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑧">color()</a>函数中，使用 <a
                class="production css" data-link-type="type" href="#typedef-predefined-rgb-params"
                id="ref-for-typedef-predefined-rgb-params②">&lt;predefined-rgb-params></a> 或 <a class="production css"
                data-link-type="type" href="#typedef-xyz-params"
                id="ref-for-typedef-xyz-params②">&lt;xyz-params></a>，额外允许的<a data-link-type="dfn"
                href="#channel-keyword" id="ref-for-channel-keyword①③">通道关键字</a>是：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-alpha">alpha</dfn> 是一个<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤③">&lt;number></a>，对应于<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑧">原始颜色</a>的 alpha 透明度。1.0 对应 100%。</p>
        </ul>
        <p>参数的形式如下：</p>
        <ul>
            <li data-md>
                <p>一个<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                        id="ref-for-typedef-ident">&lt;ident></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                        id="ref-for-typedef-dashed-ident①">&lt;dashed-ident></a>，表示颜色空间。如果这是一个<span class="production"
                        id="ref-for-typedef-ident①">&lt;ident></span>，则表示一个预定义的颜色空间，如<a
                        href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> §  10.
                        预定义颜色空间</a>（例如<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#valdef-color-display-p3"
                        id="ref-for-valdef-color-display-p3">display-p3</a>）；如果它是一个<span class="production"
                        id="ref-for-typedef-dashed-ident②">&lt;dashed-ident></span>，则表示由<a class="css"
                        data-link-type="maybe" href="#at-ruledef-profile"
                        id="ref-for-at-ruledef-profile">@color-profile</a>规则定义的自定义颜色空间。个别预定义颜色空间可能会进一步限制是否可以使用<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤④">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑤">&lt;percentage></a>，或两者。</p>
                <p>如果<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                        id="ref-for-typedef-ident②">&lt;ident></a>命名了一个不存在的颜色空间（与预定义颜色空间不匹配的名称），或一个预定义但不受支持的颜色空间，则该参数表示一个<a
                        data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color①">无效颜色</a>。</p>
                <p>如果<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                        id="ref-for-typedef-dashed-ident③">&lt;dashed-ident></a>命名了一个不存在的颜色空间（一个与<a data-link-type="dfn"
                        href="#css-color-profile"
                        id="ref-for-css-color-profile">颜色配置文件</a>的名称不匹配的名称，或匹配但相应的配置文件尚未加载，或不代表有效的配置文件），则该参数表示一个<a
                        data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color②">无效颜色</a>。</p>
            <li data-md>
                <p>一个或多个<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑤">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑥">&lt;percentage></a>，提供颜色空间所需的参数值。</p>
                <p>对于自定义颜色空间，指定的分量值小于0或0%，或大于1或100%并不是无效的；它们将在计算值时被限制在有效范围内。这是因为ICC配置文件通常不接受超出范围的输入值。</p>
                <p>对于自定义颜色空间，如果提供的<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑥">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑦">&lt;percentage></a>多于颜色空间所需的参数，末尾多出的<span class="production"
                        id="ref-for-number-value⑤⑦">&lt;number></span>将被忽略。颜色仍然是<a data-link-type="dfn"
                        href="#valid-color" id="ref-for-valid-color③">有效颜色</a>。</p>
                <p>对于自定义颜色空间，如果提供的<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑧">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑧">&lt;percentage></a>多于可选的组件描述符中列出的组件，末尾的额外值仍然有效，但不能用于相对颜色语法。颜色仍然是<a
                        data-link-type="dfn" href="#valid-color" id="ref-for-valid-color④">有效颜色</a>。</p>
                <p>对于自定义颜色空间，如果提供的<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑨">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑨">&lt;percentage></a>少于颜色空间所需的参数，缺失的参数默认值为<span
                        class="css">0</span>。这对于多通道打印机特别方便，其中额外的墨水是专色或清漆，大多数页面上的颜色不会使用这些墨水。颜色仍然是<a data-link-type="dfn"
                        href="#valid-color" id="ref-for-valid-color⑤">有效颜色</a>。</p>
                <p>对于预定义颜色空间，指定的分量值小于0或0%，或大于1或100%并不是无效的；这些超出范围的颜色将在计算值时被使用相对比色法映射到有效范围内。</p>
            <li data-md>
                <p>一个可选的斜杠分隔的<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value"
                        id="ref-for-typedef-alpha-value①⓪">&lt;alpha-value></a>。如果省略，则默认为<span class="css">100%</span>。
                </p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-RCS-XYZ">
            <a class="self-link" href="#ex-RCS-XYZ"></a> 例如，在CIE XYZ D65颜色空间中使用相对颜色语法生成的颜色具有与基准颜色相同的色度，但亮度减少了一半：
            <pre class="lang-css highlight"><c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(73.58% 48.92% 10.45%)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.7</c-> <c- m>0.5</c-> <c- m>0.1</c-><c- p>);</c->
<c- k>--dark</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(53.617% 35.186% 6.4237%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> xyz-d65 <c- nf>calc</c-><c- p>(</c->x/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->y/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->z/<c- m>2</c-><c- p>));</c->
</pre>
            <p>原始颜色是color(xyz-d65 0.281 0.253 0.044)，因此相对颜色是color(xyz-d65 0.14 0.126 0.022)。</p>
        </div>
        <h3 class="heading settled" data-level="5.2" id="custom-color"><span class="secno">5.2. </span><span
                class="content"> 自定义颜色空间 </span><a class="self-link" href="#custom-color"></a></h3>
        <p>CSS允许通过引用颜色配置文件来指定<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color"
                id="ref-for-color">颜色</a>。
            例如，这可以用于校准的CMYK打印机、
            或RGB颜色空间，
            或任何已进行过特征化的彩色或单色输出设备。</p>
        <div class="example" id="ex-profiles-colors">
            <a class="self-link" href="#ex-profiles-colors"></a> 本示例指定了四种校准颜色：
            两种为自定义空间
            （用于SWOP涂层CMYK印刷机，
            和广色域的七色墨打印机），
            另外两种为预定义空间
            （ProPhoto RGB和display-p3 RGB空间）。
            在每种情况下，数值参数范围为0.0到1.0
            （而不是例如0到255）。
            <pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--swopc <c- m>0.0134</c-> <c- m>0.8078</c-> <c- m>0.7451</c-> <c- m>0.3019</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--indigo <c- m>0.0941</c-> <c- m>0.6274</c-> <c- m>0.3372</c-> <c- m>0.1647</c-> <c- m>0</c-> <c- m>0.0706</c-> <c- m>0.1216</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->prophoto-rgb <c- m>0.9137</c-> <c- m>0.5882</c-> <c- m>0.4784</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.3804</c-> <c- m>0.9921</c-> <c- m>0.1412</c-><c- p>);</c->
</pre>
        </div>
        <p>未使用预定义颜色空间的颜色 <a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> §  10.
                预定义颜色空间</a>，通过使用
            <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident④">&lt;dashed-ident></a>来区分，并且还需要在样式表中某处提供一个匹配的
            <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile②">@color-profile</a>规则，
            以将名称与配置文件数据相关联。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html"
                        title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-profiles-colors-at">
            <a class="self-link" href="#ex-profiles-colors-at"></a>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swopc <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/swop-coated.icc'</c-><c- p>);}</c->
<c- n>@color-profile</c-> --indigo <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/indigo-seven.icc'</c-><c- p>);}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.3" id="at-profile"><span class="secno">5.3. </span><span
                class="content"> 指定颜色配置文件: <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile③">@color-profile</a> at-rule </span><a class="self-link"
                href="#at-profile"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export
                id="at-ruledef-profile">@color-profile</dfn>规则定义并命名了一个<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-local-lt="color profile" data-lt="CSS color profile" data-noexport
                id="css-color-profile">颜色配置文件</dfn>，
            该配置文件可在稍后用于<a class="css" data-link-type="maybe" href="#funcdef-color"
                id="ref-for-funcdef-color⑨">color()</a>函数中指定颜色。</p>
        <p>定义如下:</p>
        <pre class="prod">@color-profile = @color-profile [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑤">&lt;dashed-ident></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧③">|</a> <span class="css">device-cmyk</span>] { <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" id="ref-for-typedef-declaration-list">&lt;declaration-list></a> }
        </pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html"
                        title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <p><a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident⑥">&lt;dashed-ident></a>提供了<a data-link-type="dfn"
                href="#css-color-profile" id="ref-for-css-color-profile①">颜色配置文件的</a>名称，
            该名称将在CSS样式表中使用。
            另一种情况是<span class="css">device-cmyk</span>关键字，
            这意味着如果此颜色配置文件有效，
            将用于解析在<span class="css">device-cmyk</span>中指定的颜色。</p>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile④">@color-profile</a>规则接受本规范中定义的描述符。</p>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-src">src</dfn>
                <tr>
                    <th>用于:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑤">@color-profile</a>
                <tr>
                    <th>值:
                    <td class="prod"><a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#url-value" id="ref-for-url-value">&lt;url></a>
                <tr>
                    <th>初始值:
                    <td>n/a
        </table>
        <p><a class="property" data-link-type="propdesc" href="#descdef-color-profile-src"
                id="ref-for-descdef-color-profile-src">src</a>描述符指定用于检索颜色配置文件信息的URL。</p>
        <p>检索到的ICC配置文件在以下情况下有效：</p>
        <ul>
            <li data-md>
                <p>它可以被解析为ICC配置文件</p>
            <li data-md>
                <p>它是输入、显示、输出或颜色空间ICC配置文件。(禁止使用抽象、设备链接和命名颜色ICC配置文件)。</p>
        </ul>
        <p>如果配置文件无效，所有引用该配置文件的CSS颜色都是<a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color③">无效颜色</a>。
        </p>
        <p>为了<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="fetch-an-external-color-profile">获取外部颜色配置文件</dfn>，
            给定<a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile⑥">@color-profile</a>规则<var>rule</var>，
            使用<var>rule</var>的URL
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#fetch-a-style-resource"
                id="ref-for-fetch-a-style-resource">获取样式资源</a>，
            样式表为<var>rule</var>的<a data-link-type="dfn"
                href="https://www.w3.org/TR/cssom-1/#concept-css-rule-parent-css-style-sheet"
                id="ref-for-concept-css-rule-parent-css-style-sheet">父CSS样式表</a>，
            目标为"color-profile"，
            CORS模式为"cors"，
            processResponse的步骤如下，给定<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response">响应</a>|/res|
            和null、失败或字节流<var>byteStream</var>：
            如果<var>byteStream</var>是字节流，
            将颜色配置文件应用于解析后的|byteStream。
        </p>
        <p class="note" role="note"><span class="marker">注意:</span> ICC配置文件的互联网媒体类型 ("MIME类型")
            是<a
                href="https://www.iana.org/assignments/media-types/application/vnd.iccprofile">application/vnd.iccprofile</a>。
        </p>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-rendering-intent">rendering-intent</dfn>
                <tr>
                    <th>用于:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑦">@color-profile</a>
                <tr>
                    <th>值:
                    <td class="prod">relative-colorimetric <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧④">|</a>
                        absolute-colorimetric <span id="ref-for-comb-one⑧⑤">|</span> perceptual <span
                            id="ref-for-comb-one⑧⑥">|</span> saturation
                <tr>
                    <th>初始值:
                    <td>relative-colorimetric
        </table>
        <p><a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile②">颜色配置文件</a>包含
            “渲染意图”，
            定义了如何<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="gamut-map">色域映射</dfn>它们的颜色到比其定义的范围更小的色域。
            通常配置文件只包含一个意图，
            但当有多个时，
            <a class="property" data-link-type="propdesc" href="#descdef-color-profile-rendering-intent"
                id="ref-for-descdef-color-profile-rendering-intent">rendering-intent</a>描述符选择使用其中之一。
        </p>
        <p>四种可能的渲染意图是<a data-link-type="biblio" href="#biblio-icc"
                title="ICC.1:2022 (Profile version 4.4.0.0)">[ICC]</a>:</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-relative-colorimetric">相对色度</dfn>
            <dd>媒体相对色度渲染意图要求保留源颜色相对于各自媒体白点的不变性。
                落在目标介质色域外的源颜色将被映射到色域边界上的颜色，采用多种不同的方法。
                <p>媒体相对色度渲染意图通常与黑点补偿一起使用，
                    其中源介质的黑点被映射到目标介质的黑点。
                    此方法必须将源白点映射到目标白点。
                    如果使用了黑点补偿，则源黑点也必须映射到目标黑点。
                    颜色的相对关系应在源色域和目标色域内部保持不变，
                    而目标色域之外的颜色可能会发生变化。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export
                    id="valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</dfn>
            <dd>
                ICC-绝对比色法要求保留落在目标介质色域内的源颜色相对于采用的白色（完美的反射漫射体）不变。对于超出目标介质色域的源颜色，使用多种不同的方法将其映射到色域边界上的颜色。此方法可以最精确地匹配色域内的颜色，但如果目标介质的白点低于源介质的白点，则会导致高光剪切。因此，建议仅在需要精确颜色匹配且高光剪切不是问题的应用程序中使用此方法。
                <p>此方法在转换颜色时必须禁用白点匹配和黑点匹配。一般来说，除了测试目的外，不推荐使用此选项。</p>
            </dd>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-perceptual">perceptual</dfn>
            <dd>
                这种方法通常是图像的首选，尤其是在源和目标之间存在较大差异时（例如将屏幕显示的图像再现为反射打印件）。它采用专有方法对源图像的颜色进行重新优化，以适应目标介质。这种重新优化可能会导致源色域和目标色域内的颜色发生变化，尽管感知变换应该在复制过程中保持原作的基本艺术意图。它不会尝试纠正源图像中的错误。
                <p class="note" role="note"><span class="marker">注意：</span>使用v2 ICC配置文件时，没有指定的感知参考介质，这可能会导致互操作性问题。当使用v2
                    ICC配置文件时，除非已经检查过特定的源和目标配置文件并确保它们的组合能产生预期效果，否则更安全的方法是使用带有黑点补偿的媒体相对比色渲染意图，而不是感知渲染意图。</p>
                <p>该方法应保持像素之间的相对颜色值，因为它们被映射到目标设备的色域中。为了避免色相偏移和不连续性，并尽可能保留场景的整体外观，该方法可能会更改最初位于目标设备色域内的像素值。</p>
            </dd>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-saturation">饱和度</dfn>
            <dd> 此选项是为保持原始图像的相对饱和度（色度）以及保持纯色而创建的。然而，类似感知意图，它也经历了互操作性问题，并且由于纯色保留不适合使用参考介质解决方案，因此使用v4配置文件也无法解决问题。除非已经检查了特定的源和目标配置文件，并确保它们的组合能产生预期效果，否则不推荐使用此渲染意图。
                此选项应保持原始像素的相对饱和度（色度）值。超出色域的颜色应转换为具有相同饱和度但落在色域内的颜色。
            </dd>
        </dl>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-components">components</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑧">@color-profile</a>
                <tr>
                    <th>值:
                    <td class="prod"><a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                            id="ref-for-typedef-ident③">&lt;ident></a><a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma①">#</a>
                <tr>
                    <th>初始值:
                    <td>n/a
        </table>
        <p>颜色配置文件可以定义包含多个组件的颜色空间。
            例如，一个青色、品红、黄色和黑色（CMYK）的配置文件有四个组件，分别命名为c, m, y 和 k。
            而一个四组件加法屏幕配置文件可能使用四个组件，命名为r, g, y 和 b。</p>
        <p>该描述符的值是一个用逗号分隔的<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                id="ref-for-typedef-ident④">&lt;ident></a>标记的列表。
            每个<span class="production" id="ref-for-typedef-ident⑤">&lt;ident></span>命名一个组件，
            按照它们在颜色配置文件中使用的顺序排列，而标记的总数定义了组件的数量。</p>
        <div class="example" id="ex-components-cmyk">
            <a class="self-link" href="#ex-components-cmyk"></a> 该描述符声明有四个组件，分别命名为青色、品红色、黄色和黑色:
            <pre>components: cyan, magenta, yellow, black</pre>
            <p>而这个描述符选择了更简洁的名称:</p>
            <pre>components: c,m,y,k</pre>
        </div>
        <div class="example" id="ex-components-cmykogv">
            <a class="self-link" href="#ex-components-cmykogv"></a> 该描述符声明有七个组件，分别命名为青色、品红色、黄色、黑色、橙色、绿色和紫色:
            <pre>components: cyan, magenta, yellow, black, orange, green, violet</pre>
        </div>
        <p>组件名称不得为‘none’，因为这会与缺失值的标记冲突。
            如果该描述符包含名为‘none’的组件，则描述符无效。</p>
        <p>如果为组件选择的名称与<a href="https://www.w3.org/TR/css-values-4/#calc-constants"><cite>CSS Values 4</cite> § 10.7.1
                数值常量: e, pi</a>中定义的CSS数值常量冲突，
            该组件仍然有效，
            但在<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#funcdef-calc"
                id="ref-for-funcdef-calc">calc()</a>中使用时，该组件将被数值常量覆盖，导致意外结果。</p>
        <div class="example" id="ex-component-pi">
            <a class="self-link" href="#ex-component-pi"></a> 该描述符不明智地将一个组件命名为<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-values-4/#valdef-calc-pi" id="ref-for-valdef-calc-pi">pi</a>，
            导致相对颜色语法中的意外结果。
            <pre>@color-profile --unwise {
  src: url(https://example.com/unwise);
  components: mi, pi, ni;
}
--base: color(--unwise 35% 20% 8%);
--accent: color(from var(--base) mi calc(pi * 2) calc(ni / 2));
</pre>
            <p>在这里，--accent 的组件值为35%,
                3.14159265358979 * 2 = 6.28318530717959,
                4%。</p>
        </div>
        <h3 class="heading settled" data-level="5.4" id="cal-cmyk"><span class="secno">5.4. </span><span
                class="content"> CSS和打印: 使用校准的CMYK和其他印刷颜色空间 </span><a class="self-link" href="#cal-cmyk"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile⑨">@color-profile</a> at-rule不仅限于RGB颜色空间。
            虽然屏幕通常直接以RGB显示颜色，
            但打印机通常使用CMYK表示颜色。</p>
        <p>校准的四色打印使用青色、洋红、黄色和黑色(CMYK)，
            或者使用更多墨水的高保真宽色域打印
            如青色洋红黄色黑色橙色绿色紫色(CMYKOGV)
            也可以在CSS中进行，
            前提是你有一个与墨水、纸张、总墨覆盖率和设备
            相对应的ICC配置文件。</p>
        <div class="example" id="ex-fogra">
            <a class="self-link" href="#ex-fogra"></a> 例如，使用ISO 12647-2:2004 / Amd 1:2007标准的胶印，
            使用FOGRA39表征数据
            在115gsm涂布纸上
            总面积覆盖限制为300%。
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --fogra39 <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c-> 
.header <c- p>{</c-> 
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c-> 
<c- p>}</c-> 
</pre>
            <p>在这里，<code>color()</code> 函数首先声明了我们给配置文件起的名字，
                然后给出青色、洋红色、黄色和黑色的百分比。</p>
            <p>在这个配置文件中，这解析为颜色<span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> lab(63.673303%
                51.576902 5.811058)
                即 <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> rgb(93.124%, 44.098%,
                57.491%)。</p>
        </div>
        <p>由于已知特定CMYK组合的实际颜色，
            可以进行打印输出的屏幕可视化（软校色）。</p>
        <p>此外，依赖于已知颜色的程序
            （例如抗锯齿、合成、使用颜色创建渐变等）
            可以正常进行。</p>
        <figure id="fig-fogra51-roundtrip">
            <object data="https://www.w3.org/TR/css-color-5/images/macbeth-roundtrip.svg" height="500" width="720">
                <p>一张由彩色方块组成的网格图。有六列，
                    标签为A到F，
                    和四行，
                    标签为1到4。</p>
            </object>
            <figcaption>
                <p>色彩检查器，用于确保印刷和摄影行业的色彩保真度。
                    每个色块的平均Lab值都是可用的。
                    矩形显示了Lab值，转换为sRGB。
                    圆圈显示了Lab值，
                    通过FOGRA51 ICC配置文件将其转换为CMYK。
                    然后通过相同的ICC配置文件反向通过CMYK值，
                    产生新的Lab值。这些值随后被转换为sRGB以进行显示。</p>
                <p>第三行第一个色块的圆圈更明显，
                    因为该颜色稍微超出了所使用的FOGRA51 CMYK色域。</p>
                <p>下表显示了每个色块在通过CMYK循环后
                    原始Lab值和Lab值之间的DeltaE 2000。
                    DeltaE 2000为1或更大时就能被肉眼察觉。</p>
                <table class="deltaE">
                    <tbody>
                        <tr>
                            <th>
                            <th>A
                            <th>B
                            <th>C
                            <th>D
                            <th>E
                            <th>F
                        <tr>
                            <th>1
                            <td class="dE0">0.06
                            <td class="dE0">0.07
                            <td class="dE0">0.03
                            <td class="dE0">0.04
                            <td class="dE0">0.06
                            <td class="dE0">0.17
                        <tr>
                            <th>2
                            <td class="dE0">0.03
                            <td class="dE0">0.75
                            <td class="dE0">0.05
                            <td class="dE0">0.06
                            <td class="dE0">0.03
                            <td class="dE0">0.02
                        <tr>
                            <th>3
                            <td class="dE2">1.9
                            <td class="dE0">0.04
                            <td class="dE0">0.06
                            <td class="dE0">0.05
                            <td class="dE0">0.02
                            <td class="dE0">0.05
                        <tr>
                            <th>4
                            <td class="dE0">0.03
                            <td class="dE0">0.08
                            <td class="dE0">0.03
                            <td class="dE0">0.03
                            <td class="dE0">0.04
                            <td class="dE0">0.80
                </table>
            </figcaption>
        </figure>
        <div class="example" id="ex-swop5v2">
            <a class="self-link" href="#ex-swop5v2"></a> 此示例使用ISO 12647-2:2004标准的胶印，
            使用CGATS/SWOP TR005 2007表征数据
            在5号纸上
            墨水覆盖限制为300%，
            并使用中度灰色成分替换（GCR）。
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swop5c <c- p>{</c-> 
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c-> 
<c- p>}</c-> 
.header <c- p>{</c-> 
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c-> 
<c- p>}</c-> 
</pre>
            <p>在这个配置文件中，给定的CMYK百分比
                （与上一个例子相同）
                解析为颜色<span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span>
                lab(64.965217% 52.119710 5.406966)
                即 <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span> rgb(94.903%, 45.248%,
                59.104%)。</p>
        </div>
        <p>可以指定备用颜色，
            例如使用媒体查询，
            以防指定的CMYK颜色已知超出sRGB色域。</p>
        <div class="example" id="ex-fogra39-fallback-mq">
            <a class="self-link" href="#ex-fogra39-fallback-mq"></a> 此示例使用之前相同的FOGRA39设置，
            但指定了一个超出sRGB色域的亮绿色。
            然而，它在display-p3色域内。
            因此，在宽色域屏幕上和打印时按原样显示，
            在sRGB屏幕上则使用较不鲜艳的备用颜色。
            <pre class="lang-css highlight"><c- n>@media</c-> <c- p>(</c->color-gamut: srgb<c- p>)</c-> <c- p>{</c-> 
  .header <c- p>{</c-> 
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>8.154</c-><c- k>%</c-> <c- m>60.9704</c-><c- k>%</c-> <c- m>37.184</c-><c- k>%</c-><c- p>);</c-> 
    <c- p>}</c-> 
<c- p>}</c-> 
<c- n>@media</c-> print<c- p>,</c-> <c- p>(</c->color-gamut: p3<c- p>){</c-> 
  .header <c- p>{</c-> 
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch oog" style="--color: rgb(0% 62.06% 34%)"></span> <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c-> 
    <c- p>}</c-> 
<c- p>}</c-> 
</pre>
            <p>该CMYK颜色对应于lab(56.596645% -58.995875 28.072154)
                或lch(56.596645% 65.33421077211648 154.5533771086801)。
                在sRGB中，这将是rgb(-60.568% 62.558% 32.390%)，如大负红分量所示，
                超出了色域。</p>
            <p>减少色度直到结果在色域内
                给出<span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> lch(56.596645% 51
                154.5533771086801)
                这是<span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> rgb(8.154% 60.9704%
                37.184%)，
                这已被手动指定为备用颜色。</p>
            <p>对于宽色域屏幕，颜色在display-p3色域内
                （即display-p3(0.1658 0.6147 0.3533)）。</p>
        </div>
        <p>颜色不限于四种墨水（CMYK）。例如，可以使用宽色域7色墨水集。</p>
        <div class="example" id="ex-fogra55beta-7color">
            <a class="self-link" href="#ex-fogra55beta-7color"></a> 此示例使用用于KCMYOGV七色印刷的FOGRA55测试数据。
            四种墨水 - 黑色、青色、洋红色和黄色 - 与FOGRA51集相同，
            并产生相同的结果。
            另外三种墨水是：
            <ul>
                <li>Pantone Orange 021C
                <li>Pantone Green C
                <li>Pantone Violet C
            </ul>
            <p>测量条件是M1，
                这意味着考虑到了纸张中的光学增白剂，
                并且分光光度计没有紫外线过滤器。</p>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --fogra55beta <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/2020_13.003_FOGRA55beta_CL_Profile.icc'</c-><c- p>);</c->
<c- p>}</c->
.dark_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(45.8702% 32.0071% 26.3813%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.183596</c-> <c- m>0.464444</c-> <c- m>0.461729</c-> <c- m>0.612490</c-> <c- m>0.156903</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.light_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(78.0170% 58.1957% 50.7737%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.070804</c-> <c- m>0.334971</c-> <c- m>0.321802</c-> <c- m>0.215606</c-> <c- m>0.103107</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_sky <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(35.8614% 48.0665% 61.6556%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.572088</c-> <c- m>0.229346</c-> <c- m>0.081708</c-> <c- m>0.282044</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.168260</c-><c- p>);</c->
<c- p>}</c->
.foliage <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(34.9582% 42.3446% 25.4209%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.314566</c-> <c- m>0.145687</c-> <c- m>0.661941</c-> <c- m>0.582879</c-> <c- m>0.000000</c-> <c- m>0.234362</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_flower <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.2952% 50.4131% 68.9186%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.375515</c-> <c- m>0.259934</c-> <c- m>0.034849</c-> <c- m>0.107161</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.308200</c-><c- p>);</c->
<c- p>}</c->
.bluish_green <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(36.8792% 74.3685% 67.4749%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.397575</c-> <c- m>0.010047</c-> <c- m>0.223682</c-> <c- m>0.031140</c-> <c- m>0.000000</c-> <c- m>0.317066</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.5" id="cmyk-to-lab"><span class="secno">5.5. </span><span
                class="content"> 将 CMYK 颜色转换为 Lab </span><a class="self-link" href="#cmyk-to-lab"></a></h3>
        <p>从校准的 CMYK 颜色空间到 Lab 的转换
            通常是通过在 ICC 配置文件中查找 Lab 值来完成的。</p>

        <h3 class="heading settled" data-level="5.6" id="lab-to-cmyk"><span class="secno">5.6. </span><span
                class="content"> 将 Lab 颜色转换为 CMYK </span><a class="self-link" href="#lab-to-cmyk"></a></h3>
        <p>对于打印，
            Lab 颜色需要转换为打印机的颜色空间。</p>
        <p>这通常是通过在 ICC 配置文件中查找 CMYK 值来完成的。</p>

        <h2 class="heading settled" data-level="6" id="device-cmyk"><span class="secno">6. </span><span class="content">
                未校准的 CMYK 颜色： <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk②">device-cmyk()</a> 函数 </span><a class="self-link"
                href="#device-cmyk"></a></h2>
        <p>有时，当某个打印机未进行校准时，
            但通过实验或通过打印样本色卡已知某些墨水组合的输出结果时，
            以设备相关的方式表示 CMYK 颜色会很有用。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 由于实际结果颜色可能未知，
            CSS 处理器可能会尝试对其进行近似。
            这种近似可能与实际的打印结果在视觉上相差很大。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk③">device-cmyk()</a> 函数允许作者以这种方式指定颜色：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-device-cmyk">device-cmyk()</dfn> = <a class="production" data-link-type="type" href="#typedef-legacy-device-cmyk-syntax" id="ref-for-typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑦">|</a> <a class="production" data-link-type="type" href="#typedef-modern-device-cmyk-syntax" id="ref-for-typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a>
    <dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥⓪">&lt;number></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma②">#{4}</a> )
    <dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="#typedef-cmyk-component" id="ref-for-typedef-cmyk-component">&lt;cmyk-component></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num④">{4}</a> [ / [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-5/#typedef-alpha-value" id="ref-for-typedef-alpha-value①①">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑧">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none①">none</a> ] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②①">?</a> )
    <dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-cmyk-component">&lt;cmyk-component></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑨">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value③⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⓪">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none②">none</a>
    </pre>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk④">device-cmyk()</a> 函数的参数依次指定青色、洋红色、黄色和黑色成分，
            其值为0到1之间的数字，
            或者在现代语法中，为0%到100%之间的百分比。
            这两种用法是等价的，且线性映射。
            小于0或0%的值，或大于1或100%的值，
            并非无效；
            相反，它们将在计算值时被限定为0/0%或1/100%。</p>
        <p>在现代语法中，第五个参数指定颜色的 Alpha 通道。
            它的解释方式与 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-5/#funcdef-rgb"
                id="ref-for-funcdef-rgb③">rgb()</a> 函数的第四个参数相同。
            如果省略，它默认值为 <span class="css">100%</span>。</p>
        <p>由于 <a href="https://www.w3.org/TR/2011/WD-css3-gcpm-20111129/#cmyk-colors">历史原因</a>，<a class="css"
                data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk⑤">device-cmyk()</a>
            还支持 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                id="ref-for-legacy-color-syntax②">旧版颜色语法</a>。</p>
        <p>通常，基于打印的应用程序实际上会将使用的颜色存储为 CMYK，
            并以这种形式将其发送到打印机。
            但是，这些颜色没有色度解释，
            因此不能用于渐变、合成、混合等。</p>
        <p>因此，设备 CMYK 颜色必须转换为等效颜色。
            这并不简单，像从 HSL 或 HWB 到 RGB 的转换一样；
            精确的转换取决于输出设备的精确特性。</p>
        <ol>
            <li>如果用户、作者或用户代理样式表
                对 device-cmyk 有 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile①⓪">@color-profile</a> 定义，
                且可以检索到 src 描述符指定的资源，
                且资源是有效的 CMYK ICC 配置文件，
                且用户代理能够处理 ICC 配置文件，
                则 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk⑥">device-cmyk()</a> 函数的计算值
                必须是 CMYK 颜色的 Lab 值。
            <li>否则，
                <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk⑦">device-cmyk()</a> 函数的计算值必须是
                CMYK 颜色的 sRGB 值，
                按照以下简单的转换算法转换。
        </ol>
        <div class="example" id="ex-device-cmyk-naive">
            <a class="self-link" href="#ex-device-cmyk-naive"></a> 例如，没有 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①①">@color-profile</a> 时，
            使用简单转换，以下颜色是等效的。
            <pre
                class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
    <c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>178</c-> <c- m>34</c-> <c- m>34</c-><c- p>);</c->
    <c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> firebrick<c- p>;</c-></pre>
        </div>
        <div class="example" id="ex-device-cmyk-colprof">
            <a class="self-link" href="#ex-device-cmyk-colprof"></a> 在示例样式表中指定了 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①②">@color-profile</a> 时，
            使用色度转换，以下颜色是等效的。
            <pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>45.060</c-><c- k>%</c-> <c- m>45.477</c-> <c- m>35.459</c-><c- p>)</c->
color: <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>70.690</c-><c- k>%</c-> <c- m>26.851</c-><c- k>%</c-> <c- m>19.724</c-><c- k>%</c-><c- p>);</c->
</pre>
        </div>
        <p>简单转换必然是近似的，
            因为它不了解墨水的色度、
            点增益、
            RGB 空间的色度等。</p>
        <figure id="fig-naive-cmyk">
            <object data="https://www.w3.org/TR/css-color-5/images/macbeth-naive.svg" height="450" width="670">
                <p>一个彩色方块网格。共有六列，
                    标签为 A 到 F，
                    四行，
                    标签为 1 到 4。</p>
            </object>
            <figcaption>
                <p>一个色卡，用于确保打印和摄影行业的色彩保真度。
                    每个色块的平均测量 Lab 值都可用。
                    矩形显示了 Lab 值，转换为 sRGB。
                    圆圈显示了 Lab 值，通过 ICC 配置文件转换为 CMYK。
                    然后，CMYK 值被简单地转换为 sRGB。</p>
                <p>下表显示了每个色块的 DeltaE 2000，
                    即经过 CMYK 往返后原始 Lab 和 Lab 值之间的差异。
                    DeltaE 2000 大于或等于 1 则可以被肉眼察觉，而大于 5 则完全是不同的颜色。</p>
                <table class="deltaE">
                    <tbody>
                        <tr>
                            <th>
                            <th>A
                            <th>B
                            <th>C
                            <th>D
                            <th>E
                            <th>F
                        <tr>
                            <th>1
                            <td class="dE5">11.33
                            <td class="dE5">9.36
                            <td class="dE5">5.66
                            <td class="dE5">7.52
                            <td class="dE5">12.39
                            <td class="dE5">21.58
                        <tr>
                            <th>2
                            <td class="dE5">6.40
                            <td class="dE5">8.79
                            <td class="dE5">11.77
                            <td class="dE5">17.16
                            <td class="dE5">11.91
                            <td class="dE3">3.97
                        <tr>
                            <th>3
                            <td class="dE5">12.1
                            <td class="dE5">17.00
                            <td class="dE3">3.38
                            <td class="dE1">1.94
                            <td class="dE5">18.08
                            <td class="dE5">14.97
                        <tr>
                            <th>4
                            <td class="dE1">1.89
                            <td class="dE5">6.56
                            <td class="dE5">7.85
                            <td class="dE5">8.76
                            <td class="dE5">9.82
                            <td class="dE5">10.29
                    </tbody>
                </table>
            </figcaption>
        </figure>
        <h3 class="heading settled" data-level="6.1" id="cmyk-rgb"><span class="secno">6.1. </span><span
                class="content"> 在未校准的 CMYK 和基于 sRGB 的颜色之间进行简单转换 </span><a class="self-link" href="#cmyk-rgb"></a></h3>
        <p>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="简单地从 CMYK 转换为 RGBA | 简单地转换为 RGBA"
                id="naively-convert-from-cmyk-to-rgba">简单地从 CMYK 转换为 RGBA</dfn>：</p>
        <ul class="lang-javascript">
            <li><code
                    class="highlight">red <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li><code
                    class="highlight">green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li><code
                    class="highlight">blue <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li>Alpha 与输入颜色相同。
        </ul>
        <p>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="简单地从 RGBA 转换为 CMYK | 简单地转换为 CMYK"
                id="naively-convert-from-rgba-to-cmyk">简单地从 RGBA 转换为 CMYK</dfn>：</p>
        <ul class="lang-javascript">
            <li><code
                    class="highlight">black <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> max<c- p>(</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>)</c-></code>
            <li><code
                    class="highlight">cyan <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> red <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> 或当 black 为 <c- mf>1</c-> 时，cyan 为 <c- mf>0</c-></code>
            <li><code
                    class="highlight">magenta <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> green <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> 或当 black 为 <c- mf>1</c-> 时，magenta 为 <c- mf>0</c-></code>
            <li><code
                    class="highlight">yellow <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> blue <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> 或当 black 为 <c- mf>1</c-> 时，yellow 为 <c- mf>0</c-></code>
            <li>alpha 与输入颜色相同。
        </ul>

        <h2 class="heading settled" data-level="7" id="light-dark"><span class="secno">7. </span><span class="content">
                响应使用的颜色方案：<a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark③">light-dark()</a> 函数 </span><a class="self-link"
                href="#light-dark"></a></h2>
        <p>系统颜色能够响应当前使用的 <span class="css">color-scheme</span> 值。
            <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                id="ref-for-funcdef-light-dark④">light-dark()</a> 函数向作者公开了相同的功能。
        </p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-light-dark">light-dark()</dfn> = light-dark( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑤">&lt;color></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma①">,</a> <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑥">&lt;color></a> )
</pre>
        <p>如果 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme"
                id="ref-for-used-color-scheme">使用的颜色方案</a>是 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light"
                id="ref-for-valdef-color-scheme-light">light</a> 或未知，
            则该函数计算为第一个颜色的计算值；
            如果 <span id="ref-for-used-color-scheme①">使用的颜色方案</span>是 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark"
                id="ref-for-valdef-color-scheme-dark">dark</a>，则计算为第二个颜色的计算值。</p>

        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-basic.html"
                        title="css/css-color/light-dark-basic.html">light-dark-basic.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/light-dark-basic.html"><small>(实时测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-basic.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor.html"
                        title="css/css-color/light-dark-currentcolor.html">light-dark-currentcolor.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/light-dark-currentcolor.html"><small>(实时
                            测试)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-inheritance.html"
                        title="css/css-color/light-dark-inheritance.html">light-dark-inheritance.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/light-dark-inheritance.html"><small>(实时
                            测试)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-inheritance.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor-in-color.html"
                        title="css/css-color/light-dark-currentcolor-in-color.html">light-dark-currentcolor-in-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/light-dark-currentcolor-in-color.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor-in-color.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h2 class="heading settled" data-level="8" id="contrast-color"><span class="secno">8. </span><span
                class="content"> 动态指定具有足够对比度的文本颜色：<a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                    id="ref-for-funcdef-contrast-color">contrast-color()</a> 函数 </span><a class="self-link"
                href="#contrast-color"></a></h2>
        <p>当颜色是动态生成时，指定与背景颜色具有足够对比度的文本颜色常常是一个挑战。
            <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color①">contrast-color()</a> 函数在用作纯色背景时，自动提供具有保证对比度的文本颜色。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>可读性是一个复杂的话题，足够的颜色对比度只是其中的一部分。
            具有足够对比度的颜色对并不能保证文本可读性，还依赖于多种因素，例如字体、文本大小、周围颜色等。</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-contrast-color">contrast-color()</dfn> = contrast-color( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑦">&lt;color></a> max<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②②">?</a> )
</pre>
        <p>如果指定了 <span class="css">max</span>'，则该函数计算为 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-white" id="ref-for-valdef-color-white">白色</a>
            或 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-black"
                id="ref-for-valdef-color-black">黑色</a>，具体取决于哪种颜色在输入颜色作为纯背景时能提供 _最大_ 颜色对比度。
            如果两种颜色产生相同的对比度，函数应返回 <span class="css" id="ref-for-valdef-color-white①">白色</span>。</p>
        <p>如果未指定 <span class="css">max</span>'，则函数计算为一个 <em>非常浅</em> 或 <em>非常深</em> 的颜色（它<em>可能</em>仍然是白色或黑色），
            这种颜色在用作文本颜色时与输入颜色作为纯背景的对比度良好。
            如果指定了 <span class="css">max</span>，并且函数将返回 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-white"
                id="ref-for-valdef-color-white②">白色</a>，则该函数必须返回浅色；
            如果指定了 <span class="css">max</span>，并且函数将返回 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-black"
                id="ref-for-valdef-color-black①">黑色</a>，则该函数必须返回深色。</p>
        <p class="note" role="note"><span class="marker">注意：</span>对于这些颜色的具体要求（例如，它们需要多接近白色或黑色）以及应使用的颜色差异度量标准仍在讨论中。</p>
        <p>确定是否输出浅色或深色的具体颜色对比算法由 UA 决定，与此同时，当省略 <span class="css">max</span>' 时，返回的具体颜色也是由 UA 决定的。</p>
        <p class="note" role="note"><span class="marker">注意：</span>未来版本的规范预计将引入更多的控制，涉及对比算法、使用场景以及返回的颜色。</p>
        <p>建议 UA 不仅仅使用 WCAG 2.1 中的 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">1.4.3 对比度（最低）</a>
            对比度算法来决定浅色和深色，因为它存在<a href="https://www.cedc.tools/article.html">若干已知问题</a>。
            但是，由该函数返回的颜色仍应符合 WCAG 2.1 中的 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">1.4.3 对比度（最低）</a>对于 AA
            大文本的要求，
            因为许多作者需要遵守法律要求。</p>
        <h2 class="heading settled" data-level="9" id="interpolation"><span class="secno">9. </span><span
                class="content"> 颜色插值 </span><a class="self-link" href="#interpolation"></a></h2>
        <h3 class="heading settled" data-level="9.1" id="interpolation-space"><span class="secno">9.1. </span><span
                class="content"> 插值的颜色空间 </span><a class="self-link" href="#interpolation-space"></a></h3>
        <p><a class="production css" data-link-type="type" href="#color-interpolation-method"
                id="ref-for-color-interpolation-method①">&lt;color-interpolation-method></a> 已扩展为允许使用
            <a href="#custom-color">自定义颜色空间</a>：
        </p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-space">&lt;color-space></dfn> = <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨①">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space">&lt;polar-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨②">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space">&lt;custom-color-space></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-rectangular-color-space">&lt;rectangular-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb" id="ref-for-valdef-color-srgb①">srgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨③">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" id="ref-for-valdef-color-srgb-linear">srgb-linear</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨④">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" id="ref-for-valdef-color-display-p3①">display-p3</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑤">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" id="ref-for-valdef-color-a98-rgb">a98-rgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑥">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" id="ref-for-valdef-color-prophoto-rgb">prophoto-rgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑦">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" id="ref-for-valdef-color-rec2020">rec2020</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑧">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lab-lab" id="ref-for-valdef-lab-lab">lab</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑨">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" id="ref-for-valdef-oklab-oklab">oklab</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⓪">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz" id="ref-for-valdef-color-xyz①">xyz</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪①">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d50" id="ref-for-valdef-color-xyz-d50">xyz-d50</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪②">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" id="ref-for-valdef-color-xyz-d65">xyz-d65</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-polar-color-space">&lt;polar-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" id="ref-for-valdef-hsl-hsl②">hsl</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪③">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" id="ref-for-valdef-hwb-hwb">hwb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪④">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch" id="ref-for-valdef-lch-lch②">lch</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑤">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" id="ref-for-valdef-oklch-oklch">oklch</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-color-space">&lt;custom-color-space></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑦">&lt;dashed-ident></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-hue-interpolation-method">&lt;hue-interpolation-method></dfn> = [ shorter <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑥">|</a> longer <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑦">|</a> increasing <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑧">|</a> decreasing ] hue
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="color-interpolation-method">&lt;color-interpolation-method></dfn> = in [ <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space①">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑨">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space①">&lt;polar-color-space></a> <a class="production" data-link-type="type" href="#typedef-hue-interpolation-method" id="ref-for-typedef-hue-interpolation-method③">&lt;hue-interpolation-method></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②③">?</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①⓪">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space①">&lt;custom-color-space></a> ]
</pre>
        <p><a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident⑧">&lt;dashed-ident></a> 必须已在有效的
            <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile①③">@color-profile</a> 规则中声明，
            否则 <a class="production css" data-link-type="type" href="#color-interpolation-method"
                id="ref-for-color-interpolation-method②">&lt;color-interpolation-method></a> 无效。
        </p>
        <h2 class="heading settled" data-level="10" id="resolving-color-values"><span class="secno">10. </span><span
                class="content"> 解析 <a class="production css" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color①⑧">&lt;color></a> 值 </span><a class="self-link"
                href="#resolving-color-values"></a></h2>
        <h3 class="heading settled" data-level="10.1" id="resolving-mix"><span class="secno">10.1. </span><span
                class="content"> 解析 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix⑤">color-mix()</a> 值 </span><a class="self-link"
                href="#resolving-mix"></a></h3>
        <p>如果所有 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color①⑨">&lt;color></a> 参数解析为其各自颜色空间中的对应颜色，
            则计算值为混合后的颜色，
            在指定的混合颜色空间中，
            按照 <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color
                    4</cite> §  14. 解析 &lt;color> 值</a> 的方法解析。
            否则（如果 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor①">currentColor</a> 在函数中使用），
            计算值为 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑥">color-mix()</a> 函数，
            并且每个 <span class="production" id="ref-for-typedef-color②⓪">&lt;color></span> 参数按照
            <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> § 
                14. 解析 &lt;color> 值</a> 的方法解析，
            以此保持继承到子元素。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-001.html"
                        title="css/css-color/color-mix-currentcolor-001.html">color-mix-currentcolor-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-001.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-002.html"
                        title="css/css-color/color-mix-currentcolor-002.html">color-mix-currentcolor-002.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-002.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-002.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-003.html"
                        title="css/css-color/color-mix-currentcolor-003.html">color-mix-currentcolor-003.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-003.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-003.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-nested-for-color-property.html"
                        title="css/css-color/color-mix-currentcolor-nested-for-color-property.html">color-mix-currentcolor-nested-for-color-property.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/nested-color-mix-with-currentcolor.html"
                        title="css/css-color/nested-color-mix-with-currentcolor.html">nested-color-mix-with-currentcolor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/nested-color-mix-with-currentcolor.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/nested-color-mix-with-currentcolor.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="10.2" id="resolving-rcs"><span class="secno">10.2. </span><span
                class="content"> 解析相对颜色语法值 </span><a class="self-link" href="#resolving-rcs"></a></h3>
        <p>如果所有 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②①">&lt;color></a> 参数解析为其各自颜色空间中的对应颜色，
            则计算值为绝对 <span class="production" id="ref-for-typedef-color②②">&lt;color></span> 值，
            在指定的 RCS 颜色空间中，
            按照 <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color
                    4</cite> §  14. 解析 &lt;color> 值</a> 的方法解析。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html"
                        title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html"
                        title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <p>否则（如果 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor②">currentColor</a> 在函数中使用），
            计算值为相对颜色语法函数，
            其源 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②③">&lt;color></a> 参数根据 <a
                href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> §  14.
                解析 &lt;color> 值</a> 的方法解析，
            以此保持继承到子元素。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html"
                        title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html"
                        title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                        title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html"
                        title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html"
                        title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html"
                        title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html"
                        title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                        title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html"
                        title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="10.3" id="resolving-device-cmyk-values"><span class="secno">10.3.
            </span><span class="content"> 解析 <span class="css">device-cmyk</span> 值 </span><a class="self-link"
                href="#resolving-device-cmyk-values"></a></h3>
        <p>计算值和使用值为指定的设备专用 CMYK 颜色
            （组件为 <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value⑥②">&lt;number></a>，
            而不是 <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value③①">&lt;percentage></a>），
            配对的 alpha 通道为指定值
            （为 <span class="production" id="ref-for-number-value⑥③">&lt;number></span>，而不是 <span class="production"
                id="ref-for-percentage-value③②">&lt;percentage></span>；
            如果未指定，则默认为不透明）。
        </p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#actual-value"
                id="ref-for-actual-value">实际值</a> 可能根据操作而有所不同；
            对于支持 CMYK 的设备，可以呈现为 CMYK 颜色；
            对于与非 CMYK 颜色的混合或在非 CMYK 设备上渲染时，
            必须按 <a href="#device-cmyk">§ 6 未校准的 CMYK 颜色：device-cmyk() 函数</a> 中的规定进行转换。
        </p>
        <div class="example" id="ex-device-cmyk-used">
            <a class="self-link" href="#ex-device-cmyk-used"></a> 例如，
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>具有指定值和实际值</p>
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>0.7</c-> <c- m>0.2</c-> <c- m>0</c-><c- p>)</c->
</pre>
            <p>如果实现支持 ICC 配置文件并安装了合适的配置文件，
                则使用的值将是
            </p>
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>63.673</c-><c- k>%</c-> <c- m>51.577</c-> <c- m>5.811</c-><c- p>)</c->
</pre>
            <p class="note" role="note"><span class="marker">注意：</span>与所有颜色一样，使用值不可通过脚本获取。</p>
        </div>
        <h2 class="heading settled" data-level="11" id="serial"><span class="secno">11. </span><span class="content">
                序列化 </span><a class="self-link" href="#serial"></a></h2>
        <p>本节扩展了 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color
                    4</cite> §  15. 序列化 &lt;color> 值</a>，添加了
            <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑦">color-mix()</a>、
            <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑧">device-cmyk()</a>，
            和相对颜色函数的序列化结果。
        </p>
        <p>在本节中，规范中使用的字符串及其对应字符如下。</p>
        <table class="data">
            <tbody>
                <tr>
                    <th>字符串
                    <th>字符
                <tr>
                    <td>" "
                    <td>U+0020 空格
                <tr>
                    <td>","
                    <td>U+002C 逗号
                <tr>
                    <td>"-"
                    <td>U+002D 连字符-减号
                <tr>
                    <td>"."
                    <td>U+002E 句号
                <tr>
                    <td>"/"
                    <td>U+002F 斜杠
        </table>
        <p>字符串“.”应作为小数点分隔符使用，
            无论地区如何，并且不应使用千位分隔符。
        </p>
        <p>通常情况下，
            如果结果的 alpha 值正好为 1，
            它将在序列化时省略；
            默认隐含值为 1（完全不透明）。
        </p>
        <h3 class="heading settled" data-level="11.1" id="serial-color-mix"><span class="secno">11.1. </span><span
                class="content"> 序列化 color-mix() </span><a class="self-link" href="#serial-color-mix"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑧">color-mix()</a> 函数
            的声明值的序列化为字符串 "color-mix(in "，
            然后是指定的 <a class="production css" data-link-type="type" href="#typedef-color-space"
                id="ref-for-typedef-color-space②">&lt;color-space></a>，全部为小写，
            然后是 ", "，
            然后是第一个指定的颜色，
            然后是空格，
            然后是指定的（未归一化的）第一个百分比（除非两个百分比都为 50%），
            然后是 ", "，
            然后是第二个指定的颜色，
            然后是指定的（未归一化的）第二个百分比
            （除非两个指定的百分比加起来为 100%），
            最后是 ")"。
        </p>
        <p>遵循最短序列化原则，
            通常省略第二个百分比，
            即使显式指定了它。
        </p>
        <div class="example" id="ex-serial-specified-mix">
            <a class="self-link" href="#ex-serial-specified-mix"></a> 例如，声明值的序列化
            <pre>color-mix(in oklab, teal, peru 40%)</pre>
            <p>将是字符串 "color-mix(in oklab, teal 60%, peru)"。</p>
            <p>声明值的序列化</p>
            <pre>color-mix(in oklab, teal 50%, peru 50%)</pre>
            <p>将是字符串 "color-mix(in oklab, teal, peru)"。</p>
            <p>声明值的序列化</p>
            <pre>color-mix(in oklab, teal 70%, peru 70%)</pre>
            <p>将是字符串 "color-mix(in oklab, teal 70%, peru 70%)"。
                因为这些在百分比归一化后才发现归一化为 50%。
            </p>
        </div>
        <p> <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑨">color-mix()</a> 函数结果的序列化
            取决于混合中是否使用了关键字 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor③">currentColor</a>。
            如果是，则结果序列化为声明值。
            这样可以在子元素中正确使用颜色混合，
            其中 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-5/#valdef-attr-color"
                id="ref-for-valdef-attr-color">color</a>
            属性具有不同的值。
            否则，
            它将被序列化为 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②④">&lt;color></a>，
            如 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite>
                §  15. 序列化 &lt;color> 值</a> 中定义。
            使用的形式取决于 "in" 中指定的颜色空间：
        </p>
        <table class="data">
            <tbody>
                <tr>
                    <th>混合颜色空间
                    <th>形式
                <tr>
                    <td>srgb
                    <td>color(srgb r g b)
                <tr>
                    <td>srgb-linear
                    <td>color(srgb-linear r g b)
                <tr>
                    <td>hsl
                    <td>color(srgb r g b)
                <tr>
                    <td>hwb
                    <td>color(srgb r g b)
                <tr>
                    <td>xyz-d65
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>xyz-d50
                    <td>color(xyz-d50 x y z)
                <tr>
                    <td>xyz
                    <td>color(xyz-d65 x y z) <a href="#fn1">¹</a>
                <tr>
                    <td>lab
                    <td>lab(l a b)
                <tr>
                    <td>lch
                    <td>lch(l c h)
                <tr>
                    <td>oklab
                    <td>oklab(l a b)
                <tr>
                    <td>oklch
                    <td>oklch(l c h)
        </table>
        <dl>
            <dt id="fn1"><a class="self-link" href="#fn1"></a>¹
            <dd>因为 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz"
                    id="ref-for-valdef-color-xyz②">xyz</a> 只是 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65"
                    id="ref-for-valdef-color-xyz-d65①">xyz-d65</a> 的别名
        </dl>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"
                        title="css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html">color-mix-currentcolor-visited-getcomputedstyle.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited.html"
                        title="css/css-color/color-mix-currentcolor-visited.html">color-mix-currentcolor-visited.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-visited.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <p>对回传的<em>最小</em>精度与 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color
                    4</cite> §  15.
                序列化 &lt;color> 值</a> 中指定的精度相同。
        </p>
        <div class="example" id="ex-serial-computed-color-mix">
            <a class="self-link" href="#ex-serial-computed-color-mix"></a> 颜色混合的结果
            <pre>color-mix(in lch, peru 40%, palegoldenrod)</pre>
            <p>序列化为字符串 <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
                "lch(79.7256 40.448 84.771)"，
                而颜色混合的结果
            </p>
            <pre>color-mix(in srgb, peru 40%, palegoldenrod)</pre>
            <p>序列化为字符串 <span class="swatch" style="--color: rgb(88.16% 75.45% 49.88%)"></span>
                "color(srgb 0.8816 0.7545 0.4988)"。
            </p>
        </div>
        <h3 class="heading settled" data-level="11.2" id="serial-relative-color"><span class="secno">11.2. </span><span
                class="content"> 序列化相对颜色函数 </span><a class="self-link" href="#serial-relative-color"></a></h3>
        <p>相对颜色函数声明值的序列化是一个字符串，标识该颜色函数，全部为小写，紧随其后的是 "(from "，
            然后是源颜色的声明值序列化，
            再接着是一个空格，
            然后是以单空格分隔的颜色函数参数列表，
            最后是 ")"。</p>
        <div class="example" id="ex-serial-rcs-specified-simple">
            <a class="self-link" href="#ex-serial-rcs-specified-simple"></a> 例如，序列化后的声明值
            <pre class="lang-css highlight"><c- nf>OkLcH</c-><c- p>(</c->from peru  l    c  h<c- p>)</c-></pre>
            <p>是字符串 "oklch(from peru l c h)"</p>
        </div>
        <p>相对颜色函数的结果的序列化
            取决于关键字 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor④">currentColor</a> 是否为
            <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑨">源颜色</a>。
            如果是，则结果被序列化为声明值。
            这样可以在子元素中正确使用该值，
            其中 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-5/#valdef-attr-color"
                id="ref-for-valdef-attr-color①">color</a> 属性具有不同的值。
            否则，
            它将被解析为
            <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑤">&lt;color></a>，
            如 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite>
                §  15. 序列化 &lt;color> 值</a> 中定义。
        </p>
        <p>使用的形式
            取决于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④⓪">源颜色</a> 的颜色空间：
        </p>
        <table class="data">
            <tbody>
                <tr>
                    <th>混合颜色空间
                    <th>形式
                <tr>
                    <td>srgb
                    <td>color(srgb r g b)
                <tr>
                    <td>srgb-linear
                    <td>color(srgb-linear r g b)
                <tr>
                    <td>hsl
                    <td>color(srgb r g b)
                <tr>
                    <td>hwb
                    <td>color(srgb r g b)
                <tr>
                    <td>xyz-d65
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>xyz-d50
                    <td>color(xyz-d50 x y z)
                <tr>
                    <td>xyz
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>lab
                    <td>lab(l a b)
                <tr>
                    <td>lch
                    <td>lch(l c h)
                <tr>
                    <td>oklab
                    <td>oklab(l a b)
                <tr>
                    <td>oklch
                    <td>oklch(l c h)
        </table>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list"></ul>
        </details>
        <p>回传的<em>最小</em>精度
            与 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-function-values"><cite>CSS Color 4</cite>
                § 15.5 序列化 color() 函数的值</a> 中指定的精度相同。
        </p>
        <div class="example" id="ex-serial-rcs-computed">
            <a class="self-link" href="#ex-serial-rcs-computed"></a> 序列化后的结果
            <pre
                class="lang-css highlight"><c- nf>lch</c-><c- p>(</c->from peru <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->c * <c- m>0.7</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>))</c-> </pre>
            <p>是字符串 <span class="swatch" style="--color: rgb(3.12% 50.352% 68.894%)"></span> "lch(49.80224
                37.80819 243.6803)"</p>
        </div>
        <h3 class="heading settled" data-level="11.3" id="serial-custom-color"><span class="secno">11.3. </span><span
                class="content"> 序列化自定义颜色空间 </span><a class="self-link" href="#serial-custom-color"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①⓪">color()</a>
            组件值的保留精度，
            因此序列化值中保留的有效数字位数，
            在本规范中未定义，
            但对于 CMYK 颜色空间，必须至少足以进行八位精度的值回传；
            这将导致至少保留两位小数，
            除非已省略了末尾的零。
        </p>
        <div class="example" id="ex-color-swop-serial">
            <a class="self-link" href="#ex-color-swop-serial"></a>
            <p>以下颜色的序列化值是</p>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swop5c <c- p>{</c-><c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
<c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(94.903% 45.248% 59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c  <c- m>0</c-><c- k>%</c-> <c- m>70.0</c-><c- k>%</c-> <c- m>20.00</c-><c- k>%</c-> <c- m>.0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c-></pre>
            <p>字符串 "color(--swop5c 0 0.7 0.2 0)"</p>
        </div>
        <h3 class="heading settled" data-level="11.4" id="serializing-device-cmyk-values"><span class="secno">11.4.
            </span><span class="content"> 序列化 <span class="css">device-cmyk</span> 值 </span><a class="self-link"
                href="#serializing-device-cmyk-values"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑨">device-cmyk()</a> 值的序列化形式
            来源于<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                id="ref-for-computed-value">计算值</a>，并使用 <span class="css"
                id="ref-for-funcdef-device-cmyk①⓪">device-cmyk()</span> 形式，
            函数名为小写字母。</p>
        <p>组件值以十进制序列化，
            作为 <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value⑥④">&lt;number></a>。
            单个 ASCII 空格字符 " "
            必须用作组件值之间的分隔符。
        </p>
        <p>任何组件值中的尾随小数零必须被省略；
            如果小数部分全部为零，
            小数点也必须被省略。</p>
        <div class="example" id="ex-device-cmyk-serial">
            <a class="self-link" href="#ex-device-cmyk-serial"></a>
            <p>颜色的序列化值是</p>
            <pre
                class="lang-css highlight"><span class="swatch" style="--color: rgb(70.7% 26.9% 19.7%);"></span>  <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>)</c-></pre>
            <p>字符串 "device-cmyk(0 0.81 0.81 0.3)"</p>
        </div>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk①①">device-cmyk()</a> 组件值的保留精度，
            因此序列化值中的有效数字位数，
            在本规范中未定义，
            但至少应足以进行八位精度的值回传；
            这将导致至少两位小数，
            除非尾随零已被省略。
            值必须<a href="https://drafts.csswg.org/css-values-4/#combine-integers">向上舍入</a>，而不是截断。</p>
        <p>单位 alpha 值不显式序列化。
            非单位 alpha 值必须显式序列化，
            且字符串 " / "
            （一个 ASCII 空格，后跟斜杠，再跟另一个空格）
            必须用于分隔黑色 ("k") 颜色组件值
            与 alpha 值。
        </p>
        <h2 class="heading settled" data-level="12" id="apis"><span class="secno">12. </span><span class="content">API
                接口</span><a class="self-link" href="#apis"></a></h2>
        <h3 class="heading settled" data-level="12.1" id="the-csscolorprofilerule-interface"><span class="secno">12.1.
            </span><span class="content"><code>CSSColorProfileRule</code> 接口</span><a class="self-link"
                href="#the-csscolorprofilerule-interface"></a></h3>
        <p><a class="idl-code" data-link-type="interface" href="#csscolorprofilerule"
                id="ref-for-csscolorprofilerule">CSSColorProfileRule</a> 接口表示 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①④">@color-profile</a> 规则。
        </p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></dfn> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssrule" id="ref-for-cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name" id="ref-for-dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src" id="ref-for-dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent" id="ref-for-dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring③"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components" id="ref-for-dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};
</pre>
        <dl>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-name"><code>name</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring④">CSSOMString</a>，只读</span>
            <dd><var>name</var> 属性获取时必须返回
                一个包含关联规则中定义的 <a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile③">颜色
                    配置文件</a> 的 <var>name</var> 序列化的 <code>CSSOMString</code> 对象。
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-src"><code>src</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑤">CSSOMString</a>，只读</span>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-renderingintent"><code>renderingIntent</code></dfn>, <span>
                    类型为 <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑥">CSSOMString</a>，只读</span>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-components"><code>components</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑦">CSSOMString</a>，只读</span>
            <dd> 其余的属性在获取时必须返回包含
                与关联规则关联的描述符的序列化 <code>CSSOMString</code> 对象。
                如果未在关联规则中指定描述符，
                则该属性必须返回一个空字符串。
        </dl>
        <h2 class="heading settled" data-level="13" id="sample"><span class="secno">13. </span><span class="content">
                默认样式规则 </span><a class="self-link" href="#sample"></a></h2>
        <p>以下样式表是说明性的，而非规范性的。此样式表可由实现作为其默认 HTML 系列文档样式的一部分。</p>
        <pre class="lang-css highlight"><c- c>/* 传统桌面用户代理的超链接颜色 */</c->
:link <c- p>{</c-> <c- k>color</c-><c- p>:</c-> LinkText<c- p>;</c-> <c- p>}</c->
:visited <c- p>{</c-> <c- k>color</c-><c- p>:</c-> VisitedText<c- p>;</c-> <c- p>}</c->
:active <c- p>{</c-> <c- k>color</c-><c- p>:</c-> ActiveText<c- p>;</c-> <c- p>}</c->

<c- c>/* device-cmyk 的合理、保守的默认值 */</c->
<c- n>@color-profile</c-> device-cmyk <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://drafts.csswg.org/css-color-4/ICCprofiles/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
</pre>
        <h2 class="heading settled" data-level="14" id="security"><span class="secno">14. </span><span class="content">
                安全性考量 </span><a class="self-link" href="#security"></a></h2>
        <p>本规范为 CSS 增加了按需下载 ICC 配置文件的功能。 这些文件不包含可执行代码，因此不会构成增加的安全风险。</p>

        <h2 class="heading settled" data-level="15" id="privacy"><span class="secno">15. </span><span class="content">
                隐私考量 </span><a class="self-link" href="#privacy"></a></h2>
        <p>本规范未报告任何新的隐私考量。</p>

        <h2 class="heading settled" data-level="16" id="changes"><span class="secno">16. </span><span class="content">
                变更记录 </span><a class="self-link" href="#changes"></a></h2>

        <h3 class="heading settled" data-level="16.1" id="changes-20220628"><span class="secno">16.1. </span><span
                class="content"> 自 <a href="https://www.w3.org/TR/2022/WD-css-color-5-20220628/">2022年6月28日工作草案</a>
                以来的变更 </span><a class="self-link" href="#changes-20220628"></a></h3>
        <ul>
            <li>描述了 CSSOM 序列化是基于声明值，而不是指定值
            <li>添加了 <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                    id="ref-for-funcdef-contrast-color②">contrast-color()</a> 函数
            <li>明确链接到 CSS Color 4 中的插值部分，适用于 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix①⓪">color-mix()</a>
            <li>删除了剩余的提到 HSL 色域映射的内容
            <li>以散文而不是语法形式定义了绝对颜色
            <li>在 RCS 的每个情况下明确重复了百分比到数值转换的参考范围
            <li>更好地定义了原色为 currentColor 的相对颜色的序列化。sRGB, <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-5/#funcdef-hsl" id="ref-for-funcdef-hsl③">hsl()</a> 和 <a
                    class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb③">hwb()</a> 使用
                color(srgb ...) 进行序列化以支持往返。
            <li>更新了提及 <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark⑤">light-dark()</a> 函数的摘要
            <li>从 CSS Color 4 中向前移植了更大的矩形颜色空间列表
            <li>修正了自定义参数的语法（空格分隔，而不是逗号分隔）
            <li>修正了 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①②">device-cmyk()</a> 的语法，之前缺少了 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none③">none</a>
                和来自 CSS GCPM 的遗留语法
            <li><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix①①">color-mix()</a> 缺少在 color 类型语法中的定义
            <li>明确了指定 RCS 值的序列化
            <li>添加了 <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark⑥">light-dark()</a> 函数
            <li>修正了 color-mix 百分比归一化算法，以包含显式的 50% 边界情况
            <li>更新了使用色域映射之前 sRGB 到 HSL 转换步骤的 HSL 示例
            <li>修复了一些示例中的语法高亮
            <li>明确了 RCS 原色可以包含可选 alpha
            <li>修复了无效的无功分量的使用
            <li>使用了参考范围进行百分比到数值的转换
            <li>使 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-5/#funcdef-hsl"
                    id="ref-for-funcdef-hsl④">hsl()</a> 和 <a class="css" data-link-type="maybe" href="#funcdef-hwb"
                    id="ref-for-funcdef-hwb④">hwb()</a> 频道值为数值，依据 CSSWG 决议。
                同时使所有色调角度频道值为度数。
                RCS 介绍中已经提到了这一点，但变更尚未完全传播。
            <li>在 CIE XYZ D65 色彩空间中添加了一个 RCS 示例
            <li>删除了不需要且未更改的 CSS Color 4 部分副本，阅读时令人困惑
            <li>修正了章节标题为“指定预定义和自定义颜色空间：<a class="css" data-link-type="maybe" href="#funcdef-color"
                    id="ref-for-funcdef-color①①">color()</a> 函数”
            <li>定义了 HWB 现在允许数字，以前仅限百分比
            <li>明确了在使用 RCS 分量时没有“魔术缩放”；如果需要，请使用 calc()。添加了示例。
            <li>明确了使用的是 CIE 明度还是 Oklab 明度
            <li>明确了 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix①②">color-mix()</a> 函数结果的序列化，
                如果使用了 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                    id="ref-for-valdef-color-currentcolor⑤">currentColor</a>。添加了一个示例。
            <li>修正了一些 color-mix 示例中的拼写错误
            <li>修正了一个使用 0 而非 none 作为无功分量的示例
            <li>定义了 color-mix 指定值的序列化，并明确了其以指定的百分比而不是归一化的百分比序列化
            <li>删除了未更改的 alpha 值定义，改为链接到 Color 4
            <li>为现代和遗留的 rgb、rgba、hsl 和 hsla 使用了单独的语法生产
            <li>明确了原色不受限制，可以使用现代或遗留语法
            <li>添加了一个新的颜色生成，明确了 RCS 可以嵌套
            <li>明确了百分比和数字可以自由混合用于 RGB、HSL；不再仅限于 RCS
            <li>明确了 RCS 仅适用于现代颜色语法
            <li>定义了所需的颜色空间转换，明确了可以跳过不必要的转换
            <li>添加了正确和错误的渐变渲染图像
            <li>明确了自定义颜色空间中未命名的分量仍然有效
            <li>改进了一些示例，使其更加清晰
            <li>定义了带有缺失分量的 RCS
            <li>将破折号标识符添加到颜色插值方法中，现在可以在自定义颜色空间中进行插值
            <li>明确了 RCS 中的色调分量以度数形式解析为数值
            <li>指定了使用 currentColor 作为原色时解析的 RCS
            <li>频道关键词只能有一种类型
            <li>修正了在遗留语法上的无效 RCS 示例，以实际使用遗留语法
            <li>在示例中使用了一致的序列化
            <li>注意到 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①③">device-cmyk()</a> 现在有一个定义的序列化
            <li>添加了 <a class="idl-code" data-link-type="interface" href="#csscolorprofilerule"
                    id="ref-for-csscolorprofilerule①">CSSColorProfileRule</a> 接口
            <li>一致地大写 Oklab 和 Oklch
            <li>为颜色示例添加了可访问性改进
            <li>为图表添加了可访问性改进
            <li>修复了一些颜色示例的不必要裁剪问题
            <li>改进了某些图形的替代文本
            <li>添加了一些缺失的颜色示例
            <li>为 MacBeth 图像和 deltaE 表格添加了行和列标签
            <li>改进了 hue-rotate 图表的标签
            <li>改进了图表中的颜色描述，提升可访问性
            <li>确保所有图表和图形都有 ID 和自链接
        </ul>
        <h3 class="heading settled" data-level="16.2" id="changes-20220428"><span class="secno">16.2. </span><span
                class="content">自 <a href="https://www.w3.org/TR/2022/WD-css-color-5-20220428/">2022年4月28日工作草案</a>
                以来的变更</span><a class="self-link" href="#changes-20220428"></a></h3>
        <ul>
            <li>修复了 rgb() 定义中的拼写错误
            <li>编辑改进（大写、拼写、清晰度）
            <li>为其他规范导出定义
            <li>在 color() 的语法中为 alpha 添加了缺失的 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none④">none</a>
            <li>将 color-contrast() 函数移至第 6 级
        </ul>

        <h3 class="heading settled" data-level="16.3" id="changes-20211215"><span class="secno">16.3. </span><span
                class="content">自 <a href="https://www.w3.org/TR/2021/WD-css-color-5-20211215/">2021年12月15日工作草案</a>
                以来的变更</span><a class="self-link" href="#changes-20211215"></a></h3>
        <ul>
            <li>将 color() 函数中的参数容错限制为自定义颜色空间
            <li>更改了 RCS 以允许任何地方使用数字或百分比
            <li>清楚地描述了组件名称与命名常量（如 PI）可能发生的冲突
            <li>明确了相对颜色语法不使用遗留的（逗号分隔）语法
            <li>修正了 rgb() 函数的语法，未将 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑤">none</a>
                列为 alpha 的选项
            <li>更改了使用 hsl 或 hwb 的 color-mix() 序列化，以最大化精度
            <li>添加了一个超出色域的 color-mix 示例
            <li>使用“无法表达该颜色”来描述 HSL 和 HWB 模型无法表示扩展的超出色域颜色的情况
            <li>修复了一些拼写错误
        </ul>

        <h3 class="heading settled" data-level="16.4" id="changes-20210601"><span class="secno">16.4. </span><span
                class="content">自 <a href="https://www.w3.org/TR/2021/WD-css-color-5-20210601/">2021年6月1日工作草案</a>
                以来的变更</span><a class="self-link" href="#changes-20210601"></a></h3>
        <ul>
            <li>在矩形空间中使用 &lt;hue-interpolation-method> 是错误的
            <li>将旧的 &lt;hue-adjuster> 更改为新的 &lt;hue-interpolation-method>
            <li>根据 CSSWG 的决议，将 @color-profile 和 device-cmyk 移至第 5 级
            <li>排除 none 作为组件名称
            <li>添加了 Oklch 相对颜色语法示例
            <li>定义了插值颜色空间
            <li>定义了以 fetch 为基础加载颜色配置文件的过程
            <li>明确了对 D65 适应的 CIE XYZ 计算对比度
            <li>在 color-mix() 的序列化中添加了 oklab() 和 oklch()
            <li>添加了 oklab() 和 oklch() 相对颜色语法
            <li>添加了 lch 和 oklch 混合的示例
            <li>优先使用 oklab 和 oklch 进行混合
            <li>将 xyz 更改为 D65 相关，遵循 CSS Color 4
            <li>添加了 oklab 和 oklch 颜色空间
            <li>定义了 color-contrast() 的解析方式
            <li>明确了序列化形式的最小精度
            <li>明确了 CIE LCH 的含义
            <li>添加了更多示例
            <li>删除了 color-adjust()，保留了相对颜色语法
            <li>定义了 color-mix、color-contrast 和相对颜色语法结果的序列化
        </ul>

        <h3 class="heading settled" data-level="16.5" id="changes-20200303"><span class="secno">16.5. </span><span
                class="content">自 <a href="https://www.w3.org/TR/2020/WD-css-color-5-20200303/">2020年3月3日 FPWD</a>
                以来的变更</span><a class="self-link" href="#changes-20200303"></a></h3>
        <ul>
            <li>为 color() 函数添加了相对颜色语法
            <li>明确了 color-adjuster 不是可选项
            <li>明确了 color-mix 中百分比是必需的
            <li>将 hue-adjuster 移回 color-mix
            <li>添加了使用不同混合颜色空间的示例
            <li>添加了 color-mix() 中百分比归一化的示例
            <li>明确排除了 color-mix() 中的负百分比
            <li>color-mix() 中百分比总和小于 100% 会产生小于 100% 的 alpha 透明度
            <li>一致使用了“颜色空间”这一术语，而非“colorspace”，定义了 <a class="production css" data-link-type="type"
                    href="#typedef-color-space" id="ref-for-typedef-color-space③">&lt;color-space></a> 标记
            <li>修正了 color-contrast 语法
            <li>为 color-contrast() 添加了可选的目标对比度
            <li>修正了 adjuster 语法
            <li>注意到需要处理百分比总和为零的特殊情况
            <li>明确了 color-mix() 中的操作顺序
            <li>更新了与当前语法匹配的示例
            <li>定义了如何规范化 color-mix 中的百分比
            <li>明确了 color-mix() 中 0% 和 100% 的含义
            <li>将 adjusters 的定义从 color-mix() 移至 color-adjust()
            <li>允许 color-mix() 的参数以任意顺序排列
            <li>color-mix() 的颜色空间是必需的
            <li>允许 color-mix() 中的百分比在颜色之前出现
            <li>为 color-mix() 添加了明确的算法
            <li>从 color-mix() 中删除了 adjusters 并简化了语法
            <li>在 color-mix() 中添加了“in”关键字以指定用于混合的颜色空间
            <li>要求 color-contrast() 列表至少包含两项
            <li>改进了相对颜色语法的解释
            <li>链接到 CSS 4 中的颜色序列化定义
            <li>为颜色空间添加了单独的部分
            <li>更新了 color-adjust 示例
            <li>添加了解释图
            <li>处理未解析的百分比
            <li>规范化 color-mix 的参数
            <li>允许 adjusters 的百分比
            <li>修复了链接
            <li>更新了 color-mix 语法，允许 adjusters，并添加 alpha adjuster
            <li>修正了一些示例
            <li>更新了安全和隐私部分
            <li>为 color-contrast 添加了 vs 关键字
            <li>将 xyz 调整器添加到语法中
            <li>为语法添加了色调调整器关键字
            <li>为混合添加了 XYZ 颜色空间
            <li>定义了 color-adjuster 和颜色空间
            <li>允许 mix 百分比默认为 50%
            <li>添加了示例和图表
            <li>修正了一些拼写、语法和格式问题
            <li>添加了 color-contrast() 值解析部分
        </ul>
        <h3 class="heading settled" data-level="16.6" id="changes-from-4"><span class="secno">16.6. </span><span
                class="content">自 CSS Color 4 的变更</span><a class="self-link" href="#changes-from-4"></a></h3>
        <p>与 CSS Color 4 相比，一个主要的变化是 CSS 颜色不再局限于预定义的 RGB 空间，如 sRGB 或 display-p3。</p>
        <p>为支持这一点，添加了几个全新的功能：</p>
        <ol>
            <li><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①②">color()</a>
                函数通过 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile①⑤">@color-profile</a> 规则扩展，用于配置文件化的设备依赖颜色，包括校准的 CMYK。
            <li><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①④">device-cmyk()</a> 函数，用于在输出设备特定的 CMYK 颜色空间中指定未经校准的颜色。
        </ol>
        <p>此外，新的 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①③">color-mix()</a> 函数允许在指定的颜色空间中混合两种颜色，从而生成新颜色。</p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">符合性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>

    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>符合性要求通过描述性断言和 RFC 2119 术语的组合来表达。关键字“必须”、“禁止”、“需要”、“应”、“不应”、“推荐”、“可以”和“可选”在本文件的规范部分中应按照 RFC 2119
        的描述进行解释。然而，为了可读性，这些词在本规范中不会全部以大写字母形式出现。</p>
    <p>本规范的所有文本均为规范性内容，除非明确标记为非规范性部分、示例和注释。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>本规范中的示例以“例如”开头，或与规范性文本分开设置 <code>class="example"</code>，例如：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个信息性示例。</p>
    </div>
    <p>信息性注释以“注释”开头，并与规范性文本分开设置 <code>class="note"</code>，例如：</p>
    <p class="note" role="note">注释，这是一条信息性注释。</p>
    <p>建议是规范性部分，样式设计为引起特别注意，并与其他规范性文本分开设置 <code>&lt;strong class="advisement"></code>，例如：<strong class="advisement">
            用户代理必须提供可访问的替代方案。</strong></p>

    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>测试</summary>
        <p>与本规范内容相关的测试可能会记录在像这样的“测试”块中。任何此类块均为非规范性内容。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">符合性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范的符合性定义了三类符合性类别：</p>
    <dl>
        <dt>样式表
        <dd>一个 <a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS 样式表</a>。
        <dt>渲染器
        <dd>一个 <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理（UA）</a>，其解释样式表的语义并渲染使用它们的文档。
        <dt>创作工具
        <dd>一个 <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理（UA）</a>，其编写样式表。
    </dl>
    <p>如果样式表中使用的所有语法声明都符合该模块定义的通用 CSS 语法及各个特性的语法，则样式表符合本规范。</p>
    <p>如果渲染器除了按照适用的规范解释样式表外，还通过正确解析并相应地渲染文档来支持本规范定义的所有特性，则该渲染器符合本规范。然而，由于设备的限制而无法正确渲染文档的 UA 并不因此而不符合规范。（例如，UA
        并不要求在单色显示器上渲染颜色。）</p>
    <p>如果创作工具编写的样式表在语法上符合通用 CSS 语法及该模块中定义的各个特性，并且符合该模块描述的样式表的所有其他符合性要求，则该创作工具符合本规范。</p>

    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为了让作者可以利用前向兼容的解析规则来分配回退值，CSS 渲染器<strong>必须</strong>将任何不支持的 at-rules、属性、属性值、关键字和其他语法结构视为无效并适当地<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">忽略</a>。特别是，用户代理<strong>不得</strong>在单个多值属性声明中选择性忽略不支持的组件值并保留支持的值：如果任何值被视为无效（因为不支持的值必须如此），CSS
        规定整个声明应被忽略。</p>

    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">不稳定和专有特性的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为了避免与未来稳定的 CSS 特性发生冲突，CSS 工作组建议<a href="https://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>来实现<a
            href="https://www.w3.org/TR/CSS/#unstable">不稳定的</a>特性和<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>。</p>

    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>一旦规范进入候选推荐阶段，就可以进行非实验性实现，实施者应发布任何符合 CR 级别特性的非前缀实现，前提是可以证明该实现按照规范正确实现。</p>
    <p>为了建立和维护 CSS 在不同实现中的互操作性，CSS 工作组要求非实验性 CSS 渲染器在发布任何 CSS 特性的非前缀实现之前向 W3C 提交一个实现报告（如有必要，还包括该实现报告使用的测试用例）。提交给 W3C
        的测试用例将由 CSS 工作组进行审查和修正。</p>
    <p>有关提交测试用例和实现报告的进一步信息，请访问 CSS 工作组的网站 <a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。问题应提交到 <a
            href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> 邮件列表。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li>
            a
            <ul>
                <li><a href="#valdef-lab-a">lab() 的值</a><span>，见 § 4.4</span>
                <li><a href="#valdef-oklab-a">oklab() 的值</a><span>，见 § 4.5</span>
            </ul>
        <li><a href="#absolute-color">绝对颜色</a><span>，见 § 2</span>
        <li><a href="#valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</a><span>，见
                § 5.3</span>
        <li>
            alpha
            <ul>
                <li><a href="#valdef-color-alpha">color() 的值</a><span>，见 § 5.1</span>
                <li><a href="#valdef-hsl-alpha">hsl() 的值</a><span>，见 § 4.2</span>
                <li><a href="#valdef-hwb-alpha">hwb() 的值</a><span>，见 § 4.3</span>
                <li><a href="#valdef-lab-alpha">lab() 的值</a><span>，见 § 4.4</span>
                <li><a href="#valdef-lch-alpha">lch() 的值</a><span>，见 § 4.6</span>
                <li><a href="#valdef-oklab-alpha">oklab() 的值</a><span>，见 § 4.5</span>
                <li><a href="#valdef-oklch-alpha">oklch() 的值</a><span>，见 § 4.7</span>
                <li><a href="#valdef-rgb-alpha">rgb() 的值</a><span>，见 § 4.1</span>
            </ul>
        <li>
            b
            <ul>
                <li><a href="#valdef-color-b">color() 的值</a><span>，见 § 5.1</span>
                <li><a href="#valdef-hwb-b">hwb() 的值</a><span>，见 § 4.3</span>
                <li><a href="#valdef-lab-b">lab() 的值</a><span>，见 § 4.4</span>
                <li><a href="#valdef-oklab-b">oklab() 的值</a><span>，见 § 4.5</span>
                <li><a href="#valdef-rgb-b">rgb() 的值</a><span>，见 § 4.1</span>
            </ul>
        <li>
            c
            <ul>
                <li><a href="#valdef-lch-c">lch() 的值</a><span>，见 § 4.6</span>
                <li><a href="#valdef-oklch-c">oklch() 的值</a><span>，见 § 4.7</span>
            </ul>
        <li><a href="#channel-keyword">通道关键字</a><span>，见 § 4</span>
        <li><a href="#typedef-cmyk-component">&lt;cmyk-component></a><span>，见 § 6</span>
        <li><a href="#typedef-color">&lt;color></a><span>，见 § 2</span>
        <li><a href="#funcdef-color">color()</a><span>，见 § 5</span>
        <li><a href="#typedef-color-base">&lt;color-base></a><span>，见 § 2</span>
        <li><a href="#typedef-color-function">&lt;color-function></a><span>，见 § 2</span>
        <li><a href="#color-interpolation-method">&lt;color-interpolation-method></a><span>，见 § 9.1</span>
        <li><a href="#funcdef-color-mix">color-mix()</a><span>，见 § 3</span>
        <li><a href="#at-ruledef-profile">@color-profile</a><span>，见 § 5.3</span>
        <li><a href="#css-color-profile">CSS 色彩配置文件</a><span>，见 § 5.3</span>
        <li><a href="#typedef-color-space">&lt;color-space></a><span>，见 § 9.1</span>
        <li><a href="#typedef-colorspace-params">&lt;colorspace-params></a><span>，见 § 5</span>
        <li>
            组件
            <ul>
                <li><a href="#dom-csscolorprofilerule-components">CSSColorProfileRule 的属性</a><span>，见 § 12.1</span>
                <li><a href="#descdef-color-profile-components">@color-profile 的描述符</a><span>，见 § 5.3</span>
            </ul>
        <li><a href="#funcdef-contrast-color">contrast-color()</a><span>，见 § 8</span>
        <li><a href="#css-color-profile">CSS 色彩配置文件</a><span>，见 § 5.3</span>
        <li><a href="#csscolorprofilerule">CSSColorProfileRule</a><span>，见 § 12.1</span>
        <li><a href="#typedef-custom-color-space">&lt;custom-color-space></a><span>，见 § 9.1</span>
        <li><a href="#typedef-custom-params">&lt;custom-params></a><span>，见 § 5</span>
        <li><a href="#funcdef-device-cmyk">device-cmyk()</a><span>，见 § 6</span>
        <li><a href="#fetch-an-external-color-profile">获取外部色彩配置文件</a><span>，见 § 5.3</span>
        <li>
            g
            <ul>
                <li><a href="#valdef-color-g">color() 的值</a><span>，见 § 5.1</span>
                <li><a href="#valdef-rgb-g">rgb() 的值</a><span>，见 § 4.1</span>
            </ul>
        <li><a href="#gamut-map">色域映射</a><span>，见 § 5.3</span>
        <li>
            h
            <ul>
                <li><a href="#valdef-hsl-h">hsl() 的值</a><span>，见 § 4.2</span>
                <li><a href="#valdef-hwb-h">hwb() 的值</a><span>，见 § 4.3</span>
                <li><a href="#valdef-lch-h">lch() 的值</a><span>，见 § 4.6</span>
                <li><a href="#valdef-oklch-h">oklch() 的值</a><span>，见 § 4.7</span>
            </ul>
        <li><a href="#typedef-hue-interpolation-method">&lt;hue-interpolation-method></a><span>，见 § 9.1</span>
        <li><a href="#funcdef-hwb">hwb()</a><span>，见 § 4.3</span>
        <li><a href="#invalid-color">无效颜色</a><span>，见 § 5</span>
        <li>
            l
            <ul>
                <li><a href="#valdef-hsl-l">hsl() 的值</a><span>，见 § 4.2</span>
                <li><a href="#valdef-lab-l">lab() 的值</a><span>，见 § 4.4</span>
                <li><a href="#valdef-lch-l">lch() 的值</a><span>，见 § 4.6</span>
                <li><a href="#valdef-oklab-l">oklab() 的值</a><span>，见 § 4.5</span>
                <li><a href="#valdef-oklch-l">oklch() 的值</a><span>，见 § 4.7</span>
            </ul>
        <li><a href="#funcdef-lab">lab()</a><span>，见 § 4.4</span>
        <li><a href="#funcdef-lch">lch()</a><span>，见 § 4.6</span>
        <li><a href="#typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a><span>，见 § 6</span>
        <li><a href="#funcdef-light-dark">light-dark()</a><span>，见 § 7</span>
        <li><a href="#typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a><span>，见 § 6</span>
        <li><a href="#typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a><span>，见 § 4.2</span>
        <li><a href="#typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a><span>，见 § 4.2</span>
        <li><a href="#typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a><span>，见 § 4.1</span>
        <li><a href="#typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a><span>，见 § 4.1</span>
        <li><a href="#naively-convert-from-rgba-to-cmyk">从 RGBA 天真地转换为 CMYK</a><span>，见 § 6.1</span>
        <li><a href="#naively-convert-from-cmyk-to-rgba">从 CMYK 天真地转换为 RGBA</a><span>，见 § 6.1</span>
        <li><a href="#naively-convert-from-cmyk-to-rgba">从 CMYK 天真地转换为 RGBA</a><span>，见 § 6.1</span>
        <li><a href="#naively-convert-from-rgba-to-cmyk">从 RGBA 天真地转换为 CMYK</a><span>，见 § 6.1</span>
        <li><a href="#dom-csscolorprofilerule-name">name</a><span>，见 § 12.1</span>
        <li><a href="#funcdef-oklab">oklab()</a><span>，见 § 4.5</span>
        <li><a href="#funcdef-oklch">oklch()</a><span>，见 § 4.7</span>
        <li><a href="#originally-specified-color-space">最初指定的颜色空间</a><span>，见 § 4</span>
        <li><a href="#origin-color">源颜色</a><span>，见 § 4</span>
        <li><a href="#out-of-gamut">超出色域</a><span>，见 § 5</span>
        <li><a href="#valdef-color-profile-rendering-intent-perceptual">perceptual</a><span>，见 § 5.3</span>
        <li><a href="#typedef-polar-color-space">&lt;polar-color-space></a><span>，见 § 9.1</span>
        <li><a href="#typedef-predefined-rgb">&lt;predefined-rgb></a><span>，见 § 5</span>
        <li><a href="#typedef-predefined-rgb-params">&lt;predefined-rgb-params></a><span>，见 § 5</span>
        <li>
            r
            <ul>
                <li><a href="#valdef-color-r">color() 的值</a><span>，见 § 5.1</span>
                <li><a href="#valdef-rgb-r">rgb() 的值</a><span>，见 § 4.1</span>
            </ul>
        <li><a href="#typedef-rectangular-color-space">&lt;rectangular-color-space></a><span>，见 § 9.1</span>
        <li><a href="#relative-color">相对颜色</a><span>，见 § 4</span>
        <li><a href="#valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</a><span>，见
                § 5.3</span>
        <li><a href="#descdef-color-profile-rendering-intent">rendering-intent</a><span>，见 § 5.3</span>
        <li><a href="#dom-csscolorprofilerule-renderingintent">renderingIntent</a><span>，见 § 12.1</span>
        <li><a href="#valdef-hsl-s">s</a><span>，见 § 4.2</span>
        <li><a href="#valdef-color-profile-rendering-intent-saturation">saturation</a><span>，见 § 5.3</span>
        <li>
            src
            <ul>
                <li><a href="#dom-csscolorprofilerule-src">CSSColorProfileRule 的属性</a><span>，见 § 12.1</span>
                <li><a href="#descdef-color-profile-src">@color-profile 的描述符</a><span>，见 § 5.3</span>
            </ul>
        <li><a href="#valid-color">有效颜色</a><span>，见 § 5</span>
        <li><a href="#valdef-hwb-w">w</a><span>，见 § 4.3</span>
        <li><a href="#valdef-color-x">x</a><span>，见 § 5.1</span>
        <li><a href="#typedef-xyz">&lt;xyz></a><span>，见 § 5</span>
        <li><a href="#typedef-xyz-params">&lt;xyz-params></a><span>，见 § 5</span>
        <li><a href="#valdef-color-y">y</a><span>，见 § 5.1</span>
        <li><a href="#valdef-color-z">z</a><span>，见 § 5.1</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="0948355d">实际值</span>
                <li><span class="dfn-paneled" id="8c8e51b4">计算值</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="cee404c5">&lt;hex-color></span>
                <li><span class="dfn-paneled" id="33347c0e">&lt;hue></span>
                <li><span class="dfn-paneled" id="8fad2d26">&lt;named-color></span>
                <li><span class="dfn-paneled" id="024532da">&lt;system-color></span>
                <li><span class="dfn-paneled" id="d11b143f">a98-rgb</span>
                <li><span class="dfn-paneled" id="4dee7468">类似组件</span>
                <li><span class="dfn-paneled" id="0ed7201e">黑色</span>
                <li><span class="dfn-paneled" id="a976c737">蓝色</span>
                <li><span class="dfn-paneled" id="b46a2c7d">颜色</span>
                <li><span class="dfn-paneled" id="f6f69187">色彩空间</span>
                <li><span class="dfn-paneled" id="a42c65ac">currentcolor</span>
                <li><span class="dfn-paneled" id="19512a47">darkolivegreen</span>
                <li><span class="dfn-paneled" id="abed060e">display-p3</span>
                <li><span class="dfn-paneled" id="bc4e4c18">hsl</span>
                <li><span class="dfn-paneled" id="239640fd">hsla()</span>
                <li><span class="dfn-paneled" id="85dbac5b">hwb</span>
                <li><span class="dfn-paneled" id="4a14e4dc">lab</span>
                <li><span class="dfn-paneled" id="4b8ab2a8">lch</span>
                <li><span class="dfn-paneled" id="e2a9e9b9">旧版颜色语法</span>
                <li><span class="dfn-paneled" id="f8e15dd7">石灰色</span>
                <li><span class="dfn-paneled" id="77a29323">现代颜色语法</span>
                <li><span class="dfn-paneled" id="528ea935">none</span>
                <li><span class="dfn-paneled" id="01b14142">oklab</span>
                <li><span class="dfn-paneled" id="404710e3">oklch</span>
                <li><span class="dfn-paneled" id="691e902b">prophoto-rgb</span>
                <li><span class="dfn-paneled" id="2eb59b48">rec2020</span>
                <li><span class="dfn-paneled" id="970f70ea">红色</span>
                <li><span class="dfn-paneled" id="f3226176">rgba()</span>
                <li><span class="dfn-paneled" id="ce4cacb8">srgb</span>
                <li><span class="dfn-paneled" id="e98886a5">srgb-linear</span>
                <li><span class="dfn-paneled" id="17858dc9">白色</span>
                <li><span class="dfn-paneled" id="01b00791">xyz</span>
                <li><span class="dfn-paneled" id="e5457abf">xyz-d50</span>
                <li><span class="dfn-paneled" id="b3bfee63">xyz-d65</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="af3e7cd2">&lt;alpha-value></span>
                <li><span class="dfn-paneled" id="8e993f60">hsl()</span>
                <li><span class="dfn-paneled" id="f3b8a771">rgb()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-ADJUST-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="746d81ae">dark</span>
                <li><span class="dfn-paneled" id="99387b3d">light</span>
                <li><span class="dfn-paneled" id="a55c0dec">使用的颜色方案</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SYNTAX-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="a81b1fb8">&lt;declaration-list></span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c297b070">#</span>
                <li><span class="dfn-paneled" id="bdb4e757">&amp;&amp;</span>
                <li><span class="dfn-paneled" id="af4a190d">+</span>
                <li><span class="dfn-paneled" id="8cd4f032">,</span>
                <li><span class="dfn-paneled" id="d7e1d67b">&lt;angle></span>
                <li><span class="dfn-paneled" id="f5b34cad">&lt;dashed-ident></span>
                <li><span class="dfn-paneled" id="dcecfc13">&lt;ident></span>
                <li><span class="dfn-paneled" id="61bb5e44">&lt;number></span>
                <li><span class="dfn-paneled" id="128295ac">&lt;percentage></span>
                <li><span class="dfn-paneled" id="699488a8">&lt;url></span>
                <li><span class="dfn-paneled" id="d4441b24">?</span>
                <li><span class="dfn-paneled" id="14d3255d">calc()</span>
                <li><span class="dfn-paneled" id="4dbf81d6">规范单位</span>
                <li><span class="dfn-paneled" id="24ecd148">获取样式资源</span>
                <li><span class="dfn-paneled" id="3db7b9e0">数学函数</span>
                <li><span class="dfn-paneled" id="d9909296">pi</span>
                <li><span class="dfn-paneled" id="8cbc2b3b">{a}</span>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="9f6a123e">color</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="9d357000">CSSOMString</span>
                <li><span class="dfn-paneled" id="0f78dbdd">CSSRule</span>
                <li><span class="dfn-paneled" id="d6c25acf">父 CSS 样式表</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ee7bba09">response</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    层叠和继承第 5 级</cite></a>。2022 年 1 月 13 日。CR。URL：<a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Tab Atkins Jr.; Chris Lilley; Lea Verou. <a href="https://www.w3.org/TR/css-color-4/"><cite>CSS 色彩模块第 4
                    级</cite></a>。2022 年 11 月 1 日。CR。URL：<a
                href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-color-5">[CSS-COLOR-5]
        <dd>Chris Lilley; et al. <a href="https://www.w3.org/TR/css-color-5/"><cite>CSS 色彩模块第 5 级</cite></a>。2022 年 6 月
            28 日。WD。URL：<a href="https://www.w3.org/TR/css-color-5/">https://www.w3.org/TR/css-color-5/</a>
        <dt id="biblio-css-color-adjust-1">[CSS-COLOR-ADJUST-1]
        <dd>Elika Etemad; et al. <a href="https://www.w3.org/TR/css-color-adjust-1/"><cite>CSS 色彩调整模块第 1
                    级</cite></a>。2022 年 6 月 14 日。CR。URL：<a
                href="https://www.w3.org/TR/css-color-adjust-1/">https://www.w3.org/TR/css-color-adjust-1/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS 语法模块第 3
                    级</cite></a>。2021 年 12 月 24 日。CR。URL：<a
                href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS 值和单位模块第 4
                    级</cite></a>。2023 年 12 月 18 日。WD。URL：<a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-values-5">[CSS-VALUES-5]
        <dd><a href="https://drafts.csswg.org/css-values-5/"><cite>CSS 值和单位模块第 5 级</cite></a>。编辑草案。URL：<a
                href="https://drafts.csswg.org/css-values-5/">https://drafts.csswg.org/css-values-5/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://www.w3.org/TR/cssom-1/"><cite>CSS
                    对象模型（CSSOM）</cite></a>。2021 年 8 月 26 日。WD。URL：<a
                href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch 标准</cite></a>。现行标准。URL：<a
                href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-icc">[ICC]
        <dd><a href="http://www.color.org/specification/ICC.1-2022-05.pdf"><cite>ICC.1:2022（版本 4.4.0.0）</cite></a>。2022
            年 5 月。URL：<a
                href="http://www.color.org/specification/ICC.1-2022-05.pdf">http://www.color.org/specification/ICC.1-2022-05.pdf</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>在 RFC
                    中使用的关键字以表明需求级别</cite></a>。1997 年 3 月。最佳现行实践。URL：<a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。现行标准。URL：<a
                href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">属性索引</span><a class="self-link"
            href="#property-index"></a></h2>
    <p>未定义属性。</p>
    <h3 class="no-num no-ref heading settled" id="color-profile-descriptor-table"><span class="content"><a class="css"
                data-link-type="at-rule" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑥">@color-profile</a>
            描述符</span><a class="self-link" href="#color-profile-descriptor-table"></a></h3>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    <th scope="col">值
                    <th scope="col">初始值
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-components"
                            id="ref-for-descdef-color-profile-components①">components</a>
                    <td>&lt;ident>#
                    <td>n/a
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-color-profile-rendering-intent"
                            id="ref-for-descdef-color-profile-rendering-intent①">rendering-intent</a>
                    <td>relative-colorimetric | absolute-colorimetric | perceptual | saturation
                    <td>relative-colorimetric
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-src"
                            id="ref-for-descdef-color-profile-src①">src</a>
                    <td>&lt;url>
                    <td>n/a
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></a> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};

</pre>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "01b00791": { "dfnID": "01b00791", "dfnText": "xyz", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz" }], "title": "3.3. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-color-xyz\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }, { "refs": [{ "id": "ref-for-valdef-color-xyz\u2461" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz" },
                "01b14142": { "dfnID": "01b14142", "dfnText": "oklab", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-oklab-oklab" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" },
                "024532da": { "dfnID": "024532da", "dfnText": "<system-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-system-color" }, { "id": "ref-for-typedef-system-color\u2460" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-system-color" },
                "0948355d": { "dfnID": "0948355d", "dfnText": "actual value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-actual-value" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-cascade-5/#actual-value" },
                "0ed7201e": { "dfnID": "0ed7201e", "dfnText": "black", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-black" }, { "id": "ref-for-valdef-color-black\u2460" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-black" },
                "0f78dbdd": { "dfnID": "0f78dbdd", "dfnText": "CSSRule", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssrule" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
                "128295ac": { "dfnID": "128295ac", "dfnText": "<percentage>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-percentage-value" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-percentage-value\u2460" }, { "id": "ref-for-percentage-value\u2461" }, { "id": "ref-for-percentage-value\u2462" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2463" }, { "id": "ref-for-percentage-value\u2464" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2465" }, { "id": "ref-for-percentage-value\u2466" }, { "id": "ref-for-percentage-value\u2467" }, { "id": "ref-for-percentage-value\u2468" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u24ea" }, { "id": "ref-for-percentage-value\u2460\u2460" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2461" }, { "id": "ref-for-percentage-value\u2460\u2462" }, { "id": "ref-for-percentage-value\u2460\u2463" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2464" }, { "id": "ref-for-percentage-value\u2460\u2465" }, { "id": "ref-for-percentage-value\u2460\u2466" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2467" }, { "id": "ref-for-percentage-value\u2460\u2468" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u24ea" }, { "id": "ref-for-percentage-value\u2461\u2460" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u2461" }, { "id": "ref-for-percentage-value\u2461\u2462" }, { "id": "ref-for-percentage-value\u2461\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u2464" }, { "id": "ref-for-percentage-value\u2461\u2465" }, { "id": "ref-for-percentage-value\u2461\u2466" }, { "id": "ref-for-percentage-value\u2461\u2467" }, { "id": "ref-for-percentage-value\u2461\u2468" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2462\u24ea" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2462\u2460" }, { "id": "ref-for-percentage-value\u2462\u2461" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "14d3255d": { "dfnID": "14d3255d", "dfnText": "calc()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-calc" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#funcdef-calc" },
                "17858dc9": { "dfnID": "17858dc9", "dfnText": "white", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-white" }, { "id": "ref-for-valdef-color-white\u2460" }, { "id": "ref-for-valdef-color-white\u2461" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-white" },
                "19512a47": { "dfnID": "19512a47", "dfnText": "darkolivegreen", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-darkolivegreen" }], "title": "4. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen" },
                "239640fd": { "dfnID": "239640fd", "dfnText": "hsla()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hsla" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2460" }, { "id": "ref-for-funcdef-hsla\u2461" }], "title": "4.2. Relative HSL Colors" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsla" },
                "24ecd148": { "dfnID": "24ecd148", "dfnText": "fetch a style resource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-a-style-resource" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource" },
                "2eb59b48": { "dfnID": "2eb59b48", "dfnText": "rec2020", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-rec2020" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" },
                "33347c0e": { "dfnID": "33347c0e", "dfnText": "<hue>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hue" }, { "id": "ref-for-typedef-hue\u2460" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2461" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2462" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2463" }], "title": "4.7. Relative Oklch Colors" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-hue" },
                "3db7b9e0": { "dfnID": "3db7b9e0", "dfnText": "math function", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-math-function" }, { "id": "ref-for-math-function\u2460" }, { "id": "ref-for-math-function\u2461" }], "title": "4. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#math-function" },
                "404710e3": { "dfnID": "404710e3", "dfnText": "oklch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-oklch-oklch" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" },
                "4a14e4dc": { "dfnID": "4a14e4dc", "dfnText": "lab", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-lab-lab" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-lab-lab" },
                "4b8ab2a8": { "dfnID": "4b8ab2a8", "dfnText": "lch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-lch-lch" }, { "id": "ref-for-valdef-lch-lch\u2460" }], "title": "3.2. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-lch-lch\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-lch-lch" },
                "4dbf81d6": { "dfnID": "4dbf81d6", "dfnText": "canonical unit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-canonical-unit" }], "title": "4. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#canonical-unit" },
                "4dee7468": { "dfnID": "4dee7468", "dfnText": "analogous components", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-analogous-components" }], "title": "3.2. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-analogous-components\u2460" }], "title": "4. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#analogous-components" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }, { "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }, { "id": "ref-for-comb-one\u2463" }, { "id": "ref-for-comb-one\u2464" }, { "id": "ref-for-comb-one\u2465" }, { "id": "ref-for-comb-one\u2466" }, { "id": "ref-for-comb-one\u2467" }, { "id": "ref-for-comb-one\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea" }, { "id": "ref-for-comb-one\u2460\u2460" }, { "id": "ref-for-comb-one\u2460\u2461" }, { "id": "ref-for-comb-one\u2460\u2462" }, { "id": "ref-for-comb-one\u2460\u2463" }, { "id": "ref-for-comb-one\u2460\u2464" }, { "id": "ref-for-comb-one\u2460\u2465" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-comb-one\u2460\u2466" }, { "id": "ref-for-comb-one\u2460\u2467" }, { "id": "ref-for-comb-one\u2460\u2468" }, { "id": "ref-for-comb-one\u2461\u24ea" }, { "id": "ref-for-comb-one\u2461\u2460" }, { "id": "ref-for-comb-one\u2461\u2461" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2461\u2462" }, { "id": "ref-for-comb-one\u2461\u2463" }, { "id": "ref-for-comb-one\u2461\u2464" }, { "id": "ref-for-comb-one\u2461\u2465" }, { "id": "ref-for-comb-one\u2461\u2466" }, { "id": "ref-for-comb-one\u2461\u2467" }, { "id": "ref-for-comb-one\u2461\u2468" }, { "id": "ref-for-comb-one\u2462\u24ea" }, { "id": "ref-for-comb-one\u2462\u2460" }, { "id": "ref-for-comb-one\u2462\u2461" }, { "id": "ref-for-comb-one\u2462\u2462" }, { "id": "ref-for-comb-one\u2462\u2463" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2462\u2464" }, { "id": "ref-for-comb-one\u2462\u2465" }, { "id": "ref-for-comb-one\u2462\u2466" }, { "id": "ref-for-comb-one\u2462\u2467" }, { "id": "ref-for-comb-one\u2462\u2468" }, { "id": "ref-for-comb-one\u2463\u24ea" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2463\u2460" }, { "id": "ref-for-comb-one\u2463\u2461" }, { "id": "ref-for-comb-one\u2463\u2462" }, { "id": "ref-for-comb-one\u2463\u2463" }, { "id": "ref-for-comb-one\u2463\u2464" }, { "id": "ref-for-comb-one\u2463\u2465" }, { "id": "ref-for-comb-one\u2463\u2466" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2463\u2467" }, { "id": "ref-for-comb-one\u2463\u2468" }, { "id": "ref-for-comb-one\u2464\u24ea" }, { "id": "ref-for-comb-one\u2464\u2460" }, { "id": "ref-for-comb-one\u2464\u2461" }, { "id": "ref-for-comb-one\u2464\u2462" }, { "id": "ref-for-comb-one\u2464\u2463" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2464\u2464" }, { "id": "ref-for-comb-one\u2464\u2465" }, { "id": "ref-for-comb-one\u2464\u2466" }, { "id": "ref-for-comb-one\u2464\u2467" }, { "id": "ref-for-comb-one\u2464\u2468" }, { "id": "ref-for-comb-one\u2465\u24ea" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2465\u2460" }, { "id": "ref-for-comb-one\u2465\u2461" }, { "id": "ref-for-comb-one\u2465\u2462" }, { "id": "ref-for-comb-one\u2465\u2463" }, { "id": "ref-for-comb-one\u2465\u2464" }, { "id": "ref-for-comb-one\u2465\u2465" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2465\u2466" }, { "id": "ref-for-comb-one\u2465\u2467" }, { "id": "ref-for-comb-one\u2465\u2468" }, { "id": "ref-for-comb-one\u2466\u24ea" }, { "id": "ref-for-comb-one\u2466\u2460" }, { "id": "ref-for-comb-one\u2466\u2461" }, { "id": "ref-for-comb-one\u2466\u2462" }, { "id": "ref-for-comb-one\u2466\u2463" }, { "id": "ref-for-comb-one\u2466\u2464" }, { "id": "ref-for-comb-one\u2466\u2465" }, { "id": "ref-for-comb-one\u2466\u2466" }, { "id": "ref-for-comb-one\u2466\u2467" }, { "id": "ref-for-comb-one\u2466\u2468" }, { "id": "ref-for-comb-one\u2467\u24ea" }, { "id": "ref-for-comb-one\u2467\u2460" }, { "id": "ref-for-comb-one\u2467\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-comb-one\u2467\u2462" }, { "id": "ref-for-comb-one\u2467\u2463" }, { "id": "ref-for-comb-one\u2467\u2464" }, { "id": "ref-for-comb-one\u2467\u2465" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-comb-one\u2467\u2466" }, { "id": "ref-for-comb-one\u2467\u2467" }, { "id": "ref-for-comb-one\u2467\u2468" }, { "id": "ref-for-comb-one\u2468\u24ea" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-comb-one\u2468\u2460" }, { "id": "ref-for-comb-one\u2468\u2461" }, { "id": "ref-for-comb-one\u2468\u2462" }, { "id": "ref-for-comb-one\u2468\u2463" }, { "id": "ref-for-comb-one\u2468\u2464" }, { "id": "ref-for-comb-one\u2468\u2465" }, { "id": "ref-for-comb-one\u2468\u2466" }, { "id": "ref-for-comb-one\u2468\u2467" }, { "id": "ref-for-comb-one\u2468\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea\u24ea" }, { "id": "ref-for-comb-one\u2460\u24ea\u2460" }, { "id": "ref-for-comb-one\u2460\u24ea\u2461" }, { "id": "ref-for-comb-one\u2460\u24ea\u2462" }, { "id": "ref-for-comb-one\u2460\u24ea\u2463" }, { "id": "ref-for-comb-one\u2460\u24ea\u2464" }, { "id": "ref-for-comb-one\u2460\u24ea\u2465" }, { "id": "ref-for-comb-one\u2460\u24ea\u2466" }, { "id": "ref-for-comb-one\u2460\u24ea\u2467" }, { "id": "ref-for-comb-one\u2460\u24ea\u2468" }, { "id": "ref-for-comb-one\u2460\u2460\u24ea" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "528ea935": { "dfnID": "528ea935", "dfnText": "none", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-none" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2460" }, { "id": "ref-for-valdef-color-none\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2462" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2463" }], "title": "16.2. \n\tSince the Working Draft of 28 April 2022\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2464" }], "title": "16.3. \n\tSince the Working Draft of 15 December 2021\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-none" },
                "61bb5e44": { "dfnID": "61bb5e44", "dfnText": "<number>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-number-value" }, { "id": "ref-for-number-value\u2460" }, { "id": "ref-for-number-value\u2461" }, { "id": "ref-for-number-value\u2462" }, { "id": "ref-for-number-value\u2463" }, { "id": "ref-for-number-value\u2464" }, { "id": "ref-for-number-value\u2465" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-number-value\u2466" }, { "id": "ref-for-number-value\u2467" }, { "id": "ref-for-number-value\u2468" }, { "id": "ref-for-number-value\u2460\u24ea" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-number-value\u2460\u2460" }, { "id": "ref-for-number-value\u2460\u2461" }, { "id": "ref-for-number-value\u2460\u2462" }, { "id": "ref-for-number-value\u2460\u2463" }, { "id": "ref-for-number-value\u2460\u2464" }, { "id": "ref-for-number-value\u2460\u2465" }, { "id": "ref-for-number-value\u2460\u2466" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-number-value\u2460\u2467" }, { "id": "ref-for-number-value\u2460\u2468" }, { "id": "ref-for-number-value\u2461\u24ea" }, { "id": "ref-for-number-value\u2461\u2460" }, { "id": "ref-for-number-value\u2461\u2461" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-number-value\u2461\u2462" }, { "id": "ref-for-number-value\u2461\u2463" }, { "id": "ref-for-number-value\u2461\u2464" }, { "id": "ref-for-number-value\u2461\u2465" }, { "id": "ref-for-number-value\u2461\u2466" }, { "id": "ref-for-number-value\u2461\u2467" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-number-value\u2461\u2468" }, { "id": "ref-for-number-value\u2462\u24ea" }, { "id": "ref-for-number-value\u2462\u2460" }, { "id": "ref-for-number-value\u2462\u2461" }, { "id": "ref-for-number-value\u2462\u2462" }, { "id": "ref-for-number-value\u2462\u2463" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-number-value\u2462\u2464" }, { "id": "ref-for-number-value\u2462\u2465" }, { "id": "ref-for-number-value\u2462\u2466" }, { "id": "ref-for-number-value\u2462\u2467" }, { "id": "ref-for-number-value\u2462\u2468" }, { "id": "ref-for-number-value\u2463\u24ea" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2460" }, { "id": "ref-for-number-value\u2463\u2461" }, { "id": "ref-for-number-value\u2463\u2462" }, { "id": "ref-for-number-value\u2463\u2463" }, { "id": "ref-for-number-value\u2463\u2464" }, { "id": "ref-for-number-value\u2463\u2465" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2466" }, { "id": "ref-for-number-value\u2463\u2467" }, { "id": "ref-for-number-value\u2463\u2468" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-number-value\u2464\u24ea" }, { "id": "ref-for-number-value\u2464\u2460" }, { "id": "ref-for-number-value\u2464\u2461" }, { "id": "ref-for-number-value\u2464\u2462" }, { "id": "ref-for-number-value\u2464\u2463" }, { "id": "ref-for-number-value\u2464\u2464" }, { "id": "ref-for-number-value\u2464\u2465" }, { "id": "ref-for-number-value\u2464\u2466" }, { "id": "ref-for-number-value\u2464\u2467" }, { "id": "ref-for-number-value\u2464\u2468" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-number-value\u2465\u24ea" }, { "id": "ref-for-number-value\u2465\u2460" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2461" }, { "id": "ref-for-number-value\u2465\u2462" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2463" }], "title": "11.4. \n\tSerializing device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "691e902b": { "dfnID": "691e902b", "dfnText": "prophoto-rgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-prophoto-rgb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" },
                "699488a8": { "dfnID": "699488a8", "dfnText": "<url>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-value" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "746d81ae": { "dfnID": "746d81ae", "dfnText": "dark", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-scheme-dark" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark" },
                "77a29323": { "dfnID": "77a29323", "dfnText": "modern color syntax", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-modern-color-syntax" }, { "id": "ref-for-modern-color-syntax\u2460" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2461" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2462" }], "title": "4.2. Relative HSL Colors" }], "url": "https://www.w3.org/TR/css-color-4/#modern-color-syntax" },
                "85dbac5b": { "dfnID": "85dbac5b", "dfnText": "hwb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-hwb-hwb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8c8e51b4": { "dfnID": "8c8e51b4", "dfnText": "computed value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-computed-value" }], "title": "11.4. \n\tSerializing device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "8cbc2b3b": { "dfnID": "8cbc2b3b", "dfnText": "{a}", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-num" }, { "id": "ref-for-mult-num\u2460" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-mult-num\u2461" }, { "id": "ref-for-mult-num\u2462" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-mult-num\u2463" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-num" },
                "8cd4f032": { "dfnID": "8cd4f032", "dfnText": ",", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-comma" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-comb-comma\u2460" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#comb-comma" },
                "8e993f60": { "dfnID": "8e993f60", "dfnText": "hsl()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hsl" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2460" }, { "id": "ref-for-funcdef-hsl\u2461" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2462" }, { "id": "ref-for-funcdef-hsl\u2463" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "https://www.w3.org/TR/css-color-5/#funcdef-hsl" },
                "8fad2d26": { "dfnID": "8fad2d26", "dfnText": "<named-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-named-color" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-named-color" },
                "970f70ea": { "dfnID": "970f70ea", "dfnText": "red", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-red" }], "title": "4. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-red" },
                "99387b3d": { "dfnID": "99387b3d", "dfnText": "light", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-scheme-light" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light" },
                "9d357000": { "dfnID": "9d357000", "dfnText": "CSSOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssomstring" }, { "id": "ref-for-cssomstring\u2460" }, { "id": "ref-for-cssomstring\u2461" }, { "id": "ref-for-cssomstring\u2462" }, { "id": "ref-for-cssomstring\u2463" }, { "id": "ref-for-cssomstring\u2464" }, { "id": "ref-for-cssomstring\u2465" }, { "id": "ref-for-cssomstring\u2466" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "9f6a123e": { "dfnID": "9f6a123e", "dfnText": "color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-attr-color" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-valdef-attr-color\u2460" }], "title": "11.2. \n\tSerializing Relative Color Functions\n" }], "url": "https://drafts.csswg.org/css-values-5/#valdef-attr-color" },
                "a42c65ac": { "dfnID": "a42c65ac", "dfnText": "currentcolor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-currentcolor" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2460" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2461" }], "title": "10.2. \n\tResolving Relative Color Syntax Values\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2462" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2463" }], "title": "11.2. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2464" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" },
                "a55c0dec": { "dfnID": "a55c0dec", "dfnText": "used color scheme", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-used-color-scheme" }, { "id": "ref-for-used-color-scheme\u2460" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme" },
                "a81b1fb8": { "dfnID": "a81b1fb8", "dfnText": "<declaration-list>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-declaration-list" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" },
                "a976c737": { "dfnID": "a976c737", "dfnText": "blue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-blue" }], "title": "4. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-blue" },
                "abed060e": { "dfnID": "abed060e", "dfnText": "display-p3", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-display-p3" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-valdef-color-display-p3\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" },
                "absolute-color": { "dfnID": "absolute-color", "dfnText": "absolute color", "external": false, "refSections": [], "url": "#absolute-color" },
                "af3e7cd2": { "dfnID": "af3e7cd2", "dfnText": "<alpha-value>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-alpha-value" }, { "id": "ref-for-typedef-alpha-value\u2460" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2461" }, { "id": "ref-for-typedef-alpha-value\u2462" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2463" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2464" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2465" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2466" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2467" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2468" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2460\u24ea" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-alpha-value\u2460\u2460" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-5/#typedef-alpha-value" },
                "af4a190d": { "dfnID": "af4a190d", "dfnText": "+", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-one-plus" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-one-plus" },
                "at-ruledef-profile": { "dfnID": "at-ruledef-profile", "dfnText": "@color-profile", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-profile" }, { "id": "ref-for-at-ruledef-profile\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2461" }], "title": "5.2. \n\tCustom Color Spaces\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2462" }, { "id": "ref-for-at-ruledef-profile\u2463" }, { "id": "ref-for-at-ruledef-profile\u2464" }, { "id": "ref-for-at-ruledef-profile\u2465" }, { "id": "ref-for-at-ruledef-profile\u2466" }, { "id": "ref-for-at-ruledef-profile\u2467" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2468" }], "title": "5.4. \n\tCSS and Print: Using Calibrated CMYK and Other Printed Color Spaces\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u24ea" }, { "id": "ref-for-at-ruledef-profile\u2460\u2460" }, { "id": "ref-for-at-ruledef-profile\u2460\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2462" }], "title": "9.1. \n\tColor Space for Interpolation" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2463" }], "title": "12.1. The CSSColorProfileRule interface" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2464" }], "title": "16.6. \n\tChanges from CSS Color 4\n" }], "url": "#at-ruledef-profile" },
                "b3bfee63": { "dfnID": "b3bfee63", "dfnText": "xyz-d65", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz-d65" }], "title": "9.1. \n\tColor Space for Interpolation" }, { "refs": [{ "id": "ref-for-valdef-color-xyz-d65\u2460" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" },
                "b46a2c7d": { "dfnID": "b46a2c7d", "dfnText": "color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color" }], "title": "5.2. \n\tCustom Color Spaces\n" }], "url": "https://www.w3.org/TR/css-color-4/#color" },
                "bc4e4c18": { "dfnID": "bc4e4c18", "dfnText": "hsl", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-hsl-hsl" }, { "id": "ref-for-valdef-hsl-hsl\u2460" }], "title": "3.3. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-hsl-hsl\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" },
                "bdb4e757": { "dfnID": "bdb4e757", "dfnText": "&&", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-all" }], "title": "3. Mixing Colors: the color-mix() Function" }], "url": "https://www.w3.org/TR/css-values-4/#comb-all" },
                "c297b070": { "dfnID": "c297b070", "dfnText": "#", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-comma" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-mult-comma\u2460" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-mult-comma\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-comma" },
                "ce4cacb8": { "dfnID": "ce4cacb8", "dfnText": "srgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-srgb" }], "title": "3.3. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-color-srgb\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb" },
                "cee404c5": { "dfnID": "cee404c5", "dfnText": "<hex-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hex-color" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-hex-color" },
                "channel-keyword": { "dfnID": "channel-keyword", "dfnText": "channel keyword", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-channel-keyword" }, { "id": "ref-for-channel-keyword\u2460" }, { "id": "ref-for-channel-keyword\u2461" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-channel-keyword\u2462" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-channel-keyword\u2463" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-channel-keyword\u2464" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-channel-keyword\u2465" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-channel-keyword\u2466" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-channel-keyword\u2467" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-channel-keyword\u2468" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-channel-keyword\u2460\u24ea" }, { "id": "ref-for-channel-keyword\u2460\u2460" }, { "id": "ref-for-channel-keyword\u2460\u2461" }, { "id": "ref-for-channel-keyword\u2460\u2462" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#channel-keyword" },
                "color-interpolation-method": { "dfnID": "color-interpolation-method", "dfnText": "<color-interpolation-method>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-color-interpolation-method" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-color-interpolation-method\u2460" }, { "id": "ref-for-color-interpolation-method\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#color-interpolation-method" },
                "css-color-profile": { "dfnID": "css-color-profile", "dfnText": "color profile", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-css-color-profile" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-css-color-profile\u2460" }, { "id": "ref-for-css-color-profile\u2461" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-css-color-profile\u2462" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#css-color-profile" },
                "csscolorprofilerule": { "dfnID": "csscolorprofilerule", "dfnText": "CSSColorProfileRule", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-csscolorprofilerule" }], "title": "12.1. The CSSColorProfileRule interface" }, { "refs": [{ "id": "ref-for-csscolorprofilerule\u2460" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#csscolorprofilerule" },
                "d11b143f": { "dfnID": "d11b143f", "dfnText": "a98-rgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-a98-rgb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" },
                "d4441b24": { "dfnID": "d4441b24", "dfnText": "?", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-opt" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-mult-opt\u2460" }, { "id": "ref-for-mult-opt\u2461" }, { "id": "ref-for-mult-opt\u2462" }, { "id": "ref-for-mult-opt\u2463" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2464" }, { "id": "ref-for-mult-opt\u2465" }, { "id": "ref-for-mult-opt\u2466" }, { "id": "ref-for-mult-opt\u2467" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2468" }, { "id": "ref-for-mult-opt\u2460\u24ea" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2460" }, { "id": "ref-for-mult-opt\u2460\u2461" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2462" }, { "id": "ref-for-mult-opt\u2460\u2463" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2464" }, { "id": "ref-for-mult-opt\u2460\u2465" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2466" }, { "id": "ref-for-mult-opt\u2460\u2467" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2468" }, { "id": "ref-for-mult-opt\u2461\u24ea" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2460" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2461" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2462" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "d6c25acf": { "dfnID": "d6c25acf", "dfnText": "parent css style sheet", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-css-rule-parent-css-style-sheet" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/cssom-1/#concept-css-rule-parent-css-style-sheet" },
                "d7e1d67b": { "dfnID": "d7e1d67b", "dfnText": "<angle>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-angle-value" }, { "id": "ref-for-angle-value\u2460" }, { "id": "ref-for-angle-value\u2461" }, { "id": "ref-for-angle-value\u2462" }], "title": "4. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#angle-value" },
                "d9909296": { "dfnID": "d9909296", "dfnText": "pi", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-calc-pi" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#valdef-calc-pi" },
                "dcecfc13": { "dfnID": "dcecfc13", "dfnText": "<ident>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-ident" }, { "id": "ref-for-typedef-ident\u2460" }, { "id": "ref-for-typedef-ident\u2461" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-ident\u2462" }, { "id": "ref-for-typedef-ident\u2463" }, { "id": "ref-for-typedef-ident\u2464" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-ident" },
                "descdef-color-profile-components": { "dfnID": "descdef-color-profile-components", "dfnText": "components", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-components" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#descdef-color-profile-components" },
                "descdef-color-profile-rendering-intent": { "dfnID": "descdef-color-profile-rendering-intent", "dfnText": "rendering-intent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-rendering-intent" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#descdef-color-profile-rendering-intent" },
                "descdef-color-profile-src": { "dfnID": "descdef-color-profile-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-src" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#descdef-color-profile-src" },
                "dom-csscolorprofilerule-components": { "dfnID": "dom-csscolorprofilerule-components", "dfnText": "components", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-components" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-components" },
                "dom-csscolorprofilerule-name": { "dfnID": "dom-csscolorprofilerule-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-name" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-name" },
                "dom-csscolorprofilerule-renderingintent": { "dfnID": "dom-csscolorprofilerule-renderingintent", "dfnText": "renderingIntent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-renderingintent" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-renderingintent" },
                "dom-csscolorprofilerule-src": { "dfnID": "dom-csscolorprofilerule-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-src" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-src" },
                "e2a9e9b9": { "dfnID": "e2a9e9b9", "dfnText": "legacy color syntax", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-legacy-color-syntax" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-legacy-color-syntax\u2460" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-legacy-color-syntax\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#legacy-color-syntax" },
                "e5457abf": { "dfnID": "e5457abf", "dfnText": "xyz-d50", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz-d50" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d50" },
                "e98886a5": { "dfnID": "e98886a5", "dfnText": "srgb-linear", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-srgb-linear" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" },
                "ee7bba09": { "dfnID": "ee7bba09", "dfnText": "response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://fetch.spec.whatwg.org/#concept-response" },
                "f3226176": { "dfnID": "f3226176", "dfnText": "rgba()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-rgba" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2460" }, { "id": "ref-for-funcdef-rgba\u2461" }], "title": "4.1. Relative sRGB Colors" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgba" },
                "f3b8a771": { "dfnID": "f3b8a771", "dfnText": "rgb()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-rgb" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2460" }, { "id": "ref-for-funcdef-rgb\u2461" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2462" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-5/#funcdef-rgb" },
                "f5b34cad": { "dfnID": "f5b34cad", "dfnText": "<dashed-ident>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-dashed-ident" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2460" }, { "id": "ref-for-typedef-dashed-ident\u2461" }, { "id": "ref-for-typedef-dashed-ident\u2462" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2463" }], "title": "5.2. \n\tCustom Color Spaces\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2464" }, { "id": "ref-for-typedef-dashed-ident\u2465" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2466" }, { "id": "ref-for-typedef-dashed-ident\u2467" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" },
                "f6f69187": { "dfnID": "f6f69187", "dfnText": "color space", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color-space" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#color-space" },
                "f8e15dd7": { "dfnID": "f8e15dd7", "dfnText": "lime", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-lime" }], "title": "4. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-lime" },
                "fetch-an-external-color-profile": { "dfnID": "fetch-an-external-color-profile", "dfnText": "fetch an external color profile", "external": false, "refSections": [], "url": "#fetch-an-external-color-profile" },
                "funcdef-color": { "dfnID": "funcdef-color", "dfnText": "color()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-color" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-color\u2461" }, { "id": "ref-for-funcdef-color\u2462" }, { "id": "ref-for-funcdef-color\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2464" }, { "id": "ref-for-funcdef-color\u2465" }, { "id": "ref-for-funcdef-color\u2466" }, { "id": "ref-for-funcdef-color\u2467" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-funcdef-color\u2468" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u24ea" }], "title": "11.3. \n\tSerializing Custom Color Spaces\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2460" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2461" }], "title": "16.6. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-color" },
                "funcdef-color-mix": { "dfnID": "funcdef-color-mix", "dfnText": "color-mix()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-color-mix" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460" }, { "id": "ref-for-funcdef-color-mix\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2462" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2463" }], "title": "3.4. \n\tEffect of Non-Unity Alpha on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2464" }, { "id": "ref-for-funcdef-color-mix\u2465" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2466" }], "title": "11. \n\tSerialization\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2467" }, { "id": "ref-for-funcdef-color-mix\u2468" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460\u24ea" }, { "id": "ref-for-funcdef-color-mix\u2460\u2460" }, { "id": "ref-for-funcdef-color-mix\u2460\u2461" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460\u2462" }], "title": "16.6. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-color-mix" },
                "funcdef-contrast-color": { "dfnID": "funcdef-contrast-color", "dfnText": "contrast-color()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-contrast-color" }, { "id": "ref-for-funcdef-contrast-color\u2460" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2461" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-contrast-color" },
                "funcdef-device-cmyk": { "dfnID": "funcdef-device-cmyk", "dfnText": "device-cmyk()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-device-cmyk" }, { "id": "ref-for-funcdef-device-cmyk\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2461" }, { "id": "ref-for-funcdef-device-cmyk\u2462" }, { "id": "ref-for-funcdef-device-cmyk\u2463" }, { "id": "ref-for-funcdef-device-cmyk\u2464" }, { "id": "ref-for-funcdef-device-cmyk\u2465" }, { "id": "ref-for-funcdef-device-cmyk\u2466" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2467" }], "title": "11. \n\tSerialization\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2468" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u24ea" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2460" }], "title": "11.4. \n\tSerializing device-cmyk Values\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2461" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2462" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2463" }], "title": "16.6. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-device-cmyk" },
                "funcdef-hwb": { "dfnID": "funcdef-hwb", "dfnText": "hwb()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hwb" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2460" }, { "id": "ref-for-funcdef-hwb\u2461" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2462" }, { "id": "ref-for-funcdef-hwb\u2463" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-hwb" },
                "funcdef-lab": { "dfnID": "funcdef-lab", "dfnText": "lab()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-lab" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2460" }, { "id": "ref-for-funcdef-lab\u2461" }], "title": "4.4. Relative Lab Colors" }], "url": "#funcdef-lab" },
                "funcdef-lch": { "dfnID": "funcdef-lch", "dfnText": "lch()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-lch" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2460" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2461" }, { "id": "ref-for-funcdef-lch\u2462" }], "title": "4.6. Relative LCH Colors" }], "url": "#funcdef-lch" },
                "funcdef-light-dark": { "dfnID": "funcdef-light-dark", "dfnText": "light-dark()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-light-dark" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2460" }, { "id": "ref-for-funcdef-light-dark\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2462" }, { "id": "ref-for-funcdef-light-dark\u2463" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2464" }, { "id": "ref-for-funcdef-light-dark\u2465" }], "title": "16.1. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-light-dark" },
                "funcdef-oklab": { "dfnID": "funcdef-oklab", "dfnText": "oklab()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-oklab" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2460" }, { "id": "ref-for-funcdef-oklab\u2461" }], "title": "4.5. Relative Oklab Colors" }], "url": "#funcdef-oklab" },
                "funcdef-oklch": { "dfnID": "funcdef-oklch", "dfnText": "oklch()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-oklch" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2460" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2461" }, { "id": "ref-for-funcdef-oklch\u2462" }], "title": "4.7. Relative Oklch Colors" }], "url": "#funcdef-oklch" },
                "gamut-map": { "dfnID": "gamut-map", "dfnText": "gamut-map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gamut-map" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#gamut-map" },
                "invalid-color": { "dfnID": "invalid-color", "dfnText": "invalid color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-invalid-color" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-invalid-color\u2460" }, { "id": "ref-for-invalid-color\u2461" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-invalid-color\u2462" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#invalid-color" },
                "naively-convert-from-cmyk-to-rgba": { "dfnID": "naively-convert-from-cmyk-to-rgba", "dfnText": "naively convert from CMYK to RGBA", "external": false, "refSections": [], "url": "#naively-convert-from-cmyk-to-rgba" },
                "naively-convert-from-rgba-to-cmyk": { "dfnID": "naively-convert-from-rgba-to-cmyk", "dfnText": "naively convert from RGBA to CMYK", "external": false, "refSections": [], "url": "#naively-convert-from-rgba-to-cmyk" },
                "origin-color": { "dfnID": "origin-color", "dfnText": "origin color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-origin-color" }, { "id": "ref-for-origin-color\u2460" }, { "id": "ref-for-origin-color\u2461" }, { "id": "ref-for-origin-color\u2462" }, { "id": "ref-for-origin-color\u2463" }, { "id": "ref-for-origin-color\u2464" }, { "id": "ref-for-origin-color\u2465" }, { "id": "ref-for-origin-color\u2466" }, { "id": "ref-for-origin-color\u2467" }, { "id": "ref-for-origin-color\u2468" }, { "id": "ref-for-origin-color\u2460\u24ea" }, { "id": "ref-for-origin-color\u2460\u2460" }, { "id": "ref-for-origin-color\u2460\u2461" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2462" }, { "id": "ref-for-origin-color\u2460\u2463" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2464" }, { "id": "ref-for-origin-color\u2460\u2465" }, { "id": "ref-for-origin-color\u2460\u2466" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2467" }, { "id": "ref-for-origin-color\u2460\u2468" }, { "id": "ref-for-origin-color\u2461\u24ea" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2460" }, { "id": "ref-for-origin-color\u2461\u2461" }, { "id": "ref-for-origin-color\u2461\u2462" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2463" }, { "id": "ref-for-origin-color\u2461\u2464" }, { "id": "ref-for-origin-color\u2461\u2465" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2466" }, { "id": "ref-for-origin-color\u2461\u2467" }, { "id": "ref-for-origin-color\u2461\u2468" }, { "id": "ref-for-origin-color\u2462\u24ea" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2460" }, { "id": "ref-for-origin-color\u2462\u2461" }, { "id": "ref-for-origin-color\u2462\u2462" }, { "id": "ref-for-origin-color\u2462\u2463" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2464" }, { "id": "ref-for-origin-color\u2462\u2465" }, { "id": "ref-for-origin-color\u2462\u2466" }, { "id": "ref-for-origin-color\u2462\u2467" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2468" }, { "id": "ref-for-origin-color\u2463\u24ea" }], "title": "11.2. \n\tSerializing Relative Color Functions\n" }], "url": "#origin-color" },
                "originally-specified-color-space": { "dfnID": "originally-specified-color-space", "dfnText": "originally specified color space", "external": false, "refSections": [], "url": "#originally-specified-color-space" },
                "out-of-gamut": { "dfnID": "out-of-gamut", "dfnText": "out of gamut", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-out-of-gamut" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#out-of-gamut" },
                "relative-color": { "dfnID": "relative-color", "dfnText": "relative color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-relative-color" }, { "id": "ref-for-relative-color\u2460" }, { "id": "ref-for-relative-color\u2461" }, { "id": "ref-for-relative-color\u2462" }], "title": "4. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-relative-color\u2463" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2464" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2465" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2466" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2467" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2468" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u24ea" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2460" }, { "id": "ref-for-relative-color\u2460\u2461" }, { "id": "ref-for-relative-color\u2460\u2462" }, { "id": "ref-for-relative-color\u2460\u2463" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#relative-color" },
                "typedef-cmyk-component": { "dfnID": "typedef-cmyk-component", "dfnText": "<cmyk-component>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-cmyk-component" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-cmyk-component" },
                "typedef-color": { "dfnID": "typedef-color", "dfnText": "<color>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color" }, { "id": "ref-for-typedef-color\u2460" }, { "id": "ref-for-typedef-color\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-typedef-color\u2462" }, { "id": "ref-for-typedef-color\u2463" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-typedef-color\u2464" }, { "id": "ref-for-typedef-color\u2465" }], "title": "4.1. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2466" }, { "id": "ref-for-typedef-color\u2467" }], "title": "4.2. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2468" }], "title": "4.3. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u24ea" }], "title": "4.4. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2460" }], "title": "4.5. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2461" }], "title": "4.6. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2462" }], "title": "4.7. Relative Oklch Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2464" }, { "id": "ref-for-typedef-color\u2460\u2465" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2466" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2467" }], "title": "10. \n\tResolving <color> Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2468" }, { "id": "ref-for-typedef-color\u2461\u24ea" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2460" }, { "id": "ref-for-typedef-color\u2461\u2461" }, { "id": "ref-for-typedef-color\u2461\u2462" }], "title": "10.2. \n\tResolving Relative Color Syntax Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2463" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2464" }], "title": "11.2. \n\tSerializing Relative Color Functions\n" }], "url": "#typedef-color" },
                "typedef-color-base": { "dfnID": "typedef-color-base", "dfnText": "<color-base>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-base" }], "title": "2. The <color> syntax" }], "url": "#typedef-color-base" },
                "typedef-color-function": { "dfnID": "typedef-color-function", "dfnText": "<color-function>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-function" }], "title": "2. The <color> syntax" }], "url": "#typedef-color-function" },
                "typedef-color-space": { "dfnID": "typedef-color-space", "dfnText": "<color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-space" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2460" }], "title": "3.2. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2461" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2462" }], "title": "16.5. \n\tSince the FPWD of 10 June 2020\n" }], "url": "#typedef-color-space" },
                "typedef-colorspace-params": { "dfnID": "typedef-colorspace-params", "dfnText": "<colorspace-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-colorspace-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-colorspace-params" },
                "typedef-custom-color-space": { "dfnID": "typedef-custom-color-space", "dfnText": "<custom-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-custom-color-space" }, { "id": "ref-for-typedef-custom-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-custom-color-space" },
                "typedef-custom-params": { "dfnID": "typedef-custom-params", "dfnText": "<custom-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-custom-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-custom-params\u2460" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-custom-params" },
                "typedef-hue-interpolation-method": { "dfnID": "typedef-hue-interpolation-method", "dfnText": "<hue-interpolation-method>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hue-interpolation-method" }, { "id": "ref-for-typedef-hue-interpolation-method\u2460" }, { "id": "ref-for-typedef-hue-interpolation-method\u2461" }], "title": "3.2. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-typedef-hue-interpolation-method\u2462" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-hue-interpolation-method" },
                "typedef-legacy-device-cmyk-syntax": { "dfnID": "typedef-legacy-device-cmyk-syntax", "dfnText": "<legacy-device-cmyk-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-legacy-device-cmyk-syntax" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-legacy-device-cmyk-syntax" },
                "typedef-modern-device-cmyk-syntax": { "dfnID": "typedef-modern-device-cmyk-syntax", "dfnText": "<modern-device-cmyk-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-device-cmyk-syntax" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-modern-device-cmyk-syntax" },
                "typedef-modern-hsl-syntax": { "dfnID": "typedef-modern-hsl-syntax", "dfnText": "<modern-hsl-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-hsl-syntax" }], "title": "4.2. Relative HSL Colors" }], "url": "#typedef-modern-hsl-syntax" },
                "typedef-modern-hsla-syntax": { "dfnID": "typedef-modern-hsla-syntax", "dfnText": "<modern-hsla-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-hsla-syntax" }], "title": "4.2. Relative HSL Colors" }], "url": "#typedef-modern-hsla-syntax" },
                "typedef-modern-rgb-syntax": { "dfnID": "typedef-modern-rgb-syntax", "dfnText": "<modern-rgb-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-rgb-syntax" }], "title": "4.1. Relative sRGB Colors" }], "url": "#typedef-modern-rgb-syntax" },
                "typedef-modern-rgba-syntax": { "dfnID": "typedef-modern-rgba-syntax", "dfnText": "<modern-rgba-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-rgba-syntax" }], "title": "4.1. Relative sRGB Colors" }], "url": "#typedef-modern-rgba-syntax" },
                "typedef-polar-color-space": { "dfnID": "typedef-polar-color-space", "dfnText": "<polar-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-polar-color-space" }, { "id": "ref-for-typedef-polar-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-polar-color-space" },
                "typedef-predefined-rgb": { "dfnID": "typedef-predefined-rgb", "dfnText": "<predefined-rgb>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-predefined-rgb" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-predefined-rgb" },
                "typedef-predefined-rgb-params": { "dfnID": "typedef-predefined-rgb-params", "dfnText": "<predefined-rgb-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-predefined-rgb-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-predefined-rgb-params\u2460" }, { "id": "ref-for-typedef-predefined-rgb-params\u2461" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-predefined-rgb-params" },
                "typedef-rectangular-color-space": { "dfnID": "typedef-rectangular-color-space", "dfnText": "<rectangular-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-rectangular-color-space" }, { "id": "ref-for-typedef-rectangular-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-rectangular-color-space" },
                "typedef-xyz": { "dfnID": "typedef-xyz", "dfnText": "<xyz>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-xyz" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-xyz" },
                "typedef-xyz-params": { "dfnID": "typedef-xyz-params", "dfnText": "<xyz-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-xyz-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-xyz-params\u2460" }, { "id": "ref-for-typedef-xyz-params\u2461" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-xyz-params" },
                "valdef-color-alpha": { "dfnID": "valdef-color-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-color-alpha" },
                "valdef-color-b": { "dfnID": "valdef-color-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-color-b" },
                "valdef-color-g": { "dfnID": "valdef-color-g", "dfnText": "g", "external": false, "refSections": [], "url": "#valdef-color-g" },
                "valdef-color-profile-rendering-intent-absolute-colorimetric": { "dfnID": "valdef-color-profile-rendering-intent-absolute-colorimetric", "dfnText": "absolute-colorimetric", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-absolute-colorimetric" },
                "valdef-color-profile-rendering-intent-perceptual": { "dfnID": "valdef-color-profile-rendering-intent-perceptual", "dfnText": "perceptual", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-perceptual" },
                "valdef-color-profile-rendering-intent-relative-colorimetric": { "dfnID": "valdef-color-profile-rendering-intent-relative-colorimetric", "dfnText": "relative-colorimetric", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-relative-colorimetric" },
                "valdef-color-profile-rendering-intent-saturation": { "dfnID": "valdef-color-profile-rendering-intent-saturation", "dfnText": "saturation", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-saturation" },
                "valdef-color-r": { "dfnID": "valdef-color-r", "dfnText": "r", "external": false, "refSections": [], "url": "#valdef-color-r" },
                "valdef-color-x": { "dfnID": "valdef-color-x", "dfnText": "x", "external": false, "refSections": [], "url": "#valdef-color-x" },
                "valdef-color-y": { "dfnID": "valdef-color-y", "dfnText": "y", "external": false, "refSections": [], "url": "#valdef-color-y" },
                "valdef-color-z": { "dfnID": "valdef-color-z", "dfnText": "z", "external": false, "refSections": [], "url": "#valdef-color-z" },
                "valdef-hsl-alpha": { "dfnID": "valdef-hsl-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-hsl-alpha" },
                "valdef-hsl-h": { "dfnID": "valdef-hsl-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-hsl-h" },
                "valdef-hsl-l": { "dfnID": "valdef-hsl-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-hsl-l" },
                "valdef-hsl-s": { "dfnID": "valdef-hsl-s", "dfnText": "s", "external": false, "refSections": [], "url": "#valdef-hsl-s" },
                "valdef-hwb-alpha": { "dfnID": "valdef-hwb-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-hwb-alpha" },
                "valdef-hwb-b": { "dfnID": "valdef-hwb-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-hwb-b" },
                "valdef-hwb-h": { "dfnID": "valdef-hwb-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-hwb-h" },
                "valdef-hwb-w": { "dfnID": "valdef-hwb-w", "dfnText": "w", "external": false, "refSections": [], "url": "#valdef-hwb-w" },
                "valdef-lab-a": { "dfnID": "valdef-lab-a", "dfnText": "a", "external": false, "refSections": [], "url": "#valdef-lab-a" },
                "valdef-lab-alpha": { "dfnID": "valdef-lab-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-lab-alpha" },
                "valdef-lab-b": { "dfnID": "valdef-lab-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-lab-b" },
                "valdef-lab-l": { "dfnID": "valdef-lab-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-lab-l" },
                "valdef-lch-alpha": { "dfnID": "valdef-lch-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-lch-alpha" },
                "valdef-lch-c": { "dfnID": "valdef-lch-c", "dfnText": "c", "external": false, "refSections": [], "url": "#valdef-lch-c" },
                "valdef-lch-h": { "dfnID": "valdef-lch-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-lch-h" },
                "valdef-lch-l": { "dfnID": "valdef-lch-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-lch-l" },
                "valdef-oklab-a": { "dfnID": "valdef-oklab-a", "dfnText": "a", "external": false, "refSections": [], "url": "#valdef-oklab-a" },
                "valdef-oklab-alpha": { "dfnID": "valdef-oklab-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-oklab-alpha" },
                "valdef-oklab-b": { "dfnID": "valdef-oklab-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-oklab-b" },
                "valdef-oklab-l": { "dfnID": "valdef-oklab-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-oklab-l" },
                "valdef-oklch-alpha": { "dfnID": "valdef-oklch-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-oklch-alpha" },
                "valdef-oklch-c": { "dfnID": "valdef-oklch-c", "dfnText": "c", "external": false, "refSections": [], "url": "#valdef-oklch-c" },
                "valdef-oklch-h": { "dfnID": "valdef-oklch-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-oklch-h" },
                "valdef-oklch-l": { "dfnID": "valdef-oklch-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-oklch-l" },
                "valdef-rgb-alpha": { "dfnID": "valdef-rgb-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-rgb-alpha" },
                "valdef-rgb-b": { "dfnID": "valdef-rgb-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-rgb-b" },
                "valdef-rgb-g": { "dfnID": "valdef-rgb-g", "dfnText": "g", "external": false, "refSections": [], "url": "#valdef-rgb-g" },
                "valdef-rgb-r": { "dfnID": "valdef-rgb-r", "dfnText": "r", "external": false, "refSections": [], "url": "#valdef-rgb-r" },
                "valid-color": { "dfnID": "valid-color", "dfnText": "valid color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valid-color" }, { "id": "ref-for-valid-color\u2460" }, { "id": "ref-for-valid-color\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-valid-color\u2462" }, { "id": "ref-for-valid-color\u2463" }, { "id": "ref-for-valid-color\u2464" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#valid-color" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-link-titles */
        "use strict";
        {
            let linkTitleData = {
                "https://www.w3.org/TR/css-values-4/#angle-value": "Expands to: deg | grad | rad | turn",
                "https://www.w3.org/TR/css-values-4/#url-value": "Expands to: local url flag",
            };

            function setTypeTitles() {
                for (let el of document.querySelectorAll("a[href]")) {
                    if (el.href in linkTitleData && !el.hasAttribute("title")) {
                        el.setAttribute("title", linkTitleData[el.href]);
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", setTypeTitles);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#at-ruledef-profile": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "@color-profile", "type": "at-rule", "url": "#at-ruledef-profile" },
                "#channel-keyword": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "channel keyword", "type": "dfn", "url": "#channel-keyword" },
                "#color-interpolation-method": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-interpolation-method>", "type": "type", "url": "#color-interpolation-method" },
                "#css-color-profile": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color profile", "type": "dfn", "url": "#css-color-profile" },
                "#csscolorprofilerule": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "CSSColorProfileRule", "type": "interface", "url": "#csscolorprofilerule" },
                "#descdef-color-profile-components": { "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "components", "type": "descriptor", "url": "#descdef-color-profile-components" },
                "#descdef-color-profile-rendering-intent": { "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "rendering-intent", "type": "descriptor", "url": "#descdef-color-profile-rendering-intent" },
                "#descdef-color-profile-src": { "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "src", "type": "descriptor", "url": "#descdef-color-profile-src" },
                "#dom-csscolorprofilerule-components": { "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "components", "type": "attribute", "url": "#dom-csscolorprofilerule-components" },
                "#dom-csscolorprofilerule-name": { "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "name", "type": "attribute", "url": "#dom-csscolorprofilerule-name" },
                "#dom-csscolorprofilerule-renderingintent": { "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "renderingIntent", "type": "attribute", "url": "#dom-csscolorprofilerule-renderingintent" },
                "#dom-csscolorprofilerule-src": { "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "src", "type": "attribute", "url": "#dom-csscolorprofilerule-src" },
                "#funcdef-color": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color()", "type": "function", "url": "#funcdef-color" },
                "#funcdef-color-mix": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color-mix()", "type": "function", "url": "#funcdef-color-mix" },
                "#funcdef-contrast-color": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "contrast-color()", "type": "function", "url": "#funcdef-contrast-color" },
                "#funcdef-device-cmyk": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "device-cmyk()", "type": "function", "url": "#funcdef-device-cmyk" },
                "#funcdef-hwb": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "hwb()", "type": "function", "url": "#funcdef-hwb" },
                "#funcdef-lab": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "lab()", "type": "function", "url": "#funcdef-lab" },
                "#funcdef-lch": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "lch()", "type": "function", "url": "#funcdef-lch" },
                "#funcdef-light-dark": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "light-dark()", "type": "function", "url": "#funcdef-light-dark" },
                "#funcdef-oklab": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "oklab()", "type": "function", "url": "#funcdef-oklab" },
                "#funcdef-oklch": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "oklch()", "type": "function", "url": "#funcdef-oklch" },
                "#gamut-map": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "gamut-map", "type": "dfn", "url": "#gamut-map" },
                "#invalid-color": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "invalid color", "type": "dfn", "url": "#invalid-color" },
                "#origin-color": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "origin color", "type": "dfn", "url": "#origin-color" },
                "#out-of-gamut": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "out of gamut", "type": "dfn", "url": "#out-of-gamut" },
                "#relative-color": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "relative color", "type": "dfn", "url": "#relative-color" },
                "#typedef-cmyk-component": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<cmyk-component>", "type": "type", "url": "#typedef-cmyk-component" },
                "#typedef-color": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color>", "type": "type", "url": "#typedef-color" },
                "#typedef-color-base": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-base>", "type": "type", "url": "#typedef-color-base" },
                "#typedef-color-function": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-function>", "type": "type", "url": "#typedef-color-function" },
                "#typedef-color-space": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-space>", "type": "type", "url": "#typedef-color-space" },
                "#typedef-colorspace-params": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<colorspace-params>", "type": "type", "url": "#typedef-colorspace-params" },
                "#typedef-custom-color-space": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<custom-color-space>", "type": "type", "url": "#typedef-custom-color-space" },
                "#typedef-custom-params": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<custom-params>", "type": "type", "url": "#typedef-custom-params" },
                "#typedef-hue-interpolation-method": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<hue-interpolation-method>", "type": "type", "url": "#typedef-hue-interpolation-method" },
                "#typedef-legacy-device-cmyk-syntax": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<legacy-device-cmyk-syntax>", "type": "type", "url": "#typedef-legacy-device-cmyk-syntax" },
                "#typedef-modern-device-cmyk-syntax": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-device-cmyk-syntax>", "type": "type", "url": "#typedef-modern-device-cmyk-syntax" },
                "#typedef-modern-hsl-syntax": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-hsl-syntax>", "type": "type", "url": "#typedef-modern-hsl-syntax" },
                "#typedef-modern-hsla-syntax": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-hsla-syntax>", "type": "type", "url": "#typedef-modern-hsla-syntax" },
                "#typedef-modern-rgb-syntax": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-rgb-syntax>", "type": "type", "url": "#typedef-modern-rgb-syntax" },
                "#typedef-modern-rgba-syntax": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-rgba-syntax>", "type": "type", "url": "#typedef-modern-rgba-syntax" },
                "#typedef-polar-color-space": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<polar-color-space>", "type": "type", "url": "#typedef-polar-color-space" },
                "#typedef-predefined-rgb": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<predefined-rgb>", "type": "type", "url": "#typedef-predefined-rgb" },
                "#typedef-predefined-rgb-params": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<predefined-rgb-params>", "type": "type", "url": "#typedef-predefined-rgb-params" },
                "#typedef-rectangular-color-space": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<rectangular-color-space>", "type": "type", "url": "#typedef-rectangular-color-space" },
                "#typedef-xyz": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<xyz>", "type": "type", "url": "#typedef-xyz" },
                "#typedef-xyz-params": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<xyz-params>", "type": "type", "url": "#typedef-xyz-params" },
                "#valid-color": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "valid color", "type": "dfn", "url": "#valid-color" },
                "https://drafts.csswg.org/css-values-5/#valdef-attr-color": { "export": true, "for_": ["attr()"], "level": "5", "normative": true, "shortname": "css-values", "spec": "css-values-5", "status": "current", "text": "color", "type": "value", "url": "https://drafts.csswg.org/css-values-5/#valdef-attr-color" },
                "https://fetch.spec.whatwg.org/#concept-response": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response" },
                "https://webidl.spec.whatwg.org/#Exposed": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://www.w3.org/TR/css-cascade-5/#actual-value": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "actual value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#actual-value" },
                "https://www.w3.org/TR/css-cascade-5/#computed-value": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "computed value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "https://www.w3.org/TR/css-color-4/#analogous-components": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "analogous components", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#analogous-components" },
                "https://www.w3.org/TR/css-color-4/#color": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#color" },
                "https://www.w3.org/TR/css-color-4/#color-space": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color space", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#color-space" },
                "https://www.w3.org/TR/css-color-4/#funcdef-hsla": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsla()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsla" },
                "https://www.w3.org/TR/css-color-4/#funcdef-rgba": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rgba()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgba" },
                "https://www.w3.org/TR/css-color-4/#legacy-color-syntax": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "legacy color syntax", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#legacy-color-syntax" },
                "https://www.w3.org/TR/css-color-4/#modern-color-syntax": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "modern color syntax", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#modern-color-syntax" },
                "https://www.w3.org/TR/css-color-4/#propdef-color": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "property", "url": "https://www.w3.org/TR/css-color-4/#propdef-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-hex-color": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<hex-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-hex-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-hue": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<hue>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-hue" },
                "https://www.w3.org/TR/css-color-4/#typedef-named-color": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<named-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-named-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-system-color": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<system-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-system-color" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "a98-rgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-black": { "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "black", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-black" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-blue": { "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "blue", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-blue" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor": { "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "currentcolor", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen": { "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "darkolivegreen", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "display-p3", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-lime": { "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lime", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-lime" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-none": { "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-none" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "prophoto-rgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rec2020", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-red": { "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "red", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-red" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-srgb": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "srgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "srgb-linear", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-white": { "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "white", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-white" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d50": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz-d50", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d50" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65": { "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz-d65", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" },
                "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl": { "export": true, "for_": ["hsl()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsl", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" },
                "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb": { "export": true, "for_": ["hwb()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hwb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" },
                "https://www.w3.org/TR/css-color-4/#valdef-lab-lab": { "export": true, "for_": ["lab()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lab", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-lab-lab" },
                "https://www.w3.org/TR/css-color-4/#valdef-lch-lch": { "export": true, "for_": ["lch()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lch", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-lch-lch" },
                "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab": { "export": true, "for_": ["oklab()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "oklab", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" },
                "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch": { "export": true, "for_": ["oklch()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "oklch", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" },
                "https://www.w3.org/TR/css-color-5/#funcdef-hsl": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "snapshot", "text": "hsl()", "type": "function", "url": "https://www.w3.org/TR/css-color-5/#funcdef-hsl" },
                "https://www.w3.org/TR/css-color-5/#funcdef-rgb": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "snapshot", "text": "rgb()", "type": "function", "url": "https://www.w3.org/TR/css-color-5/#funcdef-rgb" },
                "https://www.w3.org/TR/css-color-5/#typedef-alpha-value": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "snapshot", "text": "<alpha-value>", "type": "type", "url": "https://www.w3.org/TR/css-color-5/#typedef-alpha-value" },
                "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "used color scheme", "type": "dfn", "url": "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme" },
                "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark": { "export": true, "for_": ["color-scheme"], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "dark", "type": "value", "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark" },
                "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light": { "export": true, "for_": ["color-scheme"], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "light", "type": "value", "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light" },
                "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "<declaration-list>", "type": "type", "url": "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" },
                "https://www.w3.org/TR/css-values-4/#angle-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<angle>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#angle-value" },
                "https://www.w3.org/TR/css-values-4/#canonical-unit": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "canonical unit", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#canonical-unit" },
                "https://www.w3.org/TR/css-values-4/#comb-all": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "&&", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-all" },
                "https://www.w3.org/TR/css-values-4/#comb-comma": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": ",", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-comma" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "fetch a style resource", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource" },
                "https://www.w3.org/TR/css-values-4/#funcdef-calc": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "calc()", "type": "function", "url": "https://www.w3.org/TR/css-values-4/#funcdef-calc" },
                "https://www.w3.org/TR/css-values-4/#math-function": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "math function", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#math-function" },
                "https://www.w3.org/TR/css-values-4/#mult-comma": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "#", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-comma" },
                "https://www.w3.org/TR/css-values-4/#mult-num": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "{a}", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-num" },
                "https://www.w3.org/TR/css-values-4/#mult-one-plus": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "+", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-one-plus" },
                "https://www.w3.org/TR/css-values-4/#mult-opt": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "?", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "https://www.w3.org/TR/css-values-4/#number-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<number>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "https://www.w3.org/TR/css-values-4/#percentage-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<percentage>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<dashed-ident>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" },
                "https://www.w3.org/TR/css-values-4/#typedef-ident": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<ident>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-ident" },
                "https://www.w3.org/TR/css-values-4/#url-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<url>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "https://www.w3.org/TR/css-values-4/#valdef-calc-pi": { "export": true, "for_": ["calc()"], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "pi", "type": "value", "url": "https://www.w3.org/TR/css-values-4/#valdef-calc-pi" },
                "https://www.w3.org/TR/cssom-1/#concept-css-rule-parent-css-style-sheet": { "export": false, "for_": ["CSSRule"], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "parent css style sheet", "type": "dfn", "url": "https://www.w3.org/TR/cssom-1/#concept-css-rule-parent-css-style-sheet" },
                "https://www.w3.org/TR/cssom-1/#cssomstring": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSOMString", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "https://www.w3.org/TR/cssom-1/#cssrule": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSRule", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.text != linkText) {
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.text)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const ref = refsData[url];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-wpt */
        "use strict";
        {
            let wptData = {
                "paths": ["/css/css-color/"],
            };

            document.addEventListener("DOMContentLoaded", async () => {
                if (wptData.paths.length == 0) return;

                const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
                const runs = await (await fetch(runsUrl)).json();

                let testResults = [];
                for (const pathPrefix of wptData.paths) {
                    const pathResults = await (await fetch("https://wpt.fyi/api/search", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            "run_ids": runs.map(x => x.id),
                            "query": { "path": pathPrefix },
                        })
                    })).json();
                    testResults = testResults.concat(pathResults.results);
                }

                const browsers = runs.map(x => ({ name: x.browser_name, version: x.browser_version, passes: 0, total: 0 }));
                const resultsFromPath = new Map(testResults.map(result => {
                    const testPath = result.test;
                    const passes = result.legacy_status.map(x => [x.passes, x.total]);
                    return [testPath, passes];
                }));
                const seenTests = new Set();
                document.querySelectorAll(".wpt-name").forEach(nameEl => {
                    const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
                    if (!passData) {
                        console.log("Couldn't find test in results:", nameEl);
                        return
                    }
                    const numTests = passData[0][1];
                    if (numTests > 1) {
                        nameEl.insertAdjacentElement("beforeend",
                            mk.small({}, ` (${numTests} tests)`));
                    }
                    if (passData == undefined) return;
                    const resultsEl = mk.span({ "class": "wpt-results" },
                        ...passData.map((p, i) => mk.span(
                            {
                                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                                "class": "wpt-result",
                                "style": `background: conic-gradient(forestgreen ${p[0] / p[1] * 360}deg, darkred 0deg);`,
                            })),
                    );
                    nameEl.insertAdjacentElement("afterend", resultsEl);

                    // Only update the summary pass/total count if we haven't seen this
                    // test before, to support authors listing the same test multiple times
                    // in a spec.
                    if (!seenTests.has(nameEl.getAttribute("title"))) {
                        seenTests.add(nameEl.getAttribute("title"));
                        passData.forEach((p, i) => {
                            browsers[i].passes += p[0];
                            browsers[i].total += p[1];
                        });
                    }
                });
                const overview = document.querySelector(".wpt-overview");
                if (overview) {
                    overview.appendChild(mk.ul({}, ...browsers.map(formatWptResult)));
                    document.head.appendChild(mk.style({},
                        `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
                }
            });

            function formatWptResult({ name, version, passes, total }) {
                const passRate = passes / total;
                let passClass = "";
                if (passRate == 0) passClass = "passes-none";
                else if (passRate < .2) passClass = "passes-hardly";
                else if (passRate < .4) passClass = "passes-a-few";
                else if (passRate < .6) passClass = "passes-half";
                else if (passRate < .8) passClass = "passes-lots";
                else if (passRate < 1) passClass = "passes-most";
                else passClass = "passes-all";

                name = name[0].toUpperCase() + name.slice(1);
                const shortVersion = /^\d+/.exec(version);
                const icon = []

                if (name == "Chrome") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/chrome_64x64.png" }));
                if (name == "Edge") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/edge_64x64.png" }));
                if (name == "Safari") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/safari_64x64.png" }));
                if (name == "Firefox") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/firefox_64x64.png" }));

                return mk.li({ "class": passClass },
                    mk.nobr({ 'class': 'browser' }, ...icon, ` ${name} ${shortVersion}`),
                    mk.br(),
                    mk.nobr({ 'class': 'pass-rate' }, `${passes}/${total}`)
                );
            }
        }
    </script>
    <script src="/dropdown.js"></script>