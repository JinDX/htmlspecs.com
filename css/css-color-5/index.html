<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS颜色模块第5级</title>
    <meta content="WD" name="w3c-status">
    <!-- <meta content="Bikeshed version 3c53a5b02, updated Thu Nov 27 17:03:30 2025 +0000" name="generator"> -->
    <link href="https://www.w3.org/TR/css-color-5/" rel="canonical">
    <!-- <meta content="4ca19f7aa98d530715f72eb93a135e90aab15db8" name="revision"> -->
    <meta content="dark light" name="color-scheme">
    <link href="https://www.w3.org/TR/css-color-5/style.css" rel="stylesheet">
    <style>
        table.deltaE td {
            border: 4px solid white;
            padding: 6px;
            font-size: 1.4em;
            color: black;
        }

        table.deltaE td.dE0 {
            background: rgb(68, 243, 91)
        }

        table.deltaE td.dE1 {
            background: rgb(153, 243, 68)
        }

        table.deltaE td.dE2 {
            background: rgb(217, 243, 68)
        }

        table.deltaE td.dE3 {
            background: rgb(243, 240, 68)
        }

        table.deltaE td.dE4 {
            background: rgb(243, 202, 68)
        }

        table.deltaE td.dE5 {
            background: rgb(243, 103, 68);
            color: white
        }

        table.deltaE th {
            text-align: center
        }

        /* work-around for https://github.com/tabatkins/bikeshed/issues/1799 */
        div.example,
        div.example pre {
            overflow: visible;
        }

        div.example>a.self-link::before {
            content: "¶";
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example " counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
                <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a>
        </p>
        <h1 class="no-ref p-name" id="title">CSS颜色模块第5级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#WD">W3C 工作草案</a>,
            <time class="dt-updated" datetime="2026-02-27">2026年2月27日</time>
        </p>
        <details open>
            <summary>关于本文档的更多信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>本版本:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2026/WD-css-color-5-20260227/">https://www.w3.org/TR/2026/WD-css-color-5-20260227/</a>
                    <dt>最新发布版本:
                    <dd><a href="https://www.w3.org/TR/css-color-5/">https://www.w3.org/TR/css-color-5/</a>
                    <dt>编辑草稿:
                    <dd><a href="https://drafts.csswg.org/css-color-5/">https://drafts.csswg.org/css-color-5/</a>
                    <dt>以往版本:
                    <dd><a href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/"
                            rel="prev">https://www.w3.org/TR/2024/WD-css-color-5-20240229/</a>
                    <dd><a href="https://www.w3.org/TR/2025/CRD-css-color-4-20250424/"
                            rel="prev">https://www.w3.org/TR/2025/CRD-css-color-4-20250424/</a>
                    <dt>历史记录:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-color-5/">https://www.w3.org/standards/history/css-color-5/</a>
                    <dt>反馈:
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-color-5">CSSWG问题仓库</a>
                    <dt class="editor">编辑者:
                    <dd class="editor h-card p-author vcard" data-editor-id="1438"><a class="fn p-name u-url url"
                            href="https://svgees.us/">Chris Lilley</a> (<span class="org p-org">W3C</span>)
                    <dd class="editor h-card p-author vcard" data-editor-id="115525"><a class="fn p-name u-url url"
                            href="https://una.im">Una Kravets</a> (<span class="org p-org">谷歌</span>)
                    <dd class="editor h-card p-author vcard" data-editor-id="52258"><a class="fn p-name u-url url"
                            href="https://lea.verou.me/about">Lea Verou</a> (<span class="org p-org">受邀
                            专家</span>)
                    <dt class="editor">前编辑者:
                    <dd class="editor h-card p-author vcard" data-editor-id="112669"><a class="fn p-name u-url url"
                            href="https://nerdy.dev">Adam Argyle</a> (<span class="org p-org">谷歌</span>)
                    <dt>建议为本规范编辑:
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-color-5/Overview.bs">GitHub
                            编辑器</a>
                    <dt>差异规范:
                    <dd>是
                    <dt>测试套件:
                    <dd class="wpt-overview"><a
                            href="https://wpt.fyi/results/css/css-color/">https://wpt.fyi/results/css/css-color/</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2026 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="heading no-num no-ref no-toc settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本模块扩展了 CSS Color <a data-link-type="biblio" href="#biblio-css-color-4"
                title="CSS Color Module Level 4">[css-color-4]</a>，新增了颜色修改函数、自定义颜色空间（ICC
            配置文件）、contrast-color()、light-dark() 和 device-cmyk()。</p>

        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（如 HTML 和 XML）在屏幕、纸张等上的渲染方式的语言。
    </div>
    <h2 class="heading no-num no-ref no-toc settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布日期时的状态。
                当前 W3C 发布内容列表以及本技术报告的最新修订版
                可在 <a href="https://www.w3.org/TR/">W3C 标准与草案索引</a>内查找。</em>
        </p>
        <p>
            本文档由 <a href="https://www.w3.org/groups/wg/css">CSS 工作组</a>
            作为<strong>工作草案</strong>，采用<a
                href="https://www.w3.org/policies/process/20250818/#recs-and-notes">推荐标准通道</a>发布。
            工作草案的发布
            不代表 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。
        </p>
        <p>
            这是一个草稿文件
            可能随时被更新、替换或废弃。
            除非作为进展中的工作，否则不适宜引用本文件。
        </p>
        <p>请通过<a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 上提交 issue</a>（推荐）的方式反馈，
            在标题中写上规范代码 “css-color”，例如：“[css-color] <i>……注释摘要……</i>”。
            所有问题和评论都会<a href="https://lists.w3.org/Archives/Public/public-css-archive/">归档</a>。
            或者，也可将反馈发送到（<a href="https://lists.w3.org/Archives/Public/www-style/">已归档</a>）公共邮件列表
            <a href="mailto:www-style@w3.org?Subject=%5Bcss-color%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。
        </p>
        <p>本文档适用
            <a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">2025年8月18日W3C流程文件</a>。
        </p>
        <p>本文件由遵循
            <a href="https://www.w3.org/policies/patent-policy/20200915/">W3C 专利政策</a>
            的团队制作。
            W3C 维护有一份
            <a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">与团队交付成果相关的专利披露公开列表</a>；
            该页面还说明了如何披露专利。
            个人如实际知晓某专利且认为
            包含<a href="https://www.w3.org/policies/patent-policy/20200915/#def-essential">基本权利要求</a>，
            必须遵循
            <a href="https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure">W3C 专利政策第6节</a>
            披露相关信息。
        </p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-ref no-toc" id="contents">目录</h2>
        <ol class="toc">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">简介</span></a>
            <li><a href="#color-syntax"><span class="secno">2</span> <span class="content"><span
                            class="production">&lt;color></span> 语法</span></a>
            <li>
                <a href="#color-mix"><span class="secno">3</span> <span class="content">混合颜色：<span
                            class="css">color-mix()</span> 函数</span></a>
                <ol class="toc">
                    <li><a href="#color-mix-space"><span class="secno">3.1</span> <span class="content">
                                混合用的颜色空间
                            </span></a>
                    <li><a href="#color-mix-percent-norm"><span class="secno">3.2</span> <span class="content">
                                百分比归一化
                            </span></a>
                    <li><a href="#color-mix-result"><span class="secno">3.3</span> <span class="content">
                                color-mix 的结果计算
                            </span></a>
                    <li><a href="#color-mix-color-space-effect"><span class="secno">3.4</span> <span class="content">
                                混合颜色空间对 color-mix 的影响
                            </span></a>
                    <li><a href="#color-mix-with-alpha"><span class="secno">3.5</span> <span class="content">
                                非1透明度对 color-mix 的影响
                            </span></a>
                </ol>
            <li>
                <a href="#relative-colors"><span class="secno">4</span> <span class="content">
                        相对色彩
                    </span></a>
                <ol class="toc">
                    <li><a href="#rcs-intro"><span class="secno">4.1</span> <span class="content">
                                相对色彩处理模型
                            </span></a>
                    <li><a href="#relative-syntax"><span class="secno">4.2</span> <span class="content">
                                相对颜色语法
                            </span></a>
                    <li><a href="#relative-RGB"><span class="secno">4.3</span> <span class="content">相对 sRGB
                                颜色</span></a>
                    <li><a href="#relative-HSL"><span class="secno">4.4</span> <span class="content">相对 HSL
                                颜色</span></a>
                    <li><a href="#relative-HWB"><span class="secno">4.5</span> <span class="content">相对 HWB
                                颜色</span></a>
                    <li><a href="#relative-Lab"><span class="secno">4.6</span> <span class="content">相对 Lab
                                颜色</span></a>
                    <li><a href="#relative-Oklab"><span class="secno">4.7</span> <span class="content">相对 Oklab
                                颜色</span></a>
                    <li><a href="#relative-LCH"><span class="secno">4.8</span> <span class="content">相对 LCH
                                颜色</span></a>
                    <li><a href="#relative-OkLCh"><span class="secno">4.9</span> <span class="content">相对 OkLCh
                                颜色</span></a>
                    <li><a href="#relative-alpha"><span class="secno">4.10</span> <span class="content">相对 Alpha
                                颜色</span></a>
                </ol>
            <li>
                <a href="#color-function"><span class="secno">5</span> <span class="content">
                        指定预定义和自定义色彩空间：<span class="css">color()</span> 函数
                    </span></a>
                <ol class="toc">
                    <li><a href="#relative-color-function"><span class="secno">5.1</span> <span
                                class="content">相对颜色函数的颜色</span></a>
                    <li><a href="#custom-color"><span class="secno">5.2</span> <span class="content">
                                自定义色彩空间
                            </span></a>
                    <li><a href="#at-profile"><span class="secno">5.3</span> <span class="content">
                                指定色彩配置文件：<span class="css">@color-profile</span> at-rule
                            </span></a>
                    <li><a href="#cal-cmyk"><span class="secno">5.4</span> <span class="content">
                                CSS 与印刷：使用校准的 CMYK 及其他印刷色彩空间
                            </span></a>
                    <li><a href="#cmyk-to-lab"><span class="secno">5.5</span> <span class="content">
                                将 CMYK 颜色转换为 Lab
                            </span></a>
                    <li><a href="#lab-to-cmyk"><span class="secno">5.6</span> <span class="content">
                                将 Lab 颜色转换为 CMYK
                            </span></a>
                </ol>
            <li>
                <a href="#device-cmyk"><span class="secno">6</span> <span class="content">
                        未校准 CMYK 颜色：<span class="css">device-cmyk()</span> 函数
                    </span></a>
                <ol class="toc">
                    <li><a href="#cmyk-rgb"><span class="secno">6.1</span> <span class="content">
                                朴素地在未校准 CMYK 与基于 sRGB 的颜色间转换
                            </span></a>
                </ol>
            <li><a href="#light-dark"><span class="secno">7</span> <span class="content">
                        响应所用 color-scheme：<span class="css">light-dark()</span> 函数
                    </span></a>
            <li><a href="#contrast-color"><span class="secno">8</span> <span class="content">
                        动态指定具有足够对比度的文本色：<span class="css">contrast-color()</span> 函数
                    </span></a>
            <li>
                <a href="#interpolation"><span class="secno">9</span> <span class="content">
                        颜色插值</span></a>
                <ol class="toc">
                    <li><a href="#interpolation-space"><span class="secno">9.1</span> <span class="content">
                                插值色彩空间</span></a>
                </ol>
            <li>
                <a href="#resolving-color-values"><span class="secno">10</span> <span class="content">
                        解析 <span class="production">&lt;color></span> 值
                    </span></a>
                <ol class="toc">
                    <li><a href="#resolving-mix"><span class="secno">10.1</span> <span class="content">
                                解析 <span class="css">color-mix()</span> 值
                            </span></a>
                    <li><a href="#resolving-rcs"><span class="secno">10.2</span> <span class="content">
                                解析相对色彩语法值
                            </span></a>
                    <li><a href="#resolving-device-cmyk-values"><span class="secno">10.3</span> <span class="content">
                                解析 <span class="css">device-cmyk</span> 值
                            </span></a>
                </ol>
            <li>
                <a href="#serial"><span class="secno">11</span> <span class="content">
                        序列化
                    </span></a>
                <ol class="toc">
                    <li><a href="#serial-color-mix"><span class="secno">11.1</span> <span class="content">
                                color-mix() 的序列化
                            </span></a>
                    <li><a href="#serial-origin-color"><span class="secno">11.2</span> <span class="content">
                                原始颜色的序列化
                            </span></a>
                    <li><a href="#serial-relative-color"><span class="secno">11.3</span> <span class="content">
                                相对色彩函数的序列化
                            </span></a>
                    <li><a href="#serial-custom-color"><span class="secno">11.4</span> <span class="content">
                                自定义色彩空间的序列化
                            </span></a>
                    <li><a href="#serializing-device-cmyk-values"><span class="secno">11.5</span> <span class="content">
                                device-cmyk 值的序列化
                            </span></a>
                </ol>
            <li>
                <a href="#apis"><span class="secno">12</span> <span class="content">API 接口</span></a>
                <ol class="toc">
                    <li><a href="#the-csscolorprofilerule-interface"><span class="secno">12.1</span> <span
                                class="content"><code>CSSColorProfileRule</code> 接口</span></a>
                </ol>
            <li><a href="#sample"><span class="secno">13</span> <span class="content">
                        默认样式规则
                    </span></a>
            <li><a href="#color-conversion-code"><span class="secno">14</span> <span class="content">
                        颜色转换示例代码</span></a>
            <li><a href="#security"><span class="secno">15</span> <span class="content">
                        安全注意事项
                    </span></a>
            <li><a href="#privacy"><span class="secno">16</span> <span class="content">
                        隐私注意事项
                    </span></a>
            <li><a href="#a11y-sec"><span class="secno">17</span> <span class="content">无障碍性注意事项
                    </span></a>
            <li>
                <a href="#changes"><span class="secno">18</span> <span class="content">
                        变更记录
                    </span></a>
                <ol class="toc">
                    <li><a href="#changes-20260113"><span class="secno">18.1</span> <span class="content">
                                自<span>2026年1月13日工作草案</span>起
                            </span></a>
                    <li><a href="#changes-20250318"><span class="secno">18.2</span> <span class="content">
                                自<span>2025年3月18日工作草案</span>起
                            </span></a>
                    <li><a href="#changes-20240229"><span class="secno">18.3</span> <span class="content">
                                自<span>2024年2月29日工作草案</span>起
                            </span></a>
                    <li><a href="#changes-20220628"><span class="secno">18.4</span> <span class="content">
                                自<span>2022年6月28日工作草案</span>起
                            </span></a>
                    <li><a href="#changes-20220428"><span class="secno">18.5</span> <span class="content">
                                自<span>2022年4月28日工作草案</span>起
                            </span></a>
                    <li><a href="#changes-20211215"><span class="secno">18.6</span> <span class="content">
                                自<span>2021年12月15日工作草案</span>起
                            </span></a>
                    <li><a href="#changes-20210601"><span class="secno">18.7</span> <span class="content">
                                自<span>2021年6月1日工作草案</span>起
                            </span></a>
                    <li><a href="#changes-20200303"><span class="secno">18.8</span> <span class="content">
                                自<span>2020年6月10日FPWD</span>起
                            </span></a>
                    <li><a href="#changes-from-4"><span class="secno">18.9</span> <span class="content">
                                与 CSS Color 4 的变更
                            </span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">
                        一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">
                                文档惯例</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                一致性类别</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content">
                                部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content">
                                        不稳定与专有功能的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">
                                非实验实现</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本文规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用规范定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">说明性引用</span></a>
                </ol>
            <li>
                <a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
                <ol class="toc">
                    <li><a href="#color-profile-descriptor-table"><span class="secno"></span> <span
                                class="content"><span>@color-profile</span> 描述符</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
        </ol>
    </nav>
    <main>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                for (let e of document.querySelectorAll(".swatch")) {
                    e.tabIndex = "0";
                    const swatchColor = getComputedStyle(e).getPropertyValue("--color");

                    if (!CSS.supports('color', swatchColor)) {
                        e.style.background = "repeating-linear-gradient(135deg, red 0, red 4px, white 4px, white 8px)";
                        e.setAttribute("title", "Your browser does not recognize this color value, so we can't preview it.");
                    }
                }
            });
        </script>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">简介</span><a class="self-link" href="#intro"></a></h2>
        <p><em>本节不具规范性。</em></p>
        <p>本模块新增了
            <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color">contrast-color()</a>、
            <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix">color-mix()</a> 和 <a class="css" data-link-type="maybe"
                href="#funcdef-light-dark" id="ref-for-funcdef-light-dark">light-dark()</a> 这几个新函数，
            并通过 <a href="#relative-colors">相对颜色语法</a> 扩展了已有函数。
        </p>
        <p>它还扩展了 <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color">color()</a> 函数，
            使其不仅能使用预定义的颜色空间，
            还可以使用 CSS 中通过 ICC 配置文件定义的自定义颜色空间
            （包括校准 CMYK）。
        </p>
        <p>同时还新增了 <span class="css">device-cmyk</span>，
            即未校准的 cmyk 颜色的表示方式。</p>
        <h2 class="heading settled" data-level="2" id="color-syntax"><span class="secno">2. </span><span
                class="content"><a class="css production" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color">&lt;color></a> 语法</span><a class="self-link" href="#color-syntax"></a>
        </h2>
        <p>在 CSS 中，颜色由 <dfn class="css dfn-paneled" data-dfn-type="type" data-export id="typedef-color"><a
                    class="css production" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color①">&lt;color></a></dfn> 类型表示：</p>
        <pre class="prod">&lt;color> = <a class="production" data-link-type="type" href="#typedef-color-base" id="ref-for-typedef-color-base">&lt;color-base></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> currentColor <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-system-color" id="ref-for-typedef-system-color">&lt;system-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> 
      <a class="production" data-link-type="function" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color①">&lt;contrast-color()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production" data-link-type="function" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk">&lt;device-cmyk()></a>  <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production" data-link-type="function" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark①">&lt;light-dark()></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-base">&lt;color-base></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hex-color" id="ref-for-typedef-hex-color">&lt;hex-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> <a class="production" data-link-type="type" href="#typedef-color-function" id="ref-for-typedef-color-function">&lt;color-function></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-named-color" id="ref-for-typedef-named-color">&lt;named-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> <a class="production" data-link-type="function" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①">&lt;color-mix()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> transparent
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-function">&lt;color-function></dfn> = <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb">&lt;rgb()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba">&lt;rgba()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a>
              <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl">&lt;hsl()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla">&lt;hsla()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> <a class="production" data-link-type="function" href="#funcdef-hwb" id="ref-for-funcdef-hwb">&lt;hwb()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a>
              <a class="production" data-link-type="function" href="#funcdef-lab" id="ref-for-funcdef-lab">&lt;lab()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> <a class="production" data-link-type="function" href="#funcdef-lch" id="ref-for-funcdef-lch">&lt;lch()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> <a class="production" data-link-type="function" href="#funcdef-oklab" id="ref-for-funcdef-oklab">&lt;oklab()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a> <a class="production" data-link-type="function" href="#funcdef-oklch" id="ref-for-funcdef-oklch">&lt;oklch()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a>
              <a class="production" data-link-type="function" href="#funcdef-alpha" id="ref-for-funcdef-alpha">&lt;alpha()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a>
              <a class="production" data-link-type="function" href="#funcdef-color" id="ref-for-funcdef-color①">&lt;color()></a>
</pre>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="absolute-color">绝对色</dfn>
            指的是其计算值有确定、色度学意义的 <a class="css production" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②">&lt;color></a>。
            即它的值不是：</p>
        <ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                        id="ref-for-valdef-color-currentcolor">currentColor</a>（依赖于 <a class="css property"
                        data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color"
                        id="ref-for-propdef-color">color</a>
                    属性的值）</p>
            <li data-md>
                <p> <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-color-4/#typedef-system-color"
                        id="ref-for-typedef-system-color①">&lt;system-color></a>
                    （依赖于色彩模式）</p>
            <li data-md>
                <p><a class="css production" data-link-type="function" href="#funcdef-light-dark"
                        id="ref-for-funcdef-light-dark②">&lt;light-dark()></a>（依赖于色彩模式）</p>
            <li data-md>
                <p><a class="css production" data-link-type="function" href="#funcdef-contrast-color"
                        id="ref-for-funcdef-contrast-color②">&lt;contrast-color()></a>（依赖于色彩模式）
                </p>
            <li data-md>
                <p><a class="css production" data-link-type="function" href="#funcdef-device-cmyk"
                        id="ref-for-funcdef-device-cmyk①">&lt;device-cmyk()></a>（没有色度学基础）</p>
        </ul>
        <p>这些值也不能用在 <a class="css production" data-link-type="function" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix②">&lt;color-mix()></a>
            或相对颜色语法里。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="resolve-to-srgb">解析为 sRGB</dfn> 的颜色有：</p>
        <ul>
            <li data-md>
                <p><a href="css-color-4#hex-notation">十六进制</a>颜色</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb①">rgb()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba①">rgba()</a>
                    的值（包括相对颜色）</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl①">hsl()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla①">hsla()</a>
                    的值（包括相对颜色）</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb①">hwb()</a> 的值
                    （包括相对颜色）</p>
            <li data-md>
                <p><a href="css-color-4#named-colors">命名</a>颜色</p>
        </ul>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="support-legacy-color-syntax">支持传统颜色语法</dfn>
            的函数有：</p>
        <ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb②">rgb()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba②">rgba()</a></p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl②">hsl()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla②">hsla()</a></p>
        </ul>
        <p> <a class="css production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                id="ref-for-funcdef-hsl③">&lt;hsl()></a>、<a class="css production" data-link-type="function"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla③">&lt;hsla()></a>、<a
                class="css production" data-link-type="function" href="#funcdef-hwb"
                id="ref-for-funcdef-hwb②">&lt;hwb()></a>、<a class="css production" data-link-type="function"
                href="#funcdef-lch" id="ref-for-funcdef-lch①">&lt;lch()></a> 以及 <a class="css production"
                data-link-type="function" href="#funcdef-oklch" id="ref-for-funcdef-oklch①">&lt;oklch()></a> 这些
            <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#color-functions"
                id="ref-for-color-functions">颜色函数</a>
            是用<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                id="ref-for-cylindrical-polar-color">圆柱极坐标色彩</a>表示方式，并用 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue">&lt;hue></a> 角度；
            其他 <span id="ref-for-color-functions①">颜色函数</span> 则采用 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color"
                id="ref-for-rectangular-orthogonal-color">直角正交色彩</a> 表示方式。
        </p>
        <h2 class="heading settled" data-level="3" id="color-mix"><span class="secno">3. </span><span
                class="content">混合颜色：<a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix③">color-mix()</a> 函数</span><a class="self-link" href="#color-mix"></a>
        </h2>
        <p>Web开发者、设计工具和设计系统开发者
            经常使用颜色函数来帮助扩展组件色彩关系的设计。
            随着支持多平台和多用户偏好的设计系统使用的增加，
            例如 UI 的深色模式能力提升，
            自动计算配色，无需手动指定颜色，
            能让方案统一输出，从一处自动生成所有色板，变得更为实用。
        </p>
        <figure id="fig-chloropleth">
            <p><img alt="LC color picker" height="1045"
                    src="https://www.w3.org/TR/css-color-5/images/LC-picker-scale.png" style="width: 40vmin"
                    width="1168"><br>
                <img alt="chloropleth map of the US" height="1014"
                    src="https://www.w3.org/TR/css-color-5/images/LC-picker-map2.png" style="width: 48vmin"
                    width="1396">
            </p>
            <figcaption>上图为 CIE LCH 空间下的颜色选择器。
                用一组颜色定义色标，
                在色度-明度平面（色相恒定）上绘制。
                下图为该色标在分级地图上的运用实例。
            </figcaption>
        </figure>
        <p>目前通常使用 Sass、对 HSL 进行 calc() 或 PostCSS 预处理实现。
            但预处理器无法处理运行时动态变化的颜色；
            现有方案都局限于 sRGB 色域，
            并受到 HSL 感知效果的限制
            （色轮某些部位颜色聚集，
            且某些视觉亮度差异极大的颜色，如黄与蓝，HSL 明度值却可相同）。</p>
        <p>为此，color-mix() 函数可以接收
            一个或多个 <a class="css production" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color③">&lt;color></a> 规格，
            并在指定的 <a class="css production" data-link-type="type" href="#typedef-color-space"
                id="ref-for-typedef-color-space">&lt;color-space></a>
            和比例下混合输出。</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color-mix">color-mix()</dfn> = color-mix( <a class="production" data-link-type="type" href="#color-interpolation-method" id="ref-for-color-interpolation-method">&lt;color-interpolation-method></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma">,</a> [ <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color④">&lt;color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-all" id="ref-for-comb-all">&amp;&amp;</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value">&lt;percentage [0,100]></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma">#</a>)
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html"
                        title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(源码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="3.1" id="color-mix-space"><span class="secno">3.1. </span><span
                class="content">
                混合用的颜色空间
            </span><a class="self-link" href="#color-mix-space"></a></h3>
        <p>如果未指定颜色插值方法，则默认使用 Oklab。
            否则使用指定的颜色空间进行混合。</p>
        <h3 class="heading settled" data-level="3.2" id="color-mix-percent-norm"><span class="secno">3.2. </span><span
                class="content">
                百分比归一化
            </span><a class="self-link" href="#color-mix-percent-norm"></a></h3>
        <p>百分比必须在 0% ~ 100% 范围内。
            不允许负百分比。
            百分比通过<a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#normalize-mix-percentages"
                id="ref-for-normalize-mix-percentages">混合百分比归一化</a>进行归一化。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-percents-01.html"
                        title="css/css-color/color-mix-percents-01.html">color-mix-percents-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-percents-01.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-01.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-percents-02.html"
                        title="css/css-color/color-mix-percents-02.html">color-mix-percents-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-percents-02.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-02.html"><small>(源码)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-mix-syntactic">
            <a class="self-link" href="#ex-mix-syntactic"></a>
            下列写法都等价：


            <pre class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> plum<c- p>,</c-> purple<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>80</c-><c- k>%</c-><c- p>,</c-> plum <c- m>80</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>所有这些写法都会得到 <span class="swatch" style="--color: purple"></span> purple 和 <span class="swatch"
                    style="--color: plum"></span> plum 各占一半的 lch 混合色：
                <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> lch(51.51% 52.21
                325.8)，即 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> rgb(68.51%
                36.01% 68.29%)。
            </p>
            <p>但下例则不同，其中 alpha 小于 1：</p>
            <pre class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>30</c-><c- k>%</c-><c- p>,</c-> plum <c- m>30</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>该例结果为 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span> lch(51.51%
                52.21 325.8 / 0.6)，即 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span>
                rgb(68.51% 36.01% 68.29% / 0.6)。</p>
        </div>
        <h3 class="heading settled" data-level="3.3" id="color-mix-result"><span class="secno">3.3. </span><span
                class="content">
                color-mix 的结果计算
            </span><a class="self-link" href="#color-mix-result"></a></h3>
        <div class="algorithm" data-algorithm="calculate a color-mix()">

            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="calculate-a-color-mix">color-mix()</dfn> 计算流程：


            <ol>
                <li data-md>
                    <p>对传入函数的 <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#mix-item"
                            id="ref-for-mix-item">混合项</a> 列表，
                        <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#normalize-mix-percentages"
                            id="ref-for-normalize-mix-percentages①">归一化混合百分比</a>，
                        启用“强制归一化”标志，
                        最终令 <var>items</var> 和 <var>leftover</var> 得到结果。
                    </p>
                <li data-md>
                    <p>如果 <var>leftover</var> 为 100%，
                        返回指定插值 <a class="css production" data-link-type="type" href="#typedef-color-space"
                            id="ref-for-typedef-color-space①">&lt;color-space></a> 下的
                        <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#transparent-black"
                            id="ref-for-transparent-black">透明黑</a>。
                    </p>
                <li data-md>
                    <p>令 <var>alpha mult</var> 为 <code>1 - <var>leftover</var></code>，
                        并将 <var>leftover</var> 视为 0 到 1 间的数字。</p>
                <li data-md>
                    <p>如果 <var>items</var> 长度为 1，
                        则 <var>color</var> 设为唯一混合项的颜色，
                        并转换到指定插值 <a class="css production" data-link-type="type" href="#typedef-color-space"
                            id="ref-for-typedef-color-space②">&lt;color-space></a>。</p>
                    <p>否则：</p>
                    <ol>
                        <li data-md>
                            <p>把 <var>items</var> 反转成 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#stack" id="ref-for-stack">栈</a> <var>item
                                    stack</var>。
                                （即原队列第一个为栈顶。）</p>
                        <li data-md>
                            <p>当 <var>item stack</var> 长度大于等于 2 时：</p>
                            <ol>
                                <li data-md>
                                    <p>从 <var>item stack</var> <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#stack-pop"
                                            id="ref-for-stack-pop">弹出</a> 两项，分别为 <var>a</var> 和 <var>b</var>。
                                        <var>combined percentage</var> 设为 a 与 b 百分比之和。
                                    </p>
                                <li data-md>
                                    <p>按照 <a href="https://www.w3.org/TR/css-color-4/#interpolation"><cite>CSS Color
                                                4</cite> §  12. 色彩插值</a>，
                                        以 progress 百分比
                                        <code>(<var>b</var> 百分比) / <var>combined percentage</var>)</code>
                                        插值 a 与 b 的色值。
                                        若指定插值空间为 <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                                            id="ref-for-cylindrical-polar-color①">圆柱极坐标色彩</a>空间，
                                        则 <a class="css production" data-link-type="type"
                                            href="#typedef-hue-interpolation-method"
                                            id="ref-for-typedef-hue-interpolation-method">&lt;hue-interpolation-method></a>
                                        控制
                                        色相插值，方法见
                                        <a href="https://www.w3.org/TR/css-color-4/#hue-interpolation"><cite>CSS Color
                                                4</cite> § 12.4 色相插值</a>。
                                        若未指定 <span class="production"
                                            id="ref-for-typedef-hue-interpolation-method①">&lt;hue-interpolation-method></span>
                                        ，默认使用 <span class="css">shorter</span>。
                                    </p>
                                <li data-md>
                                    <p>新建 <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#mix-item"
                                            id="ref-for-mix-item①">混合项</a>，颜色为插值结果，
                                        百分比为 <var>combined percentage</var>，
                                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#stack-push"
                                            id="ref-for-stack-push">推入</a> <var>item stack</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><var>color</var> 设为 <var>item stack</var> 最后仅存混合项的颜色。</p>
                    </ol>
                <li data-md>
                    <p>把 <var>color</var> 的 alpha 分量乘以 <var>alpha mult</var>。</p>
                <li data-md>
                    <p>返回 <var>color</var>。</p>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span> 在 <a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                    id="ref-for-cylindrical-polar-color②">圆柱极坐标色彩</a> 空间下，
                混合顺序会影响结果，
                因为“顺时针还是逆时针”绕色环方向取决于前面混合产生的结果。
                本算法按指定顺序逐个混色，
                每次用中间结果与后一个混合。
                若用<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color"
                    id="ref-for-rectangular-orthogonal-color①">正交色彩</a>空间，
                顺序不影响结果，
                可以简化处理流程。</p>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-basic-001.html"
                        title="css/css-color/color-mix-basic-001.html">color-mix-basic-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-basic-001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-basic-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-missing-components.html"
                        title="css/css-color/color-mix-missing-components.html">color-mix-missing-components.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-missing-components.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-missing-components.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-non-srgb-001.html"
                        title="css/css-color/color-mix-non-srgb-001.html">color-mix-non-srgb-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-non-srgb-001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-non-srgb-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html"
                        title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-color-mix-function.html"
                        title="css/css-color/parsing/color-invalid-color-mix-function.html">color-invalid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-mix-out-of-gamut.html"
                        title="css/css-color/parsing/color-mix-out-of-gamut.html">color-mix-out-of-gamut.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html">2d.fillStyle.colormix.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html">2d.fillStyle.colormix.currentcolor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html">2d.strokeStyle.colormix.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"><small>(源码)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-mix-lch-peru40">
            <a class="self-link" href="#ex-mix-lch-peru40"></a>
            下例混合 40% <span class="swatch" style="--color: peru"></span> peru
            和 60% <span class="swatch" style="--color: palegoldenrod"></span> palegoldenrod：


            <pre
                class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> peru <c- m>40</c-><c- k>%</c-><c- p>,</c-> palegoldenrod<c- p>)</c-></pre>
            <p>混色空间为<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch"
                    id="ref-for-valdef-lch-lch">lch</a>。
                下图为俯瞰中性色轴 L 的可视化：</p>
            <figure id="fig-LCH-peru-goldenrod">
                <object data="https://www.w3.org/TR/css-color-5/images/CH-mixing.svg" height="480" width="480">
                    <p>两个颜色混合及其输出。
                        我们沿 CIE L 轴朝 ab 平面俯视。
                        有两条轴，标记 <em>a</em> 和 <em>b</em>，
                        在原点交叉，也即图中心。</p>
                </object>
                <figcaption>在 CIE LCH 下混合 peru 和 palegoldenrod。
                    peru 的色相角以正 a 轴为零为 63.677 度，
                    palegoldenrod 的色相为 98.834 度。
                    peru 的色度， 即离中心中性轴距离为54.011，
                    palegoldenrod 的色度为 31.406。
                    所有混合点都位于曲线上。下图为 40%/60% 混合。
                </figcaption>
            </figure>
            <p>计算流程如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: peru"></span> peru 为 lch(62.253% 54.011 63.677)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: palegoldenrod"></span> palegoldenrod 为 lch(91.374% 31.406
                        98.834)</p>
                <li data-md>
                    <p>混合明度 = 62.253 * 40/100 + 91.374 * (100-40)/100 = 79.7256</p>
                <li data-md>
                    <p>混合色度 = 54.011 * 40/100 + 31.406 * (100-40)/100 = 40.448</p>
                <li data-md>
                    <p>混合色相 = 63.677 * 40/100 + 98.834 * (100-40)/100 = 84.771</p>
                <li data-md>
                    <p>混合结果为 <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
                        lch(79.7256% 40.448 84.771)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-lch-teal65">
            <a class="self-link" href="#ex-mix-lch-teal65"></a>
            下例为 teal 和 olive 的混合，
            用 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch"
                id="ref-for-valdef-lch-lch①">lch</a> 空间混合，
            每个 lch 分量分别占 teal 的 65%
            和 olive 的 35%。


            <p class="note" role="note"><span class="marker">注意：</span> 色相和色度分量插值
                可保持中间色与端点色一样饱和。</p>
            <pre
                class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> teal <c- m>65</c-><c- k>%</c-><c- p>,</c-> olive<c- p>);</c-></pre>
            <figure id="fig-LCH-teal-olive">
                <object data="https://www.w3.org/TR/css-color-5/images/CH-mixing3.svg" height="500" width="500">
                    <p>两个颜色混合及其输出。
                        沿 CIE L 轴向 ab 平面俯视。
                        有两轴，<em>a</em> 和 <em>b</em>，在原点交叉。
                    </p>
                </object>
                <figcaption>teal 与 olive 的 LCH 混合。
                    teal 的色相为 196.4524 度，
                    olive 为 99.5746 度；
                    teal 的色度为 31.6903，
                    olive 的色度为 56.8124。
                    混合点位于虚线曲线。当前为 65%/35% 混合。
                </figcaption>
            </figure>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: teal"></span> teal (#008080) 为 lch(47.9855% 31.6903
                        196.4524)</p>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: olive"></span> olive (#808000) 为 lch(52.1496% 56.8124
                        99.5746)</p>
                <li data-md>
                    <p>混合明度 = 47.9855 * 0.65 + 52.1496 * 0.35 = 49.4429</p>
                <li data-md>
                    <p>混合色度 = 31.6903 * 0.65 + 56.8124 * 0.35 = 40.4830</p>
                <li data-md>
                    <p>混合色相 = 196.4524 * 0.65 + 99.5746 * 0.35 = 162.5452</p>
                <li data-md>
                    <p>混合结果为 lch(49.4429% 40.4830 162.5452)</p>
                <li data-md>
                    <p>呈蓝绿色调: <span class="swatch" style="--color: rgb(7.7377% 52.5730% 37.3213%)"></span> rgb(7.7377%
                        52.5730% 37.3213%)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-zero-sum">
            <a class="self-link" href="#ex-mix-zero-sum"></a>
            此例中两个百分比分别为零，和也为零：


            <pre
                class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> teal <c- m>0</c-><c- k>%</c-><c- p>,</c-> olive <c- m>0</c-><c- k>%</c-><c- p>);</c-></pre>
            <p>因此在<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch"
                    id="ref-for-valdef-oklch-oklch">oklch</a> 空间下的结果是透明黑：<br>
                <span class="swatch" style="--color: transparent"></span> oklch(0% 0 none / 0)
            </p>
        </div>
        <div class="example" id="ex-mix-three-no-percents">
            <a class="self-link" href="#ex-mix-three-no-percents"></a>
            此例混合了三个颜色，
            未指定百分比，
            因此每种颜色都占三分之一权重：


            <pre
                class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in oklab<c- p>,</c-> teal<c- p>,</c-> olive<c- p>,</c-> blue<c- p>);</c-></pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: teal"></span> teal (#008080) 是 oklab(54.31% -0.0896
                        -0.0236)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: olive"></span> olive (#808000) 是 oklab(58.07% -0.0428
                        0.1191)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: blue"></span> blue (#0000FF) 是 oklab(45.20% -0.0325
                        -0.3115)</p>
                <li data-md>
                    <p>混合明度 = (54.31 + 58.07 + 45.20) / 3 = 52.53%</p>
                <li data-md>
                    <p>混合 a = (-0.0896 + -0.0428 + -0.0325) / 3 = -0.0550</p>
                <li data-md>
                    <p>混合 b = (-0.0236 + 0.1191 + -0.3115) / 3 = -0.0720</p>
                <li data-md>
                    <p>混合结果为 <span class="swatch" style="--color: rgb(15.62% 45.07% 58.8%)"></span>
                        oklab(52.53% -0.0550 -0.0720)</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="3.4" id="color-mix-color-space-effect"><span class="secno">3.4.
            </span><span class="content">
                混合颜色空间对 color-mix 的影响
            </span><a class="self-link" href="#color-mix-color-space-effect"></a></h3>
        <p>所选的混色空间会对最终结果产生很大影响。</p>
        <div class="example" id="ex-mix-colorspaces-black-white">
            <a class="self-link" href="#ex-mix-colorspaces-black-white"></a>
            本例为在三种不同的颜色空间下，
            白色与黑色的 50% 混合。


            <pre class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: white"></span> white (#FFF) 为 lch(100% 0 0)</p>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: black"></span> black (#000) 为 lch(0% 0 0)</p>
                <li data-md>
                    <p>LCH 混合为 <span class="swatch" style="--color: rgb(47% 47% 47%)"></span> lch(50% 0 0)</p>
                <li data-md>
                    <p>XYZ 混合为 <span class="swatch" style="--color: rgb(74% 74% 74%)"></span> lch(76% 0 0)</p>
                <li data-md>
                    <p>sRGB 混合为 <span class="swatch" style="--color: rgb(50% 50% 50%)"></span> lch(53.4% 0 0)
                    </p>
            </ul>
            <p>LCH 混合结果 L 为 50%，
                正好是预期的标准灰色
                （Lab 混合亦同，因为 LCH 和 Lab 明度轴一致）。</p>
            <p>XYZ 混合得到的结果太亮；
                XYZ 虽为线性光，但感知非均匀。
                sRGB 混合结果也略偏亮；
                sRGB 既非感知均匀，也非线性光。</p>
        </div>
        <div class="example" id="ex-mix-xyz">
            <a class="self-link" href="#ex-mix-xyz"></a>
            本例混合了一种红色和天蓝色，
            在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz"
                id="ref-for-valdef-color-xyz">xyz</a> 颜色空间下，
            红色占 75.23%
            （即蓝色占 24.77%）。


            <pre
                class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>82.02</c-><c- k>%</c-> <c- m>30.21</c-><c- k>%</c-> <c- m>35.02</c-><c- k>%</c-><c- p>)</c-> <c- m>75.23</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>5.64</c-><c- k>%</c-> <c- m>55.94</c-><c- k>%</c-> <c- m>85.31</c-><c- k>%</c-><c- p>));</c-></pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(82.02% 30.21% 35.02%)"></span> rgb(82.02% 30.21% 35.02%)
                        为 lch(52% 58.1 22.7)，即 X=0.3214, Y=0.2014, Z=0.0879。</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(5.64% 55.94% 85.31%)"></span> rgb(5.64% 55.94% 85.31%)
                        为 lch(56% 49.1 257.1)，即 X=0.2070, Y=0.2391, Z=0.5249。</p>
                <li data-md>
                    <p>混合后 X=(0.3214 * 0.7523) + (0.2070 * (1 - 0.7523)) = 0.29306。</p>
                <li data-md>
                    <p>混合后 Y=(0.2014 * 0.7523) + (0.2391 * (1 - 0.7523)) = 0.21074。</p>
                <li data-md>
                    <p>混合后 Z=(0.0879 * 0.7523) + (0.5249 * (1 - 0.7523)) = 0.19614。</p>
                <li data-md>
                    <p>混合结果为 <span class="swatch" style="--color: rgb(72.300% 38.639% 53.557%)"></span>
                        lch(53.0304% 38.9346 352.8138)，即 rgb(72.300% 38.639% 53.557%)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-blue-white">
            <a class="self-link" href="#ex-mix-blue-white"></a>



            <p>本例为白色与蓝色在三种不同颜色空间下的 50% 混合。</p>
            <pre class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: white"></span> white
                        是 rgb(100% 100% 100%)
                        即 lch(100% 0 none)
                        也是 oklch(100% 0 none)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: blue"></span> blue
                        是 rgb(0% 0% 100%)
                        即 lch(29.5683% 131.201 301.364)
                        也是 oklch(45.201% 0.31321 264.052)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(68.594% 53.794% 100%)"></span> lch 混合为 lch(64.7841%
                        65.6008 301.364)，带紫色调</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(45.304% 63.808% 100%)"></span> oklch 混合为 oklch(72.601%
                        0.15661 264.052)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(50% 50% 100%)"></span> sRGB 混合为 rgb(50% 50%
                        100%)，同样略带紫色调</p>
            </ul>
        </div>
        <div class="example" id="ex-hsl-gamut-map">
            <a class="self-link" href="#ex-hsl-gamut-map"></a>
            本例为两种颜色在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl"
                id="ref-for-valdef-hsl-hsl">hsl</a> 颜色空间下混合，
            其中有一种颜色超出了 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb"
                id="ref-for-valdef-color-srgb">sRGB</a>
            色域。


            <pre class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in hsl<c- p>,</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0</c-> <c- m>1</c-> <c- m>0</c-><c- p>)</c-> <c- m>80</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="oog swatch" style="--color: white"></span> color(display-p3 0 1 0)
                        是 color(srgb -0.5116 1.01827 -0.3107)，超出 sRGB 色域</p>
                <li data-md>
                    <p>转换为 <a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl"
                            id="ref-for-valdef-hsl-hsl①">hsl</a> 后
                        <span class="oog swatch" style="--color: rgb(0% 99.797% 0%)"></span>
                        hsl(127.879 301.946 25.334)
                    </p>
                <li data-md>
                    <p><span class="swatch" style="--color: yellow"></span> yellow
                        <span class="swatch" style="--color: yellow"></span> hsl(60 100% 50%)
                    </p>
                <li data-md>
                    <p>混合色相：127.879 × 0.8 + 60 × 0.2 = 114.3032</p>
                <li data-md>
                    <p>混合饱和度：301.946 × 0.8 + 100 × 0.2 = 261.5568</p>
                <li data-md>
                    <p>混合亮度：25.334 × 0.8 + 50 × 0.2 = 30.2672</p>
                <li data-md>
                    <p>混合结果为
                        <span class="oog swatch" style="--color: rgb(72.66% 100% 0%)"></span> hsl(114.3032 261.5568
                        30.2672)
                        即
                        <span class="oog swatch" style="--color: rgb(72.66% 100% 0%)"></span> color(srgb -0.3387 1.0943
                        -0.48899)
                    </p>
            </ul>
        </div>
        <div class="example" id="ex-device-cmyk-mix">
            <a class="self-link" href="#ex-device-cmyk-mix"></a>
            <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk②">device-cmyk()</a> 可用于 <a class="css" data-link-type="maybe"
                href="#funcdef-color-mix" id="ref-for-funcdef-color-mix④">color-mix()</a>，
            但结果依赖于实现选择如何获得计算值。



            <pre class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in lab<c- p>,</c-> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0.091777</c-> <c- m>0.043303</c-> <c- m>0.312816</c-> <c- m>0.000000</c-><c- p>)</c-> <c- m>100</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
            <p>由于第一个颜色为100%，
                第二个颜色为0%，完全不影响混合结果。
                因此结果即为第一个颜色在 CIE Lab 空间的计算值。</p>
            <p>为了可视化结果，
                假设该设备 CMYK 实际为 SWOP 2006 coated 印刷色。</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span>
                        device-cmyk(0.091777 0.043303 0.312816 0.000000) 对应
                        <span class="swatch" style="--color: rgb(98% 89% 75%)"></span>
                        lab(91.44% 4.142 20.52)
                    </p>
            </ul>
            <p>如果实现用 ICC 配置文件获取
                <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab①">lab()</a> 颜色，
                本例假设采用 FOGRA39 Coated 配置：
            </p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span>
                        device-cmyk(0.091777 0.043303 0.312816 0.000000) 为
                        <span class="swatch" style="--color: rgb(92.81% 91.34% 75.31%)"></span>
                        lab(91.840596 -3.559090 20.449159)
                    </p>
                <li data-md>
                    <p>其与原始印刷色的 deltaE 2000 为 <strong>8.17</strong>，肉眼明显可见。</p>
            </ul>
            <p>若另一个实现用
                简单颜色转换算法，
                得到 sRGB 结果：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span>
                        device-cmyk(0.091777 0.043303 0.312816 0.000000) 为
                        <span class="swatch" style="--color: rgb(90.8223% 95.6697% 68.7184%)"></span>
                        rgb(90.8223% 95.6697% 68.7184%)
                        即
                        <span class="swatch" style="--color: rgb(90.8223% 95.6697% 68.7184%)"></span>
                        lab(94.02% -12.31 31.79)
                    </p>
                <li data-md>
                    <p>其与原始印刷色的 deltaE 2000 为 <strong>14.3</strong>，极为明显。</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="3.5" id="color-mix-with-alpha"><span class="secno">3.5. </span><span
                class="content">
                非1透明度对 color-mix 的影响
            </span><a class="self-link" href="#color-mix-with-alpha"></a></h3>
        <p>到目前为止，所有 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑤">color-mix()</a> 示例
            都使用了完全不透明的颜色。
            为了简化示例，
            省略了<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied">预乘</a>和反预乘步骤，
            因为这些步骤只需乘以1除以1，结果没变化。</p>
        <p>一般情况下，
            颜色可能存在非1的 alpha 分量，
            此时<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied①">预乘</a>、插值、反预乘
            这些步骤都不能省略。</p>
        <div class="example" id="ex-premultiply-srgb">
            <a class="self-link" href="#ex-premultiply-srgb"></a>
            本例为 25% 半透明红
            和 75% 半透明绿
            在 sRGB 下混合。
            展示了正确（<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied②">预乘</a>）和错误（未预乘）
            的计算过程。


            <pre class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>25</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>));</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
                        预乘后为 [0.7, 0, 0]</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
                        预乘后为 [0, 0.2, 0]</p>
                <li data-md>
                    <p>预乘后插值结果为
                        [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        即 [0.175, 0.150, 0]</p>
                <li data-md>
                    <p>插值后的 alpha 为 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
                <li data-md>
                    <p>反预乘得
                        [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
                        即 [0.53846, 0.46154, 0]</p>
                <li data-md>
                    <p>最终混合色为
                        <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span>
                        color(srgb 0.53846 0.46154 0 / 0.325)
                    </p>
            </ul>
            <p><em>错误</em>计算如下：</p>
            <ul>
                <li data-md>
                    <p>插值结果为
                        [1 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 1 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        即 [0.25, 0.75, 0]</p>
                <li data-md>
                    <p>故<em>错误</em>混合色为
                        <span class="swatch" style="--color: rgba(25%, 75%, 0%, 0.325)"></span>
                        color(srgb 0.25 0.75 0 / 0.325)
                    </p>
            </ul>
            <p>二者差异<em>极大</em>，正确与错误结果的 ΔE2000 可达 30.7！</p>
        </div>
        <p>当百分比归一化后生成 alpha 乘数时，
            只需在末尾多一步即可完成计算。</p>
        <div class="example" id="ex-premultiply-srgb-2">
            <a class="self-link" href="#ex-premultiply-srgb-2"></a>
            本例与上例类似，
            25% 半透明红
            和 75% 半透明绿
            在 sRGB 下混合。


            <p>但本例中百分比写作
                第一色 20%，第二色 60%。
                总计 80%，alpha 乘数为 0.8。</p>
            <p>混合百分比需乘以 100/80：<br>
                20% * 100/80 = 25%<br>
                60% * 100/80 = 75%<br>
                得到与上例相同的最终权重。</p>
            <pre class="highlight lang-css"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>20</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>)</c-> <c- m>60</c-><c- k>%</c-><c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
                        预乘后为 [0.7, 0, 0]</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
                        预乘后为 [0, 0.2, 0]</p>
                <li data-md>
                    <p>预乘后插值结果为
                        [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        即 [0.175, 0.150, 0]</p>
                <li data-md>
                    <p>插值后的 alpha 为 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
                <li data-md>
                    <p>反预乘得
                        [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
                        即 [0.53846, 0.46154, 0]</p>
                <li data-md>
                    <p>最终混合色为
                        <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span>
                        color(srgb 0.53846 0.46154 0 / 0.325)
                    </p>
                <li data-md>
                    <p>有 0.8 的 alpha 乘数，
                        混合结果 alpha 实际为 0.325 * 0.8 = 0.260
                        则混合色实际为 <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.260)"></span>
                        color(srgb 0.53846 0.46154 0 / 0.260)</p>
            </ul>
        </div>
        <p class="note" role="note"><span class="marker">注意：</span> 不要用归一化后的 alpha 直接反预乘。
            那样只有在混合权重不缩放到100%时才正确，
            本算法权重总要归一化，所以那样会被重复修正。</p>
        <h2 class="heading settled" data-level="4" id="relative-colors"><span class="secno">4. </span><span
                class="content">
                相对色彩
            </span><a class="self-link" href="#relative-colors"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="rcs-intro"><span class="secno">4.1. </span><span
                class="content">
                相对色彩处理模型
            </span><a class="self-link" href="#rcs-intro"></a></h3>
        <p>本规范此前版本的颜色函数，
            只能通过直接指定全部色彩分量的方式，仅指定绝对色。</p>
        <p>新增的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="relative-color">相对色彩</dfn> 语法
            扩展了 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax">现代颜色语法</a>，
            允许用颜色函数对已有颜色做修改：
            如果指定了 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="origin-color">原色</dfn>，
            那么每个色彩分量
            （若有 alpha 分量也可控制），
            可以<em>直接</em>指定，
            也可从原色中取
            （也可以配合 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                id="ref-for-math-function">数学函数</a>做运算）。</p>
        <p>原色与相对色不必使用相同的颜色函数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="required-conversion">必需转换</dfn>：
            所有运算都在
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color-space"
                id="ref-for-color-space">相对色函数的颜色空间</a>下进行；
            若
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="originally-specified-color-space">原始指定颜色空间</dfn>
            与 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color">原色</a> 用的颜色空间不同，
            需要先转换进目标函数，
            让每个分量都有意义，
            <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword">分量关键字</a>
            所指向的分量属于相对色的色彩空间，
            而<em>不是</em> <span id="ref-for-origin-color①">原色</span>的空间。
        </p>
        <p>若相对色未指定 alpha，
            则 alpha 默认为 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②">原色</a>的值
            （不再默认 <span class="css">100%</span>，而像绝对语法那样）。</p>
        <p>使用相对色彩语法时，
            <strong>颜色分量</strong>的值，
            无论直接指定还是由空间转换得来，
            <em>不会被限定</em>在参考区间，而是原样保留。
            这使得若目标空间支持，可保留超出色域的值。
        </p>
        <p>但使用相对色彩语法时，
            <strong>alpha 分量</strong>的值，
            无论直接指定还是由空间转换得来，
            <em>会</em>被限定在参考区间。
        </p>
        <p>缺失分量的处理方式与
            <a href="https://www.w3.org/TR/css-color-4/#interpolation-missing"><cite>CSS Color 4</cite> § 12.2
                缺失分量插值</a>一致：
            会先在原色空间与函数目标空间查找<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#analogous-components"
                id="ref-for-analogous-components">对应分量</a>
            并<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#carried-forward"
                id="ref-for-carried-forward">传递</a>为缺失分量。
        </p>
        <p>绝大部分 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①">相对色彩</a>语法的用法
            都会用 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①">分量关键字</a>
            填对应参数，也可用于其它位置。</p>
        <p>注意若分量关键字出现在非常规位置；
            若百分比最终要转成数值，
            那么这些数不会被“魔法比例缩放”，
            直接套用可能产生误差。</p>
        <p>不支持相对 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk③">device-cmyk()</a> 语法。</p>
        <h3 class="heading settled" data-level="4.2" id="relative-syntax"><span class="secno">4.2. </span><span
                class="content">
                相对颜色语法
            </span><a class="self-link" href="#relative-syntax"></a></h3>
        <p>下面列出了各函数为兼容 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color②">相对颜色</a> 所做的精确定义更改，
            但它们都遵循一个通用结构：</p>
        <ul>
            <li data-md>
                <p>可以在函数开头用一个 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③">原色</a>，
                    以 <span class="css">from <a class="css production" data-link-type="type" href="#typedef-color"
                            id="ref-for-typedef-color⑤">&lt;color></a></span> 值的形式指定。
                    这包括可选的 alpha 分量（若被指定）。</p>
            <li data-md>
                <p>若未指定原色，则该函数不是相对颜色语法。</p>
            <li data-md>
                <p>若指定了 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④">原色</a>，
                    剩余的参数可以像平常一样直接指定，
                    也可以作为一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="component-keyword">分量关键字</dfn> 指向被转换到该相对颜色的 <span id="ref-for-origin-color⑤">原色</span>
                    的某一分量。
                    <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                        id="ref-for-math-function①">数学函数</a> 也可以使用这些关键字
                    对 <span id="ref-for-origin-color⑥">原色的</span> 分量做动态修改。
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color③">相对颜色</a> 语法并不改变参数是必需还是可选。
                </p>
            <li data-md>
                <p>相对颜色语法仅适用于 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                        id="ref-for-modern-color-syntax①">现代颜色语法</a>。
                    它<strong>不能</strong>与 <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                        id="ref-for-legacy-color-syntax">传统颜色语法</a> 一起使用，尝试这样做会导致错误。</p>
            <li data-md>
                <p>不过，作为 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑦">原色</a> 的颜色
                    可以使用现代或传统语法。</p>
        </ul>
        <p>这些 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword②">分量关键字</a>
            返回一个 <a class="css production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value">&lt;number></a>，或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none">none</a>；
            若它们原本是以 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value①">&lt;percentage></a> 或 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#angle-value" id="ref-for-angle-value">&lt;angle></a> 指定，
            则该 <span class="production" id="ref-for-percentage-value②">&lt;percentage></span> 会被解析为 <span
                class="production" id="ref-for-number-value①">&lt;number></span>，
            而 <span class="production" id="ref-for-angle-value①">&lt;angle></span> 会被解析为以度为单位的 <span class="production"
                id="ref-for-number-value②">&lt;number></span>
            （这是其 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#canonical-unit"
                id="ref-for-canonical-unit">规范单位</a>），范围为 [0, 360]。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-color-with-zoom.html"
                        title="css/css-color/relative-color-with-zoom.html">relative-color-with-zoom.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/relative-color-with-zoom.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-color-with-zoom.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html"
                        title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html"
                        title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                        title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html"
                        title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html"
                        title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html"
                        title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html"
                        title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                        title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html"
                        title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"
                        title="css/css-color/relative-currentcolor-visited-getcomputedstyle.html">relative-currentcolor-visited-getcomputedstyle.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html"
                        title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html"
                        title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/relative-color-out-of-gamut.html"
                        title="css/css-color/parsing/relative-color-out-of-gamut.html">relative-color-out-of-gamut.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(source)</small></a>
            </ul>
        </details>
        <div class="example" id="example-1f6216e3">
            <a class="self-link" href="#example-1f6216e3"></a>
            例如，如果某颜色以 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value③">&lt;percentage></a> 指定，
            则同一色彩空间的相对颜色语法（RCS）会使用解析后的 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③">&lt;number></a> 形式：


            <pre class="highlight">html <c- p>{</c-> <c- k>--bluegreen</c-><c- p>:</c-> <span class="swatch" style="--color: teal"></span> <c- nf>oklab</c-><c- p>(</c-><c- m>54.3</c-><c- k>%</c-> <c- m>-22.5</c-><c- k>%</c-> <c- m>-5</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(4.696% 39.17% 39.38%)"></span> <c- nf>oklab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bluegreen<c- p>)</c-> <c- nf>calc</c-><c- p>(</c-><c- m>1.0</c-> - l<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->a * <c- m>0.8</c-><c- p>)</c-> b<c- p>);</c->
<c- p>}</c->
</pre>
            <p>在此例中，指定的百分比被解析为数值，
                得到 oklab(0.543 -0.09 -0.02)。
                得到的 RCS 颜色的 l = 1 - 0.543 = 0.457，
                a = -0.09 * 0.8 = -0.072，
                b 保持为 -0.02：
                oklab(0.457 -0.072 -0.02)。</p>
        </div>
        <div class="example" id="example-4889a5cd">
            <a class="self-link" href="#example-4889a5cd"></a>
            例如，如果原色的色相以 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#angle-value" id="ref-for-angle-value②">&lt;angle></a>
            用度指定，
            则同一色彩空间的 RCS 会使用解析后的 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④">&lt;number></a> 形式：


            <pre class="highlight">html <c- p>{</c-> <c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: sienna"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>52.6</c-><c- k>%</c-> <c- m>0.115</c-> <c- m>44.6</c-><c- k>deg</c-><c- p>)</c-> <c- p>}</c->
.summary <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(30.09% 47.36% 18.46%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> l c  <c- nf>calc</c-><c- p>(</c->h + <c- m>90</c-><c- p>));</c->
<c- p>}</c->
</pre>
            <p>在此例中，得到的 RCS 颜色为 oklch(0.526 0.115 134.6)。</p>
            <p>若原色的色相 <a class="css production" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#angle-value" id="ref-for-angle-value③">&lt;angle></a>
                使用其他单位指定（例如弧度或圈数），
                解析得到的 <a class="css production" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑤">&lt;number></a>
                仍然会是以度为单位的数值。</p>
        </div>
        <div class="example" id="example-2a49656f">
            <a class="self-link" href="#example-2a49656f"></a>
            通过在 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword③">分量关键字</a> 中
            使用 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                id="ref-for-math-function②">数学函数</a>，
            可以对 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑧">原色</a> 做更高级的操作。


            <pre class="highlight">html <c- p>{</c-> <c- k>--color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
.foo <c- p>{</c->
  <c- k>--darker-accent</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(4.696% 39.17% 39.38%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l / <c- m>2</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
</pre>
            <p>在此例中，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑨">原色</a> 的亮度被减半而变暗，
                其余颜色属性保持不变。</p>
            <p>另请注意，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⓪">原色</a> 是一个颜色关键字
                （因此为 sRGB），
                但由于它被用在 <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch②">lch()</a>
                函数中，
                它会被自动解释为 LCH 颜色。</p>
        </div>
        <div class="example" id="example-1374fcad">
            <a class="self-link" href="#example-1374fcad"></a>
            例如，如果主题颜色被指定为不透明，
            但某个实例需要它部分透明：


            <pre class="highlight">html <c- p>{</c-> <c- k>--bg-color</c-><c- p>:</c-> <span class="swatch" style="--color: blue"></span> blue<c- p>;</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(0,0,255,80%)"></span> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg-color<c- p>)</c-> r g b / <c- m>80</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>在此例中，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①①">原色</a> 的 r、g、b 分量不变，
                通过关键字从 <span id="ref-for-origin-color①②">原色</span> 获取它们的值，
                但不透明度被设为 <span class="css">80%</span>，使其略显透明，
                无论 <span id="ref-for-origin-color①③">原色</span> 的不透明度如何。</p>
        </div>
        <div class="example" id="example-b1f4bd13">
            <a class="self-link" href="#example-b1f4bd13"></a>
            例如，一个 Display P3 颜色即使超出 sRGB 色域，也可以被表示出来，
            因为它不会被裁剪（clamp）。


            <pre class="highlight"><c- k>--vivid-yellow</c-><c- p>:</c-> <span class="oog swatch" style="--color: color(display-p3 1 1 0)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>1</c-> <c- m>1</c-> <c- m>0</c-><c- p>);</c-> 
<c- k>--paler-yellow</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(100% 100% 15.37%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--vivid-yellow<c- p>)</c-> srgb r g <c- nf>calc</c-><c- p>(</c->b + <c- m>0.5</c-><c- p>));</c->
</pre>
            <p>此处 --vivid-yellow 在被转换为 sRGB 后为
                <span class="oog swatch" style="--color: color(display-p3 1 1 0)"></span> rgb(100% 100% -34.63%)，
                负的 blue 分量不会被限定（clamp）。
                RCS 计算的结果为
                <span class="swatch" style="--color: rgb(100% 100% 15.37%)"></span> rgb(100% 100% 15.37%)
            </p>
        </div>
        <div class="example" id="example-4bad0aeb">
            <a class="self-link" href="#example-4bad0aeb"></a>
            例如，试图将原色的 alpha 为 0.7 倍增为 1.4 时，
            结果的 alpha 为 1 而不是 1.4。


            <pre class="highlight"><c- k>--tan</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(80.93% 70% 55.27% / 70%)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>78</c-><c- k>%</c-> <c- m>0.06</c-> <c- m>75</c-> / <c- m>0.7</c-><c- p>);</c->
<c- k>--deeper-tan</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(80.93% 70% 55.27%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--tan<c- p>)</c-> l c h / <c- nf>calc</c-><c- p>(</c->alpha * <c- m>2</c-><c- p>));</c->
</pre>
        </div>
        <div class="example" id="example-2bf59389">
            <a class="self-link" href="#example-2bf59389"></a>
            例如，要粗略地将颜色转换为灰度：


            <pre class="highlight"><c- k>--blue-into-gray</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>));</c->
</pre>
            <p>使用此方法，
                <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-red"
                    id="ref-for-valdef-color-red">red</a> 会变为 <span class="css">rgb(76.5 76.5 76.5)</span>，
                <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-lime"
                    id="ref-for-valdef-color-lime">lime</a> 会变为 <span class="css">rgb(150.45 150.45
                    150.45)</span>，
                而 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-blue"
                    id="ref-for-valdef-color-blue">blue</a> 会变为 <span class="css">rgb(150.45 150.45
                    150.45)</span>。
                一个较为中等的颜色，例如 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen"
                    id="ref-for-valdef-color-darkolivegreen">darkolivegreen</a>，
                其 RGB 值为 <span class="css">rgb(85 107 47)</span>，
                会变为 <span class="css">rgb(93.8 93.8 93.8)</span>。
            </p>
            <p>（粗略原因有二：
                首先，尽管这看似亮度计算，
                但红绿蓝值在这里是在伽玛编码空间中处理的，而非线性光空间；
                其次，所用的权重系数是过时的 NTSC 颜色空间的，而非 sRGB。）</p>
            <p>（另注：此示例仅用于说明语法；
                更简单且更准确的灰度化方法是使用 <a class="css" data-link-type="maybe" href="#funcdef-oklch"
                    id="ref-for-funcdef-oklch②">oklch()</a> 函数，
                因为该色彩空间对人类感知更准确：
                <span class="css">oklch(from var(--color) l 0 h)</span> 保持亮度不变，
                但将色度归零，从而决定颜色的“鲜艳度”。）
            </p>
        </div>
        <div class="example" id="ex-no-percentage-magic">
            <a class="self-link" href="#ex-no-percentage-magic"></a>

            <p>例如，</p>
            <pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->from <c- nf>color</c-><c- p>(</c->srgb <c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> srgb alpha <c- m>0.6</c-> <c- m>0.6</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
            <p>alpha 分量解析为一个 <a class="css production" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥">&lt;number></a>，
                得到 0.6；因此得到的颜色为
                <span class="swatch" style="--color: rgb(60% 60% 60% / 0.9)"></span> <span class="css">color(srgb 0.6
                    0.6 0.6 / 0.9)</span>。
            </p>
            <p>然而，在下面第二个例子中，alpha 同样解析为 0.6，
                但由于 rgb() 语法中颜色分量的范围为 0 到 255，
                最终颜色会非常不同：
            </p>
            <pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> alpha <c- m>153</c-> <c- m>153</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
            <p>其结果为
                <span class="swatch" style="--color: rgb(0.235% 60% 60% / 0.9)"></span> <span class="css">rgb(0.6 153
                    153 / 0.9)</span>
                而<strong>不是</strong>
                <span class="swatch" style="--color: rgb(153 153 153 / 0.9)"></span> <span class="css">rgb(153 153 153 /
                    0.9)</span>。
            </p>
        </div>
        <div class="example" id="ex-missing-analogous">
            <a class="self-link" href="#ex-missing-analogous"></a>
            在此例中，无色的原色缺少色相；
            相应的 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color④">相对颜色</a> 也缺少色相，
            这会影响使用该颜色的渐变。


            <pre class="highlight">html <c- p>{</c-> <c- k>--bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.5% 48.5% 48.5%)"></span> <c- nf>hsl</c-><c- p>(</c->none <c- m>3</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.foo <c- p>{</c->
  <c- k>--darker-bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
.bar <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <c- nf>linear-gradient</c-><c- p>(</c->in Oklab to right<c- p>,</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span>  <c- nf>var</c-><c- p>(</c->--darker-bg<c- p>),</c-> <span class="swatch" style="--color: #4C3"></span>  #4C3<c- p>);</c->
<c- p>}</c->
</pre>
            <p>当 --bg 转换为 OkLCh 时的值为
                oklch(0.592 0.009 17.42)
                但类比的色相分量会被传递（carried forward），
                得到 oklch(0.592 0.009 none)。
                这些值随后用于相对函数，得到更暗的颜色 oklch(0.474 0.009 none)。</p>
            <p>渐变中的浅绿色为
                <span class="swatch" style="--color: #4C3"></span> oklch(0.743 0.222 141.6)，
                因此在插值时另一颜色会采用该色相，
                变为
                <span class="swatch" style="--color: rgb(34.96% 36.56% 34.72%)"></span> oklch(0.474 0.009 141.6)。
            </p>
            <p>因此，该渐变会保持恒定的偏绿色相。</p>
            <p>如果实现未执行此传递操作，
                则灰色的 --darker-bg 将得到色相 0，
                导致渐变起始处出现不希望的偏红色调。</p>
            <figure id="fig-gradient-missing">

                <img alt height="547" src="https://www.w3.org/TR/css-color-5/images/rectangular-missing.png"
                    width="775">

                <figcaption>正确（上）与不正确（下，偏红）的渐变。</figcaption>
            </figure>
        </div>
        <p>不过，如果对缺失值进行计算，<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none①">none</a>
            会被视作 0。</p>
        <h3 class="heading settled" data-level="4.3" id="relative-RGB"><span class="secno">4.3. </span><span
                class="content">相对 sRGB 颜色</span><a class="self-link" href="#relative-RGB"></a></h3>
        <p>sRGB 颜色的含义在 <a href="https://www.w3.org/TR/css-color-4/#numeric-srgb"><cite>CSS Color 4</cite> § 5 sRGB
                Colors</a> 中定义。</p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax②">现代颜色语法</a> 中 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb③">rgb()</a> 与 <a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba"
                id="ref-for-funcdef-rgba③">rgba()</a> 函数的文法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgb-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgb-syntax" id="ref-for-typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a></dfn> = rgb( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑥">&lt;color></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②">?</a>
        [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑦">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑨">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⓪">|</a> none]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②①">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt③">?</a>  )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgba-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgba-syntax" id="ref-for-typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a></dfn> = rgba( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑦">&lt;color></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt④">?</a>
        [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②③">|</a> none]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num①">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②④">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑤">?</a>  )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑤">相对颜色</a> 语法的 <a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                id="ref-for-funcdef-rgb④">rgb()</a> 或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba④">rgba()</a> 函数中，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword④">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="rgb()" data-dfn-type="value" data-export
                        id="valdef-rgb-r">r</dfn>, <dfn class="css dfn-paneled" data-dfn-for="rgb()"
                        data-dfn-type="value" data-export id="valdef-rgb-g">g</dfn>, 和 <dfn class="css dfn-paneled"
                        data-dfn-for="rgb()" data-dfn-type="value" data-export id="valdef-rgb-b">b</dfn>
                    都是对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①④">原色</a> 在（必要时转换到）sRGB
                    后的红、绿、蓝分量的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑨">&lt;number></a>。
                    255.0 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="rgb()" data-dfn-type="value" data-export
                        id="valdef-rgb-alpha">alpha</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑤">原色</a> 透明度的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⓪">&lt;number></a>。1.0 等同于 100%。
                </p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(source)</small></a>
            </ul>
        </details>
        <div class="example" id="example-cebe6396">
            <a class="self-link" href="#example-cebe6396"></a>
            要在 sRGB 色彩空间中操作颜色分量：


            <pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: indianred"></span> indianred <c- m>255</c-> g b<c- p>)</c->
</pre>
            <p>这会取 indianred 的 sRGB 值（205 92 92）并将红分量替换为 255，得到
                <span class="swatch" style="--color: rgb(255 92 92)"></span> rgb(255 92 92)。
            </p>
        </div>
        <p>相对 sRGB 颜色语法仅适用于非传统的 RGB 语法形式。</p>
        <div class="example invalid" id="example-648e776c">
            <a class="self-link" href="#example-648e776c"></a>
            例如，尝试对 rgba 使用带逗号的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                id="ref-for-legacy-color-syntax①">传统颜色语法</a> 是不正确的：


            <pre class="highlight"><c- nf>rgba</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-><c- p>,</c-> <c- m>32</c-><c- p>,</c-> b<c- p>,</c-> <c- m>0.5</c-> <c- p>)</c->
</pre>
        </div>
        <div class="example" id="example-c4b962d1">
            <a class="self-link" href="#example-c4b962d1"></a>
            应改为使用：


            <pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-> <c- m>32</c-> b / <c- m>0.5</c-> <c- p>)</c->
</pre>
            <p>这会取 darkblue 的 sRGB 值（0 0 139）并替换红、绿及 alpha 分量，得到
                <span class="swatch" style="--color: rgb(16 32 139 / 0.5)"></span> rgb(16 32 139 / 0.5)
            </p>
        </div>
        <h3 class="heading settled" data-level="4.4" id="relative-HSL"><span class="secno">4.4. </span><span
                class="content">相对 HSL 颜色</span><a class="self-link" href="#relative-HSL"></a></h3>
        <p>HSL 颜色的含义在 <a href="https://www.w3.org/TR/css-color-4/#the-hsl-notation"><cite>CSS Color 4</cite> § 7 HSL
                Colors:
                hsl() and hsla() functions</a> 中定义。</p>
        <p>The grammar of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax③">modern color syntax</a> <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl④">hsl()</a> and <a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla"
                id="ref-for-funcdef-hsla④">hsla()</a> functions is extended as follows:</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsl-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsl-syntax" id="ref-for-typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a></dfn> = hsl([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑧">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑥">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue①">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑤">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑥">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑦">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑧">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑨">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value②">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⓪">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑦">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsla-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsla-syntax" id="ref-for-typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a></dfn> = hsla([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑨">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑧">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue②">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③①">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①③">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③③">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③④">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①④">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑤">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value③">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑥">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑨">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑥">相对颜色</a> 语法的 <a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                id="ref-for-funcdef-hsl⑤">hsl()</a> 或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑤">hsla()</a> 函数中，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑤">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-h">h</dfn> 是一个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑤">&lt;number></a>
                    ，对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color��⑥">原色</a> 在（必要时转换到）sRGB
                    后的 HSL 色相，以度为单位，
                    并被规范化到 [0, 360] 区间。90 等同于 90deg。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-s">s</dfn> 和 <dfn class="css dfn-paneled" data-dfn-for="hsl()"
                        data-dfn-type="value" data-export id="valdef-hsl-l">l</dfn>
                    是对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⑦">原色</a>
                    在（必要时转换到）sRGB 后的 HSL 饱和度和明度的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑥">&lt;number></a>。100 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-alpha">alpha</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑧">原色</a> 透明度的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⑦">&lt;number></a>。1.0 等同于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(source)</small></a>
            </ul>
        </details>
        <div class="example" id="example-c4b276dd">
            <a class="self-link" href="#example-c4b276dd"></a>
            这会在色相角上加上 180 度，从而得到互补色。

            <pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: hsl(357deg 70% 41%)"></span> <c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
            <p>lightseagreen 的值为 hsl(177deg 70% 41%)，因此 --complement 为 <span class="swatch"
                    style="--color: hsl(357deg 70% 41%)"></span> hsl(357deg 70% 41%)</p>
        </div>
        <p>相对 HSL 颜色语法仅适用于非传统的 HSL 语法形式。</p>
        <h3 class="heading settled" data-level="4.5" id="relative-HWB"><span class="secno">4.5. </span><span
                class="content">相对 HWB 颜色</span><a class="self-link" href="#relative-HWB"></a></h3>
        <p>HWB 颜色的含义在 <a href="https://www.w3.org/TR/css-color-4/#the-hwb-notation"><cite>CSS Color 4</cite> § 8 HWB
                Colors:
                hwb() function</a> 中定义。</p>
        <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-hwb"
                id="ref-for-funcdef-hwb③">hwb()</a> function is extended as follows:</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-hwb">hwb()</dfn> = hwb([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⓪">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⓪">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue③">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑦">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑧">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑨">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①①">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④①">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value④">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④②">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①①">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑦">相对颜色</a> 语法的 <a class="css"
                data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb④">hwb()</a>
            函数中，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑥">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-h">h</dfn> 是一个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⓪">&lt;number></a>
                    ，对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⑨">原色</a> 在（必要时转换到）sRGB
                    后的 HWB 色相，以度为单位，
                    并被规范化到 [0, 360] 区间。90 等同于 90deg。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-w">w</dfn> 和 <dfn class="css dfn-paneled" data-dfn-for="hwb()"
                        data-dfn-type="value" data-export id="valdef-hwb-b">b</dfn>
                    是对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⓪">原色</a> 在（必要时转换到）sRGB
                    后的 HWB 白度和黑度的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②①">&lt;number></a>。100 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-alpha">alpha</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②①">原色</a> 透明度的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②②">&lt;number></a>。1.0 等同于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(source)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="4.6" id="relative-Lab"><span class="secno">4.6. </span><span
                class="content">相对 Lab 颜色</span><a class="self-link" href="#relative-Lab"></a></h3>
        <p>Lab 颜色的含义在 <a href="https://www.w3.org/TR/css-color-4/#cie-lab"><cite>CSS Color 4</cite> § 9.1 CIE Lab and
                LCH</a> 中定义。</p>
        <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-lab"
                id="ref-for-funcdef-lab②">lab()</a> function is extended as follows:</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lab">lab()</dfn> = lab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①①">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①②">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①②">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②③">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④④">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①③">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②④">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑥">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑦">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②⑤">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑧">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑤">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑨">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①③">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑧">相对颜色</a> 语法的 <a class="css"
                data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab③">lab()</a>
            函数中，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑦">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-l">l</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②②">原色</a> 在（必要时转换到）CIE Lab 后的 CIE 明度的 <a class="css production"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑥">&lt;number></a>。100 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-a">a</dfn> 和 <dfn class="css dfn-paneled" data-dfn-for="lab()"
                        data-dfn-type="value" data-export id="valdef-lab-b">b</dfn> 是对应于 <a data-link-type="dfn"
                        href="#origin-color" id="ref-for-origin-color②③">原色</a> 在（必要时转换到）CIE Lab 后的 a 和 b 轴的 <a
                        class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑦">&lt;number></a>。125 等同于 100%，而 -125 等同于 -100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-alpha">alpha</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②④">原色</a> 透明度的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑧">&lt;number></a>。1.0 等同于 100%。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>Tests</summary>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                                title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live
                                    test)</small></a> <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
                    </ul>
                </details>
        </ul>
        <div class="example" id="example-b411f1d3">
            <a class="self-link" href="#example-b411f1d3"></a>
            多种调整基础颜色透明度的方式：


            <ul>
                <li data-md>
                    <p><span class="css">lab(from var(--mycolor) l a b / 100%)</span> 将 <span
                            class="css">var(--mycolor)</span> 的 alpha 设为 1.0，而不管其原本为何值。</p>
                <li data-md>
                    <p><span class="css">lab(from var(--mycolor) l a b / calc(alpha * 0.8))</span> 将 <span
                            class="css">var(--mycolor)</span> 的 alpha 降低为其原值的 80%。
                    </p>
            </ul>
            <p>注意所有这些调整都是无损的，因为不会发生色域裁剪（gamut clipping），因为 lab() 覆盖了所有可见颜色。
                对于基于 sRGB 的函数（例如 'rgb()', 'hsl()', 或 'hwb()'）的 alpha 调整并非如此，
                因为它们还需要先转换到 sRGB 来计算 HSL 或 HWB，然后才能调整 alpha。</p>
        </div>
        <div class="example" id="example-d39afaf1">
            <a class="self-link" href="#example-d39afaf1"></a>
            将颜色完全去饱和为灰色，同时保持完全相同的明度：


            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchid is <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>52.460</c-> <c- m>-34.103</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> <c- m>0</c-><c- p>)</c->
// mygray is <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>0</c-><c- p>)</c-> which is <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="4.7" id="relative-Oklab"><span class="secno">4.7. </span><span
                class="content">相对 Oklab 颜色</span><a class="self-link" href="#relative-Oklab"></a></h3>
        <p>Oklab 颜色的含义在 <a href="https://www.w3.org/TR/css-color-4/#ok-lab"><cite>CSS Color 4</cite> § 9.2 Oklab and
                OKLCh</a> 中定义。</p>
        <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-oklab"
                id="ref-for-funcdef-oklab①">oklab()</a> function is extended as follows:</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklab">oklab()</dfn> = oklab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①②">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①④">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤①">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⓪">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤③">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤④">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑤">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑥">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑥">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑤">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑨">相对颜色</a> 语法的 <a class="css"
                data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab②">oklab()</a>
            函数中，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑧">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-l">l</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑤">原色</a> 在（必要时转换到）Oklab 后的 Oklab 明度的 <a class="css production"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③②">&lt;number></a>。1.0 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-a">a</dfn> 和 <dfn class="css dfn-paneled" data-dfn-for="oklab()"
                        data-dfn-type="value" data-export id="valdef-oklab-b">b</dfn> 是对应于 <a data-link-type="dfn"
                        href="#origin-color" id="ref-for-origin-color②⑥">原色</a> 在（必要时转换到）Oklab 后的 a 和 b 轴的 <a
                        class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③③">&lt;number></a>。0.4 等同于 100%，而 -0.4 等同于 -100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-alpha">alpha</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑦">原色</a> 透明度的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③④">&lt;number></a>。1.0 等同于 100%。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>Tests</summary>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                                title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live
                                    test)</small></a> <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
                    </ul>
                </details>
        </ul>
        <h3 class="heading settled" data-level="4.8" id="relative-LCH"><span class="secno">4.8. </span><span
                class="content">相对 LCH 颜色</span><a class="self-link" href="#relative-LCH"></a></h3>
        <p>LCH 颜色的含义在 <a href="https://www.w3.org/TR/css-color-4/#cie-lab"><cite>CSS Color 4</cite> § 9.1 CIE Lab and
                LCH</a> 中定义。</p>
        <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-lch"
                id="ref-for-funcdef-lch③">lch()</a> function is extended as follows:</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lch">lch()</dfn> = lch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①③">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑥">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑦">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⑤">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑧">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑨">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⑥">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⓪">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue④">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥①">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑦">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥②">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑦">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⓪">相对颜色</a> 语法的 <a class="css"
                data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch④">lch()</a>
            函数中，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑨">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-l">l</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑧">原色</a> 在（必要时转换到）CIE LCH 后的 CIE 明度的 <a class="css production"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑦">&lt;number></a>。100 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-c">c</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑨">原色</a> 在（必要时转换到）CIE LCH 后的色度的 <a class="css production"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑧">&lt;number></a>。150 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-h">h</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⓪">原色</a> 在（必要时转换到）CIE LCH 后的色相，以度为单位，
                    并被规范化到 [0, 360] 区间的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑨">&lt;number></a>。90 等同于 90deg。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-alpha">alpha</dfn> 是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③①">原色</a> 透明度的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⓪">&lt;number></a>。1.0 等同于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(source)</small></a>
            </ul>
        </details>
        <div class="example" id="example-fef81186"><a class="self-link" href="#example-fef81186"></a>
            <span class="css">lch(from peru calc(l * 0.8) c h)</span> 产生一个比 <span class="swatch"
                style="--color: peru"></span> peru 暗 20% 的颜色（peru 为 lch(62.2532% 54.0114 63.6769)），其色度和色相保持不变。
            结果为 <span class="swatch" style="--color: rgb(57.58% 32.47% 3.82%)"> </span> lch(49.80256 54.0114
            63.6769)
        </div>
        <div class="example" id="example-fb53cf30">
            <a class="self-link" href="#example-fb53cf30"></a>
            这会在色相角上加上 180 度，从而得到互补色。

            <pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>));</c->
</pre>
            <p>lightseagreen 为 lch(65.4937 39.4484 190.1013)，因此 --complement 为 <span class="swatch"
                    style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> lch(65.4937 39.4484 370.1013)</p>
        </div>
        <div class="example" id="example-dddffb4a">
            <a class="self-link" href="#example-dddffb4a"></a>
            将颜色完全去饱和为灰色，同时保持完全相同的明度：


            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchid is <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>62.571</c-> <c- m>326.973</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> h<c- p>)</c->
// mygray is <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>326.973</c-><c- p>)</c-> which is <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>但现在（因为保留了色相）再把色度恢复（re-saturating）：</p>
            <pre class="highlight"><c- k>--mymuted</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(72.710% 53.293% 71.224%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mygray<c- p>)</c-> l <c- m>30</c-> h<c- p>);</c->
// mymuted is <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>30</c-> <c- m>326.973</c-><c- p>)</c-> which is <c- nf>rgb</c-><c- p>(</c-><c- m>72.710</c-><c- k>%</c-> <c- m>53.293</c-><c- k>%</c-> <c- m>71.224</c-><c- k>%</c-><c- p>)</c->
</pre>
        </div>
        <p>然而，与 HSL 不同，LCH 中的操作并不保证总是在色域内（in-gamut）。</p>
        <div class="example" id="ex-wildly-oog">
            <a class="self-link" href="#ex-wildly-oog"></a>
            在这个例子中，目标是产生一个具有相同明度和色度的新颜色，但色相相差 120 度的三元色。
            原色在 RGB 色域内，但在 LCH 中旋转色相会产生一个超出色域的颜色。



            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
            <p>这会得到一个非常高色度的蓝绿色，
                <span class="oog swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60% 90 200)
                它是 color(srgb -0.6 0.698 0.772)
                因此对于 sRGB 来说超出色域（红分量为负）。
                实际上，它对 display-p3 也是超出色域：
                <span class="oog swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> color(display-p3 -0.46 0.68 0.758)
                甚至对 rec2020 也是超出色域：
                <span class="oog swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> color(rec2020 -0.14 0.623 0.729)。
            </p>
            <p>sRGB 色域内最接近的颜色为 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60.71% 37.56 201.1)
                对应 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> rgb(0% 64.2% 66.3%)。
                色度的差异巨大（变为 37.5 而非 90）。</p>
            <figure id="fig-LCH-rotation-oog">
                <object data="https://www.w3.org/TR/css-color-5/images/LCH-rotation-oog.svg" height="520"
                    width="540"></object>
                <p>CIE CH 平面示意图，显示相对颜色操作。
                    图中标注了 <em>a</em> 和 <em>b</em> 轴，并在中间交叉。
                    我们沿中央的明度轴向下观察。
                    sRGB 色域的最大范围显示为一个不规则的凸多边形。
                </p>
                <figcaption>
                    该图显示了 CIE ab 平面上的 sRGB 色域。
                    小圆点表示主色和次色。
                    <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span>
                    原色（大圆）在 sRGB 色域内；
                    但当在 LCH 中将色相旋转 -120° 时，它变为 <span class="oog swatch" style="--color: #AAA"></span>
                    超出色域（以灰色填充并用红色边框显示）。
                    进行色域映射后的结果颜色具有明显更低的色度。
                </figcaption>
            </figure>
            <p>在 HSL 中执行相同操作将返回一个在色域内的结果。
                但在其他方面并不令人满意：</p>
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
            <p>在 HSL 中，--mycolor 为
                <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> hsl(289.18 93.136% 65.531%)
                ，减去 120 度得到
                <span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> hsl(169.18 93.136% 65.531%)。
                将该结果转换回 LCH
                <span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> lch(89.0345% 49.3503 178.714)
                我们看到，由于在 HSL 中的色相旋转，
                明度从 60% 跃升到 89%，
                色度从 90 降到 49，
                色相实际上改变了 141 度，而不是 120 度。
            </p>
        </div>
        <h3 class="heading settled" data-level="4.9" id="relative-OkLCh"><span class="secno">4.9. </span><span
                class="content">相对 OkLCh 颜色</span><a class="self-link" href="#relative-OkLCh"></a></h3>
        <p>OkLCh 颜色的含义定义于 <a href="https://www.w3.org/TR/css-color-4/#ok-lab"><cite>CSS Color
                    4</cite> § 9.2 Oklab and OKLCh</a>。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch③">oklch()</a>
            函数的文法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklch">oklch()</dfn> = oklch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①④">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑧">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥④">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②①">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑥">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue⑤">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑦">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑧">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑧">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑨">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①①">相对颜色</a> 语法中使用 <a class="css"
                data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch④">oklch()</a>
            函数时，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①⓪">分量关键字</a> 如下：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-l">l</dfn> 是一个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④③">&lt;number></a>，
                    对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③②">原色</a>
                    在（如需转换则先转换到）OkLCh 下的 Oklab 明度。
                    1.0 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-c">c</dfn> 是一个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④④">&lt;number></a>，
                    对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③③">原色</a>
                    在（如需转换则先转换到）OkLCh 下的色度。
                    0.4 等同于 100%。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-h">h</dfn> 是一个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑤">&lt;number></a>，
                    对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③④">原色</a>
                    在（如需转换则先转换到）OkLCh 下的色相，以度为单位，
                    并归一化到 [0, 360] 范围。90 等同于 90deg。</p>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-alpha">alpha</dfn> 是一个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑥">&lt;number></a>，对应于
                    <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑤">原色</a> 的 alpha 透明度。
                    1.0 等同于 100%。
                </p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(source)</small></a>
            </ul>
        </details>
        <p>由于 OkLCh 既感知均匀又能保持色度，且其坐标轴与颜色的直观属性对应，
            因此 OkLCh 是进行颜色操作的良好选择。</p>
        <div class="example" id="ex-oklch-wildly-oog">
            <a class="self-link" href="#ex-oklch-wildly-oog"></a>
            In this example, the aim is again to produce a new color
            with the same Lightness and Chroma,
            but the triad (hue differs by 120 degrees).
            In this example, we will do the manipulation in OkLCh.
            The origin color is inside the RGB gamut,
            but rotating the hue in OkLCh
            again produces an out of gamut color.


            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
            <p>--mycolor 是 <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> oklch(0.69012 0.25077
                319.893)。
                将色相减去 120 度会得到一个高色度的蓝绿色，
                <span class="oog swatch" style="--color: grey"></span> oklch(0.69012 0.25077 199.893)，
                该颜色超出 sRGB 色域，
                表示为 color(srgb -0.6018 0.7621 0.8448)，
                由于红色分量为负值可见其超出色域。
                通过降低 OkLCh 的色度以使其入色域，
                得到 <span class="swatch" style="--color: rgb(0.079% 69.282% 72.067%)"></span> oklch(0.69012 0.1173
                199.893)。
                OkLCh 的色度由 0.251 降至 0.117。
            </p>
        </div>
        <h3 class="heading settled" data-level="4.10" id="relative-alpha"><span class="secno">4.10. </span><span
                class="content">相对 Alpha 颜色</span><a class="self-link" href="#relative-alpha"></a></h3>
        <p>相对 alpha 颜色以某一原色为参照，仅修改 alpha 通道。alpha 通道的含义见 <a
                href="https://www.w3.org/TR/css-color-4/#alpha-syntax"><cite>CSS Color 4</cite>
                § 4.2 以颜色表示透明度：&lt;alpha-value> 语法</a>。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-alpha" id="ref-for-funcdef-alpha①">alpha()</a>
            函数（本级别新增）的文法如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-alpha">alpha()</dfn> = alpha([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑤">&lt;color></a>]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑨">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑨">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②⓪">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①②">相对颜色</a> 语法中使用 <a class="css"
                data-link-type="maybe" href="#funcdef-alpha" id="ref-for-funcdef-alpha②">alpha()</a>
            函数时，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①①">分量关键字</a> 为：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="alpha()" data-dfn-type="value" data-export
                        id="valdef-alpha-alpha">alpha</dfn> 是一个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑦">&lt;number></a>，对应于
                    <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑥">原色</a> 的 alpha 透明度。1.0 等同于
                    100%。
                </p>
        </ul>
        <p>原色的颜色分量保持不变，仅修改或替换 alpha 分量。
            此函数的结果位于原色的颜色空间中。</p>
        <div class="example" id="ex-alpha-replace">
            <a class="self-link" href="#ex-alpha-replace"></a>
            例如，此处结果与原色相同，
            但 alpha 被改为 80%


            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.3)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>0.25</c-> <c- m>315</c-> / <c- m>0.3</c-><c- p>);</c->
<span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.8)"></span> <c- nf>alpha</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> / <c- m>80</c-><c- k>%</c-><c- p>);</c->
</pre>
        </div>
        <div class="example" id="ex-alpha-change">
            <a class="self-link" href="#ex-alpha-change"></a>
            例如，此处结果与原色相同，
            但 alpha 被修改为原色的一半


            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.8)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>0.25</c-> <c- m>315</c-> / <c- m>0.8</c-><c- p>);</c->
<span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.4)"></span> <c- nf>alpha</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> / <c- nf>calc</c-><c- p>(</c->alpha * <c- m>0.5</c-><c- p>));</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="5" id="color-function"><span class="secno">5. </span><span
                class="content">
                指定预定义和自定义色彩空间：color() 函数
            </span><a class="self-link" href="#color-function"></a></h2>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color③">color()</a>
            函数允许在特定、显式列出的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color-space"
                id="ref-for-color-space②">色彩空间</a> 中指定颜色
            （而不是大多数其他颜色函数所隐含的 sRGB 色彩空间）。</p>
        <p>在本级别中，<a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color④">color()</a>
            函数被扩展为允许自定义色彩空间，
            除了来自 <a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> § 10 预定义色彩空间</a>
            的预定义空间之外。</p>
        <p>它还扩展为允许使用相对颜色（而不仅仅是绝对颜色）。</p>
        <p>其语法现在如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color">color()</dfn> = color( [from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑥">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②①">?</a> <a class="production" data-link-type="type" href="#typedef-colorspace-params" id="ref-for-typedef-colorspace-params">&lt;colorspace-params></a> [ / [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①⓪">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⓪">|</a> none ] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②②">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-colorspace-params">&lt;colorspace-params></dfn> = [<a class="production" data-link-type="type" href="#typedef-custom-params" id="ref-for-typedef-custom-params">&lt;custom-params></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦①">|</a> <a class="production" data-link-type="type" href="#typedef-predefined-rgb-params" id="ref-for-typedef-predefined-rgb-params">&lt;predefined-rgb-params></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦②">|</a> <a class="production" data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params">&lt;xyz-params></a>]
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-params">&lt;custom-params></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident">&lt;dashed-ident></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②②">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦④">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb-params">&lt;predefined-rgb-params></dfn> = <a class="production" data-link-type="type" href="#typedef-predefined-rgb" id="ref-for-typedef-predefined-rgb">&lt;predefined-rgb></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②③">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑥">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num②">{3}</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb">&lt;predefined-rgb></dfn> = srgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑦">|</a> srgb-linear <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑧">|</a> display-p3 <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑨">|</a> a98-rgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⓪">|</a> prophoto-rgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧①">|</a> rec2020
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-xyz-params">&lt;xyz-params></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-xyz-space" id="ref-for-typedef-xyz-space">&lt;xyz-space></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑤⓪">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧③">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num③">{3}</a>
</pre>
        <p>color() 函数接受在显式列出的色彩空间中指定颜色的参数。</p>
        <p>它表示下述两类之一：一个如下面所述的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="invalid-color">无效颜色</dfn>，
            或者一个 <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color">有效颜色</a>。</p>
        <p>任何不是 <a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color">无效颜色</a> 的颜色
            都被视为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="valid-color">有效颜色</dfn>。</p>
        <p>一种颜色可以是 <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color①">有效颜色</a>，
            但仍可能超出输出设备（屏幕、投影仪或打印机）可产生的颜色范围。
            对于该色彩空间，它被称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="out-of-gamut">超出色域</dfn>。</p>
        <p>超出色域的颜色具有小于 0 或 0% 的分量值，或大于 1 或 100% 的分量值。
            这些并非无效；相反，在显示时它们会在计算值阶段使用相对色度意图被 <a data-link-type="dfn" href="#gamut-map" id="ref-for-gamut-map">色域映射</a>，
            将值带回到 0/0% 到 1/100% 的范围内。
        </p>
        <p>每个 <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color②">有效颜色</a> 要么对输出设备（屏幕或打印机）是色域内的，
            要么是 <a data-link-type="dfn" href="#out-of-gamut" id="ref-for-out-of-gamut">超出色域</a> 的。</p>
        <h3 class="heading settled" data-level="5.1" id="relative-color-function"><span class="secno">5.1. </span><span
                class="content">相对颜色函数的颜色</span><a class="self-link" href="#relative-color-function"></a></h3>
        <p>在使用 <a class="css production" data-link-type="type" href="#typedef-custom-params"
                id="ref-for-typedef-custom-params①">&lt;custom-params></a> 的 <a data-link-type="dfn"
                href="#relative-color" id="ref-for-relative-color①③">相对颜色</a> 语法的 <a class="css" data-link-type="maybe"
                href="#funcdef-color" id="ref-for-funcdef-color⑤">color()</a>
            函数中，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①②">分量关键字</a>
            的名称和数量由下列项决定：</p>
        <ul>
            <li data-md>
                <p>由相应 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                        id="ref-for-at-ruledef-profile">@color-profile</a> 的 <a class="property"
                        data-link-type="propdesc" href="#descdef-color-profile-components"
                        id="ref-for-descdef-color-profile-components">components</a> 描述符定义（若存在）；
                    否则，不允许任何相对颜色操作。它们是对应于 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑧">原色</a> 在（如需转换则先转换到）色彩配置文件色彩空间后的分量的 <a class="css production"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤①">&lt;number></a>。
                    数值 1.0 对应 100%。</p>
        </ul>
        <p>在使用 <a class="css production" data-link-type="type" href="#typedef-predefined-rgb-params"
                id="ref-for-typedef-predefined-rgb-params①">&lt;predefined-rgb-params></a> 的 <a data-link-type="dfn"
                href="#relative-color" id="ref-for-relative-color①④">相对颜色</a> 语法的 <a class="css" data-link-type="maybe"
                href="#funcdef-color" id="ref-for-funcdef-color⑥">color()</a>
            函数中，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①③">分量关键字</a> 为：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-r">r</dfn>, <dfn class="css dfn-paneled" data-dfn-for="color()"
                        data-dfn-type="value" data-export id="valdef-color-g">g</dfn>, 和 <dfn class="css dfn-paneled"
                        data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-b">b</dfn>
                    都是对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑨">原色</a>
                    在（如需转换则先转换到）预定义 RGB 色彩空间后的红、绿、蓝分量的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤②">&lt;number></a>。
                    数值 1.0 对应 100%。</p>
        </ul>
        <p>在使用 <a class="css production" data-link-type="type" href="#typedef-xyz-params"
                id="ref-for-typedef-xyz-params①">&lt;xyz-params></a> 的 <a data-link-type="dfn" href="#relative-color"
                id="ref-for-relative-color①⑤">相对颜色</a> 语法的 <a class="css" data-link-type="maybe" href="#funcdef-color"
                id="ref-for-funcdef-color⑦">color()</a>
            函数中，允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①④">分量关键字</a> 为：</p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-x">x</dfn>, <dfn class="css dfn-paneled" data-dfn-for="color()"
                        data-dfn-type="value" data-export id="valdef-color-y">y</dfn>, <dfn class="css dfn-paneled"
                        data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-z">z</dfn> 都是对应于 <a
                        class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤③">&lt;number></a>，
                    对应于 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④⓪">原色</a>
                    在（如需转换则先转换到）相应白点下的相对 CIE XYZ 色彩空间的 X、Y、Z 分量。
                    数值 1.0 对应 100%。</p>
        </ul>
        <p>在使用 <a class="css production" data-link-type="type" href="#typedef-predefined-rgb-params"
                id="ref-for-typedef-predefined-rgb-params②">&lt;predefined-rgb-params></a> 或 <a class="css production"
                data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params②">&lt;xyz-params></a> 的
            <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑥">相对颜色</a> 语法的 <a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑧">color()</a>
            函数中，额外允许的一个 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①⑤">分量关键字</a> 为：
        </p>
        <ul>
            <li data-md>
                <p><dfn class="css dfn-paneled" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-alpha">alpha</dfn> 是一个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤④">&lt;number></a>，对应于
                    <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④①">原色</a> 的 alpha 透明度。1.0 等同于
                    100%。
                </p>
        </ul>
        <p>参数具有如下形式：</p>
        <ul>
            <li data-md>
                <p>一个表示色彩空间的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                        id="ref-for-typedef-ident">&lt;ident></a> 或 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                        id="ref-for-typedef-dashed-ident①">&lt;dashed-ident></a>。
                    若为 <span class="production" id="ref-for-typedef-ident①">&lt;ident></span>，则表示预定义色彩空间之一（见 <a
                        href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> § 10
                        预定义色彩空间</a>，例如 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#valdef-color-display-p3"
                        id="ref-for-valdef-color-display-p3">display-p3</a>）；
                    若为 <span class="production" id="ref-for-typedef-dashed-ident②">&lt;dashed-ident></span>，则表示由 <a
                        class="css" data-link-type="maybe" href="#at-ruledef-profile"
                        id="ref-for-at-ruledef-profile①">@color-profile</a> 规则定义的自定义色彩空间。
                    个别预定义色彩空间可能进一步限制是否只能使用 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑤">&lt;number></a>、或 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑤">&lt;percentage></a>，或两者皆可。</p>
                <p>如果该 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                        id="ref-for-typedef-ident②">&lt;ident></a> 指向不存在的色彩空间（即名称不匹配任何预定义色彩空间），
                    或指向预定义但未被支持的色彩空间，则该参数表示一个 <a data-link-type="dfn" href="#invalid-color"
                        id="ref-for-invalid-color①">无效颜色</a>。</p>
                <p>如果该 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                        id="ref-for-typedef-dashed-ident③">&lt;dashed-ident></a> 指向不存在的色彩空间（即名称不匹配任何 <a
                        data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile">色彩配置文件</a>
                    的名字，或虽匹配但相应配置文件尚未加载，或不代表有效配置文件），
                    则该参数表示一个 <a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color②">无效颜色</a>。</p>
            <li data-md>
                <p>一个或多个 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑥">&lt;number></a> 或 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑥">&lt;percentage></a>，用于提供该色彩空间所需的参数值。</p>
                <p>对于自定义色彩空间，指定的分量值若小于 0 或 0%，或大于 1 或 100%，并不视为无效；
                    在计算值阶段这些值会被夹限到有效范围。
                    这是因为 ICC 配置文件通常不接受超范围的输入值。</p>
                <p>对于自定义色彩空间，若提供的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑦">&lt;number></a> 或 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑦">&lt;percentage></a> 比该色彩空间需要的参数更多，
                    则结尾处多余的 <span class="production" id="ref-for-number-value⑤⑧">&lt;number></span> 会被忽略。
                    该颜色仍被视为 <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color③">有效颜色</a>。</p>
                <p>对于自定义色彩空间，若提供的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑨">&lt;number></a> 或 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑧">&lt;percentage></a> 比可选的 components 描述中列出的分量更多，
                    结尾处的附加值仍然有效，但不能用于相对颜色语法。
                    该颜色仍被视为 <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color④">有效颜色</a>。</p>
                <p>对于自定义色彩空间，若提供的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑥⓪">&lt;number></a> 或 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑨">&lt;percentage></a> 少于色彩空间所需的参数，
                    则缺省的参数值为 <span class="css">0</span>。
                    （这对多组分打印机尤其方便，其中额外的油墨可能是点色或光油，大部分页面颜色不会使用它们。）
                    该颜色仍被视为 <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color⑤">有效颜色</a>。</p>
                <p>对于预定义色彩空间，指定的分量值若小于 0 或 0%，或大于 1 或 100%，也不视为无效；
                    这些超出色域的颜色会在计算值阶段使用相对色度意图被映射到有效范围。</p>
            <li data-md>
                <p>可选的以斜线分隔的 <a class="css production" data-link-type="type"
                        href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value"
                        id="ref-for-typedef-color-alpha-value①①">&lt;alpha-value></a>。若省略，则默认为 <span
                        class="css">100%</span>。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(source)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-RCS-XYZ">
            <a class="self-link" href="#ex-RCS-XYZ"></a>
            例如，在 CIE XYZ D65 色彩空间中使用相对颜色语法
            可生成一个具有相同色度但亮度恰好为基色一半的颜色：


            <pre class="highlight lang-css"><c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(73.58% 48.92% 10.45%)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.7</c-> <c- m>0.5</c-> <c- m>0.1</c-><c- p>);</c->
<c- k>--dark</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(53.617% 35.186% 6.4237%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> xyz-d65 <c- nf>calc</c-><c- p>(</c->x/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->y/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->z/<c- m>2</c-><c- p>));</c->
</pre>
            <p>原色为 color(xyz-d65 0.281 0.253 0.044)，
                因此相对颜色为 color(xyz-d65 0.14 0.126 0.022)。</p>
        </div>
        <h3 class="heading settled" data-level="5.2" id="custom-color"><span class="secno">5.2. </span><span
                class="content">
                自定义色彩空间
            </span><a class="self-link" href="#custom-color"></a></h3>
        <p>CSS 允许通过引用色彩配置文件来指定<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color"
                id="ref-for-color">颜色</a>。
            例如，这可以用于校准过的 CMYK 打印机、RGB 色彩空间，或任何已被表征的其他彩色或单色输出设备。</p>
        <div class="example" id="ex-profiles-colors">
            <a class="self-link" href="#ex-profiles-colors"></a>
            本例指定了四个已校准的颜色：
            其中两个是自定义空间
            （用于 SWOP 涂层 CMYK 印刷机，
            以及用于广色域七色印刷机），
            另外两个是预定义空间
            （ProPhoto RGB 和 display-p3 RGB 空间）。
            在每种情况下，数值参数的范围都是 0.0 到 1.0
            （而不是例如 0 到 255）。

            <pre class="highlight lang-css"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--swopc <c- m>0.0134</c-> <c- m>0.8078</c-> <c- m>0.7451</c-> <c- m>0.3019</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--indigo <c- m>0.0941</c-> <c- m>0.6274</c-> <c- m>0.3372</c-> <c- m>0.1647</c-> <c- m>0</c-> <c- m>0.0706</c-> <c- m>0.1216</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->prophoto-rgb <c- m>0.9137</c-> <c- m>0.5882</c-> <c- m>0.4784</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.3804</c-> <c- m>0.9921</c-> <c- m>0.1412</c-><c- p>);</c->
</pre>
        </div>
        <p>未使用预定义色彩空间的颜色（参见 <a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> § 10
                预定义色彩空间</a>）
            可通过使用 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident④">&lt;dashed-ident></a> 与众不同，
            并且还需要在样式表的某处有一个匹配的 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile②">@color-profile</a> at-rule，
            以将名称与配置文件数据相关联。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html"
                        title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(source)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-profiles-colors-at">
            <a class="self-link" href="#ex-profiles-colors-at"></a>

            <pre class="highlight lang-css"><c- n>@color-profile</c-> --swopc <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/swop-coated.icc'</c-><c- p>);}</c->
<c- n>@color-profile</c-> --indigo <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/indigo-seven.icc'</c-><c- p>);}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.3" id="at-profile"><span class="secno">5.3. </span><span
                class="content">
                指定色彩配置文件：<a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile③">@color-profile</a> at-rule
            </span><a class="self-link" href="#at-profile"></a></h3>
        <p><dfn class="css dfn-paneled" data-dfn-type="at-rule" data-export id="at-ruledef-profile">@color-profile</dfn>
            规则定义并命名一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="color profile"
                data-lt="CSS color profile" data-noexport id="css-color-profile">色彩配置文件</dfn>，
            该配置文件随后可以在 <a class="css" data-link-type="maybe" href="#funcdef-color"
                id="ref-for-funcdef-color⑨">color()</a> 函数中用于指定颜色。</p>
        <p>其定义如下：</p>
        <pre class="prod">@color-profile = @color-profile [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑤">&lt;dashed-ident></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧④">|</a> <span class="css">device-cmyk</span>] { <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" id="ref-for-typedef-declaration-list">&lt;declaration-list></a> }
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html"
                        title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(source)</small></a>
            </ul>
        </details>
        <p>该 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident⑥">&lt;dashed-ident></a> 提供了 <a data-link-type="dfn"
                href="#css-color-profile" id="ref-for-css-color-profile①">色彩配置文件</a> 的名称，
            用于在 CSS 样式表中引用。
            或者，关键字 <span class="css">device-cmyk</span>
            表示如果该色彩配置文件有效，
            将用于解析以 <span class="css">device-cmyk</span> 指定的颜色。</p>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile④">@color-profile</a> 规则接受本规范中定义的描述符。</p>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>Name:
                    <td><dfn class="css dfn-paneled" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-src">src</dfn>
                <tr>
                    <th>For:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑤">@color-profile</a>
                <tr>
                    <th>Value:
                    <td class="prod"><a class="css production" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#url-value" id="ref-for-url-value">&lt;url></a>
                <tr>
                    <th>Initial:
                    <td>n/a
        </table>
        <p>描述符 <a class="property" data-link-type="propdesc" href="#descdef-color-profile-src"
                id="ref-for-descdef-color-profile-src">src</a> 指定用于检索色彩配置文件信息的 URL。</p>
        <p>如果定义了多个具有相同名称的 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile⑥">@color-profile</a> 规则，
            则按文档顺序最后出现的规则生效，之前的都会被忽略。</p>
        <p>检索到的 ICC 配置文件在以下情况下被视为有效</p>
        <ul>
            <li data-md>
                <p>它可以被解析为 ICC 配置文件</p>
            <li data-md>
                <p>它是一个输入（Input）、显示（Display）、输出（Output）或色彩空间 ICC 配置文件。（抽象（Abstract）、DeviceLink 和 NamedColor ICC
                    配置文件不得使用）。</p>
        </ul>
        <p>如果该配置文件无效，则引用该配置文件的所有 CSS 颜色均为 <a data-link-type="dfn" href="#invalid-color"
                id="ref-for-invalid-color③">无效颜色</a>。</p>
        <p>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="fetch-an-external-color-profile">获取外部色彩配置文件</dfn>，给定一个
            <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile⑦">@color-profile</a> 规则 <var>rule</var>，
            按照 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#fetch-a-style-resource"
                id="ref-for-fetch-a-style-resource">获取样式资源</a> 的流程使用 <var>rule</var> 的 URL，
            并将 ruleOrDeclaration 设为 <var>rule</var>，
            destination 设为 "color-profile"，
            CORS 模式为 "cors"，
            并按以下步骤处理响应（给定 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response">response</a> |/res|）或 null、失败或字节流 <var>byteStream</var>：
            若 <var>byteStream</var> 为字节流，
            则应用从 |byteStream 解析出的色彩配置文件。
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> ICC 配置文件的互联网媒体类型（“MIME 类型”）
            为
            <a
                href="https://www.iana.org/assignments/media-types/application/vnd.iccprofile">application/vnd.iccprofile</a>。
        </p>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>Name:
                    <td><dfn class="css dfn-paneled" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-rendering-intent">rendering-intent</dfn>
                <tr>
                    <th>For:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑧">@color-profile</a>
                <tr>
                    <th>Value:
                    <td class="prod">relative-colorimetric <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑤">|</a>
                        absolute-colorimetric <span id="ref-for-comb-one⑧⑥">|</span> perceptual <span
                            id="ref-for-comb-one⑧⑦">|</span> saturation
                <tr>
                    <th>Initial:
                    <td>relative-colorimetric
        </table>
        <p><a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile②">色彩配置文件</a>
            包含“渲染意图（rendering intents）”，
            它们定义了如何将其颜色映射（<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="gamut-map">gamut-map</dfn>）到比其定义的色域更小的色域。
            通常一个配置文件只包含单个意图，
            但当存在多个时，
            <a class="property" data-link-type="propdesc" href="#descdef-color-profile-rendering-intent"
                id="ref-for-descdef-color-profile-rendering-intent">rendering-intent</a> 描述符用于选择其中一个。
        </p>
        <p>四种可能的渲染意图见 <a data-link-type="biblio" href="#biblio-icc"
                title="ICC.1:2022 (Profile version 4.4.0.0)">[ICC]</a>：</p>
        <dl>
            <dt><dfn class="css dfn-paneled" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export
                    id="valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</dfn>

            <dd>

                媒介相关的色度比对（media-relative
                colorimetric）要求在相对于各自媒体白点的情况下，将落入目标媒体色域内的源颜色保持不变。落在目标媒体色域外的源颜色会使用多种不同方法映射到色域边界上的颜色。


                <p>媒体相关的色度比对渲染意图通常与黑点补偿（black point
                    compensation）一起使用，在该方法中源媒体的黑点也被映射到目标媒体的黑点。该方法必须将源白点映射到目标白点。如果正在使用黑点补偿，源黑点也必须映射到目标黑点。应使用适配算法来调整白点变化。应保留源与目标色域内颜色的相对关系。目标色域外颜色的相对关系可能会被改变。
                </p>
            <dt><dfn class="css dfn-paneled" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export
                    id="valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</dfn>

            <dd>

                ICC 绝对色度比对（ICC-absolute
                colorimetric）要求在相对于采用的白点（一个理想的反射漫散体）情况下，将落入目标媒体色域内的源颜色保持不变。落在目标媒体色域外的源颜色会使用多种不同方法映射到色域边界上的颜色。该方法对于色域内颜色能产生最精确的颜色匹配，但如果目标媒体白点低于源媒体白点，会导致高光裁剪（highlight
                clipping）。因此建议仅在需要精确颜色匹配且对高光裁剪不敏感的应用中使用。


                <p>在转换颜色时，该方法必须禁用白点匹配和黑点匹配。一般来说，除测试目的外不推荐使用此选项。</p>
            <dt><dfn class="css dfn-paneled" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-perceptual">perceptual</dfn>

            <dd>

                当源与目标之间存在显著差异（例如屏幕显示的图像在反射印刷上再现）时，该方法通常是图像的首选。它采用源图像的颜色并使用专有方法为目标媒介重新优化外观。此重新优化可能会改变源和目标色域内的颜色，虽然感知变换应保持原始作品的基本艺术意图。它不会尝试修正源图像中的错误。


                <p class="note" role="note"><span class="marker">Note:</span> 对于 v2 ICC 配置文件，没有指定的感知参考媒介，这会导致互操作性问��。使用
                    v2 ICC 配置文件时，除非已核查要使用的特定源和目标配置文件能产生期望的结果，否则使用带黑点补偿的媒体相关色度比对渲染意图可能比感知渲染意图更安全。</p>
                <p>该方法应在映射到目标设备色域时保持像素之间的相对颜色值。为避免色相偏移和不连续并尽可能保留场景的整体外观，该方法可能会改变原本已在目标设备色域内的像素值。</p>
            <dt><dfn class="css dfn-paneled" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-saturation">saturation</dfn>

            <dd>
                该选项旨在保留原始的相对饱和度（色度），并保持纯色的纯度。然而，它像感知意图一样存在互操作性问题，并且因为使用 v4
                配置文件的参考媒介方案无法解决纯色保持的问题，所以并不总能解决问题。除非已核查要使用的特定源和目标配置文件能产生期望结果，否则不建议使用此渲染意图。该选项应保留原始像素的相对饱和度（色度）值。超出色域的颜色应被转换为具有相同饱和度但刚好落入色域内的颜色。

        </dl>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>Name:
                    <td><dfn class="css dfn-paneled" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-components">components</dfn>
                <tr>
                    <th>For:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑨">@color-profile</a>
                <tr>
                    <th>Value:
                    <td class="prod"><a class="css production" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                            id="ref-for-typedef-ident③">&lt;ident></a><a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma①">#</a>
                <tr>
                    <th>Initial:
                    <td>n/a
        </table>
        <p>色彩配置文件可以定义包含不同数量分量的色彩空间。
            例如，青（Cyan）、品红（Magenta）、黄（Yellow）和黑（Black）（CMYK）的配置文件
            有四个分量，
            名为 c, m, y 和 k。
            而一个四分量的加法屏幕配置文件
            可能使用名为 r, g, y 和 b 的四个分量。</p>
        <p>此描述符的值为用逗号分隔的 <a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-ident" id="ref-for-typedef-ident④">&lt;ident></a>
            代币列表。
            每个 <span class="production" id="ref-for-typedef-ident⑤">&lt;ident></span> 指定一个分量的名称，
            顺序即为该分量在色彩配置文件中被使用的顺序，
            代币总数即定义了分量的数量。</p>
        <div class="example" id="ex-components-cmyk">
            <a class="self-link" href="#ex-components-cmyk"></a>
            该描述符声明有四个分量，名为 cyan、magenta、yellow 和 black：

            <pre>components: cyan, magenta, yellow, black</pre>
            <p>而下述描述符采用更简洁的命名：</p>
            <pre>components: c,m,y,k</pre>
        </div>
        <div class="example" id="ex-components-cmykogv">
            <a class="self-link" href="#ex-components-cmykogv"></a>
            该描述符声明存在七个分量
            名为 cyan、magenta、yellow、black、orange、green 和 violet：

            <pre>components: cyan, magenta, yellow, black, orange, green, violet</pre>
        </div>
        <p>如果某个分量的名称与 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive">ASCII 不区分大小写</a> 的 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none②">none</a>
            匹配，则该描述符无效，
            因为这将与用于表示缺失值的标记冲突。</p>
        <p>如果为分量选择的名称与 <a href="https://www.w3.org/TR/css-values-4/#calc-constants"><cite>CSS Values 4</cite>
                § 10.7.1 Numeric Constants: e, pi</a> 中定义的 CSS 数值常量冲突，
            该分量仍然有效，
            但在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#funcdef-calc"
                id="ref-for-funcdef-calc">calc()</a> 中，该分量将被数值常量遮蔽，
            可能导致意外结果。</p>
        <div class="example" id="ex-component-pi">
            <a class="self-link" href="#ex-component-pi"></a>
            该描述符不明智地将一个分量命名为 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-values-4/#valdef-calc-pi" id="ref-for-valdef-calc-pi">pi</a>，
            导致在相对颜色语法中出现意外结果。


            <pre>@color-profile --unwise {
  src: url(https://example.com/unwise);
  components: mi, pi, ni;
}
--base: color(--unwise 35% 20% 8%);
--accent: color(from var(--base) mi calc(pi * 2) calc(ni / 2));
</pre>
            <p>在这里，--accent 的分量值为 35%、
                3.14159265358979 * 2 = 6.28318530717959、
                4%。</p>
        </div>
        <h3 class="heading settled" data-level="5.4" id="cal-cmyk"><span class="secno">5.4. </span><span
                class="content">
                CSS 与印刷：使用校准的 CMYK 及其他印刷色彩空间
            </span><a class="self-link" href="#cal-cmyk"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile①⓪">@color-profile</a> at-rule 并不限于 RGB 色彩空间。
            虽然屏幕通常直接以 RGB 显示颜色，
            打印机常用 CMYK 表示颜色。</p>
        <p>使用青、品红、黄和黑（CMYK）的校准四色印刷，
            或使用额外油墨（如橙、绿、紫）的高保真广色域印刷（CMYKOGV），
            也可以在 CSS 中实现，
            前提是你有一个与所使用的油墨、纸张、总墨量限制和设备相对应的 ICC 配置文件。</p>
        <div class="example" id="ex-fogra">
            <a class="self-link" href="#ex-fogra"></a>
            例如，使用基于 FOGRA39 表征数据的 ISO 12647-2:2004 / Amd 1:2007 的胶印
            在 115gsm 涂层纸上
            并设置总墨量限制为 300% 总覆盖率 <a data-link-type="biblio" href="#biblio-fogra39"
                title="ISO 12647-2:2004 / Amd 1, Offset commercial and specialty printing according to ISO 12647-2, paper type 1 or 2 (gloss or matte coated offset, 115 g/m²), screen frequency 60/cm">[FOGRA39]</a>。



            <pre class="highlight lang-css"><c- n>@color-profile</c-> --fogra39 <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span>  <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
  <c- p>}</c->
</pre>
            <p>此处 color() 函数首先指明我们为配置文件指定的名称，
                然后给出青、品红、黄和黑的百分比。</p>
            <p>在此配置文件中，这解析为颜色
                <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> lab(63.673303% 51.576902
                5.811058)
                即
                <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> rgb(93.124, 44.098% 57.491%)。
            </p>
        </div>
        <p>因为给定 CMYK 组合的实际颜色是已知的，
            可以制作打印输出的屏幕软打样（soft-proof）。</p>
        <p>另外，依赖于已知颜色的过程（抗锯齿、合成、在渐变中使用颜色等）
            可以正常进行。</p>
        <figure id="fig-fogra51-roundtrip">
            <object data="https://www.w3.org/TR/css-color-5/images/macbeth-roundtrip.svg" height="500" width="720">
                <p>A grid of colored squares. There are six columns,
                    labelled A to F,
                    and four rows,
                    labelled 1 to 4.
                </p>
            </object>
            <figcaption>
                <p>A color checker, used for ensuring color fidelity
                    in the print and photographic industries.
                    Averaged measured Lab values are available for each patch.
                    The rectangles show the Lab values, converted to sRGB.
                    The circles, which are barely visible, show the Lab values,
                    passed through a FOGRA51 <a data-link-type="biblio" href="#biblio-fogra51"
                        title="ISO 12647-2:2013, Process control for the production of half-tone colour separations, proof and production printsPart 2: Offset lithographic processes, PS 1, premium coated, 115 g/m², moderate substrate fluorescence">[FOGRA51]</a>
                    ICC profile to convert them to CMYK.
                    The CMYK values are then passed through the same ICC profile in reverse,
                    to yield new Lab values. These are then converted to sRGB for display.</p>
                <p>The one patch with a more visible circle (third row, first patch)
                    is because the color is slightly outside the gamut of the
                    FOGRA51 CMYK space used.</p>
                <p>The table below shows, for each patch, the DeltaE 2000 between the original Lab and the Lab value
                    after round-tripping through CMYK. A DeltaE 2000 of 1 or more is just visible.</p>
                <table class="deltaE">
                    <tbody>
                        <tr>
                            <th>
                            <th>A
                            <th>B
                            <th>C
                            <th>D
                            <th>E
                            <th>F
                        <tr>
                            <th>1
                            <td class="dE0">0.06
                            <td class="dE0">0.07
                            <td class="dE0">0.03
                            <td class="dE0">0.04
                            <td class="dE0">0.06
                            <td class="dE0">0.17
                        <tr>
                            <th>2
                            <td class="dE0">0.03
                            <td class="dE0">0.75
                            <td class="dE0">0.05
                            <td class="dE0">0.06
                            <td class="dE0">0.03
                            <td class="dE0">0.02
                        <tr>
                            <th>3
                            <td class="dE2">1.9
                            <td class="dE0">0.04
                            <td class="dE0">0.06
                            <td class="dE0">0.05
                            <td class="dE0">0.02
                            <td class="dE0">0.05
                        <tr>
                            <th>4
                            <td class="dE0">0.03
                            <td class="dE0">0.08
                            <td class="dE0">0.03
                            <td class="dE0">0.03
                            <td class="dE0">0.04
                            <td class="dE0">0.80
                </table>
            </figcaption>
        </figure>
        <div class="example" id="ex-swop5v2">
            <a class="self-link" href="#ex-swop5v2"></a>
            该示例使用基于 CGATS/SWOP TR005 2007 表征数据的 ISO 12647-2:2004 胶印，
            在 grade 5 纸张上
            总墨量限制为 300%，
            并使用中等的灰分替换（GCR）。



            <pre class="highlight lang-css"><c- n>@color-profile</c-> --swop5c <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>在该配置文件中，这一 CMYK 数值
                （与前例相同的百分比）
                解析为颜色
                <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span> lab(64.965217% 52.119710
                5.406966)
                即
                <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span> rgb(94.903% 45.248%
                59.104%)。
            </p>
        </div>
        <p>可以指定后备颜色（fallback colors），
            例如通过媒体查询，
            在已知指定的 CMYK 颜色超出 sRGB 色域时使用。</p>
        <div class="example" id="ex-fogra39-fallback-mq">
            <a class="self-link" href="#ex-fogra39-fallback-mq"></a>
            本示例使用先前相同的 FOGRA39 设置，
            但指定了一个超出 sRGB 色域的鲜绿色。
            然而该颜色在 display-p3 色域内。
            因此在广色域屏幕和印刷中按原样显示，
            在 sRGB 屏幕上使用较不强烈的后备颜色。



            <pre class="highlight lang-css"><c- n>@media</c-> <c- p>(</c->color-gamut: srgb<c- p>)</c-> <c- p>{</c->
  .header <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>8.154</c-><c- k>%</c-> <c- m>60.9704</c-><c- k>%</c-> <c- m>37.184</c-><c- k>%</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c->
<c- n>@media</c-> print<c- p>,</c-> <c- p>(</c->color-gamut: p3<c- p>){</c->
  .header <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c->  <span class="oog swatch" style="--color: rgb(0% 62.06% 34%)"></span> <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c->
</pre>
            <p>该 CMYK 颜色对应于 lab(56.596645% -58.995875 28.072154)
                或 lch(56.596645% 65.33421077211648 154.5533771086801)。
                在 sRGB 中这将是 rgb(-60.568% 62.558% 32.390%)，如其较大的负红分量所示，
                属于超出色域。</p>
            <p>将色度降低到结果进入色域后得到
                <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> lch(56.596645% 51
                154.5533771086801)
                即 <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> rgb(8.154% 60.9704%
                37.184%)，
                该颜色已被手动指定为后备颜色。
            </p>
            <p>对于广色域屏幕，该颜色位于 display-p3 色域内
                （它是 display-p3(0.1658 0.6147 0.3533)）。</p>
        </div>
        <p>颜色并不限于四种油墨（CMYK）。例如，可以使用广色域的七色油墨集合。</p>
        <div class="example" id="ex-fogra55beta-7color">
            <a class="self-link" href="#ex-fogra55beta-7color"></a>此示例使用 FOGRA55 测试数据集的 beta 版本 <a
                data-link-type="biblio" href="#biblio-fogra55" title="CMYKOGV-based gamut exchange space">[FOGRA55]</a>
            用于 CMYKOGV 七色印刷。
            四种油墨——黑、青、品红和黄——与 FOGRA51 集相同，
            并产生相同的结果。
            另外三种油墨为：

            <ul>
                <li>橙色：CIELAB 65 58 88
                <li>绿色：CIELAB 60 -75 0
                <li>CIELAB 22 47 -56
            </ul>
            <p>测量条件为 M1，
                表示在考虑纸张中光学增白剂的情况下进行测量，
                光谱仪没有 UV 截断滤镜。</p>
            <pre class="highlight lang-css"><c- n>@color-profile</c-> --fogra55beta <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/2020_13.003_FOGRA55beta_CL_Profile.icc'</c-><c- p>);</c->
<c- p>}</c->
.dark_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(45.8702% 32.0071% 26.3813%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.183596</c-> <c- m>0.464444</c-> <c- m>0.461729</c-> <c- m>0.612490</c-> <c- m>0.156903</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.light_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(78.0170% 58.1957% 50.7737%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.070804</c-> <c- m>0.334971</c-> <c- m>0.321802</c-> <c- m>0.215606</c-> <c- m>0.103107</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_sky <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(35.8614% 48.0665% 61.6556%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.572088</c-> <c- m>0.229346</c-> <c- m>0.081708</c-> <c- m>0.282044</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.168260</c-><c- p>);</c->
<c- p>}</c->
.foliage <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(34.9582% 42.3446% 25.4209%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.314566</c-> <c- m>0.145687</c-> <c- m>0.661941</c-> <c- m>0.582879</c-> <c- m>0.000000</c-> <c- m>0.234362</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_flower <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.2952% 50.4131% 68.9186%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.375515</c-> <c- m>0.259934</c-> <c- m>0.034849</c-> <c- m>0.107161</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.308200</c-><c- p>);</c->
<c- p>}</c->
.bluish_green <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(36.8792% 74.3685% 67.4749%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.397575</c-> <c- m>0.010047</c-> <c- m>0.223682</c-> <c- m>0.031140</c-> <c- m>0.000000</c-> <c- m>0.317066</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.5" id="cmyk-to-lab"><span class="secno">5.5. </span><span
                class="content">
                将 CMYK 颜色转换为 Lab
            </span><a class="self-link" href="#cmyk-to-lab"></a></h3>
        <p>从校准的 CMYK 色彩空间转换到 Lab 通常通过在 ICC 配置文件中查找对应的 Lab 值来完成。</p>
        <h3 class="heading settled" data-level="5.6" id="lab-to-cmyk"><span class="secno">5.6. </span><span
                class="content">
                将 Lab 颜色转换为 CMYK
            </span><a class="self-link" href="#lab-to-cmyk"></a></h3>
        <p>对于印刷，
            需要将 Lab 颜色转换为打印机的色彩空间。</p>
        <p>这通常通过在 ICC 配置文件中查找对应的 CMYK 值来完成。</p>
        <h2 class="heading settled" data-level="6" id="device-cmyk"><span class="secno">6. </span><span class="content">
                未校准 CMYK 颜色：<a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk④">device-cmyk()</a> 函数
            </span><a class="self-link" href="#device-cmyk"></a></h2>
        <p>有时，当某台打印机未经过校准，但通过实验或印刷色卡已知特定墨水组合的输出效果时，
            以设备相关的方式表达 CMYK 颜色会很有用。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 因为实际输出颜色可能未知，
            CSS 处理器可能会尝试进行近似。
            这种近似结果在视觉上可能与实际打印结果相差很大。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑤">device-cmyk()</a> 函数允许作者以如下方式指定颜色：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-device-cmyk">device-cmyk()</dfn> = <a class="production" data-link-type="type" href="#typedef-legacy-device-cmyk-syntax" id="ref-for-typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑧">|</a> <a class="production" data-link-type="type" href="#typedef-modern-device-cmyk-syntax" id="ref-for-typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥①">&lt;number></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma②">#{4}</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="#typedef-cmyk-component" id="ref-for-typedef-cmyk-component">&lt;cmyk-component></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num④">{4}</a> [ / [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①②">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑨">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none③">none</a> ] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②③">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-cmyk-component">&lt;cmyk-component></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value③⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨①">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none④">none</a>
</pre>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑥">device-cmyk()</a> 函数的参数依次指定青色、品红、黄色和黑色分量，
            范围为 0 到 1
            或在现代语法中为 0% 到 100%。两种用法等价，可线性互换。
            小于 0 或 0%、大于 1 或 100% 的值不是无效的；
            而是在计算值阶段被截断到 0/0% 或 1/100%。</p>
        <p>在现代语法中，第五个参数指定颜色的 alpha 分量。
            它的解释和 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                id="ref-for-funcdef-rgb⑤">rgb()</a> 函数的第四个参数一致。
            如果省略，默认为 <span class="css">100%</span>。</p>
        <p>出于<a href="https://www.w3.org/TR/2011/WD-css3-gcpm-20111129/#cmyk-colors">历史原因</a>，
            <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑦">device-cmyk()</a> 也支持<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                id="ref-for-legacy-color-syntax②">传统颜色语法</a>。
        </p>
        <p>一般来说，基于打印的应用确实会把所用颜色存储为 CMYK，并以这种形式发送至打印机。
            但这种颜色没有色度解释，因此无��用于渐变、合成、混合等操作。</p>
        <p>因此，设备 CMYK 颜色必须转换为等效颜色。
            这不像从 HSL 或 HWB 到 RGB 的转换那样简单；
            精确转换依赖于输出设备的具体特性。</p>
        <ol>
            <li>如果用户、作者或用户代理样式表中有一个 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile①①">@color-profile</a> 对 device-cmyk 的定义，
                且 src 描述符指定的资源可获取，
                并且资源为有效的 CMYK ICC 配置文件，
                且用户代理能够处理 ICC 配置文件，
                则 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk⑧">device-cmyk()</a> 函数的计算值
                必须是该 CMYK 颜色的 Lab 值。
            <li>否则，
                <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk⑨">device-cmyk()</a> 函数的计算值
                必须是该 CMYK 颜色按下述朴素转换算法转为的 sRGB 值。

        </ol>
        <div class="example" id="ex-device-cmyk-naive">
            <a class="self-link" href="#ex-device-cmyk-naive"></a>
            例如，在没有 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile①②">@color-profile</a> 的情况下，
            使用朴素转换时，下列颜色等价。


            <pre class="highlight lang-css"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>178</c-> <c- m>34</c-> <c- m>34</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> firebrick<c- p>;</c->
</pre>
        </div>
        <div class="example" id="ex-device-cmyk-colprof">
            <a class="self-link" href="#ex-device-cmyk-colprof"></a>
            若已按示例样式表指定 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile①③">@color-profile</a>，
            则使用色度转换时，下列颜色等价。


            <pre class="highlight lang-css"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>45.060</c-><c- k>%</c-> <c- m>45.477</c-> <c- m>35.459</c-><c- p>)</c->
color: <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>70.690</c-><c- k>%</c-> <c- m>26.851</c-><c- k>%</c-> <c- m>19.724</c-><c- k>%</c-><c- p>);</c->
</pre>
        </div>
        <p>朴素转换本质上是近似的，
            因为它不了解墨水的色度、网点增大、RGB 空间的色度等因素。</p>
        <figure id="fig-naive-cmyk">
            <object data="https://www.w3.org/TR/css-color-5/images/macbeth-naive.svg" height="450" width="670">
                <p>一组有颜色方格的网格。有六列，标记为 A 到 F，四行，标记为 1 到 4。</p>
            </object>
            <figcaption>
                <p>色卡（color checker），用于印刷和摄影行业以确保色彩保真。
                    每个色块均有平均测量得出的 Lab 值。
                    矩形显示这些 Lab 值转换为 sRGB 的结果。
                    圆圈则显示 Lab 值经过 ICC 配置文件转换为 CMYK 后，
                    再朴素地转换为 sRGB 的结果。</p>
                <p>下表显示，每个色块在经过 CMYK 回转后的 Lab 与原始 Lab 之间的 DeltaE 2000。
                    DeltaE 2000 达 1 或更大时肉眼就可以分辨；
                    达 5 或更大时已经是另一种颜色了。</p>
                <table class="deltaE">
                    <tbody>
                        <tr>
                            <th>
                            <th>A
                            <th>B
                            <th>C
                            <th>D
                            <th>E
                            <th>F
                        <tr>
                            <th>1
                            <td class="dE5">11.33
                            <td class="dE5">9.36
                            <td class="dE5">5.66
                            <td class="dE5">7.52
                            <td class="dE5">12.39
                            <td class="dE5">21.58
                        <tr>
                            <th>2
                            <td class="dE5">6.40
                            <td class="dE5">8.79
                            <td class="dE5">11.77
                            <td class="dE5">17.16
                            <td class="dE5">11.91
                            <td class="dE3">3.97
                        <tr>
                            <th>3
                            <td class="dE5">12.1
                            <td class="dE5">17.00
                            <td class="dE3">3.38
                            <td class="dE1">1.94
                            <td class="dE5">18.08
                            <td class="dE5">14.97
                        <tr>
                            <th>4
                            <td class="dE1">1.89
                            <td class="dE5">6.56
                            <td class="dE5">7.85
                            <td class="dE5">8.76
                            <td class="dE5">9.82
                            <td class="dE5">10.29
                </table>
            </figcaption>
        </figure>
        <h3 class="heading settled" data-level="6.1" id="cmyk-rgb"><span class="secno">6.1. </span><span
                class="content">
                朴素地在未校准 CMYK 与基于 sRGB 的颜色间转换
            </span><a class="self-link" href="#cmyk-rgb"></a></h3>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="naively convert from CMYK to RGBA | naively converted to RGBA"
                id="naively-convert-from-cmyk-to-rgba">朴素地将 CMYK 转换为 RGBA</dfn>：</p>
        <ul class="lang-javascript">
            <li><code
                    class="highlight">red   <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>

            <li><code
                    class="highlight">green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>

            <li><code
                    class="highlight">blue  <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow  <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>

            <li>Alpha 与输入色一样。

        </ul>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="naively convert from RGBA to CMYK | naively converted to CMYK"
                id="naively-convert-from-rgba-to-cmyk">朴素地将 RGBA 转换为 CMYK</dfn>：</p>
        <ul class="lang-javascript">
            <li><code
                    class="highlight">black   <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> max<c- p>(</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>)</c-></code>

            <li><code
                    class="highlight">cyan <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> red <c- o>-</c-> black<c- p>)</c->   <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> or <c- mf>0</c-> <c- k>if</c-> black is <c- mf>1</c-></code>

            <li><code
                    class="highlight">magenta <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> green <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> or <c- mf>0</c-> <c- k>if</c-> black is <c- mf>1</c-></code>

            <li><code
                    class="highlight">yellow  <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> blue <c- o>-</c-> black<c- p>)</c->  <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> or <c- mf>0</c-> <c- k>if</c-> black is <c- mf>1</c-></code>

            <li>alpha 与输入色相同

        </ul>
        <h2 class="heading settled" data-level="7" id="light-dark"><span class="secno">7. </span><span class="content">
                响应所用 color-scheme：<a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark③">light-dark()</a> 函数
            </span><a class="self-link" href="#light-dark"></a></h2>
        <p>系统颜色能够根据当前所用 <span class="css">color-scheme</span> 值做出响应。
            <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                id="ref-for-funcdef-light-dark④">light-dark()</a> 函数同样提供了此能力给作者。
        </p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-light-dark">light-dark()</dfn> = light-dark( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑦">&lt;color></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma①">,</a> <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑧">&lt;color></a> )
</pre>
        <p>若<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme"
                id="ref-for-used-color-scheme">所用 color scheme</a>为 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light"
                id="ref-for-valdef-color-scheme-light">light</a> 或未知，则此函数计算值为第一个颜色；
            若<span id="ref-for-used-color-scheme①">所用 color scheme</span>为 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark"
                id="ref-for-valdef-color-scheme-dark">dark</a>，则为第二个颜色。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-basic.html"
                        title="css/css-color/light-dark-basic.html">light-dark-basic.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/light-dark-basic.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-basic.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor.html"
                        title="css/css-color/light-dark-currentcolor.html">light-dark-currentcolor.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/light-dark-currentcolor.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-inheritance.html"
                        title="css/css-color/light-dark-inheritance.html">light-dark-inheritance.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/light-dark-inheritance.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-inheritance.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor-in-color.html"
                        title="css/css-color/light-dark-currentcolor-in-color.html">light-dark-currentcolor-in-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/light-dark-currentcolor-in-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor-in-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-pseudo/highlight-styling-004.html"
                        title="css/css-pseudo/highlight-styling-004.html">highlight-styling-004.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-pseudo/highlight-styling-004.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-pseudo/highlight-styling-004.html"><small>(source)</small></a>
            </ul>
        </details>
        <h2 class="heading settled" data-level="8" id="contrast-color"><span class="secno">8. </span><span
                class="content">
                动态指定具有足够对比度的文本色：<a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                    id="ref-for-funcdef-contrast-color③">contrast-color()</a> 函数
            </span><a class="self-link" href="#contrast-color"></a></h2>
        <p>在动态创建颜色时，往往难以指定一个与之作为背景色时有足够对比度的文本色。
            <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color④">contrast-color()</a> 函数可用作文本色，自动为指定背景色提供有保证色彩对比度的颜色。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> 可读性是一个复杂的话题，充足的色彩对比度只是其中一环。
            一对有足够对比度的色并不保证文本容易辨认，还取决于字体、字号、周围颜色等诸多因素。</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-contrast-color">contrast-color()</dfn> = contrast-color( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑨">&lt;color></a> )
</pre>
        <p><a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color⑤">contrast-color()</a> 会针对输入作为纯色背景时选出对文本最<strong>大</strong>色差的 <a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-white"
                id="ref-for-valdef-color-white">白色</a> 或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-black" id="ref-for-valdef-color-black">黑色</a>。
            若 <span class="css" id="ref-for-valdef-color-white①">白色</span> 与 <span class="css"
                id="ref-for-valdef-color-black①">黑色</span>产生相同的对比，则解析为 <span class="css"
                id="ref-for-valdef-color-white②">白色</span>。</p>
        <p>判断输出亮色还是暗色所用的具体色差算法在本级 UA 自行定义。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 本规范的后续版本预计会引入
            对比算法、用例以及返回颜色的更多控制。</p>
        <p>建议用户代理不要仅用 WCAG 2.1 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">1.4.3 最低对比度</a>算法决定亮色/暗色，
            因为它存在<a href="https://www.cedc.tools/article.html">若干已知问题</a>。
            但本函数返回的颜色仍应满足 WCAG 2.1 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">1.4.3 最低对比度</a>
            对于 AA 大号文本的要求，因为许多作者需要符合法律要求。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/contrast-color-001.html"
                        title="css/css-color/contrast-color-001.html">contrast-color-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/contrast-color-001.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/contrast-color-001.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/contrast-color-currentcolor-inherited.html"
                        title="css/css-color/contrast-color-currentcolor-inherited.html">contrast-color-currentcolor-inherited.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/contrast-color-currentcolor-inherited.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/contrast-color-currentcolor-inherited.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-contrast-color-function.html"
                        title="css/css-color/parsing/color-computed-contrast-color-function.html">color-computed-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-contrast-color-function.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-contrast-color-function.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-contrast-color-function.html"
                        title="css/css-color/parsing/color-invalid-contrast-color-function.html">color-invalid-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-contrast-color-function.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-contrast-color-function.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-contrast-color-function.html"
                        title="css/css-color/parsing/color-valid-contrast-color-function.html">color-valid-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-contrast-color-function.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-contrast-color-function.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/contrast-color-function-calc-container.html"
                        title="css/css-color/parsing/contrast-color-function-calc-container.html">contrast-color-function-calc-container.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/contrast-color-function-calc-container.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/contrast-color-function-calc-container.html"><small>(source)</small></a>
            </ul>
        </details>
        <h2 class="heading settled" data-level="9" id="interpolation"><span class="secno">9. </span><span
                class="content">
                颜色插值</span><a class="self-link" href="#interpolation"></a></h2>
        <h3 class="heading settled" data-level="9.1" id="interpolation-space"><span class="secno">9.1. </span><span
                class="content">
                插值色彩空间</span><a class="self-link" href="#interpolation-space"></a></h3>
        <p><a class="css production" data-link-type="type" href="#color-interpolation-method"
                id="ref-for-color-interpolation-method①">&lt;color-interpolation-method></a> 现在支持
            <a href="#custom-color">自定义色彩空间</a>：
        </p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-space">&lt;color-space></dfn> = <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨②">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space">&lt;polar-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨③">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space">&lt;custom-color-space></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-rectangular-color-space">&lt;rectangular-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb" id="ref-for-valdef-color-srgb①">srgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨④">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" id="ref-for-valdef-color-srgb-linear">srgb-linear</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑤">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" id="ref-for-valdef-color-display-p3①">display-p3</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑥">|</a> <span class="css">display-p3-linear</span> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑦">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" id="ref-for-valdef-color-a98-rgb">a98-rgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑧">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" id="ref-for-valdef-color-prophoto-rgb">prophoto-rgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑨">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" id="ref-for-valdef-color-rec2020">rec2020</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⓪">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lab-lab" id="ref-for-valdef-lab-lab">lab</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪①">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" id="ref-for-valdef-oklab-oklab">oklab</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-xyz-space" id="ref-for-typedef-xyz-space①">&lt;xyz-space></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-polar-color-space">&lt;polar-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" id="ref-for-valdef-hsl-hsl②">hsl</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪③">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" id="ref-for-valdef-hwb-hwb">hwb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪④">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch" id="ref-for-valdef-lch-lch②">lch</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑤">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" id="ref-for-valdef-oklch-oklch①">oklch</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-color-space">&lt;custom-color-space></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑦">&lt;dashed-ident></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-hue-interpolation-method">&lt;hue-interpolation-method></dfn> = [ shorter <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑥">|</a> longer <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑦">|</a> increasing <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑧">|</a> decreasing ] hue
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="color-interpolation-method">&lt;color-interpolation-method></dfn> = in [ <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space①">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑨">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space①">&lt;polar-color-space></a> <a class="production" data-link-type="type" href="#typedef-hue-interpolation-method" id="ref-for-typedef-hue-interpolation-method②">&lt;hue-interpolation-method></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②④">?</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①⓪">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space①">&lt;custom-color-space></a> ]
</pre>
        <p><a class="css production" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident⑧">&lt;dashed-ident></a> 必须已经在合法 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①④">@color-profile</a> 规则中声明，
            否则 <a class="css production" data-link-type="type" href="#color-interpolation-method"
                id="ref-for-color-interpolation-method②">&lt;color-interpolation-method></a> 无效。</p>
        <h2 class="heading settled" data-level="10" id="resolving-color-values"><span class="secno">10. </span><span
                class="content">
                解析<a class="css production" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color②⓪">&lt;color></a>值
            </span><a class="self-link" href="#resolving-color-values"></a></h2>
        <h3 class="heading settled" data-level="10.1" id="resolving-mix"><span class="secno">10.1. </span><span
                class="content">
                解析<a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix⑥">color-mix()</a>值
            </span><a class="self-link" href="#resolving-mix"></a></h3>
        <p>如果所有<a class="css production" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②①">&lt;color></a>参数都解析为其各自色彩空间中的相应颜色，
            那么计算值就是在指定混合色彩空间中混合出来的颜色，
            并按照<a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color
                    4</cite> §  14. Resolving &lt;color> Values</a> 进行解析。
            否则（如果函数内使用了<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor①">currentColor</a>），
            计算值则为<a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑦">color-mix()</a>函数，
            并且每个<span class="production" id="ref-for-typedef-color②②">&lt;color></span>参数都按照
            <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> § 
                14. Resolving &lt;color> Values</a> 进行解析，
            以此传递继承到子元素。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-001.html"
                        title="css/css-color/color-mix-currentcolor-001.html">color-mix-currentcolor-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-001.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-001.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-002.html"
                        title="css/css-color/color-mix-currentcolor-002.html">color-mix-currentcolor-002.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-002.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-002.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-003.html"
                        title="css/css-color/color-mix-currentcolor-003.html">color-mix-currentcolor-003.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-003.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-003.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-nested-for-color-property.html"
                        title="css/css-color/color-mix-currentcolor-nested-for-color-property.html">color-mix-currentcolor-nested-for-color-property.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/nested-color-mix-with-currentcolor.html"
                        title="css/css-color/nested-color-mix-with-currentcolor.html">nested-color-mix-with-currentcolor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/nested-color-mix-with-currentcolor.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/nested-color-mix-with-currentcolor.html"><small>(source)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="10.2" id="resolving-rcs"><span class="secno">10.2. </span><span
                class="content">
                解析相对色彩语法值
            </span><a class="self-link" href="#resolving-rcs"></a></h3>
        <p>如果所有<a class="css production" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②③">&lt;color></a>参数都解析为其各自色彩空间中的相应颜色，
            则计算值为绝对<span class="production" id="ref-for-typedef-color②④">&lt;color></span>值，
            在指定的RCS色彩空间中，
            并按照<a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color
                    4</cite> §  14. Resolving &lt;color> Values</a> 进行解析。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html"
                        title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html"
                        title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(source)</small></a>
            </ul>
        </details>
        <p>否则（如果函数中使用了<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor②">currentColor</a>），
            计算值为相对色彩语法函数，
            其中起始<a class="css production" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑤">&lt;color></a>参数按
            <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> §  14.
                Resolving &lt;color> Values</a> 进行解析，
            以此传递继承到子元素。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html"
                        title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html"
                        title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                        title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html"
                        title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html"
                        title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html"
                        title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html"
                        title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                        title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html"
                        title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(source)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="10.3" id="resolving-device-cmyk-values"><span class="secno">10.3.
            </span><span class="content">
                解析<span class="css">device-cmyk</span>值
            </span><a class="self-link" href="#resolving-device-cmyk-values"></a></h3>
        <p>计算值与使用值
            为指定的设备CMYK颜色，
            （各分量为<a class="css production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value⑥③">&lt;number></a>，而非
            <a class="css production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value③①">&lt;percentage></a>）
            并与指定的alpha分量配对
            （作为<span class="production" id="ref-for-number-value⑥④">&lt;number></span>，不是<span class="production"
                id="ref-for-percentage-value③②">&lt;percentage></span>，
            未指定时默认为不透明）。
        </p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#actual-value"
                id="ref-for-actual-value">实际值</a>可能因操作而变化，
            如果渲染至支持CMYK的设备，
            可被渲染为CMYK颜色；
            若与非CMYK颜色混合
            或渲染到非CMYK设备，
            必须按照<a href="#device-cmyk">§ 6 非校准CMYK颜色：device-cmyk()函数</a>的规范进行转换。</p>
        <div class="example" id="ex-device-cmyk-used">
            <a class="self-link" href="#ex-device-cmyk-used"></a>
            例如，

            <pre class="highlight lang-css"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>对应的指定值与实际值为</p>
            <pre class="highlight lang-css"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>0.7</c-> <c- m>0.2</c-> <c- m>0</c-><c- p>)</c->
</pre>
            <p>并且如果实现支持ICC配置文件
                且系统已安装合适的配置文件，
                则使用值为</p>
            <pre class="highlight lang-css"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>63.673</c-><c- k>%</c-> <c- m>51.577</c-> <c- m>5.811</c-><c- p>)</c->
</pre>
            <p class="note" role="note"><span class="marker">注：</span>与所有颜色一样，使用值无法在脚本中获取。</p>
        </div>
        <h2 class="heading settled" data-level="11" id="serial"><span class="secno">11. </span><span class="content">
                序列化
            </span><a class="self-link" href="#serial"></a></h2>
        <p>本节扩展了<a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color
                    4</cite> §  15. Serializing &lt;color> Values</a>
            以增加对
            <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑧">color-mix()</a>、
            <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk①⓪">device-cmyk()</a>，
            以及
            相对色彩函数的结果的序列化支持。
        </p>
        <p>本节中，规范使用的字符串和对应字符如下：</p>
        <table class="data">
            <tbody>
                <tr>
                    <th>String
                    <th>Character
                <tr>
                    <td>" "
                    <td>U+0020 空格
                <tr>
                    <td>","
                    <td>U+002C 逗号
                <tr>
                    <td>"-"
                    <td>U+002D 连字符/减号
                <tr>
                    <td>"."
                    <td>U+002E 句点
                <tr>
                    <td>"/"
                    <td>U+002F 斜杠
        </table>
        <p>字符串“.”应作为小数分隔符使用，
            不论本地化设置，
            且不应有千位分隔符。</p>
        <p>与以往一样，
            如果结果的alpha值恰好为1，
            则在序列化时省略；
            默认为1（完全不透明）。</p>
        <h3 class="heading settled" data-level="11.1" id="serial-color-mix"><span class="secno">11.1. </span><span
                class="content">
                color-mix()的序列化
            </span><a class="self-link" href="#serial-color-mix"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑨">color-mix()</a>函数声明值的序列化结果为字符串 "color-mix(in "，
            后跟指定的全部小写<a class="css production" data-link-type="type" href="#typedef-color-space"
                id="ref-for-typedef-color-space③">&lt;color-space></a>，
            后跟“，”，
            后跟第一个指定颜色，
            后跟一个空格，
            后跟第一个百分比的序列化（见下文），
            后跟“，”，
            后跟第二个指定颜色，
            后跟第二个百分比的序列化（见下文），
            最后跟")"。</p>
        <p><strong>第一个</strong>百分比的序列化规则如下：</p>
        <ul>
            <li data-md>
                <p>如果第一个百分比<var>p1</var>和第二个百分比<var>p2</var>都被指定：</p>
                <ul>
                    <li data-md>
                        <p>若<var>p1</var>和<var>p2</var>都等于50%，则不序列化。</p>
                    <li data-md>
                        <p>否则，<var>p1</var>如实序列化。</p>
                </ul>
            <li data-md>
                <p>只指定第一个百分比<var>p1</var>：</p>
                <ul>
                    <li data-md>
                        <p>若<var>p1</var>等于50%，则不序列化。</p>
                    <li data-md>
                        <p>否则，<var>p1</var>如实序列化。</p>
                </ul>
            <li data-md>
                <p>只指定第二个百分比<var>p2</var>：</p>
                <ul>
                    <li data-md>
                        <p>若<var>p2</var>等于50%，则不序列化。</p>
                    <li data-md>
                        <p>若<var>p2</var>不是<a class="css" data-link-type="maybe"
                                href="https://www.w3.org/TR/css-values-4/#funcdef-calc"
                                id="ref-for-funcdef-calc①">calc()</a>，序列化100%-<var>p2</var>的值。</p>
                    <li data-md>
                        <p>否则，不序列化。</p>
                </ul>
            <li data-md>
                <p>若两者都未指定：</p>
                <ul>
                    <li data-md>
                        <p>不序列化。</p>
                </ul>
        </ul>
        <p><strong>第二个</strong>百分比的序列化规则如下：</p>
        <ul>
            <li data-md>
                <p>如果第一个百分比p1和第二个百分比p2都指定：</p>
                <ul>
                    <li data-md>
                        <p>若 p1 和 p2 都不是 calc() 且 p1+p2=100%，则不序列化。</p>
                    <li data-md>
                        <p>否则，p2如实序列化。</p>
                </ul>
            <li data-md>
                <p>只指定第一个百分比p1：</p>
                <ul>
                    <li data-md>
                        <p>不序列化。</p>
                </ul>
            <li data-md>
                <p>只指定第二个百分比p2：</p>
                <ul>
                    <li data-md>
                        <p>若p2等于50%，则不序列化。</p>
                    <li data-md>
                        <p>若p2不是calc()，不序列化。</p>
                    <li data-md>
                        <p>否则，p2如实序列化。</p>
                </ul>
            <li data-md>
                <p>两者都未指定：</p>
                <ul>
                    <li data-md>
                        <p>不序列化。</p>
                </ul>
        </ul>
        <p class="note" role="note"><span class="marker">注：</span>
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#funcdef-calc"
                id="ref-for-funcdef-calc②">calc()</a>值被认为是不确定的，
            因此<strong>绝不会</strong>等于50%，
            也不会与其他值相加等于100%。
        </p>
        <div class="example" id="ex-serial-specified-mix">
            <a class="self-link" href="#ex-serial-specified-mix"></a>
            例如，下列声明值的序列化结果为

            <pre>color-mix(in oklab, teal, peru 40%)</pre>
            <p>会被序列化为字符串 "color-mix(in oklab, teal 60%, peru)"。</p>
            <p>下列声明值的序列化结果为</p>
            <pre>color-mix(in oklab, teal 50%, peru 50%)</pre>
            <p>会被序列化为字符串 "color-mix(in oklab, teal, peru)"。</p>
            <p>下列声明值的序列化结果为</p>
            <pre>color-mix(in oklab, teal 70%, peru 70%)</pre>
            <p>会被序列化为字符串 "color-mix(in oklab, teal 70%, peru 70%)"
                因为这归一化为各为50%的情况只在百分比归一化后得到。</p>
        </div>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①②">color-mix()</a>函数结果的序列化
            取决于混合中是否用到了<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor③">currentColor</a>关键字。
            如果用了，则结果按声明值序列化。
            这样可确保子元素的 <span class="css">color</span> 属性有不同值时，
            也会用正确的混合结果。
            否则，
            就是<a class="css production" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑥">&lt;color></a>，
            按 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite>
                §  15. Serializing &lt;color> Values</a>中的定义。
            序列化形式
            取决于 "in" 指定的色彩空间：</p>
        <table class="data">
            <tbody>
                <tr>
                    <th>混合色彩空间
                    <th>形式
                <tr>
                    <td>srgb
                    <td>color(srgb r g b)
                <tr>
                    <td>srgb-linear
                    <td>color(srgb-linear r g b)
                <tr>
                    <td>display-p3
                    <td>color(display-p3 r g b)
                <tr>
                    <td>a98-rgb
                    <td>color(a98-rgb r g b)
                <tr>
                    <td>prophoto-rgb
                    <td>color(prophoto-rgb r g b)
                <tr>
                    <td>rec2020
                    <td>color(rec2020 r g b)
                <tr>
                    <td>hsl
                    <td>color(srgb r g b)
                <tr>
                    <td>hwb
                    <td>color(srgb r g b)
                <tr>
                    <td>xyz-d65
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>xyz-d50
                    <td>color(xyz-d50 x y z)
                <tr>
                    <td>xyz
                    <td>color(xyz-d65 x y z) <a href="#fn1">¹</a>
                <tr>
                    <td>lab
                    <td>lab(l a b)
                <tr>
                    <td>lch
                    <td>lch(l c h)
                <tr>
                    <td>oklab
                    <td>oklab(l a b)
                <tr>
                    <td>oklch
                    <td>oklch(l c h)
        </table>
        <dl>
            <dt id="fn1"><a class="self-link" href="#fn1"></a>¹
            <dd>由于<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz"
                    id="ref-for-valdef-color-xyz①">xyz</a>只是<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65"
                    id="ref-for-valdef-color-xyz-d65">xyz-d65</a>的别名
        </dl>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"
                        title="css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html">color-mix-currentcolor-visited-getcomputedstyle.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited.html"
                        title="css/css-color/color-mix-currentcolor-visited.html">color-mix-currentcolor-visited.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-visited.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited.html"><small>(source)</small></a>
            </ul>
        </details>
        <p>用于round-trip的<em>最小</em>精度同
            <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite> §  15.
                Serializing &lt;color> Values</a>规定一致。
        </p>
        <div class="example" id="ex-serial-computed-color-mix">
            <a class="self-link" href="#ex-serial-computed-color-mix"></a>
            例如以下颜色混合的结果

            <pre>color-mix(in lch, peru 40%, palegoldenrod)</pre>
            <p>会被序列化为字符串 <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
                "lch(79.7256 40.448 84.771)"
                而以下的结果为</p>
            <pre>color-mix(in srgb, peru 40%, palegoldenrod)</pre>
            <p>会被序列化为字符串 <span class="swatch" style="--color: rgb(88.16% 75.45% 49.88%)"></span>
                "color(srgb 0.8816 0.7545 0.4988)"。</p>
        </div>
        <h3 class="heading settled" data-level="11.2" id="serial-origin-color"><span class="secno">11.2. </span><span
                class="content">
                原始颜色的序列化
            </span><a class="self-link" href="#serial-origin-color"></a></h3>
        <p>当颜色作为<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④②">原始颜色</a>，
            用于另一个颜色函数的声明值组件中时，
            该声明值的序列化方式为：</p>
        <ol>
            <li data-md>
                <p>对于<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑥">rgb()</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑤">rgba()</a>、<a
                        class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑥">hsl()</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑥">hsla()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>用于标识规范颜色函数的字符串，
                    对于<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑦">rgb()</a>和<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba"
                        id="ref-for-funcdef-rgba⑥">rgba()</a>为"rgb"，
                    对于<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑦">hsl()</a>和<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla"
                        id="ref-for-funcdef-hsla⑦">hsla()</a>为"hsl"，全为小写，
                    后跟"("，
                    后跟以空格分隔的非alpha分量列表（如声明时那样，
                    数字序列化为数字，
                    百分比序列化为百分比，
                    角度以正规化的度数序列化，
                    calc()序列化为其化简形式），
                    不应用clamp，
                    如果有alpha分量，则后跟" / "和alpha分量（按组件相同规则序列化），
                    最后加")"。</p>
        </ul>
        <p class="note" role="note"><span class="marker">注：</span>无论使用现代还是旧语法，序列化格式一致。</p>
        <ol start="2">
            <li data-md>
                <p>对于<a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑤">hwb()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab④">lab()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch⑤">lch()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-oklab"
                        id="ref-for-funcdef-oklab③">oklab()</a>、<a class="css" data-link-type="maybe"
                        href="#funcdef-oklch" id="ref-for-funcdef-oklch⑤">oklch()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>用于标识颜色函数的小写字符串，
                    后跟"("，
                    后跟以空格分隔的非alpha分量列表（如声明时那样，
                    数字为数字，
                    百分比为百分比，
                    角度为度，
                    calc()为化简形式，不clamp），
                    有alpha分量则后跟" / "和alpha分量（序列化规则同上述），
                    最后加")"。</p>
        </ul>
        <ol start="3">
            <li data-md>
                <p>对于<a class="css" data-link-type="maybe" href="#funcdef-color"
                        id="ref-for-funcdef-color①⓪">color()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>字符串"color("，
                    后跟规范色彩空间
                    （如"xyz"为"xyz-d65"）小写，
                    后跟空格，
                    后跟以空格分隔的非alpha分量（数字��数字，
                    百分比为百分比，
                    角度为度，
                    calc()为化简形式），
                    不clamp，
                    如有alpha分量则后跟" / "和alpha分量，
                    最后加")"。</p>
        </ul>
        <h3 class="heading settled" data-level="11.3" id="serial-relative-color"><span class="secno">11.3. </span><span
                class="content">
                相对色彩函数的序列化
            </span><a class="self-link" href="#serial-relative-color"></a></h3>
        <p>相对颜色声明值的序列化为：</p>
        <ol>
            <li data-md>
                <p>对于<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑧">rgb()</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑦">rgba()</a>、<a
                        class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑧">hsl()</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑧">hsla()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>用于标识规范颜色函数的字符串，
                    <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑨">rgb()</a>和<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba"
                        id="ref-for-funcdef-rgba⑧">rgba()</a>为"rgb"，
                    <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑨">hsl()</a>和<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla"
                        id="ref-for-funcdef-hsla⑨">hsla()</a>为"hsl"，均小写，
                    后跟"(from "，
                    后跟<a href="#serial-origin-color">原始颜色的序列化</a>
                    （用嵌套原始颜色序列化规则），
                    后跟一个空格，
                    后跟以空格分隔的非alpha通道参数列表（标识符为标识符，
                    数字和百分比为数字，
                    角度为度，
                    calc()为化简形式），
                    如果alpha分量非1，
                    则后跟" / "和alpha分量（同通道参数序列化但clamp），
                    最后")"。
                </p>
        </ul>
        <ol start="2">
            <li data-md>
                <p>对于<a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑥">hwb()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab⑤">lab()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch⑥">lch()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-oklab"
                        id="ref-for-funcdef-oklab④">oklab()</a>、<a class="css" data-link-type="maybe"
                        href="#funcdef-oklch" id="ref-for-funcdef-oklch⑥">oklch()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>用于标识颜色函数的小写字符串，
                    后跟"(from "，
                    后跟<a href="#serial-origin-color">原始颜色的序列化</a>
                    （用嵌套原始颜色序列化规则），
                    后跟一个空格，
                    后跟以空格分隔的非alpha通道参数列表（标识符为标识符，
                    数字/百分比为数字，
                    角度为度数，
                    calc()为化简形式），
                    如果alpha分量非1，
                    则后跟" / "和alpha分量（同通道参数序列化，但clamp），
                    最后加")"。</p>
        </ul>
        <ol start="3">
            <li data-md>
                <p>对于<a class="css" data-link-type="maybe" href="#funcdef-color"
                        id="ref-for-funcdef-color①①">color()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>字符串"color(from "，
                    后跟<a href="#serial-origin-color">原始颜色的序列化</a>
                    （用嵌套原始颜色序列化规则），
                    后跟一个空格，
                    后跟色彩空间（如"xyz"为"xyz-d65"）小写，
                    后跟一个空格，
                    后跟以空格分隔的非alpha通道参数列表（标识符、数字、百分比、度、calc()化简），
                    如果alpha分量非1，
                    则后跟" / "和alpha分量（同通道参数、但clamp），
                    最后加")"。</p>
        </ul>
        <div class="example" id="ex-serial-rcs-specified-simple">
            <a class="self-link" href="#ex-serial-rcs-specified-simple"></a>
            例如，以下声明值的序列化为


            <pre class="highlight lang-css"><c- nf>OkLcH</c-><c- p>(</c->from peru  l    c  h<c- p>)</c-></pre>
            <p>为字符串"oklch(from peru l c h)"</p>
        </div>
        <div class="example" id="ex-serial-rcs-calc">
            <a class="self-link" href="#ex-serial-rcs-calc"></a>
            例如，以下声明值的序列化为


            <pre
                class="highlight lang-css"><c- nf>rgb</c-><c- p>(</c->from red <c- nf>calc</c-><c- p>(</c->r / <c- m>2</c-><c- p>)</c-> g <c- nf>calc</c-><c- p>(</c-><c- m>30</c-><c- k>%</c-><c- p>));</c-></pre>
            <p>是字符串"rgb(from red calc(0.5 * r) g calc(30%))"，
                对应计算值的序列化为
                "color(srgb 0.5 0 0.3)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-nested-none">
            <a class="self-link" href="#ex-serial-rcs-nested-none"></a>
            例如，以下声明值的序列化为


            <pre
                class="highlight lang-css"><c- nf>hsl</c-><c- p>(</c->from <c- nf>hsl</c-><c- p>(</c->none <c- m>10</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>)</c-> h s l<c- p>);</c-></pre>
            <p>为字符串"hsl(from hsl(none 10% 50%) h s l)"，
                对应计算值的序列化为
                "color(srgb 0.55 0.45 0.45)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-hsl-unclamped">
            <a class="self-link" href="#ex-serial-rcs-hsl-unclamped"></a>
            例如，以下声明值的序列化为


            <pre
                class="highlight lang-css"><c- nf>hsl</c-><c- p>(</c->from <c- nf>hsl</c-><c- p>(</c-><c- m>127.9</c-> <c- m>302</c-><c- k>%</c-> <c- m>25.33</c-><c- k>%</c-><c- p>)</c-> h s l<c- p>);</c-></pre>
            <p>为字符串"hsl(from hsl(127.9 302% 25.33%) h s l)"，
                计算值为
                "color(srgb -0.511666 1.018266 -0.310225)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-currentcolor">
            <a class="self-link" href="#ex-serial-rcs-currentcolor"></a>
            假设如下HTML（注意该元素设置了color属性）：

            <pre class="highlight lang-html"><c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>"example"</c-> 
  <c- e>style</c-><c- o>=</c-><c- s>"background-color: rgb(from currentcolor r g calc(b / 2)); </c->
<c- s>  color: blue;"</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <p><span class="css">background-color</span>声明值的序列化
                为字符串"rgb(from currentcolor r g calc(b / 2))"
                对应计算值为
                "color(srgb 0 0 0.5)"</p>
        </div>
        <p>相对色彩函数结果的序列化
            取决于<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor④">currentColor</a>是否为<a data-link-type="dfn" href="#origin-color"
                id="ref-for-origin-color④③">原始颜色</a>。
            是则结果按声明值序列化，
            可确保子元素<span class="css">color</span>属性不同值时仍然正确。
            否则为解析值，
            即<a class="css production" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑦">&lt;color></a>，
            见<a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite>
                §  15. Serializing &lt;color> Values</a>。</p>
        <p>
            实际使用的序列化格式
            取决于<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑦">相对色彩</a>的色彩空间：
        </p>
        <table class="data">
            <tbody>
                <tr>
                    <th>混合色彩空间
                    <th>形式
                <tr>
                    <td>srgb
                    <td>color(srgb r g b)
                <tr>
                    <td>srgb-linear
                    <td>color(srgb-linear r g b)
                <tr>
                    <td>display-p3
                    <td>color(display-p3 r g b)
                <tr>
                    <td>a98-rgb
                    <td>color(a98-rgb r g b)
                <tr>
                    <td>prophoto-rgb
                    <td>color(prophoto-rgb r g b)
                <tr>
                    <td>rec2020
                    <td>color(rec2020 r g b)
                <tr>
                    <td>hsl
                    <td>color(srgb r g b)
                <tr>
                    <td>hwb
                    <td>color(srgb r g b)
                <tr>
                    <td>xyz-d65
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>xyz-d50
                    <td>color(xyz-d50 x y z)
                <tr>
                    <td>xyz
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>lab
                    <td>lab(l a b)
                <tr>
                    <td>lch
                    <td>lch(l c h)
                <tr>
                    <td>oklab
                    <td>oklab(l a b)
                <tr>
                    <td>oklch
                    <td>oklch(l c h)
        </table>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>Tests</summary>
            <ul class="wpt-tests-list"></ul>
        </details>
        <p><em>最小</em>round-trip精度
            与<a href="https://www.w3.org/TR/css-color-4/#serializing-color-function-values"><cite>CSS Color 4</cite>
                § 15.5 Serializing values of the color() function</a>
            规定一致。
        </p>
        <div class="example" id="ex-serial-rcs-computed">
            <a class="self-link" href="#ex-serial-rcs-computed"></a>
            对如下序列化

            <pre
                class="highlight lang-css"><c- nf>lch</c-><c- p>(</c->from peru <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->c * <c- m>0.7</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>))</c-> </pre>
            <p>的序列化结果是
                <span class="swatch" style="--color: rgb(3.12% 50.352% 68.894%)"></span>
                "lch(49.80224 37.80819 243.6803)"
            </p>
        </div>
        <h3 class="heading settled" data-level="11.4" id="serial-custom-color"><span class="secno">11.4. </span><span
                class="content">
                自定义色彩空间的序列化
            </span><a class="self-link" href="#serial-custom-color"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color"
                id="ref-for-funcdef-color①②">color()</a>各分量值保留的精度，
            也就是序列化值中有效数字的位数，
            本规范并未规定，
            但对CMYK色彩空间，需至少保证8bit精度可round-trip；
            通常应保证至少两位小数，
            除非末尾的零被省略。</p>
        <div class="example" id="ex-color-swop-serial">
            <a class="self-link" href="#ex-color-swop-serial"></a>

            <p>该颜色的序列化值为</p>
            <pre class="highlight lang-css"><c- n>@color-profile</c-> --swop5c <c- p>{</c-><c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
<c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(94.903% 45.248% 59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c  <c- m>0</c-><c- k>%</c-> <c- m>70.0</c-><c- k>%</c-> <c- m>20.00</c-><c- k>%</c-> <c- m>.0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c-></pre>
            <p>为字符串"color(--swop5c 0 0.7 0.2 0)"</p>
        </div>
        <h3 class="heading settled" data-level="11.5" id="serializing-device-cmyk-values"><span class="secno">11.5.
            </span><span class="content">
                <span class="css">device-cmyk</span>值的序列化
            </span><a class="self-link" href="#serializing-device-cmyk-values"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk①①">device-cmyk()</a>值的序列化结果
            基于<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                id="ref-for-computed-value">计算值</a>，
            使用<span class="css" id="ref-for-funcdef-device-cmyk①②">device-cmyk()</span>格式函数名为小写字母。</p>
        <p>分量值以十进制序列化，
            类型为<a class="css production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value⑥⑤">&lt;number></a>。
            组件值之间用单个ASCII空格" "分隔。
        </p>
        <p>任何分量值中末尾的零必须省略；
            如果小数部分全为零，
            小数点也要省略。</p>
        <div class="example" id="ex-device-cmyk-serial">
            <a class="self-link" href="#ex-device-cmyk-serial"></a>

            <p>该颜色的序列化值为</p>
            <pre
                class="highlight lang-css"><span class="swatch" style="--color: rgb(70.7% 26.9% 19.7%);"></span>  <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>)</c-></pre>
            <p>为字符串"device-cmyk(0 0.81 0.81 0.3)"</p>
        </div>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk①③">device-cmyk()</a>各分量值的精度，
            也就是序列化有效数字的多少，
            本规范未规定，
            但必须满足8bit精度的round-trip；
            通常应有至少两位小数，
            除非末尾零被省略。
            数值必须<a href="https://drafts.csswg.org/css-values-4/#combine-integers">向上舍入</a>，不可截断。</p>
        <p>alpha值为1时不单独序列化。
            非1的alpha值必须明确序列化，
            且字符串" / "
            （ASCII空格+斜杠+空格）
            用于分隔黑色("k")分量和alpha值。</p>
        <h2 class="heading settled" data-level="12" id="apis"><span class="secno">12. </span><span class="content">API
                接口</span><a class="self-link" href="#apis"></a></h2>
        <h3 class="heading settled" data-level="12.1" id="the-csscolorprofilerule-interface"><span class="secno">12.1.
            </span><span class="content"><code>CSSColorProfileRule</code> 接口</span><a class="self-link"
                href="#the-csscolorprofilerule-interface"></a></h3>
        <p><a class="idl-code" data-link-type="interface" href="#csscolorprofilerule"
                id="ref-for-csscolorprofilerule">CSSColorProfileRule</a> 接口表示一个 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑤">@color-profile</a>
            规则。</p>
        <pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></dfn> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssrule" id="ref-for-cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name" id="ref-for-dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src" id="ref-for-dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent" id="ref-for-dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring③"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components" id="ref-for-dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};
</pre>
        <dl>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-name"><code>name</code></dfn>，<span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring④">CSSOMString</a>，只读</span>
            <dd>
                获取 <var>name</var> 属性时，必须返回
                一个 <code>CSSOMString</code> 对象，
                其内容为相关规则下<a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile③">色彩
                    配置文件</a>定义的 <var>name</var> 的
                序列化结果。

            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-src"><code>src</code></dfn>，<span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑤">CSSOMString</a>，只读</span>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-renderingintent"><code>renderingIntent</code></dfn>，<span>
                    类型为 <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑥">CSSOMString</a>，只读</span>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-components"><code>components</code></dfn>，<span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑦">CSSOMString</a>，只读</span>
            <dd>
                获取其他属性时，
                必须返回一个 <code>CSSOMString</code> 对象，
                其内容为相关规则下定义的对应描述符的序列化结果。
                如果相关规则未指定该描述符，
                属性必须返回空字符串。

        </dl>
        <h2 class="heading settled" data-level="13" id="sample"><span class="secno">13. </span><span class="content">
                默认样式规则
            </span><a class="self-link" href="#sample"></a></h2>
        <p>以下样式表仅供参考，不具规范性。本样式表可被实现用作其
            对 HTML 家族文档的默认样式部分。</p>
        <pre class="highlight lang-css"><c- c>/* traditional desktop user agent colors for hyperlinks */</c->
:link <c- p>{</c-> <c- k>color</c-><c- p>:</c-> LinkText<c- p>;</c-> <c- p>}</c->
:visited <c- p>{</c-> <c- k>color</c-><c- p>:</c-> VisitedText<c- p>;</c-> <c- p>}</c->
:active <c- p>{</c-> <c- k>color</c-><c- p>:</c-> ActiveText<c- p>;</c-> <c- p>}</c->

<c- c>/* a reasonable, conservative default for device-cmyk */</c->
<c- n>@color-profile</c-> device-cmyk <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://drafts.csswg.org/css-color-4/ICCprofiles/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
</pre>
        <h2 class="heading settled" data-level="14" id="color-conversion-code"><span class="secno">14. </span><span
                class="content">
                颜色转换示例代码</span><a class="self-link" href="#color-conversion-code"></a></h2>
        <p><em>本节不具规范性。</em></p>
        <p>device-cmyk 的朴素转换非常简单：</p>
        <pre class="highlight include-code"><c- a>function</c-> naive<c- p>(</c->cmyk<c- p>)</c-> <c- p>{</c->
  <c- c1>// naively convert an array of CMYK values</c->
  <c- c1>// to sRGB</c->
  <c- a>let</c-> <c- p>[</c->cyan<c- p>,</c-> magenta<c- p>,</c-> yellow<c- p>,</c-> black<c- p>]</c-> <c- o>=</c-> cmyk<c- p>;</c->
    <c- a>let</c-> red <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- a>let</c-> green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- a>let</c-> blue <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- k>return</c-> <c- p>[</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>];</c->
<c- p>}</c->
</pre>
        <h2 class="heading settled" data-level="15" id="security"><span class="secno">15. </span><span class="content">
                安全性注意事项
            </span><a class="self-link" href="#security"></a></h2>
        <p>本规范为 CSS 新增了 ICC 配置文件的按需下载。
            这些文件不包含可执行代码，
            因此不会带来额外的安全风险。</p>
        <h2 class="heading settled" data-level="16" id="privacy"><span class="secno">16. </span><span class="content">
                隐私注意事项
            </span><a class="self-link" href="#privacy"></a></h2>
        <p>目前尚未有该规范的新隐私注意事项报告。</p>
        <h2 class="heading settled" data-level="17" id="a11y-sec"><span class="secno">17. </span><span
                class="content">无障碍性注意事项 </span><a class="self-link" href="#a11y-sec"></a></h2>
        <p>本规范提供了一种保证文本和用户自定义颜色的背景（包括动态颜色）
            具有足够对比度的方法。</p>
        <h2 class="heading settled" data-level="18" id="changes"><span class="secno">18. </span><span class="content">
                变更记录
            </span><a class="self-link" href="#changes"></a></h2>
        <h3 class="heading settled" data-level="18.1" id="changes-20260113"><span class="secno">18.1. </span><span
                class="content">
                自<a href="https://www.w3.org/TR/2026/WD-css-color-5-20260113/">2026年1月13日工作草案</a>起
            </span><a class="self-link" href="#changes-20260113"></a></h3>
        <ul>
            <li>color-mix() 增加了三个颜色的示例，现不再限制只能两个颜色。
        </ul>
        <h3 class="heading settled" data-level="18.2" id="changes-20250318"><span class="secno">18.2. </span><span
                class="content">
                自<a href="https://www.w3.org/TR/2025/WD-css-color-5-20250318/">2025年3月18日工作草案</a>起
            </span><a class="self-link" href="#changes-20250318"></a></h3>
        <ul>
            <li>相对色彩增加了回链到 CSS Color 4 对应定义（<a href="https://github.com/w3c/csswg-drafts/issues/13286">问题13286</a>）
            <li>定义了多条 @color-profile 规则时，最后一条生效 <a href="https://github.com/w3c/csswg-drafts/issues/12980">问题12980</a>）
            <li>color-mix()默认采用 oklab，color-interpolation-method 可省略（<a
                    href="https://github.com/w3c/csswg-drafts/issues/10484">问题10484</a>）
            <li>移除了仍假设 color-mix() 只能两个颜色的遗留文本
            <li>更新了原色序列化规则（<a href="https://github.com/w3c/csswg-drafts/issues/10328">问题10328</a>）
            <li>插值色彩空间中新增了 display-p3-linear
            <li>增加了 alpha() RCS 函数
            <li>改进了对 color-mix 仍仅限于两个颜色解释文本
            <li>澄清了外部URL样式资源的获取
            <li>澄清当 color-mix() 只传一个时返回指定色彩空间的值
            <li>使颜色混合算法传递归一化标志
            <li>color-mix() 现在接受1个及以上参数，与其它*-mix()一致
            <li>迁移了“解析为sRGB”和“支持传统语法”的定义自 CSS Color 4
            <li>新增了 device-cmyk 的朴素转换 js 样例
            <li>新增了 color-mix() 用 device-cmyk 备用色的示例
            <li>明确（而非推断）device-cmyk() 不存在 RCS
            <li>定义当 color-mix() 百分比和为0时返回透明色
            <li>规范地导出“required conversion”用语
        </ul>
        <h3 class="heading settled" data-level="18.3" id="changes-20240229"><span class="secno">18.3. </span><span
                class="content">
                自<a href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/">2024年2月29日工作草案</a>起
            </span><a class="self-link" href="#changes-20240229"></a></h3>
        <ul>
            <li>明确组件关键字能返回 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑤">none</a>
                或数字
            <li>新增嵌套颜色函数序列化示例
            <li>定义了color-mix()+calc边界情况，工作组决议
            <li>移除“和为零则无效”表述，工作组决议
            <li>统一使用“color component”而非“color channel”
            <li>简化了 contrast-color()，工作组决议
            <li>consistent premultiplied 用词
            <li>色彩配置组件大小写不敏感校验
            <li>contrast-color() 纳入 color type 定义
            <li>新增辅助功能考量章节
            <li>补充 FOGRA39、51 与 55 的参考
            <li>移除 &lt;hue-interpolation-method> 语法不会因矩形空间报错的说法
            <li>澄清相对色彩组件关键字归属色彩空间
            <li>分离相对色彩的概念与语法细节
            <li>确保 deltaE 表格文本对比度充足
            <li>澄清相对色彩组件不会clamp，alpha会
        </ul>
        <h3 class="heading settled" data-level="18.4" id="changes-20220628"><span class="secno">18.4. </span><span
                class="content">
                自<a href="https://www.w3.org/TR/2022/WD-css-color-5-20220628/">2022年6月28日工作草案</a>起
            </span><a class="self-link" href="#changes-20220628"></a></h3>
        <ul>
            <li>CSSOM 序列化以声明值为准，不是指定值
            <li>新增 <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                    id="ref-for-funcdef-contrast-color⑥">contrast-color()</a> 函数
            <li>针对 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix①③">color-mix()</a> 明确链接到 CSS color 4 插值章节
            <li>移除遗留的 Gamut 映射到 HSL 的表述
            <li>用文本定义绝对色而非语法
            <li>为RCS每种情况重复了百分比到数字的参考范围
            <li>改进relative color（origin color是currentColor）序列化约定。sRGB、<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl①⓪">hsl()</a>、<a
                    class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑦">hwb()</a> 都用
                color(srgb ...) 以便 round-trip。
            <li>摘要部分提及了 <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark⑤">light-dark()</a> 函数
            <li>移植 CSS Color 4 更大矩形色彩空间列表
            <li>修正 custom params 语法的空格分隔
            <li>修正 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①④">device-cmyk()</a> 语法遗漏 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none"
                    id="ref-for-valdef-color-none⑥">none</a>，以及 GCPM 传统语法
            <li><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix①④">color-mix()</a> 补入 color type 文法
            <li>澄清指定RCS值的序列化
            <li>新增 <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark⑥">light-dark()</a> 函数
            <li>color-mix 百分比归一化对 50% 特殊情况补充
            <li>HSL 例子修正，消除先gamut映射
            <li>修正部分代码高亮
            <li>澄清RCS原色可带可选alpha
            <li>修正 powerless components 用法
            <li>统一百分比转数字参考区间
            <li>加入 RCS in CIE XYZ D65 colorspace 示例
            <li>移除冗余未变动的 Color 4 片段
            <li>章节标题改为“指定预定义与自定义色彩空间：<a class="css" data-link-type="maybe" href="#funcdef-color"
                    id="ref-for-funcdef-color①③">color()</a>函数”
            <li>HWB 组件允许 number，之前仅允许百分比
            <li>澄清RCS组件用不寻常位置无“自动缩放”；如需用calc()。补例。
            <li>澄清CIE/Oklab亮度
            <li>明确<a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①⑤">
                    color-mix()</a> 用 currentColor 时的结果序列化，补例。
            <li>修正文中 color-mix 示例的拼写
            <li>修正示例用 0（应为 none）的问题
            <li>指定 color-mix 指定值序列化按“声明”百分比，不做归一化
            <li>移除 alpha-value 定义，链接至 Color 4
            <li>现代/传统 rgb, rgba, hsl, hsla 分用独立文法
            <li>澄清 origin color 不限现代或传统语法
            <li>新增 color 规则、RCS 可嵌套等语法说明
            <li>澄清 RCS 仅适用于现代色彩语法
            <li>定义 color space 转换要求和可省略的情况
            <li>新增正确和错误的渐变渲染图片
            <li>澄清自定义色空间未命名分量也有效
            <li>改进部分例子
            <li>定义 RCS 缺失分量情况
            <li>color-interpolation-method 可虚线名字，自定义可插值
            <li>RCS 中 hue 必为度数
            <li>origin color 为 currentColor 时的 RCS 序列化
            <li>通道关键字只允许单一类型
            <li>RCS 旧语法错误例改用真正旧语法
            <li>例子中序列化格式统一
            <li>补充 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①⑤">device-cmyk()</a> 的序列化定义
            <li>新增 <a class="idl-code" data-link-type="interface" href="#csscolorprofilerule"
                    id="ref-for-csscolorprofilerule①">CSSColorProfileRule</a> 接口
            <li>Oklab、OkLCh拼写统一
            <li>配色小样辅助功能改善
            <li>示意图辅助功能改善
            <li>修正配色小样裁剪问题
            <li>改进部分图像alt文本
            <li>补充缺失调色小样
            <li>MacBeth彩图添加行/列标
            <li>hue-rotate图标标签改善
            <li>图示色彩描述更优、辅助功能提升
            <li>确保所有示意图均有ID、自引用链接
        </ul>
        <h3 class="heading settled" data-level="18.5" id="changes-20220428"><span class="secno">18.5. </span><span
                class="content">
                自<a href="https://www.w3.org/TR/2022/WD-css-color-5-20220428/">2022年4月28日工作草案</a>起
            </span><a class="self-link" href="#changes-20220428"></a></h3>
        <ul>
            <li>修正 rgb() 定义中的拼写
            <li>编辑改善（大小写、拼写、表达清楚）
            <li>导出定义供其它规范使用
            <li> color() 文法 alpha 补 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑦">none</a>
            <li>color-contrast() 移至6级
        </ul>
        <h3 class="heading settled" data-level="18.6" id="changes-20211215"><span class="secno">18.6. </span><span
                class="content">
                自<a href="https://www.w3.org/TR/2021/WD-css-color-5-20211215/">2021年12月15日工作草案</a>起
            </span><a class="self-link" href="#changes-20211215"></a></h3>
        <ul>
            <li>color() 过多/过少参数宽容仅限自定义色空间
            <li>RCS 改为number/percent皆可
            <li>明确组件名与常量如PI可冲突
            <li>相对色彩不使用传统（逗号分隔）语法
            <li>修正 rgb() 文法 alpha 未含<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑧">none</a>
            <li>改变 color-mix() 用于 hsl/hwb 时序列化方式提升精度
            <li>新增超出色域 color-mix 示例
            <li>明确 HSL 和 HWB 不能表示超色域颜色用“无法表达该色”
            <li>修正拼写错误
        </ul>
        <h3 class="heading settled" data-level="18.7" id="changes-20210601"><span class="secno">18.7. </span><span
                class="content">
                自<a href="https://www.w3.org/TR/2021/WD-css-color-5-20210601/">2021年6月1日工作草案</a>起
            </span><a class="self-link" href="#changes-20210601"></a></h3>
        <ul>
            <li>在矩形空间里使用 &lt;hue-interpolation-method> 是错误
            <li>将旧 &lt;hue-adjuster> 改为新的 &lt;hue-interpolation-method>
            <li>@color-profile 与 device-cmyk 上移到5级，WG决议
            <li>禁止组件名为 none
            <li>补充 OkLCh 相对色彩示例
            <li>定义插值色彩空间
            <li>色彩配置加载按 fetch 定义
            <li>contrast 算法基于 D65 适配的 CIE XYZ
            <li>序列化补 oklab 和 oklch 用于 color-mix()
            <li>相对色彩语法补 oklab 与 oklch
            <li>补 lch vs oklch 混合示例
            <li>混合优先用 oklab/oklch
            <li>xyz 改为 D65，相对于 CSS Color 4
            <li>新增 oklab 和 oklch 色彩空间
            <li>定义 color-contrast() 解析
            <li>明确序列化最小精度
            <li>说明 CIE LCH 用意
            <li>新增若干示例
            <li>移除 color-adjust(), 保留相对色彩语法
            <li>定义 color-mix/contrast/relative-color 的序列化
        </ul>
        <h3 class="heading settled" data-level="18.8" id="changes-20200303"><span class="secno">18.8. </span><span
                class="content">
                自<a href="https://www.w3.org/TR/2020/WD-css-color-5-20200303/">2020年6月10日FPWD</a>起
            </span><a class="self-link" href="#changes-20200303"></a></h3>
        <ul>
            <li>为 color() 函数加入了相对色彩语法
            <li>明确 color-adjuster 不是可选
            <li>color-mix 百分比为必填
            <li>hue-adjuster 回归 color-mix
            <li>增加不同混合色彩空间示例
            <li>补 color-mix 百分比归一化示例
            <li>明确禁止 color-mix 的负百分比
            <li>color-mix 百分比和小于100%会生成透明度小于100%
            <li>color space 全部用 color space 这个说法
            <li>定义 <a class="css production" data-link-type="type" href="#typedef-color-space"
                    id="ref-for-typedef-color-space④">&lt;color-space></a> 词法单元

            <li>纠正 color-contrast 文法
            <li>color-contrast() 可选对比目标
            <li>调整 adjuster 文法
            <li>color-mix() 百分比和为0的边界情况处理
            <li>澄清 color-mix() 运算顺序
            <li>例子与最新文法一致
            <li>定义百分比归一化
            <li>clarify color-mix 0%/100%意义
            <li>move adjusters from color-mix/简化文法
            <li>color-mix() 必需 color space
            <li>允许百分比在色彩参数前
            <li>显式算法给 color-mix()
            <li>移除 adjusters 并简化文法
            <li>color-mix/in 关键字定义混合色彩空间
            <li>color-contrast() 至少两项
            <li>refine 相对色彩语法说明
            <li>链接 CSS 4 色彩序列化定义
            <li>增色空间独立章节
            <li>color-adjust 示例更新
            <li>示意图完善
            <li>支持未解析百分比
            <li>参数归一化
            <li>adjusters 允许百分比
            <li>link 修复
            <li>color-mix 文法调整，支持 adjusters、alpha 调整
            <li>部分示例修正
            <li>安全与隐私章节更新
            <li>新增 vs 关键字到 color-contrast
            <li>语法增加 xyz adjuster
            <li>色调调整关键字增加
            <li>xyz 混合空间
            <li>定义色彩调整器和色彩空间
            <li>mix 百分比默认 50%
            <li>worked 示例与图示增补
            <li>修正拼写、语法等小问题
            <li>color-contrast() 结果解析机制
        </ul>
        <h3 class="heading settled" data-level="18.9" id="changes-from-4"><span class="secno">18.9. </span><span
                class="content">
                与 CSS Color 4 的变更
            </span><a class="self-link" href="#changes-from-4"></a></h3>
        <p>与 CSS Color 4 最大的不同是，
            CSS 颜色不再局限于
            预定义的 RGB 空间（如 sRGB 或 display-p3）。</p>
        <p>为支持这点，增加了众多新特性：</p>
        <ol>
            <li><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①④">color()</a>
                函数由 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile①⑥">@color-profile</a> at-rule 扩展，用于有色彩描述文件的设备相关颜色，
                支持校准 CMYK。


            <li><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①⑥">device-cmyk()</a> 函数，用于在输出设备专用的 CMYK 色彩空间中指定未校准色。

        </ol>
        <p>此外新的 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①⑥">color-mix()</a> 函数允许在指定色彩空间中混合两个颜色，产生新颜色。</p>
    </main>
    <h2 class="heading no-num no-ref settled" id="w3c-conformance"><span class="content">
            一致性</span><a class="self-link" href="#w3c-conformance"></a></h2>
    <h3 class="heading no-ref settled" id="w3c-conventions"><span class="content">
            文档惯例</span><a class="self-link" href="#w3c-conventions"></a></h3>
    <p>一致性要求通过描述性断言与 RFC 2119 术语组合进行表达。规范性部分中的关键词 “MUST”（必须）、“MUST NOT”（不得）、“REQUIRED”（要求）、“SHALL”（应当）、“SHALL
        NOT”（不得）、“SHOULD”（建议）、“SHOULD NOT”（不建议）、“RECOMMENDED”（推荐）、“MAY”（可以）、“OPTIONAL”（可选），其解释方式如 RFC 2119 所述。
        但为便于阅读，本规范未将这些单词全部大写。

    </p>
    <p>除明确标记为非规范性内容、示例和注释的部分外，本文规范所有文本均为规范性内容。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>本规范中的示例以“例如”开头，或通过 <code>class="example"</code> 从规范性文本中区分，如下所示：

    </p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>

        <p>这是一个说明性示例。</p>
    </div>
    <p>说明性注释以“注意”开头，使用 <code>class="note"</code> 区分于规范性文本，如下所示：

    </p>
    <p class="note" role="note">注意，这是说明性注释。</p>
    <p>提示是规范性片段，会作特殊提示，使用 <code>&lt;strong class="advisement"></code> 区分，如下所示：

        <strong class="advisement">
            UA 必须提供可访问性替代方案。
        </strong>
    </p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>测试</summary>
        <p>与本规范内容有关的测试可记录在类似本例的 “Tests” 块中。
            此类块均为非规范性内容。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="heading no-ref settled" id="w3c-conformance-classes"><span class="content">
            一致性类别</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范定义了一致性的三类对象：
    </p>
    <dl>
        <dt>样式表

        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                样式表</a>。

        <dt>渲染器

        <dd>解释样式表语义并渲染相关文档的 <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。

        <dt>编辑工具

        <dd>编写样式表的 <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。

    </dl>
    <p>若样式表中所有采用本模块定义的语法的语句均符合泛 CSS 语法与本模块每项特性文法，则其符合本规范。

    </p>
    <p>渲染器除了须按相关规范解释样式表外，还必须能正确解析并渲染本规范全部特性，方为符合本规范。不过，因设备能力限制导致 UA 未能正确渲染文档，不构成不符合规范。（例如，UA 并不要求在黑白显示器上渲染彩色。）

    </p>
    <p>编辑工具，若其编写的样式表在语法上符合泛 CSS 语法和本模块每项特性文法，且满足本模块所述样式表的所有其它一致性要求，则视为符合本规范。

    </p>
    <h3 class="heading no-ref settled" id="w3c-partial"><span class="content">
            部分实现</span><a class="self-link" href="#w3c-partial"></a></h3>
    <p>为便于开发者利用前向兼容解析规则指定后备值，CSS 渲染器<strong>必须</strong>把所有不支持的 at-rule、属性、属性值、关键字和其它语法结构视为无效（并<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">按需忽略</a>）。尤其是，UA
        <strong>不得</strong>在同一个多值属性声明中，有选择地忽略不支持的值而保留支持的部分：如果有任何值被视为无效（即所有不支持的值），CSS 要求整个声明被忽略。
    </p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">
            不稳定与专有功能的实现</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为避免与将来稳定的 CSS 特性冲突，CSSWG 建议<a href="https://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>实现 <a
            href="https://www.w3.org/TR/CSS/#unstable">不稳定</a>的特性与 CSS <a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>。

    </p>
    <h3 class="heading no-ref settled" id="w3c-testing"><span class="content">
            非实验实现</span><a class="self-link" href="#w3c-testing"></a></h3>
    <p>一旦规范进入候选推荐（CR）阶段，就可以出现非实验性实现，实现者应发布未加前缀且能证明符合规范的 CR 级特性的实现。

    </p>
    <p>为了建立并保证各实现间 CSS 的互操作性，CSS 工作组要求非实验性 CSS 渲染器在发布任意无前缀实现前，向 W3C 提交实现报告（如有必要，还应交实现报告用到的测试用例）。提交 W3C 的测试用例可由 CSS
        工作组审查和修正。

    </p>
    <p>有关提交测试用例及实现报告的进一步信息可在 CSS 工作组网站
        <a href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>
        查询。如有疑问请发邮件至
        <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
        邮箱。
    </p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="heading no-num no-ref settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="heading no-num no-ref settled" id="index-defined-here"><span class="content">本文规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li>
            a
            <ul>
                <li><a href="#valdef-lab-a">lab() 的 a 分量值</a><span>, 见 § 4.6</span>
                <li><a href="#valdef-oklab-a">oklab() 的 a 分量值</a><span>, 见 § 4.7</span>
            </ul>
        <li><a href="#absolute-color">绝对颜色</a><span>, 见 § 2</span>
        <li><a href="#valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</a><span>, 见
                § 5.3</span>
        <li>
            alpha
            <ul>
                <li><a href="#valdef-alpha-alpha">alpha() 的值</a><span>, 见 § 4.10</span>
                <li><a href="#valdef-color-alpha">color() 的 alpha 分量值</a><span>, �� § 5.1</span>
                <li><a href="#valdef-hsl-alpha">hsl() 的 alpha 分量值</a><span>, 见 § 4.4</span>
                <li><a href="#valdef-hwb-alpha">hwb() 的 alpha 分量值</a><span>, 见 § 4.5</span>
                <li><a href="#valdef-lab-alpha">lab() 的 alpha 分量值</a><span>, 见 § 4.6</span>
                <li><a href="#valdef-lch-alpha">lch() 的 alpha 分量值</a><span>, 见 § 4.8</span>
                <li><a href="#valdef-oklab-alpha">oklab() 的 alpha 分量值</a><span>, 见 § 4.7</span>
                <li><a href="#valdef-oklch-alpha">oklch() 的 alpha 分量值</a><span>, 见 § 4.9</span>
                <li><a href="#valdef-rgb-alpha">rgb() 的 alpha 分量值</a><span>, 见 § 4.3</span>
            </ul>
        <li><a href="#funcdef-alpha">alpha()</a><span>, 见 § 4.10</span>
        <li>
            b
            <ul>
                <li><a href="#valdef-color-b">color() 的 b 分量值</a><span>, 见 § 5.1</span>
                <li><a href="#valdef-hwb-b">hwb() 的 b 分量值</a><span>, 见 § 4.5</span>
                <li><a href="#valdef-lab-b">lab() 的 b 分量值</a><span>, 见 § 4.6</span>
                <li><a href="#valdef-oklab-b">oklab() 的 b 分量值</a><span>, 见 § 4.7</span>
                <li><a href="#valdef-rgb-b">rgb() 的 b 分量值</a><span>, 见 § 4.3</span>
            </ul>
        <li>
            c
            <ul>
                <li><a href="#valdef-lch-c">lch() 的 c 分量值</a><span>, 见 § 4.8</span>
                <li><a href="#valdef-oklch-c">oklch() 的 c 分量值</a><span>, 见 § 4.9</span>
            </ul>
        <li><a href="#calculate-a-color-mix">计算 color-mix()</a><span>, 见 § 3.3</span>
        <li><a href="#typedef-cmyk-component">&lt;cmyk-component></a><span>, 见 § 6</span>
        <li><a href="#typedef-color">&lt;color></a><span>, 见 § 2</span>
        <li><a href="#funcdef-color">color()</a><span>, 见 § 5</span>
        <li><a href="#typedef-color-base">&lt;color-base></a><span>, 见 § 2</span>
        <li><a href="#typedef-color-function">&lt;color-function></a><span>, 见 § 2</span>
        <li><a href="#color-interpolation-method">&lt;color-interpolation-method></a><span>, 见 § 9.1</span>
        <li><a href="#funcdef-color-mix">color-mix()</a><span>, 见 § 3</span>
        <li><a href="#at-ruledef-profile">@color-profile</a><span>, 见 § 5.3</span>
        <li><a href="#css-color-profile">色彩配置文件</a><span>, 见 § 5.3</span>
        <li><a href="#typedef-color-space">&lt;color-space></a><span>, 见 § 9.1</span>
        <li><a href="#typedef-colorspace-params">&lt;colorspace-params></a><span>, 见 § 5</span>
        <li><a href="#component-keyword">组件关键字</a><span>, 见 § 4.2</span>
        <li>
            components
            <ul>
                <li><a href="#dom-csscolorprofilerule-components">CSSColorProfileRule 的属性</a><span>, 见
                        § 12.1</span>
                <li><a href="#descdef-color-profile-components">@color-profile 的描述符</a><span>, 见 § 5.3</span>
            </ul>
        <li><a href="#funcdef-contrast-color">contrast-color()</a><span>, 见 § 8</span>
        <li><a href="#css-color-profile">CSS 色彩配置文件</a><span>, 见 § 5.3</span>
        <li><a href="#csscolorprofilerule">CSSColorProfileRule</a><span>, 见 § 12.1</span>
        <li><a href="#typedef-custom-color-space">&lt;custom-color-space></a><span>, 见 § 9.1</span>
        <li><a href="#typedef-custom-params">&lt;custom-params></a><span>, 见 § 5</span>
        <li><a href="#funcdef-device-cmyk">device-cmyk()</a><span>, 见 § 6</span>
        <li><a href="#fetch-an-external-color-profile">获取外部色彩配置文件</a><span>, 见 § 5.3</span>
        <li>
            g
            <ul>
                <li><a href="#valdef-color-g">color() 的 g 分量值</a><span>, 见 § 5.1</span>
                <li><a href="#valdef-rgb-g">rgb() 的 g 分量值</a><span>, 见 § 4.3</span>
            </ul>
        <li><a href="#gamut-map">gamut-map</a><span>, 见 § 5.3</span>
        <li>
            h
            <ul>
                <li><a href="#valdef-hsl-h">hsl() 的 h 分量值</a><span>, 见 § 4.4</span>
                <li><a href="#valdef-hwb-h">hwb() 的 h 分量值</a><span>, 见 § 4.5</span>
                <li><a href="#valdef-lch-h">lch() 的 h 分量值</a><span>, 见 § 4.8</span>
                <li><a href="#valdef-oklch-h">oklch() 的 h 分量值</a><span>, 见 § 4.9</span>
            </ul>
        <li><a href="#typedef-hue-interpolation-method">&lt;hue-interpolation-method></a><span>, 见 § 9.1</span>
        <li><a href="#funcdef-hwb">hwb()</a><span>, 见 § 4.5</span>
        <li><a href="#invalid-color">无效颜色</a><span>, 见 § 5</span>
        <li>
            l
            <ul>
                <li><a href="#valdef-hsl-l">hsl() 的 l 分量值</a><span>, 见 § 4.4</span>
                <li><a href="#valdef-lab-l">lab() 的 l 分量值</a><span>, 见 § 4.6</span>
                <li><a href="#valdef-lch-l">lch() 的 l 分量值</a><span>, 见 § 4.8</span>
                <li><a href="#valdef-oklab-l">oklab() 的 l 分量值</a><span>, 见 § 4.7</span>
                <li><a href="#valdef-oklch-l">oklch() 的 l 分量值</a><span>, 见 § 4.9</span>
            </ul>
        <li><a href="#funcdef-lab">lab()</a><span>, 见 § 4.6</span>
        <li><a href="#funcdef-lch">lch()</a><span>, 见 § 4.8</span>
        <li><a href="#typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a><span>, 见 § 6</span>
        <li><a href="#funcdef-light-dark">light-dark()</a><span>, 见 § 7</span>
        <li><a href="#typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a><span>, 见 § 6</span>
        <li><a href="#typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a><span>, 见 § 4.4</span>
        <li><a href="#typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a><span>, 见 § 4.4</span>
        <li><a href="#typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a><span>, 见 § 4.3</span>
        <li><a href="#typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a><span>, 见 § 4.3</span>
        <li><a href="#naively-convert-from-rgba-to-cmyk">以简单方式转为 CMYK</a><span>, 见 § 6.1</span>
        <li><a href="#naively-convert-from-cmyk-to-rgba">以简单方式转为 RGBA</a><span>, 见 § 6.1</span>
        <li><a href="#naively-convert-from-cmyk-to-rgba">以简单方式将 CMYK 转为 RGBA</a><span>, 见 § 6.1</span>
        <li><a href="#naively-convert-from-rgba-to-cmyk">以简单方式将 RGBA 转为 CMYK</a><span>, 见 § 6.1</span>
        <li><a href="#dom-csscolorprofilerule-name">name</a><span>, 见 § 12.1</span>
        <li><a href="#funcdef-oklab">oklab()</a><span>, 见 § 4.7</span>
        <li><a href="#funcdef-oklch">oklch()</a><span>, 见 § 4.9</span>
        <li><a href="#originally-specified-color-space">最初指定的色彩空间</a><span>, 见 § 4.1</span>
        <li><a href="#origin-color">原始颜色</a><span>, 见 § 4.1</span>
        <li><a href="#out-of-gamut">超出色域</a><span>, 见 § 5</span>
        <li><a href="#valdef-color-profile-rendering-intent-perceptual">perceptual</a><span>, 见 § 5.3</span>
        <li><a href="#typedef-polar-color-space">&lt;polar-color-space></a><span>, 见 § 9.1</span>
        <li><a href="#typedef-predefined-rgb">&lt;predefined-rgb></a><span>, 见 § 5</span>
        <li><a href="#typedef-predefined-rgb-params">&lt;predefined-rgb-params></a><span>, 见 § 5</span>
        <li>
            r
            <ul>
                <li><a href="#valdef-color-r">color() 的 r 分量值</a><span>, 见 § 5.1</span>
                <li><a href="#valdef-rgb-r">rgb() 的 r 分量值</a><span>, 见 § 4.3</span>
            </ul>
        <li><a href="#typedef-rectangular-color-space">&lt;rectangular-color-space></a><span>, 见 § 9.1</span>
        <li><a href="#relative-color">相对颜色</a><span>, 见 § 4.1</span>
        <li><a href="#valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</a><span>, 见
                § 5.3</span>
        <li><a href="#descdef-color-profile-rendering-intent">rendering-intent</a><span>, 见 § 5.3</span>
        <li><a href="#dom-csscolorprofilerule-renderingintent">renderingIntent</a><span>, 见 § 12.1</span>
        <li><a href="#required-conversion">所需转换</a><span>, 见 § 4.1</span>
        <li><a href="#resolve-to-srgb">解析为 sRGB</a><span>, 见 § 2</span>
        <li><a href="#valdef-hsl-s">s</a><span>, 见 § 4.4</span>
        <li><a href="#valdef-color-profile-rendering-intent-saturation">saturation</a><span>, 见 § 5.3</span>
        <li>
            src
            <ul>
                <li><a href="#dom-csscolorprofilerule-src">CSSColorProfileRule 的属性</a><span>, 见 § 12.1</span>
                <li><a href="#descdef-color-profile-src">@color-profile 的描述符</a><span>, 见 § 5.3</span>
            </ul>
        <li><a href="#support-legacy-color-syntax">支持传统颜色语法</a><span>, 见 § 2</span>
        <li><a href="#valid-color">有效颜色</a><span>, 见 § 5</span>
        <li><a href="#valdef-hwb-w">w</a><span>, 见 § 4.5</span>
        <li><a href="#valdef-color-x">x</a><span>, 见 § 5.1</span>
        <li><a href="#typedef-xyz-params">&lt;xyz-params></a><span>, 见 § 5</span>
        <li><a href="#valdef-color-y">y</a><span>, 见 § 5.1</span>
        <li><a href="#valdef-color-z">z</a><span>, 见 § 5.1</span>
    </ul>
    <h3 class="heading no-num no-ref settled" id="index-defined-elsewhere"><span class="content">引用规范定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="0948355d">实际值（actual value）</span>
                <li><span class="dfn-paneled" id="8c8e51b4">计算值（computed value）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-4]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="e5db470f">&lt;alpha-value></span>
                <li><span class="dfn-paneled" id="cee404c5">&lt;hex-color></span>
                <li><span class="dfn-paneled" id="33347c0e">&lt;hue></span>
                <li><span class="dfn-paneled" id="8fad2d26">&lt;named-color></span>
                <li><span class="dfn-paneled" id="024532da">&lt;system-color></span>
                <li><span class="dfn-paneled" id="640a9100">&lt;xyz-space></span>
                <li><span class="dfn-paneled" id="d11b143f">a98-rgb</span>
                <li><span class="dfn-paneled" id="4dee7468">analogous components</span>
                <li><span class="dfn-paneled" id="0ed7201e">black</span>
                <li><span class="dfn-paneled" id="a976c737">blue</span>
                <li><span class="dfn-paneled" id="7398228c">carried forward</span>
                <li><span class="dfn-paneled" id="b46a2c7d">color</span>
                <li><span class="dfn-paneled" id="4a1e4e52">color functions</span>
                <li><span class="dfn-paneled" id="f6f69187">color space</span>
                <li><span class="dfn-paneled" id="a42c65ac">currentcolor</span>
                <li><span class="dfn-paneled" id="c990915b">cylindrical polar color</span>
                <li><span class="dfn-paneled" id="19512a47">darkolivegreen</span>
                <li><span class="dfn-paneled" id="abed060e">display-p3</span>
                <li><span class="dfn-paneled" id="bc4e4c18">HSL</span>
                <li><span class="dfn-paneled" id="5bd3632a">hsl()</span>
                <li><span class="dfn-paneled" id="239640fd">hsla()</span>
                <li><span class="dfn-paneled" id="85dbac5b">HWB</span>
                <li><span class="dfn-paneled" id="4a14e4dc">lab</span>
                <li><span class="dfn-paneled" id="4b8ab2a8">LCH</span>
                <li><span class="dfn-paneled" id="e2a9e9b9">legacy color syntax</span>
                <li><span class="dfn-paneled" id="f8e15dd7">lime</span>
                <li><span class="dfn-paneled" id="77a29323">modern color syntax</span>
                <li><span class="dfn-paneled" id="528ea935">none</span>
                <li><span class="dfn-paneled" id="01b14142">oklab</span>
                <li><span class="dfn-paneled" id="404710e3">OKLCh</span>
                <li><span class="dfn-paneled" id="f0f7ce16">premultiplied</span>
                <li><span class="dfn-paneled" id="691e902b">prophoto-rgb</span>
                <li><span class="dfn-paneled" id="2eb59b48">rec2020</span>
                <li><span class="dfn-paneled" id="af48ee71">rectangular orthogonal color</span>
                <li><span class="dfn-paneled" id="970f70ea">red</span>
                <li><span class="dfn-paneled" id="daabf294">rgb()</span>
                <li><span class="dfn-paneled" id="f3226176">rgba()</span>
                <li><span class="dfn-paneled" id="ce4cacb8">srgb</span>
                <li><span class="dfn-paneled" id="e98886a5">srgb-linear</span>
                <li><span class="dfn-paneled" id="f3614b7c">transparent black</span>
                <li><span class="dfn-paneled" id="17858dc9">white</span>
                <li><span class="dfn-paneled" id="01b00791">xyz</span>
                <li><span class="dfn-paneled" id="b3bfee63">xyz-d65</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-ADJUST-1]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="746d81ae">dark</span>
                <li><span class="dfn-paneled" id="99387b3d">light</span>
                <li><span class="dfn-paneled" id="a55c0dec">used color scheme</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SYNTAX-3]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="a81b1fb8">&lt;declaration-list></span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="c297b070">#</span>
                <li><span class="dfn-paneled" id="bdb4e757">&amp;&amp;</span>
                <li><span class="dfn-paneled" id="af4a190d">+</span>
                <li><span class="dfn-paneled" id="8cd4f032">,</span>
                <li><span class="dfn-paneled" id="d7e1d67b">&lt;angle></span>
                <li><span class="dfn-paneled" id="f5b34cad">&lt;dashed-ident></span>
                <li><span class="dfn-paneled" id="dcecfc13">&lt;ident></span>
                <li><span class="dfn-paneled" id="61bb5e44">&lt;number></span>
                <li><span class="dfn-paneled" id="128295ac">&lt;percentage></span>
                <li><span class="dfn-paneled" id="699488a8">&lt;url></span>
                <li><span class="dfn-paneled" id="d4441b24">?</span>
                <li><span class="dfn-paneled" id="14d3255d">calc()</span>
                <li><span class="dfn-paneled" id="4dbf81d6">canonical unit</span>
                <li><span class="dfn-paneled" id="24ecd148">获取样式资源</span>
                <li><span class="dfn-paneled" id="3db7b9e0">数学函数</span>
                <li><span class="dfn-paneled" id="d9909296">pi</span>
                <li><span class="dfn-paneled" id="8cbc2b3b">{A}</span>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-5]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="acb3399b">mix item</span>
                <li><span class="dfn-paneled" id="8093bfd3">normalize mix percentages</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-1]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="9d357000">CSSOMString</span>
                <li><span class="dfn-paneled" id="0f78dbdd">CSSRule</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="ee7bba09">response</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="7f9469b5">ASCII 不区分大小写</span>
                <li><span class="dfn-paneled" id="fca74142">pop</span>
                <li><span class="dfn-paneled" id="7c3de606">push</span>
                <li><span class="dfn-paneled" id="ceacaa1c">stack</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
            </ul>
    </ul>
    <h2 class="heading no-num no-ref settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="heading no-num no-ref settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    层叠与继承 5 级</cite></a>. 2022 年 1 月 13 日. CR. URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Chris Lilley; Tab Atkins Jr.; Lea Verou. <a href="https://www.w3.org/TR/css-color-4/"><cite>CSS 色彩模块
                    4 级</cite></a>. 2025 年 4 月 24 日. CRD. URL: <a
                href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-color-adjust-1">[CSS-COLOR-ADJUST-1]
        <dd>Elika Etemad 等. <a href="https://www.w3.org/TR/css-color-adjust-1/"><cite>CSS 色彩调整模块
                    1 级</cite></a>. 2025 年 12 月 16 日. CR. URL: <a
                href="https://www.w3.org/TR/css-color-adjust-1/">https://www.w3.org/TR/css-color-adjust-1/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS 语法模块
                    3 级</cite></a>. 2021 年 12 月 24 日. CRD. URL: <a
                href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS 数值与单位模块
                    4 级</cite></a>. 2024 年 3 月 12 日. WD. URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-values-5">[CSS-VALUES-5]
        <dd>Tab Atkins Jr.; Elika Etemad; Miriam Suzanne. <a href="https://www.w3.org/TR/css-values-5/"><cite>CSS
                    数值与单位模块
                    5 级</cite></a>. 2024 年 11 月 11 日. WD. URL: <a
                href="https://www.w3.org/TR/css-values-5/">https://www.w3.org/TR/css-values-5/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://www.w3.org/TR/cssom-1/"><cite>CSS 对象模型
                    (CSSOM)</cite></a>. 2021 年 8 月 26 日. WD. URL: <a
                href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch 标准</cite></a>. 活标准. URL: <a
                href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-icc">[ICC]
        <dd><a href="http://www.color.org/specification/ICC.1-2022-05.pdf"><cite>ICC.1:2022 (Profile version
                    4.4.0.0)</cite></a>. 2022 年 5 月. URL: <a
                href="http://www.color.org/specification/ICC.1-2022-05.pdf">http://www.color.org/specification/ICC.1-2022-05.pdf</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    标准</cite></a>. 活标准. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>用于在 RFC 中指示需求级别的关键词</cite></a>.
            1997 年 3 月. 最佳当前实践. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. 活标准. URL: <a
                href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="heading no-num no-ref settled" id="informative"><span class="content">说明性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-fogra39">[FOGRA39]
        <dd><a href="https://www.color.org/chardata/FOGRA39.xalter"><cite>ISO 12647-2:2004 / Amd 1, 按照 ISO 12647-2
                    的胶印商业和专色印刷，纸张类型 1 或 2（光面或亚光铜版，115g/m²），线数 60/cm</cite></a>. 2006 年. URL: <a
                href="https://www.color.org/chardata/FOGRA39.xalter">https://www.color.org/chardata/FOGRA39.xalter</a>
        <dt id="biblio-fogra51">[FOGRA51]
        <dd><a href="https://registry.color.org/cmyk-registry/fogra51"><cite>ISO
                    12647-2:2013，半色调分色、打样与正式印刷生产过程控制第二部分：胶印，纸张PS 1，高级铜版，115g/m²，中等底材荧光</cite></a>. 2015 年. URL: <a
                href="https://registry.color.org/cmyk-registry/fogra51">https://registry.color.org/cmyk-registry/fogra51</a>
        <dt id="biblio-fogra55">[FOGRA55]
        <dd><a href="https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003"><cite>基于 CMYKOGV
                    的色域交换空间</cite></a>. 2021 年. URL: <a
                href="https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003">https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003</a>
    </dl>
    <h2 class="heading no-num no-ref settled" id="property-index"><span class="content">属性索引</span><a class="self-link"
            href="#property-index"></a></h2>
    <p>无属性定义。</p>
    <h3 class="heading no-num no-ref settled" id="color-profile-descriptor-table"><span class="content"><a class="css"
                data-link-type="at-rule" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑦">@color-profile</a>
            描述符</span><a class="self-link" href="#color-profile-descriptor-table"></a></h3>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    <th scope="col">值
                    <th scope="col">初始值
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-components"
                            id="ref-for-descdef-color-profile-components①">components</a>
                    <td>&lt;ident>#
                    <td>n/a
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-color-profile-rendering-intent"
                            id="ref-for-descdef-color-profile-rendering-intent①">rendering-intent</a>
                    <td>relative-colorimetric | absolute-colorimetric | perceptual | saturation
                    <td>relative-colorimetric
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-src"
                            id="ref-for-descdef-color-profile-src①">src</a>
                    <td>&lt;url>
                    <td>n/a
        </table>
    </div>
    <h2 class="heading no-num no-ref settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></a> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};

</pre>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "01b00791": { "dfnID": "01b00791", "dfnText": "xyz", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-color-xyz\u2460" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz" },
                "01b14142": { "dfnID": "01b14142", "dfnText": "oklab", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-oklab-oklab" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" },
                "024532da": { "dfnID": "024532da", "dfnText": "<system-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-system-color" }, { "id": "ref-for-typedef-system-color\u2460" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-system-color" },
                "0948355d": { "dfnID": "0948355d", "dfnText": "actual value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-actual-value" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-cascade-5/#actual-value" },
                "0ed7201e": { "dfnID": "0ed7201e", "dfnText": "black", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-black" }, { "id": "ref-for-valdef-color-black\u2460" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-black" },
                "0f78dbdd": { "dfnID": "0f78dbdd", "dfnText": "CSSRule", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssrule" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
                "128295ac": { "dfnID": "128295ac", "dfnText": "<percentage>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-percentage-value" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-percentage-value\u2460" }, { "id": "ref-for-percentage-value\u2461" }, { "id": "ref-for-percentage-value\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2463" }, { "id": "ref-for-percentage-value\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2465" }, { "id": "ref-for-percentage-value\u2466" }, { "id": "ref-for-percentage-value\u2467" }, { "id": "ref-for-percentage-value\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u24ea" }, { "id": "ref-for-percentage-value\u2460\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2461" }, { "id": "ref-for-percentage-value\u2460\u2462" }, { "id": "ref-for-percentage-value\u2460\u2463" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2464" }, { "id": "ref-for-percentage-value\u2460\u2465" }, { "id": "ref-for-percentage-value\u2460\u2466" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2467" }, { "id": "ref-for-percentage-value\u2460\u2468" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u24ea" }, { "id": "ref-for-percentage-value\u2461\u2460" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u2461" }, { "id": "ref-for-percentage-value\u2461\u2462" }, { "id": "ref-for-percentage-value\u2461\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u2464" }, { "id": "ref-for-percentage-value\u2461\u2465" }, { "id": "ref-for-percentage-value\u2461\u2466" }, { "id": "ref-for-percentage-value\u2461\u2467" }, { "id": "ref-for-percentage-value\u2461\u2468" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2462\u24ea" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2462\u2460" }, { "id": "ref-for-percentage-value\u2462\u2461" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "14d3255d": { "dfnID": "14d3255d", "dfnText": "calc()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-calc" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-funcdef-calc\u2460" }, { "id": "ref-for-funcdef-calc\u2461" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-values-4/#funcdef-calc" },
                "17858dc9": { "dfnID": "17858dc9", "dfnText": "white", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-white" }, { "id": "ref-for-valdef-color-white\u2460" }, { "id": "ref-for-valdef-color-white\u2461" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-white" },
                "19512a47": { "dfnID": "19512a47", "dfnText": "darkolivegreen", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-darkolivegreen" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen" },
                "239640fd": { "dfnID": "239640fd", "dfnText": "hsla()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hsla" }, { "id": "ref-for-funcdef-hsla\u2460" }, { "id": "ref-for-funcdef-hsla\u2461" }, { "id": "ref-for-funcdef-hsla\u2462" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2463" }, { "id": "ref-for-funcdef-hsla\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2465" }, { "id": "ref-for-funcdef-hsla\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2467" }, { "id": "ref-for-funcdef-hsla\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsla" },
                "24ecd148": { "dfnID": "24ecd148", "dfnText": "fetch a style resource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-a-style-resource" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource" },
                "2eb59b48": { "dfnID": "2eb59b48", "dfnText": "rec2020", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-rec2020" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" },
                "33347c0e": { "dfnID": "33347c0e", "dfnText": "<hue>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hue" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-typedef-hue\u2460" }, { "id": "ref-for-typedef-hue\u2461" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2462" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2463" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2464" }], "title": "4.9. Relative OkLCh Colors" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-hue" },
                "3db7b9e0": { "dfnID": "3db7b9e0", "dfnText": "math function", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-math-function" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-math-function\u2460" }, { "id": "ref-for-math-function\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#math-function" },
                "404710e3": { "dfnID": "404710e3", "dfnText": "OKLCh", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-oklch-oklch" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-oklch-oklch\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" },
                "4a14e4dc": { "dfnID": "4a14e4dc", "dfnText": "lab", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-lab-lab" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-lab-lab" },
                "4a1e4e52": { "dfnID": "4a1e4e52", "dfnText": "color functions", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color-functions" }, { "id": "ref-for-color-functions\u2460" }], "title": "2. The <color> syntax" }], "url": "https://drafts.csswg.org/css-color-4/#color-functions" },
                "4b8ab2a8": { "dfnID": "4b8ab2a8", "dfnText": "LCH", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-lch-lch" }, { "id": "ref-for-valdef-lch-lch\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-lch-lch\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-lch-lch" },
                "4dbf81d6": { "dfnID": "4dbf81d6", "dfnText": "canonical unit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-canonical-unit" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#canonical-unit" },
                "4dee7468": { "dfnID": "4dee7468", "dfnText": "analogous components", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-analogous-components" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }], "url": "https://www.w3.org/TR/css-color-4/#analogous-components" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }, { "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }, { "id": "ref-for-comb-one\u2463" }, { "id": "ref-for-comb-one\u2464" }, { "id": "ref-for-comb-one\u2465" }, { "id": "ref-for-comb-one\u2466" }, { "id": "ref-for-comb-one\u2467" }, { "id": "ref-for-comb-one\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea" }, { "id": "ref-for-comb-one\u2460\u2460" }, { "id": "ref-for-comb-one\u2460\u2461" }, { "id": "ref-for-comb-one\u2460\u2462" }, { "id": "ref-for-comb-one\u2460\u2463" }, { "id": "ref-for-comb-one\u2460\u2464" }, { "id": "ref-for-comb-one\u2460\u2465" }, { "id": "ref-for-comb-one\u2460\u2466" }, { "id": "ref-for-comb-one\u2460\u2467" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-comb-one\u2460\u2468" }, { "id": "ref-for-comb-one\u2461\u24ea" }, { "id": "ref-for-comb-one\u2461\u2460" }, { "id": "ref-for-comb-one\u2461\u2461" }, { "id": "ref-for-comb-one\u2461\u2462" }, { "id": "ref-for-comb-one\u2461\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2461\u2464" }, { "id": "ref-for-comb-one\u2461\u2465" }, { "id": "ref-for-comb-one\u2461\u2466" }, { "id": "ref-for-comb-one\u2461\u2467" }, { "id": "ref-for-comb-one\u2461\u2468" }, { "id": "ref-for-comb-one\u2462\u24ea" }, { "id": "ref-for-comb-one\u2462\u2460" }, { "id": "ref-for-comb-one\u2462\u2461" }, { "id": "ref-for-comb-one\u2462\u2462" }, { "id": "ref-for-comb-one\u2462\u2463" }, { "id": "ref-for-comb-one\u2462\u2464" }, { "id": "ref-for-comb-one\u2462\u2465" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2462\u2466" }, { "id": "ref-for-comb-one\u2462\u2467" }, { "id": "ref-for-comb-one\u2462\u2468" }, { "id": "ref-for-comb-one\u2463\u24ea" }, { "id": "ref-for-comb-one\u2463\u2460" }, { "id": "ref-for-comb-one\u2463\u2461" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2463\u2462" }, { "id": "ref-for-comb-one\u2463\u2463" }, { "id": "ref-for-comb-one\u2463\u2464" }, { "id": "ref-for-comb-one\u2463\u2465" }, { "id": "ref-for-comb-one\u2463\u2466" }, { "id": "ref-for-comb-one\u2463\u2467" }, { "id": "ref-for-comb-one\u2463\u2468" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2464\u24ea" }, { "id": "ref-for-comb-one\u2464\u2460" }, { "id": "ref-for-comb-one\u2464\u2461" }, { "id": "ref-for-comb-one\u2464\u2462" }, { "id": "ref-for-comb-one\u2464\u2463" }, { "id": "ref-for-comb-one\u2464\u2464" }, { "id": "ref-for-comb-one\u2464\u2465" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2464\u2466" }, { "id": "ref-for-comb-one\u2464\u2467" }, { "id": "ref-for-comb-one\u2464\u2468" }, { "id": "ref-for-comb-one\u2465\u24ea" }, { "id": "ref-for-comb-one\u2465\u2460" }, { "id": "ref-for-comb-one\u2465\u2461" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2465\u2462" }, { "id": "ref-for-comb-one\u2465\u2463" }, { "id": "ref-for-comb-one\u2465\u2464" }, { "id": "ref-for-comb-one\u2465\u2465" }, { "id": "ref-for-comb-one\u2465\u2466" }, { "id": "ref-for-comb-one\u2465\u2467" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2465\u2468" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2466\u24ea" }, { "id": "ref-for-comb-one\u2466\u2460" }, { "id": "ref-for-comb-one\u2466\u2461" }, { "id": "ref-for-comb-one\u2466\u2462" }, { "id": "ref-for-comb-one\u2466\u2463" }, { "id": "ref-for-comb-one\u2466\u2464" }, { "id": "ref-for-comb-one\u2466\u2465" }, { "id": "ref-for-comb-one\u2466\u2466" }, { "id": "ref-for-comb-one\u2466\u2467" }, { "id": "ref-for-comb-one\u2466\u2468" }, { "id": "ref-for-comb-one\u2467\u24ea" }, { "id": "ref-for-comb-one\u2467\u2460" }, { "id": "ref-for-comb-one\u2467\u2461" }, { "id": "ref-for-comb-one\u2467\u2462" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-comb-one\u2467\u2463" }, { "id": "ref-for-comb-one\u2467\u2464" }, { "id": "ref-for-comb-one\u2467\u2465" }, { "id": "ref-for-comb-one\u2467\u2466" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-comb-one\u2467\u2467" }, { "id": "ref-for-comb-one\u2467\u2468" }, { "id": "ref-for-comb-one\u2468\u24ea" }, { "id": "ref-for-comb-one\u2468\u2460" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-comb-one\u2468\u2461" }, { "id": "ref-for-comb-one\u2468\u2462" }, { "id": "ref-for-comb-one\u2468\u2463" }, { "id": "ref-for-comb-one\u2468\u2464" }, { "id": "ref-for-comb-one\u2468\u2465" }, { "id": "ref-for-comb-one\u2468\u2466" }, { "id": "ref-for-comb-one\u2468\u2467" }, { "id": "ref-for-comb-one\u2468\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea\u24ea" }, { "id": "ref-for-comb-one\u2460\u24ea\u2460" }, { "id": "ref-for-comb-one\u2460\u24ea\u2461" }, { "id": "ref-for-comb-one\u2460\u24ea\u2462" }, { "id": "ref-for-comb-one\u2460\u24ea\u2463" }, { "id": "ref-for-comb-one\u2460\u24ea\u2464" }, { "id": "ref-for-comb-one\u2460\u24ea\u2465" }, { "id": "ref-for-comb-one\u2460\u24ea\u2466" }, { "id": "ref-for-comb-one\u2460\u24ea\u2467" }, { "id": "ref-for-comb-one\u2460\u24ea\u2468" }, { "id": "ref-for-comb-one\u2460\u2460\u24ea" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "528ea935": { "dfnID": "528ea935", "dfnText": "none", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-none" }, { "id": "ref-for-valdef-color-none\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2461" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2462" }, { "id": "ref-for-valdef-color-none\u2463" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2464" }], "title": "18.3. \n\tSince the Working Draft of 29 February 2024\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2465" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2466" }], "title": "18.5. \n\tSince the Working Draft of 28 April 2022\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2467" }], "title": "18.6. \n\tSince the Working Draft of 15 December 2021\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-none" },
                "5bd3632a": { "dfnID": "5bd3632a", "dfnText": "hsl()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hsl" }, { "id": "ref-for-funcdef-hsl\u2460" }, { "id": "ref-for-funcdef-hsl\u2461" }, { "id": "ref-for-funcdef-hsl\u2462" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2463" }, { "id": "ref-for-funcdef-hsl\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2465" }, { "id": "ref-for-funcdef-hsl\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2467" }, { "id": "ref-for-funcdef-hsl\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2460\u24ea" }, { "id": "ref-for-funcdef-hsl\u2460\u2460" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsl" },
                "61bb5e44": { "dfnID": "61bb5e44", "dfnText": "<number>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-number-value" }, { "id": "ref-for-number-value\u2460" }, { "id": "ref-for-number-value\u2461" }, { "id": "ref-for-number-value\u2462" }, { "id": "ref-for-number-value\u2463" }, { "id": "ref-for-number-value\u2464" }, { "id": "ref-for-number-value\u2465" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-number-value\u2466" }, { "id": "ref-for-number-value\u2467" }, { "id": "ref-for-number-value\u2468" }, { "id": "ref-for-number-value\u2460\u24ea" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-number-value\u2460\u2460" }, { "id": "ref-for-number-value\u2460\u2461" }, { "id": "ref-for-number-value\u2460\u2462" }, { "id": "ref-for-number-value\u2460\u2463" }, { "id": "ref-for-number-value\u2460\u2464" }, { "id": "ref-for-number-value\u2460\u2465" }, { "id": "ref-for-number-value\u2460\u2466" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-number-value\u2460\u2467" }, { "id": "ref-for-number-value\u2460\u2468" }, { "id": "ref-for-number-value\u2461\u24ea" }, { "id": "ref-for-number-value\u2461\u2460" }, { "id": "ref-for-number-value\u2461\u2461" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-number-value\u2461\u2462" }, { "id": "ref-for-number-value\u2461\u2463" }, { "id": "ref-for-number-value\u2461\u2464" }, { "id": "ref-for-number-value\u2461\u2465" }, { "id": "ref-for-number-value\u2461\u2466" }, { "id": "ref-for-number-value\u2461\u2467" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-number-value\u2461\u2468" }, { "id": "ref-for-number-value\u2462\u24ea" }, { "id": "ref-for-number-value\u2462\u2460" }, { "id": "ref-for-number-value\u2462\u2461" }, { "id": "ref-for-number-value\u2462\u2462" }, { "id": "ref-for-number-value\u2462\u2463" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-number-value\u2462\u2464" }, { "id": "ref-for-number-value\u2462\u2465" }, { "id": "ref-for-number-value\u2462\u2466" }, { "id": "ref-for-number-value\u2462\u2467" }, { "id": "ref-for-number-value\u2462\u2468" }, { "id": "ref-for-number-value\u2463\u24ea" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2460" }, { "id": "ref-for-number-value\u2463\u2461" }, { "id": "ref-for-number-value\u2463\u2462" }, { "id": "ref-for-number-value\u2463\u2463" }, { "id": "ref-for-number-value\u2463\u2464" }, { "id": "ref-for-number-value\u2463\u2465" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2466" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2467" }, { "id": "ref-for-number-value\u2463\u2468" }, { "id": "ref-for-number-value\u2464\u24ea" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-number-value\u2464\u2460" }, { "id": "ref-for-number-value\u2464\u2461" }, { "id": "ref-for-number-value\u2464\u2462" }, { "id": "ref-for-number-value\u2464\u2463" }, { "id": "ref-for-number-value\u2464\u2464" }, { "id": "ref-for-number-value\u2464\u2465" }, { "id": "ref-for-number-value\u2464\u2466" }, { "id": "ref-for-number-value\u2464\u2467" }, { "id": "ref-for-number-value\u2464\u2468" }, { "id": "ref-for-number-value\u2465\u24ea" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2460" }, { "id": "ref-for-number-value\u2465\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2462" }, { "id": "ref-for-number-value\u2465\u2463" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2464" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "640a9100": { "dfnID": "640a9100", "dfnText": "<xyz-space>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-xyz-space" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-xyz-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-xyz-space" },
                "691e902b": { "dfnID": "691e902b", "dfnText": "prophoto-rgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-prophoto-rgb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" },
                "699488a8": { "dfnID": "699488a8", "dfnText": "<url>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-value" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "7398228c": { "dfnID": "7398228c", "dfnText": "carried forward", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-carried-forward" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }], "url": "https://www.w3.org/TR/css-color-4/#carried-forward" },
                "746d81ae": { "dfnID": "746d81ae", "dfnText": "dark", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-scheme-dark" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark" },
                "77a29323": { "dfnID": "77a29323", "dfnText": "modern color syntax", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-modern-color-syntax" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2461" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2462" }], "title": "4.4. Relative HSL Colors" }], "url": "https://www.w3.org/TR/css-color-4/#modern-color-syntax" },
                "7c3de606": { "dfnID": "7c3de606", "dfnText": "push", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack-push" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack-push" },
                "7f9469b5": { "dfnID": "7f9469b5", "dfnText": "ASCII case-insensitive", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-case-insensitive" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "8093bfd3": { "dfnID": "8093bfd3", "dfnText": "normalize mix percentages", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-normalize-mix-percentages" }], "title": "3.2. \n\tPercentage Normalization\n" }, { "refs": [{ "id": "ref-for-normalize-mix-percentages\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages" },
                "85dbac5b": { "dfnID": "85dbac5b", "dfnText": "HWB", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-hwb-hwb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8c8e51b4": { "dfnID": "8c8e51b4", "dfnText": "computed value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-computed-value" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "8cbc2b3b": { "dfnID": "8cbc2b3b", "dfnText": "{A}", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-num" }, { "id": "ref-for-mult-num\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-mult-num\u2461" }, { "id": "ref-for-mult-num\u2462" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-mult-num\u2463" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-num" },
                "8cd4f032": { "dfnID": "8cd4f032", "dfnText": ",", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-comma" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-comb-comma\u2460" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#comb-comma" },
                "8fad2d26": { "dfnID": "8fad2d26", "dfnText": "<named-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-named-color" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-named-color" },
                "970f70ea": { "dfnID": "970f70ea", "dfnText": "red", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-red" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-red" },
                "99387b3d": { "dfnID": "99387b3d", "dfnText": "light", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-scheme-light" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light" },
                "9d357000": { "dfnID": "9d357000", "dfnText": "CSSOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssomstring" }, { "id": "ref-for-cssomstring\u2460" }, { "id": "ref-for-cssomstring\u2461" }, { "id": "ref-for-cssomstring\u2462" }, { "id": "ref-for-cssomstring\u2463" }, { "id": "ref-for-cssomstring\u2464" }, { "id": "ref-for-cssomstring\u2465" }, { "id": "ref-for-cssomstring\u2466" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "a42c65ac": { "dfnID": "a42c65ac", "dfnText": "currentcolor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-currentcolor" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2460" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2461" }], "title": "10.2. \n\tResolving Relative Color Syntax Values\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2462" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2463" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2464" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" },
                "a55c0dec": { "dfnID": "a55c0dec", "dfnText": "used color scheme", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-used-color-scheme" }, { "id": "ref-for-used-color-scheme\u2460" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme" },
                "a81b1fb8": { "dfnID": "a81b1fb8", "dfnText": "<declaration-list>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-declaration-list" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" },
                "a976c737": { "dfnID": "a976c737", "dfnText": "blue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-blue" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-blue" },
                "abed060e": { "dfnID": "abed060e", "dfnText": "display-p3", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-display-p3" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-valdef-color-display-p3\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" },
                "absolute-color": { "dfnID": "absolute-color", "dfnText": "absolute color", "external": false, "refSections": [], "url": "#absolute-color" },
                "acb3399b": { "dfnID": "acb3399b", "dfnText": "mix item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mix-item" }, { "id": "ref-for-mix-item\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://drafts.csswg.org/css-values-5/#mix-item" },
                "af48ee71": { "dfnID": "af48ee71", "dfnText": "rectangular orthogonal color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-rectangular-orthogonal-color" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-rectangular-orthogonal-color\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color" },
                "af4a190d": { "dfnID": "af4a190d", "dfnText": "+", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-one-plus" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-one-plus" },
                "at-ruledef-profile": { "dfnID": "at-ruledef-profile", "dfnText": "@color-profile", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-profile" }, { "id": "ref-for-at-ruledef-profile\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2461" }], "title": "5.2. \n\tCustom Color Spaces\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2462" }, { "id": "ref-for-at-ruledef-profile\u2463" }, { "id": "ref-for-at-ruledef-profile\u2464" }, { "id": "ref-for-at-ruledef-profile\u2465" }, { "id": "ref-for-at-ruledef-profile\u2466" }, { "id": "ref-for-at-ruledef-profile\u2467" }, { "id": "ref-for-at-ruledef-profile\u2468" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u24ea" }], "title": "5.4. \n\tCSS and Print: Using Calibrated CMYK and Other Printed Color Spaces\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2460" }, { "id": "ref-for-at-ruledef-profile\u2460\u2461" }, { "id": "ref-for-at-ruledef-profile\u2460\u2462" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2463" }], "title": "9.1. \n\tColor Space for Interpolation" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2464" }], "title": "12.1. The CSSColorProfileRule interface" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2465" }], "title": "18.9. \n\tChanges from CSS Color 4\n" }], "url": "#at-ruledef-profile" },
                "b3bfee63": { "dfnID": "b3bfee63", "dfnText": "xyz-d65", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz-d65" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" },
                "b46a2c7d": { "dfnID": "b46a2c7d", "dfnText": "color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color" }], "title": "5.2. \n\tCustom Color Spaces\n" }], "url": "https://www.w3.org/TR/css-color-4/#color" },
                "bc4e4c18": { "dfnID": "bc4e4c18", "dfnText": "HSL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-hsl-hsl" }, { "id": "ref-for-valdef-hsl-hsl\u2460" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-hsl-hsl\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" },
                "bdb4e757": { "dfnID": "bdb4e757", "dfnText": "&&", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-all" }], "title": "3. Mixing Colors: the color-mix() Function" }], "url": "https://www.w3.org/TR/css-values-4/#comb-all" },
                "c297b070": { "dfnID": "c297b070", "dfnText": "#", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-comma" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-mult-comma\u2460" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-mult-comma\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-comma" },
                "c990915b": { "dfnID": "c990915b", "dfnText": "cylindrical polar color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cylindrical-polar-color" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-cylindrical-polar-color\u2460" }, { "id": "ref-for-cylindrical-polar-color\u2461" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color" },
                "calculate-a-color-mix": { "dfnID": "calculate-a-color-mix", "dfnText": "calculate a color-mix()", "external": false, "refSections": [], "url": "#calculate-a-color-mix" },
                "ce4cacb8": { "dfnID": "ce4cacb8", "dfnText": "srgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-srgb" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-color-srgb\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb" },
                "ceacaa1c": { "dfnID": "ceacaa1c", "dfnText": "stack", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack" },
                "cee404c5": { "dfnID": "cee404c5", "dfnText": "<hex-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hex-color" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-hex-color" },
                "color-interpolation-method": { "dfnID": "color-interpolation-method", "dfnText": "<color-interpolation-method>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-color-interpolation-method" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-color-interpolation-method\u2460" }, { "id": "ref-for-color-interpolation-method\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#color-interpolation-method" },
                "component-keyword": { "dfnID": "component-keyword", "dfnText": "component keyword", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-component-keyword" }, { "id": "ref-for-component-keyword\u2460" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-component-keyword\u2461" }, { "id": "ref-for-component-keyword\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-component-keyword\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2465" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2466" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2467" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2468" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u24ea" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u2460" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u2461" }, { "id": "ref-for-component-keyword\u2460\u2462" }, { "id": "ref-for-component-keyword\u2460\u2463" }, { "id": "ref-for-component-keyword\u2460\u2464" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#component-keyword" },
                "css-color-profile": { "dfnID": "css-color-profile", "dfnText": "color profile", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-css-color-profile" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-css-color-profile\u2460" }, { "id": "ref-for-css-color-profile\u2461" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-css-color-profile\u2462" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#css-color-profile" },
                "csscolorprofilerule": { "dfnID": "csscolorprofilerule", "dfnText": "CSSColorProfileRule", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-csscolorprofilerule" }], "title": "12.1. The CSSColorProfileRule interface" }, { "refs": [{ "id": "ref-for-csscolorprofilerule\u2460" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#csscolorprofilerule" },
                "d11b143f": { "dfnID": "d11b143f", "dfnText": "a98-rgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-a98-rgb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" },
                "d4441b24": { "dfnID": "d4441b24", "dfnText": "?", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-opt" }, { "id": "ref-for-mult-opt\u2460" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-mult-opt\u2461" }, { "id": "ref-for-mult-opt\u2462" }, { "id": "ref-for-mult-opt\u2463" }, { "id": "ref-for-mult-opt\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2465" }, { "id": "ref-for-mult-opt\u2466" }, { "id": "ref-for-mult-opt\u2467" }, { "id": "ref-for-mult-opt\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u24ea" }, { "id": "ref-for-mult-opt\u2460\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2461" }, { "id": "ref-for-mult-opt\u2460\u2462" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2463" }, { "id": "ref-for-mult-opt\u2460\u2464" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2465" }, { "id": "ref-for-mult-opt\u2460\u2466" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2467" }, { "id": "ref-for-mult-opt\u2460\u2468" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u24ea" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2460" }, { "id": "ref-for-mult-opt\u2461\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2462" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2463" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "d7e1d67b": { "dfnID": "d7e1d67b", "dfnText": "<angle>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-angle-value" }, { "id": "ref-for-angle-value\u2460" }, { "id": "ref-for-angle-value\u2461" }, { "id": "ref-for-angle-value\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#angle-value" },
                "d9909296": { "dfnID": "d9909296", "dfnText": "pi", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-calc-pi" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#valdef-calc-pi" },
                "daabf294": { "dfnID": "daabf294", "dfnText": "rgb()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-rgb" }, { "id": "ref-for-funcdef-rgb\u2460" }, { "id": "ref-for-funcdef-rgb\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2462" }, { "id": "ref-for-funcdef-rgb\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2464" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2465" }, { "id": "ref-for-funcdef-rgb\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2467" }, { "id": "ref-for-funcdef-rgb\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgb" },
                "dcecfc13": { "dfnID": "dcecfc13", "dfnText": "<ident>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-ident" }, { "id": "ref-for-typedef-ident\u2460" }, { "id": "ref-for-typedef-ident\u2461" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-ident\u2462" }, { "id": "ref-for-typedef-ident\u2463" }, { "id": "ref-for-typedef-ident\u2464" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-ident" },
                "descdef-color-profile-components": { "dfnID": "descdef-color-profile-components", "dfnText": "components", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-components" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#descdef-color-profile-components" },
                "descdef-color-profile-rendering-intent": { "dfnID": "descdef-color-profile-rendering-intent", "dfnText": "rendering-intent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-rendering-intent" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#descdef-color-profile-rendering-intent" },
                "descdef-color-profile-src": { "dfnID": "descdef-color-profile-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-src" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#descdef-color-profile-src" },
                "dom-csscolorprofilerule-components": { "dfnID": "dom-csscolorprofilerule-components", "dfnText": "components", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-components" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-components" },
                "dom-csscolorprofilerule-name": { "dfnID": "dom-csscolorprofilerule-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-name" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-name" },
                "dom-csscolorprofilerule-renderingintent": { "dfnID": "dom-csscolorprofilerule-renderingintent", "dfnText": "renderingIntent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-renderingintent" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-renderingintent" },
                "dom-csscolorprofilerule-src": { "dfnID": "dom-csscolorprofilerule-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-src" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-src" },
                "e2a9e9b9": { "dfnID": "e2a9e9b9", "dfnText": "legacy color syntax", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-legacy-color-syntax" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-legacy-color-syntax\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-legacy-color-syntax\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#legacy-color-syntax" },
                "e5db470f": { "dfnID": "e5db470f", "dfnText": "<alpha-value>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-alpha-value" }, { "id": "ref-for-typedef-color-alpha-value\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2461" }, { "id": "ref-for-typedef-color-alpha-value\u2462" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2464" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2465" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2466" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2467" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2468" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u24ea" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" },
                "e98886a5": { "dfnID": "e98886a5", "dfnText": "srgb-linear", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-srgb-linear" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" },
                "ee7bba09": { "dfnID": "ee7bba09", "dfnText": "response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://fetch.spec.whatwg.org/#concept-response" },
                "f0f7ce16": { "dfnID": "f0f7ce16", "dfnText": "premultiplied", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-premultiplied" }, { "id": "ref-for-premultiplied\u2460" }, { "id": "ref-for-premultiplied\u2461" }], "title": "3.5. \n\tEffect of Non-Unity Alpha on color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#premultiplied" },
                "f3226176": { "dfnID": "f3226176", "dfnText": "rgba()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-rgba" }, { "id": "ref-for-funcdef-rgba\u2460" }, { "id": "ref-for-funcdef-rgba\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2462" }, { "id": "ref-for-funcdef-rgba\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2464" }, { "id": "ref-for-funcdef-rgba\u2465" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2466" }, { "id": "ref-for-funcdef-rgba\u2467" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgba" },
                "f3614b7c": { "dfnID": "f3614b7c", "dfnText": "transparent black", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transparent-black" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#transparent-black" },
                "f5b34cad": { "dfnID": "f5b34cad", "dfnText": "<dashed-ident>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-dashed-ident" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2460" }, { "id": "ref-for-typedef-dashed-ident\u2461" }, { "id": "ref-for-typedef-dashed-ident\u2462" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2463" }], "title": "5.2. \n\tCustom Color Spaces\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2464" }, { "id": "ref-for-typedef-dashed-ident\u2465" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2466" }, { "id": "ref-for-typedef-dashed-ident\u2467" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" },
                "f6f69187": { "dfnID": "f6f69187", "dfnText": "color space", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color-space" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-color-space\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-color-space\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#color-space" },
                "f8e15dd7": { "dfnID": "f8e15dd7", "dfnText": "lime", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-lime" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-lime" },
                "fca74142": { "dfnID": "fca74142", "dfnText": "pop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack-pop" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack-pop" },
                "fetch-an-external-color-profile": { "dfnID": "fetch-an-external-color-profile", "dfnText": "fetch an external color profile", "external": false, "refSections": [], "url": "#fetch-an-external-color-profile" },
                "funcdef-alpha": { "dfnID": "funcdef-alpha", "dfnText": "alpha()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-alpha" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-alpha\u2460" }, { "id": "ref-for-funcdef-alpha\u2461" }], "title": "4.10. Relative Alpha Colors" }], "url": "#funcdef-alpha" },
                "funcdef-color": { "dfnID": "funcdef-color", "dfnText": "color()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-color" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-color\u2461" }, { "id": "ref-for-funcdef-color\u2462" }, { "id": "ref-for-funcdef-color\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2464" }, { "id": "ref-for-funcdef-color\u2465" }, { "id": "ref-for-funcdef-color\u2466" }, { "id": "ref-for-funcdef-color\u2467" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-funcdef-color\u2468" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u24ea" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2460" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2461" }], "title": "11.4. \n\tSerializing Custom Color Spaces\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2462" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2463" }], "title": "18.9. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-color" },
                "funcdef-color-mix": { "dfnID": "funcdef-color-mix", "dfnText": "color-mix()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-color-mix" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460" }, { "id": "ref-for-funcdef-color-mix\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2462" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2463" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2464" }], "title": "3.5. \n\tEffect of Non-Unity Alpha on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2465" }, { "id": "ref-for-funcdef-color-mix\u2466" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2467" }], "title": "11. \n\tSerialization\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2468" }, { "id": "ref-for-funcdef-color-mix\u2460\u24ea" }, { "id": "ref-for-funcdef-color-mix\u2460\u2460" }, { "id": "ref-for-funcdef-color-mix\u2460\u2461" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460\u2462" }, { "id": "ref-for-funcdef-color-mix\u2460\u2463" }, { "id": "ref-for-funcdef-color-mix\u2460\u2464" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460\u2465" }], "title": "18.9. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-color-mix" },
                "funcdef-contrast-color": { "dfnID": "funcdef-contrast-color", "dfnText": "contrast-color()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-contrast-color" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2460" }, { "id": "ref-for-funcdef-contrast-color\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2462" }, { "id": "ref-for-funcdef-contrast-color\u2463" }, { "id": "ref-for-funcdef-contrast-color\u2464" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2465" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-contrast-color" },
                "funcdef-device-cmyk": { "dfnID": "funcdef-device-cmyk", "dfnText": "device-cmyk()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-device-cmyk" }, { "id": "ref-for-funcdef-device-cmyk\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2461" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2462" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2463" }, { "id": "ref-for-funcdef-device-cmyk\u2464" }, { "id": "ref-for-funcdef-device-cmyk\u2465" }, { "id": "ref-for-funcdef-device-cmyk\u2466" }, { "id": "ref-for-funcdef-device-cmyk\u2467" }, { "id": "ref-for-funcdef-device-cmyk\u2468" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u24ea" }], "title": "11. \n\tSerialization\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2460" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2461" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2462" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2463" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2464" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2465" }], "title": "18.9. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-device-cmyk" },
                "funcdef-hwb": { "dfnID": "funcdef-hwb", "dfnText": "hwb()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hwb" }, { "id": "ref-for-funcdef-hwb\u2460" }, { "id": "ref-for-funcdef-hwb\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2462" }, { "id": "ref-for-funcdef-hwb\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2466" }, { "id": "ref-for-funcdef-hwb\u2467" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-hwb" },
                "funcdef-lab": { "dfnID": "funcdef-lab", "dfnText": "lab()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-lab" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2460" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2461" }, { "id": "ref-for-funcdef-lab\u2462" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2463" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2464" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-lab" },
                "funcdef-lch": { "dfnID": "funcdef-lch", "dfnText": "lch()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-lch" }, { "id": "ref-for-funcdef-lch\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2462" }, { "id": "ref-for-funcdef-lch\u2463" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-lch" },
                "funcdef-light-dark": { "dfnID": "funcdef-light-dark", "dfnText": "light-dark()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-light-dark" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2460" }, { "id": "ref-for-funcdef-light-dark\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2462" }, { "id": "ref-for-funcdef-light-dark\u2463" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2464" }, { "id": "ref-for-funcdef-light-dark\u2465" }], "title": "18.4. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-light-dark" },
                "funcdef-oklab": { "dfnID": "funcdef-oklab", "dfnText": "oklab()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-oklab" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2460" }, { "id": "ref-for-funcdef-oklab\u2461" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2462" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2463" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-oklab" },
                "funcdef-oklch": { "dfnID": "funcdef-oklch", "dfnText": "oklch()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-oklch" }, { "id": "ref-for-funcdef-oklch\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2462" }, { "id": "ref-for-funcdef-oklch\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-oklch" },
                "gamut-map": { "dfnID": "gamut-map", "dfnText": "gamut-map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gamut-map" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#gamut-map" },
                "invalid-color": { "dfnID": "invalid-color", "dfnText": "invalid color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-invalid-color" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-invalid-color\u2460" }, { "id": "ref-for-invalid-color\u2461" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-invalid-color\u2462" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#invalid-color" },
                "naively-convert-from-cmyk-to-rgba": { "dfnID": "naively-convert-from-cmyk-to-rgba", "dfnText": "naively convert from CMYK to RGBA", "external": false, "refSections": [], "url": "#naively-convert-from-cmyk-to-rgba" },
                "naively-convert-from-rgba-to-cmyk": { "dfnID": "naively-convert-from-rgba-to-cmyk", "dfnText": "naively convert from RGBA to CMYK", "external": false, "refSections": [], "url": "#naively-convert-from-rgba-to-cmyk" },
                "origin-color": { "dfnID": "origin-color", "dfnText": "origin color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-origin-color" }, { "id": "ref-for-origin-color\u2460" }, { "id": "ref-for-origin-color\u2461" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-origin-color\u2462" }, { "id": "ref-for-origin-color\u2463" }, { "id": "ref-for-origin-color\u2464" }, { "id": "ref-for-origin-color\u2465" }, { "id": "ref-for-origin-color\u2466" }, { "id": "ref-for-origin-color\u2467" }, { "id": "ref-for-origin-color\u2468" }, { "id": "ref-for-origin-color\u2460\u24ea" }, { "id": "ref-for-origin-color\u2460\u2460" }, { "id": "ref-for-origin-color\u2460\u2461" }, { "id": "ref-for-origin-color\u2460\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2463" }, { "id": "ref-for-origin-color\u2460\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2465" }, { "id": "ref-for-origin-color\u2460\u2466" }, { "id": "ref-for-origin-color\u2460\u2467" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2468" }, { "id": "ref-for-origin-color\u2461\u24ea" }, { "id": "ref-for-origin-color\u2461\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2461" }, { "id": "ref-for-origin-color\u2461\u2462" }, { "id": "ref-for-origin-color\u2461\u2463" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2464" }, { "id": "ref-for-origin-color\u2461\u2465" }, { "id": "ref-for-origin-color\u2461\u2466" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2467" }, { "id": "ref-for-origin-color\u2461\u2468" }, { "id": "ref-for-origin-color\u2462\u24ea" }, { "id": "ref-for-origin-color\u2462\u2460" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2461" }, { "id": "ref-for-origin-color\u2462\u2462" }, { "id": "ref-for-origin-color\u2462\u2463" }, { "id": "ref-for-origin-color\u2462\u2464" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2465" }, { "id": "ref-for-origin-color\u2462\u2466" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2467" }, { "id": "ref-for-origin-color\u2462\u2468" }, { "id": "ref-for-origin-color\u2463\u24ea" }, { "id": "ref-for-origin-color\u2463\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2463\u2461" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-origin-color\u2463\u2462" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#origin-color" },
                "originally-specified-color-space": { "dfnID": "originally-specified-color-space", "dfnText": "originally specified color space", "external": false, "refSections": [], "url": "#originally-specified-color-space" },
                "out-of-gamut": { "dfnID": "out-of-gamut", "dfnText": "out of gamut", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-out-of-gamut" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#out-of-gamut" },
                "relative-color": { "dfnID": "relative-color", "dfnText": "relative color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-relative-color" }, { "id": "ref-for-relative-color\u2460" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-relative-color\u2461" }, { "id": "ref-for-relative-color\u2462" }, { "id": "ref-for-relative-color\u2463" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-relative-color\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2465" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2466" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2467" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2468" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u24ea" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2460" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2461" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2462" }, { "id": "ref-for-relative-color\u2460\u2463" }, { "id": "ref-for-relative-color\u2460\u2464" }, { "id": "ref-for-relative-color\u2460\u2465" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2466" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#relative-color" },
                "required-conversion": { "dfnID": "required-conversion", "dfnText": "Required conversion", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-required-conversion" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460" }, { "id": "ref-for-required-conversion\u2461" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2462" }, { "id": "ref-for-required-conversion\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2464" }, { "id": "ref-for-required-conversion\u2465" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2466" }, { "id": "ref-for-required-conversion\u2467" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2468" }, { "id": "ref-for-required-conversion\u2460\u24ea" }, { "id": "ref-for-required-conversion\u2460\u2460" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460\u2461" }, { "id": "ref-for-required-conversion\u2460\u2462" }, { "id": "ref-for-required-conversion\u2460\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460\u2464" }, { "id": "ref-for-required-conversion\u2460\u2465" }, { "id": "ref-for-required-conversion\u2460\u2466" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#required-conversion" },
                "resolve-to-srgb": { "dfnID": "resolve-to-srgb", "dfnText": "resolve to sRGB", "external": false, "refSections": [], "url": "#resolve-to-srgb" },
                "support-legacy-color-syntax": { "dfnID": "support-legacy-color-syntax", "dfnText": "support legacy color syntax", "external": false, "refSections": [], "url": "#support-legacy-color-syntax" },
                "typedef-cmyk-component": { "dfnID": "typedef-cmyk-component", "dfnText": "<cmyk-component>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-cmyk-component" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-cmyk-component" },
                "typedef-color": { "dfnID": "typedef-color", "dfnText": "<color>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color" }, { "id": "ref-for-typedef-color\u2460" }, { "id": "ref-for-typedef-color\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-typedef-color\u2462" }, { "id": "ref-for-typedef-color\u2463" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-typedef-color\u2464" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2465" }, { "id": "ref-for-typedef-color\u2466" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2467" }, { "id": "ref-for-typedef-color\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u24ea" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2460" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2461" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2462" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2464" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2465" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2466" }, { "id": "ref-for-typedef-color\u2460\u2467" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2468" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u24ea" }], "title": "10. \n\tResolving <color> Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2460" }, { "id": "ref-for-typedef-color\u2461\u2461" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2462" }, { "id": "ref-for-typedef-color\u2461\u2463" }, { "id": "ref-for-typedef-color\u2461\u2464" }], "title": "10.2. \n\tResolving Relative Color Syntax Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2465" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2466" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#typedef-color" },
                "typedef-color-base": { "dfnID": "typedef-color-base", "dfnText": "<color-base>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-base" }], "title": "2. The <color> syntax" }], "url": "#typedef-color-base" },
                "typedef-color-function": { "dfnID": "typedef-color-function", "dfnText": "<color-function>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-function" }], "title": "2. The <color> syntax" }], "url": "#typedef-color-function" },
                "typedef-color-space": { "dfnID": "typedef-color-space", "dfnText": "<color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-space" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2460" }, { "id": "ref-for-typedef-color-space\u2461" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2462" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2463" }], "title": "18.8. \n\tSince the FPWD of 10 June 2020\n" }], "url": "#typedef-color-space" },
                "typedef-colorspace-params": { "dfnID": "typedef-colorspace-params", "dfnText": "<colorspace-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-colorspace-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-colorspace-params" },
                "typedef-custom-color-space": { "dfnID": "typedef-custom-color-space", "dfnText": "<custom-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-custom-color-space" }, { "id": "ref-for-typedef-custom-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-custom-color-space" },
                "typedef-custom-params": { "dfnID": "typedef-custom-params", "dfnText": "<custom-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-custom-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-custom-params\u2460" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-custom-params" },
                "typedef-hue-interpolation-method": { "dfnID": "typedef-hue-interpolation-method", "dfnText": "<hue-interpolation-method>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hue-interpolation-method" }, { "id": "ref-for-typedef-hue-interpolation-method\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-typedef-hue-interpolation-method\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-hue-interpolation-method" },
                "typedef-legacy-device-cmyk-syntax": { "dfnID": "typedef-legacy-device-cmyk-syntax", "dfnText": "<legacy-device-cmyk-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-legacy-device-cmyk-syntax" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-legacy-device-cmyk-syntax" },
                "typedef-modern-device-cmyk-syntax": { "dfnID": "typedef-modern-device-cmyk-syntax", "dfnText": "<modern-device-cmyk-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-device-cmyk-syntax" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-modern-device-cmyk-syntax" },
                "typedef-modern-hsl-syntax": { "dfnID": "typedef-modern-hsl-syntax", "dfnText": "<modern-hsl-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-hsl-syntax" }], "title": "4.4. Relative HSL Colors" }], "url": "#typedef-modern-hsl-syntax" },
                "typedef-modern-hsla-syntax": { "dfnID": "typedef-modern-hsla-syntax", "dfnText": "<modern-hsla-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-hsla-syntax" }], "title": "4.4. Relative HSL Colors" }], "url": "#typedef-modern-hsla-syntax" },
                "typedef-modern-rgb-syntax": { "dfnID": "typedef-modern-rgb-syntax", "dfnText": "<modern-rgb-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-rgb-syntax" }], "title": "4.3. Relative sRGB Colors" }], "url": "#typedef-modern-rgb-syntax" },
                "typedef-modern-rgba-syntax": { "dfnID": "typedef-modern-rgba-syntax", "dfnText": "<modern-rgba-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-rgba-syntax" }], "title": "4.3. Relative sRGB Colors" }], "url": "#typedef-modern-rgba-syntax" },
                "typedef-polar-color-space": { "dfnID": "typedef-polar-color-space", "dfnText": "<polar-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-polar-color-space" }, { "id": "ref-for-typedef-polar-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-polar-color-space" },
                "typedef-predefined-rgb": { "dfnID": "typedef-predefined-rgb", "dfnText": "<predefined-rgb>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-predefined-rgb" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-predefined-rgb" },
                "typedef-predefined-rgb-params": { "dfnID": "typedef-predefined-rgb-params", "dfnText": "<predefined-rgb-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-predefined-rgb-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-predefined-rgb-params\u2460" }, { "id": "ref-for-typedef-predefined-rgb-params\u2461" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-predefined-rgb-params" },
                "typedef-rectangular-color-space": { "dfnID": "typedef-rectangular-color-space", "dfnText": "<rectangular-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-rectangular-color-space" }, { "id": "ref-for-typedef-rectangular-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-rectangular-color-space" },
                "typedef-xyz-params": { "dfnID": "typedef-xyz-params", "dfnText": "<xyz-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-xyz-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-xyz-params\u2460" }, { "id": "ref-for-typedef-xyz-params\u2461" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-xyz-params" },
                "valdef-alpha-alpha": { "dfnID": "valdef-alpha-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-alpha-alpha" },
                "valdef-color-alpha": { "dfnID": "valdef-color-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-color-alpha" },
                "valdef-color-b": { "dfnID": "valdef-color-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-color-b" },
                "valdef-color-g": { "dfnID": "valdef-color-g", "dfnText": "g", "external": false, "refSections": [], "url": "#valdef-color-g" },
                "valdef-color-profile-rendering-intent-absolute-colorimetric": { "dfnID": "valdef-color-profile-rendering-intent-absolute-colorimetric", "dfnText": "absolute-colorimetric", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-absolute-colorimetric" },
                "valdef-color-profile-rendering-intent-perceptual": { "dfnID": "valdef-color-profile-rendering-intent-perceptual", "dfnText": "perceptual", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-perceptual" },
                "valdef-color-profile-rendering-intent-relative-colorimetric": { "dfnID": "valdef-color-profile-rendering-intent-relative-colorimetric", "dfnText": "relative-colorimetric", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-relative-colorimetric" },
                "valdef-color-profile-rendering-intent-saturation": { "dfnID": "valdef-color-profile-rendering-intent-saturation", "dfnText": "saturation", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-saturation" },
                "valdef-color-r": { "dfnID": "valdef-color-r", "dfnText": "r", "external": false, "refSections": [], "url": "#valdef-color-r" },
                "valdef-color-x": { "dfnID": "valdef-color-x", "dfnText": "x", "external": false, "refSections": [], "url": "#valdef-color-x" },
                "valdef-color-y": { "dfnID": "valdef-color-y", "dfnText": "y", "external": false, "refSections": [], "url": "#valdef-color-y" },
                "valdef-color-z": { "dfnID": "valdef-color-z", "dfnText": "z", "external": false, "refSections": [], "url": "#valdef-color-z" },
                "valdef-hsl-alpha": { "dfnID": "valdef-hsl-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-hsl-alpha" },
                "valdef-hsl-h": { "dfnID": "valdef-hsl-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-hsl-h" },
                "valdef-hsl-l": { "dfnID": "valdef-hsl-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-hsl-l" },
                "valdef-hsl-s": { "dfnID": "valdef-hsl-s", "dfnText": "s", "external": false, "refSections": [], "url": "#valdef-hsl-s" },
                "valdef-hwb-alpha": { "dfnID": "valdef-hwb-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-hwb-alpha" },
                "valdef-hwb-b": { "dfnID": "valdef-hwb-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-hwb-b" },
                "valdef-hwb-h": { "dfnID": "valdef-hwb-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-hwb-h" },
                "valdef-hwb-w": { "dfnID": "valdef-hwb-w", "dfnText": "w", "external": false, "refSections": [], "url": "#valdef-hwb-w" },
                "valdef-lab-a": { "dfnID": "valdef-lab-a", "dfnText": "a", "external": false, "refSections": [], "url": "#valdef-lab-a" },
                "valdef-lab-alpha": { "dfnID": "valdef-lab-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-lab-alpha" },
                "valdef-lab-b": { "dfnID": "valdef-lab-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-lab-b" },
                "valdef-lab-l": { "dfnID": "valdef-lab-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-lab-l" },
                "valdef-lch-alpha": { "dfnID": "valdef-lch-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-lch-alpha" },
                "valdef-lch-c": { "dfnID": "valdef-lch-c", "dfnText": "c", "external": false, "refSections": [], "url": "#valdef-lch-c" },
                "valdef-lch-h": { "dfnID": "valdef-lch-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-lch-h" },
                "valdef-lch-l": { "dfnID": "valdef-lch-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-lch-l" },
                "valdef-oklab-a": { "dfnID": "valdef-oklab-a", "dfnText": "a", "external": false, "refSections": [], "url": "#valdef-oklab-a" },
                "valdef-oklab-alpha": { "dfnID": "valdef-oklab-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-oklab-alpha" },
                "valdef-oklab-b": { "dfnID": "valdef-oklab-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-oklab-b" },
                "valdef-oklab-l": { "dfnID": "valdef-oklab-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-oklab-l" },
                "valdef-oklch-alpha": { "dfnID": "valdef-oklch-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-oklch-alpha" },
                "valdef-oklch-c": { "dfnID": "valdef-oklch-c", "dfnText": "c", "external": false, "refSections": [], "url": "#valdef-oklch-c" },
                "valdef-oklch-h": { "dfnID": "valdef-oklch-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-oklch-h" },
                "valdef-oklch-l": { "dfnID": "valdef-oklch-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-oklch-l" },
                "valdef-rgb-alpha": { "dfnID": "valdef-rgb-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-rgb-alpha" },
                "valdef-rgb-b": { "dfnID": "valdef-rgb-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-rgb-b" },
                "valdef-rgb-g": { "dfnID": "valdef-rgb-g", "dfnText": "g", "external": false, "refSections": [], "url": "#valdef-rgb-g" },
                "valdef-rgb-r": { "dfnID": "valdef-rgb-r", "dfnText": "r", "external": false, "refSections": [], "url": "#valdef-rgb-r" },
                "valid-color": { "dfnID": "valid-color", "dfnText": "valid color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valid-color" }, { "id": "ref-for-valid-color\u2460" }, { "id": "ref-for-valid-color\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-valid-color\u2462" }, { "id": "ref-for-valid-color\u2463" }, { "id": "ref-for-valid-color\u2464" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#valid-color" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-link-titles */
        "use strict";
        {
            let linkTitleData = {
                "https://www.w3.org/TR/css-values-4/#angle-value": "Expands to: deg | grad | rad | turn",
                "https://www.w3.org/TR/css-values-4/#url-value": "Expands to: local url flag",
            };

            function setTypeTitles() {
                for (let el of document.querySelectorAll("a[href]")) {
                    if (el.href in linkTitleData && !el.hasAttribute("title")) {
                        el.setAttribute("title", linkTitleData[el.href]);
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", setTypeTitles);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#at-ruledef-profile": { "displayText": "@color-profile", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "@color-profile", "type": "at-rule", "url": "#at-ruledef-profile" },
                "#color-interpolation-method": { "displayText": "<color-interpolation-method>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-interpolation-method>", "type": "type", "url": "#color-interpolation-method" },
                "#component-keyword": { "displayText": "component keyword", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "component keyword", "type": "dfn", "url": "#component-keyword" },
                "#css-color-profile": { "displayText": "color profile", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color profile", "type": "dfn", "url": "#css-color-profile" },
                "#csscolorprofilerule": { "displayText": "CSSColorProfileRule", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "CSSColorProfileRule", "type": "interface", "url": "#csscolorprofilerule" },
                "#descdef-color-profile-components": { "displayText": "components", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "components", "type": "descriptor", "url": "#descdef-color-profile-components" },
                "#descdef-color-profile-rendering-intent": { "displayText": "rendering-intent", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "rendering-intent", "type": "descriptor", "url": "#descdef-color-profile-rendering-intent" },
                "#descdef-color-profile-src": { "displayText": "src", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "src", "type": "descriptor", "url": "#descdef-color-profile-src" },
                "#dom-csscolorprofilerule-components": { "displayText": "components", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "components", "type": "attribute", "url": "#dom-csscolorprofilerule-components" },
                "#dom-csscolorprofilerule-name": { "displayText": "name", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "name", "type": "attribute", "url": "#dom-csscolorprofilerule-name" },
                "#dom-csscolorprofilerule-renderingintent": { "displayText": "renderingIntent", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "renderingIntent", "type": "attribute", "url": "#dom-csscolorprofilerule-renderingintent" },
                "#dom-csscolorprofilerule-src": { "displayText": "src", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "src", "type": "attribute", "url": "#dom-csscolorprofilerule-src" },
                "#funcdef-alpha": { "displayText": "alpha()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "alpha()", "type": "function", "url": "#funcdef-alpha" },
                "#funcdef-color": { "displayText": "color()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color()", "type": "function", "url": "#funcdef-color" },
                "#funcdef-color-mix": { "displayText": "color-mix()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color-mix()", "type": "function", "url": "#funcdef-color-mix" },
                "#funcdef-contrast-color": { "displayText": "contrast-color()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "contrast-color()", "type": "function", "url": "#funcdef-contrast-color" },
                "#funcdef-device-cmyk": { "displayText": "device-cmyk()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "device-cmyk()", "type": "function", "url": "#funcdef-device-cmyk" },
                "#funcdef-hwb": { "displayText": "hwb()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "hwb()", "type": "function", "url": "#funcdef-hwb" },
                "#funcdef-lab": { "displayText": "lab()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "lab()", "type": "function", "url": "#funcdef-lab" },
                "#funcdef-lch": { "displayText": "lch()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "lch()", "type": "function", "url": "#funcdef-lch" },
                "#funcdef-light-dark": { "displayText": "light-dark()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "light-dark()", "type": "function", "url": "#funcdef-light-dark" },
                "#funcdef-oklab": { "displayText": "oklab()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "oklab()", "type": "function", "url": "#funcdef-oklab" },
                "#funcdef-oklch": { "displayText": "oklch()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "oklch()", "type": "function", "url": "#funcdef-oklch" },
                "#gamut-map": { "displayText": "gamut-map", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "gamut-map", "type": "dfn", "url": "#gamut-map" },
                "#invalid-color": { "displayText": "invalid color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "invalid color", "type": "dfn", "url": "#invalid-color" },
                "#origin-color": { "displayText": "origin color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "origin color", "type": "dfn", "url": "#origin-color" },
                "#out-of-gamut": { "displayText": "out of gamut", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "out of gamut", "type": "dfn", "url": "#out-of-gamut" },
                "#relative-color": { "displayText": "relative color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "relative color", "type": "dfn", "url": "#relative-color" },
                "#required-conversion": { "displayText": "required conversion", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "required conversion", "type": "dfn", "url": "#required-conversion" },
                "#typedef-cmyk-component": { "displayText": "<cmyk-component>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<cmyk-component>", "type": "type", "url": "#typedef-cmyk-component" },
                "#typedef-color": { "displayText": "<color>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color>", "type": "type", "url": "#typedef-color" },
                "#typedef-color-base": { "displayText": "<color-base>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-base>", "type": "type", "url": "#typedef-color-base" },
                "#typedef-color-function": { "displayText": "<color-function>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-function>", "type": "type", "url": "#typedef-color-function" },
                "#typedef-color-space": { "displayText": "<color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-space>", "type": "type", "url": "#typedef-color-space" },
                "#typedef-colorspace-params": { "displayText": "<colorspace-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<colorspace-params>", "type": "type", "url": "#typedef-colorspace-params" },
                "#typedef-custom-color-space": { "displayText": "<custom-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<custom-color-space>", "type": "type", "url": "#typedef-custom-color-space" },
                "#typedef-custom-params": { "displayText": "<custom-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<custom-params>", "type": "type", "url": "#typedef-custom-params" },
                "#typedef-hue-interpolation-method": { "displayText": "<hue-interpolation-method>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<hue-interpolation-method>", "type": "type", "url": "#typedef-hue-interpolation-method" },
                "#typedef-legacy-device-cmyk-syntax": { "displayText": "<legacy-device-cmyk-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<legacy-device-cmyk-syntax>", "type": "type", "url": "#typedef-legacy-device-cmyk-syntax" },
                "#typedef-modern-device-cmyk-syntax": { "displayText": "<modern-device-cmyk-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-device-cmyk-syntax>", "type": "type", "url": "#typedef-modern-device-cmyk-syntax" },
                "#typedef-modern-hsl-syntax": { "displayText": "<modern-hsl-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-hsl-syntax>", "type": "type", "url": "#typedef-modern-hsl-syntax" },
                "#typedef-modern-hsla-syntax": { "displayText": "<modern-hsla-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-hsla-syntax>", "type": "type", "url": "#typedef-modern-hsla-syntax" },
                "#typedef-modern-rgb-syntax": { "displayText": "<modern-rgb-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-rgb-syntax>", "type": "type", "url": "#typedef-modern-rgb-syntax" },
                "#typedef-modern-rgba-syntax": { "displayText": "<modern-rgba-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-rgba-syntax>", "type": "type", "url": "#typedef-modern-rgba-syntax" },
                "#typedef-polar-color-space": { "displayText": "<polar-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<polar-color-space>", "type": "type", "url": "#typedef-polar-color-space" },
                "#typedef-predefined-rgb": { "displayText": "<predefined-rgb>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<predefined-rgb>", "type": "type", "url": "#typedef-predefined-rgb" },
                "#typedef-predefined-rgb-params": { "displayText": "<predefined-rgb-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<predefined-rgb-params>", "type": "type", "url": "#typedef-predefined-rgb-params" },
                "#typedef-rectangular-color-space": { "displayText": "<rectangular-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<rectangular-color-space>", "type": "type", "url": "#typedef-rectangular-color-space" },
                "#typedef-xyz-params": { "displayText": "<xyz-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<xyz-params>", "type": "type", "url": "#typedef-xyz-params" },
                "#valid-color": { "displayText": "valid color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "valid color", "type": "dfn", "url": "#valid-color" },
                "https://drafts.csswg.org/css-color-4/#color-functions": { "displayText": "color functions", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "current", "text": "color functions", "type": "dfn", "url": "https://drafts.csswg.org/css-color-4/#color-functions" },
                "https://drafts.csswg.org/css-values-5/#mix-item": { "displayText": "mix item", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-values", "spec": "css-values-5", "status": "current", "text": "mix item", "type": "dfn", "url": "https://drafts.csswg.org/css-values-5/#mix-item" },
                "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages": { "displayText": "normalize mix percentages", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-values", "spec": "css-values-5", "status": "current", "text": "normalize mix percentages", "type": "dfn", "url": "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages" },
                "https://fetch.spec.whatwg.org/#concept-response": { "displayText": "response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response" },
                "https://infra.spec.whatwg.org/#ascii-case-insensitive": { "displayText": "ASCII case-insensitive", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii case-insensitive", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "https://infra.spec.whatwg.org/#stack": { "displayText": "stack", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "stack", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack" },
                "https://infra.spec.whatwg.org/#stack-pop": { "displayText": "pop", "export": true, "for_": ["stack"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "pop", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack-pop" },
                "https://infra.spec.whatwg.org/#stack-push": { "displayText": "push", "export": true, "for_": ["stack"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "push", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack-push" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://www.w3.org/TR/css-cascade-5/#actual-value": { "displayText": "actual value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "actual value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#actual-value" },
                "https://www.w3.org/TR/css-cascade-5/#computed-value": { "displayText": "computed value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "computed value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "https://www.w3.org/TR/css-color-4/#analogous-components": { "displayText": "analogous components", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "analogous components", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#analogous-components" },
                "https://www.w3.org/TR/css-color-4/#carried-forward": { "displayText": "carried forward", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "carried forward", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#carried-forward" },
                "https://www.w3.org/TR/css-color-4/#color": { "displayText": "color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#color" },
                "https://www.w3.org/TR/css-color-4/#color-space": { "displayText": "color space", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color space", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#color-space" },
                "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color": { "displayText": "cylindrical polar color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "cylindrical polar color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color" },
                "https://www.w3.org/TR/css-color-4/#funcdef-hsl": { "displayText": "hsl()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsl()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsl" },
                "https://www.w3.org/TR/css-color-4/#funcdef-hsla": { "displayText": "hsla()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsla()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsla" },
                "https://www.w3.org/TR/css-color-4/#funcdef-rgb": { "displayText": "rgb()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rgb()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgb" },
                "https://www.w3.org/TR/css-color-4/#funcdef-rgba": { "displayText": "rgba()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rgba()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgba" },
                "https://www.w3.org/TR/css-color-4/#legacy-color-syntax": { "displayText": "legacy color syntax", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "legacy color syntax", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#legacy-color-syntax" },
                "https://www.w3.org/TR/css-color-4/#modern-color-syntax": { "displayText": "modern color syntax", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "modern color syntax", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#modern-color-syntax" },
                "https://www.w3.org/TR/css-color-4/#premultiplied": { "displayText": "premultiplied", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "premultiplied", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#premultiplied" },
                "https://www.w3.org/TR/css-color-4/#propdef-color": { "displayText": "color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "property", "url": "https://www.w3.org/TR/css-color-4/#propdef-color" },
                "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color": { "displayText": "rectangular orthogonal color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rectangular orthogonal color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color" },
                "https://www.w3.org/TR/css-color-4/#transparent-black": { "displayText": "transparent black", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "transparent black", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#transparent-black" },
                "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value": { "displayText": "<alpha-value>", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<alpha-value>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" },
                "https://www.w3.org/TR/css-color-4/#typedef-hex-color": { "displayText": "<hex-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<hex-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-hex-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-hue": { "displayText": "<hue>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<hue>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-hue" },
                "https://www.w3.org/TR/css-color-4/#typedef-named-color": { "displayText": "<named-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<named-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-named-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-system-color": { "displayText": "<system-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<system-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-system-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-xyz-space": { "displayText": "<xyz-space>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<xyz-space>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-xyz-space" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb": { "displayText": "a98-rgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "a98-rgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-black": { "displayText": "black", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "black", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-black" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-blue": { "displayText": "blue", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "blue", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-blue" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor": { "displayText": "currentcolor", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "currentcolor", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen": { "displayText": "darkolivegreen", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "darkolivegreen", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3": { "displayText": "display-p3", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "display-p3", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-lime": { "displayText": "lime", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lime", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-lime" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-none": { "displayText": "none", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-none" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb": { "displayText": "prophoto-rgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "prophoto-rgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020": { "displayText": "rec2020", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rec2020", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-red": { "displayText": "red", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "red", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-red" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-srgb": { "displayText": "srgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "srgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear": { "displayText": "srgb-linear", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "srgb-linear", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-white": { "displayText": "white", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "white", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-white" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz": { "displayText": "xyz", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65": { "displayText": "xyz-d65", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz-d65", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" },
                "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl": { "displayText": "HSL", "export": true, "for_": ["hsl()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsl", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" },
                "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb": { "displayText": "HWB", "export": true, "for_": ["hwb()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hwb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" },
                "https://www.w3.org/TR/css-color-4/#valdef-lab-lab": { "displayText": "lab", "export": true, "for_": ["lab()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lab", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-lab-lab" },
                "https://www.w3.org/TR/css-color-4/#valdef-lch-lch": { "displayText": "LCH", "export": true, "for_": ["lch()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lch", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-lch-lch" },
                "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab": { "displayText": "oklab", "export": true, "for_": ["oklab()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "oklab", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" },
                "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch": { "displayText": "OKLCh", "export": true, "for_": ["oklch()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "oklch", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" },
                "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme": { "displayText": "used color scheme", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "used color scheme", "type": "dfn", "url": "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme" },
                "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark": { "displayText": "dark", "export": true, "for_": ["color-scheme"], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "dark", "type": "value", "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark" },
                "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light": { "displayText": "light", "export": true, "for_": ["color-scheme"], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "light", "type": "value", "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light" },
                "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list": { "displayText": "<declaration-list>", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "<declaration-list>", "type": "type", "url": "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" },
                "https://www.w3.org/TR/css-values-4/#angle-value": { "displayText": "<angle>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<angle>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#angle-value" },
                "https://www.w3.org/TR/css-values-4/#canonical-unit": { "displayText": "canonical unit", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "canonical unit", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#canonical-unit" },
                "https://www.w3.org/TR/css-values-4/#comb-all": { "displayText": "&&", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "&&", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-all" },
                "https://www.w3.org/TR/css-values-4/#comb-comma": { "displayText": ",", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": ",", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-comma" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "displayText": "|", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource": { "displayText": "fetch a style resource", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "fetch a style resource", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource" },
                "https://www.w3.org/TR/css-values-4/#funcdef-calc": { "displayText": "calc()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "calc()", "type": "function", "url": "https://www.w3.org/TR/css-values-4/#funcdef-calc" },
                "https://www.w3.org/TR/css-values-4/#math-function": { "displayText": "math function", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "math function", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#math-function" },
                "https://www.w3.org/TR/css-values-4/#mult-comma": { "displayText": "#", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "#", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-comma" },
                "https://www.w3.org/TR/css-values-4/#mult-num": { "displayText": "{A}", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "{a}", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-num" },
                "https://www.w3.org/TR/css-values-4/#mult-one-plus": { "displayText": "+", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "+", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-one-plus" },
                "https://www.w3.org/TR/css-values-4/#mult-opt": { "displayText": "?", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "?", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "https://www.w3.org/TR/css-values-4/#number-value": { "displayText": "<number>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<number>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "https://www.w3.org/TR/css-values-4/#percentage-value": { "displayText": "<percentage>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<percentage>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident": { "displayText": "<dashed-ident>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<dashed-ident>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" },
                "https://www.w3.org/TR/css-values-4/#typedef-ident": { "displayText": "<ident>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<ident>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-ident" },
                "https://www.w3.org/TR/css-values-4/#url-value": { "displayText": "<url>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<url>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "https://www.w3.org/TR/css-values-4/#valdef-calc-pi": { "displayText": "pi", "export": true, "for_": ["calc()"], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "pi", "type": "value", "url": "https://www.w3.org/TR/css-values-4/#valdef-calc-pi" },
                "https://www.w3.org/TR/cssom-1/#cssomstring": { "displayText": "CSSOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSOMString", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "https://www.w3.org/TR/cssom-1/#cssrule": { "displayText": "CSSRule", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSRule", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script>/* Boilerplate: script-wpt */
        "use strict";
        {
            let wptData = {
                "paths": ["/css/css-color/", "/css/css-pseudo/", "/html/canvas/"],
            };

            document.addEventListener("DOMContentLoaded", async () => {
                if (wptData.paths.length == 0) return;

                const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
                const runs = await (await fetch(runsUrl)).json();

                let testResults = [];
                for (const pathPrefix of wptData.paths) {
                    const pathResults = await (await fetch("https://wpt.fyi/api/search", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            "run_ids": runs.map(x => x.id),
                            "query": { "path": pathPrefix },
                        })
                    })).json();
                    testResults = testResults.concat(pathResults.results);
                }

                const browsers = runs.map(x => ({ name: x.browser_name, version: x.browser_version, passes: 0, total: 0 }));
                const resultsFromPath = new Map(testResults.map(result => {
                    const testPath = result.test;
                    const passes = result.legacy_status.map(x => [x.passes, x.total]);
                    return [testPath, passes];
                }));
                const seenTests = new Set();
                document.querySelectorAll(".wpt-name").forEach(nameEl => {
                    const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
                    if (!passData) {
                        console.log("Couldn't find test in results:", nameEl);
                        return
                    }
                    const numTests = passData[0][1];
                    if (numTests > 1) {
                        nameEl.insertAdjacentElement("beforeend",
                            mk.small({}, ` (${numTests} tests)`));
                    }
                    if (passData == undefined) return;
                    const resultsEl = mk.span({ "class": "wpt-results" },
                        ...passData.map((p, i) => mk.span(
                            {
                                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                                "class": "wpt-result",
                                "style": `background: conic-gradient(forestgreen ${p[0] / p[1] * 360}deg, darkred 0deg);`,
                            })),
                    );
                    nameEl.insertAdjacentElement("afterend", resultsEl);

                    // Only update the summary pass/total count if we haven't seen this
                    // test before, to support authors listing the same test multiple times
                    // in a spec.
                    if (!seenTests.has(nameEl.getAttribute("title"))) {
                        seenTests.add(nameEl.getAttribute("title"));
                        passData.forEach((p, i) => {
                            browsers[i].passes += p[0];
                            browsers[i].total += p[1];
                        });
                    }
                });
                const overview = document.querySelector(".wpt-overview");
                if (overview) {
                    overview.appendChild(mk.ul({}, ...browsers.map(formatWptResult)));
                    document.head.appendChild(mk.style({},
                        `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
                }
            });

            function formatWptResult({ name, version, passes, total }) {
                const passRate = passes / total;
                let passClass = "";
                if (passRate == 0) passClass = "passes-none";
                else if (passRate < .2) passClass = "passes-hardly";
                else if (passRate < .4) passClass = "passes-a-few";
                else if (passRate < .6) passClass = "passes-half";
                else if (passRate < .8) passClass = "passes-lots";
                else if (passRate < 1) passClass = "passes-most";
                else passClass = "passes-all";

                name = name[0].toUpperCase() + name.slice(1);
                const shortVersion = /^\d+/.exec(version);
                const icon = []

                if (name == "Chrome") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/chrome_64x64.png" }));
                if (name == "Edge") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/edge_64x64.png" }));
                if (name == "Safari") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/safari_64x64.png" }));
                if (name == "Firefox") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/firefox_64x64.png" }));

                return mk.li({ "class": passClass },
                    mk.nobr({ 'class': 'browser' }, ...icon, ` ${name} ${shortVersion}`),
                    mk.br(),
                    mk.nobr({ 'class': 'pass-rate' }, `${passes}/${total}`)
                );
            }
        }
    </script>
    <script src="/dropdown.js"></script>