<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 颜色模块 第5级</title>
    <meta content="WD" name="w3c-status">
    <!-- <meta content="Bikeshed version 4b8aed3f7, updated Thu Mar 6 12:35:01 2025 -0800" name="generator"> -->
    <link href="https://www.w3.org/TR/css-color-5/" rel="canonical">
    <!-- <meta content="2e37f85c673df18fb79998c96124aab9d87e321f" name="revision"> -->
    <meta content="dark light" name="color-scheme">
    <link href="https://www.w3.org/TR/css-color-5/style.css" rel="stylesheet">
    <style>
        table.deltaE td {
            border: 4px solid white;
            padding: 6px;
            font-size: 1.4em;
            color: black;
        }

        table.deltaE td.dE0 {
            background: rgb(68, 243, 91)
        }

        table.deltaE td.dE1 {
            background: rgb(153, 243, 68)
        }

        table.deltaE td.dE2 {
            background: rgb(217, 243, 68)
        }

        table.deltaE td.dE3 {
            background: rgb(243, 240, 68)
        }

        table.deltaE td.dE4 {
            background: rgb(243, 202, 68)
        }

        table.deltaE td.dE5 {
            background: rgb(243, 103, 68);
            color: white
        }

        table.deltaE th {
            text-align: center
        }

        /* work-around for https://github.com/tabatkins/bikeshed/issues/1799 */
        div.example,
        div.example pre {
            overflow: visible;
        }

        div.example>a.self-link::before {
            content: "¶";
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS 颜色模块 第5级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#WD">W3C 工作草案</a>，<time class="dt-updated"
                datetime="2026-01-13">2026年1月13日</time></p>
        <details open>
            <summary>更多关于该文档的信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本：
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2026/WD-css-color-5-20260113/">https://www.w3.org/TR/2026/WD-css-color-5-20260113/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/css-color-5/">https://www.w3.org/TR/css-color-5/</a>
                    <dt>编辑草案：
                    <dd><a href="https://drafts.csswg.org/css-color-5/">https://drafts.csswg.org/css-color-5/</a>
                    <dt>先前版本：
                    <dd><a href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/"
                            rel="prev">https://www.w3.org/TR/2024/WD-css-color-5-20240229/</a>
                    <dt>历史：
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-color-5/">https://www.w3.org/standards/history/css-color-5/</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-color-5">CSSWG 问题库</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="1438"><a class="p-name fn u-url url"
                            href="https://svgees.us/">Chris Lilley</a> (<span class="p-org org">W3C</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="115525"><a class="p-name fn u-url url"
                            href="https://una.im">Una Kravets</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="52258"><a class="p-name fn u-url url"
                            href="https://lea.verou.me/about">Lea Verou</a> (<span class="p-org org">特邀专家</span>)
                    <dt class="editor">前任编辑:
                    <dd class="editor p-author h-card vcard" data-editor-id="112669"><a class="p-name fn u-url url"
                            href="https://nerdy.dev">Adam Argyle</a> (<span class="p-org org">Google</span>)
                    <dt>为此规范建议编辑：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-color-5/Overview.bs">GitHub 编辑器</a>
                    <dt>差异规范：
                    <dd>是
                    <dt>测试套件：
                    <dd class="wpt-overview"><a
                            href="https://wpt.fyi/results/css/css-color/">https://wpt.fyi/results/css/css-color/</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2026 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>此模块扩展了 CSS 颜色<a data-link-type="biblio" href="#biblio-css-color-4"
                title="CSS Color Module Level 4">[css-color-4]</a>，以添加颜色修改函数、自定义颜色空间 (ICC
            配置文件)、contrast-color()、light-dark() 和 device-cmyk()。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（例如 HTML 和 XML）在屏幕、纸张等媒介上渲染的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述本文件在发布时的状态。
                当前 W3C 出版物列表
                以及本技术报告的最新修订版
                可在 <a href="https://www.w3.org/TR/">W3C 标准和草案索引</a>中查阅。</em> </p>
        <p> 本文件由<a href="https://www.w3.org/groups/wg/css">CSS 工作组</a>作为<strong>工作草案</strong>
            按照 <a href="https://www.w3.org/policies/process/20250818/#recs-and-notes">推荐流程</a>发布。
            作为工作草案发布
            并不意味着 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。 </p>
        <p> 本文件为草案，
            可能随时被更新、替换
            或被其他文件废止。
            此文件不应被引用为除“进行中的工作”之外的任何用途。 </p>
        <p>请通过<a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 提交 issue</a>（首选）
            反馈意见，标题中请包含规范代码 “css-color”，格式如下：
            “[css-color] <i>…评论摘要内容…</i>”。
            所有问题和评论均已<a href="https://lists.w3.org/Archives/Public/public-css-archive/">存档</a>。
            另外，也可通过（<a href="https://lists.w3.org/Archives/Public/www-style/">已存档</a>）公共邮件列表<a
                href="mailto:www-style@w3.org?Subject=%5Bcss-color%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>反馈。
        </p>
        <p>本文件受<a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">2025年8月18日 W3C
                流程文件</a>管理。 </p>
        <p>本文件由遵循<a href="https://www.w3.org/policies/patent-policy/20200915/">W3C 专利政策</a>的组织产生。
            W3C 维护着<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">与本组成果相关的专利披露公开列表</a>；
            该页面同时包含专利披露的说明。
            个人如实际知晓某专利并认为
            包含<a href="https://www.w3.org/policies/patent-policy/20200915/#def-essential">核心声明</a>
            必须根据<a href="https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure">W3C 专利政策第6节</a>披露相关信息。 </p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">简介</span></a>
            <li><a href="#color-syntax"><span class="secno">2</span> <span class="content"> <span
                            class="production">&lt;color></span> 语法</span></a>
            <li>
                <a href="#color-mix"><span class="secno">3</span> <span class="content">混合颜色：<span
                            class="css">color-mix()</span> 函数</span></a>
                <ol class="toc">
                    <li><a href="#color-mix-space"><span class="secno">3.1</span> <span class="content"> 用于混合的颜色空间
                            </span></a>
                    <li><a href="#color-mix-percent-norm"><span class="secno">3.2</span> <span class="content"> 百分比归一化
                            </span></a>
                    <li><a href="#color-mix-result"><span class="secno">3.3</span> <span class="content"> 计算 color-mix
                                的结果 </span></a>
                    <li><a href="#color-mix-color-space-effect"><span class="secno">3.4</span> <span class="content">
                                混合色彩空间对 color-mix 的影响 </span></a>
                    <li><a href="#color-mix-with-alpha"><span class="secno">3.5</span> <span class="content"> 非1透明度下
                                color-mix 的影响 </span></a>
                </ol>
            <li>
                <a href="#relative-colors"><span class="secno">4</span> <span class="content"> 相对颜色
                    </span></a>
                <ol class="toc">
                    <li><a href="#rcs-intro"><span class="secno">4.1</span> <span class="content"> 相对颜色的处理模型 </span></a>
                    <li><a href="#relative-syntax"><span class="secno">4.2</span> <span class="content"> 相对颜色语法
                            </span></a>
                    <li><a href="#relative-RGB"><span class="secno">4.3</span> <span class="content">相对 sRGB
                                颜色</span></a>
                    <li><a href="#relative-HSL"><span class="secno">4.4</span> <span class="content">相对 HSL
                                颜色</span></a>
                    <li><a href="#relative-HWB"><span class="secno">4.5</span> <span class="content">相对 HWB
                                颜色</span></a>
                    <li><a href="#relative-Lab"><span class="secno">4.6</span> <span class="content">相对 Lab
                                颜色</span></a>
                    <li><a href="#relative-Oklab"><span class="secno">4.7</span> <span class="content">相对 Oklab
                                颜色</span></a>
                    <li><a href="#relative-LCH"><span class="secno">4.8</span> <span class="content">相对 LCH
                                颜色</span></a>
                    <li><a href="#relative-OkLCh"><span class="secno">4.9</span> <span class="content">相对 OkLCh
                                颜色</span></a>
                    <li><a href="#relative-alpha"><span class="secno">4.10</span> <span class="content">相对 Alpha
                                颜色</span></a>
                </ol>
            <li>
                <a href="#color-function"><span class="secno">5</span> <span class="content">定义预设和自定义颜色空间：<span
                            class="css">color()</span> 函数</span></a>
                <ol class="toc">
                    <li><a href="#relative-color-function"><span class="secno">5.1</span> <span class="content">相对
                                Color-Function 颜色</span></a>
                    <li><a href="#custom-color"><span class="secno">5.2</span> <span class="content"> 自定义颜色空间
                            </span></a>
                    <li><a href="#at-profile"><span class="secno">5.3</span> <span class="content">指定颜色配置文件：<span
                                    class="css">@color-profile</span> at-rule</span></a>
                    <li><a href="#cal-cmyk"><span class="secno">5.4</span> <span
                                class="content">CSS和打印：使用校准的CMYK和其他印刷颜色空间</span></a>
                    <li><a href="#cmyk-to-lab"><span class="secno">5.5</span> <span
                                class="content">将CMYK颜色转换为Lab</span></a>
                    <li><a href="#lab-to-cmyk"><span class="secno">5.6</span> <span
                                class="content">将Lab颜色转换为CMYK</span></a>
                </ol>
            <li>
                <a href="#device-cmyk"><span class="secno">6</span> <span class="content">未校准 CMYK 颜色：<span
                            class="css">device-cmyk()</span> 函数</span></a>
                <ol class="toc">
                    <li><a href="#cmyk-rgb"><span class="secno">6.1</span> <span class="content">在未校准的 CMYK 和基于 sRGB
                                的颜色之间进行简单转换</span></a>
                </ol>
            <li><a href="#light-dark"><span class="secno">7</span> <span class="content">响应使用的颜色方案：<span
                            class="css">light-dark()</span> 函数</span></a>
            <li><a href="#contrast-color"><span class="secno">8</span> <span class="content">动态指定具有足够对比度的文本颜色：<span
                            class="css">contrast-color()</span> 函数</span></a>
            <li>
                <a href="#interpolation"><span class="secno">9</span> <span class="content">颜色插值</span></a>
                <ol class="toc">
                    <li><a href="#interpolation-space"><span class="secno">9.1</span> <span
                                class="content">插值的颜色空间</span></a>
                </ol>
            <li>
                <a href="#resolving-color-values"><span class="secno">10</span> <span class="content">解析 <span
                            class="production">&lt;color></span> 值</span></a>
                <ol class="toc">
                    <li><a href="#resolving-mix"><span class="secno">10.1</span> <span class="content">解析 <span
                                    class="css">color-mix()</span> 值</span></a>
                    <li><a href="#resolving-rcs"><span class="secno">10.2</span> <span
                                class="content">解析相对颜色语法值</span></a>
                    <li><a href="#resolving-device-cmyk-values"><span class="secno">10.3</span> <span class="content">解析
                                <span class="css">device-cmyk</span> 值</span></a>
                </ol>
            <li>
                <a href="#serial"><span class="secno">11</span> <span class="content"> 序列化 </span></a>
                <ol class="toc">
                    <li><a href="#serial-color-mix"><span class="secno">11.1</span> <span class="content"> 序列化
                                color-mix() </span></a>
                    <li><a href="#serial-origin-color"><span class="secno">11.2</span> <span class="content"> 序列化原始颜色
                            </span></a>
                    <li><a href="#serial-relative-color"><span class="secno">11.3</span> <span class="content">
                                序列化相对颜色函数 </span></a>
                    <li><a href="#serial-custom-color"><span class="secno">11.4</span> <span class="content"> 序列化自定义颜色空间
                            </span></a>
                    <li><a href="#serializing-device-cmyk-values"><span class="secno">11.5</span> <span class="content">
                                序列化 <span class="css">device-cmyk</span> 值 </span></a>
                </ol>
            <li>
                <a href="#apis"><span class="secno">12</span> <span class="content">API 接口</span></a>
                <ol class="toc">
                    <li><a href="#the-csscolorprofilerule-interface"><span class="secno">12.1</span> <span
                                class="content"><code>CSSColorProfileRule</code> 接口</span></a>
                </ol>
            <li><a href="#sample"><span class="secno">13</span> <span class="content">默认样式规则</span></a>
            <li><a href="#color-conversion-code"><span class="secno">14</span> <span class="content">
                        颜色转换示例代码</span></a>
            <li><a href="#security"><span class="secno">15</span> <span class="content"> 安全性考虑
                    </span></a>
            <li><a href="#privacy"><span class="secno">16</span> <span class="content"> 隐私性考虑
                    </span></a>
            <li><a href="#a11y-sec"><span class="secno">17</span> <span class="content">可访问性考虑
                    </span></a>
            <li>
                <a href="#changes"><span class="secno">18</span> <span class="content"> 变更记录 </span></a>
                <ol class="toc">
                    <li><a href="#changes-20250318"><span class="secno">18.1</span> <span class="content"> 自
                                <span>2025年3月18日工作草案</span></span></a>
                    <li><a href="#changes-20240229"><span class="secno">18.2</span> <span class="content"> 自
                                <span>2024年2月29日工作草案</span></span></a>
                    <li><a href="#changes-20220628"><span class="secno">18.3</span> <span class="content"> 自
                                <span>2022年6月28日工作草案</span></span></a>
                    <li><a href="#changes-20220428"><span class="secno">18.4</span> <span class="content"> 自
                                <span>2022年4月28日工作草案</span></span></a>
                    <li><a href="#changes-20211215"><span class="secno">18.5</span> <span class="content"> 自
                                <span>2021年12月15日工作草案</span></span></a>
                    <li><a href="#changes-20210601"><span class="secno">18.6</span> <span class="content"> 自
                                <span>2021年6月1日工作草案</span></span></a>
                    <li><a href="#changes-20200303"><span class="secno">18.7</span> <span class="content"> 自
                                <span>2020年6月10日初稿</span></span></a>
                    <li><a href="#changes-from-4"><span class="secno">18.8</span> <span class="content"> 相比 CSS Color 4
                                的主要变更 </span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">符合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span
                                class="content">符合性类别</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content">部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content">不稳定和专有功能的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">非实验性实现</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考资料</span></a>
                </ol>
            <li>
                <a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
                <ol class="toc">
                    <li><a href="#color-profile-descriptor-table"><span class="secno"></span> <span
                                class="content"><span>@color-profile</span> 描述符</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL索引</span></a>
        </ol>
    </nav>
    <main>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                for (let e of document.querySelectorAll(".swatch")) {
                    e.tabIndex = "0";
                    const swatchColor = getComputedStyle(e).getPropertyValue("--color");

                    if (!CSS.supports('color', swatchColor)) {
                        e.style.background = "repeating-linear-gradient(135deg, red 0, red 4px, white 4px, white 8px)";
                        e.setAttribute("title", "Your browser does not recognize this color value, so we can't preview it.");
                    }
                }
            });
        </script>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">简介</span><a class="self-link" href="#intro"></a></h2>
        <p><em>本节内容不具有规范性。</em></p>
        <p>此模块添加了新函数 <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color">contrast-color()</a>、<a class="css" data-link-type="maybe"
                href="#funcdef-color-mix" id="ref-for-funcdef-color-mix">color-mix()</a> 和 <a class="css"
                data-link-type="maybe" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark">light-dark()</a>，
            并使用<a href="#relative-colors">相对颜色语法</a>扩展了现有函数。</p>
        <p>它还扩展了 <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color">color()</a> 函数，
            以便不仅可以使用预定义的颜色空间，
            还可以使用由 ICC 配置文件定义的自定义颜色空间
            （包括校准的 CMYK）
            在 CSS 中。</p>
        <p>它还添加了 <span class="css">device-cmyk</span>，
            一种未校准 cmyk 颜色的表示形式。</p>
        <h2 class="heading settled" data-level="2" id="color-syntax"><span class="secno">2. </span><span
                class="content"><a class="production css" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color">&lt;color></a> 语法</span><a class="self-link" href="#color-syntax"></a>
        </h2>
        <p>CSS中的颜色由 <dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-color"><a
                    class="production css" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color①">&lt;color></a></dfn> 类型表示：</p>
        <pre class="prod">&lt;color> = <a class="production" data-link-type="type" href="#typedef-color-base" id="ref-for-typedef-color-base">&lt;color-base></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> currentColor <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-system-color" id="ref-for-typedef-system-color">&lt;system-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> 
      <a class="production" data-link-type="function" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color①">&lt;contrast-color()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production" data-link-type="function" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk">&lt;device-cmyk()></a>  <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production" data-link-type="function" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark①">&lt;light-dark()></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-base">&lt;color-base></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hex-color" id="ref-for-typedef-hex-color">&lt;hex-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> <a class="production" data-link-type="type" href="#typedef-color-function" id="ref-for-typedef-color-function">&lt;color-function></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-named-color" id="ref-for-typedef-named-color">&lt;named-color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> <a class="production" data-link-type="function" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①">&lt;color-mix()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> transparent
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-function">&lt;color-function></dfn> = <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb">&lt;rgb()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba">&lt;rgba()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a>
              <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl">&lt;hsl()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> <a class="production" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla">&lt;hsla()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> <a class="production" data-link-type="function" href="#funcdef-hwb" id="ref-for-funcdef-hwb">&lt;hwb()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a>
              <a class="production" data-link-type="function" href="#funcdef-lab" id="ref-for-funcdef-lab">&lt;lab()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> <a class="production" data-link-type="function" href="#funcdef-lch" id="ref-for-funcdef-lch">&lt;lch()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> <a class="production" data-link-type="function" href="#funcdef-oklab" id="ref-for-funcdef-oklab">&lt;oklab()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a> <a class="production" data-link-type="function" href="#funcdef-oklch" id="ref-for-funcdef-oklch">&lt;oklch()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a>
              <a class="production" data-link-type="function" href="#funcdef-alpha" id="ref-for-funcdef-alpha">&lt;alpha()></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a>
              <a class="production" data-link-type="function" href="#funcdef-color" id="ref-for-funcdef-color①">&lt;color()></a>
</pre>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="absolute-color">绝对颜色</dfn> 是一个 <a
                class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②">&lt;color></a> 其计算值具有绝对的色度解释。
            这意味着该值不包括：</p>
        <ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                        id="ref-for-valdef-color-currentcolor">currentColor</a>（取决于 <a class="property css"
                        data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color"
                        id="ref-for-propdef-color">color</a>
                    属性的值）</p>
            <li data-md>
                <p><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-color-4/#typedef-system-color"
                        id="ref-for-typedef-system-color①">&lt;system-color></a>（取决于颜色模式）</p>
            <li data-md>
                <p><a class="production css" data-link-type="function" href="#funcdef-light-dark"
                        id="ref-for-funcdef-light-dark②">&lt;light-dark()></a>（取决于颜色模式）</p>
            <li data-md>
                <p><a class="production css" data-link-type="function" href="#funcdef-contrast-color"
                        id="ref-for-funcdef-contrast-color②">&lt;contrast-color()&gt;</a> （取决于颜色模式）
                </p>
            <li data-md>
                <p><a class="production css" data-link-type="function" href="#funcdef-device-cmyk"
                        id="ref-for-funcdef-device-cmyk①">&lt;device-cmyk()></a>（无色度基础）</p>
        </ul>
        <p>这些值也不能在 <a class="production css" data-link-type="function" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix②">&lt;color-mix()></a> 或相对颜色语法中使用。</p>
        <p>解析为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="resolve-to-srgb">sRGB</dfn> 的颜色包括：</p>
        <ul>
            <li data-md>
                <p><a href="https://www.w3.org/TR/css-color-4/#hex-notation">十六进制</a>颜色</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb①">rgb()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba①">rgba()</a>
                    值���包括相对颜色</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl①">hsl()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla①">hsla()</a>
                    值，包括相对颜色</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb①">hwb()</a> 值，
                    包括相对颜色</p>
            <li data-md>
                <p><a href="https://www.w3.org/TR/css-color-4/#named-colors">命名</a>颜色</p>
        </ul>
        <p>支持<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="support-legacy-color-syntax">传统颜色语法</dfn>的函数有：
        </p>
        <ul>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb②">rgb()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba②">rgba()</a></p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl②">hsl()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla②">hsla()</a></p>
        </ul>
        <p><a class="production css" data-link-type="function" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                id="ref-for-funcdef-hsl③">&lt;hsl()></a>、<a class="production css" data-link-type="function"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla③">&lt;hsla()></a>、<a
                class="production css" data-link-type="function" href="#funcdef-hwb"
                id="ref-for-funcdef-hwb②">&lt;hwb()></a>、<a class="production css" data-link-type="function"
                href="#funcdef-lch" id="ref-for-funcdef-lch①">&lt;lch()></a> 以及 <a class="production css"
                data-link-type="function" href="#funcdef-oklch" id="ref-for-funcdef-oklch①">&lt;oklch()></a> <a
                data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#color-functions"
                id="ref-for-color-functions">颜色函数</a> 都是采用<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                id="ref-for-cylindrical-polar-color">圆柱极坐标颜色</a>表示方式，并使用 <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue">&lt;色相></a> 角度；
            其他<span id="ref-for-color-functions①">颜色函数</span>则采用<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color"
                id="ref-for-rectangular-orthogonal-color">矩形正交颜色</a>表示方式。</p>
        <h2 class="heading settled" data-level="3" id="color-mix"><span class="secno">3. </span><span
                class="content">混合颜色：<a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix③">color-mix()</a> 函数</span><a class="self-link" href="#color-mix"></a>
        </h2>
        <p>Web 开发人员、设计工具和设计系统开发人员经常使用颜色函数来辅助扩展其组件颜色关系的设计。
            随着支持多平台和多种用户偏好（例如 UI 中深色模式功能的增强）的设计系统的使用日益增多，
            这种无需手动设置颜色，而是通过单一来源计算配色方案的方式变得更加有用。</p>
        <figure id="fig-chloropleth">
            <p><img alt="LCH 颜色选择器" height="1045" src="https://www.w3.org/TR/css-color-5/images/LC-picker-scale.png"
                    style="width: 40vmin" width="1168"><br> <img alt="美国等值区域图" height="1014"
                    src="https://www.w3.org/TR/css-color-5/images/LC-picker-map2.png" style="width: 48vmin"
                    width="1396"></p>
            <figcaption>上图为一个在 CIE LCH 空间中操作的颜色选择器。
                此处，一对颜色被用于在色度-亮度平面（色相恒定）上定义一个色阶。
                下图为在等值区域图上使用的该色阶。 </figcaption>
        </figure>
        <p>目前，Sass、HSL 值上的 calc() 或 PostCSS 被用于实现此目的。
            然而，预处理器无法处理动态调整的颜色；
            所有当前的解决方案都局限于 sRGB 色域以及 HSL 的感知局限性
            （颜色在色轮中聚集在一起，
            并且两种视觉上亮度不同的颜色，
            例如黄色和蓝色，可能具有相同的 HSL 亮度）。</p>
        <p>为了满足这个需求，color-mix() 函数接收一个或多个 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color③">&lt;color></a> 规格的列表，并返回它们在指定 <a class="production css"
                data-link-type="type" href="#typedef-color-space" id="ref-for-typedef-color-space">&lt;color-space></a>
            中，以指定比例混合的结果。</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color-mix">color-mix()</dfn> = color-mix( <a class="production" data-link-type="type" href="#color-interpolation-method" id="ref-for-color-interpolation-method">&lt;color-interpolation-method></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma">,</a> [ <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color④">&lt;color></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-all" id="ref-for-comb-all">&amp;&amp;</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value">&lt;percentage [0,100]></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma">#</a>)
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html"
                        title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="3.1" id="color-mix-space"><span class="secno">3.1. </span><span
                class="content"> 用于混合的颜色空间 </span><a class="self-link" href="#color-mix-space"></a></h3>
        <p>如果没有指定颜色插值方法，则假定为 Oklab。
            否则，使用指定的颜色空间进行混合。</p>
        <h3 class="heading settled" data-level="3.2" id="color-mix-percent-norm"><span class="secno">3.2. </span><span
                class="content"> 百分比归一化 </span><a class="self-link" href="#color-mix-percent-norm"></a></h3>
        <p>百分比需要在 0% 到 100% 的范围内。
            明确禁止使用负百分比。
            百分比通过<a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#normalize-mix-percentages"
                id="ref-for-normalize-mix-percentages">归一化混合百分比</a>进行归一化。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-percents-01.html"
                        title="css/css-color/color-mix-percents-01.html">color-mix-percents-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-percents-01.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-percents-02.html"
                        title="css/css-color/color-mix-percents-02.html">color-mix-percents-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-percents-02.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-02.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-mix-syntactic">
            <a class="self-link" href="#ex-mix-syntactic"></a> 这些语法形式都是等效的：
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> plum<c- p>,</c-> purple<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>80</c-><c- k>%</c-><c- p>,</c-> plum <c- m>80</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>所有这些都会生成 <span class="swatch" style="--color: purple"></span> purple 和 <span class="swatch"
                    style="--color: plum"></span> plum 的 50-50 混合，
                在 lch 中：<span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> lch(51.51% 52.21
                325.8) 即 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> rgb(68.51%
                36.01% 68.29%)。</p>
            <p>然而，这种形式 <em>不是</em> 一样的，因为 alpha 小于 1：</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>30</c-><c- k>%</c-><c- p>,</c-> plum <c- m>30</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>这会生成 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span> lch(51.51%
                52.21 325.8 / 0.6) 即 <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span>
                rgb(68.51% 36.01% 68.29% / 0.6)。</p>
        </div>

        <h3 class="heading settled" data-level="3.3" id="color-mix-result"><span class="secno">3.3. </span><span
                class="content"> 计算 color-mix 的结果 </span><a class="self-link" href="#color-mix-result"></a></h3>
        <div class="algorithm" data-algorithm="calculate a color-mix()">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="calculate-a-color-mix">计算 color-mix()</dfn>：
            <ol>
                <li data-md>
                    <p>对传递给函数的<a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#mix-item"
                            id="ref-for-mix-item">混合项</a>列表进行<a data-link-type="dfn"
                            href="https://drafts.csswg.org/css-values-5/#normalize-mix-percentages"
                            id="ref-for-normalize-mix-percentages①">混合百分比归一化</a>，
                        并将“强制归一化”标志设置为 true，
                        得到 <var>items</var> 和 <var>leftover</var>。</p>
                <li data-md>
                    <p>如果 <var>leftover</var> 为 100%，
                        则返回<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#transparent-black"
                            id="ref-for-transparent-black">透明黑</a>，
                        并转换为指定的插值<a class="production css" data-link-type="type" href="#typedef-color-space"
                            id="ref-for-typedef-color-space①">&lt;color-space></a>。</p>
                <li data-md>
                    <p>令 <var>alpha mult</var> 为 <code>1 - <var>leftover</var></code>，
                        其中 <var>leftover</var> 按 0 到 1 的数字解释。</p>
                <li data-md>
                    <p>如果 <var>items</var> 长度为 1，
                        则将 <var>color</var> 设为该唯一项的颜色，
                        并转换为指定插值<a class="production css" data-link-type="type" href="#typedef-color-space"
                            id="ref-for-typedef-color-space②">&lt;color-space></a>。</p>
                    <p>否则：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>item stack</var> 为将 <var>items</var> 反转后得到的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#stack" id="ref-for-stack">堆栈</a>。
                                （因此，第一个 item 在堆栈顶部。）</p>
                        <li data-md>
                            <p>当 <var>item stack</var> 长度大于等于 2 时：</p>
                            <ol>
                                <li data-md>
                                    <p>从 <var>item stack</var> 中<a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#stack-pop"
                                            id="ref-for-stack-pop">弹出</a>两次，
                                        分别得到 <var>a</var> 和 <var>b</var>。
                                        令 <var>combined percentage</var> 为 <var>a</var> 和 <var>b</var> 的百分比之和。</p>
                                <li data-md>
                                    <p>按<a href="https://www.w3.org/TR/css-color-4/#interpolation"><cite>CSS Color
                                                4</cite> § 12. 颜色插值</a>的描述，
                                        以进度百分比
                                        <code>(<var>b</var> 的百分比) / <var>combined percentage</var></code>
                                        插值 <var>a</var> 和 <var>b</var> 的颜色。
                                        如果指定的颜色空间是<a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                                            id="ref-for-cylindrical-polar-color①">圆柱极坐标颜色空间</a>，
                                        那么<a class="production css" data-link-type="type"
                                            href="#typedef-hue-interpolation-method"
                                            id="ref-for-typedef-hue-interpolation-method">&lt;hue-interpolation-method></a>
                                        控制色相的插值，详见<a
                                            href="https://www.w3.org/TR/css-color-4/#hue-interpolation"><cite>CSS Color
                                                4</cite> § 12.4 色相插值</a>。
                                        如果未指定 <span class="production"
                                            id="ref-for-typedef-hue-interpolation-method①">&lt;hue-interpolation-method></span>，
                                        则默认为 <span class="css">shorter</span>。
                                    </p>
                                <li data-md>
                                    <p>用结果颜色和 <var>combined percentage</var>，
                                        创建一个新的<a data-link-type="dfn"
                                            href="https://drafts.csswg.org/css-values-5/#mix-item"
                                            id="ref-for-mix-item①">混合项</a>，
                                        并<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#stack-push"
                                            id="ref-for-stack-push">压入</a><var>item stack</var>。</p>
                            </ol>
                        <li data-md>
                            <p>将 <var>color</var> 设为 <var>item stack</var> 中唯一剩下的项的颜色。</p>
                    </ol>
                <li data-md>
                    <p>将 <var>color</var> 的 alpha 分量乘以 <var>alpha mult</var>。</p>
                <li data-md>
                    <p>返回 <var>color</var>。</p>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span>在<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-color-4/#cylindrical-polar-color"
                    id="ref-for-cylindrical-polar-color②">圆柱极坐标颜色</a>空间中，
                混合顺序是有依赖的，
                因为“shorter”或“longer”的方向可能随着已执行的混合而改变。
                此算法依照指定顺序依次混合每个颜色，
                用前一次的结果与下一个颜色混合。
                对于<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color"
                    id="ref-for-rectangular-orthogonal-color①">矩形正交颜色</a>空间，
                混合顺序无影响，
                可简化操作。</p>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-basic-001.html"
                        title="css/css-color/color-mix-basic-001.html">color-mix-basic-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-basic-001.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-basic-001.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-missing-components.html"
                        title="css/css-color/color-mix-missing-components.html">color-mix-missing-components.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-missing-components.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-missing-components.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-non-srgb-001.html"
                        title="css/css-color/color-mix-non-srgb-001.html">color-mix-non-srgb-001.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/color-mix-non-srgb-001.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-non-srgb-001.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html"
                        title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-color-mix-function.html"
                        title="css/css-color/parsing/color-invalid-color-mix-function.html">color-invalid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-mix-out-of-gamut.html"
                        title="css/css-color/parsing/color-mix-out-of-gamut.html">color-mix-out-of-gamut.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html">2d.fillStyle.colormix.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html">2d.fillStyle.colormix.currentcolor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"
                        title="html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html">2d.strokeStyle.colormix.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"><small>(source)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-mix-lch-peru40">
            <a class="self-link" href="#ex-mix-lch-peru40"></a> 此示例生成 40% <span class="swatch"
                style="--color: peru"></span> peru 和 60% <span class="swatch" style="--color: palegoldenrod"></span>
            palegoldenrod 的混合。
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> peru <c- m>40</c-><c- k>%</c-><c- p>,</c-> palegoldenrod<c- p>)</c-></pre>
            <p>混合是在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch"
                    id="ref-for-valdef-lch-lch">lch</a> 颜色空间中进行的。
                这是一个俯视图，沿着中性 L 轴观察：</p>
            <figure id="fig-LCH-peru-goldenrod">

                <img src="https://www.w3.org/TR/css-color-5/images/CH-mixing.svg" height="480" width="480"
                    alt="两个颜色的混合及混合输出。我们沿着 CIE L 轴观察 ab 平面。有两个轴，标记为 a 和 b，它们在原点交叉，该原点位于图的中心。">

                <figcaption>peru 和 palegoldenrod 在 CIE LCH 中的混合。
                    Peru 的色相角从正 a 轴测量，为 63.677 度，
                    而 palegoldenrod 的色相角为 98.834 度。
                    Peru 的色度或离中心中性轴的距离为 54.011，
                    而 palegoldenrod 的色度为 31.406。
                    所有可能的混合都位于曲线沿线。显示了 40%/60% 的混合。</figcaption>
            </figure>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: peru"></span> peru 为 lch(62.253% 54.011 63.677)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: palegoldenrod"></span> palegoldenrod 为 lch(91.374% 31.406
                        98.834)</p>
                <li data-md>
                    <p>混合后的亮度为 62.253 * 40/100 + 91.374 * (100-40)/100 = 79.7256</p>
                <li data-md>
                    <p>混合后的色度为 54.011 * 40/100 + 31.406 * (100-40)/100 = 40.448</p>
                <li data-md>
                    <p>混合后的色相为 63.677 * 40/100 + 98.834 * (100-40)/100 = 84.771</p>
                <li data-md>
                    <p>混合后的结果为 <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
                        lch(79.7256% 40.448 84.771)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-lch-teal65">
            <a class="self-link" href="#ex-mix-lch-teal65"></a> 此示例在 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch" id="ref-for-valdef-lch-lch①">lch</a>
            颜色空间中生成青色和橄榄色的混合色，
            其中每个 lch 分量为青色值的 65%
            和橄榄色值的 35%。
            <p class="note" role="note"><span class="marker">注意：</span>对色相和色度进行插值
                使中间颜色的饱和度
                与终点颜色一样饱和。</p>
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> teal <c- m>65</c-><c- k>%</c-><c- p>,</c-> olive<c- p>);</c-></pre>
            <figure id="fig-LCH-teal-olive">
                <img src="https://www.w3.org/TR/css-color-5/images/CH-mixing3.svg" height="500" width="500"
                    alt="两个颜色的混合及混合输出。 我们沿着 CIE L 轴观察 ab 平面。 有两个轴，标记为 a 和 b，它们在原点交叉，该原点位于图的中心。">

                <figcaption>teal 和 olive 的混合。
                    Teal 的色相角从正 a 轴测量，为 196.4524 度，
                    而 olive 的色相角为 99.5746 度。
                    Teal 的色度或离中心中性轴的距离为 31.6903，
                    而 olive 的色度为 56.8124。
                    混合位于虚线曲线沿线。显示了 65%/35% 的混合。</figcaption>
            </figure>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: teal"></span> teal (#008080) 为 lch(47.9855% 31.6903
                        196.4524)</p>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: olive"></span> olive (#808000) 为 lch(52.1496% 56.8124
                        99.5746)</p>
                <li data-md>
                    <p>混合亮度为 47.9855 * 0.65 + 52.1496 * 0.35 = 49.4429</p>
                <li data-md>
                    <p>混合色度为 31.6903 * 0.65 + 56.8124 * 0.35 = 40.4830</p>
                <li data-md>
                    <p>混合色相为 196.4524 * 0.65 + 99.5746 * 0.35 = 162.5452</p>
                <li data-md>
                    <p>混合结果为 lch(49.4429% 40.4830 162.5452)</p>
                <li data-md>
                    <p>这是稍微偏蓝的绿色：<span class="swatch" style="--color: rgb(7.7377% 52.5730% 37.3213%)"></span>
                        rgb(7.7377% 52.5730% 37.3213%)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-zero-sum">
            <a class="self-link" href="#ex-mix-zero-sum"></a> 在本例中，两个百分比都为零，因此它们的总和也是零：
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> teal <c- m>0</c-><c- k>%</c-><c- p>,</c-> olive <c- m>0</c-><c- k>%</c-><c- p>);</c-></pre>
            <p>因此，结果是在<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch"
                    id="ref-for-valdef-oklch-oklch">oklch</a>颜色空间中的透明黑：<br> <span class="swatch"
                    style="--color: transparent"></span> oklch(0% 0 none / 0)</p>
        </div>
        <h3 class="heading settled" data-level="3.4" id="color-mix-color-space-effect"><span class="secno">3.4.
            </span><span class="content"> 混合色彩空间对 color-mix 的影响 </span><a class="self-link"
                href="#color-mix-color-space-effect"></a></h3>
        <p>选择的混合颜色空间会对最终结果产生很大影响。</p>
        <div class="example" id="ex-mix-colorspaces-black-white">
            <a class="self-link" href="#ex-mix-colorspaces-black-white"></a> 该示例是白色和黑色的 50% 混合，
            在三个不同的颜色空间中。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: white"></span> 白色 (#FFF) 为 lch(100% 0 0)</p>
                <li data-md>
                    <p>sRGB <span class="swatch" style="--color: black"></span> 黑色 (#000) 为 lch(0% 0 0)</p>
                <li data-md>
                    <p>LCH 中的混合为 <span class="swatch" style="--color: rgb(47% 47% 47%)"></span> lch(50% 0 0)</p>
                <li data-md>
                    <p>XYZ 中的混合为 <span class="swatch" style="--color: rgb(74% 74% 74%)"></span> lch(76% 0 0)</p>
                <li data-md>
                    <p>sRGB 中的混合为 <span class="swatch" style="--color: rgb(50% 50% 50%)"></span> lch(53.4% 0 0)</p>
            </ul>
            <p>LCH 中的混合给出 L 值为 50%，
                一个完美的中灰，完全符合预期
                （在 Lab 中混合也会产生相同的结果，
                因为 LCH 和 Lab 的亮度轴是相同的）。</p>
            <p>XYZ 中的混合结果过亮；
                XYZ 是线性光，但不是感知一致的。
                sRGB 中的混合结果也稍微过亮；
                sRGB 既不是感知一致的，也不是线性光。</p>
        </div>
        <div class="example" id="ex-mix-xyz">
            <a class="self-link" href="#ex-mix-xyz"></a> 该示例生成
            红色和天蓝色的混合，
            在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz"
                id="ref-for-valdef-color-xyz">xyz</a> 颜色空间中，
            混合结果为 75.23% 红色的值
            （因此，24.77% 是天蓝色的值）。
            <pre
                class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>82.02</c-><c- k>%</c-> <c- m>30.21</c-><c- k>%</c-> <c- m>35.02</c-><c- k>%</c-><c- p>)</c-> <c- m>75.23</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>5.64</c-><c- k>%</c-> <c- m>55.94</c-><c- k>%</c-> <c- m>85.31</c-><c- k>%</c-><c- p>));</c-></pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(82.02% 30.21% 35.02%)"></span> rgb(82.02% 30.21% 35.02%)
                        为 lch(52% 58.1 22.7)，即 X=0.3214, Y=0.2014, Z=0.0879。</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(5.64% 55.94% 85.31%)"></span> rgb(5.64% 55.94% 85.31%)
                        为 lch(56% 49.1 257.1)，即 X=0.2070, Y=0.2391, Z=0.5249。</p>
                <li data-md>
                    <p>混合结果 X=(0.3214 * 0.7523) + (0.2070 * (1 - 0.7523)) = 0.29306。</p>
                <li data-md>
                    <p>混合结果 Y=(0.2014 * 0.7523) + (0.2391 * (1 - 0.7523)) = 0.21074。</p>
                <li data-md>
                    <p>混合结果 Z=(0.0879 * 0.7523) + (0.5249 * (1 - 0.7523)) = 0.19614。</p>
                <li data-md>
                    <p>混合结果为 <span class="swatch" style="--color: rgb(72.300% 38.639% 53.557%)"></span>
                        lch(53.0304% 38.9346 352.8138)，即 rgb(72.300% 38.639% 53.557%)</p>
            </ul>
        </div>
        <div class="example" id="ex-mix-blue-white">
            <a class="self-link" href="#ex-mix-blue-white"></a>
            <p>该示例是白色和蓝色的 50% 混合，
                在三个不同的颜色空间中。</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: white"></span> 白色
                        为 rgb(100% 100% 100%)，
                        即 lch(100% 0 none)，
                        即 oklch(100% 0 none)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: blue"></span> 蓝色
                        为 rgb(0% 0% 100%)，
                        即 lch(29.5683% 131.201 301.364)，
                        即 oklch(45.201% 0.31321 264.052)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(68.594% 53.794% 100%)"></span> 在 lch 中的混合为 lch(64.7841%
                        65.6008 301.364)，略带紫色</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(45.304% 63.808% 100%)"></span> 在 oklch 中的混合为
                        oklch(72.601% 0.15661 264.052)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(50% 50% 100%)"></span> 在 sRGB 中的混合为 rgb(50% 50%
                        100%)，也稍带紫色</p>
            </ul>
        </div>
        <div class="example" id="ex-hsl-gamut-map">
            <a class="self-link" href="#ex-hsl-gamut-map"></a> 该示例是两个颜色的混合，
            在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl"
                id="ref-for-valdef-hsl-hsl">hsl</a> 颜色空间中，
            其中一个颜色
            超出了 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb"
                id="ref-for-valdef-color-srgb">sRGB</a>
            色域。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in hsl<c- p>,</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0</c-> <c- m>1</c-> <c- m>0</c-><c- p>)</c-> <c- m>80</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch oog" style="--color: white"></span> color(display-p3 0 1 0)
                        为 color(srgb -0.5116 1.01827 -0.3107)，超出了 sRGB 色域</p>
                <li data-md>
                    <p>转换为 <a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl"
                            id="ref-for-valdef-hsl-hsl①">hsl</a> <span class="swatch oog"
                            style="--color: rgb(0% 99.797% 0%)"></span> hsl(127.879 301.946 25.334)</p>
                <li data-md>
                    <p><span class="swatch" style="--color: yellow"></span> 黄色为 <span class="swatch"
                            style="--color: yellow"></span> hsl(60 100% 50%)</p>
                <li data-md>
                    <p>色相为 127.879 × 0.8 + 60 × 0.2 = 114.3032</p>
                <li data-md>
                    <p>饱和度为 301.946 × 0.8 + 100 × 0.2 = 261.5568</p>
                <li data-md>
                    <p>亮度为 25.334 × 0.8 + 50 × 0.2 = 30.2672</p>
                <li data-md>
                    <p>混合结果为 <span class="swatch oog" style="--color: rgb(72.66% 100% 0%)"></span>
                        hsl(114.3032 261.5568 30.2672)，即 <span class="swatch oog"
                            style="--color: rgb(72.66% 100% 0%)"></span> color(srgb -0.3387 1.0943 -0.48899)</p>
            </ul>
        </div>
        <div class="example" id="ex-device-cmyk-mix">
            <a class="self-link" href="#ex-device-cmyk-mix"></a> <a class="css" data-link-type="maybe"
                href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk②">device-cmyk()</a> 可以用于 <a class="css"
                data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix④">color-mix()</a>，但结果将取决于实现选择如何获得计算值。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lab<c- p>,</c-> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0.091777</c-> <c- m>0.043303</c-> <c- m>0.312816</c-> <c- m>0.000000</c-><c- p>)</c-> <c- m>100</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
            <p>由于第一个颜色为100%，第二个颜色为0%，因此不会对混合结果产生任何影响。结果就是第一个颜色在CIE Lab中的计算值。</p>
            <p>为了可视化结果，假设device CMYK值实际上将用SWOP 2006 coated进行打印。</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span> device-cmyk(0.091777 0.043303
                        0.312816 0.000000) 是 <span class="swatch" style="--color: rgb(98% 89% 75%)"></span> lab(91.44%
                        4.142 20.52)</p>
            </ul>
            <p>假设实现使用ICC配置文件来获得<a class="css" data-link-type="maybe" href="#funcdef-lab"
                    id="ref-for-funcdef-lab①">lab()</a>色值，在本例中使用FOGRA39 Coated配置文件：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span> device-cmyk(0.091777 0.043303
                        0.312816 0.000000) 是 <span class="swatch" style="--color: rgb(92.81% 91.34% 75.31%)"></span>
                        lab(91.840596 -3.559090 20.449159)</p>
                <li data-md>
                    <p>本结果与原打印色的deltaE 2000为<strong>8.17</strong>，显著可见。</p>
            </ul>
            <p>现在假设另一个实现采用了简单的色彩转换算法，给出sRGB结果。</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span> device-cmyk(0.091777 0.043303
                        0.312816 0.000000) 是 <span class="swatch"
                            style="--color: rgb(90.8223% 95.6697% 68.7184%)"></span> rgb(90.8223% 95.6697% 68.7184%)
                        这又是 <span class="swatch" style="--color: rgb(90.8223% 95.6697% 68.7184%)"></span>
                        lab(94.02% -12.31 31.79)</p>
                <li data-md>
                    <p>本结果与原打印色的deltaE 2000为<strong>14.3</strong>，非常明显。</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="3.5" id="color-mix-with-alpha"><span class="secno">3.5. </span><span
                class="content"> 非1透明度下 color-mix 的影响 </span><a class="self-link" href="#color-mix-with-alpha"></a></h3>
        <p>到目前为止，所有 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑤">color-mix()</a> 示例
            都使用了完全不透明的颜色。
            为了让例子简明，
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied">预乘</a>和反预乘步骤被省略，
            因为此时实际上是乘以1再除以1，
            故结果不会改变。
        </p>
        <p>在通用情况下，
            颜色分量可能不是1的alpha，
            因此<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied①">预乘</a>、插值、反预乘这些步骤都不能省略。</p>
        <div class="example" id="ex-premultiply-srgb">
            <a class="self-link" href="#ex-premultiply-srgb"></a> 这个例子是25%半透明红和75%半透明绿，
            在sRGB中混合。
            同时展示了正确（<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#premultiplied"
                id="ref-for-premultiplied②">预乘</a>）与错误（非预乘）的过程。
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>25</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>));</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
                        经过预乘后是[0.7, 0, 0]</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
                        经过预乘后是[0, 0.2, 0]</p>
                <li data-md>
                    <p>预乘后插值结果为
                        [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        也即[0.175, 0.150, 0]</p>
                <li data-md>
                    <p>插值后的alpha为 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
                <li data-md>
                    <p>反预乘结果为
                        [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
                        即[0.53846, 0.46154, 0]</p>
                <li data-md>
                    <p>所以混合色是 <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span> color(srgb
                        0.53846 0.46154 0 /
                        0.325)</p>
            </ul>
            <p><em>错误</em>的计算如下：</p>
            <ul>
                <li data-md>
                    <p>插值结果为
                        [1 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 1 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        也即[0.25, 0.75, 0]</p>
                <li data-md>
                    <p>那么<em>错误</em>的混合色为 <span class="swatch" style="--color: rgba(25%, 75%, 0%, 0.325)"></span>
                        color(srgb 0.25 0.75 0 / 0.325)</p>
            </ul>
            <p>这是一个<em>巨大的</em>差别；正确和错误结果的ΔE2000为30.7！</p>
        </div>
        <p>当百分比归一化产生alpha乘数时，计算相同，最后多一步。</p>
        <div class="example" id="ex-premultiply-srgb-2">
            <a class="self-link" href="#ex-premultiply-srgb-2"></a> 这个例子与上例类似，
            25%半透明红和75%半透明绿，
            在sRGB中混合。
            <p>但本例中百分比被设为第一个颜色20%、第二个颜色60%，总和为80%，所以alpha乘数为0.8。</p>
            <p>混合百分比随后以100/80缩放：<br> 20% * 100/80 = 25%<br> 60% * 100/80 = 75%<br> 得到和前例一样的最终混合比例。</p>
            <pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>20</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>)</c-> <c- m>60</c-><c- k>%</c-><c- p>);</c->
</pre>
            <p>计算如下：</p>
            <ul>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
                        经过预乘后是[0.7, 0, 0]</p>
                <li data-md>
                    <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
                        经过预乘后是[0, 0.2, 0]</p>
                <li data-md>
                    <p>预乘后插值结果为
                        [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
                        也即[0.175, 0.150, 0]</p>
                <li data-md>
                    <p>插值后的alpha为 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
                <li data-md>
                    <p>反预乘结果为
                        [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
                        即[0.53846, 0.46154, 0]</p>
                <li data-md>
                    <p>所以混合色为 <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span> color(srgb
                        0.53846 0.46154 0 /
                        0.325)</p>
                <li data-md>
                    <p>此时有 0.8 的 alpha 乘数，混合结果的alpha实际为 0.325 * 0.8 = 0.260，所以混合色最终为 <span class="swatch"
                            style="--color: rgba(53.846%, 46.154%, 0%, 0.260)"></span> color(srgb 0.53846 0.46154 0 /
                        0.260)</p>
            </ul>
        </div>
        <p class="note" role="note"><span class="marker">注意：</span> 不要将插值后的 alpha 乘以
            alpha 乘数然后再用于解乘。
            如果混合百分比未缩放为 100%，这样做是正确的，
            但实际上它们已缩放，因此这样做会使混合颜色调整两次。</p>
        <h2 class="heading settled" data-level="4" id="relative-colors"><span class="secno">4. </span><span
                class="content"> 相对颜色 </span><a class="self-link" href="#relative-colors"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="rcs-intro"><span class="secno">4.1. </span><span
                class="content"> 相对颜色的处理模型 </span><a class="self-link" href="#rcs-intro"></a>
        </h3>
        <p>在本规范的先前级别中，
            颜色函数只能以绝对方式指定颜色，
            即直接指定所有颜色分量。</p>
        <p>新的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="relative-color">相对颜色</dfn>
            语法
            扩展了 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax">现代颜色语法</a>，允许通过颜色函数修改已有颜色：
            如果指定了一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="origin-color">原始颜色</dfn>，
            那么每个颜色分量
            （以及 alpha 分量，如有指定）
            <em>可以</em>直接指定，
            或者取自原始颜色
            （并可用 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                id="ref-for-math-function">数学函数</a>进行修改）。
        </p>
        <p>原始颜色与相对颜色无需使用同一个颜色函数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="required-conversion">所需转换</dfn>：
            所有操作都在 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color-space"
                id="ref-for-color-space">相对颜色</a>函数的<a data-link-type="dfn" href="#relative-color"
                id="ref-for-relative-color">颜色空间</a>中进行；
            如果<a class="dfn-paneled" data-dfn-type="dfn" data-export
                id="originally-specified-color-space">原先指定的颜色空间</a>的 <a data-link-type="dfn" href="#origin-color"
                id="ref-for-origin-color">原始颜色</a> 使用了不同的颜色函数，
            则需先将其转换为目标颜色函数，
            以便各分量有意义的值，
            且 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword">分量关键字</a>
            指代的是相对颜色的颜色空间，<em>而不是</em> <span id="ref-for-origin-color①">原始颜色</span>。</p>
        <p>如果相对颜色的 alpha 值被省略，
            则默认为 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②">原始颜色</a> 的 alpha（而不是像绝对语法那样默认为
            <span class="css">100%</span>）。
        </p>
        <p>当使用相对颜色语法时，<strong>颜色分量</strong>值，无论直接指定还是由颜色空间转换得到，
            <em>不会钳制</em>到参考范围，而是保持原样。
            这可以保留超出色域的值，
            如果目标颜色空间能够表示这些值的话。
        </p>
        <p>但是当使用相对颜色语法时，<strong>alpha 分量</strong>无论是直接指定
            还是由颜色空间转换得到，<em>都会</em>被钳制到参考范围。</p>
        <p>遗漏的分量处理方式同 <a href="https://www.w3.org/TR/css-color-4/#interpolation-missing"><cite>CSS Color 4</cite> § 12.2
                缺失分量的插值</a>：
            会检查原始颜色空间和相对函数颜色空间中是否有 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#analogous-components"
                id="ref-for-analogous-components">对应分量</a>，然后将这些分量<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#carried-forward" id="ref-for-carried-forward">向前带入</a>作为缺项。</p>
        <p>虽然大多数 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①">相对颜色</a>语法的用法
            都会在各自参数中使用 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①">分量关键字</a>，
            但你也可以在任意位置使用它们。</p>
        <p>在分量不在常规位置时需注意；
            当百分比被解析为数字时，
            不会有“自动缩放”来适应新的分量位置，
            如果这些数字被用于不同位置。</p>
        <p>没有相对 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk③">device-cmyk()</a> 语法。</p>
        <h3 class="heading settled" data-level="4.2" id="relative-syntax"><span class="secno">4.2. </span><span
                class="content"> 相对颜色语法 </span><a class="self-link" href="#relative-syntax"></a></h3>
        <p>下面列出了每个函数为适应<a data-link-type="dfn" href="#relative-color"
                id="ref-for-relative-color②">相对颜色</a>而进行的语法更改的精确细节，
            但它们都遵循一个共同的结构：</p>
        <ul>
            <li data-md>
                <p>可以使用函数开头的 <span class="css">from <a class="production css" data-link-type="type"
                            href="#typedef-color" id="ref-for-typedef-color⑤">&lt;color&gt;</a></span> 值指定一个<a
                        data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③">原始颜色</a>。
                    这包括可选的 alpha 分量（如果指定）。</p>
            <li data-md>
                <p>如果未指定原始颜色，则该函数不是相对颜色。</p>
            <li data-md>
                <p>如果指定了<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④">原始颜色</a>，
                    其余参数可以像往常一样直接指定，
                    或者指定为引用转换为相对颜色<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color-space"
                        id="ref-for-color-space①">颜色空间</a>的<span id="ref-for-origin-color⑤">原始颜色</span>的某个分量的<dfn
                        class="dfn-paneled" data-dfn-type="dfn" data-noexport id="component-keyword">分量关键字</dfn>。<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#math-function"
                        id="ref-for-math-function①">数学函数</a>也可以使用这些关键字
                    来动态修改<span id="ref-for-origin-color⑥">原始颜色</span>的分量。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#relative-color"
                        id="ref-for-relative-color③">相对颜色</a>语法不会改变参数是必需的还是可选的。</p>
            <li data-md>
                <p>相对颜色语法仅适用于<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                        id="ref-for-modern-color-syntax①">现代颜色语法</a>。
                    它<em>不能</em>与<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                        id="ref-for-legacy-color-syntax">传统颜色语法</a>一起使用，尝试这样做是错误的。</p>
            <li data-md>
                <p>但是，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑦">原始颜色</a>可以使用现代或传统语法。</p>
        </ul>
        <p><a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword②">分量关键字</a>返回一个<a
                class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value">&lt;number&gt;</a>，或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none">none</a>；
            如果它们最初被指定为<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value①">&lt;percentage&gt;</a> 或 <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#angle-value" id="ref-for-angle-value">&lt;angle&gt;</a>，
            则该<span class="production" id="ref-for-percentage-value②">&lt;percentage&gt;</span> 将解析为<span
                class="production" id="ref-for-number-value①">&lt;number&gt;</span>，并且该<span class="production"
                id="ref-for-angle-value①">&lt;angle&gt;</span> 将解析为范围 [0, 360] 内的度数<span class="production"
                id="ref-for-number-value②">&lt;number&gt;</span>（这是<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#canonical-unit" id="ref-for-canonical-unit">规范单位</a>）。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-color-with-zoom.html"
                        title="css/css-color/relative-color-with-zoom.html">relative-color-with-zoom.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/relative-color-with-zoom.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-color-with-zoom.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html"
                        title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html"
                        title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                        title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html"
                        title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html"
                        title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html"
                        title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html"
                        title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                        title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html"
                        title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"
                        title="css/css-color/relative-currentcolor-visited-getcomputedstyle.html">relative-currentcolor-visited-getcomputedstyle.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html"
                        title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html"
                        title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(source)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/relative-color-out-of-gamut.html"
                        title="css/css-color/parsing/relative-color-out-of-gamut.html">relative-color-out-of-gamut.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(live
                            test)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(source)</small></a>
            </ul>
        </details>
        <div class="example" id="example-1f6216e3">
            <a class="self-link" href="#example-1f6216e3"></a>例如，如果颜色是用
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value③">&lt;percentage></a>指定的，
            则在相同颜色空间中的 RCS 将使用解析后的
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value③">&lt;number></a>形式：
            <pre class="highlight">html <c- p>{</c-> <c- k>--bluegreen</c-><c- p>:</c-> <span class="swatch" style="--color: teal"></span> <c- nf>oklab</c-><c- p>(</c-><c- m>54.3</c-><c- k>%</c-> <c- m>-22.5</c-><c- k>%</c-> <c- m>-5</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(4.696% 39.17% 39.38%)"></span> <c- nf>oklab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bluegreen<c- p>)</c-> <c- nf>calc</c-><c- p>(</c-><c- m>1.0</c-> - l<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->a * <c- m>0.8</c-><c- p>)</c-> b<c- p>);</c->
<c- p>}</c->
</pre>
            <p>在这个示例中，指定的百分比被解析为数值，
                生成 oklab(0.543 -0.09 -0.02)。
                结果颜色是 l = 1 - 0.543 = 0.457，
                a = -0.09 * 0.8 = -0.072，
                b 不变为 -0.02：
                oklab(0.457 -0.072 -0.02)。</p>
        </div>
        <div class="example" id="example-4889a5cd">
            <a class="self-link" href="#example-4889a5cd"></a>例如，如果原始颜色的色调
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#angle-value"
                id="ref-for-angle-value②">&lt;angle></a>以度数指定，
            则相同颜色空间中的 RCS 将使用解析后的
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value④">&lt;number></a>形式：
            <pre class="highlight">html <c- p>{</c-> <c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: sienna"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>52.6</c-><c- k>%</c-> <c- m>0.115</c-> <c- m>44.6</c-><c- k>deg</c-><c- p>)</c-> <c- p>}</c->
.summary <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(30.09% 47.36% 18.46%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> l c  <c- nf>calc</c-><c- p>(</c->h + <c- m>90</c-><c- p>));</c->
<c- p>}</c->
</pre>
            <p>在这个示例中，结果颜色是 oklch(0.526 0.115 134.6)。</p>
            <p>如果原始颜色的色调<a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#angle-value"
                    id="ref-for-angle-value③">&lt;angle></a>以其他单位指定，
                如弧度或转数，
                解析后得到的仍然是度数形式
                <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                    id="ref-for-number-value⑤">&lt;number></a>。
            </p>
        </div>
        <div class="example" id="example-2a49656f">
            <a class="self-link" href="#example-2a49656f"></a> 通过在<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#math-function" id="ref-for-math-function②">数学函数</a>中使用<a
                data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword③">组件关键字</a>，
            可以更高级地操作<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑧">原始颜色</a>。
            <pre class="highlight">html <c- p>{</c-> <c- k>--color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
.foo <c- p>{</c->
    <c- k>--darker-accent</c-><c- p>:</c-> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l / <c- m>2</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
</pre>
            <p>在此示例中，通过将其亮度减半来使<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑨">原始颜色</a>变暗，
                而不改变颜色的任何其他方面。</p>
            <p>另请注意，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⓪">原始颜色</a>是一个颜色关键字
                （因此是 sRGB），
                但由于在 <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch②">lch()</a>
                函数中使用，它会自动解释为 LCH 颜色。</p>
        </div>
        <div class="example" id="example-1374fcad">
            <a class="self-link" href="#example-1374fcad"></a> 例如，如果主题颜色指定为不透明，
            但在特定情况下您需要它部分透明：
            <pre class="highlight">html <c- p>{</c-> <c- k>--bg-color</c-><c- p>:</c-> <span class="swatch" style="--color: blue"></span> blue<c- p>;</c-> <c- p>}</c->
.overlay <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(0,0,255,80%)"></span> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg-color<c- p>)</c-> r g b / <c- m>80</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>在此示例中，<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①①">原始颜色</a>的 r、g 和 b 分量保持不变，
                通过使用从<span id="ref-for-origin-color①②">原始颜色</span>中获取其值的关键字来指定它们，
                但将不透明度设置为 <span class="css">80%</span> 以使其略微透明，
                而不管<span id="ref-for-origin-color①③">原始颜色</span>的不透明度如何。</p>
        </div>
        <div class="example" id="example-b1f4bd13">
            <a class="self-link" href="#example-b1f4bd13"></a> 例如，一个超出 sRGB 色域的 Display P3 颜色
            仍然可以表示，
            因为它没有被裁剪。
            <pre class="highlight"><c- k>--vivid-yellow</c-><c- p>:</c-> <span class="swatch oog" style="--color: color(display-p3 1 1 0)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>1</c-> <c- m>1</c-> <c- m>0</c-><c- p>);</c->
<c- k>--paler-yellow</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(100% 100% 15.37%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--vivid-yellow<c- p>)</c-> srgb r g <c- nf>calc</c-><c- p>(</c->b + <c- m>0.5</c-><c- p>));</c->
</pre>
            <p>此处 --vivid-yellow 转换为 sRGB 后，
                是 <span class="swatch oog" style="--color: color(display-p3 1 1 0)"></span> rgb(100% 100% -34.63%)
                并且负蓝色分量未被裁剪。
                RCS 计算的结果是 <span class="swatch" style="--color: rgb(100% 100% 15.37%)"></span>
                rgb(100% 100% 15.37%)</p>
        </div>
        <div class="example" id="example-4bad0aeb">
            <a class="self-link" href="#example-4bad0aeb"></a> 例如，尝试将原始颜色中 0.7 的 alpha 值加倍
            会导致结果中的 alpha 值为 1，而不是 1.4。
            <pre class="highlight"><c- k>--tan</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(80.93% 70% 55.27% / 70%)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>78</c-><c- k>%</c-> <c- m>0.06</c-> <c- m>75</c-> / <c- m>0.7</c-><c- p>);</c->
<c- k>--deeper-tan</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(80.93% 70% 55.27%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--tan<c- p>)</c-> l c h / <c- nf>calc</c-><c- p>(</c->alpha * <c- m>2</c-><c- p>));</c->
</pre>
        </div>
        <div class="example" id="example-2bf59389">
            <a class="self-link" href="#example-2bf59389"></a> 例如，对颜色进行粗略的灰度处理：
            <pre class="highlight"><c- k>--blue-into-gray</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>));</c->
</pre>
            <p>使用此方法，<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-red"
                    id="ref-for-valdef-color-red">红色</a>
                将变为 <span class="css">rgb(76.5 76.5 76.5)</span>，<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-lime" id="ref-for-valdef-color-lime">石灰色</a>
                将变为 <span class="css">rgb(150.45 150.45 150.45)</span>，
                而<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-blue"
                    id="ref-for-valdef-color-blue">蓝色</a>将变为 <span class="css">rgb(150.45 150.45
                    150.45)</span>。
                像<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen"
                    id="ref-for-valdef-color-darkolivegreen">深橄榄绿色</a>这样更温和的颜色，
                其 RGB 值为 <span class="css">rgb(85 107 47)</span>，
                将变为 <span class="css">rgb(93.8 93.8 93.8)</span>。</p>
            <p>（粗略是因为首先，
                虽然这看起来像亮度计算，
                但红、绿和蓝值是在伽马编码空间中操作的，
                而不是线性光空间；
                其次，
                权重因子是用于已过时的 NTSC 颜色空间的，
                而不是 sRGB。）</p>
            <p>（另请注意，这只是为了说明语法；
                一种更简单、更准确的灰度处理颜色的方法是使用 <a class="css" data-link-type="maybe" href="#funcdef-oklch"
                    id="ref-for-funcdef-oklch②">oklch()</a> 函数，
                因为该颜色空间对人类感知更准确：<span class="css">oklch(from var(--color) l 0
                    h)</span> 保留亮度，
                但将色度（决定颜色“鲜艳”程度的因素）归零。）</p>
        </div>
        <div class="example" id="ex-no-percentage-magic">
            <a class="self-link" href="#ex-no-percentage-magic"></a>
            <p>例如，</p>
            <pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->from <c- nf>color</c-><c- p>(</c->srgb <c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> srgb alpha <c- m>0.6</c-> <c- m>0.6</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
            <p>alpha 分量解析为<a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#number-value"
                    id="ref-for-number-value⑥">&lt;number&gt;</a>，
                得到 0.6；因此结果颜色为 <span class="swatch" style="--color: rgb(60% 60% 60% / 0.9)"></span> <span
                    class="css">color(srgb 0.6 0.6 0.6 /
                    0.9)</span>。</p>
            <p>然而，在第二个示例中，alpha 再次解析为 0.6，
                由于 rgb() 语法中颜色分量范围为 0 到 255，因此会产生截然不同的颜色：</p>
            <pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> alpha <c- m>153</c-> <c- m>153</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
            <p>结果为 <span class="swatch" style="--color: rgb(0.235% 60% 60% / 0.9)"></span> <span class="css">rgb(0.6 153
                    153 / 0.9)</span> 而<em>不是</em> <span class="swatch" style="--color: rgb(153 153 153 / 0.9)"></span>
                <span class="css">rgb(153 153 153 / 0.9)</span>。
            </p>
        </div>
        <div class="example" id="ex-missing-analogous">
            <a class="self-link" href="#ex-missing-analogous"></a> 在此示例中，消色差原始颜色缺少色相；
            <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color④">相对颜色</a>也缺少色相，
            这会影响使用该颜色的渐变。
            <pre class="highlight">html <c- p>{</c-> <c- k>--bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.5% 48.5% 48.5%)"></span> <c- nf>hsl</c-><c- p>(</c->none <c- m>3</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.foo <c- p>{</c->
    <c- k>--darker-bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
.bar <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- nf>linear-gradient</c-><c- p>(</c->in Oklab to right<c- p>,</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span>  <c- nf>var</c-><c- p>(</c->--darker-bg<c- p>),</c-> <span class="swatch" style="--color: #4C3"></span>  #4C3<c- p>);</c->
<c- p>}</c->
</pre>
            <p>--bg 转换为 OkLCh 后的值为
                oklch(0.592 0.009 17.42)
                但相似的色相分量被沿用
                得到 oklch(0.592 0.009 none)。
                然后这些值在相对函数中使用，得到
                较暗的颜色 oklch(0.474 0.009 none)。</p>
            <p>渐变中的浅绿色是 <span class="swatch" style="--color: #4C3"></span> oklch(0.743 0.222
                141.6)，
                因此，在插值时，另一种颜色采用该色相，
                变为 <span class="swatch" style="--color: rgb(34.96% 36.56% 34.72%)"></span> oklch(0.474 0.009
                141.6)。</p>
            <p>因此，渐变将具有恒定的绿色色调。</p>
            <p>如果实现未能执行此沿用操作，
                灰色的 --darker-bg 将具有 0 的色相，
                从而在渐变开始时产生不希望的微红色调。</p>
            <figure id="fig-gradient-missing">
                <img alt="正确的（上方）和不正确的（下方，微红色）渐变。" height="547"
                    src="https://www.w3.org/TR/css-color-5/images/rectangular-missing.png" width="775">
                <figcaption>正确的（上方）和不正确的（下方，微红色）渐变。</figcaption>
            </figure>
        </div>
        <p>但是，如果对缺失值进行计算，<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none①">none</a>
            将被视为 0。</p>
        <h3 class="heading settled" data-level="4.3" id="relative-RGB"><span class="secno">4.3. </span><span
                class="content">相对 sRGB 颜色</span><a class="self-link" href="#relative-RGB"></a></h3>
        <p>sRGB 颜色的含义定义在 <a href="https://www.w3.org/TR/css-color-4/#numeric-srgb"><cite>CSS
                    Color 4</cite> § 5 sRGB Colors</a> 中。</p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax②">现代颜色语法</a>下 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb③">rgb()</a> 和 <a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgba"
                id="ref-for-funcdef-rgba③">rgba()</a> 函数的语法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgb-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgb-syntax" id="ref-for-typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a></dfn> = rgb( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑥">&lt;color></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②">?</a>
        [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑦">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑨">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⓪">|</a> none]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②①">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt③">?</a>  )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgba-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgba-syntax" id="ref-for-typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a></dfn> = rgba( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑦">&lt;color></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt④">?</a>
        [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②③">|</a> none]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num①">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②④">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑤">?</a>  )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑤">相对颜色</a>
            语法下的 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                id="ref-for-funcdef-rgb④">rgb()</a> 或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba④">rgba()</a> 函数内，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword④">分量关键字</a> 如下：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export
                        id="valdef-rgb-r">r</dfn>、<dfn class="dfn-paneled css" data-dfn-for="rgb()"
                        data-dfn-type="value" data-export id="valdef-rgb-g">g</dfn>、<dfn class="dfn-paneled css"
                        data-dfn-for="rgb()" data-dfn-type="value" data-export id="valdef-rgb-b">b</dfn> 都是 <a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑨">&lt;number></a>，
                    分别对应 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①④">原始颜色</a> 的红、绿、蓝分量，
                    在 <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion">（如有需要）转换</a>为
                    sRGB 后。
                    255.0 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export
                        id="valdef-rgb-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⓪">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑤">原始颜色</a>的透明度，1.0 等价于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="example-cebe6396">
            <a class="self-link" href="#example-cebe6396"></a> 在 sRGB 颜色空间中操作颜色分量：
            <pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: indianred"></span> indianred <c- m>255</c-> g b<c- p>)</c->
</pre>
            <p>这将获取 indianred 的 sRGB 值 (205 92 92) 并将红色分量替换为 255，得到 <span class="swatch"
                    style="--color: rgb(255 92 92)"></span> rgb(255 92 92)。</p>
        </div>
        <p>相对 sRGB 颜色语法<em>仅</em>适用于非旧版 RGB 句法形式。</p>
        <div class="example invalid" id="example-648e776c">
            <a class="self-link" href="#example-648e776c"></a> 例如，这种尝试将 rgba <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                id="ref-for-legacy-color-syntax①">旧版颜色语法</a>与逗号一起使用的做法是错误的
            <pre class="highlight"><c- nf>rgba</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-><c- p>,</c-> <c- m>32</c-><c- p>,</c-> b<c- p>,</c-> <c- m>0.5</c-> <c- p>)</c->
</pre>
        </div>
        <div class="example" id="example-c4b962d1">
            <a class="self-link" href="#example-c4b962d1"></a> 相反，应使用
            <pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-> <c- m>32</c-> b / <c- m>0.5</c-> <c- p>)</c->
</pre>
            <p>这将获取 darkblue 的 sRGB 值 (0 0 139) 并替换红色、绿色和 alpha 分量，得到 <span class="swatch"
                    style="--color: rgb(16 32 139 / 0.5)"></span> rgb(16 32 139 / 0.5)</p>
        </div>
        <h3 class="heading settled" data-level="4.4" id="relative-HSL"><span class="secno">4.4. </span><span
                class="content">相对 HSL 颜色</span><a class="self-link" href="#relative-HSL"></a></h3>
        <p>HSL 颜色的含义定义在 <a href="https://www.w3.org/TR/css-color-4/#the-hsl-notation"><cite>CSS Color 4</cite> § 7 HSL
                Colors:
                hsl() and hsla() functions</a> 中。</p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#modern-color-syntax"
                id="ref-for-modern-color-syntax③">现代颜色语法</a>下 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl④">hsl()</a> 和 <a
                class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsla"
                id="ref-for-funcdef-hsla④">hsla()</a> 函数的语法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsl-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsl-syntax" id="ref-for-typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a></dfn> = hsl([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑧">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑥">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue①">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑤">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑥">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑦">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑧">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑨">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value②">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⓪">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑦">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsla-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsla-syntax" id="ref-for-typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a></dfn> = hsla([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑨">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑧">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue②">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③①">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①³">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③③">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③④">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⁴">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⁵">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value③">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑥">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt⑨">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑥">相对颜色</a>
            语法下的 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                id="ref-for-funcdef-hsl⑤">hsl()</a> 或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑤">hsla()</a> 函数内，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑤">分量关键字</a> 如下：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-h">h</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⁵">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⁶">原始颜色</a>的 HSL 色相（单位为度），
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①">（如有需要）转换</a>为 sRGB 后，
                    归一化到 [0, 360] 范围。90 等价于 90deg。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-s">s</dfn> 和 <dfn class="dfn-paneled css" data-dfn-for="hsl()"
                        data-dfn-type="value" data-export id="valdef-hsl-l">l</dfn> 是 <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⁶">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⁷">原始颜色</a>的 HSL 饱和度和亮度分量，
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion②">（如有需要）转换</a>为 sRGB 后。
                    100 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export
                        id="valdef-hsl-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value①⁷">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⁸">原始颜色</a>的透明度。1.0 等价于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="example-c4b276dd">
            <a class="self-link" href="#example-c4b276dd"></a> 这将色相角度增加 180 度，得到互补色。
            <pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: hsl(357deg 70% 41%)"></span> <c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
            <p>lightseagreen 是 hsl(177deg 70% 41%)，所以 --complement 是 <span class="swatch"
                    style="--color: hsl(357deg 70% 41%)"></span> hsl(357deg 70% 41%)</p>
        </div>
        <p>相对 HSL 颜色语法仅适用于非遗留的 HSL 语法形式。</p>
        <h3 class="heading settled" data-level="4.5" id="relative-HWB"><span class="secno">4.5. </span><span
                class="content">相对 HWB 颜色</span><a class="self-link" href="#relative-HWB"></a></h3>
        <p>HWB 颜色的含义定义在 <a href="https://www.w3.org/TR/css-color-4/#the-hwb-notation"><cite>CSS Color 4</cite> § 8 HWB
                Colors:
                hwb() function</a> 中。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb③">hwb()</a> 函数的语法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-hwb">hwb()</dfn> = hwb([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⓪">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⓪">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue③">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑦">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑧">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑨">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①①">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value①⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④①">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value④">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④②">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①①">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑦">相对颜色</a>
            语法的 <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb④">hwb()</a>
            函数中，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑥">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-h">h</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⓪">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color①⑨">原始颜色</a> 的 HWB 色相（度数），
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion③">（如有需要）转换</a>为 sRGB 后，
                    归一化到 [0, 360] 范围。90 等价于 90deg。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-w">w</dfn> 和 <dfn class="dfn-paneled css" data-dfn-for="hwb()"
                        data-dfn-type="value" data-export id="valdef-hwb-b">b</dfn> 是 <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②①">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⓪">原始颜色</a> 的 HWB 白度与黑度分量，
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion④">（如有需要）转换</a>为 sRGB 后。
                    100 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export
                        id="valdef-hwb-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②②">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②①">原始颜色</a> 的透明度。1.0 等价于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="4.6" id="relative-Lab"><span class="secno">4.6. </span><span
                class="content">相对 Lab 颜色</span><a class="self-link" href="#relative-Lab"></a></h3>
        <p>Lab 颜色的含义定义见 <a href="https://www.w3.org/TR/css-color-4/#cie-lab"><cite>CSS Color
                    4</cite> § 9.1 CIE Lab and LCH</a>。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab②">lab()</a> 函数的语法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lab">lab()</dfn> = lab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①①">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①②">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①②">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②③">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④④">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①③">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②④">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑥">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑦">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②⑤">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑧">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑤">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑨">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①③">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑧">相对颜色</a>
            语法的 <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab③">lab()</a>
            函数中，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑦">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-l">l</dfn> 是 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑥">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②②">原始颜色</a> 的 CIE 亮度，
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion⑤">（如有需要）转换</a>为 CIE Lab 后。
                    100 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-a">a</dfn> 和 <dfn class="dfn-paneled css" data-dfn-for="lab()"
                        data-dfn-type="value" data-export id="valdef-lab-b">b</dfn> 是 <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑦">&lt;number></a>，
                    对应 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②③">原始颜色</a> 的 CIE Lab a 和 b
                    轴，
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion⑥">（如有需要）转换</a>为 CIE Lab 后。
                    125 等价于 100%，-125 等价于 -100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export
                        id="valdef-lab-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value②⑧">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②④">原始颜色</a> 的透明度。1.0 等价于 100%。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                                title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(源码)</small></a>
                    </ul>
                </details>
        </ul>
        <div class="example" id="example-b411f1d3">
            <a class="self-link" href="#example-b411f1d3"></a> 多种调整基色透明度的方法：
            <ul>
                <li data-md>
                    <p><span class="css">lab(from var(--mycolor) l a b / 100%)</span> 将 <span
                            class="css">var(--mycolor)</span> 的 alpha 设置为 1.0，而不管它原来是多少。</p>
                <li data-md>
                    <p><span class="css">lab(from var(--mycolor) l a b / calc(alpha * 0.8))</span> 将 <span
                            class="css">var(--mycolor)</span> 的 alpha 减少原值的 20%。</p>
            </ul>
            <p>请注意，所有调整都是无损的，因为不会发生色域剪裁，因为 lab() 涵盖所有可见颜色。
                这对基于 sRGB 的函数中的 alpha 调整（例如 'rgb()'、'hsl()' 或 'hwb()'）是不成立的，
                这些函数还会在计算 HSL 或 HWB 之前将颜色转换为 sRGB，
                并且还会调整 alpha 透明度。</p>
        </div>
        <div class="example" id="example-d39afaf1">
            <a class="self-link" href="#example-d39afaf1"></a> 完全去除颜色饱和度以获得灰色，同时保持相同的亮度：
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchid 是 <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>52.460</c-> <c- m>-34.103</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> <c- m>0</c-><c- p>)</c->
// mygray 是 <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>0</c-><c- p>)</c-> 即 <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="4.7" id="relative-Oklab"><span class="secno">4.7. </span><span
                class="content">相对 Oklab 颜色</span><a class="self-link" href="#relative-Oklab"></a></h3>
        <p>Oklab 颜色的含义定义见 <a href="https://www.w3.org/TR/css-color-4/#ok-lab"><cite>CSS Color
                    4</cite> § 9.2 Oklab and OKLCh</a>。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab①">oklab()</a>
            函数的语法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklab">oklab()</dfn> = oklab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①²">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⁴">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⁵">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⁰">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②⁹">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤¹">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⁶">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤²">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⁰">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤³">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⁷">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⁴">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③¹">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⁵">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑥">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⁶">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⁵">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑨">相对颜色</a>
            语法的 <a class="css" data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab②">oklab()</a>
            函数中，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑧">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-l">l</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③²">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⁵">原始颜色</a> 的 Oklab 亮度，
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion⑦">（如有需要）转换</a>为 Oklab 后。
                    1.0 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-a">a</dfn> 和 <dfn class="dfn-paneled css" data-dfn-for="oklab()"
                        data-dfn-type="value" data-export id="valdef-oklab-b">b</dfn> 是 <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③³">&lt;number></a>，
                    对应 <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⁶">原始颜色</a> 的 Oklab a 和 b
                    轴，
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion⑧">（如有需要）转换</a>为 Oklab 后。
                    0.4 等价于 100%，-0.4 等价于 -100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export
                        id="valdef-oklab-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⁴">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⁷">原始颜色</a> 的透明度。1.0 等价于 100%。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                                title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(源码)</small></a>
                    </ul>
                </details>
        </ul>
        <h3 class="heading settled" data-level="4.8" id="relative-LCH"><span class="secno">4.8. </span><span
                class="content">相对 LCH 颜色</span><a class="self-link" href="#relative-LCH"></a></h3>
        <p>LCH 颜色的含义定义见 <a href="https://www.w3.org/TR/css-color-4/#cie-lab"><cite>CSS Color
                    4</cite> § 9.1 CIE Lab and LCH</a>。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch③">lch()</a> 函数的语法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lch">lch()</dfn> = lch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①③">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑥">?</a>
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑦">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⑤">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑧">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑨">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③⑥">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⓪">|</a> none]
        [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue④">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥①">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑦">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥②">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑦">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⓪">相对颜色</a>
            语法的 <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch④">lch()</a>
            函数中，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑨">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-l">l</dfn> 是 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑦">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑧">原始颜色</a> 的 CIE 亮度，
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion⑨">（如有需要）转换</a>为 CIE LCH 后。
                    100 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-c">c</dfn> 是 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑧">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color②⑨">原始颜色</a> 的 LCH 色度，
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①⓪">（如有需要）转换</a>为 CIE LCH 后。
                    150 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-h">h</dfn> 是 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value③⑨">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⓪">原始颜色</a> 的 LCH 色相（度数），
                    在 <a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①①">（如有需要）转换</a>为 CIE LCH 后，
                    并归一化到 [0, 360] 范围。90 等价于 90deg。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export
                        id="valdef-lch-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⓪">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③①">原始颜色</a> 的透明度。1.0 等价于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="example-fef81186"><a class="self-link" href="#example-fef81186"></a> <span
                class="css">lch(from peru calc(l * 0.8) c h)</span> 生成的颜色比 <span class="swatch"
                style="--color: peru"></span> peru 或 lch(62.2532% 54.0114 63.6769) 暗 20%，并保持其色度和色相不变。
            结果为 <span class="swatch" style="--color: rgb(57.58% 32.47% 3.82%)"> </span> lch(49.80256 54.0114
            63.6769) </div>
        <div class="example" id="example-fb53cf30">
            <a class="self-link" href="#example-fb53cf30"></a> 这将色相角度加 180 度，生成互补色。
            <pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>));</c->
</pre>
            <p>lightseagreen 是 lch(65.4937 39.4484 190.1013)，因此 --complement 是 <span class="swatch"
                    style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> lch(65.4937 39.4484 370.1013)</p>
        </div>
        <div class="example" id="example-dddffb4a">
            <a class="self-link" href="#example-dddffb4a"></a> 完全去饱和颜色变为灰色，同时保持相同亮度：
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchid 是 <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>62.571</c-> <c- m>326.973</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> h<c- p>);</c->
// mygray 是 <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>326.973</c-><c- p>)</c->，即 <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>但现在（由于色相被保留）再次 <em>重新饱和</em>：</p>
            <pre class="highlight"><c- k>--mymuted</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(72.710% 53.293% 71.224%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mygray<c- p>)</c-> l <c- m>30</c-> h<c- p>);</c->
// mymuted 是 <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>30</c-> <c- m>326.973</c-><c- p>)</c->，即 <c- nf>rgb</c-><c- p>(</c-><c- m>72.710</c-><c- k>%</c-> <c- m>53.293</c-><c- k>%</c-> <c- m>71.224</c-><c- k>%</c-><c- p>)</c->
</pre>
        </div>
        <p>然而，不同于 HSL，操纵结果不能保证处于色域内。</p>
        <div class="example" id="ex-wildly-oog">
            <a class="self-link" href="#ex-wildly-oog"></a> 在此示例中，目的是生成与原始颜色具有相同亮度和色度，
            但色相角度相差 120 度的颜色。
            原始颜色在 RGB 色域内，
            但在 LCH 中旋转色相会生成色域外的颜色。
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
            <p>这会生成一个高色度的青绿色，<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60% 90 200)
                即 color(srgb -0.6 0.698 0.772)，
                因此超出了 sRGB 色域（负红值）。
                实际上，它也超出了 display-p3 色域：<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span>
                color(display-p3 -0.46 0.68 0.758)，
                甚至超出了 rec2020 色域：<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> color(rec2020
                -0.14 0.623 0.729)。</p>
            <p>在 sRGB 色域内的最接近颜色为 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60.71% 37.56
                201.1)
                即 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> rgb(0% 64.2% 66.3%)。色度差异（37.5 代替
                90）非常大。</p>
            <figure id="fig-LCH-rotation-oog">

                <img src="https://www.w3.org/TR/css-color-5/images/LCH-rotation-oog.svg" height="520" width="540"
                    alt="">

                <p>图示 CIE CH 平面，显示相对颜色操作。
                    <em>a</em> 和 <em>b</em> 轴有标记，
                    并在中间相交。
                    我们从中央亮度轴向下看。
                    sRGB 色域的最大色域显示为不规则的凸多边形。
                </p>
                <figcaption> 此图显示了 CIE ab 平面中的 sRGB 色域。
                    小圆圈表示主要和次要颜色。
                    <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> 原始颜色（显示为大圆圈）在 sRGB 色域内；
                    但当 LCH 色相旋转 -120° 时变为 <span class="swatch oog" style="--color: #AAA"></span> 色域外（显示为灰色填充和红色边框）。
                    色域映射后的 <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> 结果色度较低。
                </figcaption>
            </figure>
            <p>在 HSL 中执行相同操作将返回一个色域内的结果。
                但它在其他方面不尽如人意：</p>
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
            <p>在 HSL 中，--mycolor 是 <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> hsl(289.18
                93.136% 65.531%)
                因此减去 120 度得出 <span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> hsl(169.18
                93.136% 65.531%)。
                将该结果转换回 LCH 时，<span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> lch(89.0345%
                49.3503 178.714)
                我们看到，由于 HSL 中的色相旋转，
                亮度从 60% 增加到 89%，
                色度从 90 降至 49，
                而色相实际上改变了 141 度，而不是 120 度。</p>
        </div>
        <h3 class="heading settled" data-level="4.9" id="relative-OkLCh"><span class="secno">4.9. </span><span
                class="content">相对 OkLCh 颜色</span><a class="self-link" href="#relative-OkLCh"></a></h3>
        <p>OkLCh 颜色的含义定义见 <a href="https://www.w3.org/TR/css-color-4/#ok-lab"><cite>CSS Color
                    4</cite> § 9.2 Oklab and OKLCh</a>。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch③">oklch()</a>
            函数的语法扩展如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklch">oklch()</dfn> = oklch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①④">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑧">?</a>
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④①">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥④">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②①">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑥">|</a> none]
          [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-hue" id="ref-for-typedef-hue⑤">&lt;hue></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑦">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑧">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑧">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①⑨">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①①">相对颜色</a>
            语法的 <a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch④">oklch()</a>
            函数中，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①⓪">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-l">l</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④③">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③②">原始颜色</a> 的 Oklab 亮度，
                    在 <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①②">需要时转换</a>到
                    OkLCh 后。
                    1.0 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-c">c</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④④">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③③">原始颜色</a> 的 OkLCh 色度，
                    在 <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①③">需要时转换</a>到
                    OkLCh 后。
                    0.4 等价于 100%。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-h">h</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑤">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③④">原始颜色</a> 的 OkLCh 色相（度），
                    在 <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①④">需要时转换</a>到
                    OkLCh 后，
                    归一化到 [0, 360] 区间。90 等价于 90deg。</p>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export
                        id="valdef-oklch-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑥">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑤">原始颜色</a> 的透明度。1.0 等价于 100%。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(源码)</small></a>
            </ul>
        </details>
        <p>因为 OkLCh 既感知均匀又保持色度，并且各轴对应于更易理解的颜色属性，OkLCh 是颜色操作的一个很好的选择。</p>
        <div class="example" id="ex-oklch-wildly-oog">
            <a class="self-link" href="#ex-oklch-wildly-oog"></a> 本例目标同样是生成一个新的颜色，具有相同亮度和色度，但主色（色相）相差 120 度。这里我们在 OkLCh
            中进行操作。原色在 RGB 色域内，但在 OkLCh 中旋转色相，再次得到超出色域的颜色。
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
            <p>--mycolor 是 <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> oklch(0.69012 0.25077
                319.893)。色相减去 120 得到一个高色度蓝绿色，<span class="swatch oog" style="--color: grey"></span> oklch(0.69012
                0.25077 199.893)
                超出 sRGB 色域，为 color(srgb -0.6018 0.7621 0.8448)，红分量为负。将 OkLCh 色度减小以进入色域，可得 <span class="swatch"
                    style="--color: rgb(0.079% 69.282% 72.067%)"></span> oklch(0.69012 0.1173 199.893)。OkLCh 色度从 0.251
                减至 0.117。</p>
        </div>
        <h3 class="heading settled" data-level="4.10" id="relative-alpha"><span class="secno">4.10. </span><span
                class="content">相对 Alpha 颜色</span><a class="self-link" href="#relative-alpha"></a></h3>
        <p>相对 alpha 颜色引用原始颜色，只修改 alpha 通道。alpha 通道的含义定义见 <a
                href="https://www.w3.org/TR/css-color-4/#alpha-syntax"><cite>CSS Color 4</cite>
                § 4.2 颜色透明度的表达：&lt;alpha-value> 语法</a>。</p>
        <p>本等级新增的 <a class="css" data-link-type="maybe" href="#funcdef-alpha" id="ref-for-funcdef-alpha①">alpha()</a>
            函数语法如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-alpha">alpha()</dfn> = alpha([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑤">&lt;color></a>]
          [ / [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑨">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑨">|</a> none] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②⓪">?</a> )
</pre>
        <p>在 <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①②">相对颜色</a>
            语法的 <a class="css" data-link-type="maybe" href="#funcdef-alpha" id="ref-for-funcdef-alpha②">alpha()</a>
            函数中，
            允许的 <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①①">分量关键字</a> 有：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="alpha()" data-dfn-type="value" data-export
                        id="valdef-alpha-alpha">alpha</dfn> 是一个 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value④⑦">&lt;number></a>，对应 <a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑥">原始颜色</a> 的透明度。1.0 等价于 100%。</p>
        </ul>
        <p><a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑦">原始颜色</a>的颜色分量不变，
            alpha 分量被替换或修改。
            此函数返回值的颜色空间为原始颜色的颜色空间。</p>
        <div class="example" id="ex-alpha-replace">
            <a class="self-link" href="#ex-alpha-replace"></a> 例如，本例的结果与原始颜色相同，但 alpha 改为 80%
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.3)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>0.25</c-> <c- m>315</c-> / <c- m>0.3</c-><c- p>);</c->
<span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.8)"></span> <c- nf>alpha</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> / <c- m>80</c-><c- k>%</c-><c- p>);</c->
</pre>
        </div>
        <div class="example" id="ex-alpha-change">
            <a class="self-link" href="#ex-alpha-change"></a> 例如，本例的结果与原始颜色相同，但 alpha 是原始颜色的一半
            <pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.8)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>0.25</c-> <c- m>315</c-> / <c- m>0.8</c-><c- p>);</c->
<span class="swatch" style="--color: rgb(71.122% 22.105% 89.033% / 0.4)"></span> <c- nf>alpha</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> / <c- nf>calc</c-><c- p>(</c->alpha * <c- m>0.5</c-><c- p>));</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="5" id="color-function"><span class="secno">5. </span><span
                class="content">定义预设和自定义颜色空间：<a class="css" data-link-type="maybe" href="#funcdef-color"
                    id="ref-for-funcdef-color②">color()</a> 函数</span><a class="self-link" href="#color-function"></a>
        </h2>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color③">color()</a>
            函数允许在特定的、给定的<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color-space"
                id="ref-for-color-space②">颜色空间</a>中指定颜色（而不是大多数其他颜色函数运行所在的隐式 sRGB 颜色空间）。</p>
        <p>在此层级，<a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color④">color()</a>
            函数扩展支持自定义颜色空间，除了来自<a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> § 10.
                预定义颜色空间</a> 的预定义空间外。</p>
        <p>它还扩展支持相对颜色，而不仅仅是绝对颜色。</p>
        <p>其语法如下：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color">color()</dfn> = color( [from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑥">&lt;color></a>]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②①">?</a> <a class="production" data-link-type="type" href="#typedef-colorspace-params" id="ref-for-typedef-colorspace-params">&lt;colorspace-params></a> [ / [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①⓪">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⓪">|</a> none ] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②②">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-colorspace-params">&lt;colorspace-params></dfn> = [<a class="production" data-link-type="type" href="#typedef-custom-params" id="ref-for-typedef-custom-params">&lt;custom-params></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦①">|</a> <a class="production" data-link-type="type" href="#typedef-predefined-rgb-params" id="ref-for-typedef-predefined-rgb-params">&lt;predefined-rgb-params></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦②">|</a> <a class="production" data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params">&lt;xyz-params></a>]
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-params">&lt;custom-params></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident">&lt;dashed-ident></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑧">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦③">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②②">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦④">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb-params">&lt;predefined-rgb-params></dfn> = <a class="production" data-link-type="type" href="#typedef-predefined-rgb" id="ref-for-typedef-predefined-rgb">&lt;predefined-rgb></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value④⑨">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑤">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②③">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑥">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num②">{3}</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb">&lt;predefined-rgb></dfn> = srgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑦">|</a> srgb-linear <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑧">|</a> display-p3 <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑨">|</a> a98-rgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⓪">|</a> prophoto-rgb <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧①">|</a> rec2020
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-xyz-params">&lt;xyz-params></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-xyz-space" id="ref-for-typedef-xyz-space">&lt;xyz-space></a> [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑤⓪">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②④">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧③">|</a> none ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num③">{3}</a>
</pre>
        <p>color 函数的参数指定了一个颜色，并明确列出颜色空间。</p>
        <p>它可以表示一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="invalid-color">无效颜色</dfn>，如下文所述，或一个 <a
                data-link-type="dfn" href="#valid-color" id="ref-for-valid-color">有效颜色</a>。</p>
        <p>任何非 <a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color">无效颜色</a> 的颜色都是 <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="valid-color">有效颜色</dfn>。</p>
        <p>颜色可以是 <a data-link-type="dfn" href="#valid-color"
                id="ref-for-valid-color①">有效颜色</a>，但仍然超出输出设备（屏幕、投影仪或打印机）可以显示的颜色范围。此时被称为 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="out-of-gamut">色域外</dfn>。</p>
        <p>色域外的颜色其分量值小于 0 或 0%，或大于 1 或 100%。这些值并不无效；在显示时，它们会在计算值阶段使用相对比色法映射为色域内值（0/0% 到 1/100%）。</p>
        <p>每个 <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color②">有效颜色</a>要么在输出设备的色域内（屏幕或打印机），要么是 <a
                data-link-type="dfn" href="#out-of-gamut" id="ref-for-out-of-gamut">色域外</a>。</p>
        <h3 class="heading settled" data-level="5.1" id="relative-color-function"><span class="secno">5.1. </span><span
                class="content">相对 Color-Function 颜色</span><a class="self-link" href="#relative-color-function"></a>
        </h3>
        <p>在使用<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①③">相对颜色</a>语法、采用<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑤">color()</a>函数并用<a
                class="production css" data-link-type="type" href="#typedef-custom-params"
                id="ref-for-typedef-custom-params①">&lt;custom-params></a>时，可用的<a data-link-type="dfn"
                href="#component-keyword" id="ref-for-component-keyword①②">分量关键字</a>的数量和名称如下：</p>
        <ul>
            <li data-md>
                <p>由对应<a class="property" data-link-type="propdesc" href="#descdef-color-profile-components"
                        id="ref-for-descdef-color-profile-components">components</a>描述符（如果有）在<a class="css"
                        data-link-type="maybe" href="#at-ruledef-profile"
                        id="ref-for-at-ruledef-profile">@color-profile</a>上定义；
                    否则，不存在有效的相对颜色操作。这些关键字是<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤①">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color③⑧">原始颜色</a>分量，
                    在<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①⑤">需要时转换</a>到该色彩描述文件的色彩空间后。1.0 等价于 100%。</p>
        </ul>
        <p>在使用<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①④">相对颜色</a>语法、采用<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑥">color()</a>函数并用<a
                class="production css" data-link-type="type" href="#typedef-predefined-rgb-params"
                id="ref-for-typedef-predefined-rgb-params①">&lt;predefined-rgb-params></a>时，可用的<a data-link-type="dfn"
                href="#component-keyword" id="ref-for-component-keyword①③">分量关键字</a>有：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-r">r</dfn>、<dfn class="dfn-paneled css" data-dfn-for="color()"
                        data-dfn-type="value" data-export id="valdef-color-g">g</dfn> 和 <dfn class="dfn-paneled css"
                        data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-b">b</dfn> 均为<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤②">&lt;number></a>，
                    分别对应<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑨">原始颜色</a>的红、绿、蓝分量，
                    在<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①⑥">需要时转换</a>到指定的 RGB 颜色空间后。1.0 等价于 100%。</p>
        </ul>
        <p>在使用<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑤">相对颜色</a>语法、采用<a class="css"
                data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑦">color()</a>函数并用<a
                class="production css" data-link-type="type" href="#typedef-xyz-params"
                id="ref-for-typedef-xyz-params①">&lt;xyz-params></a>时，可用的<a data-link-type="dfn"
                href="#component-keyword" id="ref-for-component-keyword①④">分量关键字</a>有：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-x">x</dfn>、<dfn class="dfn-paneled css" data-dfn-for="color()"
                        data-dfn-type="value" data-export id="valdef-color-y">y</dfn>、<dfn class="dfn-paneled css"
                        data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-z">z</dfn> 均为<a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤③">&lt;number></a>，
                    对应<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④⓪">原始颜色</a>的 X、Y、Z 分量，
                    在<a data-link-type="dfn" href="#required-conversion"
                        id="ref-for-required-conversion①⑦">需要时转换</a>到适配相应白点的相对 CIE XYZ 色空间后。1.0 等价于 100%。</p>
        </ul>
        <p>在采用<a class="production css" data-link-type="type" href="#typedef-predefined-rgb-params"
                id="ref-for-typedef-predefined-rgb-params②">&lt;predefined-rgb-params></a>或<a class="production css"
                data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params②">&lt;xyz-params></a>时，
            又多了一个允许的<a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①⑤">分量关键字</a>：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export
                        id="valdef-color-alpha">alpha</dfn> 是<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤④">&lt;number></a>，对应<a data-link-type="dfn" href="#origin-color"
                        id="ref-for-origin-color④①">原始颜色</a>的透明度。1.0 等价于 100%。</p>
        </ul>
        <p>参数形式如下：</p>
        <ul>
            <li data-md>
                <p>一个<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                        id="ref-for-typedef-ident">&lt;ident></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                        id="ref-for-typedef-dashed-ident①">&lt;dashed-ident></a>，表示颜色空间。
                    若为<span class="production" id="ref-for-typedef-ident①">&lt;ident></span>则指预定义颜色空间之一（参见<a
                        href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> §  10.
                        预定义色彩空间</a>，如<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#valdef-color-display-p3"
                        id="ref-for-valdef-color-display-p3">display-p3</a>）；
                    若为<span class="production" id="ref-for-typedef-dashed-ident②">&lt;dashed-ident></span>则表示由<a
                        class="css" data-link-type="maybe" href="#at-ruledef-profile"
                        id="ref-for-at-ruledef-profile①">@color-profile</a>规则定义的自定义色彩空间。
                    具体预定义色彩空间还可能进一步限制只允许<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑤">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑤">&lt;percentage></a>，或两者都可。</p>
                <p>如果<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                        id="ref-for-typedef-ident②">&lt;ident></a>命名一个不存在的色彩空间（名字不属于任何预定义色彩空间），或是预定义但当前不支持的色彩空间，该参数表示<a
                        data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color①">无效颜色</a>。</p>
                <p>如果<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                        id="ref-for-typedef-dashed-ident③">&lt;dashed-ident></a>命名一个不存在的色彩空间（名称不属于任何<a
                        data-link-type="dfn" href="#css-color-profile"
                        id="ref-for-css-color-profile">色彩描述文件</a>，或匹配但文件尚未加载，或无效），则该参数也表示<a data-link-type="dfn"
                        href="#invalid-color" id="ref-for-invalid-color②">无效颜色</a>。</p>
            <li data-md>
                <p>一个或多个<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑥">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑥">&lt;percentage></a>，提供该色彩空间所需的参数值。</p>
                <p>对于自定义色彩空间：
                    组件值小于0或0%、大于1或100%时，不会无效；
                    会在计算值时钳制到合法范围，
                    因为ICC描述文件通常不接受超范围输入。</p>
                <p>对于自定义色彩空间，如果指定的<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑦">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑦">&lt;percentage></a>数量多于该色彩空间参数数量，多余的<span class="production"
                        id="ref-for-number-value⑤⑧">&lt;number></span>结尾被忽略，颜色仍为<a data-link-type="dfn"
                        href="#valid-color" id="ref-for-valid-color③">有效颜色</a>。</p>
                <p>对于自定义色彩空间，如果指定的<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤⑨">&lt;number></a>或<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value②⑧">&lt;percentage></a>数量多于可选 components
                    描述符中声明的分量数量，多出的参数依然合法，但<strong>不能用于相对颜色语法</strong>，颜色仍为<a data-link-type="dfn" href="#valid-color"
                        id="ref-for-valid-color④">有效颜色</a>。</p>
                <p>对于自定义色彩空间，如果数量少于须要的参数，缺失的参数会补0（这对多通道打印机，附加的油墨是专色或上光时很实用，页面上多数颜色都不需额外通道）。颜色仍为<a data-link-type="dfn"
                        href="#valid-color" id="ref-for-valid-color⑤">有效颜色</a>。</p>
                <p>对于预定义色彩空间，分量值小于0或0%、大于1或100%时不会无效，计算时会以相对色度映射方式映射回合法色域。</p>
            <li data-md>
                <p>一个可选的由斜杠分隔的<a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value"
                        id="ref-for-typedef-color-alpha-value①①">&lt;alpha-value></a>。如省略，默认为<span
                        class="css">100%</span>。</p>
        </ul>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-RCS-XYZ">
            <a class="self-link" href="#ex-RCS-XYZ"></a> 例如，在CIE XYZ D65颜色空间中使用相对颜色语法生成的颜色具有与基准颜色相同的色度，但亮度减少了一半：
            <pre class="lang-css highlight"><c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(73.58% 48.92% 10.45%)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.7</c-> <c- m>0.5</c-> <c- m>0.1</c-><c- p>);</c->
<c- k>--dark</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(53.617% 35.186% 6.4237%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> xyz-d65 <c- nf>calc</c-><c- p>(</c->x/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->y/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->z/<c- m>2</c-><c- p>));</c->
</pre>
            <p>原始颜色是color(xyz-d65 0.281 0.253 0.044)，因此相对颜色是color(xyz-d65 0.14 0.126 0.022)。</p>
        </div>
        <h3 class="heading settled" data-level="5.2" id="custom-color"><span class="secno">5.2. </span><span
                class="content"> 自定义颜色空间 </span><a class="self-link" href="#custom-color"></a></h3>
        <p>CSS允许通过引用颜色配置文件来指定<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#color"
                id="ref-for-color">颜色</a>。
            例如，这可以用于校准的CMYK打印机、
            或RGB颜色空间，
            或任何已进行过特征化的彩色或单色输出设备。</p>
        <div class="example" id="ex-profiles-colors">
            <a class="self-link" href="#ex-profiles-colors"></a> 本示例指定了四种校准颜色：
            两种为自定义空间
            （用于SWOP涂层CMYK印刷机，
            和广色域的七色墨打印机），
            另外两种为预定义空间
            （ProPhoto RGB和display-p3 RGB空间）。
            在每种情况下，数值参数范围为0.0到1.0
            （而不是例如0到255）。
            <pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--swopc <c- m>0.0134</c-> <c- m>0.8078</c-> <c- m>0.7451</c-> <c- m>0.3019</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--indigo <c- m>0.0941</c-> <c- m>0.6274</c-> <c- m>0.3372</c-> <c- m>0.1647</c-> <c- m>0</c-> <c- m>0.0706</c-> <c- m>0.1216</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->prophoto-rgb <c- m>0.9137</c-> <c- m>0.5882</c-> <c- m>0.4784</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.3804</c-> <c- m>0.9921</c-> <c- m>0.1412</c-><c- p>);</c->
</pre>
        </div>
        <p>未使用预定义颜色空间的颜色 <a href="https://www.w3.org/TR/css-color-4/#predefined"><cite>CSS Color 4</cite> §  10.
                预定义颜色空间</a>，通过使用
            <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident④">&lt;dashed-ident></a>来区分，并且还需要在样式表中某处提供一个匹配的
            <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile②">@color-profile</a>规则，
            以将名称与配置文件数据相关联。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html"
                        title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <div class="example" id="ex-profiles-colors-at">
            <a class="self-link" href="#ex-profiles-colors-at"></a>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swopc <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/swop-coated.icc'</c-><c- p>);}</c->
<c- n>@color-profile</c-> --indigo <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/indigo-seven.icc'</c-><c- p>);}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.3" id="at-profile"><span class="secno">5.3. </span><span
                class="content"> 指定颜色配置文件: <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile③">@color-profile</a> at-rule </span><a class="self-link"
                href="#at-profile"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export
                id="at-ruledef-profile">@color-profile</dfn>规则定义并命名了一个<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-local-lt="color profile" data-lt="CSS color profile" data-noexport
                id="css-color-profile">颜色配置文件</dfn>，
            该配置文件可在稍后用于<a class="css" data-link-type="maybe" href="#funcdef-color"
                id="ref-for-funcdef-color⑨">color()</a>函数中指定颜色。</p>
        <p>定义如下:</p>
        <pre class="prod">@color-profile = @color-profile [<a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑤">&lt;dashed-ident></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧④">|</a> <span class="css">device-cmyk</span>] { <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" id="ref-for-typedef-declaration-list">&lt;declaration-list></a> }
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html"
                        title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <p><a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident⑥">&lt;dashed-ident></a>提供了<a data-link-type="dfn"
                href="#css-color-profile" id="ref-for-css-color-profile①">颜色配置文件的</a>名称，
            该名称将在CSS样式表中使用。
            另一种情况是<span class="css">device-cmyk</span>关键字，
            这意味着如果此颜色配置文件有效，
            将用于解析在<span class="css">device-cmyk</span>中指定的颜色。</p>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile④">@color-profile</a>规则接受本规范中定义的描述符。</p>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-src">src</dfn>
                <tr>
                    <th>用于:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑤">@color-profile</a>
                <tr>
                    <th>值:
                    <td class="prod"><a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#url-value" id="ref-for-url-value">&lt;url></a>
                <tr>
                    <th>初始值:
                    <td>n/a
        </table>
        <p><a class="property" data-link-type="propdesc" href="#descdef-color-profile-src"
                id="ref-for-descdef-color-profile-src">src</a>描述符指定用于检索颜色配置文件信息的URL。</p>
        <p>如果定义了多个同名 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile⑥">@color-profile</a> 规则，
            以文档顺序最后一个为准，前面的都被忽略。</p>
        <p>检索到的 ICC 配置文件是有效的前提为：</p>
        <ul>
            <li data-md>
                <p>能够被解析为 ICC Profile</p>
            <li data-md>
                <p>它是 Input、Display、Output 或 color space ICC 配置文件。（不得使用 Abstract、DeviceLink 和 NamedColor ICC Profile）。
                </p>
        </ul>
        <p>如果配置文件无效，则所有引用此配置文件的 CSS 颜色
            都是<a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color③">无效颜色</a>。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="fetch-an-external-color-profile">获取外部色彩配置文件</dfn>，给定一个 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile⑦">@color-profile</a> 规则 <var>rule</var>，<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#fetch-a-style-resource"
                id="ref-for-fetch-a-style-resource">获取样式资源</a>，用 <var>rule</var> 的 URL，
            ruleOrDeclaration 设为 <var>rule</var>，
            destination 设为 "color-profile"，
            CORS mode 设为 "cors"，
            processResponse 步骤给定 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response">response</a> |/res|
            和 null、failure 或字节流 <var>byteStream</var>：
            若 <var>byteStream</var> 是字节流，
            则应用从 |byteStream| 解析出的色彩配置文件。</p>
        <p class="note" role="note"><span class="marker">注：</span>ICC 配置文件的互联网媒体类型（MIME type）为 <a
                href="https://www.iana.org/assignments/media-types/application/vnd.iccprofile">application/vnd.iccprofile</a>。
        </p>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-rendering-intent">rendering-intent</dfn>
                <tr>
                    <th>用于:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑧">@color-profile</a>
                <tr>
                    <th>取值:
                    <td class="prod">relative-colorimetric <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑤">|</a>
                        absolute-colorimetric <span id="ref-for-comb-one⑧⑥">|</span> perceptual <span
                            id="ref-for-comb-one⑧⑦">|</span> saturation
                <tr>
                    <th>初始值:
                    <td>relative-colorimetric
        </table>
        <p><a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile②">色彩配置文件</a>包含
            “rendering intents”（渲染意图），
            用于定义如何<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="gamut-map">色域映射</dfn>到比其自身色域更小的目标色域。
            通常一个配置文件只包含一个意图，
            若有多个，
            则由 <a class="property" data-link-type="propdesc" href="#descdef-color-profile-rendering-intent"
                id="ref-for-descdef-color-profile-rendering-intent">rendering-intent</a> 描述符选择其中一个。</p>
        <p>四种可能的渲染意图如下 <a data-link-type="biblio" href="#biblio-icc"
                title="ICC.1:2022 (Profile version 4.4.0.0)">[ICC]</a>：</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export
                    id="valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</dfn>
            <dd>
                media-relative colorimetric 要求对于落在目标媒介色域内的源色，
                需相对各自媒介白点保持不变。落在目标色域外的源色，
                需用多种方法映射到色域边界颜色。
                <p>此渲染意图常与黑点补偿联用，即将源媒介黑点也映射到目标黑点。
                    该方法必须将源白点映射到目标白点。若启用黑点补偿，源黑点也必须映射到目标黑点。应采用适应性算法
                    以调整白点变化。源与目标色域内的颜色相对关系应尽量保留。目标色域之外的颜色相对关系可能会改变。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export
                    id="valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</dfn>
            <dd>
                ICC-absolute colorimetric 要求对目标媒介色域内的源色，
                参考采用白（理想漫反射体）保持不变。色域外的源色需用多种方法映射到色域边界。本法对色域内色彩匹配最准确，但若目标媒介白点比源白点低，
                会导致高光剪裁。故一般只推荐应用于要求精准配色且不关注高光剪裁的场景。
                <p>此方法在颜色转换时必须禁用白点和黑点匹配。一般只用于测试，不推荐实际应用。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-perceptual">perceptual</dfn>
            <dd>
                本法常用于图像尤其是在源与目标差异较大（如屏幕图像用于印刷品）时。它会整体重新优化源图像的视觉效果以适应目标媒介，采用专有方法优化。此法允许源/目标色域内色彩都可变化，但应最大程度
                保持原作的基本艺术意图，不对源图像错误校正。
                <p class="note" role="note"><span class="marker">注：</span>v2 ICC 配置文件未规定
                    感知参考媒介，因而会产生兼容性问题。用 v2 ICC 配置文件时，除非已确认所用源与目标配置文件组合能产生所需结果，
                    通常更安全选用带黑点补偿的 media-relative colorimetric 渲染意图代替 perceptual。</p>
                <p>该方法应在映射至目标设备色域时保留像素的相对色值，为避免色相突变和断点，像素值可能整体调整以尽量保留画面总体外观。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value"
                    data-export id="valdef-color-profile-rendering-intent-saturation">saturation</dfn>
            <dd> 本方法为保持原作相对饱和度（色度）及纯色，但和 perceptual 类似也存兼容问题，且纯色保留不适用于参考媒介，
                v4 配置文件也不能彻底解决此问题。除非已确认用的源与目标配置文件能产生所需结果，否则不推荐用此渲染意图。
                本法应尽量保持原像素相对饱和度（色度）值。超出色域的色彩应转换为保留饱和度但落入色域的色彩。
        </dl>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor"
                            data-export id="descdef-color-profile-components">components</dfn>
                <tr>
                    <th>用于:
                    <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile"
                            id="ref-for-at-ruledef-profile⑨">@color-profile</a>
                <tr>
                    <th>取值:
                    <td class="prod"><a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-ident"
                            id="ref-for-typedef-ident③">&lt;ident></a><a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma①">#</a>
                <tr>
                    <th>初始值:
                    <td>n/a
        </table>
        <p>色彩描述文件可以定义包含不同数量分量的颜色空间。
            例如，青、洋红、黄、黑（CMYK）配置文件
            有四个分量，
            名称分别是 cyan、magenta、yellow 和 black。
            而一种四分量加法屏幕描述文件
            也许用四个分量，
            名称为 r、g、y 和 b。</p>
        <p>此描述符的值是由逗号分隔的<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-ident" id="ref-for-typedef-ident④">&lt;ident></a>
            标记列表。
            每个 <span class="production" id="ref-for-typedef-ident⑤">&lt;ident></span> 指定一个分量名，
            顺序一致对应色彩文件中的顺序，
            而记号数量总和就是分量总数。</p>
        <div class="example" id="ex-components-cmyk">
            <a class="self-link" href="#ex-components-cmyk"></a> 此描述符声明有四个分量，
            名为 cyan、magenta、yellow 和 black：
            <pre>components: cyan, magenta, yellow, black</pre>
            <p>而此描述符选用更简短命名：</p>
            <pre>components: c,m,y,k</pre>
        </div>
        <div class="example" id="ex-components-cmykogv">
            <a class="self-link" href="#ex-components-cmykogv"></a> 此描述符声明七个分量，
            名称为 cyan、magenta、yellow、black、orange、green 和 violet：
            <pre>components: cyan, magenta, yellow, black, orange, green, violet</pre>
        </div>
        <p>如果某个分量名<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                id="ref-for-ascii-case-insensitive">ASCII 不区分大小写</a>匹配<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none②">none</a>，
            此描述符无效，
            因为该名会与缺失值记号冲突。</p>
        <p>若某分量名与 CSS 数字常量冲突（见<a href="https://www.w3.org/TR/css-values-4/#calc-constants"><cite>CSS Values 4</cite>
                § 10.7.1 数值常量：e, pi</a>），
            该分量仍然有效，
            但在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#funcdef-calc"
                id="ref-for-funcdef-calc">calc()</a> 内该分量会被数字常量遮蔽，
            结果可能异常。</p>
        <div class="example" id="ex-component-pi">
            <a class="self-link" href="#ex-component-pi"></a> 此描述符不当将某分量命名为 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-values-4/#valdef-calc-pi" id="ref-for-valdef-calc-pi">pi</a>，
            导致相对颜色语法下的结果意外。
            <pre>@color-profile --unwise {
  src: url(https://example.com/unwise);
  components: mi, pi, ni;
}
--base: color(--unwise 35% 20% 8%);
--accent: color(from var(--base) mi calc(pi * 2) calc(ni / 2));
</pre>
            <p>这里 --accent 的分量值分别为 35%，
                3.14159265358979 * 2 = 6.28318530717959，
                4%。</p>
        </div>
        <h3 class="heading settled" data-level="5.4" id="cal-cmyk"><span class="secno">5.4. </span><span
                class="content"> CSS和打印: 使用校准的CMYK和其他印刷颜色空间 </span><a class="self-link" href="#cal-cmyk"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                id="ref-for-at-ruledef-profile①⓪">@color-profile</a> 规则并不限于 RGB 色彩空间。
            虽然屏幕通常直接以 RGB 显色，
            打印设备则经常采用 CMYK 表示颜色。</p>
        <p>使用青、洋红、黄、黑（CMYK）的四色印刷校准，
            或者高保真宽色域印刷（如 CMYKOGV：青、洋红、黄、黑、橙、绿、紫），
            也可以通过 CSS 实现，
            只要你有匹配于所用油墨、纸张、总墨量和设备组合的 ICC 配置文件。</p>
        <div class="example" id="ex-fogra">
            <a class="self-link" href="#ex-fogra"></a> 例如，采用 FOGRA39 特性数据，
            按 ISO 12647-2:2004 / Amd 1:2007 标签轮转胶印，
            以 115gsm 涂布纸和 300% 总墨量印刷 <a data-link-type="biblio" href="#biblio-fogra39"
                title="ISO 12647-2:2004 / Amd 1, Offset commercial and specialty printing according to ISO 12647-2, paper type 1 or 2 (gloss or matte coated offset, 115 g/m²), screen frequency 60/cm">[FOGRA39]</a>。
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --fogra39 <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span>  <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
  <c- p>}</c->
</pre>
            <p>这里 color() 函数首先写出我们取的 profile 名称，
                然后依次给出青、洋红、黄和黑的百分比。</p>
            <p>在本 profile 下，该 CMYK 结果为 <span class="swatch"
                    style="--color: rgb(93.124% 44.098% 57.491%)"></span> lab(63.673303% 51.576902 5.811058)
                即 <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> rgb(93.124, 44.098%
                57.491%)。</p>
        </div>
        <p>由于给定 CMYK 组合产生的实际颜色是可知的，
            可以在屏幕上模拟印刷输出的效果（软打样）。</p>
        <p>此外，任何涉及该颜色的操作
            （抗锯齿、复合、渐变色等）
            都能如常进行。</p>
        <figure id="fig-fogra51-roundtrip">
            <object data="images/macbeth-roundtrip.svg" height="500" width="720">
                <p>一组彩色方格。6 列（A~F）、4 行（1~4），
                </p>
            </object>
            <figcaption>
                <p>色卡，用于印刷和摄影行业的色彩保真校验。
                    每个色块都有人均测量 Lab 值。
                    矩形表示该 Lab 值，经转换为 sRGB 的效果；
                    圆形（几乎不可见）表示先将 Lab 经过 FOGRA51 <a data-link-type="biblio" href="#biblio-fogra51"
                        title="ISO 12647-2:2013, Process control for the production of half-tone colour separations, proof and production printsPart 2: Offset lithographic processes, PS 1, premium coated, 115 g/m², moderate substrate fluorescence">[FOGRA51]</a>
                    ICC profile 转换为 CMYK，
                    再经同一ICC profile 反转回 Lab，
                    最后转为 sRGB 展示。</p>
                <p>只有第3行第1列色块的圆圈较明显，
                    是因为颜色略超出所用 FOGRA51 CMYK 空间的色域。</p>
                <p>下表显示了每个色块原始Lab与经CMYK往返后的Lab之间的DeltaE 2000值。DeltaE 2000超1即可察觉。</p>
                <table class="deltaE">
                    <tbody>
                        <tr>
                            <th>
                            <th>A
                            <th>B
                            <th>C
                            <th>D
                            <th>E
                            <th>F
                        <tr>
                            <th>1
                            <td class="dE0">0.06
                            <td class="dE0">0.07
                            <td class="dE0">0.03
                            <td class="dE0">0.04
                            <td class="dE0">0.06
                            <td class="dE0">0.17
                        <tr>
                            <th>2
                            <td class="dE0">0.03
                            <td class="dE0">0.75
                            <td class="dE0">0.05
                            <td class="dE0">0.06
                            <td class="dE0">0.03
                            <td class="dE0">0.02
                        <tr>
                            <th>3
                            <td class="dE2">1.9
                            <td class="dE0">0.04
                            <td class="dE0">0.06
                            <td class="dE0">0.05
                            <td class="dE0">0.02
                            <td class="dE0">0.05
                        <tr>
                            <th>4
                            <td class="dE0">0.03
                            <td class="dE0">0.08
                            <td class="dE0">0.03
                            <td class="dE0">0.03
                            <td class="dE0">0.04
                            <td class="dE0">0.80
                </table>
            </figcaption>
        </figure>
        <div class="example" id="ex-swop5v2">
            <a class="self-link" href="#ex-swop5v2"></a> 此例采用 CGATS/SWOP TR005 2007 特性数据，
            按 ISO 12647-2:2004 用 5级纸、300%墨限、GCR（中等灰成分替换）胶印。
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swop5c <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>本 profile 下，相同 CMYK 百分比得到的颜色为 <span class="swatch"
                    style="--color: rgb(94.903% 45.248%  59.104%)"></span> lab(64.965217% 52.119710 5.406966)
                即 <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span> rgb(94.903% 45.248%
                59.104%)。</p>
        </div>
        <p>可以指定备用色，
            例如配合媒体查询，
            用于CMYK色彩在sRGB色域外时使用。</p>
        <div class="example" id="ex-fogra39-fallback-mq">
            <a class="self-link" href="#ex-fogra39-fallback-mq"></a> 本例还是 FOGRA39 配置，
            但指定了一种明亮绿色，不在 sRGB 色域内，
            但属于 display-p3 色域。
            在宽色域屏幕和打印设备上正常显示，
            sRGB 屏幕则使用较低饱和度的备用色。
            <pre class="lang-css highlight"><c- n>@media</c-> <c- p>(</c->color-gamut: srgb<c- p>)</c-> <c- p>{</c->
  .header <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>8.154</c-><c- k>%</c-> <c- m>60.9704</c-><c- k>%</c-> <c- m>37.184</c-><c- k>%</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c->
<c- n>@media</c-> print<c- p>,</c-> <c- p>(</c->color-gamut: p3<c- p>){</c->
  .header <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch oog" style="--color: rgb(0% 62.06% 34%)"></span> <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c->
</pre>
            <p>该 CMYK 值对应 lab(56.596645% -58.995875 28.072154)
                或 lch(56.596645% 65.33421077211648 154.5533771086801)。
                若转为 sRGB，其为 rgb(-60.568% 62.558% 32.390%)，红分量为负即色域外。</p>
            <p>减少色度至合法色域内，
                得 <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> lch(56.596645% 51
                154.5533771086801)
                即 <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> rgb(8.154% 60.9704%
                37.184%)
                并被手动指定为备用色。</p>
            <p>在宽色域屏幕下，该色在 display-p3 色域内
                （对应 display-p3(0.1658 0.6147 0.3533) ）。</p>
        </div>
        <p>颜色不局限于四色油墨（CMYK）。如需宽色域，可以用七色油墨集。</p>
        <div class="example" id="ex-fogra55beta-7color">
            <a class="self-link" href="#ex-fogra55beta-7color"></a>此例采用 FOGRA55 beta 数据集 <a data-link-type="biblio"
                href="#biblio-fogra55" title="CMYKOGV-based gamut exchange space">[FOGRA55]</a>
            实现 CMYKOGV 七色印刷。
            其中四种油墨——黑、青、洋红、黄——保持与 FOGRA51 相同，
            其余三色如下：
            <ul>
                <li>橙：CIELAB 65 58 88
                <li>绿：CIELAB 60 -75 0
                <li>CIELAB 22 47 -56
            </ul>
            <p>测试条件为 M1，
                意味着纸张光学增白剂已计入，
                光谱仪没有 UV 滤镜。</p>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --fogra55beta <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/2020_13.003_FOGRA55beta_CL_Profile.icc'</c-><c- p>);</c->
<c- p>}</c->
.dark_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(45.8702% 32.0071% 26.3813%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.183596</c-> <c- m>0.464444</c-> <c- m>0.461729</c-> <c- m>0.612490</c-> <c- m>0.156903</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.light_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(78.0170% 58.1957% 50.7737%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.070804</c-> <c- m>0.334971</c-> <c- m>0.321802</c-> <c- m>0.215606</c-> <c- m>0.103107</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_sky <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(35.8614% 48.0665% 61.6556%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.572088</c-> <c- m>0.229346</c-> <c- m>0.081708</c-> <c- m>0.282044</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.168260</c-><c- p>);</c->
<c- p>}</c->
.foliage <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(34.9582% 42.3446% 25.4209%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.314566</c-> <c- m>0.145687</c-> <c- m>0.661941</c-> <c- m>0.582879</c-> <c- m>0.000000</c-> <c- m>0.234362</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_flower <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.2952% 50.4131% 68.9186%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.375515</c-> <c- m>0.259934</c-> <c- m>0.034849</c-> <c- m>0.107161</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.308200</c-><c- p>);</c->
<c- p>}</c->
.bluish_green <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(36.8792% 74.3685% 67.4749%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.397575</c-> <c- m>0.010047</c-> <c- m>0.223682</c-> <c- m>0.031140</c-> <c- m>0.000000</c-> <c- m>0.317066</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.5" id="cmyk-to-lab"><span class="secno">5.5. </span><span
                class="content"> 将 CMYK 颜色转换为 Lab </span><a class="self-link" href="#cmyk-to-lab"></a></h3>
        <p>从校准的 CMYK 颜色空间到 Lab 的转换
            通常是通过在 ICC 配置文件中查找 Lab 值来完成的。</p>

        <h3 class="heading settled" data-level="5.6" id="lab-to-cmyk"><span class="secno">5.6. </span><span
                class="content"> 将 Lab 颜色转换为 CMYK </span><a class="self-link" href="#lab-to-cmyk"></a></h3>
        <p>对于打印，
            Lab 颜色需要转换为打印机的颜色空间。</p>
        <p>这通常是通过在 ICC 配置文件中查找 CMYK 值来完成的。</p>

        <h2 class="heading settled" data-level="6" id="device-cmyk"><span class="secno">6. </span><span class="content">
                未校准 CMYK 颜色：<a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk④">device-cmyk()</a> 函数 </span><a class="self-link"
                href="#device-cmyk"></a></h2>
        <p>有时，当某台打印机还未校准，
            但通过实验或印刷样本手册已知某些油墨组合的输出效果时，
            以设备相关的方式表达 CMYK 颜色会很有用。</p>
        <p class="note" role="note"><span class="marker">注：</span>由于实际结果颜色可能未知，
            CSS 处理器或许会尝试近似计算其值。
            这种近似很可能与实际印品有明显差距。</p>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑤">device-cmyk()</a> 函数允许作者采用这种方式指定颜色：</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-device-cmyk">device-cmyk()</dfn> = <a class="production" data-link-type="type" href="#typedef-legacy-device-cmyk-syntax" id="ref-for-typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑧">|</a> <a class="production" data-link-type="type" href="#typedef-modern-device-cmyk-syntax" id="ref-for-typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥①">&lt;number></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma②">#{4}</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="#typedef-cmyk-component" id="ref-for-typedef-cmyk-component">&lt;cmyk-component></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num" id="ref-for-mult-num④">{4}</a> [ / [ <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①②">&lt;alpha-value></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⑨">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none③">none</a> ] ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②③">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-cmyk-component">&lt;cmyk-component></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥②">&lt;number></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⓪">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value③⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨①">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none④">none</a>
</pre>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk⑥">device-cmyk()</a> 函数的参数按顺序分别指定青、品红、黄、黑分量，
            可为介于 0 到 1 之间的数字，
            或在现代语法下为 0%~100% 的百分比。
            这两种写法可线性互换且完全等价。
            小于 0/0% 或大于 1/100% 的值并不非法，
            但会在计算值阶段钳制为 0/0% 或 1/100%。</p>
        <p>现代语法下，第五个参数指定颜色的 alpha 分量。
            其规则与 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                id="ref-for-funcdef-rgb⑤">rgb()</a> 函数的第四参数一致。
            如省略，默认 <span class="css">100%</span>。</p>
        <p>出于<a href="https://www.w3.org/TR/2011/WD-css3-gcpm-20111129/#cmyk-colors">历史原因</a>，<a class="css"
                data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk⑦">device-cmyk()</a>
            还支持<a data-link-type="dfn" href="https://www.w3.org/TR/css-color-4/#legacy-color-syntax"
                id="ref-for-legacy-color-syntax②">旧版颜色语法</a>。</p>
        <p>通常，基于印刷的应用会直接以 CMYK 存储所用颜色，
            并以此格式送到打印机。
            但这种颜色没有色度解释，
            因此不能用于渐变、合成、混色等效果。</p>
        <p>因此，设备 CMYK 颜色必须转为等价颜色。
            这不像 HSL/HWB 到 RGB 的转换那样容易；
            具体转换要依赖输出设备的具体特性。</p>
        <ol>
            <li>如用户、作者或 UA 样式表
                对 device-cmyk 有 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile①①">@color-profile</a> 定义，
                且 src 描述符指定的资源可获取，
                且该资源是有效的 CMYK ICC profile，
                且 UA 能处理 ICC profile，
                那么<a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk⑧">device-cmyk()</a> 的计算值必须为该 CMYK 色的 Lab 值。
            <li>否则，
                <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk⑨">device-cmyk()</a> 的计算值必须为该 CMYK 颜色经如下“简单”算法转换的 sRGB 值。
        </ol>
        <div class="example" id="ex-device-cmyk-naive">
            <a class="self-link" href="#ex-device-cmyk-naive"></a> 例如，若无 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①②">@color-profile</a>，
            用以下“简单”转换，下面这几种方式得到的颜色是等价的。
            <pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>178</c-> <c- m>34</c-> <c- m>34</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> firebrick<c- p>;</c->
</pre>
        </div>
        <div class="example" id="ex-device-cmyk-colprof">
            <a class="self-link" href="#ex-device-cmyk-colprof"></a> 如果像示例样式表那样指定了<a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①③">@color-profile</a>，
            则下面这几种方式下，采用色度转换得到的颜色等价。
            <pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>45.060</c-><c- k>%</c-> <c- m>45.477</c-> <c- m>35.459</c-><c- p>)</c->
color: <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>70.690</c-><c- k>%</c-> <c- m>26.851</c-><c- k>%</c-> <c- m>19.724</c-><c- k>%</c-><c- p>);</c->
</pre>
        </div>
        <p>简单算法的转换必然是近似值，
            因为并不了解油墨色度、网点增大、RGB 空间色度等信息。</p>
        <figure id="fig-naive-cmyk">
            <object data="images/macbeth-naive.svg" height="450" width="670">
                <p>一组彩色方格。6 列（A~F）、4 行（1~4）。</p>
            </object>
            <figcaption>
                <p>色卡，用于印刷和摄影行业的色彩保真校对。
                    每块都有实测的均值 Lab 值。
                    矩形显示 Lab 转为 sRGB 的效果。
                    圆圈表示 Lab 先经 ICC profile 转成 CMYK，再用简单算法转为 sRGB。</p>
                <p>下表显示各色块原始 Lab 和经过 CMYK 往返后的 Lab 的 DeltaE 2000。DeltaE 2000 超过 1 肉眼可见，5 以上肉眼即为另一色。</p>
                <table class="deltaE">
                    <tbody>
                        <tr>
                            <th>
                            <th>A
                            <th>B
                            <th>C
                            <th>D
                            <th>E
                            <th>F
                        <tr>
                            <th>1
                            <td class="dE5">11.33
                            <td class="dE5">9.36
                            <td class="dE5">5.66
                            <td class="dE5">7.52
                            <td class="dE5">12.39
                            <td class="dE5">21.58
                        <tr>
                            <th>2
                            <td class="dE5">6.40
                            <td class="dE5">8.79
                            <td class="dE5">11.77
                            <td class="dE5">17.16
                            <td class="dE5">11.91
                            <td class="dE3">3.97
                        <tr>
                            <th>3
                            <td class="dE5">12.1
                            <td class="dE5">17.00
                            <td class="dE3">3.38
                            <td class="dE1">1.94
                            <td class="dE5">18.08
                            <td class="dE5">14.97
                        <tr>
                            <th>4
                            <td class="dE1">1.89
                            <td class="dE5">6.56
                            <td class="dE5">7.85
                            <td class="dE5">8.76
                            <td class="dE5">9.82
                            <td class="dE5">10.29
                </table>
            </figcaption>
        </figure>
        <h3 class="heading settled" data-level="6.1" id="cmyk-rgb"><span class="secno">6.1. </span><span
                class="content"> 在未校准的 CMYK 和基于 sRGB 的颜色之间进行简单转换 </span><a class="self-link" href="#cmyk-rgb"></a></h3>
        <p>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="简单地从 CMYK 转换为 RGBA | 简单地转换为 RGBA"
                id="naively-convert-from-cmyk-to-rgba">简单地从 CMYK 转换为 RGBA</dfn>：</p>
        <ul class="lang-javascript">
            <li><code
                    class="highlight">red <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li><code
                    class="highlight">green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li><code
                    class="highlight">blue <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
            <li>Alpha 与输入颜色相同。
        </ul>
        <p>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="简单地从 RGBA 转换为 CMYK | 简单地转换为 CMYK"
                id="naively-convert-from-rgba-to-cmyk">简单地从 RGBA 转换为 CMYK</dfn>：</p>
        <ul class="lang-javascript">
            <li><code
                    class="highlight">black <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> max<c- p>(</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>)</c-></code>
            <li><code
                    class="highlight">cyan <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> red <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> 或当 black 为 <c- mf>1</c-> 时，cyan 为 <c- mf>0</c-></code>
            <li><code
                    class="highlight">magenta <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> green <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> 或当 black 为 <c- mf>1</c-> 时，magenta 为 <c- mf>0</c-></code>
            <li><code
                    class="highlight">yellow <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> blue <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> 或当 black 为 <c- mf>1</c-> 时，yellow 为 <c- mf>0</c-></code>
            <li>alpha 与输入颜色相同。
        </ul>

        <h2 class="heading settled" data-level="7" id="light-dark"><span class="secno">7. </span><span class="content">
                响应使用的颜色方案：<a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark③">light-dark()</a> 函数 </span><a class="self-link"
                href="#light-dark"></a></h2>
        <p>系统颜色能够响应当前使用的 <span class="css">color-scheme</span> 值。
            <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                id="ref-for-funcdef-light-dark④">light-dark()</a> 函数向作者公开了相同的功能。
        </p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-light-dark">light-dark()</dfn> = light-dark( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑦">&lt;color></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma①">,</a> <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑧">&lt;color></a> )
</pre>
        <p>如果 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme"
                id="ref-for-used-color-scheme">使用的颜色方案</a>是 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light"
                id="ref-for-valdef-color-scheme-light">light</a> 或未知，
            则该函数计算为第一个颜色的计算值；
            如果 <span id="ref-for-used-color-scheme①">使用的颜色方案</span>是 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark"
                id="ref-for-valdef-color-scheme-dark">dark</a>，则计算为第二个颜色的计算值。</p>

        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-basic.html"
                        title="css/css-color/light-dark-basic.html">light-dark-basic.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/light-dark-basic.html"><small>(实时测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-basic.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor.html"
                        title="css/css-color/light-dark-currentcolor.html">light-dark-currentcolor.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/light-dark-currentcolor.html"><small>(实时
                            测试)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-inheritance.html"
                        title="css/css-color/light-dark-inheritance.html">light-dark-inheritance.html</a> <a
                        class="wpt-live" href="http://wpt.live/css/css-color/light-dark-inheritance.html"><small>(实时
                            测试)</small></a> <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-inheritance.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor-in-color.html"
                        title="css/css-color/light-dark-currentcolor-in-color.html">light-dark-currentcolor-in-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/light-dark-currentcolor-in-color.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor-in-color.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-pseudo/highlight-styling-004.html"
                        title="css/css-pseudo/highlight-styling-004.html">highlight-styling-004.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-pseudo/highlight-styling-004.html"><small>(实时测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-pseudo/highlight-styling-004.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h2 class="heading settled" data-level="8" id="contrast-color"><span class="secno">8. </span><span
                class="content"> 动态指定具有足够对比度的文本颜色：<a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                    id="ref-for-funcdef-contrast-color③">contrast-color()</a> 函数 </span><a class="self-link"
                href="#contrast-color"></a></h2>
        <p>当动态创建颜色时，将其用作背景色时，指定一个能提供足够对比度的文本颜色通常是一个挑战。
            <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color④">contrast-color()</a> 函数在指定颜色用作纯色背景上的文本颜色时，会自动提供一个保证颜色对比度的颜色。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>易读性是一个复杂的问题，足够的颜色对比度只是其中的一部分。
            拥有一对具有足够对比度的颜色并不能保证文本一定易读，
            因为这还取决于多种因素，例如字体、文本大小、
            周围颜色等。</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-contrast-color">contrast-color()</dfn> = contrast-color( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑨">&lt;color></a> )
</pre>
        <p><a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                id="ref-for-funcdef-contrast-color⑤">contrast-color()</a> 解析为 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-white" id="ref-for-valdef-color-white">white</a> 或
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-black"
                id="ref-for-valdef-color-black">black</a>，
            以当输入颜色用作纯色背景时，能为文本产生<strong>最大</strong>颜色对比度的那个为准。
            如果 <span class="css" id="ref-for-valdef-color-white①">white</span> 和 <span class="css"
                id="ref-for-valdef-color-black①">black</span> 产生相同的对比度，
            则解析为 <span class="css" id="ref-for-valdef-color-white②">white</span>。
        </p>
        <p>用于确定输出浅色还是深色的精确颜色对比度算法在此级别由用户代理 (UA) 定义。</p>
        <p class="note" role="note"><span class="marker">注意：</span>此规范的未来版本预计将引入更多对所使用的对比度算法、用例以及返回颜色的控制。</p>
        <p>建议用户代理不要简单地使用 WCAG 2.1 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">第 1.4.3 节 对比度 (最低)</a>
            的对比度算法来决定浅色和深色，因为它存在<a href="https://www.cedc.tools/article.html">几个已知问题</a>。
            但是，此函数返回的颜色仍应满足 WCAG 2.1 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">第 1.4.3 节 对比度 (最低)</a> 对
            AA 大号文本的要求，因为许多作者需要满足强制执行此要求的法律规定。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/contrast-color-001.html"
                        title="css/css-color/contrast-color-001.html">contrast-color-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-color/contrast-color-001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/contrast-color-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-contrast-color-function.html"
                        title="css/css-color/parsing/color-computed-contrast-color-function.html">color-computed-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-contrast-color-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-contrast-color-function.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-contrast-color-function.html"
                        title="css/css-color/parsing/color-invalid-contrast-color-function.html">color-invalid-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-contrast-color-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-contrast-color-function.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-contrast-color-function.html"
                        title="css/css-color/parsing/color-valid-contrast-color-function.html">color-valid-contrast-color-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-contrast-color-function.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-contrast-color-function.html"><small>(源码)</small></a>
            </ul>
        </details>
        <h2 class="heading settled" data-level="9" id="interpolation"><span class="secno">9. </span><span
                class="content"> 颜色插值 </span><a class="self-link" href="#interpolation"></a></h2>
        <h3 class="heading settled" data-level="9.1" id="interpolation-space"><span class="secno">9.1. </span><span
                class="content"> 插值的颜色空间 </span><a class="self-link" href="#interpolation-space"></a></h3>
        <p><a class="production css" data-link-type="type" href="#color-interpolation-method"
                id="ref-for-color-interpolation-method①">&lt;color-interpolation-method></a> 已扩展为允许使用
            <a href="#custom-color">自定义颜色空间</a>：
        </p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-space">&lt;color-space></dfn> = <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨②">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space">&lt;polar-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨③">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space">&lt;custom-color-space></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-rectangular-color-space">&lt;rectangular-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb" id="ref-for-valdef-color-srgb①">srgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨④">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" id="ref-for-valdef-color-srgb-linear">srgb-linear</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑤">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" id="ref-for-valdef-color-display-p3①">display-p3</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑥">|</a> <span class="css">display-p3-linear</span> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑦">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" id="ref-for-valdef-color-a98-rgb">a98-rgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑧">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" id="ref-for-valdef-color-prophoto-rgb">prophoto-rgb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨⑨">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" id="ref-for-valdef-color-rec2020">rec2020</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⓪">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lab-lab" id="ref-for-valdef-lab-lab">lab</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪①">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" id="ref-for-valdef-oklab-oklab">oklab</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-color-4/#typedef-xyz-space" id="ref-for-typedef-xyz-space①">&lt;xyz-space></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-polar-color-space">&lt;polar-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" id="ref-for-valdef-hsl-hsl②">hsl</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪③">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" id="ref-for-valdef-hwb-hwb">hwb</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪④">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-lch-lch" id="ref-for-valdef-lch-lch②">lch</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑤">|</a> <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" id="ref-for-valdef-oklch-oklch①">oklch</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-color-space">&lt;custom-color-space></dfn> = <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑦">&lt;dashed-ident></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-hue-interpolation-method">&lt;hue-interpolation-method></dfn> = [ shorter <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑥">|</a> longer <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑦">|</a> increasing <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑧">|</a> decreasing ] hue
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="color-interpolation-method">&lt;color-interpolation-method></dfn> = in [ <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space①">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑨">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space①">&lt;polar-color-space></a> <a class="production" data-link-type="type" href="#typedef-hue-interpolation-method" id="ref-for-typedef-hue-interpolation-method②">&lt;hue-interpolation-method></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②④">?</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①⓪">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space①">&lt;custom-color-space></a> ]
</pre>
        <p><a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"
                id="ref-for-typedef-dashed-ident⑧">&lt;dashed-ident></a> 必须已在有效的 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①④">@color-profile</a> 规则中声明，
            否则 <a class="production css" data-link-type="type" href="#color-interpolation-method"
                id="ref-for-color-interpolation-method②">&lt;color-interpolation-method></a> 无效。</p>
        <h2 class="heading settled" data-level="10" id="resolving-color-values"><span class="secno">10. </span><span
                class="content"> 解析 <a class="production css" data-link-type="type" href="#typedef-color"
                    id="ref-for-typedef-color②⓪">&lt;color></a> 值 </span><a class="self-link"
                href="#resolving-color-values"></a></h2>
        <h3 class="heading settled" data-level="10.1" id="resolving-mix"><span class="secno">10.1. </span><span
                class="content"> 解析 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix⑥">color-mix()</a> 值 </span><a class="self-link"
                href="#resolving-mix"></a></h3>
        <p>如果所有 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②①">&lt;color></a> 参数都能解析为各自色彩空间中的对应颜色，
            计算值就是混合后的颜色，
            位于指定的混合色彩空间中，
            并按 <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color
                    4</cite> §  14. 解析 &lt;color> 值</a> 的规则解析。
            否则（如果函数中用到了 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor①">currentColor</a>），
            计算值为 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑦">color-mix()</a> 函数，
            其中每个 <span class="production" id="ref-for-typedef-color②②">&lt;color></span> 参数根据 <a
                href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> § 
                14. 解析 &lt;color> 值</a> 进行解析，
            从而保证继承到子元素。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-001.html"
                        title="css/css-color/color-mix-currentcolor-001.html">color-mix-currentcolor-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-001.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-002.html"
                        title="css/css-color/color-mix-currentcolor-002.html">color-mix-currentcolor-002.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-002.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-002.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-003.html"
                        title="css/css-color/color-mix-currentcolor-003.html">color-mix-currentcolor-003.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-003.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-003.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-nested-for-color-property.html"
                        title="css/css-color/color-mix-currentcolor-nested-for-color-property.html">color-mix-currentcolor-nested-for-color-property.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/nested-color-mix-with-currentcolor.html"
                        title="css/css-color/nested-color-mix-with-currentcolor.html">nested-color-mix-with-currentcolor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/nested-color-mix-with-currentcolor.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/nested-color-mix-with-currentcolor.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="10.2" id="resolving-rcs"><span class="secno">10.2. </span><span
                class="content"> 解析相对颜色语法值 </span><a class="self-link" href="#resolving-rcs"></a></h3>
        <p>如果所有 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②③">&lt;color></a> 参数都能解析为各自色彩空间的对应颜色，
            计算值就是指定 RCS 色彩空间中的绝对 <span class="production" id="ref-for-typedef-color②④">&lt;color></span>
            值，
            并根据 <a href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color
                    4</cite> §  14. 解析 &lt;color> 值</a> 进行解析。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html"
                        title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html"
                        title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html"
                        title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <p>否则（如果 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor②">currentColor</a> 在函数中使用），
            计算值为相对颜色语法函数，
            其源 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑤">&lt;color></a> 参数根据 <a
                href="https://www.w3.org/TR/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> §  14.
                解析 &lt;color> 值</a> 的方法解析，
            以此保持继承到子元素。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html"
                        title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html"
                        title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html"
                        title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html"
                        title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html"
                        title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html"
                        title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html"
                        title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html"
                        title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html"
                        title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html"
                        title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html"
                        title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html"
                        title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html"
                        title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html"
                        title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html"
                        title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html"
                        title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="10.3" id="resolving-device-cmyk-values"><span class="secno">10.3.
            </span><span class="content"> 解析 <span class="css">device-cmyk</span> 值 </span><a class="self-link"
                href="#resolving-device-cmyk-values"></a></h3>
        <p>计算值和使用值
            是指定的设备特定 CMYK 颜色，
            （其分量为 <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value⑥③">&lt;number&gt;</a>，而不是
            <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value"
                id="ref-for-percentage-value③①">&lt;percentage&gt;</a>）
            与指定的 alpha 分量配对
            （作为 <span class="production" id="ref-for-number-value⑥④">&lt;number&gt;</span>，而不是 <span class="production"
                id="ref-for-percentage-value③②">&lt;percentage&gt;</span>；
            如果未指定，则默认为不透明）。
        </p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#actual-value"
                id="ref-for-actual-value">实际值</a> 可能根据操作而有所不同；
            对于支持 CMYK 的设备，可以呈现为 CMYK 颜色；
            对于与非 CMYK 颜色的混合或在非 CMYK 设备上渲染时，
            必须按 <a href="#device-cmyk">§ 6 未校准的 CMYK 颜色：device-cmyk() 函数</a> 中的规定进行转换。
        </p>
        <div class="example" id="ex-device-cmyk-used">
            <a class="self-link" href="#ex-device-cmyk-used"></a> 例如，
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>)</c->
</pre>
            <p>具有指定值和实际值</p>
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>0.7</c-> <c- m>0.2</c-> <c- m>0</c-><c- p>)</c->
</pre>
            <p>如果实现支持 ICC 配置文件并安装了合适的配置文件，
                则使用的值将是
            </p>
            <pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>63.673</c-><c- k>%</c-> <c- m>51.577</c-> <c- m>5.811</c-><c- p>)</c->
</pre>
            <p class="note" role="note"><span class="marker">注意：</span>与所有颜色一样，使用值不可通过脚本获取。</p>
        </div>
        <h2 class="heading settled" data-level="11" id="serial"><span class="secno">11. </span><span class="content">
                序列化 </span><a class="self-link" href="#serial"></a></h2>
        <p>本节扩展了 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite> §  15.
                序列化 &lt;color> 值</a>，增加了对 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑧">color-mix()</a>、<a class="css" data-link-type="maybe"
                href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①⓪">device-cmyk()</a> 和相对色彩函数结果的序列化支持。</p>
        <p>在本节中，规范中使用的字符串及其对应字符如下。</p>
        <table class="data">
            <tbody>
                <tr>
                    <th>字符串
                    <th>字符
                <tr>
                    <td>" "
                    <td>U+0020 空格
                <tr>
                    <td>","
                    <td>U+002C 逗号
                <tr>
                    <td>"-"
                    <td>U+002D 连字符-减号
                <tr>
                    <td>"."
                    <td>U+002E 句号
                <tr>
                    <td>"/"
                    <td>U+002F 斜杠
        </table>
        <p>字符串“.”应作为小数点分隔符使用，
            无论地区如何，并且不应使用千位分隔符。
        </p>
        <p>通常情况下，
            如果结果的 alpha 值正好为 1，
            它将在序列化时省略；
            默认隐含值为 1（完全不透明）。
        </p>
        <h3 class="heading settled" data-level="11.1" id="serial-color-mix"><span class="secno">11.1. </span><span
                class="content"> 序列化 color-mix() </span><a class="self-link" href="#serial-color-mix"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix⑨">color-mix()</a> 函数声明值的序列化结果为字符串 "color-mix(in "，
            后跟全部小写的指定 <a class="production css" data-link-type="type" href="#typedef-color-space"
                id="ref-for-typedef-color-space③">&lt;color-space></a>，
            再跟 ", "，
            再跟第一个指定颜色，
            再跟一个空格，
            再跟第一个百分比的序列化结果（见下述），
            再跟 ", "，
            再跟第二个指定颜色，
            再跟第二个百分比的序列化结果（见下述），
            最后加 ")"。</p>
        <p><strong>第一个</strong>百分比的序列化规则如下：</p>
        <ul>
            <li data-md>
                <p>如果第一个百分比 <var>p1</var> 和第二个百分比 <var>p2</var> 都指定：</p>
                <ul>
                    <li data-md>
                        <p>若 <var>p1</var> = 50%，<var>p2</var> = 50%，则不序列化任何内容。</p>
                    <li data-md>
                        <p>否则，<var>p1</var> 按原样序列化。</p>
                </ul>
            <li data-md>
                <p>如果只指定第一个百分比 <var>p1</var>：</p>
                <ul>
                    <li data-md>
                        <p>若 <var>p1</var> = 50%，不序列化任何内容。</p>
                    <li data-md>
                        <p>否则，<var>p1</var> 按原样序列化。</p>
                </ul>
            <li data-md>
                <p>如果只指定第二个百分比 <var>p2</var>：</p>
                <ul>
                    <li data-md>
                        <p>若 <var>p2</var> = 50%，不序列化任何内容。</p>
                    <li data-md>
                        <p>若 <var>p2</var> 不是 <a class="css" data-link-type="maybe"
                                href="https://www.w3.org/TR/css-values-4/#funcdef-calc"
                                id="ref-for-funcdef-calc①">calc()</a>，则序列化 100% - <var>p2</var>。</p>
                    <li data-md>
                        <p>否则，不序列化任何内容。</p>
                </ul>
            <li data-md>
                <p>如果都未指定：</p>
                <ul>
                    <li data-md>
                        <p>不序列化任何内容。</p>
                </ul>
        </ul>
        <p><strong>第二个</strong>百分比的序列化规则如下：</p>
        <ul>
            <li data-md>
                <p>如果第一个百分比 p1 和第二个百分比 p2 都指定：</p>
                <ul>
                    <li data-md>
                        <p>若都不是 calc() 且 p1 + p2 = 100%，不序列化任何内容。</p>
                    <li data-md>
                        <p>否则，p2 按原样序列化。</p>
                </ul>
            <li data-md>
                <p>如果只指定第一个百分比 p1：</p>
                <ul>
                    <li data-md>
                        <p>不序列化任何内容。</p>
                </ul>
            <li data-md>
                <p>如果只指定第二个百分比 p2：</p>
                <ul>
                    <li data-md>
                        <p>若 p2 = 50%，不序列化任何内容。</p>
                    <li data-md>
                        <p>若 p2 不是 calc()，不序列化任何内容。</p>
                    <li data-md>
                        <p>否则，p2 按原样序列化。</p>
                </ul>
            <li data-md>
                <p>如果都未指定：</p>
                <ul>
                    <li data-md>
                        <p>不序列化任何内容。</p>
                </ul>
        </ul>
        <p class="note" role="note"><span class="marker">注意：</span><a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-values-4/#funcdef-calc" id="ref-for-funcdef-calc②">calc()</a> 值视为未知，
            因此<strong>永远</strong>不会等于 50%，
            也不会和其它值相加正好等于 100%。</p>
        <div class="example" id="ex-serial-specified-mix">
            <a class="self-link" href="#ex-serial-specified-mix"></a>
            例如，下面这个声明的序列化结果：
            <pre>color-mix(in oklab, teal, peru 40%)</pre>
            <p>结果为字符串 "color-mix(in oklab, teal 60%, peru)"。</p>
            <p>下面这个声明的序列化结果：</p>
            <pre>color-mix(in oklab, teal 50%, peru 50%)</pre>
            <p>结果为字符串 "color-mix(in oklab, teal, peru)"。</p>
            <p>下面这个声明的序列化结果：</p>
            <pre>color-mix(in oklab, teal 70%, peru 70%)</pre>
            <p>结果为字符串 "color-mix(in oklab, teal 70%, peru 70%)"
                因为这其实归一化后是 50%/50%，但这只在归一化后得知。</p>
        </div>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①②">color-mix()</a> 函数结果的序列化，
            取决于混合中是否用到 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor③">currentColor</a> 关键字。
            如有，则按声明值序列化，
            这样子元素 <span class="css">color</span> 属性不同值时能正确继承混色。
            否则，
            是一个 <a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑥">&lt;color></a>，
            序列化方式参考 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite>
                §  15. 序列化 &lt;color> 值</a>。
            具体格式根据 "in" 后所指定颜色空间：</p>
        <table class="data">
            <tbody>
                <tr>
                    <th>混合色彩空间
                    <th>序列化形式
                <tr>
                    <td>srgb
                    <td>color(srgb r g b)
                <tr>
                    <td>srgb-linear
                    <td>color(srgb-linear r g b)
                <tr>
                    <td>display-p3
                    <td>color(display-p3 r g b)
                <tr>
                    <td>a98-rgb
                    <td>color(a98-rgb r g b)
                <tr>
                    <td>prophoto-rgb
                    <td>color(prophoto-rgb r g b)
                <tr>
                    <td>rec2020
                    <td>color(rec2020 r g b)
                <tr>
                    <td>hsl
                    <td>color(srgb r g b)
                <tr>
                    <td>hwb
                    <td>color(srgb r g b)
                <tr>
                    <td>xyz-d65
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>xyz-d50
                    <td>color(xyz-d50 x y z)
                <tr>
                    <td>xyz
                    <td>color(xyz-d65 x y z) <a href="#fn1">¹</a>
                <tr>
                    <td>lab
                    <td>lab(l a b)
                <tr>
                    <td>lch
                    <td>lch(l c h)
                <tr>
                    <td>oklab
                    <td>oklab(l a b)
                <tr>
                    <td>oklch
                    <td>oklch(l c h)
        </table>
        <dl>
            <dt id="fn1"><a class="self-link" href="#fn1"></a>¹
            <dd>因为 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz"
                    id="ref-for-valdef-color-xyz①">xyz</a> 只是 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65"
                    id="ref-for-valdef-color-xyz-d65">xyz-d65</a> 的别名
        </dl>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html"
                        title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"
                        title="css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html">color-mix-currentcolor-visited-getcomputedstyle.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(源代码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited.html"
                        title="css/css-color/color-mix-currentcolor-visited.html">color-mix-currentcolor-visited.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-color/color-mix-currentcolor-visited.html"><small>(实时测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited.html"><small>(源代码)</small></a>
            </ul>
        </details>
        <p>对回传的<em>最小</em>精度与 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color
                    4</cite> §  15.
                序列化 &lt;color> 值</a> 中指定的精度相同。
        </p>
        <div class="example" id="ex-serial-computed-color-mix">
            <a class="self-link" href="#ex-serial-computed-color-mix"></a> 颜色混合的结果
            <pre>color-mix(in lch, peru 40%, palegoldenrod)</pre>
            <p>序列化为字符串 <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
                "lch(79.7256 40.448 84.771)"，
                而颜色混合的结果
            </p>
            <pre>color-mix(in srgb, peru 40%, palegoldenrod)</pre>
            <p>序列化为字符串 <span class="swatch" style="--color: rgb(88.16% 75.45% 49.88%)"></span>
                "color(srgb 0.8816 0.7545 0.4988)"。
            </p>
        </div>
        <h3 class="heading settled" data-level="11.2" id="serial-origin-color"><span class="secno">11.2. </span><span
                class="content"> 序列化原始颜色 </span><a class="self-link" href="#serial-origin-color"></a>
        </h3>
        <p>用作另一个颜色函数中<a data-link-type="dfn" href="#origin-color"
                id="ref-for-origin-color④②">原始颜色</a>的已声明值的颜色，其组件值的序列化为：</p>
        <ol>
            <li data-md>
                <p>对于 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑥">rgb()</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑤">rgba()</a>、<a
                        class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑥">hsl()</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑥">hsla()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>标明规范色函数的字符串，
                    对 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑦">rgb()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑥">rgba()</a> 为
                    "rgb"，
                    对 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑦">hsl()</a> 和 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑦">hsla()</a> 为
                    "hsl"，
                    均为小写，
                    后跟 "("，
                    后跟以空格分隔的各非 alpha 分量的已声明值
                    （数字写为数字，
                    百分数写为百分数，
                    角度归一化为度，
                    calc() 简化表示），
                    不进行钳制，
                    如有 alpha 分量，
                    后接 " / " 及 alpha 分量（按色值规则处理），
                    末尾加 ")"。</p>
        </ul>
        <p class="note" role="note"><span class="marker">注：</span>无论是现代语法还是旧版语法，序列化规则一致。</p>
        <ol start="2">
            <li data-md>
                <p>对于 <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑤">hwb()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab④">lab()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch⑤">lch()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-oklab"
                        id="ref-for-funcdef-oklab③">oklab()</a>、<a class="css" data-link-type="maybe"
                        href="#funcdef-oklch" id="ref-for-funcdef-oklch⑤">oklch()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>标识颜色函数的字符串（全部小写），
                    后跟 "("，
                    后跟一个以空格分隔的、按指定方式排列的非 alpha 组件列表
                    （数字序列化为数字，
                    百分比序列化为百分比，
                    角度序列化为规范化的度数角，
                    calc() 序列化为其简化形式），不应用任何限制，
                    如果存在 alpha 组件，则后跟 " / " 和按指定方式排列的 alpha 组件
                    （使用与颜色组件相同的规则），
                    后跟 ")"。</p>
        </ul>
        <ol start="3">
            <li data-md>
                <p>对于 <a class="css" data-link-type="maybe" href="#funcdef-color"
                        id="ref-for-funcdef-color①⓪">color()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>字符串 "color("，
                    后跟规范的颜色空间
                    （对于 "xyz" 是 "xyz-d65"），全部小写，
                    后跟一个空格，
                    后跟一个以空格分隔的、按指定方式排列的非 alpha 组件列表
                    （数字序列化为数字，
                    百分比序列化为百分比，
                    角度序列化为规范化的度数角，
                    calc() 序列化为其简化形式），
                    不应用任何限制，
                    如果存在 alpha 组件，则后跟 " / " 和按指定方式排列的 alpha 组件
                    （使用与颜色组件相同的规则），
                    后跟 ")"。</p>
        </ul>
        <h3 class="heading settled" data-level="11.3" id="serial-relative-color"><span class="secno">11.3. </span><span
                class="content"> 序列化相对颜色函数 </span><a class="self-link" href="#serial-relative-color"></a></h3>
        <p>相对颜色的声明值序列化为：</p>
        <ol>
            <li data-md>
                <p>对于 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-rgb"
                        id="ref-for-funcdef-rgb⑧">rgb()</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑦">rgba()</a>、<a
                        class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#funcdef-hsl"
                        id="ref-for-funcdef-hsl⑧">hsl()</a>、<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑧">hsla()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>小写规范颜色函数名的字符串，
                    rgb() 和 rgba() 用 "rgb"，hsl() 和 hsla() 用 "hsl"，
                    后跟 "(from "，
                    后接<a href="#serial-origin-color">原始颜色的序列化</a>（采用嵌套序列化规则），
                    后跟一个空格，
                    后面是各非 alpha 通道参数，空格分隔
                    （标识符按标识符序列化，数字和百分比按数字、百分比序列化，角度用度制归一化，calc() 简化表示），
                    如 alpha 分量非1，则后跟 " / " 及 alpha 分量（与色值参数同规则，但要钳制），
                    最后加 ")"。</p>
        </ul>
        <ol start="2">
            <li data-md>
                <p>对于 <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑥">hwb()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab⑤">lab()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch⑥">lch()</a>、<a
                        class="css" data-link-type="maybe" href="#funcdef-oklab"
                        id="ref-for-funcdef-oklab④">oklab()</a>、<a class="css" data-link-type="maybe"
                        href="#funcdef-oklch" id="ref-for-funcdef-oklch⑥">oklch()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>小写颜色函数名的字符串，
                    后跟 "(from "，
                    后接<a href="#serial-origin-color">原始颜色的序列化</a>（采用嵌套序列化规则），
                    空格分隔的各非 alpha 通道参数（标识符、数字、百分比等），
                    如 alpha 分量非1，则后跟 " / " 及 alpha 分量（与色值参数同规则，但要钳制），
                    最后加 ")"。</p>
        </ul>
        <ol start="3">
            <li data-md>
                <p>对于 <a class="css" data-link-type="maybe" href="#funcdef-color"
                        id="ref-for-funcdef-color①①">color()</a></p>
        </ol>
        <ul>
            <li data-md>
                <p>字符串 "color(from "，
                    后接<a href="#serial-origin-color">原始颜色的序列化</a>（嵌套序列化规则），
                    后跟空格，
                    后跟规范色彩空间（"xyz" 用 "xyz-d65"），全小写，
                    后跟空格，
                    后面空格分隔的各非 alpha 通道（同上），
                    如 alpha 分量非1，则后跟 " / " 及钳制后的 alpha，
                    最后加 ")"。</p>
        </ul>
        <div class="example" id="ex-serial-rcs-specified-simple">
            <a class="self-link" href="#ex-serial-rcs-specified-simple"></a> 例如，下面的声明值序列化结果为
            <pre class="lang-css highlight"><c- nf>OkLcH</c-><c- p>(</c->from peru  l    c  h<c- p>)</c-></pre>
            <p>即字符串 "oklch(from peru l c h)"</p>
        </div>
        <div class="example" id="ex-serial-rcs-calc">
            <a class="self-link" href="#ex-serial-rcs-calc"></a> 例如，下例声明值序列化结果为
            <pre
                class="lang-css highlight"><c- nf>rgb</c-><c- p>(</c->from red <c- nf>calc</c-><c- p>(</c->r / <c- m>2</c-><c- p>)</c-> g <c- nf>calc</c-><c- p>(</c-><c- m>30</c-><c- k>%</c-><c- p>));</c-></pre>
            <p>即字符串 "rgb(from red calc(0.5 * r) g calc(30%))"，而其计算值序列化为 "color(srgb 0.5 0 0.3)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-nested-none">
            <a class="self-link" href="#ex-serial-rcs-nested-none"></a> 例如，下例声明值序列化为
            <pre
                class="lang-css highlight"><c- nf>hsl</c-><c- p>(</c->from <c- nf>hsl</c-><c- p>(</c->none <c- m>10</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>)</c-> h s l<c- p>);</c-></pre>
            <p>即字符串 "hsl(from hsl(none 10% 50%) h s l)"，计算值为 "color(srgb 0.55 0.45 0.45)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-hsl-unclamped">
            <a class="self-link" href="#ex-serial-rcs-hsl-unclamped"></a> 例如，下例声明值序列化为
            <pre
                class="lang-css highlight"><c- nf>hsl</c-><c- p>(</c->from <c- nf>hsl</c-><c- p>(</c-><c- m>127.9</c-> <c- m>302</c-><c- k>%</c-> <c- m>25.33</c-><c- k>%</c-><c- p>)</c-> h s l<c- p>);</c-></pre>
            <p>即字符串 "hsl(from hsl(127.9 302% 25.33%) h s l)"，计算值为 "color(srgb -0.511666 1.018266 -0.310225)"。</p>
        </div>
        <div class="example" id="ex-serial-rcs-currentcolor">
            <a class="self-link" href="#ex-serial-rcs-currentcolor"></a> 下例HTML（注意元素的color属性）：
            <pre class="lang-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>"example"</c-> 
  <c- e>style</c-><c- o>=</c-><c- s>"background-color: rgb(from currentcolor r g calc(b / 2)); </c->
<c- s>  color: blue;"</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <p><span class="css">background-color</span> 的声明值序列化为 "rgb(from currentcolor r g calc(b / 2))"，其计算值序列化为
                "color(srgb 0 0 0.5)"</p>
        </div>
        <p>相对颜色函数结果的序列化，
            取决于 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor"
                id="ref-for-valdef-color-currentcolor④">currentColor</a> 是否为<a data-link-type="dfn" href="#origin-color"
                id="ref-for-origin-color④③">原始颜色</a>。
            是则序列化为声明值，
            这样子元素 <span class="css">color</span> 属性不同值时能正确继承。
            否则，
            是其已解析值，
            即<a class="production css" data-link-type="type" href="#typedef-color"
                id="ref-for-typedef-color②⑦">&lt;color></a>，
            按 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite>
                §  15. 序列化 &lt;color> 值</a> 规则。</p>
        <p>具体格式取决于<a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑦">相对颜色</a>的色彩空间：</p>
        <table class="data">
            <tbody>
                <tr>
                    <th>混合色彩空间
                    <th>序列化形式
                <tr>
                    <td>srgb
                    <td>color(srgb r g b)
                <tr>
                    <td>srgb-linear
                    <td>color(srgb-linear r g b)
                <tr>
                    <td>display-p3
                    <td>color(display-p3 r g b)
                <tr>
                    <td>a98-rgb
                    <td>color(a98-rgb r g b)
                <tr>
                    <td>prophoto-rgb
                    <td>color(prophoto-rgb r g b)
                <tr>
                    <td>rec2020
                    <td>color(rec2020 r g b)
                <tr>
                    <td>hsl
                    <td>color(srgb r g b)
                <tr>
                    <td>hwb
                    <td>color(srgb r g b)
                <tr>
                    <td>xyz-d65
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>xyz-d50
                    <td>color(xyz-d50 x y z)
                <tr>
                    <td>xyz
                    <td>color(xyz-d65 x y z)
                <tr>
                    <td>lab
                    <td>lab(l a b)
                <tr>
                    <td>lch
                    <td>lch(l c h)
                <tr>
                    <td>oklab
                    <td>oklab(l a b)
                <tr>
                    <td>oklch
                    <td>oklch(l c h)
        </table>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list"></ul>
        </details>
        <p>往返的<em>最低</em>精度
            与 <a href="https://www.w3.org/TR/css-color-4/#serializing-color-function-values"><cite>CSS 颜色 4</cite>
                § 15.5 序列化 color() 函数的值</a> 中指定的精度相同。</p>
        <div class="example" id="ex-serial-rcs-computed">
            <a class="self-link" href="#ex-serial-rcs-computed"></a> 序列化
            <pre
                class="lang-css highlight"><c- nf>lch</c-><c- p>(</c->from peru <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->c * <c- m>0.7</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>))</c-> </pre>
            <p>的结果是字符串 <span class="swatch" style="--color: rgb(3.12% 50.352% 68.894%)"></span> "lch(49.80224
                37.80819 243.6803)"</p>
        </div>
        <h3 class="heading settled" data-level="11.4" id="serial-custom-color"><span class="secno">11.4. </span><span
                class="content"> 序列化自定义颜色空间 </span><a class="self-link" href="#serial-custom-color"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①②">color()</a>
            组件值的保留精度，
            因此序列化值中保留的有效数字位数，
            在本规范中未定义，
            但对于 CMYK 颜色空间，必须至少足以进行八位精度的值回传；
            这将导致至少保留两位小数，
            除非已省略了末尾的零。
        </p>
        <div class="example" id="ex-color-swop-serial">
            <a class="self-link" href="#ex-color-swop-serial"></a>
            <p>以下颜色的序列化值是</p>
            <pre class="lang-css highlight"><c- n>@color-profile</c-> --swop5c <c- p>{</c-><c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
<c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(94.903% 45.248% 59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c  <c- m>0</c-><c- k>%</c-> <c- m>70.0</c-><c- k>%</c-> <c- m>20.00</c-><c- k>%</c-> <c- m>.0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c-></pre>
            <p>字符串 "color(--swop5c 0 0.7 0.2 0)"</p>
        </div>
        <h3 class="heading settled" data-level="11.5" id="serializing-device-cmyk-values"><span class="secno">11.5.
            </span><span class="content"> 序列化 <span class="css">device-cmyk</span> 值 </span><a class="self-link"
                href="#serializing-device-cmyk-values"></a></h3>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk①①">device-cmyk()</a> 值的序列化形式
            取自<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                id="ref-for-computed-value">计算值</a>，并使用 <span class="css"
                id="ref-for-funcdef-device-cmyk①②">device-cmyk()</span> 这种形式，
            函数名全部小写。</p>
        <p>分量值用十进制序列化，
            作为<a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                id="ref-for-number-value⑥⑤">&lt;number></a>。
            各分量之间必须用单一 ASCII 空格字符 " " 分隔。</p>
        <p>分量值的小数部分若全为零必须省略；
            如果小数部分全部为零，
            小数点也必须省略。</p>
        <div class="example" id="ex-device-cmyk-serial">
            <a class="self-link" href="#ex-device-cmyk-serial"></a>
            <p>下面颜色的序列化结果为</p>
            <pre
                class="lang-css highlight"><span class="swatch" style="--color: rgb(70.7% 26.9% 19.7%);"></span>  <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>)</c-></pre>
            <p>是字符串 "device-cmyk(0 0.81 0.81 0.3)"</p>
        </div>
        <p><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                id="ref-for-funcdef-device-cmyk①③">device-cmyk()</a> 分量值所保留的精度，
            以及序列化值的有效数字位数，
            本规范未作要求，
            但至少要能保证
            八位精度值往返不丢失；
            这通常意味着至少两位小数，
            除非末尾有零被省略。
            数值必须<a href="https://drafts.csswg.org/css-values-4/#combine-integers">向正无穷方向舍入</a>，不可截断。</p>
        <p>1 的 alpha 不需要单独序列化。
            非 1 的 alpha 必须显式序列化，
            且字符串 " / "
            （一个 ASCII 空格、斜杠、再一个空格）
            必须用来分隔
            黑色（"k"）分量值
            和 alpha 值。</p>
        <h2 class="heading settled" data-level="12" id="apis"><span class="secno">12. </span><span class="content">API
                接口</span><a class="self-link" href="#apis"></a></h2>
        <h3 class="heading settled" data-level="12.1" id="the-csscolorprofilerule-interface"><span class="secno">12.1.
            </span><span class="content"><code>CSSColorProfileRule</code> 接口</span><a class="self-link"
                href="#the-csscolorprofilerule-interface"></a></h3>
        <p><a class="idl-code" data-link-type="interface" href="#csscolorprofilerule"
                id="ref-for-csscolorprofilerule">CSSColorProfileRule</a> 接口表示 <a class="css" data-link-type="maybe"
                href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑤">@color-profile</a> 规则。
        </p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></dfn> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssrule" id="ref-for-cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name" id="ref-for-dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src" id="ref-for-dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent" id="ref-for-dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring③"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components" id="ref-for-dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};
</pre>
        <dl>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-name"><code>name</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring④">CSSOMString</a>，只读</span>
            <dd><var>name</var> 属性获取时必须返回
                一个包含关联规则中定义的 <a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile③">颜色
                    配置文件</a> 的 <var>name</var> 序列化的 <code>CSSOMString</code> 对象。
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-src"><code>src</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑤">CSSOMString</a>，只读</span>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-renderingintent"><code>renderingIntent</code></dfn>, <span>
                    类型为 <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑥">CSSOMString</a>，只读</span>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute"
                    data-export id="dom-csscolorprofilerule-components"><code>components</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"
                        id="ref-for-cssomstring⑦">CSSOMString</a>，只读</span>
            <dd> 其余的属性在获取时必须返回包含
                与关联规则关联的描述符的序列化 <code>CSSOMString</code> 对象。
                如果未在关联规则中指定描述符，
                则该属性必须返回一个空字符串。
        </dl>
        <h2 class="heading settled" data-level="13" id="sample"><span class="secno">13. </span><span class="content">
                默认样式规则 </span><a class="self-link" href="#sample"></a></h2>
        <p>以下样式表是说明性的，而非规范性的。此样式表可由实现作为其默认 HTML 系列文档样式的一部分。</p>
        <pre class="lang-css highlight"><c- c>/* 传统桌面用户代理的超链接颜色 */</c->
:link <c- p>{</c-> <c- k>color</c-><c- p>:</c-> LinkText<c- p>;</c-> <c- p>}</c->
:visited <c- p>{</c-> <c- k>color</c-><c- p>:</c-> VisitedText<c- p>;</c-> <c- p>}</c->
:active <c- p>{</c-> <c- k>color</c-><c- p>:</c-> ActiveText<c- p>;</c-> <c- p>}</c->

<c- c>/* device-cmyk 的合理、保守的默认值 */</c->
<c- n>@color-profile</c-> device-cmyk <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://drafts.csswg.org/css-color-4/ICCprofiles/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
</pre>
        <h2 class="heading settled" data-level="14" id="color-conversion-code"><span class="secno">14. </span><span
                class="content"> 颜色转换示例代码</span><a class="self-link" href="#color-conversion-code"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>device-cmyk 的简单转换非常直观：</p>
        <pre class="include-code highlight"><c- a>function</c-> naive<c- p>(</c->cmyk<c- p>)</c-> <c- p>{</c->
  <c- c1>// 天真地将 CMYK 数组</c->
  <c- c1>// 转换为 sRGB</c->
  <c- a>let</c-> <c- p>[</c->cyan<c- p>,</c-> magenta<c- p>,</c-> yellow<c- p>,</c-> black<c- p>]</c-> <c- o>=</c-> cmyk<c- p>;</c->
    <c- a>let</c-> red <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- a>let</c-> green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- a>let</c-> blue <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- k>return</c-> <c- p>[</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>];</c->
<c- p>}</c->
</pre>
        <h2 class="heading settled" data-level="15" id="security"><span class="secno">15. </span><span class="content">
                安全性考虑 </span><a class="self-link" href="#security"></a></h2>
        <p>本规范为 CSS 增加了按需下载 ICC 配置文件的能力。ICC 配置文件不包含可执行代码，因此不会带来额外的安全风险。</p>
        <h2 class="heading settled" data-level="16" id="privacy"><span class="secno">16. </span><span class="content">
                隐私性考虑 </span><a class="self-link" href="#privacy"></a></h2>
        <p>截至目前，本规范未收到新的隐私性相关问题报告。</p>
        <h2 class="heading settled" data-level="17" id="a11y-sec"><span class="secno">17. </span><span
                class="content">可访问性考虑 </span><a class="self-link" href="#a11y-sec"></a></h2>
        <p>本规范为用户自定义色（包括动态色）文本背景增加了确保对比度充分的机制。</p>
        <h2 class="heading settled" data-level="18" id="changes"><span class="secno">18. </span><span class="content">
                变更记录 </span><a class="self-link" href="#changes"></a></h2>
        <h3 class="heading settled" data-level="18.1" id="changes-20250318"><span class="secno">18.1. </span><span
                class="content"> 自 <a href="https://www.w3.org/TR/2025/WD-css-color-5-20250318/">2025 年 3 月 18 日工作草案</a>
            </span><a class="self-link" href="#changes-20250318"></a></h3>
        <ul>
            <li>为相对色增加回链至 CSS Color 4 的相关定义（<a href="https://github.com/w3c/csswg-drafts/issues/13286">Issue 13286</a>）
            <li>规定若存在多条 @color-profile 规则，以最后一条为准（<a href="https://github.com/w3c/csswg-drafts/issues/12980">Issue
                    12980</a>）
            <li>color-mix() 默认 oklab，可省略 color-interpolation-method（<a
                    href="https://github.com/w3c/csswg-drafts/issues/10484">Issue 10484</a>）
            <li>删除遗留文本（原本假定 color-mix() 仅支持两色混合）
            <li>更新 origin color 的序列化（<a href="https://github.com/w3c/csswg-drafts/issues/10328">Issue 10328</a>）
            <li>为插值增加 display-p3-linear 颜色空间
            <li>新增 alpha() RCS 函数
            <li>更新说明，取消 color-mix 只限于两色混合的说法
            <li>更清晰说明外部样式资源的抓取方式
            <li>明确 color-mix() 单色返回结果在当前指定色彩空间
            <li>使色彩混合算法传递归一化标志
            <li>允许 color-mix() 多于一个参数，与其它 *-mix() 形式一致
            <li>引入 CSS Color 4 关于 "resolve to sRGB" 和 "support legacy color syntax" 的定义
            <li>新增 device-cmyk 的 JS 简单转换示例代码
            <li>新增用 device-cmyk 作为 color-mix() 回退色的例子
            <li>明确 device-cmyk() 没有 RCS
            <li>规定 color-mix() 的百分比和为零时返回 transparent
            <li>补 export “required conversion” 术语
        </ul>
        <h3 class="heading settled" data-level="18.2" id="changes-20240229"><span class="secno">18.2. </span><span
                class="content"> 自 <a href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/">2024 年 2 月 29 日工作草案</a>
            </span><a class="self-link" href="#changes-20240229"></a></h3>
        <ul>
            <li>明确分量关键字可返回 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑤">none</a>
                或数值
            <li>增加嵌套色函数序列化示例
            <li>WG 决议下定义 color-mix() 使用 calc 的边界情况
            <li>去除对 color-mix() 百分比和为零为非法的表述，采 WG 决议
            <li>统一使用“color component”而非“color channel”（原二者混用）
            <li>精简 contrast-color()，采 WG 决议
            <li>一致指向 “premultiplied” 术语
            <li>校验 color profile components 不区分大小写
            <li>将 contrast-color() 增加到 color 类型定义中
            <li>增加可访问性小部件
            <li>为插值解释增加 FOGRA39、51、55 引用
            <li>删除禁用 rect 空间 &lt;hue-interpolation-method> 的内容（语法本不允许）
            <li>明确相对色的分量关键字关联的色彩空间
            <li>分离相对色概念与语法细节
            <li>保证 MacBeth deltaE 表中的文本对比度充足
            <li>明确相对色 component 不做钳制，alpha 除外
        </ul>
        <h3 class="heading settled" data-level="18.3" id="changes-20220628"><span class="secno">18.3. </span><span
                class="content"> 自 <a href="https://www.w3.org/TR/2022/WD-css-color-5-20220628/">2022 年 6 月 28 日工作草案</a>
            </span><a class="self-link" href="#changes-20220628"></a></h3>
        <ul>
            <li>描述 CSSOM 序列化以声明值为准，不再用指定值
            <li>新增 <a class="css" data-link-type="maybe" href="#funcdef-contrast-color"
                    id="ref-for-funcdef-contrast-color⑥">contrast-color()</a> 函数
            <li>显式链接色彩 4 中的插值章节（应用于 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix①③">color-mix()</a>）
            <li>删除 HSL 色域映射相关表述
            <li>将绝对色用文字描述，不在语法中体现
            <li>在每种 RCS 对应场景都列出百分比换算区间
            <li>更完善地定义相对色 origin color 为 currentColor 时的序列化。currentColor、sRGB、<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl①⓪">hsl()</a> 和 <a
                    class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑦">hwb()</a> 都用
                color(srgb ...) 以实现轮换
            <li>更新摘要，加入 <a class="css" data-link-type="maybe" href="#funcdef-light-dark"
                    id="ref-for-funcdef-light-dark⑤">light-dark()</a> 函数
            <li>补充 CSS Color 4 的更多矩形色彩空间定义
            <li>修正 custom params 的语法（空格分隔，不是逗号）
            <li>补正 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①④">device-cmyk()</a> 语法少了 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑥">none</a>
                及 CSS GCPM 的遗留语法
            <li><a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                    id="ref-for-funcdef-color-mix①④">color-mix()</a> 补充到 color type 的语法
            <li>明确 RCS 已声明值的序列化规则
            <li>增加 color-mix 回退色实例及相关说明
            <li>增加 CIE XYZ D65 色空间 RCS 示例
            <li>删除部分与 Color 4 重复且未做改动的章节
            <li>更正章节标题为 "指定预定义和自定义色空：<a class="css" data-link-type="maybe" href="#funcdef-color"
                    id="ref-for-funcdef-color①③">color()</a> 函数"
            <li>规定 HWB 可接受 number，原仅允许百分比
            <li>明确 RCS 位置混用关键字无自动缩放，须用 calc() 手动处理，并补示例
            <li>明确 Oklab lightness/CIE Lightness 区分
            <li>明确序列化 color-mix() 用 currentColor 时的行为并补示例
            <li>修正 color-mix 示例拼写
            <li>修正示例中应为 none 而不是 0 的分量
            <li>规定 color-mix 指定值序列化以指定百分比，不归一化
            <li>删除 unchanged alpha-value 定义，直接链接到 Color 4
            <li>并用分别的 modern/legacy 语法定义 rgb、rgba、hsl、hsla
            <li>明确 origin color 类型不做限制，modern 和 legacy 均可
            <li>增加新 color 定义，明确 RCS 可嵌套
            <li>明确 RGB/HSL 可混用 percent 和 number，不再专属 RCS
            <li>明确 RCS 只适用于 modern 色彩语法
            <li>定义必须转换色彩空间，明确不需要转换时可跳过
            <li>补正确与错误渐变渲染示意图
            <li>明确 custom 空间无名分量同样有效
            <li>优化部分示例
            <li>明确定义 RCS 缺失分量
            <li>增加 dashed-ident 到 color-interpolation-method，可在自定义色彩空间插值
            <li>明确 RCS 中色相分量为度制数值
            <li>指明 currentColor 为 origin color 时已解析 RCS
            <li>分量关键字只能有一种类型
            <li>修正 RCS 用 legacy 语法的错误示例
            <li>各示例序列化格式规范
            <li>注记 <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①⑤">device-cmyk()</a> 有明确的序列化定义
            <li>增加 <a class="idl-code" data-link-type="interface" href="#csscolorprofilerule"
                    id="ref-for-csscolorprofilerule①">CSSColorProfileRule</a> 接口
            <li>Oklab 与 OkLCh 大小写统一
            <li>补色块可访问性处理
            <li>为色块和示意图补辅助文字
            <li>修正部分色块裁切
            <li>补充部分色块
            <li>为 MacBeth 图和 deltaE 表增加行列标签
            <li>色相轮图例更清晰
            <li>图表对比度、描述更好及可访问性提升
            <li>所有图例和结构均有唯一 id、自引用链接
        </ul>
        <h3 class="heading settled" data-level="18.4" id="changes-20220428"><span class="secno">18.4. </span><span
                class="content"> 自 <a href="https://www.w3.org/TR/2022/WD-css-color-5-20220428/">2022 年 4 月 28 日工作草案</a>
            </span><a class="self-link" href="#changes-20220428"></a></h3>
        <ul>
            <li>修正 rgb() 定义中的拼写错误
            <li>编辑改进（大小写、拼写、表述更清晰）
            <li>导出定义，供其它规范引用
            <li> alpha 语法补 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑦">none</a>
            <li>将 color-contrast() 移至第 6 级
        </ul>
        <h3 class="heading settled" data-level="18.5" id="changes-20211215"><span class="secno">18.5. </span><span
                class="content"> 自 <a href="https://www.w3.org/TR/2021/WD-css-color-5-20211215/">2021 年 12 月 15
                    日工作草案</a> </span><a class="self-link" href="#changes-20211215"></a></h3>
        <ul>
            <li>color() 多余/不足参数容错仅限自定义色空间
            <li>RCS 允许 number 或 percent 任意组合
            <li>详细说明分量名与 CSS 常量可能冲突（如 PI）
            <li>相对色语法只用现代（非逗号分隔）语法
            <li>修正 rgb() 语法遗漏 alpha 可选 none
            <li>color-mix() 用于 hsl、hwb 时更高精度
            <li>补色域外 color-mix 示例
            <li>HSL/HWB 无法表示超色域色时用“无法表达该色”表述
            <li>拼写修正
        </ul>
        <h3 class="heading settled" data-level="18.6" id="changes-20210601"><span class="secno">18.6. </span><span
                class="content"> 自 <a href="https://www.w3.org/TR/2021/WD-css-color-5-20210601/">2021 年 6 月 1 日工作草案</a>
            </span><a class="self-link" href="#changes-20210601"></a></h3>
        <ul>
            <li>矩形空间下使用 &lt;hue-interpolation-method> 为语法错误
            <li>旧 &lt;hue-adjuster> 改为新 &lt;hue-interpolation-method>
            <li>@color-profile 和 device-cmyk 移到第五级（CSSWG 决议）
            <li>排除 none 作为分量名
            <li>增加 OkLCh 相对色语法例
            <li>定义插值色空间
            <li>按 fetch 定义加载色彩配置
            <li>明确对比度基于 D65 校正的 CIE XYZ
            <li>补 oklab()、oklch() 到 color-mix() 序列化中
            <li>补 oklab()/oklch() 相对色语法
            <li>增加 lch vs oklch 混合示例
            <li>优先用 oklab/oklch 混色
            <li>xyz 改为 D65，相应 CSS Color 4
            <li>补 oklab/oklch 色空间
            <li>明确定义 color-contrast() 的解析
            <li>明确序列化最小精度
            <li>确定 CIE LCH 语义
            <li>新增若干示例
            <li>移除 color-adjust()，保留相对色语法
            <li>规范 color-mix、color-contrast、相对色语法的结果序列化
        </ul>
        <h3 class="heading settled" data-level="18.7" id="changes-20200303"><span class="secno">18.7. </span><span
                class="content"> 自 <a href="https://www.w3.org/TR/2020/WD-css-color-5-20200303/">2020 年 6 月 10 日初稿</a>
            </span><a class="self-link" href="#changes-20200303"></a></h3>
        <ul>
            <li>为 color() 函数增加了相对色语法
            <li>明确 color-adjuster 不是可选项
            <li>明确 color-mix 中百分比为必填
            <li>hue-adjuster 移回 color-mix
            <li>增加不同混合色空间的示例
            <li>补充 color-mix() 百分比归一化示例
            <li>明确定义 color-mix() 禁止负百分比
            <li>color-mix() 百分比和小于 100% 时 alpha 透明度小于 100%
            <li>统一用 color space 术语，定义 <a class="production css" data-link-type="type" href="#typedef-color-space"
                    id="ref-for-typedef-color-space④">&lt;color-space></a> 记号
            <li>修正 color-contrast 语法
            <li>为 color-contrast() 增加可选目标对比度
            <li>修正 adjuster 语法
            <li>指出百分比和为零需要特殊处理
            <li>明确 color-mix() 的运算顺序
            <li>示例已更新为当前语法
            <li>定义百分比归一化方法
            <li>明确 color-mix() 中 0% 和 100% 的含义
            <li>adjusters 的定义从 color-mix() 移到 color-adjust()
            <li>color-mix() 参数允许任意顺序
            <li>color-mix() 必须指定混合色空间
            <li>允许 color-mix() 百分比写在颜色前面
            <li>明确 color-mix() 算法步骤
            <li>color-mix() 移除 adjusters 并简化语法
            <li>增加 "in" 关键字指定混合色彩空间
            <li>color-contrast() 列表至少两个元素
            <li>更详细地解释了相对色语法
            <li>链接至 CSS 4 的色值序列化定义
            <li>新增色彩空间独立章节
            <li>补充 color-adjust 的示例
            <li>增加讲解性插图
            <li>处理未解百分比情况
            <li>color-mix 参数归一化
            <li>允许 adjusters 用百分比
            <li>修正链接
            <li>color-mix 语法支持 adjuster，增加 alpha adjuster
            <li>修正部分示例
            <li>更新了安全/隐私章节
            <li>给 color-contrast 增加了 vs 关键字
            <li>在语法中补充 xyz adjuster
            <li>增加了色相 adjuster 关键字
            <li>允许用 XYZ 色彩空间进行混合
            <li>定义 color-adjuster 和 color space
            <li>mix percent 默认可为 50%
            <li>增加了完整算法和图示例子
            <li>纠正拼写、语法、格式等小问题
            <li>补充 color-contrast() 解析章节
        </ul>
        <h3 class="heading settled" data-level="18.8" id="changes-from-4"><span class="secno">18.8. </span><span
                class="content"> 相比 CSS Color 4 的主要变更 </span><a class="self-link" href="#changes-from-4"></a></h3>
        <p>与 CSS Color 4 相比，一个重大变化是 CSS 颜色已不限于预定义的 RGB 色空间（如 sRGB、display-p3）。</p>
        <p>为此增加了如下新特性：</p>
        <ol>
            <li><a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①④">color()</a>
                函数由 <a class="css" data-link-type="maybe" href="#at-ruledef-profile"
                    id="ref-for-at-ruledef-profile①⑥">@color-profile</a> at 规则扩展，用于支持设备相关的有 profile 色，包括校准型 CMYK。
            <li><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk"
                    id="ref-for-funcdef-device-cmyk①⑥">device-cmyk()</a> 函数，用于指定输出设备无校准的（设备相关的）CMYK 颜色。
        </ol>
        <p>此外，全新 <a class="css" data-link-type="maybe" href="#funcdef-color-mix"
                id="ref-for-funcdef-color-mix①⑥">color-mix()</a> 函数允许在指定色空间将两色混合得到新色。</p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">符合性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>

    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>符合性要求通过描述性断言和 RFC 2119 术语的组合来表达。关键字“必须”、“禁止”、“需要”、“应”、“不应”、“推荐”、“可以”和“可选”在本文件的规范部分中应按照 RFC 2119
        的描述进行解释。然而，为了可读性，这些词在本规范中不会全部以大写字母形式出现。</p>
    <p>本规范的所有文本均为规范性内容，除非明确标记为非规范性部分、示例和注释。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>本规范中的示例以“例如”开头，或与规范性文本分开设置 <code>class="example"</code>，例如：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个信息性示例。</p>
    </div>
    <p>信息性注释以“注释”开头，并与规范性文本分开设置 <code>class="note"</code>，例如：</p>
    <p class="note" role="note">注释，这是一条信息性注释。</p>
    <p>建议是规范性部分，样式设计为引起特别注意，并与其他规范性文本分开设置 <code>&lt;strong class="advisement"></code>，例如：<strong class="advisement">
            用户代理必须提供可访问的替代方案。</strong></p>

    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>测试</summary>
        <p>与本规范内容相关的测试可能会记录在像这样的“测试”块中。任何此类块均为非规范性内容。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">符合性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范的符合性定义了三类符合性类别：</p>
    <dl>
        <dt>样式表
        <dd>一个 <a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS 样式表</a>。
        <dt>渲染器
        <dd>一个 <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理（UA）</a>，其解释样式表的语义并渲染使用它们的文档。
        <dt>创作工具
        <dd>一个 <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理（UA）</a>，其编写样式表。
    </dl>
    <p>如果样式表中使用的所有语法声明都符合该模块定义的通用 CSS 语法及各个特性的语法，则样式表符合本规范。</p>
    <p>如果渲染器除了按照适用的规范解释样式表外，还通过正确解析并相应地渲染文档来支持本规范定义的所有特性，则该渲染器符合本规范。然而，由于设备的限制而无法正确渲染文档的 UA 并不因此而不符合规范。（例如，UA
        并不要求在单色显示器上渲染颜色。）</p>
    <p>如果创作工具编写的样式表在语法上符合通用 CSS 语法及该模块中定义的各个特性，并且符合该模块描述的样式表的所有其他符合性要求，则该创作工具符合本规范。</p>

    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为了让作者可以利用前向兼容的解析规则来分配回退值，CSS 渲染器<strong>必须</strong>将任何不支持的 at-rules、属性、属性值、关键字和其他语法结构视为无效并适当地<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">忽略</a>。特别是，用户代理<strong>不得</strong>在单个多值属性声明中选择性忽略不支持的组件值并保留支持的值：如果任何值被视为无效（因为不支持的值必须如此），CSS
        规定整个声明应被忽略。</p>

    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">不稳定和专有特性的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为了避免与未来稳定的 CSS 特性发生冲突，CSS 工作组建议<a href="https://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>来实现<a
            href="https://www.w3.org/TR/CSS/#unstable">不稳定的</a>特性和<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>。</p>

    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>一旦规范进入候选推荐阶段，就可以进行非实验性实现，实施者应发布任何符合 CR 级别特性的非前缀实现，前提是可以证明该实现按照规范正确实现。</p>
    <p>为了建立和维护 CSS 在不同实现中的互操作性，CSS 工作组要求非实验性 CSS 渲染器在发布任何 CSS 特性的非前缀实现之前向 W3C 提交一个实现报告（如有必要，还包括该实现报告使用的测试用例）。提交给 W3C
        的测试用例将由 CSS 工作组进行审查和修正。</p>
    <p>有关提交测试用例和实现报告的进一步信息，请访问 CSS 工作组的网站 <a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。问题应提交到 <a
            href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> 邮件列表。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li>
            a
            <ul>
                <li><a href="#valdef-lab-a">lab() 的值</a><span>，见 § 4.6</span>
                <li><a href="#valdef-oklab-a">oklab() 的值</a><span>，见 § 4.7</span>
            </ul>
        <li><a href="#absolute-color">绝对颜色</a><span>，见 § 2</span>
        <li><a href="#valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</a><span>，见
                § 5.3</span>
        <li>
            alpha
            <ul>
                <li><a href="#valdef-alpha-alpha">alpha() 的值</a><span>，见 § 4.10</span>
                <li><a href="#valdef-color-alpha">color() 的值</a><span>，见 § 5.1</span>
                <li><a href="#valdef-hsl-alpha">hsl() 的值</a><span>，见 § 4.4</span>
                <li><a href="#valdef-hwb-alpha">hwb() 的值</a><span>，见 § 4.5</span>
                <li><a href="#valdef-lab-alpha">lab() 的值</a><span>，见 § 4.6</span>
                <li><a href="#valdef-lch-alpha">lch() 的值</a><span>，见 § 4.8</span>
                <li><a href="#valdef-oklab-alpha">oklab() 的值</a><span>，见 § 4.7</span>
                <li><a href="#valdef-oklch-alpha">oklch() 的值</a><span>，见 § 4.9</span>
                <li><a href="#valdef-rgb-alpha">rgb() 的值</a><span>，见 § 4.3</span>
            </ul>
        <li><a href="#funcdef-alpha">alpha()</a><span>，见 § 4.10</span>
        <li>
            b
            <ul>
                <li><a href="#valdef-color-b">color() 的值</a><span>，见 § 5.1</span>
                <li><a href="#valdef-hwb-b">hwb() 的值</a><span>，见 § 4.5</span>
                <li><a href="#valdef-lab-b">lab() 的值</a><span>，见 § 4.6</span>
                <li><a href="#valdef-oklab-b">oklab() 的值</a><span>，见 § 4.7</span>
                <li><a href="#valdef-rgb-b">rgb() 的值</a><span>，见 § 4.3</span>
            </ul>
        <li>
            c
            <ul>
                <li><a href="#valdef-lch-c">lch() 的值</a><span>，见 § 4.8</span>
                <li><a href="#valdef-oklch-c">oklch() 的值</a><span>，见 § 4.9</span>
            </ul>
        <li><a href="#calculate-a-color-mix">计算 color-mix()</a><span>，见 § 3.3</span>
        <li><a href="#typedef-cmyk-component">&lt;cmyk-component></a><span>，见 § 6</span>
        <li><a href="#typedef-color">&lt;color></a><span>，见 § 2</span>
        <li><a href="#funcdef-color">color()</a><span>，见 § 5</span>
        <li><a href="#typedef-color-base">&lt;color-base></a><span>，见 § 2</span>
        <li><a href="#typedef-color-function">&lt;color-function></a><span>，见 § 2</span>
        <li><a href="#color-interpolation-method">&lt;color-interpolation-method></a><span>，见 § 9.1</span>
        <li><a href="#funcdef-color-mix">color-mix()</a><span>，见 § 3</span>
        <li><a href="#at-ruledef-profile">@color-profile</a><span>，见 § 5.3</span>
        <li><a href="#css-color-profile">色彩描述文件（color profile）</a><span>，见 § 5.3</span>
        <li><a href="#typedef-color-space">&lt;color-space></a><span>，见 § 9.1</span>
        <li><a href="#typedef-colorspace-params">&lt;colorspace-params></a><span>，见 § 5</span>
        <li><a href="#component-keyword">分量关键字</a><span>，见 § 4.2</span>
        <li>
            components
            <ul>
                <li><a href="#dom-csscolorprofilerule-components">CSSColorProfileRule 的属性</a><span>，见
                        § 12.1</span>
                <li><a href="#descdef-color-profile-components">@color-profile 的描述符</a><span>，见 § 5.3</span>
            </ul>
        <li><a href="#funcdef-contrast-color">contrast-color()</a><span>，见 § 8</span>
        <li><a href="#css-color-profile">CSS 色彩描述文件</a><span>，见 § 5.3</span>
        <li><a href="#csscolorprofilerule">CSSColorProfileRule</a><span>，见 § 12.1</span>
        <li><a href="#typedef-custom-color-space">&lt;custom-color-space></a><span>，见 § 9.1</span>
        <li><a href="#typedef-custom-params">&lt;custom-params></a><span>，见 § 5</span>
        <li><a href="#funcdef-device-cmyk">device-cmyk()</a><span>，见 § 6</span>
        <li><a href="#fetch-an-external-color-profile">获取外部色彩描述文件</a><span>，见 § 5.3</span>
        <li>
            g
            <ul>
                <li><a href="#valdef-color-g">color() 的值</a><span>，见 § 5.1</span>
                <li><a href="#valdef-rgb-g">rgb() 的值</a><span>，见 § 4.3</span>
            </ul>
        <li><a href="#gamut-map">色域映射（gamut-map）</a><span>，见 § 5.3</span>
        <li>
            h
            <ul>
                <li><a href="#valdef-hsl-h">hsl() 的值</a><span>，见 § 4.4</span>
                <li><a href="#valdef-hwb-h">hwb() 的值</a><span>，见 § 4.5</span>
                <li><a href="#valdef-lch-h">lch() 的值</a><span>，见 § 4.8</span>
                <li><a href="#valdef-oklch-h">oklch() 的值</a><span>，见 § 4.9</span>
            </ul>
        <li><a href="#typedef-hue-interpolation-method">&lt;hue-interpolation-method></a><span>，见 § 9.1</span>
        <li><a href="#funcdef-hwb">hwb()</a><span>，见 § 4.5</span>
        <li><a href="#invalid-color">无效色（invalid color）</a><span>，见 § 5</span>
        <li>
            l
            <ul>
                <li><a href="#valdef-hsl-l">hsl() 的值</a><span>，见 § 4.4</span>
                <li><a href="#valdef-lab-l">lab() 的值</a><span>，见 § 4.6</span>
                <li><a href="#valdef-lch-l">lch() 的值</a><span>，见 § 4.8</span>
                <li><a href="#valdef-oklab-l">oklab() 的值</a><span>，见 § 4.7</span>
                <li><a href="#valdef-oklch-l">oklch() 的值</a><span>，见 § 4.9</span>
            </ul>
        <li><a href="#funcdef-lab">lab()</a><span>，见 § 4.6</span>
        <li><a href="#funcdef-lch">lch()</a><span>，见 § 4.8</span>
        <li><a href="#typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a><span>，见 § 6</span>
        <li><a href="#funcdef-light-dark">light-dark()</a><span>，见 § 7</span>
        <li><a href="#typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a><span>，见 § 6</span>
        <li><a href="#typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a><span>，见 § 4.4</span>
        <li><a href="#typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a><span>，见 § 4.4</span>
        <li><a href="#typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a><span>，见 § 4.3</span>
        <li><a href="#typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a><span>，见 § 4.3</span>
        <li><a href="#naively-convert-from-rgba-to-cmyk">天真转换为 CMYK</a><span>，见 § 6.1</span>
        <li><a href="#naively-convert-from-cmyk-to-rgba">天真转换为 RGBA</a><span>，见 § 6.1</span>
        <li><a href="#naively-convert-from-cmyk-to-rgba">天真地将 CMYK 转 RGBA</a><span>，见 § 6.1</span>
        <li><a href="#naively-convert-from-rgba-to-cmyk">天真地将 RGBA 转 CMYK</a><span>，见 § 6.1</span>
        <li><a href="#dom-csscolorprofilerule-name">name</a><span>，见 § 12.1</span>
        <li><a href="#funcdef-oklab">oklab()</a><span>，见 § 4.7</span>
        <li><a href="#funcdef-oklch">oklch()</a><span>，见 § 4.9</span>
        <li><a href="#originally-specified-color-space">最初指定的色彩空间</a><span>，见 § 4.1</span>
        <li><a href="#origin-color">原始颜色</a><span>，见 § 4.1</span>
        <li><a href="#out-of-gamut">超出色域（out of gamut）</a><span>，见 § 5</span>
        <li><a href="#valdef-color-profile-rendering-intent-perceptual">perceptual</a><span>，见 § 5.3</span>
        <li><a href="#typedef-polar-color-space">&lt;polar-color-space></a><span>，见 § 9.1</span>
        <li><a href="#typedef-predefined-rgb">&lt;predefined-rgb></a><span>，见 § 5</span>
        <li><a href="#typedef-predefined-rgb-params">&lt;predefined-rgb-params></a><span>，见 § 5</span>
        <li>
            r
            <ul>
                <li><a href="#valdef-color-r">color() 的值</a><span>，见 § 5.1</span>
                <li><a href="#valdef-rgb-r">rgb() 的值</a><span>，见 § 4.3</span>
            </ul>
        <li><a href="#typedef-rectangular-color-space">&lt;rectangular-color-space></a><span>，见 § 9.1</span>
        <li><a href="#relative-color">相对颜色</a><span>，见 § 4.1</span>
        <li><a href="#valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</a><span>，见
                § 5.3</span>
        <li><a href="#descdef-color-profile-rendering-intent">rendering-intent</a><span>，见 § 5.3</span>
        <li><a href="#dom-csscolorprofilerule-renderingintent">renderingIntent</a><span>，见 § 12.1</span>
        <li><a href="#required-conversion">所需转换</a><span>，见 § 4.1</span>
        <li><a href="#resolve-to-srgb">解析为 sRGB</a><span>，见 § 2</span>
        <li><a href="#valdef-hsl-s">s</a><span>，见 § 4.4</span>
        <li><a href="#valdef-color-profile-rendering-intent-saturation">saturation</a><span>，见 § 5.3</span>
        <li>
            src
            <ul>
                <li><a href="#dom-csscolorprofilerule-src">CSSColorProfileRule 的属性</a><span>，见 § 12.1</span>
                <li><a href="#descdef-color-profile-src">@color-profile 的描述符</a><span>，见 § 5.3</span>
            </ul>
        <li><a href="#support-legacy-color-syntax">支持 legacy color 语法</a><span>，见 § 2</span>
        <li><a href="#valid-color">有效颜色</a><span>，见 § 5</span>
        <li><a href="#valdef-hwb-w">w</a><span>，见 § 4.5</span>
        <li><a href="#valdef-color-x">x</a><span>，见 § 5.1</span>
        <li><a href="#typedef-xyz-params">&lt;xyz-params></a><span>，见 § 5</span>
        <li><a href="#valdef-color-y">y</a><span>，见 § 5.1</span>
        <li><a href="#valdef-color-z">z</a><span>，见 § 5.1</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="0948355d">actual value（实际值）</span>
                <li><span class="dfn-paneled" id="8c8e51b4">computed value（计算值）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="e5db470f">&lt;alpha-value></span>
                <li><span class="dfn-paneled" id="cee404c5">&lt;hex-color></span>
                <li><span class="dfn-paneled" id="33347c0e">&lt;hue></span>
                <li><span class="dfn-paneled" id="8fad2d26">&lt;named-color></span>
                <li><span class="dfn-paneled" id="024532da">&lt;system-color></span>
                <li><span class="dfn-paneled" id="640a9100">&lt;xyz-space></span>
                <li><span class="dfn-paneled" id="d11b143f">a98-rgb</span>
                <li><span class="dfn-paneled" id="4dee7468">analogous components（类似组件）</span>
                <li><span class="dfn-paneled" id="0ed7201e">black（黑色）</span>
                <li><span class="dfn-paneled" id="a976c737">blue（蓝色）</span>
                <li><span class="dfn-paneled" id="7398228c">carried forward（传递下去）</span>
                <li><span class="dfn-paneled" id="b46a2c7d">color（颜色）</span>
                <li><span class="dfn-paneled" id="4a1e4e52">color functions（色彩函数）</span>
                <li><span class="dfn-paneled" id="f6f69187">color space（色彩空间）</span>
                <li><span class="dfn-paneled" id="a42c65ac">currentcolor</span>
                <li><span class="dfn-paneled" id="c990915b">cylindrical polar color（柱面极坐标色彩）</span>
                <li><span class="dfn-paneled" id="19512a47">darkolivegreen</span>
                <li><span class="dfn-paneled" id="abed060e">display-p3</span>
                <li><span class="dfn-paneled" id="bc4e4c18">HSL</span>
                <li><span class="dfn-paneled" id="5bd3632a">hsl()</span>
                <li><span class="dfn-paneled" id="239640fd">hsla()</span>
                <li><span class="dfn-paneled" id="85dbac5b">HWB</span>
                <li><span class="dfn-paneled" id="4a14e4dc">lab</span>
                <li><span class="dfn-paneled" id="4b8ab2a8">LCH</span>
                <li><span class="dfn-paneled" id="e2a9e9b9">legacy color syntax（旧色彩语法）</span>
                <li><span class="dfn-paneled" id="f8e15dd7">lime</span>
                <li><span class="dfn-paneled" id="77a29323">modern color syntax（现代色彩语法）</span>
                <li><span class="dfn-paneled" id="528ea935">none（无）</span>
                <li><span class="dfn-paneled" id="01b14142">oklab</span>
                <li><span class="dfn-paneled" id="404710e3">OKLCh</span>
                <li><span class="dfn-paneled" id="f0f7ce16">premultiplied（预乘）</span>
                <li><span class="dfn-paneled" id="691e902b">prophoto-rgb</span>
                <li><span class="dfn-paneled" id="2eb59b48">rec2020</span>
                <li><span class="dfn-paneled" id="af48ee71">rectangular orthogonal color（矩形正交色彩）</span>
                <li><span class="dfn-paneled" id="970f70ea">red（红色）</span>
                <li><span class="dfn-paneled" id="daabf294">rgb()</span>
                <li><span class="dfn-paneled" id="f3226176">rgba()</span>
                <li><span class="dfn-paneled" id="ce4cacb8">srgb</span>
                <li><span class="dfn-paneled" id="e98886a5">srgb-linear</span>
                <li><span class="dfn-paneled" id="f3614b7c">transparent black（透明黑）</span>
                <li><span class="dfn-paneled" id="17858dc9">white（白色）</span>
                <li><span class="dfn-paneled" id="01b00791">xyz</span>
                <li><span class="dfn-paneled" id="b3bfee63">xyz-d65</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-ADJUST-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="746d81ae">dark（暗色）</span>
                <li><span class="dfn-paneled" id="99387b3d">light（亮色）</span>
                <li><span class="dfn-paneled" id="a55c0dec">used color scheme（所用配色方案）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SYNTAX-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="a81b1fb8">&lt;declaration-list></span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c297b070">#</span>
                <li><span class="dfn-paneled" id="bdb4e757">&amp;&amp;</span>
                <li><span class="dfn-paneled" id="af4a190d">+</span>
                <li><span class="dfn-paneled" id="8cd4f032">,</span>
                <li><span class="dfn-paneled" id="d7e1d67b">&lt;angle></span>
                <li><span class="dfn-paneled" id="f5b34cad">&lt;dashed-ident></span>
                <li><span class="dfn-paneled" id="dcecfc13">&lt;ident></span>
                <li><span class="dfn-paneled" id="61bb5e44">&lt;number></span>
                <li><span class="dfn-paneled" id="128295ac">&lt;percentage></span>
                <li><span class="dfn-paneled" id="699488a8">&lt;url></span>
                <li><span class="dfn-paneled" id="d4441b24">?</span>
                <li><span class="dfn-paneled" id="14d3255d">calc()</span>
                <li><span class="dfn-paneled" id="4dbf81d6">canonical unit（标准单位）</span>
                <li><span class="dfn-paneled" id="24ecd148">fetch a style resource（获取样式资源）</span>
                <li><span class="dfn-paneled" id="3db7b9e0">math function（数学函数）</span>
                <li><span class="dfn-paneled" id="d9909296">pi</span>
                <li><span class="dfn-paneled" id="8cbc2b3b">{A}</span>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="acb3399b">mix item（混合项）</span>
                <li><span class="dfn-paneled" id="8093bfd3">normalize mix percentages（混合百分比归一化）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="9d357000">CSSOMString</span>
                <li><span class="dfn-paneled" id="0f78dbdd">CSSRule</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ee7bba09">response（响应）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="7f9469b5">ASCII case-insensitive（ASCII 不区分大小写）</span>
                <li><span class="dfn-paneled" id="fca74142">pop（出栈）</span>
                <li><span class="dfn-paneled" id="7c3de606">push（入栈）</span>
                <li><span class="dfn-paneled" id="ceacaa1c">stack（栈）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad；Miriam Suzanne；Tab Atkins Jr.。<a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS 层叠与继承第 5
                    级（CSS Cascading and Inheritance Level 5）</cite></a>。2022 年 1 月 13 日。CR。链接：<a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Chris Lilley；Tab Atkins Jr.；Lea Verou。<a href="https://www.w3.org/TR/css-color-4/"><cite>CSS 色彩模块第 4 级（CSS
                    Color Module Level 4）</cite></a>。2025 年 4 月 24 日。CRD。链接：<a
                href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-color-adjust-1">[CSS-COLOR-ADJUST-1]
        <dd>Elika Etemad 等。<a href="https://www.w3.org/TR/css-color-adjust-1/"><cite>CSS 色彩调整模块第 1 级（CSS Color
                    Adjustment Module Level 1）</cite></a>。2025 年 12 月 16 日。CR。链接：<a
                href="https://www.w3.org/TR/css-color-adjust-1/">https://www.w3.org/TR/css-color-adjust-1/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.；Simon Sapin。<a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS 语法模块第 3 级（CSS Syntax
                    Module Level 3）</cite></a>。2021 年 12 月 24 日。CRD。链接：<a
                href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.；Elika Etemad。<a href="https://www.w3.org/TR/css-values-4/"><cite>CSS 数值与单位模块第 4 级（CSS Values
                    and Units Module Level 4）</cite></a>。2024 年 3 月 12 日。WD。链接：<a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-values-5">[CSS-VALUES-5]
        <dd>Tab Atkins Jr.；Elika Etemad；Miriam Suzanne。<a href="https://www.w3.org/TR/css-values-5/"><cite>CSS 数值与单位模块第
                    5 级（CSS Values and Units Module Level 5）</cite></a>。2024 年 11 月 11 日。WD。链接：<a
                href="https://www.w3.org/TR/css-values-5/">https://www.w3.org/TR/css-values-5/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman；Emilio Cobos Álvarez。<a href="https://www.w3.org/TR/cssom-1/"><cite>CSS
                    对象模型（CSSOM）</cite></a>。2021 年 8 月 26 日。WD。链接：<a
                href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren。<a href="https://fetch.spec.whatwg.org/"><cite>Fetch 标准</cite></a>。Living Standard。链接：<a
                href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-icc">[ICC]
        <dd><a href="http://www.color.org/specification/ICC.1-2022-05.pdf"><cite>ICC.1:2022（配置文件版本
                    4.4.0.0）</cite></a>。2022 年 5 月。链接：<a
                href="http://www.color.org/specification/ICC.1-2022-05.pdf">http://www.color.org/specification/ICC.1-2022-05.pdf</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren；Domenic Denicola。<a href="https://infra.spec.whatwg.org/"><cite>Infra 标准</cite></a>。Living
            Standard。链接：<a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner。<a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>RFC 文件需求级别关键词（Key words for use in
                    RFCs to Indicate Requirement Levels）</cite></a>。1997 年 3 月。最佳实践（Best Current Practice）。链接：<a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen；Timothy Gu。<a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。Living
            Standard。链接：<a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考资料</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-fogra39">[FOGRA39]
        <dd><a href="https://www.color.org/chardata/FOGRA39.xalter"><cite>ISO 12647-2:2004 / Amd 1，依据 ISO 12647-2
                    的胶印商用及特种印刷，纸型1或2（光面或哑光涂布115 g/m²），网线 60/cm</cite></a>。2006年。链接：<a
                href="https://www.color.org/chardata/FOGRA39.xalter">https://www.color.org/chardata/FOGRA39.xalter</a>
        <dt id="biblio-fogra51">[FOGRA51]
        <dd><a href="https://registry.color.org/cmyk-registry/fogra51"><cite>ISO
                    12647-2:2013，网点分色输出、打样及印刷品生产的工艺控制，第2部分：胶印工艺，PS 1，高级涂布纸，115 g/m²，适度荧光底材</cite></a>。2015年。链接：<a
                href="https://registry.color.org/cmyk-registry/fogra51">https://registry.color.org/cmyk-registry/fogra51</a>
        <dt id="biblio-fogra55">[FOGRA55]
        <dd><a href="https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003"><cite>基于 CMYKOGV
                    的色域交换空间</cite></a>。2021年。链接：<a
                href="https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003">https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">属性索引</span><a class="self-link"
            href="#property-index"></a></h2>
    <p>未定义属性。</p>
    <h3 class="no-num no-ref heading settled" id="color-profile-descriptor-table"><span class="content"><a class="css"
                data-link-type="at-rule" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑦">@color-profile</a>
            描述符</span><a class="self-link" href="#color-profile-descriptor-table"></a></h3>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    <th scope="col">值
                    <th scope="col">初始值
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-components"
                            id="ref-for-descdef-color-profile-components①">components</a>
                    <td>&lt;ident>#
                    <td>n/a
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-color-profile-rendering-intent"
                            id="ref-for-descdef-color-profile-rendering-intent①">rendering-intent</a>
                    <td>relative-colorimetric | absolute-colorimetric | perceptual | saturation
                    <td>relative-colorimetric
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-src"
                            id="ref-for-descdef-color-profile-src①">src</a>
                    <td>&lt;url>
                    <td>n/a
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></a> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};

</pre>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "01b00791": { "dfnID": "01b00791", "dfnText": "xyz", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-color-xyz\u2460" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz" },
                "01b14142": { "dfnID": "01b14142", "dfnText": "oklab", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-oklab-oklab" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" },
                "024532da": { "dfnID": "024532da", "dfnText": "<system-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-system-color" }, { "id": "ref-for-typedef-system-color\u2460" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-system-color" },
                "0948355d": { "dfnID": "0948355d", "dfnText": "actual value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-actual-value" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-cascade-5/#actual-value" },
                "0ed7201e": { "dfnID": "0ed7201e", "dfnText": "black", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-black" }, { "id": "ref-for-valdef-color-black\u2460" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-black" },
                "0f78dbdd": { "dfnID": "0f78dbdd", "dfnText": "CSSRule", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssrule" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
                "128295ac": { "dfnID": "128295ac", "dfnText": "<percentage>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-percentage-value" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-percentage-value\u2460" }, { "id": "ref-for-percentage-value\u2461" }, { "id": "ref-for-percentage-value\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2463" }, { "id": "ref-for-percentage-value\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2465" }, { "id": "ref-for-percentage-value\u2466" }, { "id": "ref-for-percentage-value\u2467" }, { "id": "ref-for-percentage-value\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u24ea" }, { "id": "ref-for-percentage-value\u2460\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2461" }, { "id": "ref-for-percentage-value\u2460\u2462" }, { "id": "ref-for-percentage-value\u2460\u2463" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2464" }, { "id": "ref-for-percentage-value\u2460\u2465" }, { "id": "ref-for-percentage-value\u2460\u2466" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2460\u2467" }, { "id": "ref-for-percentage-value\u2460\u2468" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u24ea" }, { "id": "ref-for-percentage-value\u2461\u2460" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u2461" }, { "id": "ref-for-percentage-value\u2461\u2462" }, { "id": "ref-for-percentage-value\u2461\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2461\u2464" }, { "id": "ref-for-percentage-value\u2461\u2465" }, { "id": "ref-for-percentage-value\u2461\u2466" }, { "id": "ref-for-percentage-value\u2461\u2467" }, { "id": "ref-for-percentage-value\u2461\u2468" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-percentage-value\u2462\u24ea" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-percentage-value\u2462\u2460" }, { "id": "ref-for-percentage-value\u2462\u2461" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "14d3255d": { "dfnID": "14d3255d", "dfnText": "calc()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-calc" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-funcdef-calc\u2460" }, { "id": "ref-for-funcdef-calc\u2461" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-values-4/#funcdef-calc" },
                "17858dc9": { "dfnID": "17858dc9", "dfnText": "white", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-white" }, { "id": "ref-for-valdef-color-white\u2460" }, { "id": "ref-for-valdef-color-white\u2461" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-white" },
                "19512a47": { "dfnID": "19512a47", "dfnText": "darkolivegreen", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-darkolivegreen" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen" },
                "239640fd": { "dfnID": "239640fd", "dfnText": "hsla()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hsla" }, { "id": "ref-for-funcdef-hsla\u2460" }, { "id": "ref-for-funcdef-hsla\u2461" }, { "id": "ref-for-funcdef-hsla\u2462" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2463" }, { "id": "ref-for-funcdef-hsla\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2465" }, { "id": "ref-for-funcdef-hsla\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hsla\u2467" }, { "id": "ref-for-funcdef-hsla\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsla" },
                "24ecd148": { "dfnID": "24ecd148", "dfnText": "fetch a style resource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-a-style-resource" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource" },
                "2eb59b48": { "dfnID": "2eb59b48", "dfnText": "rec2020", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-rec2020" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" },
                "33347c0e": { "dfnID": "33347c0e", "dfnText": "<hue>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hue" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-typedef-hue\u2460" }, { "id": "ref-for-typedef-hue\u2461" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2462" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2463" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-hue\u2464" }], "title": "4.9. Relative OkLCh Colors" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-hue" },
                "3db7b9e0": { "dfnID": "3db7b9e0", "dfnText": "math function", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-math-function" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-math-function\u2460" }, { "id": "ref-for-math-function\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#math-function" },
                "404710e3": { "dfnID": "404710e3", "dfnText": "OKLCh", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-oklch-oklch" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-oklch-oklch\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" },
                "4a14e4dc": { "dfnID": "4a14e4dc", "dfnText": "lab", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-lab-lab" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-lab-lab" },
                "4a1e4e52": { "dfnID": "4a1e4e52", "dfnText": "color functions", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color-functions" }, { "id": "ref-for-color-functions\u2460" }], "title": "2. The <color> syntax" }], "url": "https://drafts.csswg.org/css-color-4/#color-functions" },
                "4b8ab2a8": { "dfnID": "4b8ab2a8", "dfnText": "LCH", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-lch-lch" }, { "id": "ref-for-valdef-lch-lch\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-lch-lch\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-lch-lch" },
                "4dbf81d6": { "dfnID": "4dbf81d6", "dfnText": "canonical unit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-canonical-unit" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#canonical-unit" },
                "4dee7468": { "dfnID": "4dee7468", "dfnText": "analogous components", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-analogous-components" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }], "url": "https://www.w3.org/TR/css-color-4/#analogous-components" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }, { "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }, { "id": "ref-for-comb-one\u2463" }, { "id": "ref-for-comb-one\u2464" }, { "id": "ref-for-comb-one\u2465" }, { "id": "ref-for-comb-one\u2466" }, { "id": "ref-for-comb-one\u2467" }, { "id": "ref-for-comb-one\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea" }, { "id": "ref-for-comb-one\u2460\u2460" }, { "id": "ref-for-comb-one\u2460\u2461" }, { "id": "ref-for-comb-one\u2460\u2462" }, { "id": "ref-for-comb-one\u2460\u2463" }, { "id": "ref-for-comb-one\u2460\u2464" }, { "id": "ref-for-comb-one\u2460\u2465" }, { "id": "ref-for-comb-one\u2460\u2466" }, { "id": "ref-for-comb-one\u2460\u2467" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-comb-one\u2460\u2468" }, { "id": "ref-for-comb-one\u2461\u24ea" }, { "id": "ref-for-comb-one\u2461\u2460" }, { "id": "ref-for-comb-one\u2461\u2461" }, { "id": "ref-for-comb-one\u2461\u2462" }, { "id": "ref-for-comb-one\u2461\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2461\u2464" }, { "id": "ref-for-comb-one\u2461\u2465" }, { "id": "ref-for-comb-one\u2461\u2466" }, { "id": "ref-for-comb-one\u2461\u2467" }, { "id": "ref-for-comb-one\u2461\u2468" }, { "id": "ref-for-comb-one\u2462\u24ea" }, { "id": "ref-for-comb-one\u2462\u2460" }, { "id": "ref-for-comb-one\u2462\u2461" }, { "id": "ref-for-comb-one\u2462\u2462" }, { "id": "ref-for-comb-one\u2462\u2463" }, { "id": "ref-for-comb-one\u2462\u2464" }, { "id": "ref-for-comb-one\u2462\u2465" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2462\u2466" }, { "id": "ref-for-comb-one\u2462\u2467" }, { "id": "ref-for-comb-one\u2462\u2468" }, { "id": "ref-for-comb-one\u2463\u24ea" }, { "id": "ref-for-comb-one\u2463\u2460" }, { "id": "ref-for-comb-one\u2463\u2461" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2463\u2462" }, { "id": "ref-for-comb-one\u2463\u2463" }, { "id": "ref-for-comb-one\u2463\u2464" }, { "id": "ref-for-comb-one\u2463\u2465" }, { "id": "ref-for-comb-one\u2463\u2466" }, { "id": "ref-for-comb-one\u2463\u2467" }, { "id": "ref-for-comb-one\u2463\u2468" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2464\u24ea" }, { "id": "ref-for-comb-one\u2464\u2460" }, { "id": "ref-for-comb-one\u2464\u2461" }, { "id": "ref-for-comb-one\u2464\u2462" }, { "id": "ref-for-comb-one\u2464\u2463" }, { "id": "ref-for-comb-one\u2464\u2464" }, { "id": "ref-for-comb-one\u2464\u2465" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2464\u2466" }, { "id": "ref-for-comb-one\u2464\u2467" }, { "id": "ref-for-comb-one\u2464\u2468" }, { "id": "ref-for-comb-one\u2465\u24ea" }, { "id": "ref-for-comb-one\u2465\u2460" }, { "id": "ref-for-comb-one\u2465\u2461" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2465\u2462" }, { "id": "ref-for-comb-one\u2465\u2463" }, { "id": "ref-for-comb-one\u2465\u2464" }, { "id": "ref-for-comb-one\u2465\u2465" }, { "id": "ref-for-comb-one\u2465\u2466" }, { "id": "ref-for-comb-one\u2465\u2467" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2465\u2468" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-comb-one\u2466\u24ea" }, { "id": "ref-for-comb-one\u2466\u2460" }, { "id": "ref-for-comb-one\u2466\u2461" }, { "id": "ref-for-comb-one\u2466\u2462" }, { "id": "ref-for-comb-one\u2466\u2463" }, { "id": "ref-for-comb-one\u2466\u2464" }, { "id": "ref-for-comb-one\u2466\u2465" }, { "id": "ref-for-comb-one\u2466\u2466" }, { "id": "ref-for-comb-one\u2466\u2467" }, { "id": "ref-for-comb-one\u2466\u2468" }, { "id": "ref-for-comb-one\u2467\u24ea" }, { "id": "ref-for-comb-one\u2467\u2460" }, { "id": "ref-for-comb-one\u2467\u2461" }, { "id": "ref-for-comb-one\u2467\u2462" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-comb-one\u2467\u2463" }, { "id": "ref-for-comb-one\u2467\u2464" }, { "id": "ref-for-comb-one\u2467\u2465" }, { "id": "ref-for-comb-one\u2467\u2466" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-comb-one\u2467\u2467" }, { "id": "ref-for-comb-one\u2467\u2468" }, { "id": "ref-for-comb-one\u2468\u24ea" }, { "id": "ref-for-comb-one\u2468\u2460" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-comb-one\u2468\u2461" }, { "id": "ref-for-comb-one\u2468\u2462" }, { "id": "ref-for-comb-one\u2468\u2463" }, { "id": "ref-for-comb-one\u2468\u2464" }, { "id": "ref-for-comb-one\u2468\u2465" }, { "id": "ref-for-comb-one\u2468\u2466" }, { "id": "ref-for-comb-one\u2468\u2467" }, { "id": "ref-for-comb-one\u2468\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea\u24ea" }, { "id": "ref-for-comb-one\u2460\u24ea\u2460" }, { "id": "ref-for-comb-one\u2460\u24ea\u2461" }, { "id": "ref-for-comb-one\u2460\u24ea\u2462" }, { "id": "ref-for-comb-one\u2460\u24ea\u2463" }, { "id": "ref-for-comb-one\u2460\u24ea\u2464" }, { "id": "ref-for-comb-one\u2460\u24ea\u2465" }, { "id": "ref-for-comb-one\u2460\u24ea\u2466" }, { "id": "ref-for-comb-one\u2460\u24ea\u2467" }, { "id": "ref-for-comb-one\u2460\u24ea\u2468" }, { "id": "ref-for-comb-one\u2460\u2460\u24ea" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "528ea935": { "dfnID": "528ea935", "dfnText": "none", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-none" }, { "id": "ref-for-valdef-color-none\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2461" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2462" }, { "id": "ref-for-valdef-color-none\u2463" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2464" }], "title": "18.2. \n\tSince the Working Draft of 29 February 2024\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2465" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2466" }], "title": "18.4. \n\tSince the Working Draft of 28 April 2022\n" }, { "refs": [{ "id": "ref-for-valdef-color-none\u2467" }], "title": "18.5. \n\tSince the Working Draft of 15 December 2021\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-none" },
                "5bd3632a": { "dfnID": "5bd3632a", "dfnText": "hsl()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hsl" }, { "id": "ref-for-funcdef-hsl\u2460" }, { "id": "ref-for-funcdef-hsl\u2461" }, { "id": "ref-for-funcdef-hsl\u2462" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2463" }, { "id": "ref-for-funcdef-hsl\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2465" }, { "id": "ref-for-funcdef-hsl\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2467" }, { "id": "ref-for-funcdef-hsl\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-hsl\u2460\u24ea" }, { "id": "ref-for-funcdef-hsl\u2460\u2460" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsl" },
                "61bb5e44": { "dfnID": "61bb5e44", "dfnText": "<number>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-number-value" }, { "id": "ref-for-number-value\u2460" }, { "id": "ref-for-number-value\u2461" }, { "id": "ref-for-number-value\u2462" }, { "id": "ref-for-number-value\u2463" }, { "id": "ref-for-number-value\u2464" }, { "id": "ref-for-number-value\u2465" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-number-value\u2466" }, { "id": "ref-for-number-value\u2467" }, { "id": "ref-for-number-value\u2468" }, { "id": "ref-for-number-value\u2460\u24ea" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-number-value\u2460\u2460" }, { "id": "ref-for-number-value\u2460\u2461" }, { "id": "ref-for-number-value\u2460\u2462" }, { "id": "ref-for-number-value\u2460\u2463" }, { "id": "ref-for-number-value\u2460\u2464" }, { "id": "ref-for-number-value\u2460\u2465" }, { "id": "ref-for-number-value\u2460\u2466" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-number-value\u2460\u2467" }, { "id": "ref-for-number-value\u2460\u2468" }, { "id": "ref-for-number-value\u2461\u24ea" }, { "id": "ref-for-number-value\u2461\u2460" }, { "id": "ref-for-number-value\u2461\u2461" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-number-value\u2461\u2462" }, { "id": "ref-for-number-value\u2461\u2463" }, { "id": "ref-for-number-value\u2461\u2464" }, { "id": "ref-for-number-value\u2461\u2465" }, { "id": "ref-for-number-value\u2461\u2466" }, { "id": "ref-for-number-value\u2461\u2467" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-number-value\u2461\u2468" }, { "id": "ref-for-number-value\u2462\u24ea" }, { "id": "ref-for-number-value\u2462\u2460" }, { "id": "ref-for-number-value\u2462\u2461" }, { "id": "ref-for-number-value\u2462\u2462" }, { "id": "ref-for-number-value\u2462\u2463" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-number-value\u2462\u2464" }, { "id": "ref-for-number-value\u2462\u2465" }, { "id": "ref-for-number-value\u2462\u2466" }, { "id": "ref-for-number-value\u2462\u2467" }, { "id": "ref-for-number-value\u2462\u2468" }, { "id": "ref-for-number-value\u2463\u24ea" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2460" }, { "id": "ref-for-number-value\u2463\u2461" }, { "id": "ref-for-number-value\u2463\u2462" }, { "id": "ref-for-number-value\u2463\u2463" }, { "id": "ref-for-number-value\u2463\u2464" }, { "id": "ref-for-number-value\u2463\u2465" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2466" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-number-value\u2463\u2467" }, { "id": "ref-for-number-value\u2463\u2468" }, { "id": "ref-for-number-value\u2464\u24ea" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-number-value\u2464\u2460" }, { "id": "ref-for-number-value\u2464\u2461" }, { "id": "ref-for-number-value\u2464\u2462" }, { "id": "ref-for-number-value\u2464\u2463" }, { "id": "ref-for-number-value\u2464\u2464" }, { "id": "ref-for-number-value\u2464\u2465" }, { "id": "ref-for-number-value\u2464\u2466" }, { "id": "ref-for-number-value\u2464\u2467" }, { "id": "ref-for-number-value\u2464\u2468" }, { "id": "ref-for-number-value\u2465\u24ea" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2460" }, { "id": "ref-for-number-value\u2465\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2462" }, { "id": "ref-for-number-value\u2465\u2463" }], "title": "10.3. \n\tResolving device-cmyk Values\n" }, { "refs": [{ "id": "ref-for-number-value\u2465\u2464" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "640a9100": { "dfnID": "640a9100", "dfnText": "<xyz-space>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-xyz-space" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-xyz-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-xyz-space" },
                "691e902b": { "dfnID": "691e902b", "dfnText": "prophoto-rgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-prophoto-rgb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" },
                "699488a8": { "dfnID": "699488a8", "dfnText": "<url>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-value" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "7398228c": { "dfnID": "7398228c", "dfnText": "carried forward", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-carried-forward" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }], "url": "https://www.w3.org/TR/css-color-4/#carried-forward" },
                "746d81ae": { "dfnID": "746d81ae", "dfnText": "dark", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-scheme-dark" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark" },
                "77a29323": { "dfnID": "77a29323", "dfnText": "modern color syntax", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-modern-color-syntax" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2461" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-modern-color-syntax\u2462" }], "title": "4.4. Relative HSL Colors" }], "url": "https://www.w3.org/TR/css-color-4/#modern-color-syntax" },
                "7c3de606": { "dfnID": "7c3de606", "dfnText": "push", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack-push" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack-push" },
                "7f9469b5": { "dfnID": "7f9469b5", "dfnText": "ASCII case-insensitive", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-case-insensitive" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "8093bfd3": { "dfnID": "8093bfd3", "dfnText": "normalize mix percentages", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-normalize-mix-percentages" }], "title": "3.2. \n\tPercentage Normalization\n" }, { "refs": [{ "id": "ref-for-normalize-mix-percentages\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages" },
                "85dbac5b": { "dfnID": "85dbac5b", "dfnText": "HWB", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-hwb-hwb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8c8e51b4": { "dfnID": "8c8e51b4", "dfnText": "computed value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-computed-value" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }], "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "8cbc2b3b": { "dfnID": "8cbc2b3b", "dfnText": "{A}", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-num" }, { "id": "ref-for-mult-num\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-mult-num\u2461" }, { "id": "ref-for-mult-num\u2462" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-mult-num\u2463" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-num" },
                "8cd4f032": { "dfnID": "8cd4f032", "dfnText": ",", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-comma" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-comb-comma\u2460" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#comb-comma" },
                "8fad2d26": { "dfnID": "8fad2d26", "dfnText": "<named-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-named-color" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-named-color" },
                "970f70ea": { "dfnID": "970f70ea", "dfnText": "red", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-red" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-red" },
                "99387b3d": { "dfnID": "99387b3d", "dfnText": "light", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-scheme-light" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light" },
                "9d357000": { "dfnID": "9d357000", "dfnText": "CSSOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssomstring" }, { "id": "ref-for-cssomstring\u2460" }, { "id": "ref-for-cssomstring\u2461" }, { "id": "ref-for-cssomstring\u2462" }, { "id": "ref-for-cssomstring\u2463" }, { "id": "ref-for-cssomstring\u2464" }, { "id": "ref-for-cssomstring\u2465" }, { "id": "ref-for-cssomstring\u2466" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "a42c65ac": { "dfnID": "a42c65ac", "dfnText": "currentcolor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-currentcolor" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2460" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2461" }], "title": "10.2. \n\tResolving Relative Color Syntax Values\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2462" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2463" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-valdef-color-currentcolor\u2464" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" },
                "a55c0dec": { "dfnID": "a55c0dec", "dfnText": "used color scheme", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-used-color-scheme" }, { "id": "ref-for-used-color-scheme\u2460" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }], "url": "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme" },
                "a81b1fb8": { "dfnID": "a81b1fb8", "dfnText": "<declaration-list>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-declaration-list" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" },
                "a976c737": { "dfnID": "a976c737", "dfnText": "blue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-blue" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-blue" },
                "abed060e": { "dfnID": "abed060e", "dfnText": "display-p3", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-display-p3" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-valdef-color-display-p3\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" },
                "absolute-color": { "dfnID": "absolute-color", "dfnText": "absolute color", "external": false, "refSections": [], "url": "#absolute-color" },
                "acb3399b": { "dfnID": "acb3399b", "dfnText": "mix item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mix-item" }, { "id": "ref-for-mix-item\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://drafts.csswg.org/css-values-5/#mix-item" },
                "af48ee71": { "dfnID": "af48ee71", "dfnText": "rectangular orthogonal color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-rectangular-orthogonal-color" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-rectangular-orthogonal-color\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color" },
                "af4a190d": { "dfnID": "af4a190d", "dfnText": "+", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-one-plus" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-one-plus" },
                "at-ruledef-profile": { "dfnID": "at-ruledef-profile", "dfnText": "@color-profile", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-profile" }, { "id": "ref-for-at-ruledef-profile\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2461" }], "title": "5.2. \n\tCustom Color Spaces\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2462" }, { "id": "ref-for-at-ruledef-profile\u2463" }, { "id": "ref-for-at-ruledef-profile\u2464" }, { "id": "ref-for-at-ruledef-profile\u2465" }, { "id": "ref-for-at-ruledef-profile\u2466" }, { "id": "ref-for-at-ruledef-profile\u2467" }, { "id": "ref-for-at-ruledef-profile\u2468" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u24ea" }], "title": "5.4. \n\tCSS and Print: Using Calibrated CMYK and Other Printed Color Spaces\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2460" }, { "id": "ref-for-at-ruledef-profile\u2460\u2461" }, { "id": "ref-for-at-ruledef-profile\u2460\u2462" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2463" }], "title": "9.1. \n\tColor Space for Interpolation" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2464" }], "title": "12.1. The CSSColorProfileRule interface" }, { "refs": [{ "id": "ref-for-at-ruledef-profile\u2460\u2465" }], "title": "18.8. \n\tChanges from CSS Color 4\n" }], "url": "#at-ruledef-profile" },
                "b3bfee63": { "dfnID": "b3bfee63", "dfnText": "xyz-d65", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-xyz-d65" }], "title": "11.1. \n\tSerializing color-mix()\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" },
                "b46a2c7d": { "dfnID": "b46a2c7d", "dfnText": "color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color" }], "title": "5.2. \n\tCustom Color Spaces\n" }], "url": "https://www.w3.org/TR/css-color-4/#color" },
                "bc4e4c18": { "dfnID": "bc4e4c18", "dfnText": "HSL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-hsl-hsl" }, { "id": "ref-for-valdef-hsl-hsl\u2460" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-hsl-hsl\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" },
                "bdb4e757": { "dfnID": "bdb4e757", "dfnText": "&&", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-all" }], "title": "3. Mixing Colors: the color-mix() Function" }], "url": "https://www.w3.org/TR/css-values-4/#comb-all" },
                "c297b070": { "dfnID": "c297b070", "dfnText": "#", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-comma" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-mult-comma\u2460" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-mult-comma\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-values-4/#mult-comma" },
                "c990915b": { "dfnID": "c990915b", "dfnText": "cylindrical polar color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cylindrical-polar-color" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-cylindrical-polar-color\u2460" }, { "id": "ref-for-cylindrical-polar-color\u2461" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color" },
                "calculate-a-color-mix": { "dfnID": "calculate-a-color-mix", "dfnText": "calculate a color-mix()", "external": false, "refSections": [], "url": "#calculate-a-color-mix" },
                "ce4cacb8": { "dfnID": "ce4cacb8", "dfnText": "srgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-srgb" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-valdef-color-srgb\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb" },
                "ceacaa1c": { "dfnID": "ceacaa1c", "dfnText": "stack", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack" },
                "cee404c5": { "dfnID": "cee404c5", "dfnText": "<hex-color>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hex-color" }], "title": "2. The <color> syntax" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-hex-color" },
                "color-interpolation-method": { "dfnID": "color-interpolation-method", "dfnText": "<color-interpolation-method>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-color-interpolation-method" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-color-interpolation-method\u2460" }, { "id": "ref-for-color-interpolation-method\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#color-interpolation-method" },
                "component-keyword": { "dfnID": "component-keyword", "dfnText": "component keyword", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-component-keyword" }, { "id": "ref-for-component-keyword\u2460" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-component-keyword\u2461" }, { "id": "ref-for-component-keyword\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-component-keyword\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2464" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2465" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2466" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2467" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2468" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u24ea" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u2460" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-component-keyword\u2460\u2461" }, { "id": "ref-for-component-keyword\u2460\u2462" }, { "id": "ref-for-component-keyword\u2460\u2463" }, { "id": "ref-for-component-keyword\u2460\u2464" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#component-keyword" },
                "css-color-profile": { "dfnID": "css-color-profile", "dfnText": "color profile", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-css-color-profile" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-css-color-profile\u2460" }, { "id": "ref-for-css-color-profile\u2461" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-css-color-profile\u2462" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#css-color-profile" },
                "csscolorprofilerule": { "dfnID": "csscolorprofilerule", "dfnText": "CSSColorProfileRule", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-csscolorprofilerule" }], "title": "12.1. The CSSColorProfileRule interface" }, { "refs": [{ "id": "ref-for-csscolorprofilerule\u2460" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#csscolorprofilerule" },
                "d11b143f": { "dfnID": "d11b143f", "dfnText": "a98-rgb", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-a98-rgb" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" },
                "d4441b24": { "dfnID": "d4441b24", "dfnText": "?", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-opt" }, { "id": "ref-for-mult-opt\u2460" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-mult-opt\u2461" }, { "id": "ref-for-mult-opt\u2462" }, { "id": "ref-for-mult-opt\u2463" }, { "id": "ref-for-mult-opt\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2465" }, { "id": "ref-for-mult-opt\u2466" }, { "id": "ref-for-mult-opt\u2467" }, { "id": "ref-for-mult-opt\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u24ea" }, { "id": "ref-for-mult-opt\u2460\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2461" }, { "id": "ref-for-mult-opt\u2460\u2462" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2463" }, { "id": "ref-for-mult-opt\u2460\u2464" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2465" }, { "id": "ref-for-mult-opt\u2460\u2466" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2460\u2467" }, { "id": "ref-for-mult-opt\u2460\u2468" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u24ea" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2460" }, { "id": "ref-for-mult-opt\u2461\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2462" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-mult-opt\u2461\u2463" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "d7e1d67b": { "dfnID": "d7e1d67b", "dfnText": "<angle>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-angle-value" }, { "id": "ref-for-angle-value\u2460" }, { "id": "ref-for-angle-value\u2461" }, { "id": "ref-for-angle-value\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-values-4/#angle-value" },
                "d9909296": { "dfnID": "d9909296", "dfnText": "pi", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-calc-pi" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#valdef-calc-pi" },
                "daabf294": { "dfnID": "daabf294", "dfnText": "rgb()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-rgb" }, { "id": "ref-for-funcdef-rgb\u2460" }, { "id": "ref-for-funcdef-rgb\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2462" }, { "id": "ref-for-funcdef-rgb\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2464" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2465" }, { "id": "ref-for-funcdef-rgb\u2466" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-rgb\u2467" }, { "id": "ref-for-funcdef-rgb\u2468" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgb" },
                "dcecfc13": { "dfnID": "dcecfc13", "dfnText": "<ident>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-ident" }, { "id": "ref-for-typedef-ident\u2460" }, { "id": "ref-for-typedef-ident\u2461" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-ident\u2462" }, { "id": "ref-for-typedef-ident\u2463" }, { "id": "ref-for-typedef-ident\u2464" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-ident" },
                "descdef-color-profile-components": { "dfnID": "descdef-color-profile-components", "dfnText": "components", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-components" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#descdef-color-profile-components" },
                "descdef-color-profile-rendering-intent": { "dfnID": "descdef-color-profile-rendering-intent", "dfnText": "rendering-intent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-rendering-intent" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#descdef-color-profile-rendering-intent" },
                "descdef-color-profile-src": { "dfnID": "descdef-color-profile-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-color-profile-src" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#descdef-color-profile-src" },
                "dom-csscolorprofilerule-components": { "dfnID": "dom-csscolorprofilerule-components", "dfnText": "components", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-components" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-components" },
                "dom-csscolorprofilerule-name": { "dfnID": "dom-csscolorprofilerule-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-name" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-name" },
                "dom-csscolorprofilerule-renderingintent": { "dfnID": "dom-csscolorprofilerule-renderingintent", "dfnText": "renderingIntent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-renderingintent" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-renderingintent" },
                "dom-csscolorprofilerule-src": { "dfnID": "dom-csscolorprofilerule-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-csscolorprofilerule-src" }], "title": "12.1. The CSSColorProfileRule interface" }], "url": "#dom-csscolorprofilerule-src" },
                "e2a9e9b9": { "dfnID": "e2a9e9b9", "dfnText": "legacy color syntax", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-legacy-color-syntax" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-legacy-color-syntax\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-legacy-color-syntax\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#legacy-color-syntax" },
                "e5db470f": { "dfnID": "e5db470f", "dfnText": "<alpha-value>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-alpha-value" }, { "id": "ref-for-typedef-color-alpha-value\u2460" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2461" }, { "id": "ref-for-typedef-color-alpha-value\u2462" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2464" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2465" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2466" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2467" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2468" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u24ea" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-color-alpha-value\u2460\u2461" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" },
                "e98886a5": { "dfnID": "e98886a5", "dfnText": "srgb-linear", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-srgb-linear" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" },
                "ee7bba09": { "dfnID": "ee7bba09", "dfnText": "response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "https://fetch.spec.whatwg.org/#concept-response" },
                "f0f7ce16": { "dfnID": "f0f7ce16", "dfnText": "premultiplied", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-premultiplied" }, { "id": "ref-for-premultiplied\u2460" }, { "id": "ref-for-premultiplied\u2461" }], "title": "3.5. \n\tEffect of Non-Unity Alpha on color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#premultiplied" },
                "f3226176": { "dfnID": "f3226176", "dfnText": "rgba()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-rgba" }, { "id": "ref-for-funcdef-rgba\u2460" }, { "id": "ref-for-funcdef-rgba\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2462" }, { "id": "ref-for-funcdef-rgba\u2463" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2464" }, { "id": "ref-for-funcdef-rgba\u2465" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-rgba\u2466" }, { "id": "ref-for-funcdef-rgba\u2467" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgba" },
                "f3614b7c": { "dfnID": "f3614b7c", "dfnText": "transparent black", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transparent-black" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://www.w3.org/TR/css-color-4/#transparent-black" },
                "f5b34cad": { "dfnID": "f5b34cad", "dfnText": "<dashed-ident>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-dashed-ident" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2460" }, { "id": "ref-for-typedef-dashed-ident\u2461" }, { "id": "ref-for-typedef-dashed-ident\u2462" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2463" }], "title": "5.2. \n\tCustom Color Spaces\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2464" }, { "id": "ref-for-typedef-dashed-ident\u2465" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-typedef-dashed-ident\u2466" }, { "id": "ref-for-typedef-dashed-ident\u2467" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" },
                "f6f69187": { "dfnID": "f6f69187", "dfnText": "color space", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-color-space" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-color-space\u2460" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-color-space\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "https://www.w3.org/TR/css-color-4/#color-space" },
                "f8e15dd7": { "dfnID": "f8e15dd7", "dfnText": "lime", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-color-lime" }], "title": "4.2. \n\tRelative Color Syntax\n" }], "url": "https://www.w3.org/TR/css-color-4/#valdef-color-lime" },
                "fca74142": { "dfnID": "fca74142", "dfnText": "pop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stack-pop" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }], "url": "https://infra.spec.whatwg.org/#stack-pop" },
                "fetch-an-external-color-profile": { "dfnID": "fetch-an-external-color-profile", "dfnText": "fetch an external color profile", "external": false, "refSections": [], "url": "#fetch-an-external-color-profile" },
                "funcdef-alpha": { "dfnID": "funcdef-alpha", "dfnText": "alpha()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-alpha" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-alpha\u2460" }, { "id": "ref-for-funcdef-alpha\u2461" }], "title": "4.10. Relative Alpha Colors" }], "url": "#funcdef-alpha" },
                "funcdef-color": { "dfnID": "funcdef-color", "dfnText": "color()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-color" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-color\u2461" }, { "id": "ref-for-funcdef-color\u2462" }, { "id": "ref-for-funcdef-color\u2463" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2464" }, { "id": "ref-for-funcdef-color\u2465" }, { "id": "ref-for-funcdef-color\u2466" }, { "id": "ref-for-funcdef-color\u2467" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-funcdef-color\u2468" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u24ea" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2460" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2461" }], "title": "11.4. \n\tSerializing Custom Color Spaces\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2462" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-color\u2460\u2463" }], "title": "18.8. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-color" },
                "funcdef-color-mix": { "dfnID": "funcdef-color-mix", "dfnText": "color-mix()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-color-mix" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460" }, { "id": "ref-for-funcdef-color-mix\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2462" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2463" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2464" }], "title": "3.5. \n\tEffect of Non-Unity Alpha on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2465" }, { "id": "ref-for-funcdef-color-mix\u2466" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2467" }], "title": "11. \n\tSerialization\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2468" }, { "id": "ref-for-funcdef-color-mix\u2460\u24ea" }, { "id": "ref-for-funcdef-color-mix\u2460\u2460" }, { "id": "ref-for-funcdef-color-mix\u2460\u2461" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460\u2462" }, { "id": "ref-for-funcdef-color-mix\u2460\u2463" }, { "id": "ref-for-funcdef-color-mix\u2460\u2464" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-color-mix\u2460\u2465" }], "title": "18.8. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-color-mix" },
                "funcdef-contrast-color": { "dfnID": "funcdef-contrast-color", "dfnText": "contrast-color()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-contrast-color" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2460" }, { "id": "ref-for-funcdef-contrast-color\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2462" }, { "id": "ref-for-funcdef-contrast-color\u2463" }, { "id": "ref-for-funcdef-contrast-color\u2464" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-contrast-color\u2465" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-contrast-color" },
                "funcdef-device-cmyk": { "dfnID": "funcdef-device-cmyk", "dfnText": "device-cmyk()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-device-cmyk" }, { "id": "ref-for-funcdef-device-cmyk\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2461" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2462" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2463" }, { "id": "ref-for-funcdef-device-cmyk\u2464" }, { "id": "ref-for-funcdef-device-cmyk\u2465" }, { "id": "ref-for-funcdef-device-cmyk\u2466" }, { "id": "ref-for-funcdef-device-cmyk\u2467" }, { "id": "ref-for-funcdef-device-cmyk\u2468" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u24ea" }], "title": "11. \n\tSerialization\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2460" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2461" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2462" }], "title": "11.5. \n\tSerializing device-cmyk Values\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2463" }, { "id": "ref-for-funcdef-device-cmyk\u2460\u2464" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }, { "refs": [{ "id": "ref-for-funcdef-device-cmyk\u2460\u2465" }], "title": "18.8. \n\tChanges from CSS Color 4\n" }], "url": "#funcdef-device-cmyk" },
                "funcdef-hwb": { "dfnID": "funcdef-hwb", "dfnText": "hwb()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-hwb" }, { "id": "ref-for-funcdef-hwb\u2460" }, { "id": "ref-for-funcdef-hwb\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2462" }, { "id": "ref-for-funcdef-hwb\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }, { "refs": [{ "id": "ref-for-funcdef-hwb\u2466" }, { "id": "ref-for-funcdef-hwb\u2467" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-hwb" },
                "funcdef-lab": { "dfnID": "funcdef-lab", "dfnText": "lab()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-lab" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2460" }], "title": "3.4. \n\tEffect of Mixing Color Space on color-mix\n" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2461" }, { "id": "ref-for-funcdef-lab\u2462" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2463" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-lab\u2464" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-lab" },
                "funcdef-lch": { "dfnID": "funcdef-lch", "dfnText": "lch()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-lch" }, { "id": "ref-for-funcdef-lch\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2462" }, { "id": "ref-for-funcdef-lch\u2463" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-lch\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-lch" },
                "funcdef-light-dark": { "dfnID": "funcdef-light-dark", "dfnText": "light-dark()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-light-dark" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2460" }, { "id": "ref-for-funcdef-light-dark\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2462" }, { "id": "ref-for-funcdef-light-dark\u2463" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }, { "refs": [{ "id": "ref-for-funcdef-light-dark\u2464" }, { "id": "ref-for-funcdef-light-dark\u2465" }], "title": "18.3. \n\tSince the Working Draft of 28 June 2022\n" }], "url": "#funcdef-light-dark" },
                "funcdef-oklab": { "dfnID": "funcdef-oklab", "dfnText": "oklab()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-oklab" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2460" }, { "id": "ref-for-funcdef-oklab\u2461" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2462" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-oklab\u2463" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-oklab" },
                "funcdef-oklch": { "dfnID": "funcdef-oklch", "dfnText": "oklch()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-oklch" }, { "id": "ref-for-funcdef-oklch\u2460" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2461" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2462" }, { "id": "ref-for-funcdef-oklch\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2464" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-funcdef-oklch\u2465" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#funcdef-oklch" },
                "gamut-map": { "dfnID": "gamut-map", "dfnText": "gamut-map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gamut-map" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#gamut-map" },
                "invalid-color": { "dfnID": "invalid-color", "dfnText": "invalid color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-invalid-color" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-invalid-color\u2460" }, { "id": "ref-for-invalid-color\u2461" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-invalid-color\u2462" }], "title": "5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n" }], "url": "#invalid-color" },
                "naively-convert-from-cmyk-to-rgba": { "dfnID": "naively-convert-from-cmyk-to-rgba", "dfnText": "naively convert from CMYK to RGBA", "external": false, "refSections": [], "url": "#naively-convert-from-cmyk-to-rgba" },
                "naively-convert-from-rgba-to-cmyk": { "dfnID": "naively-convert-from-rgba-to-cmyk", "dfnText": "naively convert from RGBA to CMYK", "external": false, "refSections": [], "url": "#naively-convert-from-rgba-to-cmyk" },
                "origin-color": { "dfnID": "origin-color", "dfnText": "origin color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-origin-color" }, { "id": "ref-for-origin-color\u2460" }, { "id": "ref-for-origin-color\u2461" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-origin-color\u2462" }, { "id": "ref-for-origin-color\u2463" }, { "id": "ref-for-origin-color\u2464" }, { "id": "ref-for-origin-color\u2465" }, { "id": "ref-for-origin-color\u2466" }, { "id": "ref-for-origin-color\u2467" }, { "id": "ref-for-origin-color\u2468" }, { "id": "ref-for-origin-color\u2460\u24ea" }, { "id": "ref-for-origin-color\u2460\u2460" }, { "id": "ref-for-origin-color\u2460\u2461" }, { "id": "ref-for-origin-color\u2460\u2462" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2463" }, { "id": "ref-for-origin-color\u2460\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2465" }, { "id": "ref-for-origin-color\u2460\u2466" }, { "id": "ref-for-origin-color\u2460\u2467" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2460\u2468" }, { "id": "ref-for-origin-color\u2461\u24ea" }, { "id": "ref-for-origin-color\u2461\u2460" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2461" }, { "id": "ref-for-origin-color\u2461\u2462" }, { "id": "ref-for-origin-color\u2461\u2463" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2464" }, { "id": "ref-for-origin-color\u2461\u2465" }, { "id": "ref-for-origin-color\u2461\u2466" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2461\u2467" }, { "id": "ref-for-origin-color\u2461\u2468" }, { "id": "ref-for-origin-color\u2462\u24ea" }, { "id": "ref-for-origin-color\u2462\u2460" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2461" }, { "id": "ref-for-origin-color\u2462\u2462" }, { "id": "ref-for-origin-color\u2462\u2463" }, { "id": "ref-for-origin-color\u2462\u2464" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2465" }, { "id": "ref-for-origin-color\u2462\u2466" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2462\u2467" }, { "id": "ref-for-origin-color\u2462\u2468" }, { "id": "ref-for-origin-color\u2463\u24ea" }, { "id": "ref-for-origin-color\u2463\u2460" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-origin-color\u2463\u2461" }], "title": "11.2. \n\tSerializing Origin Colors\n" }, { "refs": [{ "id": "ref-for-origin-color\u2463\u2462" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#origin-color" },
                "originally-specified-color-space": { "dfnID": "originally-specified-color-space", "dfnText": "originally specified color space", "external": false, "refSections": [], "url": "#originally-specified-color-space" },
                "out-of-gamut": { "dfnID": "out-of-gamut", "dfnText": "out of gamut", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-out-of-gamut" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#out-of-gamut" },
                "relative-color": { "dfnID": "relative-color", "dfnText": "relative color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-relative-color" }, { "id": "ref-for-relative-color\u2460" }], "title": "4.1. \n\tProcessing Model for Relative Colors\n" }, { "refs": [{ "id": "ref-for-relative-color\u2461" }, { "id": "ref-for-relative-color\u2462" }, { "id": "ref-for-relative-color\u2463" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-relative-color\u2464" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2465" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2466" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2467" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2468" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u24ea" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2460" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2461" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2462" }, { "id": "ref-for-relative-color\u2460\u2463" }, { "id": "ref-for-relative-color\u2460\u2464" }, { "id": "ref-for-relative-color\u2460\u2465" }], "title": "5.1. Relative Color-Function Colors" }, { "refs": [{ "id": "ref-for-relative-color\u2460\u2466" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#relative-color" },
                "required-conversion": { "dfnID": "required-conversion", "dfnText": "Required conversion", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-required-conversion" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460" }, { "id": "ref-for-required-conversion\u2461" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2462" }, { "id": "ref-for-required-conversion\u2463" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2464" }, { "id": "ref-for-required-conversion\u2465" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2466" }, { "id": "ref-for-required-conversion\u2467" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2468" }, { "id": "ref-for-required-conversion\u2460\u24ea" }, { "id": "ref-for-required-conversion\u2460\u2460" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460\u2461" }, { "id": "ref-for-required-conversion\u2460\u2462" }, { "id": "ref-for-required-conversion\u2460\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-required-conversion\u2460\u2464" }, { "id": "ref-for-required-conversion\u2460\u2465" }, { "id": "ref-for-required-conversion\u2460\u2466" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#required-conversion" },
                "resolve-to-srgb": { "dfnID": "resolve-to-srgb", "dfnText": "resolve to sRGB", "external": false, "refSections": [], "url": "#resolve-to-srgb" },
                "support-legacy-color-syntax": { "dfnID": "support-legacy-color-syntax", "dfnText": "support legacy color syntax", "external": false, "refSections": [], "url": "#support-legacy-color-syntax" },
                "typedef-cmyk-component": { "dfnID": "typedef-cmyk-component", "dfnText": "<cmyk-component>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-cmyk-component" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-cmyk-component" },
                "typedef-color": { "dfnID": "typedef-color", "dfnText": "<color>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color" }, { "id": "ref-for-typedef-color\u2460" }, { "id": "ref-for-typedef-color\u2461" }], "title": "2. The <color> syntax" }, { "refs": [{ "id": "ref-for-typedef-color\u2462" }, { "id": "ref-for-typedef-color\u2463" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-typedef-color\u2464" }], "title": "4.2. \n\tRelative Color Syntax\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2465" }, { "id": "ref-for-typedef-color\u2466" }], "title": "4.3. Relative sRGB Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2467" }, { "id": "ref-for-typedef-color\u2468" }], "title": "4.4. Relative HSL Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u24ea" }], "title": "4.5. Relative HWB Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2460" }], "title": "4.6. Relative Lab Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2461" }], "title": "4.7. Relative Oklab Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2462" }], "title": "4.8. Relative LCH Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2463" }], "title": "4.9. Relative OkLCh Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2464" }], "title": "4.10. Relative Alpha Colors" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2465" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2466" }, { "id": "ref-for-typedef-color\u2460\u2467" }], "title": "7. \n\tReacting to the used color-scheme: the light-dark() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2460\u2468" }], "title": "8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u24ea" }], "title": "10. \n\tResolving <color> Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2460" }, { "id": "ref-for-typedef-color\u2461\u2461" }], "title": "10.1. \n\tResolving color-mix() Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2462" }, { "id": "ref-for-typedef-color\u2461\u2463" }, { "id": "ref-for-typedef-color\u2461\u2464" }], "title": "10.2. \n\tResolving Relative Color Syntax Values\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2465" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-typedef-color\u2461\u2466" }], "title": "11.3. \n\tSerializing Relative Color Functions\n" }], "url": "#typedef-color" },
                "typedef-color-base": { "dfnID": "typedef-color-base", "dfnText": "<color-base>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-base" }], "title": "2. The <color> syntax" }], "url": "#typedef-color-base" },
                "typedef-color-function": { "dfnID": "typedef-color-function", "dfnText": "<color-function>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-function" }], "title": "2. The <color> syntax" }], "url": "#typedef-color-function" },
                "typedef-color-space": { "dfnID": "typedef-color-space", "dfnText": "<color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-color-space" }], "title": "3. Mixing Colors: the color-mix() Function" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2460" }, { "id": "ref-for-typedef-color-space\u2461" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2462" }], "title": "11.1. \n\tSerializing color-mix()\n" }, { "refs": [{ "id": "ref-for-typedef-color-space\u2463" }], "title": "18.7. \n\tSince the FPWD of 10 June 2020\n" }], "url": "#typedef-color-space" },
                "typedef-colorspace-params": { "dfnID": "typedef-colorspace-params", "dfnText": "<colorspace-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-colorspace-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-colorspace-params" },
                "typedef-custom-color-space": { "dfnID": "typedef-custom-color-space", "dfnText": "<custom-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-custom-color-space" }, { "id": "ref-for-typedef-custom-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-custom-color-space" },
                "typedef-custom-params": { "dfnID": "typedef-custom-params", "dfnText": "<custom-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-custom-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-custom-params\u2460" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-custom-params" },
                "typedef-hue-interpolation-method": { "dfnID": "typedef-hue-interpolation-method", "dfnText": "<hue-interpolation-method>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-hue-interpolation-method" }, { "id": "ref-for-typedef-hue-interpolation-method\u2460" }], "title": "3.3. \n\tCalculating the Result of color-mix\n" }, { "refs": [{ "id": "ref-for-typedef-hue-interpolation-method\u2461" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-hue-interpolation-method" },
                "typedef-legacy-device-cmyk-syntax": { "dfnID": "typedef-legacy-device-cmyk-syntax", "dfnText": "<legacy-device-cmyk-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-legacy-device-cmyk-syntax" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-legacy-device-cmyk-syntax" },
                "typedef-modern-device-cmyk-syntax": { "dfnID": "typedef-modern-device-cmyk-syntax", "dfnText": "<modern-device-cmyk-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-device-cmyk-syntax" }], "title": "6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n" }], "url": "#typedef-modern-device-cmyk-syntax" },
                "typedef-modern-hsl-syntax": { "dfnID": "typedef-modern-hsl-syntax", "dfnText": "<modern-hsl-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-hsl-syntax" }], "title": "4.4. Relative HSL Colors" }], "url": "#typedef-modern-hsl-syntax" },
                "typedef-modern-hsla-syntax": { "dfnID": "typedef-modern-hsla-syntax", "dfnText": "<modern-hsla-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-hsla-syntax" }], "title": "4.4. Relative HSL Colors" }], "url": "#typedef-modern-hsla-syntax" },
                "typedef-modern-rgb-syntax": { "dfnID": "typedef-modern-rgb-syntax", "dfnText": "<modern-rgb-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-rgb-syntax" }], "title": "4.3. Relative sRGB Colors" }], "url": "#typedef-modern-rgb-syntax" },
                "typedef-modern-rgba-syntax": { "dfnID": "typedef-modern-rgba-syntax", "dfnText": "<modern-rgba-syntax>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-modern-rgba-syntax" }], "title": "4.3. Relative sRGB Colors" }], "url": "#typedef-modern-rgba-syntax" },
                "typedef-polar-color-space": { "dfnID": "typedef-polar-color-space", "dfnText": "<polar-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-polar-color-space" }, { "id": "ref-for-typedef-polar-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-polar-color-space" },
                "typedef-predefined-rgb": { "dfnID": "typedef-predefined-rgb", "dfnText": "<predefined-rgb>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-predefined-rgb" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }], "url": "#typedef-predefined-rgb" },
                "typedef-predefined-rgb-params": { "dfnID": "typedef-predefined-rgb-params", "dfnText": "<predefined-rgb-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-predefined-rgb-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-predefined-rgb-params\u2460" }, { "id": "ref-for-typedef-predefined-rgb-params\u2461" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-predefined-rgb-params" },
                "typedef-rectangular-color-space": { "dfnID": "typedef-rectangular-color-space", "dfnText": "<rectangular-color-space>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-rectangular-color-space" }, { "id": "ref-for-typedef-rectangular-color-space\u2460" }], "title": "9.1. \n\tColor Space for Interpolation" }], "url": "#typedef-rectangular-color-space" },
                "typedef-xyz-params": { "dfnID": "typedef-xyz-params", "dfnText": "<xyz-params>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-xyz-params" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-typedef-xyz-params\u2460" }, { "id": "ref-for-typedef-xyz-params\u2461" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#typedef-xyz-params" },
                "valdef-alpha-alpha": { "dfnID": "valdef-alpha-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-alpha-alpha" },
                "valdef-color-alpha": { "dfnID": "valdef-color-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-color-alpha" },
                "valdef-color-b": { "dfnID": "valdef-color-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-color-b" },
                "valdef-color-g": { "dfnID": "valdef-color-g", "dfnText": "g", "external": false, "refSections": [], "url": "#valdef-color-g" },
                "valdef-color-profile-rendering-intent-absolute-colorimetric": { "dfnID": "valdef-color-profile-rendering-intent-absolute-colorimetric", "dfnText": "absolute-colorimetric", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-absolute-colorimetric" },
                "valdef-color-profile-rendering-intent-perceptual": { "dfnID": "valdef-color-profile-rendering-intent-perceptual", "dfnText": "perceptual", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-perceptual" },
                "valdef-color-profile-rendering-intent-relative-colorimetric": { "dfnID": "valdef-color-profile-rendering-intent-relative-colorimetric", "dfnText": "relative-colorimetric", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-relative-colorimetric" },
                "valdef-color-profile-rendering-intent-saturation": { "dfnID": "valdef-color-profile-rendering-intent-saturation", "dfnText": "saturation", "external": false, "refSections": [], "url": "#valdef-color-profile-rendering-intent-saturation" },
                "valdef-color-r": { "dfnID": "valdef-color-r", "dfnText": "r", "external": false, "refSections": [], "url": "#valdef-color-r" },
                "valdef-color-x": { "dfnID": "valdef-color-x", "dfnText": "x", "external": false, "refSections": [], "url": "#valdef-color-x" },
                "valdef-color-y": { "dfnID": "valdef-color-y", "dfnText": "y", "external": false, "refSections": [], "url": "#valdef-color-y" },
                "valdef-color-z": { "dfnID": "valdef-color-z", "dfnText": "z", "external": false, "refSections": [], "url": "#valdef-color-z" },
                "valdef-hsl-alpha": { "dfnID": "valdef-hsl-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-hsl-alpha" },
                "valdef-hsl-h": { "dfnID": "valdef-hsl-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-hsl-h" },
                "valdef-hsl-l": { "dfnID": "valdef-hsl-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-hsl-l" },
                "valdef-hsl-s": { "dfnID": "valdef-hsl-s", "dfnText": "s", "external": false, "refSections": [], "url": "#valdef-hsl-s" },
                "valdef-hwb-alpha": { "dfnID": "valdef-hwb-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-hwb-alpha" },
                "valdef-hwb-b": { "dfnID": "valdef-hwb-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-hwb-b" },
                "valdef-hwb-h": { "dfnID": "valdef-hwb-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-hwb-h" },
                "valdef-hwb-w": { "dfnID": "valdef-hwb-w", "dfnText": "w", "external": false, "refSections": [], "url": "#valdef-hwb-w" },
                "valdef-lab-a": { "dfnID": "valdef-lab-a", "dfnText": "a", "external": false, "refSections": [], "url": "#valdef-lab-a" },
                "valdef-lab-alpha": { "dfnID": "valdef-lab-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-lab-alpha" },
                "valdef-lab-b": { "dfnID": "valdef-lab-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-lab-b" },
                "valdef-lab-l": { "dfnID": "valdef-lab-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-lab-l" },
                "valdef-lch-alpha": { "dfnID": "valdef-lch-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-lch-alpha" },
                "valdef-lch-c": { "dfnID": "valdef-lch-c", "dfnText": "c", "external": false, "refSections": [], "url": "#valdef-lch-c" },
                "valdef-lch-h": { "dfnID": "valdef-lch-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-lch-h" },
                "valdef-lch-l": { "dfnID": "valdef-lch-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-lch-l" },
                "valdef-oklab-a": { "dfnID": "valdef-oklab-a", "dfnText": "a", "external": false, "refSections": [], "url": "#valdef-oklab-a" },
                "valdef-oklab-alpha": { "dfnID": "valdef-oklab-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-oklab-alpha" },
                "valdef-oklab-b": { "dfnID": "valdef-oklab-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-oklab-b" },
                "valdef-oklab-l": { "dfnID": "valdef-oklab-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-oklab-l" },
                "valdef-oklch-alpha": { "dfnID": "valdef-oklch-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-oklch-alpha" },
                "valdef-oklch-c": { "dfnID": "valdef-oklch-c", "dfnText": "c", "external": false, "refSections": [], "url": "#valdef-oklch-c" },
                "valdef-oklch-h": { "dfnID": "valdef-oklch-h", "dfnText": "h", "external": false, "refSections": [], "url": "#valdef-oklch-h" },
                "valdef-oklch-l": { "dfnID": "valdef-oklch-l", "dfnText": "l", "external": false, "refSections": [], "url": "#valdef-oklch-l" },
                "valdef-rgb-alpha": { "dfnID": "valdef-rgb-alpha", "dfnText": "alpha", "external": false, "refSections": [], "url": "#valdef-rgb-alpha" },
                "valdef-rgb-b": { "dfnID": "valdef-rgb-b", "dfnText": "b", "external": false, "refSections": [], "url": "#valdef-rgb-b" },
                "valdef-rgb-g": { "dfnID": "valdef-rgb-g", "dfnText": "g", "external": false, "refSections": [], "url": "#valdef-rgb-g" },
                "valdef-rgb-r": { "dfnID": "valdef-rgb-r", "dfnText": "r", "external": false, "refSections": [], "url": "#valdef-rgb-r" },
                "valid-color": { "dfnID": "valid-color", "dfnText": "valid color", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valid-color" }, { "id": "ref-for-valid-color\u2460" }, { "id": "ref-for-valid-color\u2461" }], "title": "5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n" }, { "refs": [{ "id": "ref-for-valid-color\u2462" }, { "id": "ref-for-valid-color\u2463" }, { "id": "ref-for-valid-color\u2464" }], "title": "5.1. Relative Color-Function Colors" }], "url": "#valid-color" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-link-titles */
        "use strict";
        {
            let linkTitleData = {
                "https://www.w3.org/TR/css-values-4/#angle-value": "Expands to: deg | grad | rad | turn",
                "https://www.w3.org/TR/css-values-4/#url-value": "Expands to: local url flag",
            };

            function setTypeTitles() {
                for (let el of document.querySelectorAll("a[href]")) {
                    if (el.href in linkTitleData && !el.hasAttribute("title")) {
                        el.setAttribute("title", linkTitleData[el.href]);
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", setTypeTitles);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#at-ruledef-profile": { "displayText": "@color-profile", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "@color-profile", "type": "at-rule", "url": "#at-ruledef-profile" },
                "#color-interpolation-method": { "displayText": "<color-interpolation-method>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-interpolation-method>", "type": "type", "url": "#color-interpolation-method" },
                "#component-keyword": { "displayText": "component keyword", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "component keyword", "type": "dfn", "url": "#component-keyword" },
                "#css-color-profile": { "displayText": "color profile", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color profile", "type": "dfn", "url": "#css-color-profile" },
                "#csscolorprofilerule": { "displayText": "CSSColorProfileRule", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "CSSColorProfileRule", "type": "interface", "url": "#csscolorprofilerule" },
                "#descdef-color-profile-components": { "displayText": "components", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "components", "type": "descriptor", "url": "#descdef-color-profile-components" },
                "#descdef-color-profile-rendering-intent": { "displayText": "rendering-intent", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "rendering-intent", "type": "descriptor", "url": "#descdef-color-profile-rendering-intent" },
                "#descdef-color-profile-src": { "displayText": "src", "export": true, "for_": ["@color-profile"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "src", "type": "descriptor", "url": "#descdef-color-profile-src" },
                "#dom-csscolorprofilerule-components": { "displayText": "components", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "components", "type": "attribute", "url": "#dom-csscolorprofilerule-components" },
                "#dom-csscolorprofilerule-name": { "displayText": "name", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "name", "type": "attribute", "url": "#dom-csscolorprofilerule-name" },
                "#dom-csscolorprofilerule-renderingintent": { "displayText": "renderingIntent", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "renderingIntent", "type": "attribute", "url": "#dom-csscolorprofilerule-renderingintent" },
                "#dom-csscolorprofilerule-src": { "displayText": "src", "export": true, "for_": ["CSSColorProfileRule"], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "src", "type": "attribute", "url": "#dom-csscolorprofilerule-src" },
                "#funcdef-alpha": { "displayText": "alpha()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "alpha()", "type": "function", "url": "#funcdef-alpha" },
                "#funcdef-color": { "displayText": "color()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color()", "type": "function", "url": "#funcdef-color" },
                "#funcdef-color-mix": { "displayText": "color-mix()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "color-mix()", "type": "function", "url": "#funcdef-color-mix" },
                "#funcdef-contrast-color": { "displayText": "contrast-color()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "contrast-color()", "type": "function", "url": "#funcdef-contrast-color" },
                "#funcdef-device-cmyk": { "displayText": "device-cmyk()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "device-cmyk()", "type": "function", "url": "#funcdef-device-cmyk" },
                "#funcdef-hwb": { "displayText": "hwb()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "hwb()", "type": "function", "url": "#funcdef-hwb" },
                "#funcdef-lab": { "displayText": "lab()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "lab()", "type": "function", "url": "#funcdef-lab" },
                "#funcdef-lch": { "displayText": "lch()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "lch()", "type": "function", "url": "#funcdef-lch" },
                "#funcdef-light-dark": { "displayText": "light-dark()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "light-dark()", "type": "function", "url": "#funcdef-light-dark" },
                "#funcdef-oklab": { "displayText": "oklab()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "oklab()", "type": "function", "url": "#funcdef-oklab" },
                "#funcdef-oklch": { "displayText": "oklch()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "oklch()", "type": "function", "url": "#funcdef-oklch" },
                "#gamut-map": { "displayText": "gamut-map", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "gamut-map", "type": "dfn", "url": "#gamut-map" },
                "#invalid-color": { "displayText": "invalid color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "invalid color", "type": "dfn", "url": "#invalid-color" },
                "#origin-color": { "displayText": "origin color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "origin color", "type": "dfn", "url": "#origin-color" },
                "#out-of-gamut": { "displayText": "out of gamut", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "out of gamut", "type": "dfn", "url": "#out-of-gamut" },
                "#relative-color": { "displayText": "relative color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "relative color", "type": "dfn", "url": "#relative-color" },
                "#required-conversion": { "displayText": "required conversion", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "required conversion", "type": "dfn", "url": "#required-conversion" },
                "#typedef-cmyk-component": { "displayText": "<cmyk-component>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<cmyk-component>", "type": "type", "url": "#typedef-cmyk-component" },
                "#typedef-color": { "displayText": "<color>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color>", "type": "type", "url": "#typedef-color" },
                "#typedef-color-base": { "displayText": "<color-base>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-base>", "type": "type", "url": "#typedef-color-base" },
                "#typedef-color-function": { "displayText": "<color-function>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-function>", "type": "type", "url": "#typedef-color-function" },
                "#typedef-color-space": { "displayText": "<color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<color-space>", "type": "type", "url": "#typedef-color-space" },
                "#typedef-colorspace-params": { "displayText": "<colorspace-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<colorspace-params>", "type": "type", "url": "#typedef-colorspace-params" },
                "#typedef-custom-color-space": { "displayText": "<custom-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<custom-color-space>", "type": "type", "url": "#typedef-custom-color-space" },
                "#typedef-custom-params": { "displayText": "<custom-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<custom-params>", "type": "type", "url": "#typedef-custom-params" },
                "#typedef-hue-interpolation-method": { "displayText": "<hue-interpolation-method>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<hue-interpolation-method>", "type": "type", "url": "#typedef-hue-interpolation-method" },
                "#typedef-legacy-device-cmyk-syntax": { "displayText": "<legacy-device-cmyk-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<legacy-device-cmyk-syntax>", "type": "type", "url": "#typedef-legacy-device-cmyk-syntax" },
                "#typedef-modern-device-cmyk-syntax": { "displayText": "<modern-device-cmyk-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-device-cmyk-syntax>", "type": "type", "url": "#typedef-modern-device-cmyk-syntax" },
                "#typedef-modern-hsl-syntax": { "displayText": "<modern-hsl-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-hsl-syntax>", "type": "type", "url": "#typedef-modern-hsl-syntax" },
                "#typedef-modern-hsla-syntax": { "displayText": "<modern-hsla-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-hsla-syntax>", "type": "type", "url": "#typedef-modern-hsla-syntax" },
                "#typedef-modern-rgb-syntax": { "displayText": "<modern-rgb-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-rgb-syntax>", "type": "type", "url": "#typedef-modern-rgb-syntax" },
                "#typedef-modern-rgba-syntax": { "displayText": "<modern-rgba-syntax>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<modern-rgba-syntax>", "type": "type", "url": "#typedef-modern-rgba-syntax" },
                "#typedef-polar-color-space": { "displayText": "<polar-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<polar-color-space>", "type": "type", "url": "#typedef-polar-color-space" },
                "#typedef-predefined-rgb": { "displayText": "<predefined-rgb>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<predefined-rgb>", "type": "type", "url": "#typedef-predefined-rgb" },
                "#typedef-predefined-rgb-params": { "displayText": "<predefined-rgb-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<predefined-rgb-params>", "type": "type", "url": "#typedef-predefined-rgb-params" },
                "#typedef-rectangular-color-space": { "displayText": "<rectangular-color-space>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<rectangular-color-space>", "type": "type", "url": "#typedef-rectangular-color-space" },
                "#typedef-xyz-params": { "displayText": "<xyz-params>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "<xyz-params>", "type": "type", "url": "#typedef-xyz-params" },
                "#valid-color": { "displayText": "valid color", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-color", "spec": "css-color-5", "status": "local", "text": "valid color", "type": "dfn", "url": "#valid-color" },
                "https://drafts.csswg.org/css-color-4/#color-functions": { "displayText": "color functions", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "current", "text": "color functions", "type": "dfn", "url": "https://drafts.csswg.org/css-color-4/#color-functions" },
                "https://drafts.csswg.org/css-values-5/#mix-item": { "displayText": "mix item", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-values", "spec": "css-values-5", "status": "current", "text": "mix item", "type": "dfn", "url": "https://drafts.csswg.org/css-values-5/#mix-item" },
                "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages": { "displayText": "normalize mix percentages", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-values", "spec": "css-values-5", "status": "current", "text": "normalize mix percentages", "type": "dfn", "url": "https://drafts.csswg.org/css-values-5/#normalize-mix-percentages" },
                "https://fetch.spec.whatwg.org/#concept-response": { "displayText": "response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response" },
                "https://infra.spec.whatwg.org/#ascii-case-insensitive": { "displayText": "ASCII case-insensitive", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii case-insensitive", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "https://infra.spec.whatwg.org/#stack": { "displayText": "stack", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "stack", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack" },
                "https://infra.spec.whatwg.org/#stack-pop": { "displayText": "pop", "export": true, "for_": ["stack"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "pop", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack-pop" },
                "https://infra.spec.whatwg.org/#stack-push": { "displayText": "push", "export": true, "for_": ["stack"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "push", "type": "dfn", "url": "https://infra.spec.whatwg.org/#stack-push" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://www.w3.org/TR/css-cascade-5/#actual-value": { "displayText": "actual value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "actual value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#actual-value" },
                "https://www.w3.org/TR/css-cascade-5/#computed-value": { "displayText": "computed value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "computed value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "https://www.w3.org/TR/css-color-4/#analogous-components": { "displayText": "analogous components", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "analogous components", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#analogous-components" },
                "https://www.w3.org/TR/css-color-4/#carried-forward": { "displayText": "carried forward", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "carried forward", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#carried-forward" },
                "https://www.w3.org/TR/css-color-4/#color": { "displayText": "color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#color" },
                "https://www.w3.org/TR/css-color-4/#color-space": { "displayText": "color space", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color space", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#color-space" },
                "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color": { "displayText": "cylindrical polar color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "cylindrical polar color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#cylindrical-polar-color" },
                "https://www.w3.org/TR/css-color-4/#funcdef-hsl": { "displayText": "hsl()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsl()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsl" },
                "https://www.w3.org/TR/css-color-4/#funcdef-hsla": { "displayText": "hsla()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsla()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-hsla" },
                "https://www.w3.org/TR/css-color-4/#funcdef-rgb": { "displayText": "rgb()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rgb()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgb" },
                "https://www.w3.org/TR/css-color-4/#funcdef-rgba": { "displayText": "rgba()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rgba()", "type": "function", "url": "https://www.w3.org/TR/css-color-4/#funcdef-rgba" },
                "https://www.w3.org/TR/css-color-4/#legacy-color-syntax": { "displayText": "legacy color syntax", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "legacy color syntax", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#legacy-color-syntax" },
                "https://www.w3.org/TR/css-color-4/#modern-color-syntax": { "displayText": "modern color syntax", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "modern color syntax", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#modern-color-syntax" },
                "https://www.w3.org/TR/css-color-4/#premultiplied": { "displayText": "premultiplied", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "premultiplied", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#premultiplied" },
                "https://www.w3.org/TR/css-color-4/#propdef-color": { "displayText": "color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "property", "url": "https://www.w3.org/TR/css-color-4/#propdef-color" },
                "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color": { "displayText": "rectangular orthogonal color", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rectangular orthogonal color", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color" },
                "https://www.w3.org/TR/css-color-4/#transparent-black": { "displayText": "transparent black", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "transparent black", "type": "dfn", "url": "https://www.w3.org/TR/css-color-4/#transparent-black" },
                "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value": { "displayText": "<alpha-value>", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<alpha-value>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value" },
                "https://www.w3.org/TR/css-color-4/#typedef-hex-color": { "displayText": "<hex-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<hex-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-hex-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-hue": { "displayText": "<hue>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<hue>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-hue" },
                "https://www.w3.org/TR/css-color-4/#typedef-named-color": { "displayText": "<named-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<named-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-named-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-system-color": { "displayText": "<system-color>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<system-color>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-system-color" },
                "https://www.w3.org/TR/css-color-4/#typedef-xyz-space": { "displayText": "<xyz-space>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "<xyz-space>", "type": "type", "url": "https://www.w3.org/TR/css-color-4/#typedef-xyz-space" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb": { "displayText": "a98-rgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "a98-rgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-black": { "displayText": "black", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "black", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-black" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-blue": { "displayText": "blue", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "blue", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-blue" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor": { "displayText": "currentcolor", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "currentcolor", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen": { "displayText": "darkolivegreen", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "darkolivegreen", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3": { "displayText": "display-p3", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "display-p3", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-display-p3" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-lime": { "displayText": "lime", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lime", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-lime" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-none": { "displayText": "none", "export": true, "for_": ["<color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-none" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb": { "displayText": "prophoto-rgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "prophoto-rgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020": { "displayText": "rec2020", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "rec2020", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-rec2020" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-red": { "displayText": "red", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "red", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-red" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-srgb": { "displayText": "srgb", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "srgb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear": { "displayText": "srgb-linear", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "srgb-linear", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-white": { "displayText": "white", "export": true, "for_": ["<color>", "<named-color>"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "white", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-white" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz": { "displayText": "xyz", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz" },
                "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65": { "displayText": "xyz-d65", "export": true, "for_": ["color()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "xyz-d65", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65" },
                "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl": { "displayText": "HSL", "export": true, "for_": ["hsl()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hsl", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl" },
                "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb": { "displayText": "HWB", "export": true, "for_": ["hwb()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "hwb", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb" },
                "https://www.w3.org/TR/css-color-4/#valdef-lab-lab": { "displayText": "lab", "export": true, "for_": ["lab()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lab", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-lab-lab" },
                "https://www.w3.org/TR/css-color-4/#valdef-lch-lch": { "displayText": "LCH", "export": true, "for_": ["lch()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "lch", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-lch-lch" },
                "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab": { "displayText": "oklab", "export": true, "for_": ["oklab()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "oklab", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab" },
                "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch": { "displayText": "OKLCh", "export": true, "for_": ["oklch()"], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "oklch", "type": "value", "url": "https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch" },
                "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme": { "displayText": "used color scheme", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "used color scheme", "type": "dfn", "url": "https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme" },
                "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark": { "displayText": "dark", "export": true, "for_": ["color-scheme"], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "dark", "type": "value", "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark" },
                "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light": { "displayText": "light", "export": true, "for_": ["color-scheme"], "level": "1", "normative": true, "shortname": "css-color-adjust", "spec": "css-color-adjust-1", "status": "snapshot", "text": "light", "type": "value", "url": "https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light" },
                "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list": { "displayText": "<declaration-list>", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "<declaration-list>", "type": "type", "url": "https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list" },
                "https://www.w3.org/TR/css-values-4/#angle-value": { "displayText": "<angle>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<angle>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#angle-value" },
                "https://www.w3.org/TR/css-values-4/#canonical-unit": { "displayText": "canonical unit", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "canonical unit", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#canonical-unit" },
                "https://www.w3.org/TR/css-values-4/#comb-all": { "displayText": "&&", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "&&", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-all" },
                "https://www.w3.org/TR/css-values-4/#comb-comma": { "displayText": ",", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": ",", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-comma" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "displayText": "|", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource": { "displayText": "fetch a style resource", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "fetch a style resource", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#fetch-a-style-resource" },
                "https://www.w3.org/TR/css-values-4/#funcdef-calc": { "displayText": "calc()", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "calc()", "type": "function", "url": "https://www.w3.org/TR/css-values-4/#funcdef-calc" },
                "https://www.w3.org/TR/css-values-4/#math-function": { "displayText": "math function", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "math function", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#math-function" },
                "https://www.w3.org/TR/css-values-4/#mult-comma": { "displayText": "#", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "#", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-comma" },
                "https://www.w3.org/TR/css-values-4/#mult-num": { "displayText": "{A}", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "{a}", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-num" },
                "https://www.w3.org/TR/css-values-4/#mult-one-plus": { "displayText": "+", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "+", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-one-plus" },
                "https://www.w3.org/TR/css-values-4/#mult-opt": { "displayText": "?", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "?", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "https://www.w3.org/TR/css-values-4/#number-value": { "displayText": "<number>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<number>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "https://www.w3.org/TR/css-values-4/#percentage-value": { "displayText": "<percentage>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<percentage>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident": { "displayText": "<dashed-ident>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<dashed-ident>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-dashed-ident" },
                "https://www.w3.org/TR/css-values-4/#typedef-ident": { "displayText": "<ident>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<ident>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-ident" },
                "https://www.w3.org/TR/css-values-4/#url-value": { "displayText": "<url>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<url>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "https://www.w3.org/TR/css-values-4/#valdef-calc-pi": { "displayText": "pi", "export": true, "for_": ["calc()"], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "pi", "type": "value", "url": "https://www.w3.org/TR/css-values-4/#valdef-calc-pi" },
                "https://www.w3.org/TR/cssom-1/#cssomstring": { "displayText": "CSSOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSOMString", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "https://www.w3.org/TR/cssom-1/#cssrule": { "displayText": "CSSRule", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSRule", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script>/* Boilerplate: script-wpt */
        "use strict";
        {
            let wptData = {
                "paths": ["/css/css-color/", "/css/css-pseudo/", "/html/canvas/"],
            };

            document.addEventListener("DOMContentLoaded", async () => {
                if (wptData.paths.length == 0) return;

                const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
                const runs = await (await fetch(runsUrl)).json();

                let testResults = [];
                for (const pathPrefix of wptData.paths) {
                    const pathResults = await (await fetch("https://wpt.fyi/api/search", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            "run_ids": runs.map(x => x.id),
                            "query": { "path": pathPrefix },
                        })
                    })).json();
                    testResults = testResults.concat(pathResults.results);
                }

                const browsers = runs.map(x => ({ name: x.browser_name, version: x.browser_version, passes: 0, total: 0 }));
                const resultsFromPath = new Map(testResults.map(result => {
                    const testPath = result.test;
                    const passes = result.legacy_status.map(x => [x.passes, x.total]);
                    return [testPath, passes];
                }));
                const seenTests = new Set();
                document.querySelectorAll(".wpt-name").forEach(nameEl => {
                    const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
                    if (!passData) {
                        console.log("Couldn't find test in results:", nameEl);
                        return
                    }
                    const numTests = passData[0][1];
                    if (numTests > 1) {
                        nameEl.insertAdjacentElement("beforeend",
                            mk.small({}, ` (${numTests} tests)`));
                    }
                    if (passData == undefined) return;
                    const resultsEl = mk.span({ "class": "wpt-results" },
                        ...passData.map((p, i) => mk.span(
                            {
                                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                                "class": "wpt-result",
                                "style": `background: conic-gradient(forestgreen ${p[0] / p[1] * 360}deg, darkred 0deg);`,
                            })),
                    );
                    nameEl.insertAdjacentElement("afterend", resultsEl);

                    // Only update the summary pass/total count if we haven't seen this
                    // test before, to support authors listing the same test multiple times
                    // in a spec.
                    if (!seenTests.has(nameEl.getAttribute("title"))) {
                        seenTests.add(nameEl.getAttribute("title"));
                        passData.forEach((p, i) => {
                            browsers[i].passes += p[0];
                            browsers[i].total += p[1];
                        });
                    }
                });
                const overview = document.querySelector(".wpt-overview");
                if (overview) {
                    overview.appendChild(mk.ul({}, ...browsers.map(formatWptResult)));
                    document.head.appendChild(mk.style({},
                        `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
                }
            });

            function formatWptResult({ name, version, passes, total }) {
                const passRate = passes / total;
                let passClass = "";
                if (passRate == 0) passClass = "passes-none";
                else if (passRate < .2) passClass = "passes-hardly";
                else if (passRate < .4) passClass = "passes-a-few";
                else if (passRate < .6) passClass = "passes-half";
                else if (passRate < .8) passClass = "passes-lots";
                else if (passRate < 1) passClass = "passes-most";
                else passClass = "passes-all";

                name = name[0].toUpperCase() + name.slice(1);
                const shortVersion = /^\d+/.exec(version);
                const icon = []

                if (name == "Chrome") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/chrome_64x64.png" }));
                if (name == "Edge") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/edge_64x64.png" }));
                if (name == "Safari") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/safari_64x64.png" }));
                if (name == "Firefox") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/firefox_64x64.png" }));

                return mk.li({ "class": passClass },
                    mk.nobr({ 'class': 'browser' }, ...icon, ` ${name} ${shortVersion}`),
                    mk.br(),
                    mk.nobr({ 'class': 'pass-rate' }, `${passes}/${total}`)
                );
            }
        }
    </script>
    <script src="/dropdown.js"></script>