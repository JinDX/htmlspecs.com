<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 条件规则模块 3 级</title>
    <meta content="CRD" name="w3c-status">
    <!-- <meta content="Bikeshed version c3a8ac783, updated Wed Jul 24 12:20:06 2024 -0700" name="generator"> -->
    <link href="https://www.w3.org/TR/css-conditional-3/" rel="canonical">
    <!-- <meta content="a1a1ad85a630867a5a5b4c68e39017a4ed6763bd" name="revision"> -->
    <meta content="dark light" name="color-scheme">
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-CRD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS 条件规则模块 3 级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CRD">W3C 候选推荐草案</a>，<time class="dt-updated"
                datetime="2024-08-15">2024年8月15日</time></p>
        <details open>
            <summary>关于本文档的更多信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本：
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2024/CRD-css-conditional-3-20240815/">https://www.w3.org/TR/2024/CRD-css-conditional-3-20240815/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/css-conditional-3/">https://www.w3.org/TR/css-conditional-3/</a>
                    <dt>编辑草案：
                    <dd><a
                            href="https://drafts.csswg.org/css-conditional-3/">https://drafts.csswg.org/css-conditional-3/</a>
                    <dt>以往版本：
                    <dd><a href="https://www.w3.org/TR/2022/CR-css-conditional-3-20220113/"
                            rel="prev">https://www.w3.org/TR/2022/CR-css-conditional-3-20220113/</a>
                    <dd><a href="https://www.w3.org/TR/2021/CRD-css-conditional-3-20211223/"
                            rel="prev">https://www.w3.org/TR/2021/CRD-css-conditional-3-20211223/</a>
                    <dd><a href="https://www.w3.org/TR/2020/CR-css-conditional-3-20201208/"
                            rel="prev">https://www.w3.org/TR/2020/CR-css-conditional-3-20201208/</a>
                    <dd><a href="https://www.w3.org/TR/2013/CR-css3-conditional-20130404/"
                            rel="prev">https://www.w3.org/TR/2013/CR-css3-conditional-20130404/</a>
                    <dt>历史记录：
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-conditional-3/">https://www.w3.org/standards/history/css-conditional-3/</a>
                    <dt>实现报告：
                    <dd><a
                            href="https://wpt.fyi/results/css/css-conditional?label=master&amp;label=experimental&amp;aligned">https://wpt.fyi/results/css/css-conditional?label=master&amp;label=experimental&amp;aligned</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-conditional-3">CSSWG 问题库</a>
                    <dt class="editor">编辑者：
                    <dd class="editor p-author h-card vcard" data-editor-id="15393"><a class="p-name fn u-url url"
                            href="https://dbaron.org/">L. David Baron</a> (<a class="p-org org"
                            href="https://www.mozilla.org/">Mozilla</a>)
                    <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url"
                            href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span
                            class="p-org org">Apple</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="1438"><a class="p-name fn u-url url"
                            href="https://svgees.us/">Chris Lilley</a> (<span class="p-org org">W3C</span>)
                    <dt>为本规范建议编辑：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-conditional-3/Overview.bs">GitHub
                            编辑器</a>
                    <dt>测试套件：
                    <dd class="wpt-overview"><a
                            href="https://wpt.fyi/results/css/css-conditional/">https://wpt.fyi/results/css/css-conditional/</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2024 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本模块包含了 CSS 针对样式表部分内容进行条件处理的相关特性，这些条件依赖于处理器或应用样式表的文档的能力。它包括并扩展了 CSS 2 级 <a data-link-type="biblio"
                href="#biblio-css21"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS21]</a> 的功能，CSS 2 级又是在 CSS
            1 级 <a data-link-type="biblio" href="#biblio-css1" title="Cascading Style Sheets, level 1">[CSS1]</a>
            基础上构建的。相比于 2 级，主要的扩展是允许在 <a class="css" data-link-type="maybe" href="#at-ruledef-media"
                id="ref-for-at-ruledef-media">@media</a> 内部嵌套某些 at-规则，以及新增了用于条件处理的 <a class="css" data-link-type="maybe"
                href="#at-ruledef-supports" id="ref-for-at-ruledef-supports">@supports</a> 规则。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（如 HTML 和 XML）在屏幕、纸张等上的呈现方式的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。当前 W3C 出版物列表及本技术报告的最新修订版可在 <a href="https://www.w3.org/TR/">W3C 技术报告索引
                    https://www.w3.org/TR/</a> 查阅。</em></p>
        <p> 本文档由 <a href="https://www.w3.org/groups/wg/css">CSS 工作组</a> 作为<strong>候选推荐草案</strong>，使用<a
                href="https://www.w3.org/policies/process/20231103/#recs-and-notes">推荐路线</a>发布。
            作为候选推荐草案发布，并不意味着 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员对此的认可。
            候选推荐草案整合了工作组打算在后续候选推荐快照中纳入的上一版候选推荐的变更。</p>
        <p> 本文档为草案文件，可能随时更新、替换或被其他文档取代。
            除作为进行中的工作外，不应引用本文件。</p>
        <p>请通过<a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 提交
                issue</a>（推荐）反馈意见，标题中请包含规范代码“css-conditional”，如：“[css-conditional] <i>…评论摘要…</i>”。
            所有问题和评论都会被<a href="https://lists.w3.org/Archives/Public/public-css-archive/">归档</a>。
            另外，也可将反馈发送至（<a href="https://lists.w3.org/Archives/Public/www-style/">归档</a>）公共邮件列表 <a
                href="mailto:www-style@w3.org?Subject=%5Bcss-conditional%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。
        </p>
        <p>本文件受 <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">2023年11月3日 W3C
                流程文件</a> 管辖。</p>
        <p>本文档由遵循 <a href="https://www.w3.org/policies/patent-policy/20200915/">W3C 专利政策</a> 的工作组制作。
            W3C 维护了与该组交付物相关的<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">专利披露公开列表</a>；
            该页面也包含披露专利的说明。
            如个人知悉某项专利并认为其包含<a href="https://www.w3.org/policies/patent-policy/20200915/#def-essential">必要权利要求</a>，则必须根据
            <a href="https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure">W3C 专利政策第6节</a> 披露该信息。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk">
        <p>以下特性存在风险，可能会在 CR 阶段被移除：</p>
        <ul>
            <li>在本规范所有 @-规则内允许使用 @font-face 规则和 @keyframes
                规则的内容存在风险，这主要是因为相关规范推进速度的不同。如果本规范的推进速度快于定义这些规则的规范，那么这些规则将从本规范中移除，转移至定义它们的规范中。
            <li>在条件分组规则内增加对 @-规则的支持也存在风险；如果未能找到可互操作的实现，则可能会移除该特性，以推进本规范的其它特性进入提议推荐阶段。
        </ul>
        <p>“存在风险”是 W3C
            流程中的术语，并不一定意味着该特性有被移除或延迟的危险。它表示工作组认为该特性在及时实现可互操作性方面可能存在困难，将特性标记为“存在风险”可以使工作组在向提议推荐阶段过渡时，如果有必要，可以移除该特性，而无需先发布不包含该特性的候选推荐。
        </p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#introduction"><span class="secno">1</span> <span class="content">引言</span></a>
                <ol class="toc">
                    <li><a href="#context"><span class="secno">1.1</span> <span class="content">背景</span></a>
                    <li><a href="#placement"><span class="secno">1.2</span> <span class="content">模块交互</span></a>
                </ol>
            <li><a href="#processing"><span class="secno">2</span> <span class="content">条件分组规则的处理</span></a>
            <li><a href="#contents-of"><span class="secno">3</span> <span class="content">条件分组规则的内容</span></a>
            <li><a href="#use"><span class="secno">4</span> <span class="content">条件分组规则的位置</span></a>
            <li><a href="#at-media"><span class="secno">5</span> <span class="content">媒体专用样式表：<span
                            class="css">@media</span> 规则</span></a>
            <li>
                <a href="#at-supports"><span class="secno">6</span> <span class="content">特性查询：<span
                            class="css">@supports</span> 规则</span></a>
                <ol class="toc">
                    <li><a href="#support-definition"><span class="secno">6.1</span> <span
                                class="content">支持的定义</span></a>
                </ol>
            <li>
                <a href="#apis"><span class="secno">7</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li><a href="#extensions-to-cssrule-interface"><span class="secno">7.1</span> <span class="content">
                                <code class="highlight">CSSRule</code> 接口的扩展</span></a>
                    <li><a href="#the-cssconditionrule-interface"><span class="secno">7.2</span> <span class="content">
                                <code class="highlight">CSSConditionRule</code> 接口</span></a>
                    <li><a href="#the-cssmediarule-interface"><span class="secno">7.3</span> <span class="content">
                                <code class="highlight">CSSMediaRule</code> 接口</span></a>
                    <li><a href="#the-csssupportsrule-interface"><span class="secno">7.4</span> <span class="content">
                                <code class="highlight">CSSSupportsRule</code> 接口</span></a>
                    <li><a href="#the-css-namespace"><span class="secno">7.5</span> <span class="content"><span>
                                    <code class="highlight">CSS</code> 命名空间及 <code class="highlight"
                                        title><c- nf>supports</c-><c- p>()</c-></code> 函数</span></span></a>
                </ol>
            <li><a href="#security"><span class="secno"></span> <span class="content">安全性注意事项</span></a>
            <li><a href="#privacy"><span class="secno"></span> <span class="content">隐私性注意事项</span></a>
            <li><a href="#changes"><span class="secno">8</span> <span class="content">变更记录</span></a>
            <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">致谢</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                一致性类别</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content">部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content">不稳定和专有特性的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">非实验性实现</span></a>
                    <li><a href="#w3c-cr-exit-criteria"><span class="secno"></span> <span class="content">CR
                                退出标准</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参考文献中定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考性引用</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span
                class="content">引言</span><a class="self-link" href="#introduction"></a></h2>
        <h3 class="heading settled" data-level="1.1" id="context"><span class="secno">1.1. </span><span
                class="content">背景</span><a class="self-link" href="#context"></a></h3>
        <p><em>本节为非规范性内容。</em></p>
        <p><a data-link-type="biblio" href="#biblio-css21"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS21]</a> 定义了一种条件分组规则，即 <a
                class="css" data-link-type="maybe" href="#at-ruledef-media" id="ref-for-at-ruledef-media①">@media</a>
            规则，并且只允许在其内部使用样式规则（不允许其他 @-规则）。<span class="css" id="ref-for-at-ruledef-media②">@media</span>
            规则提供了媒体专用样式表的能力，这也可以通过 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-cascade-5/#at-ruledef-import" id="ref-for-at-ruledef-import">@import</a>
            和 <code
                class="highlight"><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" id="ref-for-the-link-element">link</a></code>
            等样式表链接特性实现。
            对 <span class="css" id="ref-for-at-ruledef-media③">@media</span> 规则内容的限制降低了其实用性；这迫使在媒体专用样式表中使用含有 @-规则等 CSS
            特性的作者不得不为每种媒体分别使用独立的样式表。
        </p>
        <p>本规范扩展了条件分组规则内容的规则，允许包含其他 @-规则，使作者能够在同一份样式表中，将含有 @-规则的 CSS 特性与媒体专用样式表结合使用。</p>
        <p>本规范还定义了另一种条件分组规则 <a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                id="ref-for-at-ruledef-supports①">@supports</a>，以满足作者和用户的需求。</p>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                id="ref-for-at-ruledef-supports②">@supports</a> 规则允许 CSS 根据对 CSS 属性和值的实现支持情况进行条件处理。该规则使作者更容易使用新的 CSS
            特性，并为不支持这些特性的实现提供良好的回退。这对于提供新布局机制的 CSS 特性，以及需要依据属性支持情况进行条件样式设置的其他场景尤为重要。</p>
        <h3 class="heading settled" data-level="1.2" id="placement"><span class="secno">1.2. </span><span
                class="content">模块交互</span><a class="self-link" href="#placement"></a></h3>
        <p>本模块替换并扩展了 <a class="css" data-link-type="maybe" href="#at-ruledef-media"
                id="ref-for-at-ruledef-media④">@media</a> 规则（见 <a data-link-type="biblio" href="#biblio-css21"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS21]</a> 第7.2.1节），并纳入了 <a
                data-link-type="biblio" href="#biblio-mediaqueries-4" title="Media Queries Level 4">[MEDIAQUERIES-4]</a>
            第1节此前非规范性做出的修改。</p>
        <h2 class="heading settled" data-level="2" id="processing"><span class="secno">2. </span><span
                class="content">条件分组规则的处理</span><a class="self-link" href="#processing"></a>
        </h2>
        <p>本规范定义了一些 CSS <a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#at-rule"
                id="ref-for-at-rule">at-规则</a>，
            称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="conditional group rule"
                id="conditional-group-rule">条件分组规则</dfn>，
            它们将一个条件与一组其他 CSS 规则关联起来。这些不同的规则能够测试不同类型的条件，但在条件为真和条件为假时，它们内容的使用方式有共同点。
        </p>
        <div class="example" id="example-25d00670">
            <a class="self-link" href="#example-25d00670"></a> 例如，下述规则：
            <pre class="highlight"><c- n>@media</c-> print <c- p>{</c->
  <c- c>/* hide navigation controls when printing */</c->
  #navigation <c- p>{</c-> <c- k>display</c-><c- p>:</c-> none <c- p>}</c->
<c- p>}</c->
</pre>
            <p>会使某条 CSS 规则（让 ID 为“navigation”的元素 display:none）只在样式表用于打印介质时生效。</p>
        </div>
        <p>每个条件分组规则都有一个条件，该条件在任意时刻都可以计算为 true 或 false。当条件为 true 时，CSS
            处理器<strong>必须</strong>像在分组规则位置直接声明一样应用分组规则内的所有规则；当条件为 false 时，CSS
            处理器<strong>不得</strong>应用分组规则内的任何规则。条件的当前状态不会影响 CSS 对象模型，在对象模型中，分组规则的内容始终保留在分组规则内部。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>条件为真时，规则在原地应用。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-001.html"
                        title="css/css-conditional/at-supports-001.html">at-supports-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-001.html"
                        title="css/css-conditional/at-media-001.html">at-media-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-001.html"><small>(源码)</small></a>
            </ul>
            <hr>
            <p>条件为假时，规则不会被应用。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-020.xht"
                        title="css/css-conditional/css-supports-020.xht">css-supports-020.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-020.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-020.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-002.html"
                        title="css/css-conditional/at-media-002.html">at-media-002.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-002.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-002.html"><small>(源码)</small></a>
            </ul>
            <hr>
            <p>无论条件如何，CSSOM 始终包含规则。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/js/conditional-CSSGroupingRule.html"
                        title="css/css-conditional/js/conditional-CSSGroupingRule.html">conditional-CSSGroupingRule.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/js/conditional-CSSGroupingRule.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/js/conditional-CSSGroupingRule.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <p>这意味着当多个条件分组规则嵌套时，只有所有分组规则的条件都为真，内部的规则才会被应用。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>嵌套规则仅在所有条件为真时应用。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-002.html"
                        title="css/css-conditional/at-supports-002.html">at-supports-002.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-002.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-002.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-003.html"
                        title="css/css-conditional/at-supports-003.html">at-supports-003.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-003.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-003.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-004.html"
                        title="css/css-conditional/at-supports-004.html">at-supports-004.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-004.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-004.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-005.html"
                        title="css/css-conditional/at-supports-005.html">at-supports-005.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-005.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-005.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-048.html"
                        title="css/css-conditional/at-supports-048.html">at-supports-048.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-048.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-048.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-025.xht"
                        title="css/css-conditional/css-supports-025.xht">css-supports-025.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-025.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-025.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-026.xht"
                        title="css/css-conditional/css-supports-026.xht">css-supports-026.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-026.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-026.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-046.xht"
                        title="css/css-conditional/css-supports-046.xht">css-supports-046.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-046.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-046.xht"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <div class="example" id="example-cbc86bba">
            <a class="self-link" href="#example-cbc86bba"></a>例如，以下嵌套规则集：
            <pre class="highlight"><c- n>@media</c-> print <c- p>{</c-> <c- c>/* rule (1) */</c->
  <c- c>/* hide navigation controls when printing */</c->
  #navigation <c- p>{</c-> <c- k>display</c-><c- p>:</c-> none <c- p>}</c->
  <c- n>@media</c-> <c- p>(</c->max-width: <c- m>12</c-><c- k>cm</c-><c- p>)</c-> <c- p>{</c-> <c- c>/* rule (2) */</c->
    <c- c>/* keep notes in flow when printing to narrow pages */</c->
    .note <c- p>{</c-> <c- k>float</c-><c- p>:</c-> none <c- p>}</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
            <p>标记为（1）的规则的条件在打印媒体下为真，标记为（2）的规则的条件在显示区域（对于打印媒体而言是页面盒）宽度小于等于 12cm 时为真。因此，<span class="css">#navigation {
                    display: none }</span> 这条规则在应用于打印媒体时总是生效，而 <span class="css">.note { float: none }</span>
                这条规则只在既为打印媒体且页面盒宽度小于等于 12 厘米时生效。</p>
        </div>
        <p></p>
        <p>当条件分组规则的条件发生变化时，CSS 处理器<strong>必须</strong>反映出规则现在是否适用，除了那些其定义规定计算值效果在该值生命周期之外还会持续生效的属性（如 <a
                data-link-type="biblio" href="#biblio-css3-transitions" title="CSS Transitions">[CSS3-TRANSITIONS]</a> 和
            <a data-link-type="biblio" href="#biblio-css3-animations"
                title="CSS Animations Level 1">[CSS3-ANIMATIONS]</a> 中的某些属性）。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>条件变化时，应与应用时机同步反映（过渡/动画规则除外）。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-dynamic-001.html"
                        title="css/css-conditional/at-media-dynamic-001.html">at-media-dynamic-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-dynamic-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-dynamic-001.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <h2 class="heading settled" data-level="3" id="contents-of"><span class="secno">3. </span><span class="content">
                条件分组规则的内容</span><a class="self-link" href="#contents-of"></a></h2>
        <p>所有<a data-link-type="dfn" href="#conditional-group-rule"
                id="ref-for-conditional-group-rule">条件分组规则</a>都定义为其块内接受一个<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-syntax-3/#typedef-rule-list"
                id="ref-for-typedef-rule-list">&lt;rule-list></a>，允许包含样式表顶层通常允许的任意规则，除非有其他限制。
            （例如，<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#at-ruledef-import"
                id="ref-for-at-ruledef-import①">@import</a> 规则必须出现在样式表实际开头，因此在其他规则内部无效。）</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>所有无限制的顶层规则都允许嵌套。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-content-002.html"
                        title="css/css-conditional/at-supports-content-002.html">at-supports-content-002.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-content-002.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-content-002.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-content-003.html"
                        title="css/css-conditional/at-supports-content-003.html">at-supports-content-003.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-content-003.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-content-003.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-content-004.html"
                        title="css/css-conditional/at-supports-content-004.html">at-supports-content-004.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-content-004.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-content-004.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-content-002.html"
                        title="css/css-conditional/at-media-content-002.html">at-media-content-002.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-content-002.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-content-002.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-content-003.html"
                        title="css/css-conditional/at-media-content-003.html">at-media-content-003.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-content-003.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-content-003.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-content-004.html"
                        title="css/css-conditional/at-media-content-004.html">at-media-content-004.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-content-004.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-content-004.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <p>无效或未知规则在<a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-syntax-3/#typedef-rule-list"
                id="ref-for-typedef-rule-list①">&lt;rule-list></a> 内时应被视为无效并忽略，但不会导致<a data-link-type="dfn"
                href="#conditional-group-rule" id="ref-for-conditional-group-rule①">条件分组规则</a>整体无效。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>无效规则不会使条件分组规则整体无效。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-content-001.html"
                        title="css/css-conditional/at-supports-content-001.html">at-supports-content-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-content-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-content-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-content-001.html"
                        title="css/css-conditional/at-media-content-001.html">at-media-content-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-content-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-content-001.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <p>在<a data-link-type="dfn" href="#conditional-group-rule"
                id="ref-for-conditional-group-rule②">条件分组规则</a>中使用的任何命名空间前缀都必须已被声明，否则即为无效。</p>
        <div class="example" id="ex-declared-ns">
            <a class="self-link" href="#ex-declared-ns"></a>例如，以下包含 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-namespaces-3/#css-qualified-name" id="ref-for-css-qualified-name">CSS
                限定名</a> 的规则是有效的，
            因为 <a data-link-type="dfn" href="https://www.w3.org/TR/css-namespaces-3/#namespace-prefix"
                id="ref-for-namespace-prefix">命名空间前缀</a> 已绑定到一个命名空间 url：
            <pre class="highlight"><c- n>@namespace</c-> x <c- nf>url</c-><c- p>(</c-><c- s>http://www.w3.org/1999/xlink</c-><c- p>);</c->
<c- n>@supports</c-> <c- p>(</c->content: <c- nf>attr</c-><c- p>(</c->x|href<c- p>))</c-> <c- p>{</c->
  // do something <c- p>}</c->
</pre>
        </div>
        <div class="example" id="example-90aa5cfe">
            <a class="self-link" href="#example-90aa5cfe"></a>例如，判断以下规则是否合法时：
            <pre class="highlight"><c- n>@supports</c-> <c- p>(</c->content: <c- nf>attr</c-><c- p>(</c->n|tooltip<c- p>))</c-> <c- p>{</c->
  // do something <c- p>}</c->
</pre>
            <p>用户代理会查找命名空间映射表，确定是否存在与 "n" 前缀对应的命名空间 url。</p>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>命名空间前缀的有效性取决于命名空间映射。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-namespace-001.html"
                        title="css/css-conditional/at-supports-namespace-001.html">at-supports-namespace-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-namespace-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-namespace-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-namespace-002.html"
                        title="css/css-conditional/at-supports-namespace-002.html">at-supports-namespace-002.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-namespace-002.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-namespace-002.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <h2 class="heading settled" data-level="4" id="use"><span class="secno">4. </span><span class="content">
                条件分组规则的位置</span><a class="self-link" href="#use"></a></h2>
        <p>条件分组规则可以出现在允许<a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#style-rule"
                id="ref-for-style-rule">样式规则</a>出现的任何位置
            （既可以在样式表的顶层，也可以嵌套在其他条件分组规则内）。
            CSS 处理器<strong>必须</strong>按照<a href="#processing">上述描述</a>处理这些规则。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>条件分组规则可以出现在允许样式规则出现的任何位置。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-001.html"
                        title="css/css-conditional/at-media-001.html">at-media-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-001.html"
                        title="css/css-conditional/at-supports-001.html">at-supports-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-002.html"
                        title="css/css-conditional/at-supports-002.html">at-supports-002.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-002.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-002.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-003.html"
                        title="css/css-conditional/at-supports-003.html">at-supports-003.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-003.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-003.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-004.html"
                        title="css/css-conditional/at-supports-004.html">at-supports-004.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-004.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-004.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-005.html"
                        title="css/css-conditional/at-supports-005.html">at-supports-005.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-005.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-005.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-025.xht"
                        title="css/css-conditional/css-supports-025.xht">css-supports-025.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-025.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-025.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-026.xht"
                        title="css/css-conditional/css-supports-026.xht">css-supports-026.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-026.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-026.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-046.xht"
                        title="css/css-conditional/css-supports-046.xht">css-supports-046.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-046.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-046.xht"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <p>任何不允许在样式规则后出现的<a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#at-rule"
                id="ref-for-at-rule①">at-规则</a>
            （如 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-syntax-3/#at-ruledef-charset"
                id="ref-for-at-ruledef-charset">@charset</a>、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-cascade-5/#at-ruledef-import"
                id="ref-for-at-ruledef-import②">@import</a> 或 <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/css-namespaces-3/#at-ruledef-namespace"
                id="ref-for-at-ruledef-namespace">@namespace</a> 规则）
            也同样不允许出现在条件分组规则之后，
            因此如果这样放置则<a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#css-invalid"
                id="ref-for-css-invalid">无效</a>。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>不允许出现在样式规则后的 at-规则在条件分组规则后也无效。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-003.html"
                        title="css/css-conditional/at-media-003.html">at-media-003.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-003.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-003.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-045.html"
                        title="css/css-conditional/at-supports-045.html">at-supports-045.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-045.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-045.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <h2 class="heading settled" data-level="5" id="at-media"><span class="secno">5. </span><span class="content">
                媒体专用样式表：<a class="css" data-link-type="maybe" href="#at-ruledef-media"
                    id="ref-for-at-ruledef-media⑤">@media</a> 规则</span><a class="self-link" href="#at-media"></a></h2>
        <p><dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export id="at-ruledef-media">@media</dfn>
            规则是一种条件分组规则，其条件是媒体查询。
            其语法如下：</p>
        <pre class="def prod">@media <a class="production" data-link-type="type" href="https://www.w3.org/TR/mediaqueries-5/#typedef-media-query-list" id="ref-for-typedef-media-query-list">&lt;media-query-list></a> {
  <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-rule-list" id="ref-for-typedef-rule-list②">&lt;rule-list></a>
}
</pre>
        <p>它由 at-关键字 <a class="css" data-link-type="maybe" href="#at-ruledef-media"
                id="ref-for-at-ruledef-media⑥">@media</a> 后跟一个（可能为空的）媒体查询列表
            （定义见 <a data-link-type="biblio" href="#biblio-mediaqueries-4"
                title="Media Queries Level 4">[MEDIAQUERIES-4]</a>），
            再跟一个包含任意规则的块组成。
            该规则的条件即媒体查询的结果。</p>
        <div class="example" id="example-0eba231f">
            <a class="self-link" href="#example-0eba231f"></a> 这个 <a class="css" data-link-type="maybe"
                href="#at-ruledef-media" id="ref-for-at-ruledef-media⑦">@media</a> 规则：
            <pre class="highlight"><c- n>@media</c-> screen and <c- p>(</c->min-width: <c- m>35</c-><c- k>em</c-><c- p>),</c->
       print and <c- p>(</c->min-width: <c- m>40</c-><c- k>em</c-><c- p>)</c-> <c- p>{</c->
  #section_navigation <c- p>{</c-> <c- k>float</c-><c- p>:</c-> left<c- p>;</c-> <c- k>width</c-><c- p>:</c-> <c- m>10</c-><c- k>em</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->
</pre>
            <p>其条件为 <span class="css">screen and (min-width: 35em), print and (min-width: 40em)</span>，
                对于视口至少为初始字体大小 35 倍的屏幕显示器和视口至少为初始字体大小 40 倍的打印显示器来说，该条件为真。
                当上述条件之一为真时，
                规则的条件为真，
                并应用 <span class="css">#section_navigation { float: left; width: 10em; }</span> 这条规则。</p>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>媒体规则条件可以为空</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-whitespace-optional-001.html"
                        title="css/css-conditional/at-media-whitespace-optional-001.html">at-media-whitespace-optional-001.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-whitespace-optional-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-whitespace-optional-001.html"><small>(源码)</small></a>
            </ul>
            <hr>
            <p>媒体规则条件为媒体查询</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-001.html"
                        title="css/css-conditional/at-media-001.html">at-media-001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-002.html"
                        title="css/css-conditional/at-media-002.html">at-media-002.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-002.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-002.html"><small>(源码)</small></a>
            </ul>
            <hr>
            <p>只要不是出于分词需要，空白是可选的。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-whitespace-optional-001.html"
                        title="css/css-conditional/at-media-whitespace-optional-001.html">at-media-whitespace-optional-001.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-whitespace-optional-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-whitespace-optional-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-media-whitespace-optional-002.html"
                        title="css/css-conditional/at-media-whitespace-optional-002.html">at-media-whitespace-optional-002.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-media-whitespace-optional-002.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-media-whitespace-optional-002.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-whitespace.html"
                        title="css/css-conditional/at-supports-whitespace.html">at-supports-whitespace.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-whitespace.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-whitespace.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <h2 class="heading settled" data-level="6" id="at-supports"><span class="secno">6. </span><span
                class="content">特性查询：<a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                    id="ref-for-at-ruledef-supports③">@supports</a> 规则</span><a class="self-link"
                href="#at-supports"></a></h2>
        <p><dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export id="at-ruledef-supports">@supports</dfn>
            规则是一种条件分组规则，其条件用于测试用户代理是否支持 CSS <span class="css">property:value</span>
            对。作者可以使用它来编写样式表，在新特性可用时使用新特性，在不支持时优雅降级。
            这些查询称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="css-feature-queries">CSS
                特性查询</dfn>，或（口语中）<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="supports-queries">supports
                查询</dfn>。</p>
        <p class="note" role="note"><span class="marker">注意：</span>CSS
            已有优雅降级机制，如忽略不支持的属性或值，但当大量样式需与某些特性的支持绑定时（例如使用新布局系统功能），这些机制并不总是足够。</p>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                id="ref-for-at-ruledef-supports④">@supports</a> 规则中条件的语法与 <a class="production css"
                data-link-type="type" href="https://www.w3.org/TR/mediaqueries-5/#typedef-media-condition"
                id="ref-for-typedef-media-condition">&lt;media-condition></a> 在 <a data-link-type="biblio"
                href="#biblio-mediaqueries-4" title="Media Queries Level 4">[MEDIAQUERIES-4]</a> 中定义的语法类似，
            但没有“unknown”值逻辑：</p>
        <ul>
            <li data-md>
                <p>需要否定（not），以便新特性样式和回退样式能分开编写（在前向兼容语法规则下），无需互相覆盖。</p>
            <li data-md>
                <p>需要合取（and），以便可同时测试多个要求的特性。</p>
            <li data-md>
                <p>需要析取（or），当一组样式有多个可选特性时尤为重要，特别是当这些备选项中有供应商前缀属性或值时。</p>
        </ul>
        <p>因此，<a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                id="ref-for-at-ruledef-supports⑤">@supports</a> 规则的语法允许对属性:值对进行检测，并对它们进行任意合取（and）、析取（or）和否定（not）组合。</p>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                id="ref-for-at-ruledef-supports⑥">@supports</a> 规则的语法如下：</p>
        <pre class="def prod">@supports <a class="production" data-link-type="type" href="#typedef-supports-condition" id="ref-for-typedef-supports-condition">&lt;supports-condition></a> {
  <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-rule-list" id="ref-for-typedef-rule-list③">&lt;rule-list></a>
}
</pre>
        <p><a class="production css" data-link-type="type" href="#typedef-supports-condition"
                id="ref-for-typedef-supports-condition①">&lt;supports-condition></a> 的定义如下：</p>
        <pre class="def prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-supports-condition">&lt;supports-condition></dfn> = not <a class="production" data-link-type="type" href="#typedef-supports-in-parens" id="ref-for-typedef-supports-in-parens">&lt;supports-in-parens></a>
                     <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> <a class="production" data-link-type="type" href="#typedef-supports-in-parens" id="ref-for-typedef-supports-in-parens①">&lt;supports-in-parens></a> [ and <a class="production" data-link-type="type" href="#typedef-supports-in-parens" id="ref-for-typedef-supports-in-parens②">&lt;supports-in-parens></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus">*</a>
                     <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production" data-link-type="type" href="#typedef-supports-in-parens" id="ref-for-typedef-supports-in-parens③">&lt;supports-in-parens></a> [ or <a class="production" data-link-type="type" href="#typedef-supports-in-parens" id="ref-for-typedef-supports-in-parens④">&lt;supports-in-parens></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus①">*</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-supports-in-parens">&lt;supports-in-parens></dfn> = ( <a class="production" data-link-type="type" href="#typedef-supports-condition" id="ref-for-typedef-supports-condition②">&lt;supports-condition></a> ) <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> <a class="production" data-link-type="type" href="#typedef-supports-feature" id="ref-for-typedef-supports-feature">&lt;supports-feature></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-general-enclosed" id="ref-for-typedef-general-enclosed">&lt;general-enclosed></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-supports-feature">&lt;supports-feature></dfn> = <a class="production" data-link-type="type" href="#typedef-supports-decl" id="ref-for-typedef-supports-decl">&lt;supports-decl></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-supports-decl">&lt;supports-decl></dfn> = ( <a class="production" data-link-type="type">&lt;declaration></a> )
</pre>
        <p>上述语法特意宽松，以实现前向兼容，
            因为 <a class="production css" data-link-type="type"
                href="https://drafts.csswg.org/css-values-4/#typedef-general-enclosed"
                id="ref-for-typedef-general-enclosed①">&lt;general-enclosed></a> 产生式
            允许未来进行大量扩展。
            任何不符合上述语法的 <a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                id="ref-for-at-ruledef-supports⑦">@supports</a> 规则
            （即，不符合包含 <span class="production" id="ref-for-typedef-general-enclosed②">&lt;general-enclosed></span>
            产生式的宽松语法的规则）
            都是无效的。
            样式表<strong>不得</strong>使用此类规则，处理器<strong>必须</strong>忽略此类规则（包括其中全部内容）。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>只要不是出于分词需要，空白是可选的。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-015.xht"
                        title="css/css-conditional/css-supports-015.xht">css-supports-015.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-015.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-015.xht"><small>(源码)</small></a>
            </ul>
            <hr>
            <p>语法无效的 @supports 规则会被忽略。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-019.html"
                        title="css/css-conditional/at-supports-019.html">at-supports-019.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-019.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-019.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-020.html"
                        title="css/css-conditional/at-supports-020.html">at-supports-020.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-020.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-020.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-021.html"
                        title="css/css-conditional/at-supports-021.html">at-supports-021.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-021.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-021.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-022.html"
                        title="css/css-conditional/at-supports-022.html">at-supports-022.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-022.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-022.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-023.html"
                        title="css/css-conditional/at-supports-023.html">at-supports-023.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-023.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-023.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-024.html"
                        title="css/css-conditional/at-supports-024.html">at-supports-024.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-024.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-024.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-025.html"
                        title="css/css-conditional/at-supports-025.html">at-supports-025.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-025.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-025.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-026.html"
                        title="css/css-conditional/at-supports-026.html">at-supports-026.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-026.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-026.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-027.html"
                        title="css/css-conditional/at-supports-027.html">at-supports-027.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-027.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-027.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-028.html"
                        title="css/css-conditional/at-supports-028.html">at-supports-028.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-028.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-028.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-029.html"
                        title="css/css-conditional/at-supports-029.html">at-supports-029.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-029.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-029.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-030.html"
                        title="css/css-conditional/at-supports-030.html">at-supports-030.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-030.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-030.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-031.html"
                        title="css/css-conditional/at-supports-031.html">at-supports-031.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-031.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-031.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-032.html"
                        title="css/css-conditional/at-supports-032.html">at-supports-032.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-032.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-032.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-033.html"
                        title="css/css-conditional/at-supports-033.html">at-supports-033.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-033.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-033.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-034.xht"
                        title="css/css-conditional/css-supports-034.xht">css-supports-034.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-034.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-034.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-037.xht"
                        title="css/css-conditional/css-supports-037.xht">css-supports-037.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-037.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-037.xht"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <p>每个语法术语都与一个布尔结果相关联，如下所示：</p>
        <dl>
            <dt data-md><a class="production css" data-link-type="type" href="#typedef-supports-condition"
                    id="ref-for-typedef-supports-condition③">&lt;supports-condition></a>
            <dt data-md><a class="production css" data-link-type="type" href="#typedef-supports-in-parens"
                    id="ref-for-typedef-supports-in-parens⑤">&lt;supports-in-parens></a>
            <dd data-md>
                <p>结果等于子表达式的结果。</p>
            <dt data-md>not <a class="production css" data-link-type="type" href="#typedef-supports-in-parens"
                    id="ref-for-typedef-supports-in-parens⑥">&lt;supports-in-parens></a>
            <dd data-md>
                <p>结果为 <a class="production css" data-link-type="type" href="#typedef-supports-in-parens"
                        id="ref-for-typedef-supports-in-parens⑦">&lt;supports-in-parens></a> 项的取反。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>Not 用于取反 supports 条件。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-009.html"
                                title="css/css-conditional/at-supports-009.html">at-supports-009.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-009.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-009.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-010.html"
                                title="css/css-conditional/at-supports-010.html">at-supports-010.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-010.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-010.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-016.xht"
                                title="css/css-conditional/css-supports-016.xht">css-supports-016.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-016.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-016.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>Not 后必须有空格。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-014.html"
                                title="css/css-conditional/at-supports-014.html">at-supports-014.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-014.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-014.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-038.xht"
                                title="css/css-conditional/css-supports-038.xht">css-supports-038.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-038.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-038.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>Not 必须有括号。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-017.xht"
                                title="css/css-conditional/css-supports-017.xht">css-supports-017.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-017.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-017.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-018.xht"
                                title="css/css-conditional/css-supports-018.xht">css-supports-018.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-018.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-018.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                </details>
            <dt data-md><a class="production css" data-link-type="type" href="#typedef-supports-in-parens"
                    id="ref-for-typedef-supports-in-parens⑧">&lt;supports-in-parens></a> [ and <span class="production"
                    id="ref-for-typedef-supports-in-parens⑨">&lt;supports-in-parens></span> ]*
            <dd data-md>
                <p>如果所有 <a class="production css" data-link-type="type" href="#typedef-supports-in-parens"
                        id="ref-for-typedef-supports-in-parens①⓪">&lt;supports-in-parens></a> 子项都为 true，则结果为 true，否则为
                    false。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>And 条件仅当所有关联条件都为真时为真。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-007.html"
                                title="css/css-conditional/at-supports-007.html">at-supports-007.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-007.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-007.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-010.html"
                                title="css/css-conditional/at-supports-010.html">at-supports-010.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-010.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-010.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-012.html"
                                title="css/css-conditional/at-supports-012.html">at-supports-012.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-012.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-012.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-008.xht"
                                title="css/css-conditional/css-supports-008.xht">css-supports-008.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-008.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-008.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-009.xht"
                                title="css/css-conditional/css-supports-009.xht">css-supports-009.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-009.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-009.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-010.xht"
                                title="css/css-conditional/css-supports-010.xht">css-supports-010.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-010.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-010.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-012.xht"
                                title="css/css-conditional/css-supports-012.xht">css-supports-012.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-012.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-012.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>And 需要括号。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-019.xht"
                                title="css/css-conditional/css-supports-019.xht">css-supports-019.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-019.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-019.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                </details>
            <dt data-md><a class="production css" data-link-type="type" href="#typedef-supports-in-parens"
                    id="ref-for-typedef-supports-in-parens①①">&lt;supports-in-parens></a> [ or <span class="production"
                    id="ref-for-typedef-supports-in-parens①②">&lt;supports-in-parens></span> ]*
            <dd data-md>
                <p>如果所有 <a class="production css" data-link-type="type" href="#typedef-supports-in-parens"
                        id="ref-for-typedef-supports-in-parens①③">&lt;supports-in-parens></a> 子项都为 false，则结果为 false，否则为
                    true。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>Or 条件只要有一个为真就为真。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-008.html"
                                title="css/css-conditional/at-supports-008.html">at-supports-008.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-008.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-008.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-010.html"
                                title="css/css-conditional/at-supports-010.html">at-supports-010.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-010.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-010.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-013.html"
                                title="css/css-conditional/at-supports-013.html">at-supports-013.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-013.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-013.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-006.xht"
                                title="css/css-conditional/css-supports-006.xht">css-supports-006.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-006.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-006.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-007.xht"
                                title="css/css-conditional/css-supports-007.xht">css-supports-007.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-007.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-007.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-011.xht"
                                title="css/css-conditional/css-supports-011.xht">css-supports-011.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-011.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-011.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-021.xht"
                                title="css/css-conditional/css-supports-021.xht">css-supports-021.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-021.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-021.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>Or 后必须有空格。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-043.html"
                                title="css/css-conditional/at-supports-043.html">at-supports-043.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-043.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-043.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-039.xht"
                                title="css/css-conditional/css-supports-039.xht">css-supports-039.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-039.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-039.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>Or 需要括号。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-029.xht"
                                title="css/css-conditional/css-supports-029.xht">css-supports-029.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-029.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-029.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-030.xht"
                                title="css/css-conditional/css-supports-030.xht">css-supports-030.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-030.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-030.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                </details>
            <dt data-md><a class="production css" data-link-type="type" href="#typedef-supports-decl"
                    id="ref-for-typedef-supports-decl①">&lt;supports-decl></a>
            <dd data-md>
                <p>如果 UA <a data-link-type="dfn" href="#dfn-support" id="ref-for-dfn-support">支持</a>括号内的声明，则结果为 true。
                </p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>只有声明被支持时 supports 条件才为真。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-001.html"
                                title="css/css-conditional/at-supports-001.html">at-supports-001.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-001.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-001.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-017.html"
                                title="css/css-conditional/at-supports-017.html">at-supports-017.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-017.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-017.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-018.html"
                                title="css/css-conditional/at-supports-018.html">at-supports-018.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-018.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-018.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-001.xht"
                                title="css/css-conditional/css-supports-001.xht">css-supports-001.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-001.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-001.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>声明不能包含分号。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-038.html"
                                title="css/css-conditional/at-supports-038.html">at-supports-038.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-038.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-038.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-039.html"
                                title="css/css-conditional/at-supports-039.html">at-supports-039.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-039.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-039.html"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>声明值可以为空。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-022.xht"
                                title="css/css-conditional/css-supports-022.xht">css-supports-022.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-022.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-022.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>声明不能包含无效的 !token。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-043.xht"
                                title="css/css-conditional/css-supports-043.xht">css-supports-043.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-043.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-043.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-044.xht"
                                title="css/css-conditional/css-supports-044.xht">css-supports-044.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-044.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-044.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-045.xht"
                                title="css/css-conditional/css-supports-045.xht">css-supports-045.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-045.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-045.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                    <p>括号必须成对出现</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-035.xht"
                                title="css/css-conditional/css-supports-035.xht">css-supports-035.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-035.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-035.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                </details>
            <dt data-md><a class="production css" data-link-type="type"
                    href="https://drafts.csswg.org/css-values-4/#typedef-general-enclosed"
                    id="ref-for-typedef-general-enclosed③">&lt;general-enclosed></a>
            <dd data-md>
                <p>结果为 false。</p>
                <p>作者不得在样式表中使用 <a class="production css" data-link-type="type"
                        href="https://drafts.csswg.org/css-values-4/#typedef-general-enclosed"
                        id="ref-for-typedef-general-enclosed④">&lt;general-enclosed></a>。<span class="note">它仅为未来兼容性而存在，
                        这样新语法的增加不会导致老版用户代理中 <a class="production css" data-link-type="type"
                            href="#typedef-supports-condition"
                            id="ref-for-typedef-supports-condition④">&lt;supports-condition></a> 过多无效。</span></p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>无法识别但语法上有效的条件为 false，不是无效。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-015.html"
                                title="css/css-conditional/at-supports-015.html">at-supports-015.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-015.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-015.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/at-supports-046.html"
                                title="css/css-conditional/at-supports-046.html">at-supports-046.html</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/at-supports-046.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-046.html"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-023.xht"
                                title="css/css-conditional/css-supports-023.xht">css-supports-023.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-023.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-023.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-031.xht"
                                title="css/css-conditional/css-supports-031.xht">css-supports-031.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-031.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-031.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-032.xht"
                                title="css/css-conditional/css-supports-032.xht">css-supports-032.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-032.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-032.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-033.xht"
                                title="css/css-conditional/css-supports-033.xht">css-supports-033.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-033.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-033.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-034.xht"
                                title="css/css-conditional/css-supports-034.xht">css-supports-034.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-034.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-034.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-036.xht"
                                title="css/css-conditional/css-supports-036.xht">css-supports-036.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-036.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-036.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-040.xht"
                                title="css/css-conditional/css-supports-040.xht">css-supports-040.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-040.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-040.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-041.xht"
                                title="css/css-conditional/css-supports-041.xht">css-supports-041.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-041.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-041.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-042.xht"
                                title="css/css-conditional/css-supports-042.xht">css-supports-042.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-042.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-042.xht"><small>(源码)</small></a>
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/css-supports-046.xht"
                                title="css/css-conditional/css-supports-046.xht">css-supports-046.xht</a> <a
                                class="wpt-live"
                                href="http://wpt.live/css/css-conditional/css-supports-046.xht"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-046.xht"><small>(源码)</small></a>
                    </ul>
                    <hr>
                </details>
        </dl>
        <p><a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                id="ref-for-at-ruledef-supports⑧">@supports</a> 规则的条件
            是其前导中的 <a class="production css" data-link-type="type" href="#typedef-supports-condition"
                id="ref-for-typedef-supports-condition⑤">&lt;supports-condition></a> 的结果。</p>
        <div class="example" id="example-85c2765a">
            <a class="self-link" href="#example-85c2765a"></a> 例如，下面的规则
            <pre class="highlight"><c- n>@supports</c-> <c- p>(</c-> display: flex <c- p>)</c-> <c- p>{</c->
  body<c- p>,</c-> #navigation<c- p>,</c-> #content <c- p>{</c-> <c- k>display</c-><c- p>:</c-> flex<c- p>;</c-> <c- p>}</c->
  #navigation <c- p>{</c-> <c- k>background</c-><c- p>:</c-> blue<c- p>;</c-> <c- k>color</c-><c- p>:</c-> white<c- p>;</c-> <c- p>}</c->
  #article <c- p>{</c-> <c- k>background</c-><c- p>:</c-> white<c- p>;</c-> <c- k>color</c-><c- p>:</c-> black<c- p>;</c-> <c- p>}</c->
<c- p>}</c->
</pre>
            <p>只有在支持 <a class="css" data-link-type="propdesc"
                    href="https://www.w3.org/TR/css-display-3/#propdef-display" id="ref-for-propdef-display">display:
                    flex</a> 时，才会应用 <a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                    id="ref-for-at-ruledef-supports⑨">@supports</a> 规则内部的规则。</p>
        </div>
        <div class="example" id="example-affdf0ec">
            <a class="self-link" href="#example-affdf0ec"></a> 下述示例展示了一个额外的 <a class="css" data-link-type="maybe"
                href="#at-ruledef-supports" id="ref-for-at-ruledef-supports①⓪">@supports</a> 规则，
            可用于在不支持 <a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display"
                id="ref-for-propdef-display①">display:
                flex</a> 时提供备选方案：
            <pre class="highlight"><c- n>@supports</c-> not <c- p>(</c-> display: flex <c- p>)</c-> <c- p>{</c->
  body <c- p>{</c-> <c- k>width</c-><c- p>:</c-> <c- m>100</c-><c- k>%</c-><c- p>;</c-> <c- k>height</c-><c- p>:</c-> <c- m>100</c-><c- k>%</c-><c- p>;</c-> <c- k>background</c-><c- p>:</c-> white<c- p>;</c-> <c- k>color</c-><c- p>:</c-> black<c- p>;</c-> <c- p>}</c->
  #navigation <c- p>{</c-> <c- k>width</c-><c- p>:</c-> <c- m>25</c-><c- k>%</c-><c- p>;</c-> <c- p>}</c->
  #article <c- p>{</c-> <c- k>width</c-><c- p>:</c-> <c- m>75</c-><c- k>%</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->
</pre>
            <p>请注意，<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width">width</a>
                声明可能会对基于 flex 的布局产生不良影响，因此这些声明应仅在非 flex 样式中出现。</p>
        </div>
        <div class="example" id="example-eff3ddab">
            <a class="self-link" href="#example-eff3ddab"></a> 下述示例检测是否支持 <a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow"
                id="ref-for-propdef-box-shadow">box-shadow</a> 属性，包括检测是否支持带有厂商前缀版本。
            当支持时，会指定 <span class="property" id="ref-for-propdef-box-shadow①">box-shadow</span>（以及带前缀的版本）和 <a
                class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border"
                id="ref-for-propdef-border">border</a>，这样如果不支持 <span class="property"
                id="ref-for-propdef-box-shadow②">box-shadow</span>，盒子将不可见。
            <pre class="highlight">.noticebox <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid black<c- p>;</c->
  <c- k>padding</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-><c- p>;</c->
<c- p>}</c->
<c- n>@supports</c-> <c- p>(</c-> box-shadow: <c- m>0</c-> <c- m>0</c-> <c- m>2</c-><c- k>px</c-> black inset <c- p>)</c-> or
          <c- p>(</c-> -moz-box-shadow: <c- m>0</c-> <c- m>0</c-> <c- m>2</c-><c- k>px</c-> black inset <c- p>)</c-> or
          <c- p>(</c-> -webkit-box-shadow: <c- m>0</c-> <c- m>0</c-> <c- m>2</c-><c- k>px</c-> black inset <c- p>)</c-> or
          <c- p>(</c-> -o-box-shadow: <c- m>0</c-> <c- m>0</c-> <c- m>2</c-><c- k>px</c-> black inset <c- p>)</c-> <c- p>{</c->
  .noticebox <c- p>{</c->
    <c- k>-moz-box-shadow</c-><c- p>:</c-> <c- m>0</c-> <c- m>0</c-> <c- m>2</c-><c- k>px</c-> black inset<c- p>;</c->
    <c- k>-webkit-box-shadow</c-><c- p>:</c-> <c- m>0</c-> <c- m>0</c-> <c- m>2</c-><c- k>px</c-> black inset<c- p>;</c->
    <c- k>-o-box-shadow</c-><c- p>:</c-> <c- m>0</c-> <c- m>0</c-> <c- m>2</c-><c- k>px</c-> black inset<c- p>;</c->
    <c- k>box-shadow</c-><c- p>:</c-> <c- m>0</c-> <c- m>0</c-> <c- m>2</c-><c- k>px</c-> black inset<c- p>;</c-> <c- c>/* 非前缀的放最后 */</c->
    <c- c>/* 用 @supports 覆盖上面规则 */</c->
    border: none<c- p>;</c->
    <c- k>padding</c-><c- p>:</c-> <c- m>2</c-><c- k>px</c-><c- p>;</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
        </div>
        <p>为避免 <span class="css">and</span> 和 <span class="css">or</span> 混淆，语法要求 and 和 or
            都必须显式指定（例如，不能用逗号或空格）。同样，为避免优先级规则混淆，语法不允许 and、or、not 运算符混用时没有括号层级。</p>
        <div class="example" id="example-9f817e66">
            <a class="self-link" href="#example-9f817e66"></a> 例如，下述规则是无效的：
            <pre class="illegal highlight"><c- n>@supports</c-> <c- p>(</c->transition-property: color<c- p>)</c-> or
          <c- p>(</c->animation-name: foo<c- p>)</c-> and
          <c- p>(</c->transform: <c- nf>rotate</c-><c- p>(</c-><c- m>10</c-><c- k>deg</c-><c- p>))</c-> <c- p>{</c->
  <c- c>/* ... */</c->
<c- p>}</c->
</pre>
            <p>作者应写成如下之一：</p>
            <pre class="highlight"><c- n>@supports</c-> <c- p>((</c->transition-property: color<c- p>)</c-> or
           <c- p>(</c->animation-name: foo<c- p>))</c-> and
          <c- p>(</c->transform: <c- nf>rotate</c-><c- p>(</c-><c- m>10</c-><c- k>deg</c-><c- p>))</c-> <c- p>{</c->
  <c- c>/* ... */</c->
<c- p>}</c->
</pre>
            <pre class="highlight"><c- n>@supports</c-> <c- p>(</c->transition-property: color<c- p>)</c-> or
          <c- p>((</c->animation-name: foo<c- p>)</c-> and
           <c- p>(</c->transform: <c- nf>rotate</c-><c- p>(</c-><c- m>10</c-><c- k>deg</c-><c- p>)))</c-> <c- p>{</c->
  <c- c>/* ... */</c->
<c- p>}</c->
</pre>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>混合运算符时必须加括号。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-016.html"
                        title="css/css-conditional/at-supports-016.html">at-supports-016.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-016.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-016.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-013.xht"
                        title="css/css-conditional/css-supports-013.xht">css-supports-013.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-013.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-013.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-014.xht"
                        title="css/css-conditional/css-supports-014.xht">css-supports-014.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-014.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-014.xht"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <p>被检测的声明在表达式中单独出现时，必须放在括号内。</p>
        <div class="example" id="example-c0c9f2d4">
            <a class="self-link" href="#example-c0c9f2d4"></a> 例如，下述规则是无效的：
            <pre class="illegal highlight"><c- n>@supports</c-> display: flex <c- p>{</c->
  <c- c>/* ... */</c->
<c- p>}</c->
</pre>
            <p>作者应写成：</p>
            <pre class="highlight"><c- n>@supports</c-> <c- p>(</c->display: flex<c- p>)</c-> <c- p>{</c->
  <c- c>/* ... */</c->
<c- p>}</c->
</pre>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>声明测试必须加括号。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-011.html"
                        title="css/css-conditional/at-supports-011.html">at-supports-011.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-011.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-011.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-034.html"
                        title="css/css-conditional/at-supports-034.html">at-supports-034.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-034.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-034.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-035.html"
                        title="css/css-conditional/at-supports-035.html">at-supports-035.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-035.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-035.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-036.html"
                        title="css/css-conditional/at-supports-036.html">at-supports-036.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-036.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-036.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-037.html"
                        title="css/css-conditional/at-supports-037.html">at-supports-037.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-037.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-037.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-002.xht"
                        title="css/css-conditional/css-supports-002.xht">css-supports-002.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-002.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-002.xht"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <p>语法允许在不需要时添加额外的括号。这种灵活性有时对作者有用（例如注释掉部分表达式时），对编辑工具也有帮助。</p>
        <div class="example" id="example-1ef03172">
            <a class="self-link" href="#example-1ef03172"></a> 例如，作者可以写成：
            <pre class="highlight"><c- n>@supports</c-> <c- p>((</c->display: flex<c- p>))</c-> <c- p>{</c->
  <c- c>/* ... */</c->
<c- p>}</c->
</pre>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>允许多余的括号。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-006.html"
                        title="css/css-conditional/at-supports-006.html">at-supports-006.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-006.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-006.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-003.xht"
                        title="css/css-conditional/css-supports-003.xht">css-supports-003.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-003.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-003.xht"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <p>被检测声明结尾加 <span class="css">!important</span> 是允许的，尽管这不会影响声明的有效性。</p>
        <div class="example" id="example-afd082e5">
            <a class="self-link" href="#example-afd082e5"></a> 例如，下述规则是有效的：
            <pre class="highlight"><c- n>@supports</c-> <c- p>(</c->display: flex !important<c- p>)</c-> <c- p>{</c->
  <c- c>/* ... */</c->
<c- p>}</c->
</pre>
        </div>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>允许 !important。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-007.html"
                        title="css/css-conditional/at-supports-007.html">at-supports-007.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-007.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-007.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-004.xht"
                        title="css/css-conditional/css-supports-004.xht">css-supports-004.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-004.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-004.xht"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <h3 class="heading settled" data-level="6.1" id="support-definition"><span class="secno">6.1. </span><span
                class="content">支持的定义</span><a class="self-link" href="#support-definition"></a></h3>
        <p>为了前向兼容，<a
                href="https://www.w3.org/TR/CSS21/syndata.html#declaration">《CSS21》第4.1.8节（声明和属性）</a>定义了处理无效属性和值的规则。
            未实现或部分实现某规范的 CSS
            处理器，<strong>必须</strong>将其未实现或不具备可用支持级别的值部分，按照该无效属性和值处理规则，视为无效，并因此<strong>必须</strong>将该声明作为解析错误丢弃。</p>
        <p>如果 CSS 处理器在<a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#style-rule"
                id="ref-for-style-rule①">样式规则</a>内接受该声明（即不将其作为解析错误丢弃），则认为该处理器<dfn class="dfn-paneled" data-dfn-for="CSS"
                data-dfn-type="dfn" data-export id="dfn-support">支持</dfn>该声明（包括属性和值）。
            如果处理器未以可用支持级别实现所给属性和值，则<strong>不得</strong>接受该声明或声称支持它。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 由用户偏好实际上禁用支持的属性或值，仍然视为被本定义支持。
            例如，如果用户启用了高对比度模式导致颜色被覆盖，CSS 处理器依然视为支持 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color">color</a> 属性，尽管 <span
                class="property" id="ref-for-propdef-color①">color</span> 属性的声明可能没有效果。
            另一方面，面向开发者的用于启用或禁用实验性 CSS 特性的偏好设置，会影响本定义下的“支持”。</p>
        <p>这些规则（以及它们之间的等价性）允许作者使用回退（无论是 <a data-link-type="biblio" href="#biblio-css1"
                title="Cascading Style Sheets, level 1">[CSS1]</a> 中通过后续声明覆盖的回退，还是本规范中 <a class="css"
                data-link-type="maybe" href="#at-ruledef-supports" id="ref-for-at-ruledef-supports①①">@supports</a>
            规则提供的新能力），从而针对已实现的特性正常工作。对于复合值尤其适用；实现必须实现值的所有部分，才能认为声明被支持，无论是在样式规则内还是 <span class="css"
                id="ref-for-at-ruledef-supports①②">@supports</span> 规则的声明条件中。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>仅当属性声明（包括所有值）被解析/支持时 supports 查询为真。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-005.xht"
                        title="css/css-conditional/css-supports-005.xht">css-supports-005.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-005.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-005.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-020.xht"
                        title="css/css-conditional/css-supports-020.xht">css-supports-020.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-020.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-020.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/css-supports-024.xht"
                        title="css/css-conditional/css-supports-024.xht">css-supports-024.xht</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/css-supports-024.xht"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/css-supports-024.xht"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/js/CSS-supports-CSSStyleDeclaration.html"
                        title="css/css-conditional/js/CSS-supports-CSSStyleDeclaration.html">CSS-supports-CSSStyleDeclaration.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/js/CSS-supports-CSSStyleDeclaration.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/js/CSS-supports-CSSStyleDeclaration.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/at-supports-044.html"
                        title="css/css-conditional/at-supports-044.html">at-supports-044.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/at-supports-044.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/at-supports-044.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <h2 class="heading settled" data-level="7" id="apis"><span class="secno">7. </span><span
                class="content">API</span><a class="self-link" href="#apis"></a></h2>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/idlharness.html"
                        title="css/css-conditional/idlharness.html">idlharness.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/idlharness.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/idlharness.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-conditional/js/001.html"
                        title="css/css-conditional/js/001.html">001.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/js/001.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/js/001.html"><small>(源码)</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="7.1" id="extensions-to-cssrule-interface"><span class="secno">7.1.
            </span><span class="content"> <code class="highlight">CSSRule</code> 接口的扩展</span><a class="self-link"
                href="#extensions-to-cssrule-interface"></a></h3>
        <p><code class="highlight">CSSRule</code> 接口扩展如下：</p>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/cssom-1/#cssrule" id="ref-for-cssrule"><c- g>CSSRule</c-></a> {
    <c- b>const</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSRule" data-dfn-type="const" data-export id="dom-cssrule-supports_rule"><code class="highlight"><c- g>SUPPORTS_RULE</c-></code></dfn> = 12;
};
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>CSSRule.SUPPORTS_RULE = 12</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/js/conditional-CSSGroupingRule.html"
                        title="css/css-conditional/js/conditional-CSSGroupingRule.html">conditional-CSSGroupingRule.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/js/conditional-CSSGroupingRule.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/js/conditional-CSSGroupingRule.html"><small>(源码)</small></a>
            </ul>
            <hr>
        </details>
        <h3 class="heading settled" data-level="7.2" id="the-cssconditionrule-interface"><span class="secno">7.2.
            </span><span class="content"> <code class="highlight">CSSConditionRule</code> 接口</span><a class="self-link"
                href="#the-cssconditionrule-interface"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#cssconditionrule" id="ref-for-cssconditionrule">CSSConditionRule</a></code>
            接口表示所有“条件” at-规则，由一个条件和一个语句块组成。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cssconditionrule"><code class="highlight"><c- g>CSSConditionRule</c-></code></dfn> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssgroupingrule" id="ref-for-cssgroupingrule"><c- n>CSSGroupingRule</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSConditionRule" data-dfn-type="attribute" data-export data-readonly data-type="CSSOMString" id="dom-cssconditionrule-conditiontext"><code class="highlight"><c- g>conditionText</c-></code></dfn>;
};
</pre>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>CSSConditionRule 继承自 CSSGroupingRule。</p>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/js/conditional-CSSGroupingRule.html"
                        title="css/css-conditional/js/conditional-CSSGroupingRule.html">conditional-CSSGroupingRule.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/js/conditional-CSSGroupingRule.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/js/conditional-CSSGroupingRule.html"><small>(源码)</small></a>
            </ul>
            <hr>
            <p>CSSConditionRule 有 .conditionText 属性。</p>
            <ul class="wpt-tests-list"></ul>
            <hr>
        </details>
        <dl class="idl-attributes">
            <dt><code class="highlight">conditionText</code> 类型为 <code class="highlight">CSSOMString</code>
            <dd>
                <code class="highlight">conditionText</code> 属性表示规则的条件。
                由于该条件的实际作用因 <code class="highlight">CSSConditionRule</code> 的派生接口而异，
                这些派生接口可指定该属性的不同行为（例如见下方 <code class="highlight">CSSMediaRule</code>）。
                若无此类特定规则，按如下规则处理：
                <p>获取 <code class="highlight">conditionText</code> 属性时，必须返回关联条件的序列化结果。</p>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>.conditionText 返回条件的序列化字符串。</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                </details>
        </dl>
        <h3 class="heading settled" data-level="7.3" id="the-cssmediarule-interface"><span class="secno">7.3.
            </span><span class="content"> <code class="highlight">CSSMediaRule</code> 接口</span><a class="self-link"
                href="#the-cssmediarule-interface"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#cssmediarule" id="ref-for-cssmediarule">CSSMediaRule</a></code>
            接口表示一个 <a class="css" data-link-type="maybe" href="#at-ruledef-media"
                id="ref-for-at-ruledef-media⑧">@media</a> at-规则：</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cssmediarule"><code class="highlight"><c- g>CSSMediaRule</c-></code></dfn> : <a data-link-type="idl-name" href="#cssconditionrule" id="ref-for-cssconditionrule①"><c- n>CSSConditionRule</c-></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#PutForwards" id="ref-for-PutForwards"><c- g>PutForwards</c-></a>=<a class="idl-code" data-link-type="attribute" href="https://www.w3.org/TR/cssom-1/#dom-medialist-mediatext" id="ref-for-dom-medialist-mediatext"><c- n>mediaText</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#medialist" id="ref-for-medialist"><c- n>MediaList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSMediaRule" data-dfn-type="attribute" data-export data-readonly data-type="MediaList" id="dom-cssmediarule-media"><code class="highlight"><c- g>media</c-></code></dfn>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSMediaRule" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-cssmediarule-matches"><code class="highlight"><c- g>matches</c-></code></dfn>;
};
</pre>
        <dl class="idl-attributes">
            <dt><code class="highlight">media</code> 类型为 <code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#medialist" id="ref-for-medialist①">MediaList</a></code>，只读
            <dd>
                <code class="highlight">media</code> 属性必须返回 <a class="css" data-link-type="maybe"
                    href="#at-ruledef-media" id="ref-for-at-ruledef-media⑨">@media</a> at-规则中指定的媒体查询列表的 <code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#medialist" id="ref-for-medialist②">MediaList</a></code>
                对象。
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>.media 返回与 @media 条件匹配的 MediaList。</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                </details>
            <dt><code class="highlight">matches</code> 类型为 <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①">boolean</a></code>，只读
            <dd>
                <code class="highlight">matches</code> 属性在规则处于附加到文档的样式表中，并且其 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>
                匹配该规则的 <code
                    class="idl"><a data-link-type="idl" href="#dom-cssmediarule-media" id="ref-for-dom-cssmediarule-media">media</a></code>
                <a data-link-type="dfn" href="https://www.w3.org/TR/mediaqueries-5/#media-query"
                    id="ref-for-media-query">媒体查询</a>时返回 true，否则返回 false。
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>.matches 匹配媒体查询，返回布尔值。</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                </details>
            <dt><code class="highlight">conditionText</code> 类型为 <code class="highlight">CSSOMString</code>
                （CSSMediaRule 对 CSSConditionRule 属性的专有定义）
            <dd>
                <code class="highlight">conditionText</code> 属性（定义在 <code class="highlight">CSSConditionRule</code>
                父规则上），获取时，必须返回规则上 <code class="highlight">media.mediaText</code> 的值。
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>CSSMediaRule.conditionText 的值与 media.mediaText 的值相同。</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                </details>
        </dl>
        <h3 class="heading settled" data-level="7.4" id="the-csssupportsrule-interface"><span class="secno">7.4.
            </span><span class="content"> <code class="highlight">CSSSupportsRule</code> 接口</span><a class="self-link"
                href="#the-csssupportsrule-interface"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#csssupportsrule" id="ref-for-csssupportsrule">CSSSupportsRule</a></code>
            接口表示一个 <a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                id="ref-for-at-ruledef-supports①③">@supports</a> 规则。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csssupportsrule"><code class="highlight"><c- g>CSSSupportsRule</c-></code></dfn> : <a data-link-type="idl-name" href="#cssconditionrule" id="ref-for-cssconditionrule②"><c- n>CSSConditionRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSSupportsRule" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-csssupportsrule-matches"><code class="highlight"><c- g>matches</c-></code></dfn>;
};
</pre>
        <dl class="idl-attributes">
            <dt><code class="highlight">matches</code> 类型为 <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③">boolean</a></code>，只读
            <dd>
                <code class="highlight">matches</code> 属性返回 <code
                    class="idl"><a data-link-type="idl" href="#dom-cssconditionrule-conditiontext" id="ref-for-dom-cssconditionrule-conditiontext">conditionText</a></code>
                中表示的 <a data-link-type="dfn" href="#css-feature-queries" id="ref-for-css-feature-queries">CSS 特性查询</a>
                的求值结果。
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>CSSSupportsRule.matches 若匹配特性查询则返回 true</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                </details>
            <dt><code class="highlight">conditionText</code> 类型为 <code class="highlight">CSSOMString</code>
                （CSSSupportsRule 对 CSSConditionRule 属性的专有定义）
            <dd>
                <code class="highlight">conditionText</code> 属性（定义在 <code class="highlight">CSSConditionRule</code>
                父规则上），获取时，必须返回指定的条件，不进行任何逻辑简化，确保返回条件在本规范的任何一致性实现中（包括实现本规范所允许的未来扩展的实现）都能与指定条件得到相同的结果。
                换句话说，允许对 token 流进行简化（例如将多个空白合并为一个空格，或在已知可选时省略空白），但不允许逻辑简化（如去除多余括号或基于求值结果的简化）。
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>CSSSupportsRule.conditionText 可进行分词简化。</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                    <p>CSSSupportsRule.conditionText 不得有其他简化。</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                </details>
        </dl>
        <h3 class="heading settled" data-level="7.5" id="the-css-namespace"><span class="secno">7.5. </span><span
                class="content"> <span id="the-css-interface"><code class="highlight">CSS</code> 命名空间及 <code
                        class="highlight" title><c- nf>supports</c-><c- p>()</c-></code> 函数</span></span><a
                class="self-link" href="#the-css-namespace"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#namespacedef-css" id="ref-for-namespacedef-css">CSS</a></code>
            命名空间包含一些实用的 CSS 相关函数，这些函数不属于其他地方。</p>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>namespace</c-> <a class="idl-code" data-link-type="namespace" href="https://www.w3.org/TR/cssom-1/#namespacedef-css" id="ref-for-namespacedef-css①"><c- g>CSS</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSS" data-dfn-type="method" data-export data-lt="supports(property, value)" id="dom-css-supports"><code class="highlight"><c- g>supports</c-></code></dfn>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSS/supports(property, value)" data-dfn-type="argument" data-export id="dom-css-supports-property-value-property"><code class="highlight"><c- g>property</c-></code></dfn>, <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSS/supports(property, value)" data-dfn-type="argument" data-export id="dom-css-supports-property-value-value"><code class="highlight"><c- g>value</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑤"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSS" data-dfn-type="method" data-export data-lt="supports(conditionText)" id="dom-css-supports-conditiontext"><code class="highlight"><c- g>supports</c-></code></dfn>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring③"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSS/supports(conditionText)" data-dfn-type="argument" data-export id="dom-css-supports-conditiontext-conditiontext"><code class="highlight"><c- g>conditionText</c-></code></dfn>);
};
</pre>
        <dl class="idl-methods">
            <dt><code
                    class="highlight"><c- nf>supports</c-><c- p>(</c->CSSOMString property<c- p>,</c-> CSSOMString value<c- p>)</c-></code>，返回
                <code class="highlight">boolean</code>
            <dd>
                <div class="algorithm" data-algorithm="supports(property, value)">
                    当以两个参数 <var>property</var> 和 <var>value</var> 调用 <code
                        class="idl"><a data-link-type="idl" href="#dom-css-supports" id="ref-for-dom-css-supports">supports(property, value)</a></code>
                    方法时：
                    <ol>
                        <li data-md>
                            <p>如果 <var>property</var> 是 UA 支持的任何已定义 CSS 属性的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                                    id="ref-for-ascii-case-insensitive">ASCII 不区分大小写</a>匹配，或是<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-typed-om-1/#custom-property-name-string"
                                    id="ref-for-custom-property-name-string">自定义属性名字符串</a>，并且 <var>value</var>
                                能根据该属性的语法<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar"
                                    id="ref-for-css-parse-something-according-to-a-css-grammar">成功解析</a>，则返回 <code
                                    class="highlight">true</code>。</p>
                        <li data-md>
                            <p>否则，返回 <code class="highlight">false</code>。</p>
                    </ol>
                    <p class="note" role="note"><span class="marker">注意：</span> 属性名不会进行 CSS 转义或空白处理，例如 <code
                            class="highlight">CSS.<c- nf>supports</c-><c- p>(</c-><c- s>" width"</c-><c- p>,</c-> <c- s>"5px"</c-><c- p>)</c-></code>
                        会返回 <code class="highlight">false</code>，因为 " width"（前导空格）不是任何属性的名称。</p>
                    <p class="note" role="note"><span class="marker">注意：</span> <span class="css">!important</span>
                        标志不是属性语法的一部分，会导致 <var>value</var> 解析为无效，这与 <span class="css">element.style.setProperty()</span>
                        的 value 参数一致。</p>
                </div>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>CSS.supports(arg1, arg2) 检查属性 arg1 配合值 arg2 的支持情况。</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                </details>
            <dt><code class="highlight"><c- nf>supports</c-><c- p>(</c->CSSOMString conditionText<c- p>)</c-></code>，返回
                <code class="highlight">boolean</code>
            <dd>
                <div class="algorithm" data-algorithm="supports(conditionText)">
                    当以单个 <var>conditionText</var> 参数调用 <code
                        class="idl"><a data-link-type="idl" href="#dom-css-supports-conditiontext" id="ref-for-dom-css-supports-conditiontext">supports(conditionText)</a></code>
                    方法时：
                    <ol>
                        <li data-md>
                            <p>如果 <var>conditionText</var> 被<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar"
                                    id="ref-for-css-parse-something-according-to-a-css-grammar①">解析</a>并作为 <a
                                    class="production css" data-link-type="type" href="#typedef-supports-condition"
                                    id="ref-for-typedef-supports-condition⑥">&lt;supports-condition></a> 求值结果为 true，则返回
                                <code class="highlight">true</code>。
                            </p>
                        <li data-md>
                            <p>否则，如果 <var>conditionText</var> 外包一层括号后<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar"
                                    id="ref-for-css-parse-something-according-to-a-css-grammar②">解析</a>并作为 <a
                                    class="production css" data-link-type="type" href="#typedef-supports-condition"
                                    id="ref-for-typedef-supports-condition⑦">&lt;supports-condition></a> 求值为 true，则返回
                                <code class="highlight">true</code>。
                            </p>
                        <li data-md>
                            <p>否则，返回 <code class="highlight">false</code>。</p>
                    </ol>
                    <p>参数 <var>conditionText</var> 中的所有命名空间都视为无效，与 <code
                            class="highlight">document.<c- nf>querySelector</c-><c- p>(</c-><c- s>"a|b"</c-><c- p>)</c-></code>
                        一致。
                    </p>
                </div>
                <details class="wpt-tests-block" dir="ltr" lang="en" open>
                    <summary>测试</summary>
                    <p>CSS.supports(arg1) 检查 supports 条件 arg1。</p>
                    <ul class="wpt-tests-list"></ul>
                    <hr>
                    <p>CSS.supports(arg1) 隐含括号。</p>
                    <ul class="wpt-tests-list">
                        <li class="wpt-test"><a class="wpt-name"
                                href="https://wpt.fyi/results/css/css-conditional/js/supports-conditionText.html"
                                title="css/css-conditional/js/supports-conditionText.html">supports-conditionText.html</a>
                            <a class="wpt-live"
                                href="http://wpt.live/css/css-conditional/js/supports-conditionText.html"><small>(在线测试)</small></a>
                            <a class="wpt-source"
                                href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/js/supports-conditionText.html"><small>(源码)</small></a>
                    </ul>
                    <hr>
                </details>
        </dl>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-conditional/js/CSS-supports-L3.html"
                        title="css/css-conditional/js/CSS-supports-L3.html">CSS-supports-L3.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-conditional/js/CSS-supports-L3.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-conditional/js/CSS-supports-L3.html"><small>(源码)</small></a>
            </ul>
        </details>
        <h2 class="no-num heading settled" id="security"><span class="content">安全性注意事项</span><a class="self-link"
                href="#security"></a></h2>
        <p>本规范未引入任何新的安全性注意事项。</p>
        <h2 class="no-num heading settled" id="privacy"><span class="content">隐私性注意事项</span><a class="self-link"
                href="#privacy"></a></h2>
        <p>本规范中的各种特性，主要与<a class="css" data-link-type="maybe" href="#at-ruledef-media"
                id="ref-for-at-ruledef-media①⓪">@media</a>规则相关，但在一定程度上也与<a class="css" data-link-type="maybe"
                href="#at-ruledef-supports" id="ref-for-at-ruledef-supports①④">@supports</a>规则相关，会向 Web
            内容提供有关用户硬件、软件及其配置和状态的信息。
            大多数信息是通过<a data-link-type="biblio" href="#biblio-mediaqueries-4"
                title="Media Queries Level 4">[MEDIAQUERIES-4]</a>中的特性提供的，而不是通过本规范的特性提供的。
            不过，<span class="css"
                id="ref-for-at-ruledef-supports①⑤">@supports</span>规则可能会提供关于用户软件以及是否启用或禁用某些功能的非默认设置的更多细节。</p>
        <p>大多数这些信息也可以通过其他 API 获得。然而，本规范中的特性是这些信息在 Web 上暴露的方式之一。</p>
        <p>这些信息还可以被汇总用于提高对用户的<a href="https://www.w3.org/2001/tag/doc/unsanctioned-tracking/">指纹识别</a>的准确性。</p>
        <h2 class="heading settled" data-level="8" id="changes"><span class="secno">8. </span><span class="content">
                变更记录</span><a class="self-link" href="#changes"></a></h2>
        <p>自<a
                href="https://www.w3.org/TR/2022/CR-css-conditional-3-20220113/">2022年1月13日候选推荐快照</a>以来，对本规范做出了以下（非编辑性）更改：
        </p>
        <ul id="changes-20220113">
            <li>明确规定 supports() 对于无效自定义属性值必须返回 false
            <li>修正 Web IDL，“bool”应为“boolean”
            <li>明确处理器必须同时支持属性和值（<a href="https://github.com/w3c/csswg-drafts/issues/8795">Issue 8795</a>）
            <li>为 @media 和 @supports 添加 .matches（<a href="https://github.com/w3c/csswg-drafts/issues/4240">Issue
                    4240</a>）
            <li>更新为新的解析算法名称及块产生式名称。
            <li>移除设置只读 CSSMediaRule.conditionText 的过程（<a href="https://github.com/w3c/csswg-drafts/pull/8796">PR
                    8796</a>）
            <li>将 conditionText 设为只读属性。
        </ul>
        <p>自<a
                href="https://www.w3.org/TR/2020/CR-css-conditional-3-20201208/">2020年12月8日候选推荐快照</a>以来，对本规范做出了以下（非编辑性）更改：
        </p>
        <ul id="changes-20201208">
            <li>明确废弃属性声明仅适用于样式规则，不适用于 at-规则
            <li>明确 !important 不属于属性语法
            <li>将安全和隐私拆分为独立章节
            <li>定义了术语 <a data-link-type="dfn" href="#css-feature-queries" id="ref-for-css-feature-queries①">CSS 特性查询</a>
                和 <a data-link-type="dfn" href="#supports-queries" id="ref-for-supports-queries">supports 查询</a>，用于指代<a
                    class="css" data-link-type="maybe" href="#at-ruledef-supports"
                    id="ref-for-at-ruledef-supports①⑥">@supports</a>规则的条件语法，便于交叉引用。
            <li>移除了“unknown”值在<a data-link-type="dfn" href="#css-feature-queries" id="ref-for-css-feature-queries②">CSS
                    特性查询</a>布尔逻辑中的用法，未识别的语法定义为“false”。（<a href="https://github.com/w3c/csswg-drafts/issues/6175">Issue
                    6175</a>）
            <li>
                明确了<a href="#use">条件分组规则</a>的<a data-link-type="dfn" href="#conditional-group-rule"
                    id="ref-for-conditional-group-rule③">放置位置</a>。（<a
                    href="https://github.com/w3c/csswg-drafts/issues/5697">Issue 5697</a>）
                <blockquote>
                    <p>
                        条件分组规则允许
                        <ins>出现在允许样式规则出现的任何位置（</ins>
                        样式表的顶层，
                        <del>以及内部</del>
                        <ins>
                            以及嵌套在
                            其他条件分组规则内部
                            <ins>）</ins>
                            。
                            CSS 处理器必须如上所述处理这些规则。
                        </ins>
                    </p>
                    <p>
                        任何
                        <ins>at-</ins>
                        规则不允许出现在样式规则后
                        （例如 @charset、@import 或 @namespace 规则）
                        也同样不允许出现在条件分组规则后
                        <del>。
                            因此，样式表不得在条件分组规则后放置这些规则，
                            CSS 处理器须忽略这些规则。</del>
                        <ins>，因此这样放置时无效。</ins>
                    </p>
                </blockquote>
        </ul>
        <p>自<a href="https://www.w3.org/TR/2013/CR-css3-conditional-20130404/">2013年4月4日候选推荐</a>以来，对本规范做出了以下（非编辑性）更改：
        </p>
        <ul id="changes-20130404">
            <li>明确 conditionText 中的命名空间为无效
            <li>新增编辑者
            <li>将对<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar"
                    id="ref-for-css-parse-something-according-to-a-css-grammar③">parse</a>的显式调用替代“匹配语法”
            <li>移除重复的 CSSGroupingRule，CSSOM 已有定义
            <li>将 supports() 文本改写为算法形式，更易表达 supports(prop, val) 需考虑已注册自定义属性语法
            <li>将 @supports selector 定义移至 css-conditional-4
            <li><a class="css" data-link-type="maybe" href="#at-ruledef-supports"
                    id="ref-for-at-ruledef-supports①⑦">@supports</a> 已不再是 at risk 特性
            <li>改为使用 CSS 语法语法，而非 CSS 2.1 语法
            <li>从 CSS Interface 改为 WebIDL 兼容的 CSS 命名空间
            <li>去除了 and、or 及<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/mediaqueries-5/#valdef-media-not" id="ref-for-valdef-media-not">not</a>
                关键字周围必须有空格的要求，保持与 <a href="https://www.w3.org/TR/css3-mediaqueries/">媒体查询</a> 一致（后者受部分 CSS 压缩器分词兼容性约束）。
                注意这些关键字后仍需有空格或注释，否则会被分词为函数。
            <li>允许 <code class="highlight" title><c- nf>supports</c-><c- p>()</c-></code> 方法对简单声明隐含括号，与 @import 规则的
                supports() 函数保持一致。
            <li>修复 IDL 代码中缺失分号
            <li>根据其它模块变动，更新链接、术语和示例代码
            <li>拼写和语法修正
            <li>新增隐私与安全性注意事项章节
        </ul>
        <h2 class="no-num no-ref heading settled" id="acknowledgments"><span class="content">致谢</span><a
                class="self-link" href="#acknowledgments"></a></h2>
        <p>感谢
            Tab Atkins、
            Arthur Barstow、
            Ben Callahan、<span lang="tr">Tantek Çelik</span>、
            Alex Danilo、
            Elika Etemad、
            Pascal Germroth、<span lang="de">Björn Höhrmann</span>、
            Paul Irish、
            Brad Kemper、<span lang="nl">Anne van Kesteren</span>、
            Vitor Menezes、
            Alex Mogilevsky、
            Chris Moschini、
            James Nurthen、
            Simon Pieters、<span lang="fr">Florian Rivoal</span>、<span lang="fr">Simon Sapin</span>、
            Nicholas Shanks、
            Ben Ward、
            Zack Weinberg、
            Estelle Weyl、
            Boris Zbarsky，
            以及所有 <a href="https://lists.w3.org/Archives/Public/www-style/">www-style</a> 社区成员提出的想法和反馈。
        </p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>一致性要求通过描述性断言和 RFC 2119 术语组合表达。规范部分中的关键词“MUST”（必须）、“MUST NOT”（不得）、“REQUIRED”（必需）、“SHALL”（应）、“SHALL
        NOT”（不应）、“SHOULD”（建议）、“SHOULD NOT”（不建议）、“RECOMMENDED”（推荐）、“MAY”（可以）和“OPTIONAL”（可选）应按 RFC 2119 解释。
        为便于阅读，本规范未将这些词全部大写。 </p>
    <p>除明确标记为非规范性、示例和注释外，本规范所有文本均为规范性内容。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>本规范中的示例以“for example”（例如）开头，或通过 <code class="highlight">class=<c- s>"example"</c-></code> 与规范性文本区分，示例如下：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个说明性示例。</p>
    </div>
    <p>说明性注释以“Note”开头，使用 <code class="highlight">class=<c- s>"note"</c-></code> 区分，示例如下：</p>
    <p class="note" role="note">Note，此为说明性注释。</p>
    <p>规范性建议为引起特别注意而设计，以 <code class="highlight">&lt;strong class=<c- s>"advisement"</c->></code> 区分，示例如下：<strong
            class="advisement"> UA 必须提供可访问性替代方案。 </strong></p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>测试</summary>
        <p>与本规范内容相关的测试可在类似“Tests”的块中记录，任何这样的块均为非规范性内容。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">一致性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范定义了三类一致性对象：</p>
    <dl>
        <dt>style sheet
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                样式表</a>。
        <dt>renderer
        <dd>解释样式表语义并渲染使用样式表文档的<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。
        <dt>authoring tool
        <dd>编写样式表的<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。
    </dl>
    <p>如果样式表中使用本模块定义的语法的所有语句均符合通用 CSS 语法和本模块中每个特性的单独语法，则该样式表符合本规范。</p>
    <p>如果渲染器不仅按相关规范解释样式表，还能通过正确解析并据此渲染文档，支持本规范定义的全部特性，则该渲染器符合本规范。但由于设备限制导致 UA 无法正确渲染文档，并不构成不一致。（例如，UA 不要求在黑白显示器上渲染颜色。）
    </p>
    <p>如果创作工具生成的样式表语法正确（符合通用 CSS 语法和本模块各特性单独语法），并满足本模块描述的样式表所有其它一致性要求，则该创作工具符合本规范。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为便于作者利用前向兼容解析规则指定回退值，CSS 渲染器<strong>必须</strong>将任何未具备可用支持级别的 at-规则、属性、属性值、关键字及其它语法结构视为无效（并<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">按需忽略</a>）。特别地，用户代理<strong>不得</strong>在多值属性声明中有选择地忽略不支持的分量值而保留支持的值：如有任一值被视为无效（不支持值必须如此），CSS
        要求整个声明被忽略。</p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">不稳定和专有特性的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为避免与未来稳定的 CSS 特性冲突，CSSWG 推荐<a href="https://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>实现<a
            href="https://www.w3.org/TR/CSS/#unstable">不稳定</a>特性和<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>规范进入候选推荐阶段后，可实现非实验性实现，且实现者应发布任何已按规范正确实现且达到 CR 级别特性的无前缀实现。</p>
    <p>为建立和保持 CSS 在各实现间的互操作性，CSS 工作组要求非实验性 CSS 渲染器在发布任何 CSS 特性的无前缀实现前向 W3C 提交实现报告（如有必要，还包括用于该报告的测试用例）。提交给 W3C 的测试用例须经
        CSS 工作组审核和修正。</p>
    <p>关于提交测试用例和实现报告的更多信息，请参见 CSS 工作组网站：<a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。
        有疑问请发邮件至<a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>。</p>
    <h3 class="no-ref heading settled" id="w3c-cr-exit-criteria"><span class="content">CR 退出标准</span><a
            class="self-link" href="#w3c-cr-exit-criteria"></a></h3>
    <p>本规范进入提议推荐前，必须有每个特性的至少两个独立、可互操作实现。每个特性可由不同产品实现，无需所有特性都由同一产品实现。为此，定义如下术语：</p>
    <dl>
        <dt>independent
        <dd>每个实现需由不同方开发，且不得共享、复用或派生自其他合格实现的代码。与本规范无关的代码部分可不受此限。
        <dt>interoperable
        <dd>通过官方 CSS 测试套件中的相关测试，或（如非 Web 浏览器实现）等效测试。若用某类 UA 声称互操作，则每个相关测试应有等效测试，且须有其他 UA
            以同样方式通过这些等效测试，以证互操作性。等效测试须公开以便同行评审。
        <dt>implementation
        <dd>
            能满足以下条件的用户代理：
            <ol class="inline">
                <li>实现本规范。
                <li>对公众开放。可为正式产品、公开测试版或“nightly build”。非正式产品须至少实现该特性一个月以证明稳定性。
                <li>不是实验性产品（即不专为通过测试套件而设计，且不打算作为常规用途持续维护）。
            </ol>
    </dl>
    <p>本规范将至少作为候选推荐维持六个月。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#conditional-group-rule">conditional group rule</a><span>, 见 § 2</span>
        <li><a href="#dom-cssconditionrule-conditiontext">conditionText</a><span>, 见 § 7.2</span>
        <li><a href="#cssconditionrule">CSSConditionRule</a><span>, 见 § 7.2</span>
        <li><a href="#css-feature-queries">CSS feature queries</a><span>, 见 § 6</span>
        <li><a href="#cssmediarule">CSSMediaRule</a><span>, 见 § 7.3</span>
        <li><a href="#csssupportsrule">CSSSupportsRule</a><span>, 见 § 7.4</span>
        <li>
            matches
            <ul>
                <li><a href="#dom-cssmediarule-matches">CSSMediaRule 的属性</a><span>, 见 § 7.3</span>
                <li><a href="#dom-csssupportsrule-matches">CSSSupportsRule 的属性</a><span>, 见 § 7.4</span>
            </ul>
        <li><a href="#at-ruledef-media">@media</a><span>, 见 § 5</span>
        <li><a href="#dom-cssmediarule-media">media</a><span>, 见 § 7.3</span>
        <li><a href="#dfn-support">support</a><span>, 见 § 6.1</span>
        <li><a href="#at-ruledef-supports">@supports</a><span>, 见 § 6</span>
        <li><a href="#typedef-supports-condition">&lt;supports-condition></a><span>, 见 § 6</span>
        <li><a href="#dom-css-supports-conditiontext">supports(conditionText)</a><span>, 见 § 7.5</span>
        <li><a href="#typedef-supports-decl">&lt;supports-decl></a><span>, 见 § 6</span>
        <li><a href="#typedef-supports-feature">&lt;supports-feature></a><span>, 见 § 6</span>
        <li><a href="#typedef-supports-in-parens">&lt;supports-in-parens></a><span>, 见 § 6</span>
        <li><a href="#dom-css-supports">supports(property, value)</a><span>, 见 § 7.5</span>
        <li><a href="#supports-queries">supports queries</a><span>, 见 § 6</span>
        <li><a href="#dom-cssrule-supports_rule">SUPPORTS_RULE</a><span>, 见 § 7.1</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参考文献中定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="e1674793">border</span>
                <li><span class="dfn-paneled" id="c48eaa20">box-shadow</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="3eef835e">@import</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-4]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="bcdf9b19">color</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-3]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="2ccfe434">display</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-NAMESPACES-3]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="bf0e8186">@namespace</span>
                <li><span class="dfn-paneled" id="8fba26d6">css qualified name</span>
                <li><span class="dfn-paneled" id="30d8c21b">namespace prefix</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SIZING-3]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="49731d1d">width</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SYNTAX-3]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="a8cb81d7">&lt;rule-list></span>
                <li><span class="dfn-paneled" id="fb5475b9">@charset</span>
                <li><span class="dfn-paneled" id="b29fecf5">at-rule</span>
                <li><span class="dfn-paneled" id="e7c3b4f7">invalid</span>
                <li><span class="dfn-paneled" id="67800454">parse</span>
                <li><span class="dfn-paneled" id="87d90aed">style rule</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TYPED-OM-1]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="5f5ab972">custom property name string</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="ef9f8297">*</span>
                <li><span class="dfn-paneled" id="d32570a7">&lt;general-enclosed></span>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-1]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="839bfab4">CSS</span>
                <li><span class="dfn-paneled" id="697c30aa">CSSGroupingRule</span>
                <li><span class="dfn-paneled" id="9d357000">CSSOMString</span>
                <li><span class="dfn-paneled" id="0f78dbdd">CSSRule</span>
                <li><span class="dfn-paneled" id="0cfd25f1">MediaList</span>
                <li><span class="dfn-paneled" id="09914701">mediaText</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="5d7209e9">Window</span>
                <li><span class="dfn-paneled" id="6cfa013d">link</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="7f9469b5">ascii case-insensitive</span>
            </ul>
        <li>
            <a data-link-type="biblio">[MEDIAQUERIES-5]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="7aed8b8c">&lt;media-condition></span>
                <li><span class="dfn-paneled" id="2d21e6d8">&lt;media-query-list></span>
                <li><span class="dfn-paneled" id="3ea2fcbb">media query</span>
                <li><span class="dfn-paneled" id="8a490d77">not</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="21ecf38f">PutForwards</span>
                <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="450958f7">unsigned short</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    级联与继承第5级</cite></a>. 2022年1月13日. CR. URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-namespaces-3">[CSS-NAMESPACES-3]
        <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-namespaces-3/"><cite>CSS 命名空间模块第3级</cite></a>. 2014年3月20日.
            REC. URL: <a href="https://www.w3.org/TR/css-namespaces-3/">https://www.w3.org/TR/css-namespaces-3/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS 语法模块第3级</cite></a>.
            2021年12月24日. CR. URL: <a href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-typed-om-1">[CSS-TYPED-OM-1]
        <dd>Tab Atkins Jr.; François Remy. <a href="https://www.w3.org/TR/css-typed-om-1/"><cite>CSS Typed OM
                    第1级</cite></a>. 2024年3月21日. WD. URL: <a
                href="https://www.w3.org/TR/css-typed-om-1/">https://www.w3.org/TR/css-typed-om-1/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS 数值与单位模块第4级</cite></a>.
            2024年3月12日. WD. URL: <a href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css21">[CSS21]
        <dd>Bert Bos; 等. <a href="https://www.w3.org/TR/CSS21/"><cite>层叠样式表第2级修订版（CSS 2.1）规范</cite></a>. 2011年6月7日. REC.
            URL: <a href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-css3-animations">[CSS3-ANIMATIONS]
        <dd>David Baron; 等. <a href="https://www.w3.org/TR/css-animations-1/"><cite>CSS 动画第1级</cite></a>. 2023年3月2日. WD.
            URL: <a href="https://www.w3.org/TR/css-animations-1/">https://www.w3.org/TR/css-animations-1/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://www.w3.org/TR/cssom-1/"><cite>CSS
                    对象模型（CSSOM）</cite></a>. 2021年8月26日. WD. URL: <a
                href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; 等. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>.
            现行标准. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    标准</cite></a>. 现行标准. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-mediaqueries-4">[MEDIAQUERIES-4]
        <dd>Florian Rivoal; Tab Atkins Jr.. <a href="https://www.w3.org/TR/mediaqueries-4/"><cite>媒体查询第4级</cite></a>.
            2021年12月25日. CR. URL: <a
                href="https://www.w3.org/TR/mediaqueries-4/">https://www.w3.org/TR/mediaqueries-4/</a>
        <dt id="biblio-mediaqueries-5">[MEDIAQUERIES-5]
        <dd>Dean Jackson; 等. <a href="https://www.w3.org/TR/mediaqueries-5/"><cite>媒体查询第5级</cite></a>.
            2021年12月18日. WD. URL: <a
                href="https://www.w3.org/TR/mediaqueries-5/">https://www.w3.org/TR/mediaqueries-5/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>用于 RFC 中表述需求层级的关键词</cite></a>.
            1997年3月. 最佳当前实践. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. 现行标准. URL: <a
                href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
        <dd>Elika Etemad; Brad Kemper. <a href="https://www.w3.org/TR/css-backgrounds-3/"><cite>CSS
                    背景与边框模块第3级</cite></a>. 2024年3月11日. CR. URL: <a
                href="https://www.w3.org/TR/css-backgrounds-3/">https://www.w3.org/TR/css-backgrounds-3/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Chris Lilley; Tab Atkins Jr.; Lea Verou. <a href="https://www.w3.org/TR/css-color-4/"><cite>CSS
                    颜色模块第4级</cite></a>. 2024年2月13日. CR. URL: <a
                href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS 显示模块第3级</cite></a>.
            2023年3月30日. CR. URL: <a href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-sizing-3/"><cite>CSS 盒尺寸模块第3级</cite></a>.
            2021年12月17日. WD. URL: <a href="https://www.w3.org/TR/css-sizing-3/">https://www.w3.org/TR/css-sizing-3/</a>
        <dt id="biblio-css1">[CSS1]
        <dd>Håkon Wium Lie; Bert Bos. <a href="https://www.w3.org/TR/CSS1/"><cite>层叠样式表，第1级</cite></a>. 2018年9月13日. REC.
            URL: <a href="https://www.w3.org/TR/CSS1/">https://www.w3.org/TR/CSS1/</a>
        <dt id="biblio-css3-transitions">[CSS3-TRANSITIONS]
        <dd>David Baron; 等. <a href="https://www.w3.org/TR/css-transitions-1/"><cite>CSS 过渡</cite></a>. 2018年10月11日. WD.
            URL: <a href="https://www.w3.org/TR/css-transitions-1/">https://www.w3.org/TR/css-transitions-1/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/cssom-1/#cssrule"><c- g>CSSRule</c-></a> {
    <c- b>const</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a href="#dom-cssrule-supports_rule"><code class="highlight"><c- g>SUPPORTS_RULE</c-></code></a> = 12;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#cssconditionrule"><code class="highlight"><c- g>CSSConditionRule</c-></code></a> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssgroupingrule"><c- n>CSSGroupingRule</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-readonly data-type="CSSOMString" href="#dom-cssconditionrule-conditiontext"><code class="highlight"><c- g>conditionText</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#cssmediarule"><code class="highlight"><c- g>CSSMediaRule</c-></code></a> : <a data-link-type="idl-name" href="#cssconditionrule"><c- n>CSSConditionRule</c-></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#PutForwards"><c- g>PutForwards</c-></a>=<a class="idl-code" data-link-type="attribute" href="https://www.w3.org/TR/cssom-1/#dom-medialist-mediatext"><c- n>mediaText</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#medialist"><c- n>MediaList</c-></a> <a data-readonly data-type="MediaList" href="#dom-cssmediarule-media"><code class="highlight"><c- g>media</c-></code></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-cssmediarule-matches"><code class="highlight"><c- g>matches</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csssupportsrule"><code class="highlight"><c- g>CSSSupportsRule</c-></code></a> : <a data-link-type="idl-name" href="#cssconditionrule"><c- n>CSSConditionRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-csssupportsrule-matches"><code class="highlight"><c- g>matches</c-></code></a>;
};

<c- b>partial</c-> <c- b>namespace</c-> <a class="idl-code" data-link-type="namespace" href="https://www.w3.org/TR/cssom-1/#namespacedef-css"><c- g>CSS</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a href="#dom-css-supports"><code class="highlight"><c- g>supports</c-></code></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-css-supports-property-value-property"><code class="highlight"><c- g>property</c-></code></a>, <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-css-supports-property-value-value"><code class="highlight"><c- g>value</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a href="#dom-css-supports-conditiontext"><code class="highlight"><c- g>supports</c-></code></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-css-supports-conditiontext-conditiontext"><code class="highlight"><c- g>conditionText</c-></code></a>);
};

</pre>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "09914701": { "dfnID": "09914701", "dfnText": "mediaText", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-medialist-mediatext" }], "title": "7.3. \nThe CSSMediaRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#dom-medialist-mediatext" },
                "0cfd25f1": { "dfnID": "0cfd25f1", "dfnText": "MediaList", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-medialist" }, { "id": "ref-for-medialist\u2460" }, { "id": "ref-for-medialist\u2461" }], "title": "7.3. \nThe CSSMediaRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#medialist" },
                "0f78dbdd": { "dfnID": "0f78dbdd", "dfnText": "CSSRule", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssrule" }], "title": "7.1. \nExtensions to the CSSRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
                "21ecf38f": { "dfnID": "21ecf38f", "dfnText": "PutForwards", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-PutForwards" }], "title": "7.3. \nThe CSSMediaRule interface" }], "url": "https://webidl.spec.whatwg.org/#PutForwards" },
                "2ccfe434": { "dfnID": "2ccfe434", "dfnText": "display", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-display" }, { "id": "ref-for-propdef-display\u2460" }], "title": "6. Feature queries: the @supports rule" }], "url": "https://www.w3.org/TR/css-display-3/#propdef-display" },
                "2d21e6d8": { "dfnID": "2d21e6d8", "dfnText": "<media-query-list>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-media-query-list" }], "title": "5. \nMedia-specific style sheets:  the @media rule" }], "url": "https://www.w3.org/TR/mediaqueries-5/#typedef-media-query-list" },
                "30d8c21b": { "dfnID": "30d8c21b", "dfnText": "namespace prefix", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-namespace-prefix" }], "title": "3. \nContents of conditional group rules" }], "url": "https://www.w3.org/TR/css-namespaces-3/#namespace-prefix" },
                "3ea2fcbb": { "dfnID": "3ea2fcbb", "dfnText": "media query", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-media-query" }], "title": "7.3. \nThe CSSMediaRule interface" }], "url": "https://www.w3.org/TR/mediaqueries-5/#media-query" },
                "3eef835e": { "dfnID": "3eef835e", "dfnText": "@import", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-import" }], "title": "1.1. Background" }, { "refs": [{ "id": "ref-for-at-ruledef-import\u2460" }], "title": "3. \nContents of conditional group rules" }, { "refs": [{ "id": "ref-for-at-ruledef-import\u2461" }], "title": "4. \nPlacement of conditional group rules" }], "url": "https://www.w3.org/TR/css-cascade-5/#at-ruledef-import" },
                "450958f7": { "dfnID": "450958f7", "dfnText": "unsigned short", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-unsigned-short" }], "title": "7.1. \nExtensions to the CSSRule interface" }], "url": "https://webidl.spec.whatwg.org/#idl-unsigned-short" },
                "49731d1d": { "dfnID": "49731d1d", "dfnText": "width", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-width" }], "title": "6. Feature queries: the @supports rule" }], "url": "https://www.w3.org/TR/css-sizing-3/#propdef-width" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }, { "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }], "title": "6. Feature queries: the @supports rule" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }], "title": "7.3. \nThe CSSMediaRule interface" }, { "refs": [{ "id": "ref-for-idl-boolean\u2461" }, { "id": "ref-for-idl-boolean\u2462" }], "title": "7.4. \nThe CSSSupportsRule interface" }, { "refs": [{ "id": "ref-for-idl-boolean\u2463" }, { "id": "ref-for-idl-boolean\u2464" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "5d7209e9": { "dfnID": "5d7209e9", "dfnText": "Window", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window" }], "title": "7.3. \nThe CSSMediaRule interface" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "5f5ab972": { "dfnID": "5f5ab972", "dfnText": "custom property name string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-custom-property-name-string" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }], "url": "https://www.w3.org/TR/css-typed-om-1/#custom-property-name-string" },
                "67800454": { "dfnID": "67800454", "dfnText": "parse", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-parse-something-according-to-a-css-grammar" }, { "id": "ref-for-css-parse-something-according-to-a-css-grammar\u2460" }, { "id": "ref-for-css-parse-something-according-to-a-css-grammar\u2461" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }, { "refs": [{ "id": "ref-for-css-parse-something-according-to-a-css-grammar\u2462" }], "title": "8. \nChanges" }], "url": "https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar" },
                "697c30aa": { "dfnID": "697c30aa", "dfnText": "CSSGroupingRule", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssgroupingrule" }], "title": "7.2. \nThe CSSConditionRule interface" }], "url": "https://www.w3.org/TR/cssom-1/#cssgroupingrule" },
                "6cfa013d": { "dfnID": "6cfa013d", "dfnText": "link", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-link-element" }], "title": "1.1. Background" }], "url": "https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" },
                "7aed8b8c": { "dfnID": "7aed8b8c", "dfnText": "<media-condition>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-media-condition" }], "title": "6. Feature queries: the @supports rule" }], "url": "https://www.w3.org/TR/mediaqueries-5/#typedef-media-condition" },
                "7f9469b5": { "dfnID": "7f9469b5", "dfnText": "ascii case-insensitive", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-case-insensitive" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }], "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "839bfab4": { "dfnID": "839bfab4", "dfnText": "CSS", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-namespacedef-css" }, { "id": "ref-for-namespacedef-css\u2460" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }], "url": "https://www.w3.org/TR/cssom-1/#namespacedef-css" },
                "87d90aed": { "dfnID": "87d90aed", "dfnText": "style rule", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-style-rule" }], "title": "4. \nPlacement of conditional group rules" }, { "refs": [{ "id": "ref-for-style-rule\u2460" }], "title": "6.1. Definition of support" }], "url": "https://www.w3.org/TR/css-syntax-3/#style-rule" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "7.2. \nThe CSSConditionRule interface" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "7.3. \nThe CSSMediaRule interface" }, { "refs": [{ "id": "ref-for-Exposed\u2461" }], "title": "7.4. \nThe CSSSupportsRule interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8a490d77": { "dfnID": "8a490d77", "dfnText": "not", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-media-not" }], "title": "8. \nChanges" }], "url": "https://www.w3.org/TR/mediaqueries-5/#valdef-media-not" },
                "8fba26d6": { "dfnID": "8fba26d6", "dfnText": "css qualified name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-qualified-name" }], "title": "3. \nContents of conditional group rules" }], "url": "https://www.w3.org/TR/css-namespaces-3/#css-qualified-name" },
                "9d357000": { "dfnID": "9d357000", "dfnText": "CSSOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cssomstring" }], "title": "7.2. \nThe CSSConditionRule interface" }, { "refs": [{ "id": "ref-for-cssomstring\u2460" }, { "id": "ref-for-cssomstring\u2461" }, { "id": "ref-for-cssomstring\u2462" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }], "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "a5c91173": { "dfnID": "a5c91173", "dfnText": "SameObject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SameObject" }], "title": "7.3. \nThe CSSMediaRule interface" }], "url": "https://webidl.spec.whatwg.org/#SameObject" },
                "a8cb81d7": { "dfnID": "a8cb81d7", "dfnText": "<rule-list>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-rule-list" }, { "id": "ref-for-typedef-rule-list\u2460" }], "title": "3. \nContents of conditional group rules" }, { "refs": [{ "id": "ref-for-typedef-rule-list\u2461" }], "title": "5. \nMedia-specific style sheets:  the @media rule" }, { "refs": [{ "id": "ref-for-typedef-rule-list\u2462" }], "title": "6. Feature queries: the @supports rule" }], "url": "https://www.w3.org/TR/css-syntax-3/#typedef-rule-list" },
                "at-ruledef-media": { "dfnID": "at-ruledef-media", "dfnText": "@media", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-media\u2460" }, { "id": "ref-for-at-ruledef-media\u2461" }, { "id": "ref-for-at-ruledef-media\u2462" }], "title": "1.1. Background" }, { "refs": [{ "id": "ref-for-at-ruledef-media\u2463" }], "title": "1.2. Module Interactions" }, { "refs": [{ "id": "ref-for-at-ruledef-media\u2464" }, { "id": "ref-for-at-ruledef-media\u2465" }, { "id": "ref-for-at-ruledef-media\u2466" }], "title": "5. \nMedia-specific style sheets:  the @media rule" }, { "refs": [{ "id": "ref-for-at-ruledef-media\u2467" }, { "id": "ref-for-at-ruledef-media\u2468" }], "title": "7.3. \nThe CSSMediaRule interface" }, { "refs": [{ "id": "ref-for-at-ruledef-media\u2460\u24ea" }], "title": "Privacy Considerations" }], "url": "#at-ruledef-media" },
                "at-ruledef-supports": { "dfnID": "at-ruledef-supports", "dfnText": "@supports", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-supports\u2460" }, { "id": "ref-for-at-ruledef-supports\u2461" }], "title": "1.1. Background" }, { "refs": [{ "id": "ref-for-at-ruledef-supports\u2462" }, { "id": "ref-for-at-ruledef-supports\u2463" }, { "id": "ref-for-at-ruledef-supports\u2464" }, { "id": "ref-for-at-ruledef-supports\u2465" }, { "id": "ref-for-at-ruledef-supports\u2466" }, { "id": "ref-for-at-ruledef-supports\u2467" }, { "id": "ref-for-at-ruledef-supports\u2468" }, { "id": "ref-for-at-ruledef-supports\u2460\u24ea" }], "title": "6. Feature queries: the @supports rule" }, { "refs": [{ "id": "ref-for-at-ruledef-supports\u2460\u2460" }, { "id": "ref-for-at-ruledef-supports\u2460\u2461" }], "title": "6.1. Definition of support" }, { "refs": [{ "id": "ref-for-at-ruledef-supports\u2460\u2462" }], "title": "7.4. \nThe CSSSupportsRule interface" }, { "refs": [{ "id": "ref-for-at-ruledef-supports\u2460\u2463" }, { "id": "ref-for-at-ruledef-supports\u2460\u2464" }], "title": "Privacy Considerations" }, { "refs": [{ "id": "ref-for-at-ruledef-supports\u2460\u2465" }, { "id": "ref-for-at-ruledef-supports\u2460\u2466" }], "title": "8. \nChanges" }], "url": "#at-ruledef-supports" },
                "b29fecf5": { "dfnID": "b29fecf5", "dfnText": "at-rule", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-at-rule" }], "title": "2. Processing of conditional group rules" }, { "refs": [{ "id": "ref-for-at-rule\u2460" }], "title": "4. \nPlacement of conditional group rules" }], "url": "https://www.w3.org/TR/css-syntax-3/#at-rule" },
                "bcdf9b19": { "dfnID": "bcdf9b19", "dfnText": "color", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-color" }, { "id": "ref-for-propdef-color\u2460" }], "title": "6.1. Definition of support" }], "url": "https://www.w3.org/TR/css-color-4/#propdef-color" },
                "bf0e8186": { "dfnID": "bf0e8186", "dfnText": "@namespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-namespace" }], "title": "4. \nPlacement of conditional group rules" }], "url": "https://drafts.csswg.org/css-namespaces-3/#at-ruledef-namespace" },
                "c48eaa20": { "dfnID": "c48eaa20", "dfnText": "box-shadow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-box-shadow" }, { "id": "ref-for-propdef-box-shadow\u2460" }, { "id": "ref-for-propdef-box-shadow\u2461" }], "title": "6. Feature queries: the @supports rule" }], "url": "https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow" },
                "conditional-group-rule": { "dfnID": "conditional-group-rule", "dfnText": "conditional group rules", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-conditional-group-rule" }, { "id": "ref-for-conditional-group-rule\u2460" }, { "id": "ref-for-conditional-group-rule\u2461" }], "title": "3. \nContents of conditional group rules" }, { "refs": [{ "id": "ref-for-conditional-group-rule\u2462" }], "title": "8. \nChanges" }], "url": "#conditional-group-rule" },
                "css-feature-queries": { "dfnID": "css-feature-queries", "dfnText": "CSS feature queries", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-css-feature-queries" }], "title": "7.4. \nThe CSSSupportsRule interface" }, { "refs": [{ "id": "ref-for-css-feature-queries\u2460" }, { "id": "ref-for-css-feature-queries\u2461" }], "title": "8. \nChanges" }], "url": "#css-feature-queries" },
                "cssconditionrule": { "dfnID": "cssconditionrule", "dfnText": "CSSConditionRule", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cssconditionrule" }], "title": "7.2. \nThe CSSConditionRule interface" }, { "refs": [{ "id": "ref-for-cssconditionrule\u2460" }], "title": "7.3. \nThe CSSMediaRule interface" }, { "refs": [{ "id": "ref-for-cssconditionrule\u2461" }], "title": "7.4. \nThe CSSSupportsRule interface" }], "url": "#cssconditionrule" },
                "cssmediarule": { "dfnID": "cssmediarule", "dfnText": "CSSMediaRule", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cssmediarule" }], "title": "7.3. \nThe CSSMediaRule interface" }], "url": "#cssmediarule" },
                "csssupportsrule": { "dfnID": "csssupportsrule", "dfnText": "CSSSupportsRule", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-csssupportsrule" }], "title": "7.4. \nThe CSSSupportsRule interface" }], "url": "#csssupportsrule" },
                "d32570a7": { "dfnID": "d32570a7", "dfnText": "<general-enclosed>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-general-enclosed" }, { "id": "ref-for-typedef-general-enclosed\u2460" }, { "id": "ref-for-typedef-general-enclosed\u2461" }, { "id": "ref-for-typedef-general-enclosed\u2462" }, { "id": "ref-for-typedef-general-enclosed\u2463" }], "title": "6. Feature queries: the @supports rule" }, { "refs": [{ "id": "ref-for-typedef-general-enclosed\u2464" }], "title": "7.4. \nThe CSSSupportsRule interface" }], "url": "https://drafts.csswg.org/css-values-4/#typedef-general-enclosed" },
                "dfn-support": { "dfnID": "dfn-support", "dfnText": "support", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-support" }], "title": "6. Feature queries: the @supports rule" }], "url": "#dfn-support" },
                "dom-css-supports": { "dfnID": "dom-css-supports", "dfnText": "supports", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-css-supports" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }], "url": "#dom-css-supports" },
                "dom-css-supports-conditiontext": { "dfnID": "dom-css-supports-conditiontext", "dfnText": "supports", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-css-supports-conditiontext" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }], "url": "#dom-css-supports-conditiontext" },
                "dom-css-supports-conditiontext-conditiontext": { "dfnID": "dom-css-supports-conditiontext-conditiontext", "dfnText": "conditionText", "external": false, "refSections": [], "url": "#dom-css-supports-conditiontext-conditiontext" },
                "dom-css-supports-property-value-property": { "dfnID": "dom-css-supports-property-value-property", "dfnText": "property", "external": false, "refSections": [], "url": "#dom-css-supports-property-value-property" },
                "dom-css-supports-property-value-value": { "dfnID": "dom-css-supports-property-value-value", "dfnText": "value", "external": false, "refSections": [], "url": "#dom-css-supports-property-value-value" },
                "dom-cssconditionrule-conditiontext": { "dfnID": "dom-cssconditionrule-conditiontext", "dfnText": "conditionText", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cssconditionrule-conditiontext" }], "title": "7.4. \nThe CSSSupportsRule interface" }], "url": "#dom-cssconditionrule-conditiontext" },
                "dom-cssmediarule-matches": { "dfnID": "dom-cssmediarule-matches", "dfnText": "matches", "external": false, "refSections": [], "url": "#dom-cssmediarule-matches" },
                "dom-cssmediarule-media": { "dfnID": "dom-cssmediarule-media", "dfnText": "media", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cssmediarule-media" }], "title": "7.3. \nThe CSSMediaRule interface" }], "url": "#dom-cssmediarule-media" },
                "dom-cssrule-supports_rule": { "dfnID": "dom-cssrule-supports_rule", "dfnText": "SUPPORTS_RULE", "external": false, "refSections": [], "url": "#dom-cssrule-supports_rule" },
                "dom-csssupportsrule-matches": { "dfnID": "dom-csssupportsrule-matches", "dfnText": "matches", "external": false, "refSections": [], "url": "#dom-csssupportsrule-matches" },
                "e1674793": { "dfnID": "e1674793", "dfnText": "border", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-border" }], "title": "6. Feature queries: the @supports rule" }], "url": "https://www.w3.org/TR/css-backgrounds-3/#propdef-border" },
                "e7c3b4f7": { "dfnID": "e7c3b4f7", "dfnText": "invalid", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-invalid" }], "title": "4. \nPlacement of conditional group rules" }], "url": "https://www.w3.org/TR/css-syntax-3/#css-invalid" },
                "ef9f8297": { "dfnID": "ef9f8297", "dfnText": "*", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-zero-plus" }, { "id": "ref-for-mult-zero-plus\u2460" }], "title": "6. Feature queries: the @supports rule" }], "url": "https://www.w3.org/TR/css-values-4/#mult-zero-plus" },
                "fb5475b9": { "dfnID": "fb5475b9", "dfnText": "@charset", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-at-ruledef-charset" }], "title": "4. \nPlacement of conditional group rules" }], "url": "https://www.w3.org/TR/css-syntax-3/#at-ruledef-charset" },
                "supports-queries": { "dfnID": "supports-queries", "dfnText": "supports queries", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-supports-queries" }], "title": "8. \nChanges" }], "url": "#supports-queries" },
                "typedef-supports-condition": { "dfnID": "typedef-supports-condition", "dfnText": "<supports-condition>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-supports-condition" }, { "id": "ref-for-typedef-supports-condition\u2460" }, { "id": "ref-for-typedef-supports-condition\u2461" }, { "id": "ref-for-typedef-supports-condition\u2462" }, { "id": "ref-for-typedef-supports-condition\u2463" }, { "id": "ref-for-typedef-supports-condition\u2464" }], "title": "6. Feature queries: the @supports rule" }, { "refs": [{ "id": "ref-for-typedef-supports-condition\u2465" }, { "id": "ref-for-typedef-supports-condition\u2466" }], "title": "7.5. \nThe CSS namespace, and the supports() function" }], "url": "#typedef-supports-condition" },
                "typedef-supports-decl": { "dfnID": "typedef-supports-decl", "dfnText": "<supports-decl>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-supports-decl" }, { "id": "ref-for-typedef-supports-decl\u2460" }], "title": "6. Feature queries: the @supports rule" }], "url": "#typedef-supports-decl" },
                "typedef-supports-feature": { "dfnID": "typedef-supports-feature", "dfnText": "<supports-feature>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-supports-feature" }], "title": "6. Feature queries: the @supports rule" }], "url": "#typedef-supports-feature" },
                "typedef-supports-in-parens": { "dfnID": "typedef-supports-in-parens", "dfnText": "<supports-in-parens>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-supports-in-parens" }, { "id": "ref-for-typedef-supports-in-parens\u2460" }, { "id": "ref-for-typedef-supports-in-parens\u2461" }, { "id": "ref-for-typedef-supports-in-parens\u2462" }, { "id": "ref-for-typedef-supports-in-parens\u2463" }, { "id": "ref-for-typedef-supports-in-parens\u2464" }, { "id": "ref-for-typedef-supports-in-parens\u2465" }, { "id": "ref-for-typedef-supports-in-parens\u2466" }, { "id": "ref-for-typedef-supports-in-parens\u2467" }, { "id": "ref-for-typedef-supports-in-parens\u2468" }, { "id": "ref-for-typedef-supports-in-parens\u2460\u24ea" }, { "id": "ref-for-typedef-supports-in-parens\u2460\u2460" }, { "id": "ref-for-typedef-supports-in-parens\u2460\u2461" }, { "id": "ref-for-typedef-supports-in-parens\u2460\u2462" }], "title": "6. Feature queries: the @supports rule" }], "url": "#typedef-supports-in-parens" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#at-ruledef-media": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "@media", "type": "at-rule", "url": "#at-ruledef-media" },
                "#at-ruledef-supports": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "@supports", "type": "at-rule", "url": "#at-ruledef-supports" },
                "#conditional-group-rule": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "conditional group rule", "type": "dfn", "url": "#conditional-group-rule" },
                "#css-feature-queries": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "css feature queries", "type": "dfn", "url": "#css-feature-queries" },
                "#cssconditionrule": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "CSSConditionRule", "type": "interface", "url": "#cssconditionrule" },
                "#cssmediarule": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "CSSMediaRule", "type": "interface", "url": "#cssmediarule" },
                "#csssupportsrule": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "CSSSupportsRule", "type": "interface", "url": "#csssupportsrule" },
                "#dfn-support": { "export": true, "for_": ["CSS"], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "support", "type": "dfn", "url": "#dfn-support" },
                "#dom-css-supports": { "export": true, "for_": ["CSS"], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "supports(property, value)", "type": "method", "url": "#dom-css-supports" },
                "#dom-css-supports-conditiontext": { "export": true, "for_": ["CSS"], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "supports(conditionText)", "type": "method", "url": "#dom-css-supports-conditiontext" },
                "#dom-cssconditionrule-conditiontext": { "export": true, "for_": ["CSSConditionRule"], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "conditionText", "type": "attribute", "url": "#dom-cssconditionrule-conditiontext" },
                "#dom-cssmediarule-media": { "export": true, "for_": ["CSSMediaRule"], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "media", "type": "attribute", "url": "#dom-cssmediarule-media" },
                "#supports-queries": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "supports queries", "type": "dfn", "url": "#supports-queries" },
                "#typedef-supports-condition": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "<supports-condition>", "type": "type", "url": "#typedef-supports-condition" },
                "#typedef-supports-decl": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "<supports-decl>", "type": "type", "url": "#typedef-supports-decl" },
                "#typedef-supports-feature": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "<supports-feature>", "type": "type", "url": "#typedef-supports-feature" },
                "#typedef-supports-in-parens": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-conditional", "spec": "css-conditional-3", "status": "local", "text": "<supports-in-parens>", "type": "type", "url": "#typedef-supports-in-parens" },
                "https://drafts.csswg.org/css-namespaces-3/#at-ruledef-namespace": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-namespaces", "spec": "css-namespaces-3", "status": "current", "text": "@namespace", "type": "at-rule", "url": "https://drafts.csswg.org/css-namespaces-3/#at-ruledef-namespace" },
                "https://drafts.csswg.org/css-values-4/#typedef-general-enclosed": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "current", "text": "<general-enclosed>", "type": "type", "url": "https://drafts.csswg.org/css-values-4/#typedef-general-enclosed" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Window", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "https://html.spec.whatwg.org/multipage/semantics.html#the-link-element": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "link", "type": "element", "url": "https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" },
                "https://infra.spec.whatwg.org/#ascii-case-insensitive": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii case-insensitive", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "https://webidl.spec.whatwg.org/#Exposed": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#PutForwards": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "PutForwards", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#PutForwards" },
                "https://webidl.spec.whatwg.org/#SameObject": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SameObject", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SameObject" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-unsigned-short": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "unsigned short", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-short" },
                "https://www.w3.org/TR/css-backgrounds-3/#propdef-border": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-backgrounds", "spec": "css-backgrounds-3", "status": "snapshot", "text": "border", "type": "property", "url": "https://www.w3.org/TR/css-backgrounds-3/#propdef-border" },
                "https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-backgrounds", "spec": "css-backgrounds-3", "status": "snapshot", "text": "box-shadow", "type": "property", "url": "https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow" },
                "https://www.w3.org/TR/css-cascade-5/#at-ruledef-import": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "@import", "type": "at-rule", "url": "https://www.w3.org/TR/css-cascade-5/#at-ruledef-import" },
                "https://www.w3.org/TR/css-color-4/#propdef-color": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-color", "spec": "css-color-4", "status": "snapshot", "text": "color", "type": "property", "url": "https://www.w3.org/TR/css-color-4/#propdef-color" },
                "https://www.w3.org/TR/css-display-3/#propdef-display": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-display", "spec": "css-display-3", "status": "snapshot", "text": "display", "type": "property", "url": "https://www.w3.org/TR/css-display-3/#propdef-display" },
                "https://www.w3.org/TR/css-namespaces-3/#css-qualified-name": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-namespaces", "spec": "css-namespaces-3", "status": "snapshot", "text": "css qualified name", "type": "dfn", "url": "https://www.w3.org/TR/css-namespaces-3/#css-qualified-name" },
                "https://www.w3.org/TR/css-namespaces-3/#namespace-prefix": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-namespaces", "spec": "css-namespaces-3", "status": "snapshot", "text": "namespace prefix", "type": "dfn", "url": "https://www.w3.org/TR/css-namespaces-3/#namespace-prefix" },
                "https://www.w3.org/TR/css-sizing-3/#propdef-width": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "width", "type": "property", "url": "https://www.w3.org/TR/css-sizing-3/#propdef-width" },
                "https://www.w3.org/TR/css-syntax-3/#at-rule": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "at-rule", "type": "dfn", "url": "https://www.w3.org/TR/css-syntax-3/#at-rule" },
                "https://www.w3.org/TR/css-syntax-3/#at-ruledef-charset": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "@charset", "type": "at-rule", "url": "https://www.w3.org/TR/css-syntax-3/#at-ruledef-charset" },
                "https://www.w3.org/TR/css-syntax-3/#css-invalid": { "export": true, "for_": ["css"], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "invalid", "type": "dfn", "url": "https://www.w3.org/TR/css-syntax-3/#css-invalid" },
                "https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar": { "export": true, "for_": ["CSS"], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "parse", "type": "dfn", "url": "https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar" },
                "https://www.w3.org/TR/css-syntax-3/#style-rule": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "style rule", "type": "dfn", "url": "https://www.w3.org/TR/css-syntax-3/#style-rule" },
                "https://www.w3.org/TR/css-syntax-3/#typedef-rule-list": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-syntax", "spec": "css-syntax-3", "status": "snapshot", "text": "<rule-list>", "type": "type", "url": "https://www.w3.org/TR/css-syntax-3/#typedef-rule-list" },
                "https://www.w3.org/TR/css-typed-om-1/#custom-property-name-string": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-typed-om", "spec": "css-typed-om-1", "status": "snapshot", "text": "custom property name string", "type": "dfn", "url": "https://www.w3.org/TR/css-typed-om-1/#custom-property-name-string" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-values-4/#mult-zero-plus": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "*", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-zero-plus" },
                "https://www.w3.org/TR/cssom-1/#cssgroupingrule": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSGroupingRule", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssgroupingrule" },
                "https://www.w3.org/TR/cssom-1/#cssomstring": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSOMString", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssomstring" },
                "https://www.w3.org/TR/cssom-1/#cssrule": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSSRule", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#cssrule" },
                "https://www.w3.org/TR/cssom-1/#dom-medialist-mediatext": { "export": true, "for_": ["MediaList"], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "mediaText", "type": "attribute", "url": "https://www.w3.org/TR/cssom-1/#dom-medialist-mediatext" },
                "https://www.w3.org/TR/cssom-1/#medialist": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "MediaList", "type": "interface", "url": "https://www.w3.org/TR/cssom-1/#medialist" },
                "https://www.w3.org/TR/cssom-1/#namespacedef-css": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom", "spec": "cssom-1", "status": "snapshot", "text": "CSS", "type": "namespace", "url": "https://www.w3.org/TR/cssom-1/#namespacedef-css" },
                "https://www.w3.org/TR/mediaqueries-5/#media-query": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "mediaqueries", "spec": "mediaqueries-5", "status": "snapshot", "text": "media query", "type": "dfn", "url": "https://www.w3.org/TR/mediaqueries-5/#media-query" },
                "https://www.w3.org/TR/mediaqueries-5/#typedef-media-condition": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "mediaqueries", "spec": "mediaqueries-5", "status": "snapshot", "text": "<media-condition>", "type": "type", "url": "https://www.w3.org/TR/mediaqueries-5/#typedef-media-condition" },
                "https://www.w3.org/TR/mediaqueries-5/#typedef-media-query-list": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "mediaqueries", "spec": "mediaqueries-5", "status": "snapshot", "text": "<media-query-list>", "type": "type", "url": "https://www.w3.org/TR/mediaqueries-5/#typedef-media-query-list" },
                "https://www.w3.org/TR/mediaqueries-5/#valdef-media-not": { "export": true, "for_": ["@media"], "level": "5", "normative": true, "shortname": "mediaqueries", "spec": "mediaqueries-5", "status": "snapshot", "text": "not", "type": "value", "url": "https://www.w3.org/TR/mediaqueries-5/#valdef-media-not" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.text != linkText) {
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.text)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const ref = refsData[url];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script>/* Boilerplate: script-wpt */
        "use strict";
        {
            let wptData = {
                "paths": ["/css/css-conditional/"],
            };

            document.addEventListener("DOMContentLoaded", async () => {
                if (wptData.paths.length == 0) return;

                const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
                const runs = await (await fetch(runsUrl)).json();

                let testResults = [];
                for (const pathPrefix of wptData.paths) {
                    const pathResults = await (await fetch("https://wpt.fyi/api/search", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            "run_ids": runs.map(x => x.id),
                            "query": { "path": pathPrefix },
                        })
                    })).json();
                    testResults = testResults.concat(pathResults.results);
                }

                const browsers = runs.map(x => ({ name: x.browser_name, version: x.browser_version, passes: 0, total: 0 }));
                const resultsFromPath = new Map(testResults.map(result => {
                    const testPath = result.test;
                    const passes = result.legacy_status.map(x => [x.passes, x.total]);
                    return [testPath, passes];
                }));
                const seenTests = new Set();
                document.querySelectorAll(".wpt-name").forEach(nameEl => {
                    const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
                    if (!passData) {
                        console.log("Couldn't find test in results:", nameEl);
                        return
                    }
                    const numTests = passData[0][1];
                    if (numTests > 1) {
                        nameEl.insertAdjacentElement("beforeend",
                            mk.small({}, ` (${numTests} tests)`));
                    }
                    if (passData == undefined) return;
                    const resultsEl = mk.span({ "class": "wpt-results" },
                        ...passData.map((p, i) => mk.span(
                            {
                                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                                "class": "wpt-result",
                                "style": `background: conic-gradient(forestgreen ${p[0] / p[1] * 360}deg, darkred 0deg);`,
                            })),
                    );
                    nameEl.insertAdjacentElement("afterend", resultsEl);

                    // Only update the summary pass/total count if we haven't seen this
                    // test before, to support authors listing the same test multiple times
                    // in a spec.
                    if (!seenTests.has(nameEl.getAttribute("title"))) {
                        seenTests.add(nameEl.getAttribute("title"));
                        passData.forEach((p, i) => {
                            browsers[i].passes += p[0];
                            browsers[i].total += p[1];
                        });
                    }
                });
                const overview = document.querySelector(".wpt-overview");
                if (overview) {
                    overview.appendChild(mk.ul({}, ...browsers.map(formatWptResult)));
                    document.head.appendChild(mk.style({},
                        `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
                }
            });

            function formatWptResult({ name, version, passes, total }) {
                const passRate = passes / total;
                let passClass = "";
                if (passRate == 0) passClass = "passes-none";
                else if (passRate < .2) passClass = "passes-hardly";
                else if (passRate < .4) passClass = "passes-a-few";
                else if (passRate < .6) passClass = "passes-half";
                else if (passRate < .8) passClass = "passes-lots";
                else if (passRate < 1) passClass = "passes-most";
                else passClass = "passes-all";

                name = name[0].toUpperCase() + name.slice(1);
                const shortVersion = /^\d+/.exec(version);
                const icon = []

                if (name == "Chrome") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/chrome_64x64.png" }));
                if (name == "Edge") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/edge_64x64.png" }));
                if (name == "Safari") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/safari_64x64.png" }));
                if (name == "Firefox") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/firefox_64x64.png" }));

                return mk.li({ "class": passClass },
                    mk.nobr({ 'class': 'browser' }, ...icon, ` ${name} ${shortVersion}`),
                    mk.br(),
                    mk.nobr({ 'class': 'pass-rate' }, `${passes}/${total}`)
                );
            }
        }
    </script>
    <script src="/dropdown.js"></script>