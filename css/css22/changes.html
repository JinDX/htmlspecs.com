<!DOCTYPE html>
<html lang="zh-hans">

<HEAD>
  <TITLE>更改</TITLE>
  <link rel="stylesheet" href="https://www.w3.org/TR/CSS22/style/default.css" type="text/css">
  <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD.css" type="text/css">
  <link rel="prev" href="refs.html">
  <link rel="next" href="sample.html">
  <link rel="contents" href="index.html#minitoc">
  <link rel="CSS-properties" href="propidx.html" title="properties">
  <link rel="index" href="indexlist.html" title="index">
  <link rel="first" href="index.html">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

</HEAD>

<BODY>
  <div class="navbar">
    <p><a href="refs.html">上一页</a> &nbsp;
      <a href="sample.html">下一页</a> &nbsp;
      <a href="index.html#minitoc">内容</a> &nbsp;
      <a href="propidx.html">属性</a> &nbsp;
      <a href="indexlist.html">索引</a> &nbsp;
  </div>
  <hr class="navbar">

  <H1><a id="q0">附录C. 更改</a></H1>
  <div id="toc" class="subtoc">
    <p><strong>内容</strong>
    <ul class="toc">
      <li><a href="changes.html#q1" class="tocxref">C.1 自2011年6月7日建议以来的更改</a>
    </ul>
  </div>

  <P><em>此附录是说明性的，而非规范性的。</em></P>

  <P>以下是相对于CSS2（CSS 2.1）第一个修订版的更改。CSS2规范（见
    <a href="refs.html#ref-CSS2" rel="biblioentry" class="noxref"><span class="informref">[CSS2]</span></a>）与
    CSS 2.1（见 <a href="refs.html#ref-CSS21" rel="biblioentry" class="noxref"><span
        class="informref">[CSS21]</span></a>）之间的更改可以在<a href="https://www.w3.org/TR/CSS21/changes.html">CSS
      2.1的更改章节</a>中找到。

  <p>本章并非更改的完整列表。较小的编辑更改和大多数示例更改未在此列出。</p>





  <H2 id=since-20110607><a id="q1">C.1 自2011年6月7日建议以来的更改</a></H2>

  <ul>



    <li id=s.6.2.1 class=change>
      <p><span class=updated>[2011-10-12]</span> 在<a href="cascade.html#value-def-inherit">“6.2.1 'inherit' 值”</a>中更改

      <blockquote>
        <p>每个属性还可以有一个继承的层叠值，这意味着对于给定元素，该属性将取<del>与父元素属性相同的指定值</del> <ins>作为指定值，取父元素的计算值</ins>。
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2011Oct/0482.html">CSS WG 会议记录 2011-10-12。</a>）





    <li id=s.6.1.1 class=clarification>
      <p><span class=updated>[2011-10-12]</span> 在<a href="cascade.html#specified-value">“6.1.1 指定值”</a>中添加如下说明：

      <blockquote>
        <ol>
          <li>如果层叠结果为一个值则使用它。<ins>但是，如果该值是 'inherit'，则指定值定义在下面的<a href="cascade.html#value-def-inherit">“'inherit'
                值”</a>中</ins>。
        </ol>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2011Oct/0482.html">CSS WG 会议记录 2011-10-12。</a>）





    <li id=s.8.3.1c class=change>
      <p><span class=updated>[2012-04-04]</span> 在<a href="box.html#collapsing-margins">“8.3.1 折叠边距”</a>中新增一项如下：

      <blockquote>
        <p>相邻的垂直边距折叠，除非：
        <ul>
          <li>根元素的框的边距不折叠。
          <li>如果具有清除浮动的元素的上下边距相邻，其边距与后续兄弟元素的相邻边距折叠，但结果边距不会与父块的底部边距折叠。
          <li><ins>如果具有非零计算 'min-height' 和 'auto' 计算 'height' 的框的上边距与其最后一个流内子元素的底部边距折叠，则该子元素的底部边距不会与父元素的底部边距折叠。</ins>
        </ul>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Apr/0101.html">CSS WG 会议记录 2012-04-04。</a>）





    <li id=s.10.7 class=clarification>
      <p><span class=updated>[2012-04-11]</span> 在<a href="visudet.html#min-max-heights">“10.7 最小高度和最大高度：'min-height' 和
          'max-height'”</a>中澄清如下说明：

      <blockquote>
        <p><del>这些步骤不会影响上述属性的实际计算值。使用 'height' 的变化对边距折叠没有影响，除非“折叠边距”（8.3.1）中的规则特别要求。</del>

        <p><ins>这些步骤不会影响 'height' 的实际计算值。因此，例如，它们不会影响边距折叠，因为边距折叠取决于计算值。</ins>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Apr/0276.html">CSS WG 会议记录 2012-04-11。</a>）





    <li id=s.8.3.1d class=clarification>
      <p><span class=updated>[2012-04-11]</span> 在<a href="box.html#collapsing-margins">“8.3.1 折叠边距”</a>中澄清第二个注释中的第七个要点：

      <blockquote>
        <p><del>如果一个具有 'auto' 的 'height' 和零 'min-height'
            的流内块框的底部边距与其最后一个流内块级子元素的底部边距折叠，而该框没有底部填充和底部边框，并且该子元素的底部边距没有与具有清除浮动的顶部边距折叠。</del>

        <p><ins>如果一个具有 'auto' 的 'height' 的流内块框的底部边距与其最后一个流内块级子元素的底部边距折叠，且：</ins>
        <ul>
          <li><ins>该框没有底部填充，并且</ins>
          <li><ins>该框没有底部边框，并且</ins>
          <li><ins>该子元素的底部边距既没有与具有清除浮动的顶部边距折叠，也没有（如果该框的 'min-height' 为非零）与该框的顶部边距折叠。</ins>
        </ul>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Apr/0276.html">CSS WG 会议记录 2012-04-11。</a>）





    <li id=s.15.3a class=clarification>
      <p><span class=updated>[2012-05-02]</span> 在<a href="fonts.html#font-family-prop">“15.3 字体系列：'font-family'
          属性”</a>中澄清未使用引号的字体名称“inherit”是错误的：

      <blockquote>
        <p><del>与关键字值（'inherit'、'serif'、'sans-serif'、'monospace'、'fantasy' 和 'cursive'）相同的字体系列名称必须加引号，以防与相同名称的关键字混淆。关键字
            'initial' 和 'default' 为将来保留，当用作字体名称时也必须加引号。用户代理不得将这些关键字视为与 'family-name' 类型匹配。</del>

        <p><ins>未加引号的字体系列名称与关键字值 'inherit'、'default' 和 'initial' 或通用字体关键字（'serif'、'sans-serif'、'monospace'、'fantasy' 和
            'cursive'）相同，则不匹配 'family-name' 类型。这些名称必须加引号，以防与相同名称的关键字混淆。请注意，“font-family: Times, inherit”因此是无效声明，因为在该位置
            'inherit' 既不能是有效关键字，也不能是有效字体名称。</ins>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012May/0063.html">CSS WG 会议记录 2012-05-02。</a>）





    <li id=s.4.3.1 class=change>
      <p><span class=updated>[2012-05-02]</span> 在数字、长度或百分比的符号和数字之间不允许有空格和注释。在<a href="syndata.html#numbers">“4.3.1
          整数和实数”</a>中插入“立即”如下：

      <blockquote>
        <p>整数和实数可以<ins>立即</ins>以 "-" 或 "+" 开头以指示符号。
      </blockquote>

      <p>在<a href="syndata.html#tokenization">“4.1.1 词法分析”</a>中允许在 {num} 宏的开头使用 "+" 或 "-"：

      <blockquote>
        <table>
          <tr>
            <td>num
            <td><code><ins>[-+]?</ins>[0-9]+|<ins>[-+]?</ins>[0-9]*\.[0-9]+</code>
        </table>
      </blockquote>

      <p>（请注意，这改变了三个标记的定义：NUMBER、DIMENSION 和 PERCENTAGE，因此改变了 CSS 的标记化，但并没有改变语法整体生成的语言。）

      <p>在 4.3.2 (&lt;length&gt;) 或 4.3.3 (&lt;percentage&gt;) 中不需要做任何更改，因为它们引用了 4.3.1。

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012May/0063.html">CSS WG 会议记录 2012-05-02。</a>）



    <li id=s.10.1a class=change>
      <p><span class=updated>[2012-08-01]</span> 在<a href="visudet.html#containing-block-details">“10.1
          ‘包含块’的定义”</a>中更改：

      <blockquote>
        <ol>
          <li> [&hellip;]

          <li>对于其他元素，如果元素的位置是 'relative' 或 'static'，则包含块由最近的<ins>作为</ins> <a href="visuren.html#block-boxes">块容器</a>
            <del>祖先框</del> <ins>或建立格式化上下文的祖先框</ins>的内容边缘形成。
        </ol>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html">CSS WG 会议记录 2012-08-01。</a>）





    <li id=s.9.4 class=change>
      <p><span class=updated>[2012-08-01]</span> 在<a href="visuren.html#normal-flow">“9.4 正常流”</a>中更改如下：

      <blockquote>
        <p>正常流中的框属于<a id="x0"><span class="index-def" title="格式化上下文">格式化上下文</span></a>，<ins>在CSS 2</ins> 中它可以是
          <ins>表格、</ins>块或内联<del>，但不能同时是两者</del>。<ins>在未来的 CSS 级别中，将引入其他类型的格式化上下文。</ins> <a
            href="visuren.html#block-level">块级</a>框参与<a href="visuren.html#block-formatting">块格式化</a>上下文。<a
            href="visuren.html#inline-level">内联级</a>框参与<a
            href="visuren.html#inline-formatting">内联格式化</a>上下文。<ins>表格格式化上下文在<a href="tables.html">表格章节</a>中描述。</ins>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html">CSS WG 会议记录 2012-08-01。</a>）





    <li id=s.9.4.2 class=clarification>
      <p><span class=updated>[2012-08-01]</span> 在<a href="visuren.html#inline-formatting">“9.4.2 内联格式化上下文”</a>中添加如下句子：

      <blockquote>
        <p><ins>内联格式化上下文由包含无块级框的块容器框建立。</ins>在内联格式化上下文中，框从包含块的顶部开始水平布局，一个接一个地排列。
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html">CSS WG 会议记录 2012-08-01。</a>）





    <li id=s.17.4a class=change>
      <p><span class=updated>[2012-08-01]</span> 在<a href="tables.html#model">“17.4 可视化格式模型中的表格”</a>中更改如下：

      <blockquote>
        <p>如果表格是块级的，表格包装框是一个 'block' 框，如果表格是内联级的，表格包装框是一个 'inline-block' 框。表格包装框建立块格式化上下文<ins>，而表格框建立表格格式化上下文</ins>。
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html">CSS WG 会议记录 2012-08-01。</a>）





    <li id=s.17.5 class=change>
      <p><span class=updated>[2012-08-01]</span> 在<a href="tables.html#table-layout">“17.5 表格内容的视觉布局”</a>中更改如下：

      <blockquote>
        <p>内部表格元素生成矩形<a href="box.html#box-dimensions">框</a> <del>并具有</del>
          <ins>这些框参与由表格框建立的表格格式化上下文。这些框具有</ins>内容和边框<del>。</del><ins>，并且</ins>单元格也有填充。内部表格元素没有边距。
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html">CSS WG 会议记录 2012-08-01。</a>）





    <li id=s.11.1.1a class=change>
      <p><span class=updated>[2012-08-01]</span> 在<a href="visufx.html#overflow">“11.1.1 溢出：'overflow' 属性”</a>中更改如下：

      <blockquote>
        <p><em>适用于：</em>块容器<ins>和建立格式化上下文的框</ins>。
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html">CSS WG 会议记录 2012-08-01。</a>）




    <li id=s.4.1.1a class=change>
      <p><span class=updated>[2013-04-29]</span> URI 词法单元的 u、r 和 l 字母可以写成转义字符。在 <a
          href="syndata.html#tokenization">4.1.1 “词法分析”</a>中的第一个表格中更改：

      <blockquote>
        <table>
          <tr>
            <td>URI
            <td>
              <code><del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}{string}{w}</var>\)<br>
	  |<del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}</var>([!#$%&amp;*-\[\]-~]|<var>{nonascii}</var>|<var>{escape}</var>)*<var>{w}</var>\)</code>
        </table>
      </blockquote>

      <p>在第二个表格中更改：

      <blockquote>
        <table>
          <tr>
            <td>baduri1
            <td>
              <code><del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}</var>([!#$%&amp;*-~]|<var>{nonascii}</var>|<var>{escape}</var>)*<var>{w}</var></code>
          <tr>
            <td>baduri2
            <td><code><del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}</var><var>{string}</var><var>{w}</var></code>
          <tr>
            <td>baduri3
            <td><code><del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}</var><var>{badstring}</var></code>
        </table>
      </blockquote>

      <p>并在第二个表格中添加：

      <blockquote>
        <table>
          <tr>
            <td><ins>L</ins>
            <td><ins><code>l|\\0{0,4}(4c|6c)(\r\n|[ \t\r\n\f])?|\\l</code></ins>
          <tr>
            <td><ins>R</ins>
            <td><ins><code>r|\\0{0,4}(52|72)(\r\n|[ \t\r\n\f])?|\\r</code></ins>
          <tr>
            <td><ins>U</ins>
            <td><ins><code>u|\\0{0,4}(55|75)(\r\n|[ \t\r\n\f])?|\\u</code></ins>
        </table>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html">CSS WG 会议记录 2013-01-30。</a>）





    <li id=s.G.2d class=clarification>
      <p><span class=updated>[2013-04-29]</span> URI 词法单元的 u、r 和 l 字母可以写成转义字符（参见<a href="#s.4.1.1a">之前的勘误表</a>）。在 <a
          href="grammar.html#scanner">G.2 “词法扫描器”</a>中更改：

      <blockquote>
        <pre>
baduri1         <del>url</del><ins>{U}{R}{L}</ins>\({w}([!#$%&amp;*-\[\]-~]|{nonascii}|{escape})*{w}
baduri2         <del>url</del><ins>{U}{R}{L}</ins>\({w}{string}{w}
baduri3         <del>url</del><ins>{U}{R}{L}</ins>\({w}{badstring}</pre>
      </blockquote>

      <p>并且

      <blockquote>
        <pre>
<del>"url("</del><ins>{U}{R}{L}"("</ins>{w}{string}{w}")" {return URI;}
<del>"url("</del><ins>{U}{R}{L}"("</ins>{w}{url}{w}")"    {return URI;}</pre>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html">CSS WG 会议记录 2013-01-30。</a>）





    <li id=s.4.1.1b class=change>
      <p><span class=updated>[2013-04-29]</span> 在标识符和 URI 词法单元中可以使用 U+0080 到 U+009F 之间的 Unicode 控制字符。（以前这些字符会使样式表无效。）在
        <a href="syndata.html#tokenization">4.1.1 “词法分析”</a>中更改：

      <blockquote>
        <table>
          <tr>
            <td>nonascii
            <td>[^\0-<del>\237</del><ins>\177</ins>]
        </table>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html">CSS WG 会议记录 2013-01-30。</a>）





    <li id=s.4.1.3d class=change>
      <p><span class=updated>[2013-04-29]</span> 在标识符和 URI 词法单元中可以使用 U+0080 到 U+009F 之间的 Unicode 控制字符。（以前这些字符会使样式表无效。）在
        <a href="syndata.html#characters">4.1.3 “字符和大小写”</a>中更改：

      <blockquote>
        <ul>
          <li>在 CSS 中，<dfn>标识符</dfn>（包括选择器中的元素名称、类和 ID）只能包含字符 [a-zA-Z0-9] 和 ISO 10646 字符 <del>U+00A0</del>
            <ins>U+0080</ins> 及更高的字符，此外还包括连字符 (-) 和下划线 (_);
        </ul>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html">CSS WG 会议记录 2013-01-30。</a>）





    <li id=s.4.4 class=change>
      <p><span class=updated>[2013-05-02]</span> 当根据带外信息确定 CSS 文件采用基于 UTF 的字符编码时，并且文件以<abbr
          title="字节顺序标记">BOM</abbr>开头，则 BOM 决定采用哪种基于 UTF 的编码，覆盖带外信息。在 <a href="syndata.html#charset">4.4 “CSS
          样式表表示”</a>中插入：

      <blockquote>
        <p><ins>如果上述规则 1（如 HTTP “charset” 参数或类似的）得出一种字符编码，并且该编码是 UTF-8、UTF-16 或 UTF-32，则文件开头的
            BOM（如果有的话）会覆盖该字符编码，如下所示：</ins>

        <table>
          <thead>
            <tr>
              <th><ins>前几个字节（十六进制）</ins>
              <th><ins>结果编码</ins>
          <tbody>
            <tr>
              <td><ins>00 00 FE FF</ins>
              <td><ins>UTF-32，大端</ins>
            <tr>
              <td><ins>FF FE 00 00</ins>
              <td><ins>UTF-32，小端</ins>
            <tr>
              <td><ins>FE FF</ins>
              <td><ins>UTF-16，大端</ins>
            <tr>
              <td><ins>FF FE</ins>
              <td><ins>UTF-16，小端</ins>
            <tr>
              <td><ins>EF BB BF</ins>
              <td><ins>UTF-8</ins>
        </table>

        <p><ins>如果规则 1 得出的字符编码是 UTF-16BE、UTF-16LE、UTF-32BE 或 UTF-32LE，那么如果文件以 BOM 开头，这是一个错误。CSS
            用户代理必须通过忽略指定的编码并使用上述表格来恢复。</ins>

        <p class=note><ins>请注意，<a href="refs.html#ref-UNICODE" rel="biblioentry" class="noxref"><span
                class="normref">[UNICODE]</span></a>规范指出，UTF-16BE、UTF-16LE、UTF-32BE 或 UTF-32LE 中文件开头的 BOM 是错误的。</ins>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Oct/0727.html">CSS WG 会议记录 2012-10-24。</a>）





    <li id=s.11.1.1b class=change>
      <p><span class=updated>[2013-07-15]</span> 在<a href="visufx.html#overflow">“11.1.1 溢出：'overflow' 属性”</a>中更改
        'scroll' 和 'auto' 的定义：

      <blockquote>
        <dl>
          <dt><strong>scroll</strong>
          <dd>此值表示内容被裁剪，如果用户代理使用屏幕上可见的滚动机制（例如滚动条或滚动面板），则无论是否裁剪任何内容，都应为框显示该机制。这避免了滚动条在动态环境中出现和消失的问题。当指定此值并且目标介质为 'print'
            时，溢出的内容可能会被打印。<ins>当用于<a href="tables.html#table-box">表格框</a>时，此值的含义与 'visible' 相同。</ins>

          <dt><strong>auto</strong>
          <dd>'auto' 值的行为取决于用户代理，但应为溢出的框提供滚动机制。<ins>当用于<a href="tables.html#table-box">表格框</a>时，此值的含义与 'visible'
              相同。</ins>
        </dl>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0298.html">CSS WG 会议记录 2012-08-08。</a>）





    <li id=s.15.3b class=clarification>
      <p><span class=updated>[2013-07-15]</span> 在<a href="fonts.html#font-family-prop">“15.3 字体系列：'font-family'
          属性”</a>中语法缺少一对括号：

      <blockquote>
        <p>值：[[ &lt;family-name> | &lt;generic-family> ] [,
          <ins>[</ins> &lt;family-name>| &lt;generic-family> ]
          <ins>]</ins>* ] | inherit
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012May/0887.html">CSS WG 会议记录 2012-05-03。</a>）





    <li id=s.G.1a class=change>
      <p><span class=updated>[2013-07-15]</span> 数字、长度或百分比的符号和数字之间不允许有空格和注释。在 <a href="grammar.html#scanner">“G.2
          词法扫描器”</a>中更改 {num} 宏如下：

      <blockquote>
        <pre>num		<ins>[-+]?</ins>[0-9]+|<ins>[-+]?</ins>[0-9]*"."[0-9]+</pre>
      </blockquote>

      <p>在 <a href="grammar.html#grammar">“G.1 语法”</a>中删除 unary_operator：

      <blockquote>
        <pre>
<del>unary_operator
  : '-' | '+'
  ;</del></pre>
      </blockquote>

      <p>并且

      <blockquote>
        <pre>
term
  : <del>unary_operator?</del>
    [ NUMBER S* | PERCENTAGE S* | LENGTH S* | EMS S* | EXS S* | ANGLE S* |
      TIME S* | FREQ S* ]
  | STRING S* | IDENT S* | URI S* | hexcolor | function
  ;</pre>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2012May/0063.html">CSS WG 会议记录 2012-05-02。</a>）





    <li id=s.10.5a class=change>
      <p><span class=updated>[2013-07-18]</span> 即使未使用，高度的百分比值也可以继承。在 <a href="visudet.html#the-height-property">“10.5
          内容高度：'height' 属性”</a>中更改“计算值”一行如下：

      <blockquote>
        <table>
          <tr>
            <td><em>计算值：</em>&nbsp;&nbsp;

            <td>the percentage or 'auto' <del>(参见 <a
                    href="syndata.html#value-def-percentage" class="noxref"><span
                      class="value-inst-percentage">&lt;percentage&gt;</span></a> 下的正文)</del>
              <ins>(如指定)</ins>
        </table>
      </blockquote>

      <p>在 &lt;percentage&gt; 的定义中：

      <blockquote>
        <dl>
          <dt><strong>&lt;percentage&gt;</strong>

          <dd>指定一个百分比高度。该百分比是根据生成的框的<a
              href="visuren.html#containing-block">包含块</a>的高度计算的。如果包含块的高度未明确指定（即，它取决于内容高度），并且此元素不是绝对定位的，<del>该值计算为
              'auto'</del><ins>使用的高度按指定 'auto' 计算</ins>。
        </dl>
      </blockquote>

      <p>（参见 <a href="http://lists.w3.org/Archives/Public/www-style/2013May/0201.html">CSS WG 会议记录 2013-05-08。</a>）






    <li id=s.4.1.1c class=change>
      <p><span class=updated>[2013-09-09]</span> 在 <a href="syndata.html#tokenization">“4.1.1 词法分析”</a>中使 UNICODE-RANGE
        词法单元更加精确：

      <blockquote>
        <table>
          <tr>
            <td>UNICODE-RANGE
            <td><code><del>u\+[0-9a-f?]{1,6}(-[0-9a-f]{1,6})?</del><br>
	  <ins>u\+[?]{1,6}|<br>
	   u\+[0-9a-f]{1}[?]{0,5}|<br>
	   u\+[0-9a-f]{2}[?]{0,4}|<br>
	   u\+[0-9a-f]{3}[?]{0,3}|<br>
	   u\+[0-9a-f]{4}[?]{0,2}|<br>
	   u\+[0-9a-f]{5}[?]{0,1}|<br>
	   u\+[0-9a-f]{6}|<br>
	   u\+[0-9a-f]{1,6}-[0-9a-f]{1,6}</ins></code>
        </table>
      </blockquote>

      <p>例如，“U+A?5” 以前是一个单一的 UNICODE-RANGE 词法单元（尽管它在语义上是没有意义的），现在这是两个词法单元：“U+A?”（表示 16 个字符范围 U+A0-AF）和数字“5”。

      <p>（参见 <a href="https://www.w3.org/mid/5227C33B.9010408@inkedblade.net">CSS WG 会议记录 2013-09-03。</a>）





    <li id=s.9.2a class=clarification>
      <p><span class=updated>[2012-09-19]</span> 修改 <a href="visuren.html#box-gen">“9.2 控制框生成”</a>和 <a
          href="visuren.html#anonymous-block-level">“9.2.1 块级元素和块框”</a>如下：

      <blockquote>
        <p><strong>控制框生成</strong>

        <p>以下部分描述了 CSS 2.1 中可能生成的框类型。框的类型部分影响其在可视化格式化模型中的行为。'display' 属性在下文中描述，指定框的类型。

        <p><ins>'display' 属性的某些值使源文档的元素生成一个<dfn>主框</dfn>，该框包含后代框和生成的内容，并且也是参与任何定位方案的框。一些元素可能会生成除主框之外的其他框：'list-item'
            元素。这些附加框相对于主框放置。</ins>

        <p><strong>9.2.1 块级元素和块框</strong>

        <p><del><dfn>块级元素</dfn>是源文档中在视觉上格式化为块（例如段落）的元素。以下 'display' 属性的值使元素成为块级：'block'、'list-item' 和 'table'。</del>

        <p><ins><dfn>块级元素</dfn>——源文档中在视觉上格式化为块的元素（例如段落）——是生成块级主框的元素。使元素成为块级的 'display' 属性值包括：'block'、'list-item' 和
            'table'。<dfn>块级框</dfn>是参与块格式化上下文的框。</ins>

        <p><del><dfn>块级框</dfn>是参与块格式化上下文的框。每个块级元素生成一个<dfn>主块级框</dfn>，该框包含后代框和生成的内容，并且也是参与任何定位方案的框。一些块级元素可能会生成除主框之外的其他框：'list-item'
            元素。这些附加框相对于主框放置。</del>

        <p><del>除表格框之外，表格框在后面的章节中描述，替换元素除外，</del><ins>在CSS
            2中，</ins>块级框也是块容器框<ins>，除非它是一个表格框或替换元素的主框</ins>。<dfn>块容器框</dfn>要么只包含块级框，要么建立内联格式化上下文，因此只包含内联级框。<ins>主框是块容器框的元素是<dfn>块容器元素。</dfn></ins>使非替换元素生成块容器的
          'display' 属性值包括 'block'、'list-item' 和
          'inline-block'。并非所有块容器框都是块级框：非替换内联块和非替换表格单元格是块容器，但<ins>不是</ins>块级<del>框</del>。同时也是块容器的块级框称为<dfn>块框</dfn>。

        <p>“块级框”、“块容器框”和“块框”这三个术语有时会在不含糊的情况下缩写为“块”。
      </blockquote>






    <li id=s.9.2.4a class=clarification>
      <p><span class=updated>[2012-09-19]</span> 修改 <a href="visuren.html#display-prop">“9.2.4 'display' 属性”</a>如下：

      <blockquote>
        <dl>
          <dt><strong>block</strong>

          <dd>此值使元素生成一个<ins>主</ins>块框。

          <dt><strong>inline-block</strong>

          <dd>此值使元素生成<del>一个</del><ins>一个主</ins>内联级块容器。<ins>(</ins>inline-block 的内部格式化为块框，元素本身格式化为原子内联级框。<ins>)</ins>

        </dl>
      </blockquote>







    <li id=s.17.4b class=clarification>
      <p><span class=updated>[2012-09-19]</span> 修改 <a href="tables.html#model">“17.4 可视化格式模型中的表格”</a>如下：

      <blockquote>
        <p>
          在这两种情况下，表格都会生成一个名为<dfn>表格包装框</dfn>的主块<ins>容器</ins>框，其中包含表格框本身和所有标题框（按文档顺序）。<dfn>表格框</dfn>是一个块级框，包含表格的内部表格框。标题框是<ins>主</ins>块级框，保留它们自己的内容、填充、边距和边框区域，并在表格包装框内按正常块框渲染。标题框放置在表格框之前或之后由
          'caption-side' 属性决定，如下所述。

        <p>表格包装框是<del>当表格是块级时的 'block' 框</del> <ins>'display: table' 时的块级</ins>，<del>当表格是内联级时的 'inline-block' 框</del>
          <ins>'display: inline-table' 时的内联级</ins>。表格包装框建立块格式化上下文，而表格框建立表格格式化上下文。在为 'inline-table'
          做基线垂直对齐时使用的是表格框（而不是表格包装框）。表格包装框的宽度是其内部表格框的边框边缘宽度，如 17.5.2 节所述。表格上的 'width' 和 'height'
          的百分比相对于表格包装框的包含块，而不是表格包装框本身。
      </blockquote>






    <li id=s.4.1.1d class=change>
      <p><span class=updated>[2012-09-19]</span> 为了兼容 SVG，在 <a href="syndata.html#tokenization">“4.1.1 词法分析”</a>中修改 num
        宏的定义如下：

      <blockquote>
        <table>
          <tr>
            <td><del>num</del>
            <td><del><code>[-+]?[0-9]+|[-+]?[0-9]*\.[0-9]+</code></del>
          <tr>
            <td><ins>num</ins>
            <td><ins><code>[+-]?([0-9]+|[0-9]*\.[0-9]+)(e[+-]?[0-9]+)?</code></ins>
        </table>
      </blockquote>






    <li id=s.14.2 class=change>
      <p><span class=updated>[2014-07-16]</span> 画布的背景不能从使用 'display: none' 抑制的元素中获取。另一方面，如果元素仅不可见（'visibility:
        hidden'），其背景仍可用于画布。换句话说，如果根元素具有 'display: none'，则画布的背景是未定义的。在 (X)HTML 文档的情况下，如果根元素具有 'background: transparent' 且
        &lt;body&gt; 元素具有 'display: none'，则画布的背景同样是未定义的。在 <a href="colors.html#background">“14.2 背景”</a>中更改如下内容：

      <blockquote>
        <p>[&hellip;] 这些背景还必须锚定在与仅为根元素绘制它们时相同的位置。

        <p><ins>但是，如果没有为将用于画布背景的元素生成框，则画布背景是透明的。（在 CSS 2 中，当元素或其祖先具有 'display: none' 时就是这种情况。）</ins>

        <p><ins>请注意，如果元素具有 'visibility: hidden' 而不是 'display: none'，则为其生成框，并且其背景用于画布。</ins>
      </blockquote>




    <li id=s.9.9.1 class=change>
      <p><span class=updated>[2015-07-01]</span> 具有 'position: fixed' 的元素<em>始终</em>建立一个新的层叠上下文。（这与 'position: absolute'
        不同，在 'z-index' 决定元素是否建立层叠上下文。）

      <p>在 <a href="visuren.html#z-index">“9.9.1 指定堆叠层次：'z-index' 属性”</a>中更改 'auto' 的定义如下：

      <blockquote>
        <dl>
          <dt><strong>auto</strong>
          <dd>生成框在当前层叠上下文中的堆叠层次为 0。<del>除非它是根元素，否则该框不会建立新的层叠上下文。</del> <ins>如果框具有 'position: fixed'
              或者它是根元素，它还会建立一个新的层叠上下文。</ins>
        </dl>
      </blockquote>






    <li id=s.4.1.1e class=change>
      <p><span class=updated>[2015-09-05]</span> 当格式错误的声明的开头符合 at-rule
        的语法时，格式错误的声明的处理方式有所不同。在这种情况下，解析不会在下一个分号或封闭块的右大括号处恢复，而是立即在该 at-rule 之后恢复。这通过将 at-rule 添加到规则集的核心语法中来表达，如下所示。

      <p>在 <a href="syndata.html#tokenization">“4.1.1 词法分析”</a>中更改 ruleset 的生成规则如下：

      <blockquote>
        <pre>
<del>ruleset     : selector? '{' S* declaration? [ ';' S* declaration? ]* '}' S*;</del>
<ins>ruleset     : selector? '{' S* declaration-list '}' S*;
declaration-list: declaration [ ';' S* declaration-list ]?
              | at-rule declaration-list
              | /* empty */;</ins></pre>
      </blockquote>

      <p>在 <a href="syndata.html#rule-sets">“4.1.7 规则集、声明块和选择器”</a>中更改第二段如下：

      <blockquote>
        <p>声明块以左大括号（{）开始，并以匹配的右大括号（}）结束。中间必须有零个或多个<del>以分号分隔的（;）声明</del><ins>声明和
            at-rule。声明必须以分号（;）结束，除非它们是列表中的最后一项。</ins>

        <p class=note><ins>注意：CSS Level 2 没有可以出现在规则集中的 at-rule，但此类 at-rule 可能会在将来的版本中定义。</ins>
      </blockquote>

      <p>在 <a href="syndata.html#parsing-errors">“4.2 处理解析错误的规则”</a>中更改格式错误的声明规则如下：

      <blockquote>
        <ul>
          <li>
            <p><strong>格式错误的声明。</strong> 用户代理必须通过读取声明的结尾来处理在解析声明时遇到的意外标记，同时遵循匹配 ()、[]、{}、"" 和 ''
              的规则，并正确处理转义。例如，格式错误的声明可能缺少属性名称、冒号 (:) 或属性值。

            <p><ins>当用户代理期望声明或 at-rule 的开始（即 IDENT 词法单元或 ATKEYWORD
                词法单元），但发现意外的词法单元时，该词法单元被视为格式错误的声明的第一个词法单元。即，在这种情况下，使用格式错误的声明规则，而不是格式错误的语句规则来确定要忽略哪些词法单元。</ins>

            <p>以下内容均等效：

            <pre class=example>
<code>p { color:green }
<ins>p { @foo { bar: baz } color:green }  /* 未知 at-rule */</ins>
p { color:green; color }  /* 格式错误的声明缺少“：”和值 */
p { color:red;   color; color:green }  /* 相同的预期恢复 */
p { color:green; color: } /* 格式错误的声明缺少值 */
p { color:red;   color:; color:green } /* 相同的预期恢复 */
p { color:green; color{;color:maroon} } /* 意外的标记 { } */
	 p { color:red;   color{;color:maroon}; color:green } /* 相同的恢复 */</code></pre>
          </li>
        </ul>
      </blockquote>

      <p>最后，在 <a href="page.html#page-box">“13.2 页面框：@page 规则”</a>中删除以下现在已多余的文本：

      <blockquote>
        <p><del>在 @page 内处理格式错误的声明、格式错误的语句和无效的 at-rule 的规则如 <a href="syndata.html#parsing-errors">第 4.2
              节</a>中定义，附加如下：当用户代理期望声明或 at-rule 的开始（即 IDENT 词法单元或 ATKEYWORD
            词法单元），但发现意外的词法单元时，该词法单元被视为格式错误的声明的第一个词法单元。即，在这种情况下，使用格式错误的声明规则，而不是格式错误的语句规则来确定要忽略哪些词法单元。</del>
      </blockquote>





  </ul>

  <hr class="navbar">

  <div class="navbar">
    <p><a href="refs.html">上一页</a> &nbsp;
      <a href="sample.html">下一页</a> &nbsp;
      <a href="index.html#minitoc">内容</a> &nbsp;
      <a href="propidx.html">属性</a> &nbsp;
      <a href="indexlist.html">索引</a> &nbsp;
  </div>
  <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
</body>

</HTML>