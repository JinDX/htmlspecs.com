<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 溢出模块 第 5 级</title>
    <meta content="ED" name="w3c-status">
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
    <meta content="Bikeshed version 3febb7930, updated Tue Oct 15 11:33:47 2024 -0700" name="generator">
    <link href="https://drafts.csswg.org/css-overflow-5/" rel="canonical">
    <link href="https://drafts.csswg.org/csslogo.ico" rel="icon">
    <meta content="6917bc3608d59a54ddc22837c61cc68e2fca088e" name="revision">
    <meta content="dark light" name="color-scheme">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">
    <style>
        table.source-demo-pair {
            width: 100%;
        }

        .in-cards-demo {
            width: 13em;
            height: 8em;

            padding: 4px;
            border: medium solid blue;
            margin: 6px;

            font: medium/1.3 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .bouncy-columns-demo {
            width: 6em;
            height: 10em;
            float: left;
            margin: 1em;
            font: medium/1.25 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .bouncy-columns-demo.one {
            background: aqua;
            color: black;
            transform: rotate(-3deg);
        }

        .bouncy-columns-demo.two {
            background: yellow;
            color: black;
            transform: rotate(3deg);
        }

        .article-font-inherit-demo {
            font: 1em/1.25 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .article-font-inherit-demo.one {
            width: 12em;
            font-size: 1.5em;
            margin-bottom: 1em;
            height: 4em;
        }

        .article-font-inherit-demo.two {
            width: 11em;
            margin-left: 5em;
            margin-right: 2em;
        }

        .dark-columns-demo {
            width: 6em;
            height: 10em;
            float: left;
            margin-right: 1em;
            font: medium/1.25 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .dark-columns-demo.one {
            background: aqua;
            color: black;
        }

        .dark-columns-demo.one :link {
            color: blue;
        }

        .dark-columns-demo.one :visited {
            color: purple;
        }

        .dark-columns-demo.two {
            background: navy;
            color: white;
        }

        .dark-columns-demo.two :link {
            color: aqua;
        }

        .dark-columns-demo.two :visited {
            color: fuchsia;
        }

        .article-max-lines-demo {
            font: 1em/1.25 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .article-max-lines-demo.one::first-letter {
            font-size: 2em;
            line-height: 0.9;
        }

        .article-max-lines-demo.one {
            font-size: 1.5em;
            width: 16em;
        }

        .article-max-lines-demo.two {
            width: 11.5em;
            float: left;
            margin-right: 1em;
        }

        .article-max-lines-demo.three {
            width: 11.5em;
            float: left;
        }

        .awesome-table td {
            padding: 5px;
        }

        .awesome-table {
            color: #000;
            background: #fff;
            margin: auto;
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS 溢出模块 第 5 级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">编辑草案</a>, <time class="dt-updated"
                datetime="2024-07-30">2024年7月30日</time></p>
        <details open>
            <summary>有关此文档的更多详细信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本：
                    <dd><a class="u-url"
                            href="https://drafts.csswg.org/css-overflow-5/">https://drafts.csswg.org/css-overflow-5/</a>
                    <dt>问题跟踪：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-overflow-5">CSSWG 问题存储库</a>
                    <dd><a href="#issues-index">规范中的内联问题</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="43241"><a class="p-name fn u-url url"
                            href="http://florian.rivoal.net/">Florian Rivoal</a> (<span class="p-org org">代表
                            Bloomberg</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url"
                            href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span
                            class="p-org org">Apple</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="98451"><a class="p-name fn u-email email"
                            href="mailto:flackr@google.com">Robert Flack</a> (<span class="p-org org">Google</span>)
                    <dt>建议为此规范编辑：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-overflow-5/Overview.bs">GitHub
                            编辑器</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2024 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="标题部分的分隔符">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>此模块包含与视觉媒体中可滚动溢出处理相关的 CSS 功能。
            它建立在 <a href="https://www.w3.org/TR/css-overflow-4/">CSS 溢出模块 第 4 级</a> 之上，
            增加了一个附录，其中包含关于<a href="#fragmentation">通过分段重定向溢出</a>的实验性探索。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（如 HTML 和 XML）
        在屏幕、纸张等上呈现的语言。
        <script>
            const githubPrefix = "https://w3c.github.io/csswg-drafts/";
            if (location.href.slice(0, githubPrefix.length) == githubPrefix) {
                const suffix = location.href.slice(githubPrefix.length);
                const draftUrl = "https://drafts.csswg.org/" + suffix;
                window.location.replace(draftUrl);
            }
        </script>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">此文档的状态</span></h2>
    <div data-fill-with="status">
        <p> 这是编辑草案的公开副本。
            仅供讨论之用，可能随时更改。
            在此发布并不意味着 W3C 对其内容的认可。
            除非作为进行中的工作，不要引用此文档。 </p>
        <p>请通过 <a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 中提交问题</a>（优选方式）
            提供反馈，并在标题中包含规范代码“css-overflow”，例如：
            “[css-overflow] <i>…评论摘要…</i>”。
            所有问题和评论都会被 <a href="https://lists.w3.org/Archives/Public/public-css-archive/">存档</a>。
            或者，反馈可以发送到 (<a href="https://lists.w3.org/Archives/Public/www-style/">存档</a>) 公共邮件列表 <a
                href="mailto:www-style@w3.org?Subject=%5Bcss-overflow%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。
        </p>
        <p>此文档受 <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">2023年11月03日 W3C
                过程文档</a> 规范管辖。 </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content"> 介绍</span></a>
            <li>
                <a href="#scroll-marker-group"><span class="secno">2</span> <span class="content"> 溢出控制：
                        <span class="property">scroll-marker-group</span> 属性和伪元素</span></a>
                <ol class="toc">
                    <li><a href="#scroll-marker-group-pseudo"><span class="secno">2.1</span> <span class="content"><span
                                    class="css">::scroll-marker-group</span> 伪元素</span></a>
                    <li><a href="#scroll-marker-pseudo"><span class="secno">2.2</span> <span class="content"><span
                                    class="css">::scroll-marker</span> 伪元素</span></a>
                </ol>
            <li>
                <a href="#fragmentation"><span class="secno"></span> <span class="content"> 附录 A: 溢出的重定向</span></a>
                <ol class="toc">
                    <li><a href="#channelling-overflow"><span class="secno"></span> <span class="content"> 溢出的引导：
                                <span class="property">continue</span> 属性</span></a>
                    <li><a href="#paginated-overflow"><span class="secno"></span> <span class="content"> 分页溢出</span></a>
                    <li><a href="#fragment-overflow"><span class="secno"></span> <span class="content"> 片段化溢出</span></a>
                    <li>
                        <a href="#fragment-styling"><span class="secno"></span> <span class="content">碎片样式</span></a>
                        <ol class="toc">
                            <li><a href="#fragment-pseudo-element"><span class="secno"></span> <span
                                        class="content"><span class="css">::nth-fragment()</span> 伪元素</span></a>
                            <li><a href="#style-of-fragments"><span class="secno"></span> <span
                                        class="content">碎片样式</span></a>
                            <li><a href="#style-in-fragments"><span class="secno"></span> <span
                                        class="content">片段中的样式</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#scroll-navigation"><span class="secno"></span> <span class="content"> 附录 B: 滚动导航控制</span></a>
                <ol class="toc">
                    <li>
                        <a href="#scroll-target"><span class="secno"></span> <span class="content"><code
                                    class="idl"><span>scrollTargetElement</span></code> 属性</span></a>
                        <ol class="toc">
                            <li><a href="#scroll-container-scroll"><span class="secno"></span> <span
                                        class="content">滚动跟踪</span></a>
                            <li><a href="#scroll-target-focus"><span class="secno"></span> <span
                                        class="content">焦点行为</span></a>
                        </ol>
                </ol>
            <li><a href="#privclass=nonum"><span class="secno"></span> <span class="content"> 附录 C: 隐私考虑</span></a>
            <li>
                <a href="#sec"><span class="secno"></span> <span class="content"> 附录 D: 安全性考虑</span></a>
                <ol class="toc">
                    <li><a href="#changes-l4"><span class="secno"></span> <span class="content"> 自 Level 4
                                以来的更改</span></a>
                </ol>
            <li><a href="#acknowledgments"><span class="secno"></span> <span class="content"> 致谢</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> 一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> 文档约定</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                一致性类别</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content"> 部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content"> 不稳定和专有特性的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> 非实验性实现</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">通过引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考性引用</span></a>
                </ol>
            <li><a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">
                介绍</span><a class="self-link" href="#intro"></a></h2>
        <p>此规范扩展了 <a data-link-type="biblio" href="#biblio-css-overflow-4"
                title="CSS Overflow Module Level 4">[CSS-OVERFLOW-4]</a>。</p>
        <dl>
            <dt data-md><a href="#scroll-marker-group">滚动标记组</a>
            <dd data-md>
                <p>本节定义了用于自动构建的伪元素 <a href="#scroll-navigation">滚动导航控制</a>。</p>
            <dt data-md><a href="#fragmentation">溢出的重定向</a>
            <dd data-md>
                <p>本节定义了一种高度实验性、探索性的新模型，用于通过将溢出重定向到新生成的 <a data-link-type="dfn"
                        href="https://drafts.csswg.org/css-break-4/#fragmentation-container"
                        id="ref-for-fragmentation-container">分片容器</a> 来处理溢出。</p>
            <dt data-md><a href="#scroll-navigation">滚动导航控制</a>
            <dd data-md>
                <p>本节定义了具有用户交互和可访问标签的可样式化滚动导航控制。</p>
        </dl>
        <p class="note" role="note"><span class="marker">注意：</span> 在编写本文时，<a data-link-type="biblio"
                href="#biblio-css-overflow-4" title="CSS Overflow Module Level 4">[CSS-OVERFLOW-4]</a>
            尚未完全定稿。为了避免意外的分歧和维护开销，本规范作为 css-overflow Level 4 的增量规范编写。一旦第 4 级规范最终确定，其内容将整合到本规范中，并最终替代它。在此之前，本规范仅包含对第 4
            级的补充和扩展。</p>
        <h2 class="heading settled" data-level="2" id="scroll-marker-group"><span class="secno">2. </span><span
                class="content"> 溢出控制：<a class="property css" data-link-type="property"
                    href="#propdef-scroll-marker-group" id="ref-for-propdef-scroll-marker-group">scroll-marker-group</a>
                属性和伪元素</span><a class="self-link" href="#scroll-marker-group"></a></h2>
        <table class="def propdef" data-link-for-hint="scroll-marker-group">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-scroll-marker-group">scroll-marker-group</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值:</a>
                    <td class="prod">none <a data-link-type="grammar"
                            href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> before
                        <span id="ref-for-comb-one①">|</span> after
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值:</a>
                    <td>none
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于:</a>
                    <td><a data-link-type="dfn" href="https://drafts.csswg.org/css-overflow-3/#scroll-container"
                            id="ref-for-scroll-container">滚动容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">继承:</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比:</a>
                    <td>不适用
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值:</a>
                    <td>指定值
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序:</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型:</a>
                    <td>离散
            </tbody>
        </table>
        <p><a class="property css" data-link-type="property" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group①">scroll-marker-group</a> 属性指定 <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-overflow-3/#scroll-container" id="ref-for-scroll-container①">滚动容器</a>
            是否应创建一个 '::scroll-marker-group' 伪元素，以及其相对于滚动容器的位置。</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="scroll-marker-group" data-dfn-type="value" data-export
                    id="valdef-scroll-marker-group-none">none</dfn>
            <dd> <a data-link-type="dfn" href="https://drafts.csswg.org/css-overflow-3/#scroll-container"
                    id="ref-for-scroll-container②">滚动容器</a> 不创建 '::scroll-marker-group' 伪元素。
            <dt><dfn class="dfn-paneled css" data-dfn-for="scroll-marker-group" data-dfn-type="value" data-export
                    id="valdef-scroll-marker-group-before">before</dfn>
            <dd> <a data-link-type="dfn" href="https://drafts.csswg.org/css-overflow-3/#scroll-container"
                    id="ref-for-scroll-container③">滚动容器</a> 生成一个 <a class="css" data-link-type="maybe"
                    href="#selectordef-scroll-marker-group"
                    id="ref-for-selectordef-scroll-marker-group">::scroll-marker-group</a> 伪元素，其框为其 <a
                    data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#originating-element"
                    id="ref-for-originating-element">源元素</a> 的直接前置兄弟节点。
            <dt><dfn class="dfn-paneled css" data-dfn-for="scroll-marker-group" data-dfn-type="value" data-export
                    id="valdef-scroll-marker-group-after">after</dfn>
            <dd> <a data-link-type="dfn" href="https://drafts.csswg.org/css-overflow-3/#scroll-container"
                    id="ref-for-scroll-container④">滚动容器</a> 生成一个 <a class="css" data-link-type="maybe"
                    href="#selectordef-scroll-marker-group"
                    id="ref-for-selectordef-scroll-marker-group①">::scroll-marker-group</a> 伪元素，其框为其 <a
                    data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#originating-element"
                    id="ref-for-originating-element①">源元素</a> 的直接后置兄弟节点。
        </dl>
        <h3 class="heading settled" data-level="2.1" id="scroll-marker-group-pseudo"><span class="secno">2.1.
            </span><span class="content"> <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker-group"
                    id="ref-for-selectordef-scroll-marker-group②">::scroll-marker-group</a> 伪元素</span><a
                class="self-link" href="#scroll-marker-group-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-scroll-marker-group">::scroll-marker-group</dfn> 伪元素框由具有计算属性 <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-overflow-3/#scroll-container" id="ref-for-scroll-container⑤">滚动容器</a>
            元素生成，其 <a class="property css" data-link-type="property" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group②">scroll-marker-group</a> 属性的值不为 <a class="property css"
                data-link-type="property">none</a>，表示紧邻 <span id="ref-for-scroll-container⑥">滚动容器</span> 的一个可样式化的兄弟伪元素。
        </p>
        <p>以下建议的 UA 样式表默认设置，确保滚动标记伪元素的生成不会使站点的布局无效：</p>
        <pre class="lang-css highlight"><c- c>/* ::scroll-marker 伪元素的生成不能使此伪元素外的布局无效。 */</c->
::scroll-marker-group <c- p>{</c-> <c- k>contain</c-><c- p>:</c-> size !important<c- p>;</c-> <c- p>}</c->
</pre>
        <p><a class="property css" data-link-type="property" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group③">scroll-marker-group</a> 隐式表现为一个可聚焦的组件，建立了 <a
                href="https://open-ui.org/components/focusgroup.explainer/">focusgroup</a>。</p>
        <h3 class="heading settled" data-level="2.2" id="scroll-marker-pseudo"><span class="secno">2.2. </span><span
                class="content"><a class="css" data-link-type="maybe" href="#selectordef-scroll-marker"
                    id="ref-for-selectordef-scroll-marker">::scroll-marker</a> 伪元素</span><a class="self-link"
                href="#scroll-marker-pseudo"></a></h3>
        <p>当 <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-scroll-marker">::scroll-marker</dfn> 伪元素的计算 <a class="property css"
                data-link-type="property" href="https://drafts.csswg.org/css-content-3/#propdef-content"
                id="ref-for-propdef-content">content</a> 属性的值不是 <a class="property css"
                data-link-type="property">none</a> 且其最近的祖先 <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-overflow-3/#scroll-container" id="ref-for-scroll-container⑦">滚动容器</a>
            的计算属性 <a class="property css" data-link-type="property" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group④">scroll-marker-group</a> 也不是 <span class="property">none</span>
            时，伪元素会生成一个附加到最近祖先的 <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker-group"
                id="ref-for-selectordef-scroll-marker-group③">::scroll-marker-group</a> 伪元素生成框的子框。这些框按照其 <a
                data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#originating-element"
                id="ref-for-originating-element②">源元素</a> 的 <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-tree-order" id="ref-for-concept-tree-order">树顺序</a> 添加。</p>
        <p>这些伪元素的 <code
                class="idl"><a data-link-type="idl" href="#dom-htmllinkelement-scrolltargetelement" id="ref-for-dom-htmllinkelement-scrolltargetelement">scrollTargetElement</a></code>
            设置为其 <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#originating-element"
                id="ref-for-originating-element③">源元素</a>。它们的 <a
                href="https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex"><code>tabindex</code></a> 为
            <a class="property css" data-link-type="property">-1</a>，使它们在 '::scroll-marker-group'
            内可以通过箭头键导航聚焦，或者在当前活动或组内没有其他 <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker"
                id="ref-for-selectordef-scroll-marker①">::scroll-marker</a> 处于活动状态时，可以通过 Tab 键进行聚焦，确保组内有一个 <a
                href="https://open-ui.org/components/focusgroup.explainer/#guaranteed-tab-stop">保证的 Tab 停靠点</a>。
        </p>
        <h2 class="no-num heading settled" id="fragmentation"><span class="content">附录A：溢出的重定向</span><a
                class="self-link" href="#fragmentation"></a></h2>
        <p class="issue" id="issue-3406e15b"><a class="self-link" href="#issue-3406e15b"></a> 本节高度实验性。
            记录了扩展 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue">continue</a> 属性功能以解决其他用例的当前尝试。
            然而，目前尚未达成共识。
            此处呈现是为了鼓励讨论，但不推荐进行非实验性的实现。</p>
        <p>在 CSS Level 1 <a data-link-type="biblio" href="#biblio-css1"
                title="Cascading Style Sheets, level 1">[CSS1]</a> 中，将超出指定大小的内容放置在元素内通常被视为编写错误。
            这样做会导致内容超出元素的边界，可能会导致该内容与其他元素重叠。</p>
        <p>CSS Level 2 <a data-link-type="biblio" href="#biblio-css2"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a> 引入了 <a
                class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow"
                id="ref-for-propdef-overflow">overflow</a> 属性，
            允许作者通过滚动处理溢出，这意味着这不再是一个编写错误。
            它还允许作者指定溢出通过裁剪处理，当作者的意图是内容不应显示时，这种处理方式是合理的。
            这在 CSS 溢出模块 Level 3 <a data-link-type="biblio" href="#biblio-css-overflow-3"
                title="CSS Overflow Module Level 3">[CSS-OVERFLOW-3]</a> 中得到了进一步完善。</p>
        <p>然而，滚动并不是呈现大量内容的唯一方式，也可能不是最佳方式。
            毕竟，书籍取代了卷轴，成为大型书写作品的常见形式，因为它具有优势。</p>
        <p>本规范为网页引入了一种机制，指定页面的某个元素应通过分页而不是滚动来处理溢出。</p>
        <p>本规范还将溢出的概念向另一个方向扩展。
            作者不再需要指定一个单一区域供元素内容流入，而是可以指定多个片段，每个片段都有自己的尺寸和样式，
            以便元素的内容可以从一个片段流向下一个片段，使用所需的任意数量的片段来放置内容而不会溢出。</p>
        <p>在这两种情况下，实现都必须在块进程方向上分割内容。
            实现方法描述在 CSS 分割模块 <a data-link-type="biblio" href="#biblio-css-break-3"
                title="CSS Fragmentation Module Level 3">[CSS-BREAK-3]</a> 中。</p>
        <h3 class="heading settled" id="channelling-overflow"><span class="content">溢出的引导：<a class="property css"
                    data-link-type="property" href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                    id="ref-for-propdef-continue①">continue</a> 属性</span><a class="self-link"
                href="#channelling-overflow"></a></h3>
        <p><a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue②">continue</a> 属性使作者能够请求将不适合元素内的内容进行分割（参见 <a data-link-type="biblio"
                href="#biblio-css-break-3" title="CSS Fragmentation Module Level 3">[CSS-BREAK-3]</a>），并提供剩余内容应该继续的替代位置。
        </p>
        <p>值得注意的是，该属性解释了传统分页，并进一步扩展了它。</p>
        <table class="def propdef partial" data-link-for-hint="continue">
            <tbody>
                <tr>
                    <th>名称：
                    <td><a class="css" data-link-type="property"
                            href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                            id="ref-for-propdef-continue③">continue</a>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">新值：</a>
                    <td class="prod">overflow <a data-link-type="grammar"
                            href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> paginate
                        <span id="ref-for-comb-one③">|</span> fragments
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值：</a>
                    <td>auto
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于：</a>
                    <td>块容器 <a data-link-type="biblio" href="#biblio-css2"
                            title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>，弹性容器 <a
                            data-link-type="biblio" href="#biblio-css3-flexbox"
                            title="CSS Flexible Box Layout Module Level 1">[CSS3-FLEXBOX]</a>，以及网格容器 <a
                            data-link-type="biblio" href="#biblio-css3-grid-layout"
                            title="CSS Grid Layout Module Level 1">[CSS3-GRID-LAYOUT]</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">是否继承：</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比：</a>
                    <td>N/A
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值：</a>
                    <td>见下方
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型：</a>
                    <td>离散
        </table>
        <p class="issue" id="issue-70dec9cf"><a class="self-link" href="#issue-70dec9cf"></a> 该属性及其值的命名为初步命名。
            最初在 <a
                href="https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html">https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html</a>
            中被提议为 "fragmentation: auto | none | break | clone | page"，
            目前尚未广泛达成哪种命名更好的共识。</p>
        <p class="issue" id="issue-b201bbf9"><a class="self-link" href="#issue-b201bbf9"></a> 该属性旨在概括并取代 <a
                class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-regions-1/#propdef-region-fragment"
                id="ref-for-propdef-region-fragment">region-fragment</a>。
            一旦在本规范中足够稳定，<span class="property" id="ref-for-propdef-region-fragment①">region-fragment</span> 应从 regions
            规范中删除以支持此属性。</p>
        <p class="note" role="note"><span class="marker">注意：</span> <a class="css" data-link-type="propdesc"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue④">continue: fragments</a> 替代了该规范早期版本中的 "overflow:fragments"，而 <span
                class="css" id="ref-for-propdef-continue⑤">continue: paginate</span> 替代了 "overflow: paged-x | paged-y |
            paged-x-controls | paged-y-controls"</p>
        <dl>
            <dt>auto
            <dd>
                <a class="css" data-link-type="maybe"
                    href="https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto"
                    id="ref-for-valdef-continue-auto">auto</a> 只能作为计算值出现在
                当元素是一个 <a data-link-type="dfn" href="https://drafts.csswg.org/css-regions-1/#css-region"
                    id="ref-for-css-region">CSS 区域</a>，且不是 <a data-link-type="dfn"
                    href="https://drafts.csswg.org/css-regions-1/#region-chain"
                    id="ref-for-region-chain">区域链</a>中的最后一个时。
                无法适应的内容将被推送到区域链中的下一个区域。
                <p>在所有其他情况下，<a class="css" data-link-type="maybe"
                        href="https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto"
                        id="ref-for-valdef-continue-auto①">auto</a> 计算为其他值之一。</p>
                <p class="issue" id="issue-cb5399d1"><a class="self-link" href="#issue-cb5399d1"></a> 这与 <a
                        href="https://drafts.csswg.org/css-overflow-4/#continue"><cite>CSS Overflow 4</cite> § 5.3
                        溢出的分割：continue 属性</a>中的定义不同，
                    其中指定值即为计算值。哪种模型更好？</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="continue" data-dfn-type="value" data-export
                    id="valdef-continue-overflow">overflow</dfn>
            <dd>不适合的内容会根据 <a class="property css" data-link-type="property"
                    href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow"
                    id="ref-for-propdef-overflow①">overflow</a> 属性溢出。
            <dt><dfn class="dfn-paneled css" data-dfn-for="continue" data-dfn-type="value" data-export
                    id="valdef-continue-paginate">paginate</dfn>
            <dd> 不适合的内容将分页显示。
                这在元素内部创建一个分页视图，类似于 'overflow: scroll' 创建可滚动视图。
                <p>参见 <a href="#paginated-overflow">分页溢出</a></p>
                <p class="note" role="note"><span class="marker">注意：</span> 打印的效果等同于在根元素上设置 "continue: paginate"。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="continue" data-dfn-type="value" data-export
                    id="valdef-continue-fragments">fragments</dfn>
            <dd> 不适合的内容将导致元素复制自身并继续布局。
                <p>参见 <a href="#fragment-overflow">片段溢出</a>。</p>
        </dl>
        <p>对于给定的元素或伪元素，其 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue⑥">continue</a> 属性的计算值如下确定：</p>
        <ol>
            <li>在具有 <a data-link-type="dfn" href="https://drafts.csswg.org/css-contain-2/#layout-containment"
                    id="ref-for-layout-containment">布局包含</a>（参见 <a data-link-type="biblio" href="#biblio-css-contain-1"
                    title="CSS Containment Module Level 1">[CSS-CONTAIN-1]</a>）的元素或伪元素上，
                如果指定的值是 <a class="css" data-link-type="maybe"
                    href="https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto"
                    id="ref-for-valdef-continue-auto②">auto</a> 或 <a class="css" data-link-type="maybe"
                    href="#valdef-continue-fragments" id="ref-for-valdef-continue-fragments">fragments</a>，则计算值为 <a
                    class="css" data-link-type="maybe" href="#valdef-continue-overflow"
                    id="ref-for-valdef-continue-overflow">overflow</a>。
            <li>
                否则，如果指定的值是 <a class="css" data-link-type="maybe"
                    href="https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto"
                    id="ref-for-valdef-continue-auto③">auto</a>
                <ol>
                    <li>在 <a data-link-type="dfn" href="https://drafts.csswg.org/css-regions-1/#css-region"
                            id="ref-for-css-region①">CSS 区域</a>中，且不是 <a data-link-type="dfn"
                            href="https://drafts.csswg.org/css-regions-1/#region-chain"
                            id="ref-for-region-chain①">区域链</a>中的最后一个，
                        计算值为 <a class="css" data-link-type="maybe"
                            href="https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto"
                            id="ref-for-valdef-continue-auto④">auto</a>。
                    <li>在页面上，计算值为 <a class="css" data-link-type="maybe" href="#valdef-continue-paginate"
                            id="ref-for-valdef-continue-paginate">paginate</a>。
                    <li>在 <a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box">片段盒子</a>上，计算值为 <a
                            class="css" data-link-type="maybe" href="#valdef-continue-fragments"
                            id="ref-for-valdef-continue-fragments①">fragments</a>。
                    <li>否则，计算值为 <a class="css" data-link-type="maybe" href="#valdef-continue-overflow"
                            id="ref-for-valdef-continue-overflow①">overflow</a>。
                </ol>
            <li>
                否则，如果指定的值是 <a class="css" data-link-type="maybe" href="#valdef-continue-fragments"
                    id="ref-for-valdef-continue-fragments②">fragments</a>
                <ol>
                    <li>在页面上，计算值为 <a class="css" data-link-type="maybe" href="#valdef-continue-paginate"
                            id="ref-for-valdef-continue-paginate①">paginate</a>。
                    <li>否则，计算值为指定的值。
                </ol>
            <li>在所有其他情况下，计算值为指定的值。
        </ol>
        <p class="issue" id="issue-7e96806f"><a class="self-link" href="#issue-7e96806f"></a> 如果我们引入一个伪元素来选择多列中的列，我们需要指定
            auto 在其上计算为 auto，或者引入一个新值并让 auto 计算为该值（但该值在非列的元素上将如何计算？）。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 关于导致此属性的背景讨论，请参阅这些讨论线程：<a
                href="http://lists.w3.org/Archives/Public/www-style/2012May/1197.html">关于 overflow、overflow-x、overflow-y
                和 overflow-style 的讨论</a>，以及 <a
                href="https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html">关于分割属性的提案</a></p>
        <h3 class="heading settled" id="paginated-overflow"><span class="content">分页溢出</span><a class="self-link"
                href="#paginated-overflow"></a></h3>
        <p>本节介绍并定义了 <a class="css" data-link-type="maybe" href="#valdef-continue-paginate"
                id="ref-for-valdef-continue-paginate②">paginate</a> 值的 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue⑦">continue</a> 属性的含义。</p>
        <p class="issue" id="issue-001d5014"><a class="self-link" href="#issue-001d5014"></a> 撰写本节内容。</p>
        <p class="issue" id="issue-338ad0f3"><a class="self-link" href="#issue-338ad0f3"></a> 页面应该能够使用 @page
            规则进行样式化。对于嵌套页面，这如何工作？</p>
        <div class="issue" id="issue-20e2f78e">
            <a class="self-link" href="#issue-20e2f78e"></a> 传统分页（例如打印时）是否应通过在计算值中使用某些魔法实现
            <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto"
                id="ref-for-valdef-continue-auto⑤">auto</a>，
            还是通过将以下内容插入 UA 样式表中实现：
            <pre><code class="lang-css highlight"><c- n>@media</c-> <c- p>(</c->overflow-block: paged<c- p>),</c-> <c- p>(</c->overflow-block: optional-paged<c- p>)</c-> <c- p>{</c->
  :root <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> paginate<c- p>;</c->
  <c- p>}</c->
<c- p>}</c->
</code></pre>
        </div>
        <p class="issue" id="issue-87a37458"><a class="self-link" href="#issue-87a37458"></a> 传统分页（例如打印时）假定
            :root 包含在页面框中，而不是页面框是 :root 的伪元素子元素。我们能否使用类似片段框的方法来解决这个问题？
            或者通过在页面框内放置一个片段框（复制 :root）来解决？</p>
        <p class="issue" id="issue-64583cf9"><a class="self-link" href="#issue-64583cf9"></a> 当页面框是常规 CSS
            框的子元素时，页面框模型如何工作？</p>
        <p class="issue" id="issue-c27ed5ea"><a class="self-link" href="#issue-c27ed5ea"></a> 初始提案在 <a
                data-link-type="biblio" href="#biblio-css3gcpm"
                title="CSS Generated Content for Paged Media Module">[CSS3GCPM]</a> 中提出，并由 Opera 实现，使用了 4 个值而不是 <a
                class="css" data-link-type="maybe" href="#valdef-continue-paginate"
                id="ref-for-valdef-continue-paginate③">paginate</a>：
            "paged-x | paged-y | paged-x-controls | paged-y-controls"。
            此属性是否也应包含这些值，还是它们更适合作为单独的属性处理？
            （例如："pagination-layout: auto | horizontal | vertical"，"pagination-controls: auto | none"）</p>
        <p class="issue" id="issue-e78fc89d"><a class="self-link" href="#issue-e78fc89d"></a> 能够一次显示 N 页，而不是一次只显示一页的能力？
            这是否可以作为 "pagination-layout" 的一个值，例如："pagination-layout: horizontal 2;"</p>
        <p class="issue" id="issue-299c8af8"><a class="self-link" href="#issue-299c8af8"></a> Brad Kemper
            提出了一个结合分页和片段溢出的模型，这也涉及显示多个页面。
            <a
                href="http://www.w3.org/mid/FF1704C5-D5C1-4D6F-A99D-0DD094036685@gmail.com">http://www.w3.org/mid/FF1704C5-D5C1-4D6F-A99D-0DD094036685@gmail.com</a>
        </p>
        <p class="issue" id="issue-6bc0b289"><a class="self-link" href="#issue-6bc0b289"></a> 分页溢出的当前实现使用的是
            overflow/overflow-x/overflow-y 属性，
            而不是 <a data-link-type="biblio" href="#biblio-css3gcpm"
                title="CSS Generated Content for Paged Media Module">[CSS3GCPM]</a> 草案中提议的 overflow-style 属性
            （这也符合 <a data-link-type="biblio" href="#biblio-css3-marquee"
                title="CSS Marquee Module Level 3">[CSS3-MARQUEE]</a> 提案），
            或者如本节所述的 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue⑧">continue</a> 属性。</p>
        <h3 class="heading settled" id="fragment-overflow"><span class="content">片段化溢出</span><a class="self-link"
                href="#fragment-overflow"></a></h3>
        <p>本节介绍并定义了 <a class="css" data-link-type="maybe" href="#valdef-continue-fragments"
                id="ref-for-valdef-continue-fragments③">fragments</a> 值的 <a class="property css"
                data-link-type="property" href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue⑨">continue</a> 属性的含义。</p>
        <p>当一个元素的 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue①⓪">continue</a> 属性的计算值为 <a class="css" data-link-type="maybe"
                href="#valdef-continue-fragments" id="ref-for-valdef-continue-fragments④">fragments</a>
            时，并且实现原本会为该元素创建一个盒子，则实现必须为该元素创建一系列 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="fragment-box">片段盒</dfn>。
            (对于具有 <span class="css" id="ref-for-propdef-continue①①">continue: fragments</span> 的元素，可能只生成一个 <a
                data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box①">片段盒</a>。
            然而，如果元素的计算 <span class="property" id="ref-for-propdef-continue①②">continue</span> 不是 <span class="css"
                id="ref-for-valdef-continue-fragments⑤">fragments</span>，则其盒子不会是 <span
                id="ref-for-fragment-box②">片段盒</span>。)
            每个 <span id="ref-for-fragment-box③">片段盒</span> 是一个分片容器，任何会导致该分片容器进行分片的溢出都会导致另一个 <span
                id="ref-for-fragment-box④">片段盒</span> 被创建为前一个片段盒的下一个兄弟元素。<span class="issue" id="issue-c87585cb"><a
                    class="self-link" href="#issue-c87585cb"></a>或者它就像元素的下一个兄弟元素？需要弄清楚这如何与其他盒级修复交互。</span> 另外，如果 <span
                id="ref-for-fragment-box⑤">片段盒</span> 也是一个多列盒（如 <a data-link-type="biblio" href="#biblio-css-multicol-1"
                title="CSS Multi-column Layout Module Level 1">[css-multicol-1]</a> 中定义的 <span class="issue"
                id="issue-6629852d"><a class="self-link" href="#issue-6629852d"></a>虽然它定义了<i>多列容器</i></span>），任何导致创建 <a
                data-link-type="dfn" href="https://drafts.csswg.org/css-multicol-1/#overflow-columns"
                id="ref-for-overflow-columns">溢出列</a> <span
                title="CSS Multi-column Layout Module Level 1">[css-multicol-1]</span>
            的内容会被流入额外的片段盒中。然而，片段盒本身可能会被打断（由于其外部的分片上下文中，例如页面、列或其他片段盒中的分片），这种打断会导致相同片段盒的多个片段，而不是多个片段盒。
            （这很重要，因为片段盒可以通过它们的索引进行样式化；这种打断导致一个片段盒有多个片段共享单一索引。
            这种设计选择是为了确保跨页面打断片段盒时不会打破索引与特定内容部分之间的关联。）<span class="issue" id="issue-74cf5d92"><a class="self-link"
                    href="#issue-74cf5d92"></a>强制打断导致打断到外部分片上下文的情况，是导致一个片段盒的新片段，还是一个新的片段盒？</span> <span class="issue"
                id="issue-ca84b506"><a class="self-link" href="#issue-ca84b506"></a>我们是否应该在此处找到除 <a data-link-type="dfn"
                    href="#fragment-box" id="ref-for-fragment-box⑥">片段盒</a> 之外的术语，以减少混淆？</span></p>
        <p class="issue" id="issue-82870b15"><a class="self-link" href="#issue-82870b15"></a>
            如果我们希望能够样式化一个元素在另一种分片上下文中拆分的部分，这些规则是否会阻止我们对其使用 <a class="css" data-link-type="maybe"
                href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment">::nth-fragment()</a>，尽管这个名称似乎是此类功能的最合逻辑的名称。</p>
        <div class="example" id="example-6427c43a">
            <a class="self-link" href="#example-6427c43a"></a>
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c-><c- p>&lt;</c-><c- f>title</c-><c- p>></c->将内容分为等大小的卡片<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
  <c- p>.</c-><c- nc>in-cards</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->

    <c- k>width</c-><c- p>:</c-> <c- mi>13</c-><c- b>em</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- mi>8</c-><c- b>em</c-><c- p>;</c->

    <c- k>padding</c-><c- p>:</c-> <c- mi>4</c-><c- b>px</c-><c- p>;</c->
    <c- k>border</c-><c- p>:</c-> <c- kc>medium</c-> <c- kc>solid</c-> <c- kc>blue</c-><c- p>;</c->
    <c- k>margin</c-><c- p>:</c-> <c- mi>6</c-><c- b>px</c-><c- p>;</c->

    <c- k>font</c-><c- p>:</c-> <c- kc>medium</c-><c- o>/</c-><c- mf>1.3</c-> <c- n>Times</c-> <c- n>New</c->
      <c- n>Roman</c-><c- p>,</c-> <c- n>Times</c-><c- p>,</c-> <c- kc>serif</c-><c- p>;</c->
  <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"in-cards"</c-><c- p>></c->
  在这个示例中，div 中的文本被分成了一系列卡片。
  这些卡片都有相同的样式。
  如果内容足够多以至于溢出某个卡片时，就会创建另一个卡片。
  第二个卡片就像是第一个卡片的下一个兄弟元素一样创建出来。
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-></code></pre>
                        </td>
                        <td>
                            <div class="in-cards-demo">
                                在这个示例中，div<br>中的文本被分成了一系列<br>卡片。这些卡片都有相同的<br>样式。如果内容足够多<br>以至于溢出某个卡片，<br>就会创建另一个卡片。
                            </div>
                            <div class="in-cards-demo">第二个卡片就像是第一个<br>卡片的下一个兄弟元素<br>一样创建出来。</div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="example" id="example-141e7dcb">
            <a class="self-link" href="#example-141e7dcb"></a>
            作者可能希望通过将元素的开头几行放入单独的片段中，使用不同的样式来装饰这些开头行。然而，由于可能难以准确预测这些行所占用的高度，以限制第一个片段的高度，使用 <a class="property css"
                data-link-type="property" href="https://drafts.csswg.org/css-overflow-4/#propdef-max-lines"
                id="ref-for-propdef-max-lines">max-lines</a>
            属性更加方便，该属性强制片段在指定的行数后进行断开。这使得在元素或其后代中包含的给定行数后强制断开，只要这些行在同一个块格式化上下文中。
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c-><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
  <c- p>.</c-><c- nc>article</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>first-letter</c-> <c- p>{</c->
    <c- k>font-size</c-><c- p>:</c-> <c- mi>2</c-><c- b>em</c-><c- p>;</c->
    <c- k>line-height</c-><c- p>:</c-> <c- mf>0.9</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>{</c->
    <c- k>font-size</c-><c- p>:</c-> <c- mf>1.5</c-><c- b>em</c-><c- p>;</c->
    <c- k>max-lines</c-><c- p>:</c-> <c- mi>3</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>{</c->
    <c- k>column-count</c-><c- p>:</c-> <c- mi>2</c-><c- p>;</c->
  <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"article"</c-><c- p>></c->
  <i>...</i>
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-></code></pre>
                        </td>
                        <td>
                            <div class="article-max-lines-demo one">max-lines 属性允许作者<br>对文章的前几行使用较大<br>的字体。如果没有这个</div>
                            <div class="article-max-lines-demo two">max-lines 属性，作者可能<br>需要使用 <a class="property css"
                                    data-link-type="property"
                                    href="https://drafts.csswg.org/css-sizing-3/#propdef-height"
                                    id="ref-for-propdef-height">height</a>
                                属性，但这样做<br>如果作者计算错误，可能<br>会留下一个小空隙，不知道有多少行<br>会占用多高的空间<br>（特别是在不知道填充内容、字体、<br>或者特定平台的字体渲染时，
                            </div>
                            <div class="article-max-lines-demo three">可能尤其困难。</div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p class="issue" id="issue-4d452eb2"><a class="self-link" href="#issue-4d452eb2"></a> 我们应该明确说明 <a class="css"
                data-link-type="propdesc" href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue①③">continue: fragments</a> 至少不适用于某些表格部分，可能也不适用于其他元素。我们需要确定具体是哪些元素。</p>
        <p class="issue" id="issue-0df4918a"><a class="self-link" href="#issue-0df4918a"></a>
            该规范需要说明创建了哪种类型的分片上下文，以便明确哪些 <a class="property css" data-link-type="property">break-*</a>
            属性的值会在此上下文中引发断片。我们可能需要应用 <span class="css">break-*: region</span>。</p>
        <p class="issue" id="issue-1d1c38d2"><a class="self-link" href="#issue-1d1c38d2"></a>
            本规范需要一个处理模型，适用于包含片段的布局，其中的片段具有使用片段固有尺寸来改变其可用空间大小的特征，例如 <a data-link-type="biblio"
                href="#biblio-css3-grid-layout" title="CSS Grid Layout Module Level 1">[CSS3-GRID-LAYOUT]</a>。在 <a
                data-link-type="biblio" href="#biblio-css-regions-1"
                title="CSS Regions Module Level 1">[CSS-REGIONS-1]</a> 中已经进行了一些关于此类处理模型的工作，该规范的编辑者和所做的工作应当为本规范中的处理提供指导。
        </p>
        <h3 class="heading settled" id="fragment-styling"><span class="content">碎片样式</span><a class="self-link"
                href="#fragment-styling"></a></h3>
        <h4 class="heading settled" id="fragment-pseudo-element"><span class="content"> <a class="css"
                    data-link-type="maybe" href="#selectordef-nth-fragment"
                    id="ref-for-selectordef-nth-fragment①">::nth-fragment()</a> 伪元素</span><a class="self-link"
                href="#fragment-pseudo-element"></a></h4>
        <p> <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-nth-fragment">::nth-fragment()</dfn> 伪元素
            是一个描述由元素生成的部分 <a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box⑦">碎片框</a> 的伪元素。
            该伪元素的参数与定义在 <a data-link-type="biblio" href="#biblio-select" title="Selectors Level 3">[SELECT]</a> 中的
            :nth-child() 伪类参数采用相同的语法，且含义相同，
            区别在于该数值是相对于由元素生成的 <span id="ref-for-fragment-box⑧">碎片框</span>，而不是元素的兄弟元素。 </p>
        <p class="note" role="note"> 故意不提供允许从末尾而不是开头计数来标记碎片的选择器。
            这样的选择器会干扰碎片数量的确定。 </p>
        <p class="issue" id="issue-978c73c1"><a class="self-link" href="#issue-978c73c1"></a> 根据未来的讨论，
            该 <span class="css">::nth-fragment(<var>an+b</var>)</span> 语法
            可能会被新的 <span class="css">::fragment:nth(<var>an+b</var>)</span> 语法替代。 </p>
        <h4 class="heading settled" id="style-of-fragments"><span class="content">碎片样式</span><a class="self-link"
                href="#style-of-fragments"></a></h4>
        <p class="issue" id="issue-ce652c3d"><a class="self-link" href="#issue-ce652c3d"></a> 应该仅适用于 continue:fragments，
            还是也适用于 continue:paginate？（如果适用，
            则需要对 continue:paginate 施加更严格的属性限制。） </p>
        <p> 在没有带有 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment②">::nth-fragment()</a> 伪元素的规则的情况下，
            每个 <a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box⑨">碎片框</a> 的计算样式
            是为创建该 <span id="ref-for-fragment-box①⓪">碎片框</span> 的元素的计算样式。
            但是，对于 <span id="ref-for-fragment-box①①">碎片框</span> 的样式也受到其选择器的 <a data-link-type="dfn"
                href="https://drafts.csswg.org/selectors-3/#subject" id="ref-for-subject">主体</a> <a
                data-link-type="biblio" href="#biblio-select" title="Selectors Level 3">[SELECT]</a> 包含 <span
                class="css" id="ref-for-selectordef-nth-fragment③">::nth-fragment()</span> 伪元素的规则的影响，
            如果 <span id="ref-for-fragment-box①②">碎片框</span> 的 1 基索引数与 <span class="css"
                id="ref-for-selectordef-nth-fragment④">::nth-fragment()</span> 伪元素匹配
            且选择器（不包括 <span class="css" id="ref-for-selectordef-nth-fragment⑤">::nth-fragment()</span> 伪元素）
            与生成碎片的元素匹配。 </p>
        <p> 在确定 <a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box①③">碎片框</a> 的样式时，
            这些匹配碎片伪元素的规则与匹配元素的规则一起级联，
            碎片伪元素在特异性计算中增加了伪类的特异性。<span class="issue" id="issue-40daaa94"><a class="self-link"
                    href="#issue-40daaa94"></a>这是否需要在级联模块中进行规定？</span> </p>
        <div class="example" id="example-5cb99d62">
            <a class="self-link" href="#example-5cb99d62"></a>
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c-><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
  <c- p>.</c-><c- nc>bouncy-columns</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <c- mi>6</c-><c- b>em</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- mi>10</c-><c- b>em</c-><c- p>;</c->
    <c- k>float</c-><c- p>:</c-> <c- kc>left</c-><c- p>;</c->
    <c- k>margin</c-><c- p>:</c-> <c- mi>1</c-><c- b>em</c-><c- p>;</c->
    <c- k>font</c-><c- p>:</c-> <c- kc>medium</c-><c- o>/</c-><c- mf>1.25</c-> <c- n>Times</c-> <c- n>New</c->
      <c- n>Roman</c-><c- p>,</c-> <c- n>Times</c-><c- p>,</c-> <c- kc>serif</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>bouncy-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- kc>aqua</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>black</c-><c- p>;</c->
    <c- k>transform</c-><c- p>:</c-> rotate<c- p>(</c-><c- mi>-3</c-><c- b>deg</c-><c- p>);</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>bouncy-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- kc>yellow</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>black</c-><c- p>;</c->
    <c- k>transform</c-><c- p>:</c-> rotate<c- p>(</c-><c- mi>3</c-><c- b>deg</c-><c- p>);</c->
  <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"bouncy-columns"</c-><c- p>></c->
  <i>...</i>
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-></code></pre>
                        <td>
                            <div class="bouncy-columns-demo one">在此<br>示例中，div 中的<br>文本被分为<br>一系列的列。<br>作者大概希望</div>
                            <div class="bouncy-columns-demo two">文本填充<br>两个列。但如果它<br>恰好填充了<br>三个列，第三个<br>列仍然会创建。它</div>
                            <div class="bouncy-columns-demo">只不过没有<br>任何与碎片相关的<br>特定样式，<br>因为作者没有<br>为其提供。</div>
            </table>
        </div>
        <p> 使用 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment⑥">::nth-fragment()</a> 伪元素的 <a class="property css"
                data-link-type="property" href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue①④">continue</a> 属性是有效的；
            如果 <a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box①④">fragment box</a> 的计算值为
            <span class="property" id="ref-for-propdef-continue①⑤">continue</span> 且不是 <a class="css"
                data-link-type="maybe" href="#valdef-continue-fragments"
                id="ref-for-valdef-continue-fragments⑥">fragments</a>，那么该 fragment
            box 是最后一个片段。
            但是，在第一个片段上覆盖 <span class="property" id="ref-for-propdef-continue①⑥">continue</span> 并不会导致该
            <span id="ref-for-fragment-box①⑤">fragment box</span> 不存在；
            是否有 fragment box 完全取决于元素的 overflow 的计算值。
        </p>
        <p> 使用 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment⑦">::nth-fragment()</a> 伪元素的 <a class="property css"
                data-link-type="property" href="https://drafts.csswg.org/css-content-3/#propdef-content"
                id="ref-for-propdef-content①">content</a> 属性没有效果；
            fragment box 的 <span class="property" id="ref-for-propdef-content②">content</span> 的计算值与元素的 content
            计算值保持相同。
        </p>
        <p> 为 <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-4/#propdef-display"
                id="ref-for-propdef-display">display: none</a> 指定 <a data-link-type="dfn" href="#fragment-box"
                id="ref-for-fragment-box①⑥">fragment box</a>，会导致该索引的 fragment box 不会生成。
            但是，在用于匹配后续 fragment box 的 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment⑧">::nth-fragment()</a> 伪元素的索引中，
            它仍然会被视为已生成。
            但是，由于它未生成，因此不包含任何内容。
        </p>
        <p> 指定其他 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-display-4/#propdef-display"
                id="ref-for-propdef-display①">display</a>，<a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-position-3/#propdef-position"
                id="ref-for-propdef-position">position</a>，或 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css2/#propdef-float" id="ref-for-propdef-float">float</a> 的值是允许的，
            但不允许更改 <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#inner-display-type"
                id="ref-for-inner-display-type">内部显示类型</a>。
            （因为 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue①⑦">continue</a> 仅适用于块容器、弹性容器和网格容器）。
            <span class="issue" id="issue-d723335f"><a class="self-link"
                    href="#issue-d723335f"></a>需要明确说明这个是如何运作的</span>
        </p>
        <p> 为了匹配其他伪元素的模型，这些伪元素存在于其相应元素内，
            在 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment⑨">::nth-fragment()</a> 伪元素中的声明会覆盖没有伪元素的规则中的声明。
            此类声明的相对优先级由正常的层叠顺序决定（参见 <a data-link-type="biblio" href="#biblio-css2"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>）。
        </p>
        <p> 在 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment①⓪">::nth-fragment()</a> 伪元素上指定的样式会影响到 fragment box
            内的内容。
            换句话说，fragment box 内的内容必须从 fragment box 的样式（即伪元素样式）继承，而不是直接从元素继承。
            这意味着在 fragment box 之间分割的元素在不同部分可能有不同的样式。
        </p>
        <p class="issue" id="issue-0fc783b4"><a class="self-link" href="#issue-0fc783b4"></a> 这种继承规则允许间接指定样式
            （通过使用显式的 <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/css-cascade-5/#valdef-all-inherit"
                id="ref-for-valdef-all-inherit">inherit</a> 或对不适用于 <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter"
                id="ref-for-selectordef-first-letter">::first-letter</a> 的属性使用默认继承），
            这些样式无法直接指定（基于下一节的规则）。
            这是一个问题。
            对片段内部样式的限制也应适用于从片段继承的样式。
        </p>
        <div class="example" id="example-b77c4f49">
            <a class="self-link" href="#example-b77c4f49"></a>
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c-><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
  <c- p>.</c-><c- nc>article</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>{</c->
    <c- k>font-size</c-><c- p>:</c-> <c- mf>1.5</c-><c- b>em</c-><c- p>;</c->
    <c- k>margin-bottom</c-><c- p>:</c-> <c- mi>1</c-><c- b>em</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- mi>4</c-><c- b>em</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>{</c->
    <c- k>margin-left</c-><c- p>:</c-> <c- mi>5</c-><c- b>em</c-><c- p>;</c->
    <c- k>margin-right</c-><c- p>:</c-> <c- mi>2</c-><c- b>em</c-><c- p>;</c->
  <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"article"</c-><c- p>></c->
  The <c- p>&lt;</c-><c- f>code</c-><c- p>></c->font-size<c- p>&lt;/</c-><c- f>code</c-><c- p>></c-> property<i>...</i>
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-></code></pre>
                        <td>
                            <div class="article-font-inherit-demo one">该 <code>font-size</code>
                                属性<br>指定在片段上<br>会被片段的子元素继承</div>
                            <div class="article-font-inherit-demo two">这意味着继承的<br>属性可以在片段中<br>可靠地使用，就像<br>这个示例中一样。</div>
            </table>
        </div>
        <h4 class="heading settled" id="style-in-fragments"><span class="content">片段中的样式</span><a class="self-link"
                href="#style-in-fragments"></a></h4>
        <p class="issue" id="issue-4a9707fc"><a class="self-link" href="#issue-4a9707fc"></a> 这是否仅适用于
            continue:fragments，还是也适用于 continue:paginate？ </p>
        <p> <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment①①">::nth-fragment()</a> 伪元素也可用于为 <a data-link-type="dfn"
                href="#fragment-box" id="ref-for-fragment-box①⑨">片段框</a> 内的内容设置样式。 与 <a class="css"
                data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-line"
                id="ref-for-selectordef-first-line">::first-line</a> 和 <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter"
                id="ref-for-selectordef-first-letter①">::first-letter</a> 伪元素不同，<span class="css"
                id="ref-for-selectordef-nth-fragment①②">::nth-fragment()</span>
            伪元素可以应用于选择器中非主体的部分：特别是，它可以匹配主体的祖先。但是，只有通过这样的选择器应用的 CSS 属性是那些适用于 <span class="css"
                id="ref-for-selectordef-first-letter②">::first-letter</span> 伪元素的属性。</p>
        <p> 更精确地说，当规则的选择器附有 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment①③">::nth-fragment()</a>
            伪元素，并附加到选择器中的非主体部分时，这个规则中的声明在以下情况下适用于片段（或其伪元素）：</p>
        <ol>
            <li> 声明适用于 <a class="css" data-link-type="maybe"
                    href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter"
                    id="ref-for-selectordef-first-letter③">::first-letter</a> 伪元素的属性，
            <li> 该声明本应适用于片段（或其伪元素）而不附有 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                    id="ref-for-selectordef-nth-fragment①④">::nth-fragment()</a> 伪元素的情况下，通过特定的关联使每个简单选择器的序列与其匹配的元素关联，并且
            <li> 对于每个被移除的 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                    id="ref-for-selectordef-nth-fragment①⑤">::nth-fragment()</a> 伪元素，片段必须位于与选择器中附有伪元素的元素关联的 <a
                    data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box②⓪">片段框</a>中，且其索引与伪元素匹配。
        </ol>
        <div class="example" id="example-7d383baf">
            <a class="self-link" href="#example-7d383baf"></a>
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c-><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
  <c- p>.</c-><c- nc>dark-columns</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <c- mi>6</c-><c- b>em</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- mi>10</c-><c- b>em</c-><c- p>;</c->
    <c- k>float</c-><c- p>:</c-> <c- kc>left</c-><c- p>;</c->
    <c- k>margin-right</c-><c- p>:</c-> <c- mi>1</c-><c- b>em</c-><c- p>;</c->
    <c- k>font</c-><c- p>:</c-> <c- kc>medium</c-><c- o>/</c-><c- mf>1.25</c-> <c- n>Times</c-> <c- n>New</c->
      <c- n>Roman</c-><c- p>,</c-> <c- n>Times</c-><c- p>,</c-> <c- kc>serif</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- kc>aqua</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>black</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>:</c-><c- nd>link</c-> <c- p>{</c->
    <c- k>color</c-><c- p>:</c-> <c- kc>blue</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>:</c-><c- nd>visited</c-> <c- p>{</c->
    <c- k>color</c-><c- p>:</c-> <c- kc>purple</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- kc>navy</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>white</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>:</c-><c- nd>link</c-> <c- p>{</c->
    <c- k>color</c-><c- p>:</c-> <c- kc>aqua</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>:</c-><c- nd>visited</c-> <c- p>{</c->
    <c- k>color</c-><c- p>:</c-> <c- kc>fuchsia</c-><c- p>;</c->
  <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"dark-columns"</c-><c- p>></c->
  <i>...</i>
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-></code></pre>
                        <td>
                            <div class="dark-columns-demo one">在这个<br><a
                                    href="http://en.wiktionary.org/wiki/example">示例</a>中，文本从<br>一个浅色片段流向<br>另一个<br>深色片段。
                            </div>
                            <div class="dark-columns-demo two">因此，我们<br>希望在<br>不同的片段中对<br><a
                                    href="http://www.w3.org/Provider/Style/IntoContext.html">超链接</a>应用不同的样式。</div>
            </table>
        </div>
        <h2 class="heading settled" id="scroll-navigation"><span class="content">附录B：滚动导航控制</span><a class="self-link"
                href="#scroll-navigation"></a></h2>
        <p><a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"
                id="ea1bbaa30"><cite>HTML</cite> § 4.5.1
                a元素</a>允许创建到同一页面内特定滚动位置的导航链接。然而，用户对于当前正在查看的内容几乎没有反馈，且交互模型与现代可访问UI组件的期望不匹配。</p>
        <p>本规范增加了一种机制，用于在一组<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element">a</a></code>元素中创建滚动导航控制。通过在包含一个或多个<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element①">a</a></code>元素的祖先上设置<a
                href="https://open-ui.org/components/focusgroup.explainer/">focusgroup</a>属性来创建一个组，这些元素的<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document"
                id="ref-for-the-indicated-part-of-the-document">指示部分</a>在当前页面中。在每个组内，活动标记反映当前的滚动位置，并可以通过样式给予用户指示他们所在的部分。
        </p>
        <p>使用案例包括包含指向相关内容的链接的目录，滚动轮播页面的标记，以及可滚动的选项卡面板。</p>
        <p class="issue" id="issue-41eecb3e"><a class="self-link" href="#issue-41eecb3e"></a> 添加表示这些示例的图像。</p>
        <h3 class="heading settled" id="scroll-target"><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-htmllinkelement-scrolltargetelement" id="ref-for-dom-htmllinkelement-scrolltargetelement①">scrollTargetElement</a></code>
                属性</span><a class="self-link" href="#scroll-target"></a></h3>
        <p>一个<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element②">a</a></code>元素的<code
                class="idl"><a data-link-type="idl" href="#dom-htmllinkelement-scrolltargetelement" id="ref-for-dom-htmllinkelement-scrolltargetelement②">scrollTargetElement</a></code>初始化为运行<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#select-the-indicated-part"
                id="ref-for-select-the-indicated-part">选择指示部分</a>的结果，使用当前<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>和<dfn
                class="dfn-paneled" data-dfn-for="a" data-dfn-type="element-attr" data-export
                id="element-attrdef-a-href"><code>href</code></dfn>属性值作为<var>URL</var>，如果结果的<a data-link-type="dfn"
                href="#scroll-marker-control" id="ref-for-scroll-marker-control">滚动标记控制</a>是非空的，则将其转换为滚动标记控制。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="HTMLLinkElement" data-dfn-type="attribute" data-export
                data-lt="scrollTargetElement"
                id="dom-htmllinkelement-scrolltargetelement"><code>HTMLLinkElement.scrollTargetElement</code></dfn>实例属性获取和设置与锚链接交互的元素，并可用于覆盖由<var>href</var>属性建立的初始值。
        </p>
        <p>带有非空 <code
                class="idl"><a data-link-type="idl" href="#dom-htmllinkelement-scrolltargetelement" id="ref-for-dom-htmllinkelement-scrolltargetelement③">scrollTargetElement</a></code>
            属性的
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element③">a</a></code>
            元素或 <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker"
                id="ref-for-selectordef-scroll-marker②">::scroll-marker</a> 伪元素表示一个 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="scroll-marker-control">滚动标记控件</dfn>，该控件属于包含的 <a class="css"
                data-link-type="maybe" href="#selectordef-scroll-marker-group"
                id="ref-for-selectordef-scroll-marker-group④">::scroll-marker-group</a> 伪元素定义的 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="scroll-marker-group①">滚动标记组</dfn>（对于 <span class="css"
                id="ref-for-selectordef-scroll-marker③">::scroll-marker</span> 伪元素），或者是建立 <a
                href="https://open-ui.org/components/focusgroup.explainer/">focusgroup</a> 的最近祖先元素。
            组中恰好有一个控件的 "checked" 状态为 true。
            "checked" 状态为 true 的 <a data-link-type="dfn" href="#scroll-marker-control"
                id="ref-for-scroll-marker-control①">滚动标记控件</a> 可以通过 <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/selectors-4/#checked-pseudo" id="ref-for-checked-pseudo">:checked</a>
            伪类进行样式设置。
        </p>
        <div class="algorithm" data-algorithm="scrollTargetElement activation">
            当通过显式调用或箭头键焦点激活一个<a data-link-type="dfn" href="#scroll-marker-control"
                id="ref-for-scroll-marker-control②">滚动标记控制</a>时：
            <ol>
                <li data-md>
                    <p>设<var>element</var>为控制的<code
                            class="idl"><a data-link-type="idl" href="#dom-htmllinkelement-scrolltargetelement" id="ref-for-dom-htmllinkelement-scrolltargetelement④">scrollTargetElement</a></code>。
                    </p>
                <li data-md>
                    <p>设<var>block</var>为"<code>start</code>"。</p>
                <li data-md>
                    <p>设<var>inline</var>为"<code>start</code>"。</p>
                <li data-md>
                    <p>使用<var>behavior</var>、<var>block</var>和<var>inline</var>的值<a data-link-type="dfn"
                            href="https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view"
                            id="ref-for-scroll-a-target-into-view">滚动元素到视图中</a>。</p>
                <li data-md>
                    <dl>
                        <dt data-md>如果激活是通过调用触发的
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2"
                                            id="ref-for-following-hyperlinks-2">跟随超链接</a>更新URL，但保留焦点在标记元素上。</p>
                            </ol>
                            <p class="note" role="note"><span class="marker">注意：</span>如果用户切换焦点，焦点行为将确保他们切换到相关内容。</p>
                    </dl>
            </ol>
        </div>
        <h4 class="heading settled" id="scroll-container-scroll"><span class="content">滚动跟踪</span><a class="self-link"
                href="#scroll-container-scroll"></a></h4>
        <p>滚动操作可能会向特定位置进行动画滚动（例如，滚动条箭头点击、箭头键按下、“behavior:
            smooth”编程滚动），也可能直接跟踪用户输入（例如，触摸滚动、滚动条拖动）。在任一情况下，用户代理选择一个“最终滚动位置”，以便滚动器达到该位置。这确保了相关标记立即被激活。</p>
        <p>此“最终滚动位置”用于确定每个<a data-link-type="dfn" href="#scroll-marker-group①"
                id="ref-for-scroll-marker-group①">滚动标记组</a>中的活动标记。由于标记本身可能只表示内容的开头（例如，标题），我们将处于或超过滚动位置的第一个标记视为活动标记。</p>
        <div class="algorithm" data-algorithm="scroll tracking">
            每当<a data-link-type="dfn" href="https://drafts.csswg.org/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container①⓪">滚动容器</a>被滚动，或布局改变滚动位置时，用户代理必须运行这些步骤来确定活动标记：
            <ol>
                <li data-md>
                    <p>设<var>position</var>为滚动操作的“最终滚动位置”。</p>
                <li data-md>
                    <p>对于包含一个或多个<a data-link-type="dfn" href="#scroll-marker-control"
                            id="ref-for-scroll-marker-control③">滚动标记控制</a>元素的每个focusgroup <var>group</var>，这些元素的<code
                            class="idl"><a data-link-type="idl" href="#dom-htmllinkelement-scrolltargetelement" id="ref-for-dom-htmllinkelement-scrolltargetelement⑤">scrollTargetElement</a></code>是<a
                            data-link-type="dfn" href="https://drafts.csswg.org/css-overflow-3/#scroll-container"
                            id="ref-for-scroll-container①①">滚动容器</a>的后代：</p>
                    <ol>
                        <li data-md>
                            <p>设<var>markers</var>为属于<a data-link-type="dfn" href="#scroll-marker-group①"
                                    id="ref-for-scroll-marker-group①①">滚动标记组</a>的所有<a data-link-type="dfn"
                                    href="#scroll-marker-control" id="ref-for-scroll-marker-control④">滚动标记控制</a>元素，对于<a
                                    data-link-type="dfn"
                                    href="https://drafts.csswg.org/css-overflow-3/#scroll-container"
                                    id="ref-for-scroll-container①②">滚动容器</a>。</p>
                        <li data-md>
                            <p>设<var>targets</var>为<var>markers</var>的<code
                                    class="idl"><a data-link-type="idl" href="#dom-htmllinkelement-scrolltargetelement" id="ref-for-dom-htmllinkelement-scrolltargetelement⑥">scrollTargetElement</a></code>，与它们来自的<var>markers</var>项相关联，并按<a
                                    data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-order"
                                    id="ref-for-concept-tree-order①">树顺序</a>排序。</p>
                        <li data-md>
                            <p>对于<var>targets</var>中的每个<var>target</var>，<a data-link-type="dfn"
                                    href="https://drafts.csswg.org/cssom-view-1/#determine-the-scroll-into-view-position"
                                    id="ref-for-determine-the-scroll-into-view-position">确定滚动到视图位置</a>，将其存储为<var>target</var>的相关<var>target
                                    position</var>。</p>
                        <li data-md>
                            <p>设<var>selected target</var>为<var>targets</var>中索引最大的项，其相关<var>target
                                    position</var>在滚动容器的当前书写模式方向上在块和内联轴上均等于或在<var>position</var>之前。</p>
                            <p class="issue" id="issue-0026435b"><a class="self-link" href="#issue-0026435b"></a>
                                当下一个标记比上一个标记更接近对齐时，我们应使用下一个标记，类似于强制对齐点选择。</p>
                        <li data-md>
                            <dl>
                                <dt data-md>如果没有这样的项，
                                <dd data-md>
                                    <p>将<var>group</var>中所有<var>markers</var>的“选中”状态设置为false并返回。</p>
                            </dl>
                        <li data-md>
                            <p>设<var>selected marker</var>为与<var>selected
                                    target</var>相关联的标记。如果<var>markers</var>中的多个项与<var>selected
                                    target</var>相关联，则将<var>selected marker</var>设置为树顺序最早的标记。</p>
                        <li data-md>
                            <p>将<var>selected marker</var>的“选中”状态设置为true。</p>
                        <li data-md>
                            <dl>
                                <dt data-md>
                                    <p>如果活动元素是<var>group</var>的<a
                                            href="https://open-ui.org/components/focusgroup.explainer/#last-focused-memory">最后聚焦元素</a>，
                                    </p>
                                <dd data-md>
                                    <p>聚焦<var>selected marker</var></p>
                            </dl>
                        <li data-md>
                            <p>将<var>group</var>的<a
                                    href="https://open-ui.org/components/focusgroup.explainer/#last-focused-memory">最后聚焦元素</a>设置为<var>selected
                                    marker</var>。</p>
                        <li data-md>
                            <p>将<var>group</var>中所有其他<var>markers</var>的“选中”状态设置为false。</p>
                    </ol>
            </ol>
        </div>
        <h4 class="heading settled" id="scroll-target-focus"><span class="content">焦点行为</span><a class="self-link"
                href="#scroll-target-focus"></a></h4>
        <p>当<a data-link-type="dfn" href="#scroll-marker-control"
                id="ref-for-scroll-marker-control⑤">滚动标记控制</a>被激活时，下一次按 tabindex 排序的焦点导航将会聚焦于<code
                class="idl"><a data-link-type="idl" href="#dom-htmllinkelement-scrolltargetelement" id="ref-for-dom-htmllinkelement-scrolltargetelement⑦">scrollTargetElement</a></code>，如果它是可聚焦的，否则将会从此<var>element</var>查找下一个可聚焦元素，好像它已经聚焦一样。
        </p>
        <h2 class="heading settled" id="privclass=nonum"><span class="content">附录 C: 隐私考虑</span><a class="self-link"
                href="#privclass=nonum"></a></h2>
        <p>此规范没有引入新的隐私考虑事项。</p>
        <h2 class="nonum heading settled" id="sec"><span class="content">附录 D: 安全性考虑</span><a class="self-link"
                href="#sec"></a></h2>
        <p>此规范没有引入新的安全性考虑事项。</p>
        <h3 class="heading settled" id="changes-l4"><span class="content">自 Level 4 以来的更改</span><a class="self-link"
                href="#changes-l4"></a></h3>
        <p class="issue" id="issue-d4908b1e"><a class="self-link" href="#issue-d4908b1e"></a> 待定</p>
        <h2 class="no-num heading settled" id="acknowledgments"><span class="content">致谢</span><a class="self-link"
                href="#acknowledgments"></a></h2>
        <p>特别感谢以下人员的反馈：
            Rossen Atanassov，
            Bert Bos，
            Tantek Çelik，
            John Daggett，
            fantasai，
            Daniel Glazman，
            Vincent Hardy，
            Håkon Wium Lie，
            Peter Linss，
            Robert O’Callahan，
            Florian Rivoal，
            Alan Stearns，
            Steve Zilles，
            以及所有<a href="http://lists.w3.org/Archives/Public/www-style/">www-style</a>社区的其他成员。
        </p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>一致性要求通过描述性断言和 RFC 2119 术语的结合来表达。在本文档的规范部分中，“MUST（必须）”、“MUST NOT（不得）”、“REQUIRED（必需）”、“SHALL（将）”、“SHALL
        NOT（不得）”、“SHOULD（应）”、“SHOULD NOT（不应）”、“RECOMMENDED（推荐）”、“MAY（可以）”和“OPTIONAL（可选）”等关键词应按照 RFC 2119
        中的描述进行解释。然而，为了可读性，这些词在本规范中不以全大写字母形式出现。 </p>
    <p>本规范的所有文本都是规范性的，除非明确标记为非规范性的章节、示例和注释。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="用于指示要求级别的关键字">[RFC2119]</a></p>
    <p>本规范中的示例通过“例如”这样的词语引入，或者与规范性文本分开，设置<code>class="example"</code>，如下所示：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个信息性示例。</p>
    </div>
    <p>信息性注释以“注意”一词开头，并与规范性文本分开，设置<code>class="note"</code>，如下所示：</p>
    <p class="note" role="note">注意，这是一个信息性注释。</p>
    <p>警示是规范性的部分，样式上突显以引起特别关注，并通过<code>&lt;strong class="advisement"</code>与其他规范性文本分开，如下所示：<strong class="advisement">
            用户代理必须提供可访问的替代方案。 </strong></p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>测试</summary>
        <p>与本规范内容相关的测试可以在类似这样的“测试”块中记录。任何这样的块都是非规范性的。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">一致性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>对本规范的一致性定义为三种一致性类别：</p>
    <dl>
        <dt>样式表
        <dd><a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS 样式表</a>。
        <dt>渲染器
        <dd>解释样式表的语义并渲染使用它们的文档的<a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理（UA）</a>。
        <dt>编辑工具
        <dd>编写样式表的<a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理（UA）</a>。
    </dl>
    <p>样式表符合本规范的条件是，使用此模块中定义的语法的所有声明在通用 CSS 语法和本模块中定义的各个特性的语法中均有效。</p>
    <p>渲染器符合本规范的条件是，除了按照适当的规范解释样式表之外，它还通过正确解析所有本规范定义的特性并相应地渲染文档来支持这些特性。然而，由于设备的限制导致 UA 无法正确渲染文档并不会使该 UA 不符合规范。（例如，UA
        不要求在单色显示器上渲染颜色。）</p>
    <p>编辑工具符合本规范的条件是，它编写的样式表在通用 CSS 语法和此模块中各特性的语法中是语法正确的，并符合此模块中描述的样式表的一致性要求。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为了使作者可以利用向前兼容的解析规则来分配回退值，CSS 渲染器<strong>必须</strong>将任何其没有可用支持级别的 at 规则、属性、属性值、关键字和其他语法构造视为无效并<a
            href="http://www.w3.org/TR/CSS21/conform.html#ignore">按适当情况忽略</a>。特别地，用户代理<strong>不得</strong>在多值属性声明中有选择性地忽略不支持的组件值而接受支持的值：如果任何值被认为是无效的（因为不支持的值必须是无效的），CSS
        规范要求整个声明被忽略。</p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">不稳定和专有特性的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为了避免与未来稳定的 CSS 特性发生冲突，CSSWG 建议<a href="http://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>来实现<a
            href="http://www.w3.org/TR/CSS/#unstable">不稳定</a>特性和<a
            href="http://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>到 CSS。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>一旦规范达到候选推荐阶段（CR），就可以进行非实验性实现，实施者应发布符合规范的任何 CR 级别特性的未添加前缀的实现。</p>
    <p>为了建立和维持跨实现的 CSS 互操作性，CSS 工作组请求非实验性 CSS 渲染器在发布未加前缀的任何 CSS 特性实现之前，向 W3C 提交实现报告（如果需要，还包括实现报告中使用的测试用例）。提交给 W3C
        的测试用例将接受 CSS 工作组的审查和修正。</p>
    <p>有关提交测试用例和实现报告的更多信息，可以在 CSS 工作组的网站上找到，网址为 <a
            href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>。有问题可通过<a
            href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>邮件列表进行咨询。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#valdef-scroll-marker-group-after">after</a><span>，在第 § 2 节</span>
        <li><a href="#valdef-scroll-marker-group-before">before</a><span>，在第 § 2 节</span>
        <li><a href="#fragment-box">fragment box</a><span>，在无编号节</span>
        <li><a href="#valdef-continue-fragments">fragments</a><span>，在无编号节</span>
        <li><a href="#element-attrdef-a-href">href</a><span>，在无编号节</span>
        <li><a href="#valdef-scroll-marker-group-none">none</a><span>，在第 § 2 节</span>
        <li><a href="#selectordef-nth-fragment">::nth-fragment()</a><span>，在无编号节</span>
        <li><a href="#valdef-continue-overflow">overflow</a><span>，在无编号节</span>
        <li><a href="#valdef-continue-paginate">paginate</a><span>，在无编号节</span>
        <li><a href="#selectordef-scroll-marker">::scroll-marker</a><span>，在第 § 2.2 节</span>
        <li><a href="#scroll-marker-control">scroll marker control</a><span>，在无编号节</span>
        <li><a href="#selectordef-scroll-marker-group">::scroll-marker-group</a><span>，在第 § 2.1 节</span>
        <li><a href="#scroll-marker-group①">scroll marker group</a><span>，在无编号节</span>
        <li><a href="#propdef-scroll-marker-group">scroll-marker-group</a><span>，在第 § 2 节</span>
        <li><a href="#dom-htmllinkelement-scrolltargetelement">scrollTargetElement</a><span>，在无编号节</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">通过引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ccda0818">subject</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BREAK-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="40060954">fragmentation container</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c388d253">inherit</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CONTAIN-2]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="34b77623">layout containment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CONTENT-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="2467179e">content</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="e7f0dd6c">display</span>
                <li><span class="dfn-paneled" id="5e3e8101">inner display type</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-MULTICOL-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="e4a82d25">overflow columns</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-OVERFLOW-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="86928bde">overflow</span>
                <li><span class="dfn-paneled" id="86923d07">scroll container</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-OVERFLOW-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="9955d5a2">auto</span>
                <li><span class="dfn-paneled" id="4e6dbe9d">continue</span>
                <li><span class="dfn-paneled" id="e750f2bf">max-lines</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-POSITION-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="b8a0ba74">position</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-PSEUDO-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="a1addf6c">::first-letter</span>
                <li><span class="dfn-paneled" id="75bfa627">::first-line</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-REGIONS-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="03df0aa6">css region</span>
                <li><span class="dfn-paneled" id="ec0a7b21">region chain</span>
                <li><span class="dfn-paneled" id="85c51660">region-fragment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SIZING-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="68019d7a">height</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="6ec67710">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS22]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="0570259e">float</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-VIEW-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="0cda95c2">determine the scroll-into-view position</span>
                <li><span class="dfn-paneled" id="2cbb079e">scroll a target into view</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="85394472">Document</span>
                <li><span class="dfn-paneled" id="25538777">tree order</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="68bf3d31">a</span>
                <li><span class="dfn-paneled" id="f0246dc8">follow the hyperlink</span>
                <li><span class="dfn-paneled" id="9ea68b61">indicated part</span>
                <li><span class="dfn-paneled" id="53fddd4a">select the indicated part</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SELECTORS-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="90d73ada">:checked</span>
                <li><span class="dfn-paneled" id="82805a4e">originating element</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-break-3">[CSS-BREAK-3]
        <dd>Rossen Atanassov; Elika Etemad. <a href="https://drafts.csswg.org/css-break/"><cite>CSS Fragmentation Module
                    Level 3</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-break/">https://drafts.csswg.org/css-break/</a>
        <dt id="biblio-css-break-4">[CSS-BREAK-4]
        <dd>Rossen Atanassov; Elika Etemad. <a href="https://drafts.csswg.org/css-break-4/"><cite>CSS Fragmentation
                    Module Level 4</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-break-4/">https://drafts.csswg.org/css-break-4/</a>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-cascade-5/"><cite>CSS
                    Cascading and Inheritance Level 5</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-cascade-5/">https://drafts.csswg.org/css-cascade-5/</a>
        <dt id="biblio-css-contain-1">[CSS-CONTAIN-1]
        <dd>Tab Atkins Jr.; Florian Rivoal. <a href="https://drafts.csswg.org/css-contain-1/"><cite>CSS Containment
                    Module Level 1</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-contain-1/">https://drafts.csswg.org/css-contain-1/</a>
        <dt id="biblio-css-contain-2">[CSS-CONTAIN-2]
        <dd>Tab Atkins Jr.; Florian Rivoal; Vladimir Levin. <a href="https://drafts.csswg.org/css-contain-2/"><cite>CSS
                    Containment Module Level 2</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-contain-2/">https://drafts.csswg.org/css-contain-2/</a>
        <dt id="biblio-css-content-3">[CSS-CONTENT-3]
        <dd>Elika Etemad; Dave Cramer. <a href="https://drafts.csswg.org/css-content-3/"><cite>CSS Generated Content
                    Module Level 3</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-content-3/">https://drafts.csswg.org/css-content-3/</a>
        <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
        <dd><a href="https://drafts.csswg.org/css-display-4/"><cite>CSS Display Module Level 4</cite></a>。Editor's
            Draft。URL: <a href="https://drafts.csswg.org/css-display-4/">https://drafts.csswg.org/css-display-4/</a>
        <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
        <dd>Florian Rivoal; Rachel Andrew. <a href="https://drafts.csswg.org/css-multicol/"><cite>CSS Multi-column
                    Layout Module Level 1</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-multicol/">https://drafts.csswg.org/css-multicol/</a>
        <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
        <dd>Elika Etemad; Florian Rivoal. <a href="https://drafts.csswg.org/css-overflow-3/"><cite>CSS Overflow Module
                    Level 3</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-overflow-3/">https://drafts.csswg.org/css-overflow-3/</a>
        <dt id="biblio-css-overflow-4">[CSS-OVERFLOW-4]
        <dd>David Baron; Florian Rivoal; Elika Etemad. <a href="https://drafts.csswg.org/css-overflow-4/"><cite>CSS
                    Overflow Module Level 4</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-overflow-4/">https://drafts.csswg.org/css-overflow-4/</a>
        <dt id="biblio-css-position-3">[CSS-POSITION-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-position-3/"><cite>CSS Positioned Layout
                    Module Level 3</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-position-3/">https://drafts.csswg.org/css-position-3/</a>
        <dt id="biblio-css-pseudo-4">[CSS-PSEUDO-4]
        <dd>Daniel Glazman; Elika Etemad; Alan Stearns. <a href="https://drafts.csswg.org/css-pseudo-4/"><cite>CSS
                    Pseudo-Elements Module Level 4</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-pseudo-4/">https://drafts.csswg.org/css-pseudo-4/</a>
        <dt id="biblio-css-regions-1">[CSS-REGIONS-1]
        <dd>Rossen Atanassov; Alan Stearns. <a href="https://drafts.csswg.org/css-regions/"><cite>CSS Regions Module
                    Level 1</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-regions/">https://drafts.csswg.org/css-regions/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; et al. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1
                    (CSS 2.1) Specification</cite></a>。URL: <a
                href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
        <dt id="biblio-css22">[CSS22]
        <dd>Bert Bos. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 2 (CSS 2.2)
                    Specification</cite></a>。URL: <a
                href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
        <dt id="biblio-css3-flexbox">[CSS3-FLEXBOX]
        <dd>Tab Atkins Jr.; et al. <a href="https://drafts.csswg.org/css-flexbox-1/"><cite>CSS Flexible Box Layout
                    Module Level 1</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-flexbox-1/">https://drafts.csswg.org/css-flexbox-1/</a>
        <dt id="biblio-css3-grid-layout">[CSS3-GRID-LAYOUT]
        <dd>Tab Atkins Jr.; et al. <a href="https://drafts.csswg.org/css-grid/"><cite>CSS Grid Layout Module Level
                    1</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-grid/">https://drafts.csswg.org/css-grid/</a>
        <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
        <dd>Simon Pieters. <a href="https://drafts.csswg.org/cssom-view/"><cite>CSSOM View Module</cite></a>。URL: <a
                href="https://drafts.csswg.org/cssom-view/">https://drafts.csswg.org/cssom-view/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>。现行标准。URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML
                    Standard</cite></a>。现行标准。URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>。1997年3月。最佳现行实践。URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-select">[SELECT]
        <dd>Tantek Çelik; et al. <a href="https://drafts.csswg.org/selectors-3/"><cite>Selectors Level 3</cite></a>。URL:
            <a href="https://drafts.csswg.org/selectors-3/">https://drafts.csswg.org/selectors-3/</a>
        <dt id="biblio-selectors-4">[SELECTORS-4]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/selectors/"><cite>Selectors Level
                    4</cite></a>。URL: <a
                href="https://drafts.csswg.org/selectors/">https://drafts.csswg.org/selectors/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
        <dd>Tab Atkins Jr.; Elika Etemad。<a href="https://drafts.csswg.org/css-sizing-3/"><cite>CSS Box Sizing Module
                    Level 3</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-sizing-3/">https://drafts.csswg.org/css-sizing-3/</a>
        <dt id="biblio-css1">[CSS1]
        <dd>Håkon Wium Lie; Bert Bos。<a href="https://www.w3.org/TR/CSS1/"><cite>Cascading Style Sheets, level
                    1</cite></a>。2018年9月13日。REC。URL: <a
                href="https://www.w3.org/TR/CSS1/">https://www.w3.org/TR/CSS1/</a>
        <dt id="biblio-css3-marquee">[CSS3-MARQUEE]
        <dd>Bert Bos。<a href="https://www.w3.org/TR/css3-marquee/"><cite>CSS Marquee Module Level
                    3</cite></a>。2014年10月14日。NOTE。URL: <a
                href="https://www.w3.org/TR/css3-marquee/">https://www.w3.org/TR/css3-marquee/</a>
        <dt id="biblio-css3gcpm">[CSS3GCPM]
        <dd>Rachel Andrew; Mike Bremford。<a href="https://drafts.csswg.org/css-gcpm/"><cite>CSS Generated Content for
                    Paged Media Module</cite></a>。URL: <a
                href="https://drafts.csswg.org/css-gcpm/">https://drafts.csswg.org/css-gcpm/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">属性索引</span><a class="self-link"
            href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    <th scope="col">值
                    <th scope="col">初始值
                    <th scope="col">适用于
                    <th scope="col">继承
                    <th scope="col">百分比
                    <th scope="col">动画类型
                    <th scope="col">标准顺序
                    <th scope="col">计算值
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-scroll-marker-group"
                            id="ref-for-propdef-scroll-marker-group⑤">scroll-marker-group</a>
                    <td>none | before | after
                    <td>none
                    <td>滚动容器
                    <td>否
                    <td>不适用
                    <td>离散
                    <td>按语法
                    <td>指定值
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> 本节内容高度实验性。
            它记录了当前尝试扩展 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue">continue</a> 属性的能力，
            以解决更多的使用案例。
            然而，目前尚未达成共识。
            这里的内容是为了鼓励讨论，但不推荐进行非实验性的实现。<a class="issue-return" href="#issue-3406e15b" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 该属性及其值的命名是初步的。
            最初提出的是 "fragmentation: auto | none | break | clone | page"，见 <a
                href="https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html">https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html</a>，
            对哪种命名更好目前还没有广泛的一致意见。<a class="issue-return" href="#issue-70dec9cf" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 这个属性旨在进行概括和替换 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-regions-1/#propdef-region-fragment">region-fragment</a>。
            一旦其在本规范中足够稳定，应该从 Regions 规范中移除 <span class="property">region-fragment</span> 以支持此属性。<a class="issue-return"
                href="#issue-b201bbf9" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 这与 <a href="https://drafts.csswg.org/css-overflow-4/#continue"><cite>CSS Overflow 4</cite>
                § 5.3 Fragmentation of Overflow: the continue property</a> 中的定义不同，
            其中指定值为计算值。
            哪种模型更好？<a class="issue-return" href="#issue-cb5399d1" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 如果我们引入一个可以选择多列的伪元素，
            我们需要指定 auto 的计算结果为 auto，
            或引入一个新值，并让 auto 计算为该值
            （但该值在不是列的元素上计算结果会是什么？）。<a class="issue-return" href="#issue-7e96806f" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 撰写此部分内容 <a class="issue-return" href="#issue-001d5014" title="跳转到部分">↵</a></div>
        <div class="issue"> 页面应该可以使用 @page 规则进行样式化。嵌套页面如何处理？<a class="issue-return" href="#issue-338ad0f3"
                title="跳转到部分">↵</a></div>
        <div class="issue"> 传统分页（例如打印时）是否应该通过某种方式在 UA 样式表中插入以下内容来表达：
            <pre><code class="lang-css highlight"><c- n>@media</c-> <c- p>(</c->overflow-block: paged<c- p>),</c-> <c- p>(</c->overflow-block: optional-paged<c- p>)</c-> <c- p>{</c->
  :root <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> paginate<c- p>;</c->
  <c- p>}</c->
<c- p>}</c->
</code></pre>
            <a class="issue-return" href="#issue-20e2f78e" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 传统分页（例如打印时）假设 :root 被包含在页面框中，
            而不是页面框是 :root 的伪元素子元素。
            我们能否通过类似片段框的东西来解决这个问题？
            或者通过在 :root 内部包含一个页面框（重现 :root）内的片段框来解决？<a class="issue-return" href="#issue-87a37458" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 页面框模型作为常规 CSS 框的子元素时如何工作？<a class="issue-return" href="#issue-64583cf9" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 最初在 <a data-link-type="biblio" href="#biblio-css3gcpm"
                title="CSS Generated Content for Paged Media Module">[CSS3GCPM]</a> 中的提案以及 Opera 的实现
            使用了 4 个值来替代 <a class="css" data-link-type="maybe" href="#valdef-continue-paginate">paginate</a>：
            "paged-x | paged-y | paged-x-controls | paged-y-controls"。
            此属性是否也应包含这些值，还是它们更适合作为单独的属性来处理？
            （例如："pagination-layout: auto | horizontal | vertical"，"pagination-controls: auto | none"）<a
                class="issue-return" href="#issue-c27ed5ea" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 能否一次显示 N 页而不是只显示一页？
            这可以作为 "pagination-layout" 的一个值，例如：
            "pagination-layout: horizontal 2;" <a class="issue-return" href="#issue-e78fc89d" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> Brad Kemper 提出了一个结合分页和片段溢出的模型，这也涉及显示多页内容。<a
                href="http://www.w3.org/mid/FF1704C5-D5C1-4D6F-A99D-0DD094036685@gmail.com">http://www.w3.org/mid/FF1704C5-D5C1-4D6F-A99D-0DD094036685@gmail.com</a>
            <a class="issue-return" href="#issue-299c8af8" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 目前分页溢出的实现使用了 overflow/overflow-x/overflow-y 属性，
            而不是在 <a data-link-type="biblio" href="#biblio-css3gcpm"
                title="CSS Generated Content for Paged Media Module">[CSS3GCPM]</a> 草案中提到的 overflow-style 属性
            （也符合 <a data-link-type="biblio" href="#biblio-css3-marquee"
                title="CSS Marquee Module Level 3">[CSS3-MARQUEE]</a> 提案），
            或者本文中描述的 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue">continue</a> 属性。<a class="issue-return"
                href="#issue-6bc0b289" title="跳转到部分">↵</a>
        </div>
        <div class="issue">或者它就像是元素的下一个兄弟元素？需要弄清楚这与其他框级修复如何相互作用。<a class="issue-return" href="#issue-c87585cb"
                title="跳转到部分">↵</a></div>
        <div class="issue">虽然它定义了 <i>多列容器</i> <a class="issue-return" href="#issue-6629852d" title="跳转到部分">↵</a></div>
        <div class="issue">强制断点是否应该导致外部分片上下文中生成单个片段框的新片段还是新的片段框？<a class="issue-return" href="#issue-74cf5d92"
                title="跳转到部分">↵</a></div>
        <div class="issue">我们是否应该在这里找到一个比 <a data-link-type="dfn" href="#fragment-box">fragment box</a> 更不令人困惑的术语？<a
                class="issue-return" href="#issue-ca84b506" title="跳转到部分">↵</a></div>
        <div class="issue"> 如果我们想要对分片上下文内的元素部分进行样式化呢？
            这些规则阻止了我们为此使用 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment">::nth-fragment()</a>，
            尽管这个名称似乎是这种功能的最合逻辑的名称。<a class="issue-return" href="#issue-82870b15" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 我们应当指定 <a class="css" data-link-type="propdesc"
                href="https://drafts.csswg.org/css-overflow-4/#propdef-continue">continue: fragments</a> 不适用于某些表格部分，
            也可能不适用于其他元素。
            我们需要确定究竟是哪些元素。<a class="issue-return" href="#issue-4d452eb2" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 本规范需要说明创建了哪种类型的分片上下文，
            以便明确哪些 <a class="property css" data-link-type="property">break-*</a> 属性值会在该上下文中引起断点。
            我们可能希望 <span class="css">break-*: region</span> 适用。<a class="issue-return" href="#issue-0df4918a"
                title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 本规范需要一个处理模型，
            适用于包含片段的布局具有使用片段固有大小来改变可用空间的特性，
            例如 <a data-link-type="biblio" href="#biblio-css3-grid-layout"
                title="CSS Grid Layout Module Level 1">[CSS3-GRID-LAYOUT]</a>。
            在 <a data-link-type="biblio" href="#biblio-css-regions-1"
                title="CSS Regions Module Level 1">[CSS-REGIONS-1]</a> 中已经进行了一些关于此类处理模型的工作，
            那里的工作以及该规范的编辑者们应对本规范的实现提供参考。<a class="issue-return" href="#issue-1d1c38d2" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 根据未来的讨论，
            该 <span class="css">::nth-fragment(<var>an+b</var>)</span> 语法
            可能会被替换为新的 <span class="css">::fragment:nth(<var>an+b</var>)</span> 语法。<a class="issue-return"
                href="#issue-978c73c1" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 这是否仅适用于 continue:fragments，
            还是也适用于 continue:paginate？
            （如果适用，则需要对 continue:paginate 实施更严格的属性限制。）<a class="issue-return" href="#issue-ce652c3d" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 这是否需要在层叠模块中进行说明？<a class="issue-return" href="#issue-40daaa94" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 需要具体说明这如何工作。<a class="issue-return" href="#issue-d723335f" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 此继承规则允许通过间接方式指定样式
            （例如使用显式的 <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/css-cascade-5/#valdef-all-inherit">inherit</a> 或者对不适用于 <a class="css"
                data-link-type="maybe"
                href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter">::first-letter</a> 的属性使用默认继承），
            而不能直接指定样式（基于下一节中的规则）。
            这是一个问题。
            适用于片段内样式的限制也应适用于从片段继承的样式。<a class="issue-return" href="#issue-0fc783b4" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 这是否仅适用于 continue:fragments，
            还是也适用于 continue:paginate？<a class="issue-return" href="#issue-4a9707fc" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 添加表示这些示例的图片。<a class="issue-return" href="#issue-41eecb3e" title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 当下一个标记比上一个更接近对齐时，我们应该使用下一个标记，类似于强制对齐点选择。<a class="issue-return" href="#issue-0026435b"
                title="跳转到部分">↵</a>
        </div>
        <div class="issue"> 待定 <a class="issue-return" href="#issue-d4908b1e" title="跳转到部分">↵</a></div>
    </div>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "03df0aa6": { "dfnID": "03df0aa6", "dfnText": "css region", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-region" }, { "id": "ref-for-css-region\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://drafts.csswg.org/css-regions-1/#css-region" },
                "0570259e": { "dfnID": "0570259e", "dfnText": "float", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-float" }], "title": "Styling of fragments" }], "url": "https://drafts.csswg.org/css2/#propdef-float" },
                "0cda95c2": { "dfnID": "0cda95c2", "dfnText": "determine the scroll-into-view position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-determine-the-scroll-into-view-position" }], "title": "Scroll tracking" }], "url": "https://drafts.csswg.org/cssom-view-1/#determine-the-scroll-into-view-position" },
                "2467179e": { "dfnID": "2467179e", "dfnText": "content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-content" }], "title": "2.2. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-propdef-content\u2460" }, { "id": "ref-for-propdef-content\u2461" }], "title": "Styling of fragments" }], "url": "https://drafts.csswg.org/css-content-3/#propdef-content" },
                "25538777": { "dfnID": "25538777", "dfnText": "tree order", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-order" }], "title": "2.2. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-concept-tree-order\u2460" }], "title": "Scroll tracking" }], "url": "https://dom.spec.whatwg.org/#concept-tree-order" },
                "2cbb079e": { "dfnID": "2cbb079e", "dfnText": "scroll a target into view", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scroll-a-target-into-view" }], "title": "scrollTargetElement attribute" }], "url": "https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view" },
                "34b77623": { "dfnID": "34b77623", "dfnText": "layout containment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-layout-containment" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://drafts.csswg.org/css-contain-2/#layout-containment" },
                "40060954": { "dfnID": "40060954", "dfnText": "fragmentation container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fragmentation-container" }], "title": "1. \nIntroduction" }], "url": "https://drafts.csswg.org/css-break-4/#fragmentation-container" },
                "4e6dbe9d": { "dfnID": "4e6dbe9d", "dfnText": "continue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-continue" }], "title": "\nAppendix A: Redirection of Overflow" }, { "refs": [{ "id": "ref-for-propdef-continue\u2460" }, { "id": "ref-for-propdef-continue\u2461" }, { "id": "ref-for-propdef-continue\u2462" }, { "id": "ref-for-propdef-continue\u2463" }, { "id": "ref-for-propdef-continue\u2464" }, { "id": "ref-for-propdef-continue\u2465" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-propdef-continue\u2466" }, { "id": "ref-for-propdef-continue\u2467" }], "title": "\nPaginated overflow" }, { "refs": [{ "id": "ref-for-propdef-continue\u2468" }, { "id": "ref-for-propdef-continue\u2460\u24ea" }, { "id": "ref-for-propdef-continue\u2460\u2460" }, { "id": "ref-for-propdef-continue\u2460\u2461" }, { "id": "ref-for-propdef-continue\u2460\u2462" }], "title": "\nFragmented Overflow" }, { "refs": [{ "id": "ref-for-propdef-continue\u2460\u2463" }, { "id": "ref-for-propdef-continue\u2460\u2464" }, { "id": "ref-for-propdef-continue\u2460\u2465" }, { "id": "ref-for-propdef-continue\u2460\u2466" }], "title": "Styling of fragments" }], "url": "https://drafts.csswg.org/css-overflow-4/#propdef-continue" },
                "53fddd4a": { "dfnID": "53fddd4a", "dfnText": "select the indicated part", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-select-the-indicated-part" }], "title": "scrollTargetElement attribute" }], "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#select-the-indicated-part" },
                "5e3e8101": { "dfnID": "5e3e8101", "dfnText": "inner display type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inner-display-type" }], "title": "Styling of fragments" }], "url": "https://drafts.csswg.org/css-display-4/#inner-display-type" },
                "68019d7a": { "dfnID": "68019d7a", "dfnText": "height", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-height" }], "title": "\nFragmented Overflow" }], "url": "https://drafts.csswg.org/css-sizing-3/#propdef-height" },
                "68bf3d31": { "dfnID": "68bf3d31", "dfnText": "a", "external": true, "refSections": [{ "refs": [{ "id": "ea1bbaa30" }, { "id": "ref-for-the-a-element" }, { "id": "ref-for-the-a-element\u2460" }], "title": "\nAppendix B: Scroll navigation controls" }, { "refs": [{ "id": "ref-for-the-a-element\u2461" }, { "id": "ref-for-the-a-element\u2462" }], "title": "scrollTargetElement attribute" }], "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" },
                "6ec67710": { "dfnID": "6ec67710", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }], "title": "2. \nOverflow Controls: the scroll-marker-group property and pseudo-elements" }, { "refs": [{ "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://drafts.csswg.org/css-values-4/#comb-one" },
                "75bfa627": { "dfnID": "75bfa627", "dfnText": "::first-line", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-first-line" }], "title": "Styling inside fragments" }], "url": "https://drafts.csswg.org/css-pseudo-4/#selectordef-first-line" },
                "82805a4e": { "dfnID": "82805a4e", "dfnText": "originating element", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-originating-element" }, { "id": "ref-for-originating-element\u2460" }], "title": "2. \nOverflow Controls: the scroll-marker-group property and pseudo-elements" }, { "refs": [{ "id": "ref-for-originating-element\u2461" }, { "id": "ref-for-originating-element\u2462" }], "title": "2.2. The ::scroll-marker pseudo-element" }], "url": "https://drafts.csswg.org/selectors-4/#originating-element" },
                "85394472": { "dfnID": "85394472", "dfnText": "Document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-document" }], "title": "scrollTargetElement attribute" }], "url": "https://dom.spec.whatwg.org/#document" },
                "85c51660": { "dfnID": "85c51660", "dfnText": "region-fragment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-region-fragment" }, { "id": "ref-for-propdef-region-fragment\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://drafts.csswg.org/css-regions-1/#propdef-region-fragment" },
                "86923d07": { "dfnID": "86923d07", "dfnText": "scroll container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scroll-container" }, { "id": "ref-for-scroll-container\u2460" }, { "id": "ref-for-scroll-container\u2461" }, { "id": "ref-for-scroll-container\u2462" }, { "id": "ref-for-scroll-container\u2463" }], "title": "2. \nOverflow Controls: the scroll-marker-group property and pseudo-elements" }, { "refs": [{ "id": "ref-for-scroll-container\u2464" }, { "id": "ref-for-scroll-container\u2465" }], "title": "2.1. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-scroll-container\u2466" }, { "id": "ref-for-scroll-container\u2467" }, { "id": "ref-for-scroll-container\u2468" }], "title": "2.2. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-scroll-container\u2460\u24ea" }, { "id": "ref-for-scroll-container\u2460\u2460" }, { "id": "ref-for-scroll-container\u2460\u2461" }, { "id": "ref-for-scroll-container\u2460\u2462" }], "title": "Scroll tracking" }], "url": "https://drafts.csswg.org/css-overflow-3/#scroll-container" },
                "86928bde": { "dfnID": "86928bde", "dfnText": "overflow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-overflow" }], "title": "\nAppendix A: Redirection of Overflow" }, { "refs": [{ "id": "ref-for-propdef-overflow\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://drafts.csswg.org/css-overflow-3/#propdef-overflow" },
                "90d73ada": { "dfnID": "90d73ada", "dfnText": ":checked", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-checked-pseudo" }], "title": "scrollTargetElement attribute" }], "url": "https://drafts.csswg.org/selectors-4/#checked-pseudo" },
                "9955d5a2": { "dfnID": "9955d5a2", "dfnText": "auto", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-continue-auto" }, { "id": "ref-for-valdef-continue-auto\u2460" }, { "id": "ref-for-valdef-continue-auto\u2461" }, { "id": "ref-for-valdef-continue-auto\u2462" }, { "id": "ref-for-valdef-continue-auto\u2463" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-valdef-continue-auto\u2464" }], "title": "\nPaginated overflow" }], "url": "https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto" },
                "9ea68b61": { "dfnID": "9ea68b61", "dfnText": "indicated part", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-indicated-part-of-the-document" }], "title": "\nAppendix B: Scroll navigation controls" }, { "refs": [{ "id": "ref-for-the-indicated-part-of-the-document\u2460" }], "title": "scrollTargetElement attribute" }], "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document" },
                "a1addf6c": { "dfnID": "a1addf6c", "dfnText": "::first-letter", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-first-letter" }], "title": "Styling of fragments" }, { "refs": [{ "id": "ref-for-selectordef-first-letter\u2460" }, { "id": "ref-for-selectordef-first-letter\u2461" }, { "id": "ref-for-selectordef-first-letter\u2462" }], "title": "Styling inside fragments" }], "url": "https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter" },
                "b8a0ba74": { "dfnID": "b8a0ba74", "dfnText": "position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-position" }], "title": "Styling of fragments" }], "url": "https://drafts.csswg.org/css-position-3/#propdef-position" },
                "c388d253": { "dfnID": "c388d253", "dfnText": "inherit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-all-inherit" }], "title": "Styling of fragments" }], "url": "https://drafts.csswg.org/css-cascade-5/#valdef-all-inherit" },
                "ccda0818": { "dfnID": "ccda0818", "dfnText": "subject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-subject" }], "title": "Styling of fragments" }], "url": "https://drafts.csswg.org/selectors-3/#subject" },
                "dom-htmllinkelement-scrolltargetelement": { "dfnID": "dom-htmllinkelement-scrolltargetelement", "dfnText": "HTMLLinkElement.scrollTargetElement", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-htmllinkelement-scrolltargetelement" }], "title": "2.2. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-dom-htmllinkelement-scrolltargetelement\u2460" }, { "id": "ref-for-dom-htmllinkelement-scrolltargetelement\u2461" }, { "id": "ref-for-dom-htmllinkelement-scrolltargetelement\u2462" }, { "id": "ref-for-dom-htmllinkelement-scrolltargetelement\u2463" }], "title": "scrollTargetElement attribute" }, { "refs": [{ "id": "ref-for-dom-htmllinkelement-scrolltargetelement\u2464" }, { "id": "ref-for-dom-htmllinkelement-scrolltargetelement\u2465" }], "title": "Scroll tracking" }, { "refs": [{ "id": "ref-for-dom-htmllinkelement-scrolltargetelement\u2466" }], "title": "Focus behavior" }], "url": "#dom-htmllinkelement-scrolltargetelement" },
                "e4a82d25": { "dfnID": "e4a82d25", "dfnText": "overflow columns", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-overflow-columns" }], "title": "\nFragmented Overflow" }], "url": "https://drafts.csswg.org/css-multicol-1/#overflow-columns" },
                "e750f2bf": { "dfnID": "e750f2bf", "dfnText": "max-lines", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-max-lines" }], "title": "\nFragmented Overflow" }], "url": "https://drafts.csswg.org/css-overflow-4/#propdef-max-lines" },
                "e7f0dd6c": { "dfnID": "e7f0dd6c", "dfnText": "display", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-display" }, { "id": "ref-for-propdef-display\u2460" }], "title": "Styling of fragments" }], "url": "https://drafts.csswg.org/css-display-4/#propdef-display" },
                "ec0a7b21": { "dfnID": "ec0a7b21", "dfnText": "region chain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-region-chain" }, { "id": "ref-for-region-chain\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://drafts.csswg.org/css-regions-1/#region-chain" },
                "element-attrdef-a-href": { "dfnID": "element-attrdef-a-href", "dfnText": "href", "external": false, "refSections": [], "url": "#element-attrdef-a-href" },
                "f0246dc8": { "dfnID": "f0246dc8", "dfnText": "follow the hyperlink", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-following-hyperlinks-2" }], "title": "scrollTargetElement attribute" }], "url": "https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" },
                "fragment-box": { "dfnID": "fragment-box", "dfnText": "fragment box", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fragment-box" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-fragment-box\u2460" }, { "id": "ref-for-fragment-box\u2461" }, { "id": "ref-for-fragment-box\u2462" }, { "id": "ref-for-fragment-box\u2463" }, { "id": "ref-for-fragment-box\u2464" }, { "id": "ref-for-fragment-box\u2465" }], "title": "\nFragmented Overflow" }, { "refs": [{ "id": "ref-for-fragment-box\u2466" }, { "id": "ref-for-fragment-box\u2467" }], "title": "The ::nth-fragment() pseudo-element" }, { "refs": [{ "id": "ref-for-fragment-box\u2468" }, { "id": "ref-for-fragment-box\u2460\u24ea" }, { "id": "ref-for-fragment-box\u2460\u2460" }, { "id": "ref-for-fragment-box\u2460\u2461" }, { "id": "ref-for-fragment-box\u2460\u2462" }, { "id": "ref-for-fragment-box\u2460\u2463" }, { "id": "ref-for-fragment-box\u2460\u2464" }, { "id": "ref-for-fragment-box\u2460\u2465" }, { "id": "ref-for-fragment-box\u2460\u2466" }, { "id": "ref-for-fragment-box\u2460\u2467" }], "title": "Styling of fragments" }, { "refs": [{ "id": "ref-for-fragment-box\u2460\u2468" }, { "id": "ref-for-fragment-box\u2461\u24ea" }], "title": "Styling inside fragments" }], "url": "#fragment-box" },
                "propdef-scroll-marker-group": { "dfnID": "propdef-scroll-marker-group", "dfnText": "scroll-marker-group", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-scroll-marker-group" }, { "id": "ref-for-propdef-scroll-marker-group\u2460" }], "title": "2. \nOverflow Controls: the scroll-marker-group property and pseudo-elements" }, { "refs": [{ "id": "ref-for-propdef-scroll-marker-group\u2461" }, { "id": "ref-for-propdef-scroll-marker-group\u2462" }], "title": "2.1. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-propdef-scroll-marker-group\u2463" }], "title": "2.2. The ::scroll-marker pseudo-element" }], "url": "#propdef-scroll-marker-group" },
                "scroll-marker-control": { "dfnID": "scroll-marker-control", "dfnText": "scroll marker control", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scroll-marker-control" }, { "id": "ref-for-scroll-marker-control\u2460" }, { "id": "ref-for-scroll-marker-control\u2461" }], "title": "scrollTargetElement attribute" }, { "refs": [{ "id": "ref-for-scroll-marker-control\u2462" }, { "id": "ref-for-scroll-marker-control\u2463" }], "title": "Scroll tracking" }, { "refs": [{ "id": "ref-for-scroll-marker-control\u2464" }], "title": "Focus behavior" }], "url": "#scroll-marker-control" },
                "scroll-marker-group①": { "dfnID": "scroll-marker-group\u2460", "dfnText": "scroll marker group", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scroll-marker-group\u2460" }, { "id": "ref-for-scroll-marker-group\u2460\u2460" }], "title": "Scroll tracking" }], "url": "#scroll-marker-group\u2460" },
                "selectordef-nth-fragment": { "dfnID": "selectordef-nth-fragment", "dfnText": "::nth-fragment()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-nth-fragment" }], "title": "\nFragmented Overflow" }, { "refs": [{ "id": "ref-for-selectordef-nth-fragment\u2460" }], "title": "The ::nth-fragment() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-nth-fragment\u2461" }, { "id": "ref-for-selectordef-nth-fragment\u2462" }, { "id": "ref-for-selectordef-nth-fragment\u2463" }, { "id": "ref-for-selectordef-nth-fragment\u2464" }, { "id": "ref-for-selectordef-nth-fragment\u2465" }, { "id": "ref-for-selectordef-nth-fragment\u2466" }, { "id": "ref-for-selectordef-nth-fragment\u2467" }, { "id": "ref-for-selectordef-nth-fragment\u2468" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u24ea" }], "title": "Styling of fragments" }, { "refs": [{ "id": "ref-for-selectordef-nth-fragment\u2460\u2460" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u2461" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u2462" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u2463" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u2464" }], "title": "Styling inside fragments" }], "url": "#selectordef-nth-fragment" },
                "selectordef-scroll-marker": { "dfnID": "selectordef-scroll-marker", "dfnText": "::scroll-marker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-scroll-marker" }, { "id": "ref-for-selectordef-scroll-marker\u2460" }], "title": "2.2. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker\u2461" }, { "id": "ref-for-selectordef-scroll-marker\u2462" }], "title": "scrollTargetElement attribute" }], "url": "#selectordef-scroll-marker" },
                "selectordef-scroll-marker-group": { "dfnID": "selectordef-scroll-marker-group", "dfnText": "::scroll-marker-group", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-scroll-marker-group" }, { "id": "ref-for-selectordef-scroll-marker-group\u2460" }], "title": "2. \nOverflow Controls: the scroll-marker-group property and pseudo-elements" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker-group\u2461" }], "title": "2.1. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker-group\u2462" }], "title": "2.2. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker-group\u2463" }], "title": "scrollTargetElement attribute" }], "url": "#selectordef-scroll-marker-group" },
                "valdef-continue-fragments": { "dfnID": "valdef-continue-fragments", "dfnText": "fragments", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-continue-fragments" }, { "id": "ref-for-valdef-continue-fragments\u2460" }, { "id": "ref-for-valdef-continue-fragments\u2461" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-valdef-continue-fragments\u2462" }, { "id": "ref-for-valdef-continue-fragments\u2463" }, { "id": "ref-for-valdef-continue-fragments\u2464" }], "title": "\nFragmented Overflow" }, { "refs": [{ "id": "ref-for-valdef-continue-fragments\u2465" }], "title": "Styling of fragments" }], "url": "#valdef-continue-fragments" },
                "valdef-continue-overflow": { "dfnID": "valdef-continue-overflow", "dfnText": "overflow", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-continue-overflow" }, { "id": "ref-for-valdef-continue-overflow\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "#valdef-continue-overflow" },
                "valdef-continue-paginate": { "dfnID": "valdef-continue-paginate", "dfnText": "paginate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-continue-paginate" }, { "id": "ref-for-valdef-continue-paginate\u2460" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-valdef-continue-paginate\u2461" }, { "id": "ref-for-valdef-continue-paginate\u2462" }], "title": "\nPaginated overflow" }], "url": "#valdef-continue-paginate" },
                "valdef-scroll-marker-group-after": { "dfnID": "valdef-scroll-marker-group-after", "dfnText": "after", "external": false, "refSections": [], "url": "#valdef-scroll-marker-group-after" },
                "valdef-scroll-marker-group-before": { "dfnID": "valdef-scroll-marker-group-before", "dfnText": "before", "external": false, "refSections": [], "url": "#valdef-scroll-marker-group-before" },
                "valdef-scroll-marker-group-none": { "dfnID": "valdef-scroll-marker-group-none", "dfnText": "none", "external": false, "refSections": [], "url": "#valdef-scroll-marker-group-none" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#dom-htmllinkelement-scrolltargetelement": { "export": true, "for_": ["HTMLLinkElement"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scrollTargetElement", "type": "attribute", "url": "#dom-htmllinkelement-scrolltargetelement" },
                "#fragment-box": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "fragment box", "type": "dfn", "url": "#fragment-box" },
                "#propdef-scroll-marker-group": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scroll-marker-group", "type": "property", "url": "#propdef-scroll-marker-group" },
                "#scroll-marker-control": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scroll marker control", "type": "dfn", "url": "#scroll-marker-control" },
                "#scroll-marker-group①": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scroll marker group", "type": "dfn", "url": "#scroll-marker-group\u2460" },
                "#selectordef-nth-fragment": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "::nth-fragment()", "type": "selector", "url": "#selectordef-nth-fragment" },
                "#selectordef-scroll-marker": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "::scroll-marker", "type": "selector", "url": "#selectordef-scroll-marker" },
                "#selectordef-scroll-marker-group": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "::scroll-marker-group", "type": "selector", "url": "#selectordef-scroll-marker-group" },
                "#valdef-continue-fragments": { "export": true, "for_": ["continue"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "fragments", "type": "value", "url": "#valdef-continue-fragments" },
                "#valdef-continue-overflow": { "export": true, "for_": ["continue"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "overflow", "type": "value", "url": "#valdef-continue-overflow" },
                "#valdef-continue-paginate": { "export": true, "for_": ["continue"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "paginate", "type": "value", "url": "#valdef-continue-paginate" },
                "https://dom.spec.whatwg.org/#concept-tree-order": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "tree order", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-tree-order" },
                "https://dom.spec.whatwg.org/#document": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Document", "type": "interface", "url": "https://dom.spec.whatwg.org/#document" },
                "https://drafts.csswg.org/css-break-4/#fragmentation-container": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-break", "spec": "css-break-4", "status": "current", "text": "fragmentation container", "type": "dfn", "url": "https://drafts.csswg.org/css-break-4/#fragmentation-container" },
                "https://drafts.csswg.org/css-cascade-5/#valdef-all-inherit": { "export": true, "for_": ["all"], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "current", "text": "inherit", "type": "value", "url": "https://drafts.csswg.org/css-cascade-5/#valdef-all-inherit" },
                "https://drafts.csswg.org/css-contain-2/#layout-containment": { "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-contain", "spec": "css-contain-2", "status": "current", "text": "layout containment", "type": "dfn", "url": "https://drafts.csswg.org/css-contain-2/#layout-containment" },
                "https://drafts.csswg.org/css-content-3/#propdef-content": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-content", "spec": "css-content-3", "status": "current", "text": "content", "type": "property", "url": "https://drafts.csswg.org/css-content-3/#propdef-content" },
                "https://drafts.csswg.org/css-display-4/#inner-display-type": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "current", "text": "inner display type", "type": "dfn", "url": "https://drafts.csswg.org/css-display-4/#inner-display-type" },
                "https://drafts.csswg.org/css-display-4/#propdef-display": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "current", "text": "display", "type": "property", "url": "https://drafts.csswg.org/css-display-4/#propdef-display" },
                "https://drafts.csswg.org/css-multicol-1/#overflow-columns": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-multicol", "spec": "css-multicol-1", "status": "current", "text": "overflow columns", "type": "dfn", "url": "https://drafts.csswg.org/css-multicol-1/#overflow-columns" },
                "https://drafts.csswg.org/css-overflow-3/#propdef-overflow": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-3", "status": "current", "text": "overflow", "type": "property", "url": "https://drafts.csswg.org/css-overflow-3/#propdef-overflow" },
                "https://drafts.csswg.org/css-overflow-3/#scroll-container": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-3", "status": "current", "text": "scroll container", "type": "dfn", "url": "https://drafts.csswg.org/css-overflow-3/#scroll-container" },
                "https://drafts.csswg.org/css-overflow-4/#propdef-continue": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-4", "status": "current", "text": "continue", "type": "property", "url": "https://drafts.csswg.org/css-overflow-4/#propdef-continue" },
                "https://drafts.csswg.org/css-overflow-4/#propdef-max-lines": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-4", "status": "current", "text": "max-lines", "type": "property", "url": "https://drafts.csswg.org/css-overflow-4/#propdef-max-lines" },
                "https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto": { "export": true, "for_": ["continue"], "level": "4", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-4", "status": "current", "text": "auto", "type": "value", "url": "https://drafts.csswg.org/css-overflow-4/#valdef-continue-auto" },
                "https://drafts.csswg.org/css-position-3/#propdef-position": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-position", "spec": "css-position-3", "status": "current", "text": "position", "type": "property", "url": "https://drafts.csswg.org/css-position-3/#propdef-position" },
                "https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-pseudo", "spec": "css-pseudo-4", "status": "current", "text": "::first-letter", "type": "selector", "url": "https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter" },
                "https://drafts.csswg.org/css-pseudo-4/#selectordef-first-line": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-pseudo", "spec": "css-pseudo-4", "status": "current", "text": "::first-line", "type": "selector", "url": "https://drafts.csswg.org/css-pseudo-4/#selectordef-first-line" },
                "https://drafts.csswg.org/css-regions-1/#css-region": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-regions", "spec": "css-regions-1", "status": "current", "text": "css region", "type": "dfn", "url": "https://drafts.csswg.org/css-regions-1/#css-region" },
                "https://drafts.csswg.org/css-regions-1/#propdef-region-fragment": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-regions", "spec": "css-regions-1", "status": "current", "text": "region-fragment", "type": "property", "url": "https://drafts.csswg.org/css-regions-1/#propdef-region-fragment" },
                "https://drafts.csswg.org/css-regions-1/#region-chain": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-regions", "spec": "css-regions-1", "status": "current", "text": "region chain", "type": "dfn", "url": "https://drafts.csswg.org/css-regions-1/#region-chain" },
                "https://drafts.csswg.org/css-sizing-3/#propdef-height": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "current", "text": "height", "type": "property", "url": "https://drafts.csswg.org/css-sizing-3/#propdef-height" },
                "https://drafts.csswg.org/css-values-4/#comb-one": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "current", "text": "|", "type": "grammar", "url": "https://drafts.csswg.org/css-values-4/#comb-one" },
                "https://drafts.csswg.org/css2/#propdef-float": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css", "spec": "css22", "status": "current", "text": "float", "type": "property", "url": "https://drafts.csswg.org/css2/#propdef-float" },
                "https://drafts.csswg.org/cssom-view-1/#determine-the-scroll-into-view-position": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "determine the scroll-into-view position", "type": "dfn", "url": "https://drafts.csswg.org/cssom-view-1/#determine-the-scroll-into-view-position" },
                "https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "scroll a target into view", "type": "dfn", "url": "https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view" },
                "https://drafts.csswg.org/selectors-3/#subject": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "", "status": "anchor-block", "text": "subject", "type": "dfn", "url": "https://drafts.csswg.org/selectors-3/#subject" },
                "https://drafts.csswg.org/selectors-4/#checked-pseudo": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "selectors", "spec": "selectors-4", "status": "current", "text": ":checked", "type": "selector", "url": "https://drafts.csswg.org/selectors-4/#checked-pseudo" },
                "https://drafts.csswg.org/selectors-4/#originating-element": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "selectors", "spec": "selectors-4", "status": "current", "text": "originating element", "type": "dfn", "url": "https://drafts.csswg.org/selectors-4/#originating-element" },
                "https://html.spec.whatwg.org/multipage/browsing-the-web.html#select-the-indicated-part": { "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "select the indicated part", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#select-the-indicated-part" },
                "https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document": { "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "indicated part", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document" },
                "https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2": { "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "follow the hyperlink", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" },
                "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "a", "type": "element", "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.text != linkText) {
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.text)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const ref = refsData[url];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>