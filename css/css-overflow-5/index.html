<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 溢出模块 第 5 级</title>
    <meta content="ED" name="w3c-status">
    <meta content="FPWD" name="w3c-status">
    <meta content="Bikeshed version ac5ea272d, updated Fri Dec 6 15:45:15 2024 -0800" name="generator">
    <link href="https://www.w3.org/TR/css-overflow-5/" rel="canonical">
    <meta content="8bd3177e7135460e31016be1684138993b1b852b" name="revision">
    <meta content="dark light" name="color-scheme">
    <style>
        table.source-demo-pair {
            width: 100%;
        }

        .in-cards-demo {
            width: 13em;
            height: 8em;

            padding: 4px;
            border: medium solid blue;
            margin: 6px;

            font: medium/1.3 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .bouncy-columns-demo {
            width: 6em;
            height: 10em;
            float: left;
            margin: 1em;
            font: medium/1.25 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .bouncy-columns-demo.one {
            background: aqua;
            color: black;
            transform: rotate(-3deg);
        }

        .bouncy-columns-demo.two {
            background: yellow;
            color: black;
            transform: rotate(3deg);
        }

        .article-font-inherit-demo {
            font: 1em/1.25 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .article-font-inherit-demo.one {
            width: 12em;
            font-size: 1.5em;
            margin-bottom: 1em;
            height: 4em;
        }

        .article-font-inherit-demo.two {
            width: 11em;
            margin-left: 5em;
            margin-right: 2em;
        }

        .dark-columns-demo {
            width: 6em;
            height: 10em;
            float: left;
            margin-right: 1em;
            font: medium/1.25 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .dark-columns-demo.one {
            background: aqua;
            color: black;
        }

        .dark-columns-demo.one :link {
            color: blue;
        }

        .dark-columns-demo.one :visited {
            color: purple;
        }

        .dark-columns-demo.two {
            background: navy;
            color: white;
        }

        .dark-columns-demo.two :link {
            color: aqua;
        }

        .dark-columns-demo.two :visited {
            color: fuchsia;
        }

        .article-max-lines-demo {
            font: 1em/1.25 Times New Roman, Times, serif;
            white-space: nowrap;
        }

        .article-max-lines-demo.one::first-letter {
            font-size: 2em;
            line-height: 0.9;
        }

        .article-max-lines-demo.one {
            font-size: 1.5em;
            width: 16em;
        }

        .article-max-lines-demo.two {
            width: 11.5em;
            float: left;
            margin-right: 1em;
        }

        .article-max-lines-demo.three {
            width: 11.5em;
            float: left;
        }

        .awesome-table td {
            padding: 5px;
        }

        .awesome-table {
            color: #000;
            background: #fff;
            margin: auto;
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS 溢出模块 第 5 级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#FPWD">W3C 首个公开工作草案</a>, <time class="dt-updated"
                datetime="2024-12-17">2024年12月17日</time></p>
        <details open>
            <summary>更多关于本文档的详细信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本：
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2024/WD-css-overflow-5-20241217/">https://www.w3.org/TR/2024/WD-css-overflow-5-20241217/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/css-overflow-5/">https://www.w3.org/TR/css-overflow-5/</a>
                    <dt>编辑草案：
                    <dd><a href="https://drafts.csswg.org/css-overflow-5/">https://drafts.csswg.org/css-overflow-5/</a>
                    <dt>历史：
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-overflow-5/">https://www.w3.org/standards/history/css-overflow-5/</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-overflow-5">CSSWG 问题库</a>
                    <dd><a href="#issues-index">规范内反馈</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="43241"><a class="p-name fn u-url url"
                            href="http://florian.rivoal.net/">Florian Rivoal</a> (<span class="p-org org">代表彭博社</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url"
                            href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span
                            class="p-org org">Apple</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="98451"><a class="p-name fn u-email email"
                            href="mailto:flackr@google.com">Robert Flack</a> (<span class="p-org org">Google</span>)
                    <dt>建议对此规范进行编辑：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-overflow-5/Overview.bs">GitHub
                            编辑器</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2024 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本模块包含 CSS 中与可视化媒体中可滚动溢出处理相关的特性。
            它建立在 <a href="https://www.w3.org/TR/css-overflow-4/">CSS 溢出模块第 4 级</a> 的基础上，
            增加了生成和关联各种滚动控件的能力
            （用于指示滚动进度的标记，用于触发滚动的按钮），
            并增加了一个附录，其中包含对<a href="#fragmentation">通过分片重定向溢出</a>的实验性探索。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（如 HTML 和 XML）
        在屏幕、纸张等媒介上渲染的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档的状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。
                W3C 当前的出版物列表
                以及本技术报告的最新修订版
                可以在 <a href="https://www.w3.org/TR/">W3C 技术报告索引 https://www.w3.org/TR/</a> 中找到。</em> </p>
        <p> 本文档由 <a href="https://www.w3.org/groups/wg/css">CSS 工作组</a>作为<strong>首个公开工作草案</strong>发布，
            采用<a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">推荐标准流程</a>。
            作为首个公开工作草案发布
            并不意味着 <abbr title="万维网联盟">W3C</abbr> 及其成员的认可。 </p>
        <p> 这是一个草案文件，
            随时可能被其他文件更新、替换
            或废弃。
            将本文档作为正在进行的工作以外的任何形式引用都是不合适的。 </p>
        <p>请通过<a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 中提交问题</a>（首选）发送反馈，
            并在标题中包含规范代码“css-overflow”，例如：
            “[css-overflow] <i>…评论摘要…</i>”。
            所有问题和评论都已<a href="https://lists.w3.org/Archives/Public/public-css-archive/">存档</a>。
            或者，可以将反馈发送到（<a href="https://lists.w3.org/Archives/Public/www-style/">已存档的</a>）公共邮件列表 <a
                href="mailto:www-style@w3.org?Subject=%5Bcss-overflow%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。
        </p>
        <p>本文档受 <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">2023年11月3日 W3C
                流程文档</a>的约束。 </p>
        <p>本文档由一个在 <a href="https://www.w3.org/policies/patent-policy/20200915/">W3C 专利政策</a>下运作的小组制作。
            W3C 维护一个与该小组交付成果相关的<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">任何专利披露的公开列表</a>；
            该页面还包括披露专利的说明。
            任何实际知晓某项专利包含<a href="https://www.w3.org/policies/patent-policy/20200915/#def-essential">必要权利要求</a>的个人
            必须根据 <a href="https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure">W3C 专利政策第 6 节</a>披露该信息。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content"> 引言</span></a>
            <li>
                <a href="#overflow-concepts"><span class="secno">2</span> <span class="content"> 溢出概念与术语</span></a>
                <ol class="toc">
                    <li><a href="#scrolling"><span class="secno">2.1</span> <span class="content">滚动溢出</span></a>
                </ol>
            <li>
                <a href="#scroll-navigation"><span class="secno">3</span> <span class="content"> 滚动导航控件</span></a>
                <ol class="toc">
                    <li>
                        <a href="#scroll-markers"><span class="secno">3.1</span> <span class="content"> 滚动标记</span></a>
                        <ol class="toc">
                            <li><a href="#scroll-marker-grouping"><span class="secno">3.1.1</span> <span
                                        class="content"> 滚动标记分组</span></a>
                            <li><a href="#scroll-marker-group-property"><span class="secno">3.1.2</span> <span
                                        class="content"> <span class="property">scroll-marker-group</span> 属性</span></a>
                            <li><a href="#scroll-marker-group-pseudo"><span class="secno">3.1.3</span> <span
                                        class="content"><span class="css">::scroll-marker-group</span> 伪元素</span></a>
                            <li><a href="#scroll-marker-pseudo"><span class="secno">3.1.4</span> <span
                                        class="content"><span class="css">::scroll-marker</span> 伪元素</span></a>
                            <li><a href="#active-scroll-marker"><span class="secno">3.1.5</span> <span class="content">
                                        选择活动滚动标记：<span class="css">:target-current</span> 伪类</span></a>
                            <li><a href="#scroll-marker-activation"><span class="secno">3.1.6</span> <span
                                        class="content">激活行为</span></a>
                            <li><a href="#scroll-target-focus"><span class="secno">3.1.7</span> <span
                                        class="content">焦点行为</span></a>
                        </ol>
                    <li><a href="#scroll-buttons"><span class="secno">3.2</span> <span class="content"> 滚动按钮</span></a>
                    <li><a href="#focus-order"><span class="secno">3.3</span> <span class="content"> 焦点导航顺序</span></a>
                </ol>
            <li>
                <a href="#fragmentation"><span class="secno"></span> <span class="content"> 附录 A：溢出重定向</span></a>
                <ol class="toc">
                    <li><a href="#channelling-overflow"><span class="secno"></span> <span class="content"> 引导溢出：<span
                                    class="property">continue</span> 属性</span></a>
                    <li><a href="#paginated-overflow"><span class="secno"></span> <span class="content"> 分页溢出</span></a>
                    <li><a href="#fragment-overflow"><span class="secno"></span> <span class="content"> 分片溢出</span></a>
                    <li>
                        <a href="#fragment-styling"><span class="secno"></span> <span class="content">分片样式</span></a>
                        <ol class="toc">
                            <li><a href="#fragment-pseudo-element"><span class="secno"></span> <span class="content">
                                        <span class="css">::nth-fragment()</span> 伪元素</span></a>
                            <li><a href="#style-of-fragments"><span class="secno"></span> <span class="content">
                                        分片的样式</span></a>
                            <li><a href="#style-in-fragments"><span class="secno"></span> <span
                                        class="content">分片内部的样式</span></a>
                        </ol>
                </ol>
            <li><a href="#privacy"><span class="secno"></span> <span class="content"> 附录 C：隐私注意事项</span></a>
            <li><a href="#security"><span class="secno"></span> <span class="content"> 附录 D：安全注意事项</span></a>
            <li><a href="#changes-l4"><span class="secno"></span> <span class="content"> 自第 4 级以来的变更</span></a>
            <li><a href="#acknowledgments"><span class="secno"></span> <span class="content"> 致谢</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> 一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> 文档约定</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                一致性类别</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content"> 部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content"> 不稳定和专有特性的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> 非实验性实现</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">信息性参考文献</span></a>
                </ol>
            <li><a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">
                引言</span><a class="self-link" href="#intro"></a></h2>
        <p>本规范扩展了 <a data-link-type="biblio" href="#biblio-css-overflow-4" title="CSS 溢出模块第 4 级">[CSS-OVERFLOW-4]</a>。
            它目前是一个差异规范，
            仅定义了少量新特性；
            有关溢出的其余特性，请参阅 <span title="CSS 溢出模块第 4 级">[CSS-OVERFLOW-4]</span>。</p>
        <dl>
            <dt data-md><a href="#scroll-navigation">滚动导航控件</a>
            <dd data-md>
                <p>本节定义了将<a data-link-type="dfn" href="#scroll-marker" id="ref-for-scroll-marker">滚动标记</a>与滚动容器中的元素关联的能力
                    （或作为 <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker"
                        id="ref-for-selectordef-scroll-marker">::scroll-marker</a>
                    伪元素自动生成它们，
                    具有自动用户行为和可访问标签），
                    这些标记可以被激活以滚动到关联的元素，
                    并通过 <a class="css" data-link-type="maybe" href="#selectordef-target-current"
                        id="ref-for-selectordef-target-current">:target-current</a> 伪类反映滚动容器的相对滚动进度。</p>
                <p>它还定义了 <a class="css" data-link-type="maybe" href="#selectordef-scroll-button-scroll-button-direction"
                        id="ref-for-selectordef-scroll-button-scroll-button-direction">::scroll-button()</a>
                    伪元素，
                    激活这些伪元素可以使其关联的滚动容器
                    向给定方向滚动一个“页面”。</p>
            <dt data-md><a href="#fragmentation">溢出重定向</a>
            <dd data-md>
                <p>本节定义了一个高度实验性、探索性的新模型，
                    用于通过将溢出重定向到新生成的<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-break-4/#fragmentation-container"
                        id="ref-for-fragmentation-container">分片容器</a>来处理溢出。</p>
        </dl>
        <h2 class="heading settled" data-level="2" id="overflow-concepts"><span class="secno">2. </span><span
                class="content"> 溢出概念与术语</span><a class="self-link" href="#overflow-concepts"></a></h2>
        <p class="issue" id="issue-50246bc5"><a class="self-link" href="#issue-50246bc5"></a> 最终确定后复制<a
                href="https://www.w3.org/TR/css-overflow-3/#overflow-concepts">第 3 级内容</a>。</p>
        <h3 class="heading settled" data-level="2.1" id="scrolling"><span class="secno">2.1. </span><span
                class="content">滚动溢出</span><a class="self-link" href="#scrolling"></a></h3>
        <p>以下内容添加到滚动溢出的概念中：</p>
        <p>每个<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container">滚动容器</a>都维护一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="current-scroll-target">当前滚动目标</dfn>。
            它最初为 <code>null</code>，
            并且在该<span id="ref-for-scroll-container①">滚动容器</span>中由用户发起的任何滚动操作之后，
            或任何没有目标的脚本发起的操作之后，
            或者当目标从文档中移除时，都会重置为 <code>null</code>。
            在<span id="ref-for-scroll-container②">滚动容器</span>中具有目标元素或伪元素的滚动操作，
            会将<a data-link-type="dfn" href="#current-scroll-target"
                id="ref-for-current-scroll-target">当前滚动目标</a>设置为该目标元素或伪元素。</p>
        <p class="issue" id="issue-fc26a707"><a class="self-link" href="#issue-fc26a707"></a> 设置当前滚动目标应在如何<a
                data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view"
                id="ref-for-scroll-a-target-into-view">将目标滚动到视图中</a>定义。</p>
        <p class="issue" id="issue-e9bdeb4d"><a class="self-link" href="#issue-e9bdeb4d"></a> 将当前滚动目标用作滚动锚定的<a
                data-link-type="dfn" href="https://drafts.csswg.org/css-scroll-anchoring-1/#anchor-priority-candidates"
                id="ref-for-anchor-priority-candidates">锚点优先级候选者</a>。</p>
        <h2 class="heading settled" data-level="3" id="scroll-navigation"><span class="secno">3. </span><span
                class="content"> 滚动导航控件</span><a class="self-link" href="#scroll-navigation"></a>
        </h2>
        <h3 class="heading settled" data-level="3.1" id="scroll-markers"><span class="secno">3.1. </span><span
                class="content"> 滚动标记</span><a class="self-link" href="#scroll-markers"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="scroll-marker">滚动标记</dfn>是任何具有<a
                data-link-type="dfn" href="#scroll-target" id="ref-for-scroll-target">滚动目标</a>的元素或伪元素。
            元素或伪元素的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="scroll-target">滚动目标</dfn>是由<a
                data-link-type="dfn" href="#scroll-marker" id="ref-for-scroll-marker①">滚动标记</a>指示的<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">元素</a></code>。
            哪些元素是<span id="ref-for-scroll-marker②">滚动标记</span>，以及它们的<span
                id="ref-for-scroll-target①">滚动目标</span>是什么，由宿主语言定义。
            <a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element">HTML &lt;a&gt;
                元素</a>和 <a href="https://www.w3.org/TR/SVG2/linking.html#Links">SVG &lt;a&gt; 元素</a>是<span
                id="ref-for-scroll-marker③">滚动标记</span>，
            其<span id="ref-for-scroll-target②">滚动目标</span>是<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document"
                id="ref-for-the-indicated-part-of-the-document">指示的部分</a>。
            虽然这些导航链接现在可以创建，
            但关于当前正在查看的内容，用户几乎得不到反馈，并且
            交互模型与许多现代可访问 UI 组件的期望不符。
        </p>
        <p>本规范添加了一种机制，用于创建<a data-link-type="dfn" href="#scroll-marker" id="ref-for-scroll-marker④">滚动标记</a>组，
            以及用于自动创建 <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker"
                id="ref-for-selectordef-scroll-marker①">::scroll-marker</a> 伪元素。
            在每个组内，活动标记反映当前的滚动位置，
            并且可以设置样式以向用户指示他们所在的区域。</p>
        <p>用例包括带有指向相关内容链接的目录、
            滚动轮播页面的标记，
            以及可滚动的选项卡面板。</p>
        <p class="issue" id="issue-41eecb3e"><a class="self-link" href="#issue-41eecb3e"></a> 添加表示这些示例的图片。</p>
        <h4 class="heading settled" data-level="3.1.1" id="scroll-marker-grouping"><span class="secno">3.1.1.
            </span><span class="content"> 滚动标记分组</span><a class="self-link" href="#scroll-marker-grouping"></a></h4>
        <p>具有 <a href="https://open-ui.org/components/focusgroup.explainer/">focusgroup</a> 属性的元素定义了一个<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="scroll-marker-group-container">滚动标记组容器</dfn>，它拥有一个<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="scroll-marker-group">滚动标记组</dfn>，其中包含所有以此为最近祖先<a data-link-type="dfn"
                href="#scroll-marker-group-container" id="ref-for-scroll-marker-group-container">滚动标记组容器</a>的<a
                data-link-type="dfn" href="#scroll-marker" id="ref-for-scroll-marker⑤">滚动标记</a>元素。</p>
        <p class="issue" id="issue-a5475f7a"><a class="self-link" href="#issue-a5475f7a"></a> 用于滚动进度跟踪的标记分组应与选择加入
            focusgroup 焦点行为分开。</p>
        <p><a class="css" data-link-type="maybe" href="#selectordef-scroll-marker-group"
                id="ref-for-selectordef-scroll-marker-group">::scroll-marker-group</a> 伪元素是其包含的 <a class="css"
                data-link-type="maybe" href="#selectordef-scroll-marker"
                id="ref-for-selectordef-scroll-marker②">::scroll-marker</a> 伪元素的<a data-link-type="dfn"
                href="#scroll-marker-group-container"
                id="ref-for-scroll-marker-group-container①">滚动标记组容器</a>，这些伪元素共同形成一个<a data-link-type="dfn"
                href="#scroll-marker-group" id="ref-for-scroll-marker-group">滚动标记组</a>。</p>
        <h4 class="heading settled" data-level="3.1.2" id="scroll-marker-group-property"><span class="secno">3.1.2.
            </span><span class="content"> <a class="property css" data-link-type="property"
                    href="#propdef-scroll-marker-group" id="ref-for-propdef-scroll-marker-group">scroll-marker-group</a>
                属性</span><a class="self-link" href="#scroll-marker-group-property"></a></h4>
        <table class="def propdef" data-link-for-hint="scroll-marker-group">
            <tbody>
                <tr>
                    <th>名称：
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-scroll-marker-group">scroll-marker-group</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值：</a>
                    <td class="prod">none <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> before <span
                            id="ref-for-comb-one①">|</span> after
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值：</a>
                    <td>none
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于：</a>
                    <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                            id="ref-for-scroll-container③">滚动容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">继承：</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比：</a>
                    <td>不适用
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值：</a>
                    <td>指定值
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序：</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型：</a>
                    <td>离散
        </table>
        <p><a class="property css" data-link-type="property" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group①">scroll-marker-group</a> 属性指定<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container④">滚动容器</a>是否应创建 '::scroll-marker-group' 伪元素，
            及其相对于滚动容器的位置。</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="scroll-marker-group" data-dfn-type="value" data-export
                    id="valdef-scroll-marker-group-none">none</dfn>
            <dd> <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                    id="ref-for-scroll-container⑤">滚动容器</a>不创建 '::scroll-marker-group' 伪元素。
            <dt><dfn class="dfn-paneled css" data-dfn-for="scroll-marker-group" data-dfn-type="value" data-export
                    id="valdef-scroll-marker-group-before">before</dfn>
            <dd> <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                    id="ref-for-scroll-container⑥">滚动容器</a>生成一个 <a class="css" data-link-type="maybe"
                    href="#selectordef-scroll-marker-group"
                    id="ref-for-selectordef-scroll-marker-group①">::scroll-marker-group</a> 伪元素，
                其框是其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                    id="ref-for-originating-element">源元素</a>的直接前兄弟元素。
            <dt><dfn class="dfn-paneled css" data-dfn-for="scroll-marker-group" data-dfn-type="value" data-export
                    id="valdef-scroll-marker-group-after">after</dfn>
            <dd> <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                    id="ref-for-scroll-container⑦">滚动容器</a>生成一个 <a class="css" data-link-type="maybe"
                    href="#selectordef-scroll-marker-group"
                    id="ref-for-selectordef-scroll-marker-group②">::scroll-marker-group</a> 伪元素，
                其框是其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                    id="ref-for-originating-element①">源元素</a>的直接后兄弟元素。
        </dl>
        <h4 class="heading settled" data-level="3.1.3" id="scroll-marker-group-pseudo"><span class="secno">3.1.3.
            </span><span class="content"><a class="css" data-link-type="maybe" href="#selectordef-scroll-marker-group"
                    id="ref-for-selectordef-scroll-marker-group③">::scroll-marker-group</a> 伪元素</span><a
                class="self-link" href="#scroll-marker-group-pseudo"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-scroll-marker-group">::scroll-marker-group</dfn> <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-pseudo-4/#fully-styleable"
                id="ref-for-fully-styleable">完全可样式化伪元素</a>由<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container⑧">滚动容器</a>元素生成，
            该元素的计算 <a class="property css" data-link-type="property" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group②">scroll-marker-group</a> 属性不为 <a class="css"
                data-link-type="maybe" href="#valdef-scroll-marker-group-none"
                id="ref-for-valdef-scroll-marker-group-none">none</a>。</p>
        <p><a class="css" data-link-type="maybe" href="#selectordef-scroll-marker-group"
                id="ref-for-selectordef-scroll-marker-group④">::scroll-marker-group</a> 生成一个框作为其<a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element②">源元素</a>的<em>兄弟元素</em>，
            或者紧接其前（如果 <a class="css" data-link-type="propdesc" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group③">scroll-marker-group:
                before</a>）
            或者紧接其后（如果 <span class="css" id="ref-for-propdef-scroll-marker-group④">scroll-marker-group: after</span>）。
        </p>
        <p>建议对默认 UA 样式表进行以下补充，
            以确保滚动标记伪元素的生成不会使站点的布局失效：
        </p>
        <pre class="lang-css highlight"><c- c>/* ::scroll-marker 伪元素的生成不应</c->
<c- c> * 使此伪元素外部的布局失效。 */</c->
::scroll-marker-group <c- p>{</c-> <c- k>contain</c-><c- p>:</c-> size !important<c- p>;</c-> <c- p>}</c->
</pre>
        <p><a class="property css" data-link-type="property" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group⑤">scroll-marker-group</a> 隐式地表现为一个单一的可聚焦组件，
            建立一个 <a href="https://open-ui.org/components/focusgroup.explainer/">focusgroup</a>。</p>
        <h4 class="heading settled" data-level="3.1.4" id="scroll-marker-pseudo"><span class="secno">3.1.4. </span><span
                class="content"><a class="css" data-link-type="maybe" href="#selectordef-scroll-marker"
                    id="ref-for-selectordef-scroll-marker③">::scroll-marker</a> 伪元素</span><a class="self-link"
                href="#scroll-marker-pseudo"></a></h4>
        <p>与 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-before"
                id="ref-for-selectordef-before">::before</a> 和 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-after" id="ref-for-selectordef-after">::after</a>
            类似，
            所有元素都可以有一个 <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker"
                id="ref-for-selectordef-scroll-marker④">::scroll-marker</a> 伪元素，
            它被收集到最近的<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container⑨">滚动容器</a>祖先的 <a class="css" data-link-type="maybe"
                href="#selectordef-scroll-marker-group"
                id="ref-for-selectordef-scroll-marker-group⑤">::scroll-marker-group</a> 中，
            并在激活时滚动到该元素。</p>
        <p>当 <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-scroll-marker">::scroll-marker</dfn> 伪元素的计算 <a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-content-3/#propdef-content"
                id="ref-for-propdef-content">content</a>
            值不为 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-content-3/#valdef-content-none"
                id="ref-for-valdef-content-none">none</a> 并且其最近的祖先<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①⓪">滚动容器</a>
            <span id="ref-for-scroll-container①①">滚动容器</span>的计算 <a class="property css" data-link-type="property"
                href="#propdef-scroll-marker-group" id="ref-for-propdef-scroll-marker-group⑥">scroll-marker-group</a>
            属性不为 <a class="css" data-link-type="maybe" href="#valdef-scroll-marker-group-none"
                id="ref-for-valdef-scroll-marker-group-none①">none</a> 时，
            该伪元素会生成一个框，作为其最近祖先<span id="ref-for-scroll-container①②">滚动容器</span>上 <a class="css" data-link-type="maybe"
                href="#selectordef-scroll-marker-group"
                id="ref-for-selectordef-scroll-marker-group⑥">::scroll-marker-group</a> 伪元素生成框的子元素附加。
            这些框按照其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element③">源元素</a>的<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-tree-order" id="ref-for-concept-tree-order">树顺序</a>添加。
        </p>
        <p>这些伪元素具有其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element④">源元素</a>的指示<a data-link-type="dfn" href="#scroll-target"
                id="ref-for-scroll-target③">滚动目标</a>。
            它们的行为类似于具有 <a
                href="https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex"><code>tabindex</code></a>
            值为“-1”的元素，
            使其可以在其 '::scroll-marker-group' 内通过组内的箭头键导航获得焦点，
            或者在当前活动或没有其他 <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker"
                id="ref-for-selectordef-scroll-marker⑤">::scroll-marker</a> 活动且这是组中的第一个标记时通过 Tab 键获得焦点，
            确保该组具有<a href="https://open-ui.org/components/focusgroup.explainer/#guaranteed-tab-stop">保证的制表位</a>。
        </p>
        <h4 class="heading settled" data-level="3.1.5" id="active-scroll-marker"><span class="secno">3.1.5. </span><span
                class="content"> 选择活动滚动标记：<a class="css" data-link-type="maybe" href="#selectordef-target-current"
                    id="ref-for-selectordef-target-current①">:target-current</a>
                伪类</span><a class="self-link" href="#active-scroll-marker"></a></h4>
        <p>在每个<a data-link-type="dfn" href="#scroll-marker-group"
                id="ref-for-scroll-marker-group①">滚动标记组</a>中，一次确定只有一个<a data-link-type="dfn" href="#scroll-marker"
                id="ref-for-scroll-marker⑥">滚动标记</a>处于活动状态。
            此类“活动”<span id="ref-for-scroll-marker⑦">滚动标记</span>匹配 <dfn class="dfn-paneled css" data-dfn-type="selector"
                data-export id="selectordef-target-current">:target-current</dfn> 伪类。
        </p>
        <div class="example" id="example-7a0e4019">
            <a class="self-link" href="#example-7a0e4019"></a> 以下代码段显示了如何高亮显示指向当前滚动部分的链接：
            <pre class="highlight"><c- k>a</c-><c- p>:</c->target-current <c- p>{</c->
    <c- k>font-weight</c-><c- p>:</c-> bold<c- p>;</c->
<c- p>}</c->
</pre>
        </div>
        <p>滚动操作可能会向特定位置动画（例如，滚动条箭头点击、箭头键按下、“behavior: smooth”编程滚动），
            或者可能直接跟踪用户的输入（例如，触摸滚动、滚动条拖动）。
            在任何一种情况下，用户代理都会选择一个“最终滚动位置”，滚动条将到达该位置。这确保了相关标记立即被激活。</p>
        <p>此“最终滚动位置”用于确定每个<a data-link-type="dfn" href="#scroll-marker-group"
                id="ref-for-scroll-marker-group②">滚动标记组</a>中的活动标记。
            由于标记本身可能仅表示内容的开始（例如，标题），因此我们将活动标记视为我们处于或超过其滚动位置的第一个标记。</p>
        <p>每当参与一个或多个<a data-link-type="dfn" href="#scroll-marker-group" id="ref-for-scroll-marker-group③">滚动标记组</a>的<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container①③">滚动容器</a>滚动时，或者布局更改最终滚动位置时，
            用户代理应根据目标滚动位置最可能感兴趣的内容部分，确定并更新每个<span id="ref-for-scroll-marker-group④">滚动标记组</span>的活动标记。</p>
        <div class="example algorithm" data-algorithm="scroll tracking" id="example-d2ca6884">
            <a class="self-link" href="#example-d2ca6884"></a> 用于确定给定滚动标记<var>组</var>的活动标记的示例算法。
            <ol>
                <li data-md>
                    <p>令 <var>scroller</var> 为<var>组</var>中所有<a data-link-type="dfn" href="#scroll-marker"
                            id="ref-for-scroll-marker⑧">滚动标记</a>元素的最近公共祖先<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                            id="ref-for-scroll-container①④">滚动容器</a>。
                    </p>
                <li data-md>
                    <p>令 <var>active</var> 为 scroller。</p>
                <li data-md>
                    <p>当 <var>active</var> 是一个包含由<var>组</var>定位的<a data-link-type="dfn" href="#scroll-target"
                            id="ref-for-scroll-target④">滚动目标</a>元素的<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                            id="ref-for-scroll-container①⑤">滚动容器</a>时：
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>scroller</var> 为 <var>active</var>。</p>
                        <li data-md>
                            <p>令 <var>targets</var> 为其最近祖先<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                                    id="ref-for-scroll-container①⑥">滚动容器</a>是 <var>scroller</var> 的<a
                                    data-link-type="dfn" href="#scroll-target"
                                    id="ref-for-scroll-target⑤">滚动目标</a>元素集合，以及包含由<a data-link-type="dfn"
                                    href="#scroll-marker-group" id="ref-for-scroll-marker-group⑤">滚动标记组</a>定位的<span
                                    id="ref-for-scroll-target⑥">滚动目标</span>元素且其最近祖先<span
                                    id="ref-for-scroll-container①⑧">滚动容器</span>是 <var>scroller</var> 的<span
                                    id="ref-for-scroll-container①⑦">滚动容器</span>元素集合。
                            </p>
                        <li data-md>
                            <dl>
                                <dt data-md>如果 <var>scroller</var> 有一个非空的<a data-link-type="dfn"
                                        href="#current-scroll-target" id="ref-for-current-scroll-target①">当前滚动目标</a>
                                <dd data-md>
                                    <p>令 active 为从<a data-link-type="dfn" href="#current-scroll-target"
                                            id="ref-for-current-scroll-target②">当前滚动目标</a>开始的反向树序遍历中遇到的<var>targets</var>中的第一个项目，
                                        或者如果在先前的遍历中未找到目标，则为<var>targets</var>中树序的第一个项目。</p>
                                <dt data-md>否则，
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p>令 <var>primary</var> 为主滚动轴，假定为容器书写模式的块方向。</p>
                                        <li data-md>
                                            <p>令 <var>secondary</var> 为垂直于主滚动轴的滚动轴。
                                            </p>
                                        <li data-md>
                                            <p>令 <var>position</var> 为考虑正在进行的滚动操作的“最终滚动位置”。</p>
                                        <li data-md>
                                            <p>对于 <var>primary</var> 的每个<var>轴</var>，然后是<var>secondary</var>：
                                            </p>
                                            <ol>
                                                <li data-md>
                                                    <p>令 <var>scrollport size</var>
                                                        为<var>scroller</var>在<var>轴</var>维度上的客户端大小。
                                                    </p>
                                                <li data-md>
                                                    <p>对于<var>targets</var>中的每个<var>target</var>，<a data-link-type="dfn"
                                                            href="https://drafts.csswg.org/cssom-view-1/#determine-the-scroll-into-view-position"
                                                            id="ref-for-determine-the-scroll-into-view-position">确定<var>target</var>在<var>轴</var>中的滚动到视图位置</a>，并将其存储为<var>target</var>的关联<var>target
                                                            position</var>。
                                                    </p>
                                                <li data-md>
                                                    <p>令 <var>scroll size</var> 为<var>scroller</var>在<var>轴</var>维度上的<a
                                                            data-link-type="dfn"
                                                            href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region"
                                                            id="ref-for-scrollable-overflow-region">可滚动溢出区域</a>的长度。
                                                    </p>
                                                <li data-md>
                                                    <p>令 <var>scroll range</var> 为
                                                        <code><var>scroll size</var> - <var>scrollport size</var></code>。
                                                    </p>
                                                <li data-md>
                                                    <p>如果 <var>scroll range</var> 大于 0，则重新分配不可达的目标位置：</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>令 <var>distribute range</var> 为
                                                                <code>min(1/8 * <var>scrollport size</var>, <var>scroll range</var> / 2)</code>。
                                                            </p>
                                                        <li data-md>
                                                            <p>令 <var>before targets</var> 为所有其关联<var>target
                                                                    position</var>小于
                                                                <code><var>distribute range</var></code>
                                                                的<var>targets</var>。
                                                            </p>
                                                        <li data-md>
                                                            <p>令 <var>minimum position</var> 为<var>before
                                                                    targets</var>的最小<var>target position</var>。
                                                            </p>
                                                        <li data-md>
                                                            <p>将<var>before targets</var>中每个目标的关联<var>target
                                                                    position</var>更新为
                                                                <code>(<var>target position</var> - <var>minimum position</var>) / (<var>distribute range</var> - <var>minimum position</var>) * <var>distribute range</var></code>。
                                                            </p>
                                                        <li data-md>
                                                            <p>令 <var>after targets</var> 为所有其关联<var>target
                                                                    position</var>大于
                                                                <code><var>scroll range</var> - <var>distribute range</var></code>
                                                                的<var>targets</var>。
                                                            </p>
                                                        <li data-md>
                                                            <p>令 <var>maximum position</var> 为<var>after
                                                                    targets</var>的最大<var>target position</var>。
                                                            </p>
                                                        <li data-md>
                                                            <p>将<var>after targets</var>中每个目标的关联<var>target
                                                                    position</var>更新为
                                                                <code>(<var>target position</var> - (<var>scroll range</var> - <var>distribute range</var>)) / (<var>maximum position</var> - (<var>scroll range</var> - <var>distribute range</var>)) * <var>distribute range</var> + (<var>scroll range</var> - <var>distribute range</var>)</code>。
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p>令 <var>selected position</var> 为<var>target
                                                            position</var>等于或早于<var>position</var>（在<var>轴</var>中）的最大<var>target
                                                            position</var>，
                                                        或者其最近的较小<var>target position</var> &lt;
                                                        <var>position</var> - <var>scrollport size</var> / 2 且其
                                                        <var>target position</var> &lt; <var>position</var> +
                                                        <var>scrollport size</var> / 2。
                                                    </p>
                                                <li data-md>
                                                    <dl>
                                                        <dt data-md>如果没有这样的位置，
                                                        <dd data-md>
                                                            <p>将<var>selected position</var>设置为第一个。
                                                            </p>
                                                    </dl>
                                                <li data-md>
                                                    <p>令 <var>active</var> 为所有其关联<var>target
                                                            position</var>为<var>selected
                                                            position</var>的<var>targets</var>。</p>
                                            </ol>
                                        <li data-md>
                                            <p>如果<var>active</var>有多个潜在目标，则令<var>active</var>为<var>active</var>中的第一个项目。
                                            </p>
                                    </ol>
                            </dl>
                    </ol>
                <li data-md>
                    <p>令 <var>selected marker</var> 为与<var>active</var>关联的<a data-link-type="dfn" href="#scroll-marker"
                            id="ref-for-scroll-marker⑨">滚动标记</a>。
                        如果多个<span id="ref-for-scroll-marker①⓪">滚动标记</span>元素与<var>active</var>关联，
                        则将<var>selected marker</var>设置为其中树序最早的标记。
                    </p>
                <li data-md>
                    <p>返回 <var>selected marker</var></p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="update active marker">
            每当 UA 确定一个新的标记是<a data-link-type="dfn" href="#scroll-marker-group"
                id="ref-for-scroll-marker-group⑥">滚动标记组</a> <var>group</var> 的<var>活动标记</var>时，
            它必须运行以下步骤：
            <ol>
                <li data-md>
                    <p>将<var>活动标记</var>的活动状态设置为 true。</p>
                <li data-md>
                    <dl>
                        <dt data-md>
                            <p>如果<var>活动标记</var>是<var>组</var>的<a
                                    href="https://open-ui.org/components/focusgroup.explainer/#last-focused-memory">最后聚焦元素</a>，
                            </p>
                        <dd data-md>
                            <p>聚焦<var>活动标记</var></p>
                    </dl>
                <li data-md>
                    <p>将<var>组</var>的<a
                            href="https://open-ui.org/components/focusgroup.explainer/#last-focused-memory">最后聚焦元素</a>设置为<var>活动标记</var>。
                    </p>
                <li data-md>
                    <p>将<var>组</var>中所有其他<a data-link-type="dfn" href="#scroll-marker"
                            id="ref-for-scroll-marker①①">滚动标记</a>元素的活动状态设置为 false。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="3.1.6" id="scroll-marker-activation"><span class="secno">3.1.6.
            </span><span class="content">激活行为</span><a class="self-link" href="#scroll-marker-activation"></a></h4>
        <div class="algorithm" data-algorithm="scrollTargetElement activation">
            当具有非空<a data-link-type="dfn" href="#scroll-target" id="ref-for-scroll-target⑦">滚动目标</a>的<a
                data-link-type="dfn" href="#scroll-marker" id="ref-for-scroll-marker①②">滚动标记</a>通过显式调用或箭头键聚焦激活时：
            <ol>
                <li data-md>
                    <p>令 <var>element</var> 为控件的<a data-link-type="dfn" href="#scroll-target"
                            id="ref-for-scroll-target⑧">滚动目标</a>。</p>
                <li data-md>
                    <p>令 <var>block</var> 为 "<code>start</code>"。</p>
                <li data-md>
                    <p>令 <var>inline</var> 为 "<code>start</code>"。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view"
                            id="ref-for-scroll-a-target-into-view①">将 <var>element</var> 滚动到视图中</a>，使用 <var>block</var>
                        和 <var>inline</var>。
                    </p>
                <li data-md>
                    <dl>
                        <dt data-md>如果激活是由调用触发的
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2"
                                            id="ref-for-following-hyperlinks-2">跟随超链接</a>更新 URL，但将焦点保留在标记元素上。</p>
                            </ol>
                            <p class="note" role="note"><span class="marker">注意：</span> 如果用户通过 Tab 键移开焦点，焦点行为将确保他们 Tab
                                进入相关内容。</p>
                    </dl>
            </ol>
        </div>
        <h4 class="heading settled" data-level="3.1.7" id="scroll-target-focus"><span class="secno">3.1.7. </span><span
                class="content">焦点行为</span><a class="self-link" href="#scroll-target-focus"></a></h4>
        <p>当<a data-link-type="dfn" href="#scroll-marker" id="ref-for-scroll-marker①③">滚动标记</a>被激活时，
            下一个按 Tab 键顺序的焦点导航将聚焦<a data-link-type="dfn" href="#scroll-target"
                id="ref-for-scroll-target⑨">滚动目标</a>（如果它是可聚焦的），
            否则，它将从<span id="ref-for-scroll-target①⓪">滚动目标</span>开始查找下一个可聚焦元素，就好像滚动目标已获得焦点一样。</p>
        <h3 class="heading settled" data-level="3.2" id="scroll-buttons"><span class="secno">3.2. </span><span
                class="content"> 滚动按钮</span><a class="self-link" href="#scroll-buttons"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-scroll-button-scroll-button-direction">::scroll-button( <a class="production css"
                    data-link-type="type" href="#typedef-scroll-button-direction"
                    id="ref-for-typedef-scroll-button-direction">&lt;scroll-button-direction&gt;</a> )</dfn>
            伪元素
            在<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container①⑨">滚动容器</a>的计算 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-content-3/#propdef-content" id="ref-for-propdef-content①">content</a>
            值不为 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-content-3/#valdef-content-none"
                id="ref-for-valdef-content-none①">none</a> 时生成。
            它们生成的框如同其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element⑤">源元素</a>紧邻的前<em>兄弟元素</em>，
            其内容由 <span class="property" id="ref-for-propdef-content②">content</span> 指定。
            它们存在于其<span id="ref-for-originating-element⑥">源元素</span>的 <a class="css" data-link-type="maybe"
                href="#selectordef-scroll-marker-group"
                id="ref-for-selectordef-scroll-marker-group⑦">::scroll-marker-group</a> 伪元素之后
            （当与 <a class="css" data-link-type="propdesc" href="#propdef-scroll-marker-group"
                id="ref-for-propdef-scroll-marker-group⑦">scroll-marker-group: before</a> 一起使用时）。</p>
        <p>一个<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container②⓪">滚动容器</a>上可以存在四个不同的 <a class="css" data-link-type="maybe"
                href="#selectordef-scroll-button-scroll-button-direction"
                id="ref-for-selectordef-scroll-button-scroll-button-direction①">::scroll-button()</a> 伪元素，
            每个都与一个基于其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element⑦">源元素</a>的<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode">书写模式</a>的<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#flow-relative"
                id="ref-for-flow-relative">流相对</a>方向相关联：
            依次为 <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-start"
                id="ref-for-block-start">block-start</a>、<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#inline-start"
                id="ref-for-inline-start">inline-start</a>、<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#block-end" id="ref-for-block-end">block-end</a> 和 <a
                data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-end"
                id="ref-for-inline-end">inline-end</a>。
            <span class="css" id="ref-for-selectordef-scroll-button-scroll-button-direction②">::scroll-button()</span>
            伪元素默认既可聚焦又可激活，
            其激活行为是将其<span id="ref-for-originating-element⑧">源元素</span>向其关联方向滚动一个“页面”，
            类似于按下 PgUp/PgDn 键。<span class="note">（通常，这将是<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport">滚动视口</a>大小的约
                85%。）</span>与这些键类似，此滚动具有<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-scroll-snap-1/#intended-direction-and-end-position"
                id="ref-for-intended-direction-and-end-position">预期的方向和结束位置</a>。
        </p>
        <p class="issue" id="issue-086bdb0b"><a class="self-link" href="#issue-086bdb0b"></a> <a data-link-type="biblio"
                href="#biblio-cssom-view-1" title="CSSOM View Module">[CSSOM-VIEW-1]</a> 将增加一个“按页面滚动”算法，
            届时可以引用该算法。
            参见<a href="https://github.com/w3c/csswg-drafts/issues/10914#issuecomment-2380139977">问题 #10914 的决议</a>。</p>
        <p class="issue" id="issue-cdbe0ac3"><a class="self-link" href="#issue-cdbe0ac3"></a> 这是按钮的最佳顺序吗？
            这确实符合 CSS 中逻辑方向的通常顺序，
            但是手动创建的类似按钮
            通常要么将垂直和水平方向分别组合在一起
            （即 block-start/block-end 然后是 inline-start/inline-end）
            要么将垂直方向“围绕”水平方向
            （即 block-start/inline-start/inline-end/block-end）。</p>
        <p>四个 <a class="css" data-link-type="maybe" href="#selectordef-scroll-button-scroll-button-direction"
                id="ref-for-selectordef-scroll-button-scroll-button-direction③">::scroll-button()</a> 伪元素通过选择器的参数单独选择。
            可能的 <dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-scroll-button-direction"><a
                    class="production css" data-link-type="type" href="#typedef-scroll-button-direction"
                    id="ref-for-typedef-scroll-button-direction①">&lt;scroll-button-direction&gt;</a></dfn> 值是：</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-up">up</dfn>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-down">down</dfn>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-left">left</dfn>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-right">right</dfn>
            <dd data-md>
                <p>选择与给定物理方向对应的 <a class="css" data-link-type="maybe"
                        href="#selectordef-scroll-button-scroll-button-direction"
                        id="ref-for-selectordef-scroll-button-scroll-button-direction④">::scroll-button()</a>。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-block-start">block-start</dfn>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-block-end">block-end</dfn>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export
                    id="valdef-scroll-button-direction-inline-start">inline-start</dfn>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-inline-end">inline-end</dfn>
            <dd data-md>
                <p>选择指定的 <a class="css" data-link-type="maybe" href="#selectordef-scroll-button-scroll-button-direction"
                        id="ref-for-selectordef-scroll-button-scroll-button-direction⑤">::scroll-button()</a>
                    伪元素。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-prev">prev</dfn>
            <dd data-md>
                <p>选择 <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-start"
                        id="ref-for-block-start①">block-start</a> 或 <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-writing-modes-4/#inline-start"
                        id="ref-for-inline-start①">inline-start</a> <a class="css" data-link-type="maybe"
                        href="#selectordef-scroll-button-scroll-button-direction"
                        id="ref-for-selectordef-scroll-button-scroll-button-direction⑥">::scroll-button()</a>，
                    以<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                        id="ref-for-originating-element⑨">源元素</a>中其轴具有更多“可滚动页面”者为准：
                    <span id="ref-for-originating-element①⓪">源元素</span>的<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region"
                        id="ref-for-scrollable-overflow-region①">可滚动溢出高度</a>除以其<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport①">滚动视口</a>高度，
                    或者宽度也同样计算。
                </p>
                <p>如果两个维度大小相同，
                    则选择 <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-start"
                        id="ref-for-block-start②">block-start</a> <a class="css" data-link-type="maybe"
                        href="#selectordef-scroll-button-scroll-button-direction"
                        id="ref-for-selectordef-scroll-button-scroll-button-direction⑦">::scroll-button()</a>。</p>
                <p class="example" id="example-af1a5884"><a class="self-link" href="#example-af1a5884"></a> 例如，
                    假设<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                        id="ref-for-originating-element①①">源元素</a>宽 800px，高 500px，
                    而其<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region"
                        id="ref-for-scrollable-overflow-region②">可滚动溢出区域</a>宽 1200px，高 1000px。
                    因此，水平滚动表示 1.5 个“页面”(1200/800)，
                    而垂直滚动表示 2 个“页面”(1000/500)，
                    因此（假设元素为英文）
                    <span class="css">::scroll-button(prev)</span> 选择器
                    将选择 <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-start"
                        id="ref-for-block-start③">block-start</a> 按钮。
                </p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="<scroll-button-direction>, ::scroll-button()"
                    data-dfn-type="value" data-export id="valdef-scroll-button-direction-next">next</dfn>
            <dd data-md>
                <p>与 <a class="css" data-link-type="maybe" href="#valdef-scroll-button-direction-prev"
                        id="ref-for-valdef-scroll-button-direction-prev">prev</a> 相同，
                    只是它选择 <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-end"
                        id="ref-for-block-end①">block-end</a> 或 <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-writing-modes-4/#inline-end"
                        id="ref-for-inline-end①">inline-end</a> <a class="css" data-link-type="maybe"
                        href="#selectordef-scroll-button-scroll-button-direction"
                        id="ref-for-selectordef-scroll-button-scroll-button-direction⑧">::scroll-button()</a>。</p>
        </dl>
        <p class="issue" id="issue-62e6d969"><a class="self-link" href="#issue-62e6d969"></a> 我们是否要添加一些多按钮关键字，
            以便更容易地以相同方式设置多个按钮的样式？
            特别是，<span class="css">all</span> 可能有用，
            但也可能需要 <span class="css">horizontal</span>/<span class="css">vertical</span>/<span
                class="css">block</span>/<span class="css">inline</span>。</p>
        <p><a class="css" data-link-type="maybe" href="#selectordef-scroll-button-scroll-button-direction"
                id="ref-for-selectordef-scroll-button-scroll-button-direction⑨">::scroll-button()</a> 是<a
                data-link-type="dfn" href="https://drafts.csswg.org/css-pseudo-4/#fully-styleable"
                id="ref-for-fully-styleable①">完全可样式化伪元素</a>：对其应用的属性没有限制。</p>
        <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-4/#disabled-pseudo"
                id="ref-for-disabled-pseudo">:disabled</a> 伪类可以应用于 <a class="css" data-link-type="maybe"
                href="#selectordef-scroll-button-scroll-button-direction"
                id="ref-for-selectordef-scroll-button-scroll-button-direction①⓪">::scroll-button()</a>。
            当其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element①②">源元素</a>无法在其关联方向上滚动时，
            它匹配给定的按钮。</p>
        <p class="issue" id="issue-c93cbaf3"><a class="self-link" href="#issue-c93cbaf3"></a> UA 样式表需要指定 <a class="css"
                data-link-type="maybe" href="#selectordef-scroll-button-scroll-button-direction"
                id="ref-for-selectordef-scroll-button-scroll-button-direction①①">::scroll-button()</a>
            的样式与
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" id="ref-for-the-button-element">button</a></code>
            元素相同，
            包括禁用样式。
        </p>
        <p class="issue" id="issue-894e4eee"><a class="self-link" href="#issue-894e4eee"></a> <a class="css"
                data-link-type="maybe" href="#selectordef-scroll-button-scroll-button-direction"
                id="ref-for-selectordef-scroll-button-scroll-button-direction①②">::scroll-button()</a> 是否应使用按钮的*完整* UA
            样式，
            即 <span class="css">appearance:button</span>？
            还是非原生渲染，即 <span class="css">appearance:none</span>？
            如果是前者，我们显然需要定义与 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-ui-4/#propdef-appearance" id="ref-for-propdef-appearance">appearance</a>
            的交互。</p>
        <h3 class="heading settled" data-level="3.3" id="focus-order"><span class="secno">3.3. </span><span
                class="content"> 焦点导航顺序</span><a class="self-link" href="#focus-order"></a></h3>
        <p>上述特性生成了几个可聚焦的伪元素。
            虽然这些伪元素在元素树中有定义的位置，
            但这对于这些控件的焦点导航（即“Tab 键顺序”）来说并不是最佳位置。</p>
        <p>相反，
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                id="ref-for-scroll-container②①">滚动容器</a>与本节中定义的各种伪元素之间的焦点导航
            按以下顺序进行：
        </p>
        <ol>
            <li data-md>
                <p>如果<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                        id="ref-for-scroll-container②②">滚动容器</a>的 <a class="css" data-link-type="propdesc"
                        href="#propdef-scroll-marker-group"
                        id="ref-for-propdef-scroll-marker-group⑧">scroll-marker-group</a> 设置为 <code
                        class="css">before</code>，则为其 <a class="css" data-link-type="maybe"
                        href="#selectordef-scroll-marker-group"
                        id="ref-for-selectordef-scroll-marker-group⑧">::scroll-marker-group</a> 伪元素。
                </p>
                <p class="note" role="note"><span class="marker">注意：</span>由<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                        id="ref-for-scroll-container②③">滚动容器</a>的后代生成的各个 <a class="css" data-link-type="maybe"
                        href="#selectordef-scroll-marker" id="ref-for-selectordef-scroll-marker⑥">::scroll-marker</a>
                    伪元素
                    会重新父化到此 <a class="css" data-link-type="maybe" href="#selectordef-scroll-marker-group"
                        id="ref-for-selectordef-scroll-marker-group⑨">::scroll-marker-group</a> 之下，
                    并作为“焦点组”一起导航。</p>
            <li data-md>
                <p><a class="css" data-link-type="maybe" href="#selectordef-scroll-button-scroll-button-direction"
                        id="ref-for-selectordef-scroll-button-scroll-button-direction①③">::scroll-button()</a>
                    伪元素，
                    按照它们定义的顺序存在。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                        id="ref-for-scroll-container②④">滚动容器</a>本身及其内容，
                    按照它们正常的焦点顺序排列。</p>
            <li data-md>
                <p>如果<a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                        id="ref-for-scroll-container②⑤">滚动容器</a>的 <a class="css" data-link-type="propdesc"
                        href="#propdef-scroll-marker-group"
                        id="ref-for-propdef-scroll-marker-group⑨">scroll-marker-group</a> 设置为 <code
                        class="css">after</code>，则为其 <a class="css" data-link-type="maybe"
                        href="#selectordef-scroll-marker-group"
                        id="ref-for-selectordef-scroll-marker-group①⓪">::scroll-marker-group</a> 伪元素。
                </p>
        </ol>
        <h2 class="no-num heading settled" id="fragmentation"><span class="content"> 附录 A：溢出重定向</span><a
                class="self-link" href="#fragmentation"></a></h2>
        <p class="issue" id="issue-3406e15b"><a class="self-link" href="#issue-3406e15b"></a> 本节内容高度实验性。
            它记录了当前扩展 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue" id="ref-for-propdef-continue">continue</a>
            属性能力以解决其他用例的尝试。
            但是，目前尚未达成共识。
            在此提出是为了鼓励讨论，
            但不建议进行非实验性实现。</p>
        <p>在 CSS Level 1 <a data-link-type="biblio" href="#biblio-css1"
                title="Cascading Style Sheets, level 1">[CSS1]</a> 中，将超出指定大小元素的内容放置
            通常是一个创作错误。
            这样做会导致内容扩展到
            元素边界之外，
            这可能会导致
            该内容与其他元素重叠。</p>
        <p>CSS Level 2 <a data-link-type="biblio" href="#biblio-css2"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a> 引入了 <a
                class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow" id="ref-for-propdef-overflow">overflow</a>
            属性，
            它允许作者通过滚动来处理溢出，
            这意味着它不再是创作错误。
            它还允许作者指定
            通过剪切来处理溢出，
            这在作者的意图
            是不显示内容时是有意义的。
            这在 CSS Overflow Module Level 3 <a data-link-type="biblio" href="#biblio-css-overflow-3"
                title="CSS Overflow Module Level 3">[CSS-OVERFLOW-3]</a> 中得到了进一步完善。</p>
        <p>然而，滚动并不是呈现大量内容的唯一方式，
            甚至可能不是最佳方式。
            毕竟，由于其优势，
            册子取代了卷轴
            成为大型书面作品的常见格式。</p>
        <p>本规范引入了一种机制，
            供网页指定页面中的元素应通过分页而不是通过滚动来处理溢出。</p>
        <p>本规范还从另一个方向扩展了溢出的概念。
            本规范允许作者指定多个片段，
            每个片段都有自己的尺寸和样式，
            而不是要求作者指定一个元素内容必须流入的单个区域，
            这样元素的内容就可以从一个片段流向下一个片段，
            并根据需要使用尽可能多的片段来放置内容而不会溢出。</p>
        <p>在这两种情况下，实现都必须
            在块级排列方向上中断内容。
            实现必须按照 CSS Fragmentation Module <a data-link-type="biblio" href="#biblio-css-break-3"
                title="CSS Fragmentation Module Level 3">[CSS-BREAK-3]</a> 中的描述进行操作。</p>
        <h3 class="heading settled" id="channelling-overflow"><span class="content"> 引导溢出：<a class="property css"
                    data-link-type="property" href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                    id="ref-for-propdef-continue①">continue</a> 属性</span><a class="self-link"
                href="#channelling-overflow"></a></h3>
        <p><a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue②">continue</a> 属性使作者能够
            请求将不适合元素的内容
            进行分片（在 <a data-link-type="biblio" href="#biblio-css-break-3"
                title="CSS Fragmentation Module Level 3">[CSS-BREAK-3]</a> 的意义上），
            并为剩余内容应在何处继续提供替代方案。</p>
        <p>值得注意的是，此属性解释了传统的分页，
            并对其进行了进一步扩展。</p>
        <table class="def propdef partial" data-link-for-hint="continue">
            <tbody>
                <tr>
                    <th>名称：
                    <td><a class="css" data-link-type="property"
                            href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                            id="ref-for-propdef-continue③">continue</a>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">新值：</a>
                    <td class="prod">overflow <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> paginate
                        <span id="ref-for-comb-one③">|</span> fragments
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值：</a>
                    <td>auto
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于：</a>
                    <td>块容器 <a data-link-type="biblio" href="#biblio-css2"
                            title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>、弹性容器 <a
                            data-link-type="biblio" href="#biblio-css3-flexbox"
                            title="CSS Flexible Box Layout Module Level 1">[CSS3-FLEXBOX]</a> 和网格容器 <a
                            data-link-type="biblio" href="#biblio-css3-grid-layout"
                            title="CSS Grid Layout Module Level 1">[CSS3-GRID-LAYOUT]</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">继承：</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比：</a>
                    <td>不适用
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值：</a>
                    <td>见下文
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型：</a>
                    <td>离散
        </table>
        <p class="issue" id="issue-70dec9cf"><a class="self-link" href="#issue-70dec9cf"></a> 此属性及其值的命名是初步的。
            最初在 <a
                href="https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html">https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html</a>
            中提议为
            "fragmentation: auto | none | break | clone | page"，
            目前对于哪种命名更好尚未达成广泛共识。</p>
        <p class="issue" id="issue-b201bbf9"><a class="self-link" href="#issue-b201bbf9"></a> 此属性旨在概括和替换 <a
                class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-regions-1/#propdef-region-fragment"
                id="ref-for-propdef-region-fragment">region-fragment</a>。
            一旦在本规范中足够稳定，<span class="property" id="ref-for-propdef-region-fragment①">region-fragment</span>
            应从区域规范中移除，以支持此属性。</p>
        <p class="note" role="note"><span class="marker">注意：</span> <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue" id="ref-for-propdef-continue④">continue:
                fragments</a> 替换了本规范早期版本中的 "overflow:fragments"，
            而 <span class="css" id="ref-for-propdef-continue⑤">continue: paginate</span> 替换了 "overflow: paged-x
            | paged-y | paged-x-controls | paged-y-controls"</p>
        <dl>
            <dt>auto
            <dd>
                <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto"
                    id="ref-for-valdef-continue-auto">auto</a> 仅在元素是<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-regions-1/#css-region" id="ref-for-css-region">CSS 区域</a>（<a
                    data-link-type="dfn" href="https://www.w3.org/TR/css-regions-1/#region-chain"
                    id="ref-for-region-chain">区域链</a>中最后一个区域除外）时才可能作为计算值出现。
                不适合的内容将被推送到链中的下一个区域。
                <p>在所有其他情况下，<a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto"
                        id="ref-for-valdef-continue-auto①">auto</a> 会计算为其他值之一。</p>
                <p class="issue" id="issue-cb5399d1"><a class="self-link" href="#issue-cb5399d1"></a> 这与 <a
                        href="https://www.w3.org/TR/css-overflow-4/#continue"><cite>CSS Overflow
                            4</cite> § 5.3 Fragmentation of Overflow: the continue property</a> 中的定义不同，
                    其中指定值即计算值。
                    哪种模型更好？</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="continue" data-dfn-type="value" data-export
                    id="valdef-continue-overflow">overflow</dfn>
            <dd>不适合的内容根据 <a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow"
                    id="ref-for-propdef-overflow①">overflow</a> 属性溢出
            <dt><dfn class="dfn-paneled css" data-dfn-for="continue" data-dfn-type="value" data-export
                    id="valdef-continue-paginate">paginate</dfn>
            <dd>
                不适合的内容进行分页。
                这会在元素内部创建一个分页视图，
                类似于 'overflow: scroll' 创建可滚动视图的方式。
                <p>参见<a href="#paginated-overflow">分页溢出</a></p>
                <p class="note" role="note"><span class="marker">注意：</span> 打印实际上是在根元素上应用 "continue: paginate"。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="continue" data-dfn-type="value" data-export
                    id="valdef-continue-fragments">fragments</dfn>
            <dd>
                不适合的内容会导致元素复制自身并继续布局。
                <p>参见<a href="#fragment-overflow">分片溢出</a>。</p>
        </dl>
        <p>给定元素或伪元素的 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue⑥">continue</a> 的计算值确定如下：</p>
        <ol>
            <li data-md>
                <p>在具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-contain-2/#layout-containment"
                        id="ref-for-layout-containment">布局约束</a>（参见 <a data-link-type="biblio"
                        href="#biblio-css-contain-1"
                        title="CSS Containment Module Level 1">[CSS-CONTAIN-1]</a>）的元素或伪元素上，
                    如果指定值为 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto"
                        id="ref-for-valdef-continue-auto②">auto</a> 或 <a class="css" data-link-type="maybe"
                        href="#valdef-continue-fragments" id="ref-for-valdef-continue-fragments">fragments</a>，则计算值为 <a
                        class="css" data-link-type="maybe" href="#valdef-continue-overflow"
                        id="ref-for-valdef-continue-overflow">overflow</a>。</p>
            <li data-md>
                <p>否则，如果指定值为 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto"
                        id="ref-for-valdef-continue-auto③">auto</a></p>
                <ol>
                    <li data-md>
                        <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-regions-1/#css-region"
                                id="ref-for-css-region①">CSS 区域</a>（<a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-regions-1/#region-chain"
                                id="ref-for-region-chain①">区域链</a>中最后一个区域除外）上，
                            计算值为 <a class="css" data-link-type="maybe"
                                href="https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto"
                                id="ref-for-valdef-continue-auto④">auto</a></p>
                    <li data-md>
                        <p>在页面上，
                            计算值为 <a class="css" data-link-type="maybe" href="#valdef-continue-paginate"
                                id="ref-for-valdef-continue-paginate">paginate</a></p>
                    <li data-md>
                        <p>在<a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box">分片框</a>上，
                            计算值为 <a class="css" data-link-type="maybe" href="#valdef-continue-fragments"
                                id="ref-for-valdef-continue-fragments①">fragments</a>
                        </p>
                    <li data-md>
                        <p>否则，计算值为 <a class="css" data-link-type="maybe" href="#valdef-continue-overflow"
                                id="ref-for-valdef-continue-overflow①">overflow</a></p>
                </ol>
            <li data-md>
                <p>否则，如果指定值为 <a class="css" data-link-type="maybe" href="#valdef-continue-fragments"
                        id="ref-for-valdef-continue-fragments②">fragments</a></p>
                <ol>
                    <li data-md>
                        <p>在页面上，
                            计算值为 <a class="css" data-link-type="maybe" href="#valdef-continue-paginate"
                                id="ref-for-valdef-continue-paginate①">paginate</a></p>
                    <li data-md>
                        <p>否则，计算值为指定值</p>
                </ol>
            <li data-md>
                <p>在所有其他情况下，计算值为指定值</p>
        </ol>
        <p class="issue" id="issue-7e96806f"><a class="self-link" href="#issue-7e96806f"></a> 如果我们引入一个可以选择多列中列的伪元素，
            我们将需要指定 auto 在其上计算为 auto，
            或者引入一个新值并让 auto 计算为该值
            （但是该值在非列元素上会计算为什么？）。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 有关导致此属性的背景讨论，请参阅以下主题：<a
                href="https://lists.w3.org/Archives/Public/www-style/2012May/1197.html">关于
                overflow、overflow-x、overflow-y 和 overflow-style 的讨论</a>和<a
                href="https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html">关于分片属性的提案</a></p>
        <h3 class="heading settled" id="paginated-overflow"><span class="content"> 分页溢出</span><a class="self-link"
                href="#paginated-overflow"></a></h3>
        <p>本节介绍并定义了 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue⑦">continue</a> 属性的 <a class="css" data-link-type="maybe"
                href="#valdef-continue-paginate" id="ref-for-valdef-continue-paginate②">paginate</a> 值的含义。</p>
        <p class="issue" id="issue-001d5014"><a class="self-link" href="#issue-001d5014"></a> 撰写本节</p>
        <p class="issue" id="issue-338ad0f3"><a class="self-link" href="#issue-338ad0f3"></a> 页面应该可以使用 @page
            规则进行样式设置。这对于嵌套页面是如何工作的？</p>
        <div class="issue" id="issue-20e2f78e">
            <a class="self-link" href="#issue-20e2f78e"></a> 传统分页（例如打印时）
            是否应该通过 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto"
                id="ref-for-valdef-continue-auto⑤">auto</a> 计算值中的某些魔法来表达，
            或者通过在 UA 样式表中插入以下内容：
            <pre><code class="lang-css highlight"><c- n>@media</c-> <c- p>(</c->overflow-block: paged<c- p>),</c-> <c- p>(</c->overflow-block: optional-paged<c- p>)</c-> <c- p>{</c->
    :root <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> paginate<c- p>;</c->
    <c- p>}</c->
<c- p>}</c->
</code></pre>
        </div>
        <p class="issue" id="issue-87a37458"><a class="self-link" href="#issue-87a37458"></a> 传统分页（例如打印时）假定
            :root 包含在页面框中，
            而不是页面框是 :root 的伪元素子元素。
            我们是否可以使用类似于分片框的东西来解决这个问题？
            或者也许通过在 :root 内部的页面框内部设置一个分片框（复制 :root）？</p>
        <p class="issue" id="issue-64583cf9"><a class="self-link" href="#issue-64583cf9"></a> 当页面框是常规 css
            框的子元素时，页面框模型是如何工作的？</p>
        <p class="issue" id="issue-c27ed5ea"><a class="self-link" href="#issue-c27ed5ea"></a> <a data-link-type="biblio"
                href="#biblio-css3gcpm" title="CSS Generated Content for Paged Media Module">[CSS3GCPM]</a> 中的初始提案和
            Opera 的实现
            使用了 4 个值而不是 <a class="css" data-link-type="maybe" href="#valdef-continue-paginate"
                id="ref-for-valdef-continue-paginate③">paginate</a>：
            "paged-x | paged-y | paged-x-controls | paged-y-controls"。
            此属性是否也应包含这些值，
            或者将它们作为单独的属性处理更好？
            （例如："pagination-layout: auto | horizontal | vertical"，"pagination-controls: auto | none"）</p>
        <p class="issue" id="issue-e78fc89d"><a class="self-link" href="#issue-e78fc89d"></a> 是否能够一次显示 N 页，
            而不仅仅是一次显示一页？
            这可以是 "pagination-layout" 的一个值吗，例如：
            "pagination-layout: horizontal 2;"</p>
        <p class="issue" id="issue-2261daab"><a class="self-link" href="#issue-2261daab"></a> Brad Kemper 提出了一个结合分页和
            分片溢出的模型，该模型也处理显示多个页面。<a
                href="https://lists.w3.org/Archives/Public/www-style/2015Mar/0241.html">https://lists.w3.org/Archives/Public/www-style/2015Mar/0241.html</a>
        </p>
        <p class="issue" id="issue-6bc0b289"><a class="self-link" href="#issue-6bc0b289"></a> 当前分页溢出的实现使用
            overflow/overflow-x/overflow-y 属性，
            而不是 <a data-link-type="biblio" href="#biblio-css3gcpm"
                title="CSS Generated Content for Paged Media Module">[CSS3GCPM]</a> 草案中提议的 overflow-style 属性
            （这也与 <a data-link-type="biblio" href="#biblio-css3-marquee"
                title="CSS Marquee Module Level 3">[CSS3-MARQUEE]</a> 提案匹配），
            或此处描述的 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue⑧">continue</a> 属性。</p>
        <h3 class="heading settled" id="fragment-overflow"><span class="content"> 分片溢出</span><a class="self-link"
                href="#fragment-overflow"></a></h3>
        <p>本节介绍并定义了<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue⑨">continue</a> 属性的 <a class="css" data-link-type="maybe"
                href="#valdef-continue-fragments" id="ref-for-valdef-continue-fragments③">fragments</a> 值的含义。</p>
        <p>当元素的 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue①⓪">continue</a> 计算值为 <a class="css" data-link-type="maybe"
                href="#valdef-continue-fragments" id="ref-for-valdef-continue-fragments④">fragments</a>，
            并且实现在其他情况下会为该元素创建一个框时，
            那么实现必须为该元素创建一系列<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fragment-box">分片框</dfn>。
            （对于具有 <span class="css" id="ref-for-propdef-continue①①">continue:
                fragments</span> 的元素，可能只生成一个<a data-link-type="dfn" href="#fragment-box"
                id="ref-for-fragment-box①">分片框</a>。
            但是，如果元素的计算 <span class="property" id="ref-for-propdef-continue①②">continue</span> 值不是 <span class="css"
                id="ref-for-valdef-continue-fragments⑤">fragments</span>，
            则其框不是<span id="ref-for-fragment-box②">分片框</span>。）
            每个<span id="ref-for-fragment-box③">分片框</span>都是一个分片容器，
            任何会导致该分片容器分片的溢出
            都会导致创建另一个<span id="ref-for-fragment-box④">分片框</span>，作为前一个分片框的下一个兄弟节点。<span class="issue"
                id="issue-c87585cb"><a class="self-link"
                    href="#issue-c87585cb"></a>或者它就像是元素的下一个兄弟节点？需要弄清楚这究竟如何与其他框级修复相互作用。</span> 此外，如果<span
                id="ref-for-fragment-box⑤">分片框</span>同时也是
            一个多列框（如 <a data-link-type="biblio" href="#biblio-css-multicol-1"
                title="CSS Multi-column Layout Module Level 1">[css-multicol-1]</a> 中所定义 <span class="issue"
                id="issue-6629852d"><a class="self-link" href="#issue-6629852d"></a>尽管它定义的是<i>多列容器</i></span>）
            任何会导致创建<a data-link-type="dfn" href="https://www.w3.org/TR/css-multicol-1/#overflow-columns"
                id="ref-for-overflow-columns">溢出列</a> <span
                title="CSS Multi-column Layout Module Level 1">[css-multicol-1]</span> 的内容都将流入一个额外的分片框。
            然而，分片框本身可能会被破坏
            （由于它们外部的分片上下文中的分片，
            例如页面、列或其他分片框）；
            这种破坏会导致同一分片框的片段，
            而不是多个分片框。
            （这很重要，因为分片框可以通过其索引进行样式设置；
            这种破坏会导致具有单个索引的分片框的多个片段。
            这种设计选择是为了使跨页破坏分片框不会破坏
            索引与特定内容片段的关联。） <span class="issue" id="issue-74cf5d92"><a class="self-link"
                    href="#issue-74cf5d92"></a>强制中断到外部碎片化上下文的中断是应该导致单个碎片盒的新碎片还是新的碎片盒？</span> <span class="issue"
                id="issue-ca84b506"><a class="self-link" href="#issue-ca84b506"></a>我们是否应该在这里找到一个不同于<a
                    data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box⑥">分片框</a>的术语，以使其不那么混乱？</span></p>
        <p class="issue" id="issue-82870b15"><a class="self-link" href="#issue-82870b15"></a>
            如果我们希望能够对在另一种类型的分片上下文中拆分的元素片段进行样式设置，该怎么办？
            这些规则阻止了为此使用 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment">::nth-fragment()</a>，
            尽管该名称似乎是此类功能最合乎逻辑的名称。</p>
        <div class="example" id="example-e465abc6">
            <a class="self-link" href="#example-e465abc6"></a>
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->将内容分解为等大小的卡片<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
    <c- p>.</c-><c- nc>in-cards</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->

    <c- k>width</c-><c- p>:</c-> <c- mi>13</c-><c- b>em</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- mi>8</c-><c- b>em</c-><c- p>;</c->

    <c- k>padding</c-><c- p>:</c-> <c- mi>4</c-><c- b>px</c-><c- p>;</c->
    <c- k>border</c-><c- p>:</c-> <c- kc>medium</c-> <c- kc>solid</c-> <c- kc>blue</c-><c- p>;</c->
    <c- k>margin</c-><c- p>:</c-> <c- mi>6</c-><c- b>px</c-><c- p>;</c->

    <c- k>font</c-><c- p>:</c-> <c- kc>medium</c-><c- o>/</c-><c- mf>1.3</c-> <c- n>Times</c-> <c- n>New</c->
        <c- n>Roman</c-><c- p>,</c-> <c- n>Times</c-><c- p>,</c-> <c- kc>serif</c-><c- p>;</c->
    <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"in-cards"</c-><c- p>></c->
    在此示例中，div 中的文本被分解为一系列卡片。
    这些卡片都具有相同的样式。
    当内容足以溢出一张卡片时，
    就会创建另一张卡片。第二张
    卡片的创建方式与第一张卡片的
    下一个兄弟节点完全相同。
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</code></pre>
                        <td>
                            <div class="in-cards-demo"> 在此示例中，div
                                中的文本<br>被分解为一系列<br>卡片。这些卡片都具有<br>相同的样式。当内容<br>足以溢出<br>一张卡片时，就会导致另一张</div>
                            <div class="in-cards-demo"> 卡片被创建。第二张<br>卡片的创建方式与它是<br>第一张卡片的下一个兄弟节点完全相同。</div>
            </table>
        </div>
        <div class="example" id="example-7bf90bf1">
            <a class="self-link" href="#example-7bf90bf1"></a> 作者可能希望通过将元素的开头几行放在单独的分片中来为它们设置不同的样式。
            但是，由于可能难以预测这些行所占的确切高度
            以将第一个分片限制在该高度，
            因此使用 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-max-lines"
                id="ref-for-propdef-max-lines">max-lines</a> 属性更为方便，
            该属性会强制分片在指定的行数后中断。
            只要这些行位于相同的块格式化上下文中，
            这就会在元素或其后代中包含的给定行数后强制中断。
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
    <c- p>.</c-><c- nc>article</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>first-letter</c-> <c- p>{</c->
    <c- k>font-size</c-><c- p>:</c-> <c- mi>2</c-><c- b>em</c-><c- p>;</c->
    <c- k>line-height</c-><c- p>:</c-> <c- mf>0.9</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>{</c->
    <c- k>font-size</c-><c- p>:</c-> <c- mf>1.5</c-><c- b>em</c-><c- p>;</c->
    <c- k>max-lines</c-><c- p>:</c-> <c- mi>3</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>{</c->
    <c- k>column-count</c-><c- p>:</c-> <c- mi>2</c-><c- p>;</c->
    <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"article"</c-><c- p>></c->
    <i>...</i>
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-></code>
</pre>
                        <td>
                            <div class="article-max-lines-demo one">`max-lines` 属性允许<br>作者为文章的<br>前几行使用更大的字体。如果没有</div>
                            <div class="article-max-lines-demo two">`max-lines` 属性，作者<br>可能不得不改用<br><a
                                    class="property css" data-link-type="property"
                                    href="https://www.w3.org/TR/css-sizing-3/#propdef-height"
                                    id="ref-for-propdef-height">height</a> 属性，但是<br>如果作者错误计算了<br>给定行数会占据<br>多少高度（这可能
                            </div>
                            <div class="article-max-lines-demo three">
                                特别困难，如果作者<br>不知道什么文本会<br>填充空间，确切地<br>使用什么字体，或者<br>确切地使用哪个平台的字体<br>渲染来<br>显示字体）。</div>
            </table>
        </div>
        <p class="issue" id="issue-4d452eb2"><a class="self-link" href="#issue-4d452eb2"></a> 我们应该指定 <a class="css"
                data-link-type="propdesc" href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue①③">continue: fragments</a> 不适用于
            至少某些表格部分，
            可能还有其他元素。
            我们需要确切地确定是哪些。</p>
        <p class="issue" id="issue-0df4918a"><a class="self-link" href="#issue-0df4918a"></a> 本规范需要说明创建了哪种类型的
            分片上下文，
            以便清楚 <a class="property css" data-link-type="property">break-*</a> 属性的哪些值
            会导致在此上下文中中断。
            我们可能希望 <span class="css">break-*: region</span> 应用。</p>
        <p class="issue" id="issue-1d1c38d2"><a class="self-link" href="#issue-1d1c38d2"></a> 本规范需要一个处理模型，
            该模型将适用于包含分片的布局具有使用分片的固有大小来更改其可用空间量的特性
            （例如 <a data-link-type="biblio" href="#biblio-css3-grid-layout"
                title="CSS Grid Layout Module Level 1">[CSS3-GRID-LAYOUT]</a>）的情况。
            在 <a data-link-type="biblio" href="#biblio-css-regions-1"
                title="CSS Regions Module Level 1">[CSS-REGIONS-1]</a> 中已经对此类处理模型进行了一些工作，
            在该模型上完成的工作以及该规范的编辑者
            应该为本规范中发生的情况提供信息。</p>
        <h3 class="heading settled" id="fragment-styling"><span class="content">片段样式</span><a class="self-link"
                href="#fragment-styling"></a></h3>
        <h4 class="heading settled" id="fragment-pseudo-element"><span class="content"> <a class="css"
                    data-link-type="maybe" href="#selectordef-nth-fragment"
                    id="ref-for-selectordef-nth-fragment①">::nth-fragment()</a> 伪元素</span><a class="self-link"
                href="#fragment-pseudo-element"></a></h4>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-nth-fragment">::nth-fragment()</dfn> 伪元素是一个伪元素，
            它描述了由元素生成的某些<a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box⑦">片段框</a>。
            伪元素的参数采用与 <a data-link-type="biblio" href="#biblio-select" title="Selectors Level 3">[SELECT]</a> 中定义的
            :nth-child() 伪类参数相同的语法，并且具有相同的含义，
            只是数字是相对于元素生成的<span id="ref-for-fragment-box⑧">片段框</span>，
            而不是元素的兄弟元素。</p>
        <p class="note" role="note"><span class="marker">注意：</span>特意不提供允许通过从末尾而不是从开头计数来寻址片段的选择器。
            此类选择器会干扰片段数量的确定。</p>
        <p class="issue" id="issue-978c73c1"><a class="self-link" href="#issue-978c73c1"></a> 根据未来的讨论，
            此 <span class="css">::nth-fragment(<var>an+b</var>)</span> 语法
            可能会被新的 <span class="css">::fragment:nth(<var>an+b</var>)</span> 语法取代。</p>
        <h4 class="heading settled" id="style-of-fragments"><span class="content"> 片段的样式</span><a class="self-link"
                href="#style-of-fragments"></a></h4>
        <p class="issue" id="issue-ce652c3d"><a class="self-link" href="#issue-ce652c3d"></a> 这应该仅适用于
            continue:fragments，
            还是也适用于 continue:paginate？
            （如果适用，
            则 continue:paginate 需要更严格的属性限制。）</p>
        <p>在没有带有 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment②">::nth-fragment()</a> 伪元素的规则的情况下，
            每个<a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box⑨">片段框</a>的计算样式是为其创建<span
                id="ref-for-fragment-box①⓪">片段框</span>的元素的计算样式。
            但是，<span id="ref-for-fragment-box①①">片段框</span>的样式也受到其选择器的<a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#selector-subject" id="ref-for-selector-subject">主题</a>具有 <span
                class="css" id="ref-for-selectordef-nth-fragment③">::nth-fragment()</span> 伪元素的规则的影响，
            如果<span id="ref-for-fragment-box①②">片段框</span>的基于 1 的编号与该 <span class="css"
                id="ref-for-selectordef-nth-fragment④">::nth-fragment()</span> 伪元素匹配，
            并且选择器（不包括 <span class="css" id="ref-for-selectordef-nth-fragment⑤">::nth-fragment()</span> 伪元素）
            与生成片段的元素匹配。</p>
        <p>在确定<a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box①③">片段框</a>的样式时，
            这些匹配片段伪元素的规则与匹配元素的规则一起层叠，
            片段伪元素为特异性计算添加伪类的特异性。<span class="issue" id="issue-40daaa94"><a class="self-link"
                    href="#issue-40daaa94"></a>这是否也需要在层叠模块中指定？</span></p>
        <div class="example" id="example-9b7707f8">
            <a class="self-link" href="#example-9b7707f8"></a>
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
    <c- p>.</c-><c- nc>bouncy-columns</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <c- mi>6</c-><c- b>em</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- mi>10</c-><c- b>em</c-><c- p>;</c->
    <c- k>float</c-><c- p>:</c-> <c- kc>left</c-><c- p>;</c->
    <c- k>margin</c-><c- p>:</c-> <c- mi>1</c-><c- b>em</c-><c- p>;</c->
    <c- k>font</c-><c- p>:</c-> <c- kc>medium</c-><c- o>/</c-><c- mf>1.25</c-> <c- n>Times</c-> <c- n>New</c->
        <c- n>Roman</c-><c- p>,</c-> <c- n>Times</c-><c- p>,</c-> <c- kc>serif</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>bouncy-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- kc>aqua</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>black</c-><c- p>;</c->
    <c- k>transform</c-><c- p>:</c-> rotate<c- p>(</c-><c- mi>-3</c-><c- b>deg</c-><c- p>);</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>bouncy-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- kc>yellow</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>black</c-><c- p>;</c->
    <c- k>transform</c-><c- p>:</c-> rotate<c- p>(</c-><c- mi>3</c-><c- b>deg</c-><c- p>);</c->
    <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"bouncy-columns"</c-><c- p>></c->
    <i>...</i>
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</code></pre>
                        <td>
                            <div class="bouncy-columns-demo one">在这个<br>例子中，div<br>中的文本<br>被分解成<br>一系列的<br>列。作者<br>可能
                            </div>
                            <div class="bouncy-columns-demo two">
                                希望文本<br>填充两<br>列。但是<br>如果它碰巧<br>填充了三<br>列，第三<br>列仍然会<br>被创建。它</div>
                            <div class="bouncy-columns-demo">只是没有<br>任何<br>片段特定的<br>样式，因为<br>作者<br>没有给它<br>任何样式。</div>
            </table>
        </div>
        <p>使用 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue①④">continue</a> 属性对 <a class="css" data-link-type="maybe"
                href="#selectordef-nth-fragment" id="ref-for-selectordef-nth-fragment⑥">::nth-fragment()</a>
            伪元素进行样式设置确实有效；
            如果<a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box①④">片段框</a>的 <span class="property"
                id="ref-for-propdef-continue①⑤">continue</span> 计算值不是 <a class="css" data-link-type="maybe"
                href="#valdef-continue-fragments" id="ref-for-valdef-continue-fragments⑥">fragments</a>，则该片段框是最后一个片段。
            但是，覆盖第一个片段上的 <span class="property" id="ref-for-propdef-continue①⑥">continue</span>
            并不会导致<span id="ref-for-fragment-box①⑤">片段框</span>不存在；
            是否存在片段框完全由元素的 overflow 计算值决定。</p>
        <p>使用 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-content-3/#propdef-content" id="ref-for-propdef-content③">content</a>
            属性对 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment⑦">::nth-fragment()</a> 伪元素进行样式设置无效；
            片段框的 <span class="property" id="ref-for-propdef-content④">content</span> 计算值
            与元素的 content 计算值保持相同。</p>
        <p>为<a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box①⑥">片段框</a>指定 <a class="css"
                data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display"
                id="ref-for-propdef-display">display:
                none</a> 会导致
            具有该索引的片段框不被生成。
            但是，就用于匹配后续片段框的 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment⑧">::nth-fragment()</a> 伪元素的索引而言，
            它仍然算作已生成。
            但是，由于它未生成，因此不包含任何内容。</p>
        <p>允许指定 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-display-3/#propdef-display" id="ref-for-propdef-display①">display</a>、
            <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-position-3/#propdef-position" id="ref-for-propdef-position">position</a>
            或 <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-float"
                id="ref-for-propdef-float">float</a> 的其他值，但不允许更改
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inner-display-type"
                id="ref-for-inner-display-type">内部显示类型</a>。
            （因为 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue"
                id="ref-for-propdef-continue①⑦">continue</a> 仅
            适用于块容器、弹性容器和网格容器）。<span class="issue" id="issue-d723335f"><a class="self-link"
                    href="#issue-d723335f"></a>需要明确说明这是如何工作的</span>
        </p>
        <p>为了匹配其他伪元素的模型，
            其中伪元素存在于其相应元素的内部，
            <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment⑨">::nth-fragment()</a> 伪元素中的声明会覆盖
            没有伪元素的规则中的声明。
            此类声明中的相对优先级由正常的层叠顺序确定（参见 <a data-link-type="biblio" href="#biblio-css2"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>）。
        </p>
        <p>在 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment①⓪">::nth-fragment()</a> 伪元素上指定的样式
            确实会影响到<a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box①⑦">片段框</a>内内容的继承。
            换句话说，<span id="ref-for-fragment-box①⑧">片段框</span>内的内容必须
            从片段框的样式（即伪元素样式）继承，
            而不是直接从元素继承。
            这意味着在片段框之间拆分的元素可能
            对元素的不同部分具有不同的样式。</p>
        <p class="issue" id="issue-0fc783b4"><a class="self-link" href="#issue-0fc783b4"></a> 此继承规则允许间接指定样式
            （通过使用显式的 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit"
                id="ref-for-valdef-all-inherit">inherit</a> 或在不适用于 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter"
                id="ref-for-selectordef-first-letter">::first-letter</a> 的属性上使用默认继承）
            而这些样式无法直接指定
            （基于下一节中的规则）。
            这是一个问题。
            适用于片段内部样式的限制
            也应适用于从片段继承。</p>
        <div class="example" id="example-aa99a4f4">
            <a class="self-link" href="#example-aa99a4f4"></a>
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
    <c- p>.</c-><c- nc>article</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>{</c->
    <c- k>font-size</c-><c- p>:</c-> <c- mf>1.5</c-><c- b>em</c-><c- p>;</c->
    <c- k>margin-bottom</c-><c- p>:</c-> <c- mi>1</c-><c- b>em</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- mi>4</c-><c- b>em</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>article</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>{</c->
    <c- k>margin-left</c-><c- p>:</c-> <c- mi>5</c-><c- b>em</c-><c- p>;</c->
    <c- k>margin-right</c-><c- p>:</c-> <c- mi>2</c-><c- b>em</c-><c- p>;</c->
    <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"article"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>code</c-><c- p>></c->font-size<c- p>&lt;/</c-><c- f>code</c-><c- p>></c->> 属性<i>...</i>
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</code></pre>
                        <td>
                            <div class="article-font-inherit-demo one">在片段上指定的 <code>font-size</code> 属性<br>会继承到片段的
                            </div>
                            <div class="article-font-inherit-demo two">后代中。<br>这意味着<br>继承的属性可以可靠地<br>用于片段，如此示例所示。</div>
            </table>
        </div>
        <h4 class="heading settled" id="style-in-fragments"><span class="content">片段内部样式</span><a class="self-link"
                href="#style-in-fragments"></a></h4>
        <p class="issue" id="issue-4a9707fc"><a class="self-link" href="#issue-4a9707fc"></a> 这应该仅适用于
            continue:fragments，
            还是也适用于 continue:paginate？</p>
        <p><a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment①①">::nth-fragment()</a> 伪元素
            也可以用于设置<a data-link-type="dfn" href="#fragment-box" id="ref-for-fragment-box①⑨">片段框</a>内部内容的样式。
            与 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line"
                id="ref-for-selectordef-first-line">::first-line</a> 和 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter"
                id="ref-for-selectordef-first-letter①">::first-letter</a> 伪元素不同，
            <span class="css" id="ref-for-selectordef-nth-fragment①②">::nth-fragment()</span> 伪元素可以应用于
            选择器中除主题以外的部分：
            特别是，它可以匹配主题的祖先。
            但是，通过此类选择器的规则应用的唯一 CSS 属性
            是那些适用于 <span class="css" id="ref-for-selectordef-first-letter②">::first-letter</span> 伪元素的属性。
        </p>
        <p>更准确地说，
            当规则的选择器具有附加到选择器中除主题以外部分的 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                id="ref-for-selectordef-nth-fragment①③">::nth-fragment()</a> 伪元素时，
            该规则中的声明在以下情况下适用于片段（或其伪元素）：</p>
        <ol>
            <li data-md>
                <p>声明适用于 <a class="css" data-link-type="maybe"
                        href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter"
                        id="ref-for-selectordef-first-letter③">::first-letter</a> 伪元素的属性，</p>
            <li data-md>
                <p>如果移除了那些 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                        id="ref-for-selectordef-nth-fragment①④">::nth-fragment()</a> 伪元素，
                    并且每个简单选择器序列与其匹配的元素之间存在特定关联，
                    则声明将适用于该片段（或其伪元素），
                    并且</p>
            <li data-md>
                <p>对于每个移除的 <a class="css" data-link-type="maybe" href="#selectordef-nth-fragment"
                        id="ref-for-selectordef-nth-fragment①⑤">::nth-fragment()</a> 伪元素，
                    该片段存在于与该关联中与伪元素附加到的选择器相关联的元素的<a data-link-type="dfn" href="#fragment-box"
                        id="ref-for-fragment-box②⓪">片段框</a>内，
                    并且其索引与伪元素匹配。</p>
        </ol>
        <div class="example" id="example-ddb63e18">
            <a class="self-link" href="#example-ddb63e18"></a>
            <table class="source-demo-pair">
                <tbody>
                    <tr>
                        <td>
                            <pre><code class="highlight"><c- cp>&lt;!DOCTYPE HTML></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
    <c- p>.</c-><c- nc>dark-columns</c-> <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> <c- n>fragments</c-><c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <c- mi>6</c-><c- b>em</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- mi>10</c-><c- b>em</c-><c- p>;</c->
    <c- k>float</c-><c- p>:</c-> <c- kc>left</c-><c- p>;</c->
    <c- k>margin-right</c-><c- p>:</c-> <c- mi>1</c-><c- b>em</c-><c- p>;</c->
    <c- k>font</c-><c- p>:</c-> <c- kc>medium</c-><c- o>/</c-><c- mf>1.25</c-> <c- n>Times</c-> <c- n>New</c->
        <c- n>Roman</c-><c- p>,</c-> <c- n>Times</c-><c- p>,</c-> <c- kc>serif</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- kc>aqua</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>black</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>:</c-><c- nd>link</c-> <c- p>{</c->
    <c- k>color</c-><c- p>:</c-> <c- kc>blue</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>1</c-><c- o>)</c-> <c- p>:</c-><c- nd>visited</c-> <c- p>{</c->
    <c- k>color</c-><c- p>:</c-> <c- kc>purple</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> <c- kc>navy</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>white</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>:</c-><c- nd>link</c-> <c- p>{</c->
    <c- k>color</c-><c- p>:</c-> <c- kc>aqua</c-><c- p>;</c->
    <c- p>}</c->
    <c- p>.</c-><c- nc>dark-columns</c-><c- p>::</c-><c- nd>nth-fragment</c-><c- o>(</c-><c- f>2</c-><c- o>)</c-> <c- p>:</c-><c- nd>visited</c-> <c- p>{</c->
    <c- k>color</c-><c- p>:</c-> <c- kc>fuchsia</c-><c- p>;</c->
    <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"dark-columns"</c-><c- p>></c->
    <i>...</i>
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</code></pre>
                        <td>
                            <div class="dark-columns-demo one">在这个<br><a
                                    href="https://en.wiktionary.org/wiki/example">例子</a>中，文本<br>从一个<br>浅色<br>片段流入<br>另一个<br>深色
                            </div>
                            <div class="dark-columns-demo two">片段。因此<br>我们希望<br>不同片段中的<br><a
                                    href="https://www.w3.org/Provider/Style/IntoContext.html">超链接</a><br>具有<br>不同的样式。
                            </div>
            </table>
        </div>
        <h2 class="no-num heading settled" id="privacy"><span class="content"> 附录 C：隐私注意事项</span><a class="self-link"
                href="#privacy"></a></h2>
        <p>本规范未引入新的隐私注意事项。</p>
        <h2 class="no-num heading settled" id="security"><span class="content"> 附录 D：安全注意事项</span><a class="self-link"
                href="#security"></a></h2>
        <p>本规范未引入新的安全注意事项。</p>
        <h2 class="no-num heading settled" id="changes-l4"><span class="content"> 自 Level 4 以来的变更</span><a
                class="self-link" href="#changes-l4"></a></h2>
        <p class="issue" id="issue-d4908b1e"><a class="self-link" href="#issue-d4908b1e"></a> 待定</p>
        <h2 class="no-num heading settled" id="acknowledgments"><span class="content"> 致谢</span><a class="self-link"
                href="#acknowledgments"></a></h2>
        <p> 特别感谢来自
            Rossen Atanassov、
            Bert Bos、
            Tantek Çelik、
            John Daggett、
            fantasai、
            Daniel Glazman、
            Vincent Hardy、
            Håkon Wium Lie、
            Peter Linss、
            Robert O’Callahan、
            Florian Rivoal、
            Alan Stearns、
            Steve Zilles
            以及 <a href="https://lists.w3.org/Archives/Public/www-style/">www-style</a> 社区所有其他成员的反馈。
        </p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> 一致性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> 文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>一致性要求通过描述性断言和 RFC 2119 术语的组合来表达。本文档规范部分的关键词“MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD
        NOT”、“RECOMMENDED”、“MAY”和“OPTIONAL”应按照 RFC 2119 中的描述进行解释。
        但是，为了便于阅读，这些词在本规范中并非全部大写。</p>
    <p>本规范的所有文本均为规范性文本，明确标记为非规范性的章节、示例和注释除外。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>本规范中的示例以“例如”一词开头，或使用 <code>class="example"</code> 与规范性文本分开，
        如下所示：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个信息性示例的例子。</p>
    </div>
    <p>信息性注释以“注意”一词开头，并使用 <code>class="note"</code> 与规范性文本分开，如下所示：</p>
    <p class="note" role="note">注意，这是一条信息性注释。</p>
    <p>建议是规范性章节，其样式旨在引起特别注意，并使用 <code>&lt;strong class="advisement"></code> 与其他规范性文本分开，如下所示：<strong class="advisement">
            用户代理必须提供可访问的替代方案。</strong></p>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> 一致性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范的一致性针对三个一致性类别进行定义：</p>
    <dl>
        <dt>样式表
        <dd>一个 <a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                样式表</a>。
        <dt>渲染器
        <dd>一个<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理</a>，它解释样式表的语义并渲染使用它们的文档。
        <dt>创作工具
        <dd>一个<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理</a>，它编写样式表。
    </dl>
    <p>如果样式表中使用本模块中定义的语法的所有语句都根据通用 CSS 语法和本模块中定义的每个特性的各个语法有效，则该样式表符合本规范。</p>
    <p>如果渲染器除了按照相应规范的定义解释样式表外，还通过正确解析并相应地渲染文档来支持本规范定义的所有特性，则该渲染器符合本规范。但是，由于设备限制导致用户代理无法正确渲染文档并不会使该用户代理不符合规范。（例如，不要求用户代理在单色监视器上渲染颜色。）
    </p>
    <p>如果创作工具编写的样式表在语法上根据通用 CSS 语法和本模块中每个特性的各个语法是正确的，并且满足本模块中描述的样式表的所有其他一致性要求，则该创作工具符合本规范。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> 部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为了使作者能够利用向前兼容的解析规则来分配回退值，CSS 渲染器<strong>必须</strong>将任何它们没有可用支持级别的 at-rules、属性、属性值、关键字和其他语法结构视为无效（并<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">酌情忽略</a>）。特别是，用户代理<strong>不得</strong>在单个多值属性声明中选择性地忽略不受支持的组件值并接受受支持的值：如果任何值被视为无效（不受支持的值必须如此），CSS
        要求忽略整个声明。</p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> 不稳定和专有特性的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为避免与未来稳定的 CSS 特性发生冲突，
        CSSWG 建议在实现<a href="https://www.w3.org/TR/CSS/#unstable">不稳定</a>特性和 CSS 的<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>时<a
            href="https://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> 非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>一旦规范达到候选推荐阶段，
        就可以进行非实验性实现，并且实现者应该发布他们可以证明已根据规范正确实现的任何 CR 级别特性的无前缀实现。</p>
    <p>为了建立和维护 CSS 在不同实现之间的互操作性，CSS 工作组要求非实验性 CSS 渲染器在发布任何 CSS 特性的无前缀实现之前，向 W3C 提交一份实现报告（以及必要时，用于该实现报告的测试用例）。提交给 W3C
        的测试用例将由 CSS 工作组进行审查和更正。</p>
    <p>有关提交测试用例和实现报告的更多信息，请访问 CSS 工作组网站：<a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。
        问题应发送至 <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> 邮件列表。
    </p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this
            specification</span><a class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#valdef-scroll-marker-group-after">after</a><span>, in § 3.1.2</span>
        <li><a href="#valdef-scroll-marker-group-before">before</a><span>, in § 3.1.2</span>
        <li><a href="#valdef-scroll-button-direction-block-end">block-end</a><span>, in § 3.2</span>
        <li><a href="#valdef-scroll-button-direction-block-start">block-start</a><span>, in § 3.2</span>
        <li><a href="#current-scroll-target">current scroll target</a><span>, in § 2.1</span>
        <li><a href="#valdef-scroll-button-direction-down">down</a><span>, in § 3.2</span>
        <li><a href="#fragment-box">fragment box</a><span>, in § Unnumbered section</span>
        <li><a href="#valdef-continue-fragments">fragments</a><span>, in § Unnumbered section</span>
        <li><a href="#valdef-scroll-button-direction-inline-end">inline-end</a><span>, in § 3.2</span>
        <li><a href="#valdef-scroll-button-direction-inline-start">inline-start</a><span>, in § 3.2</span>
        <li><a href="#valdef-scroll-button-direction-left">left</a><span>, in § 3.2</span>
        <li><a href="#valdef-scroll-button-direction-next">next</a><span>, in § 3.2</span>
        <li><a href="#valdef-scroll-marker-group-none">none</a><span>, in § 3.1.2</span>
        <li><a href="#selectordef-nth-fragment">::nth-fragment()</a><span>, in § Unnumbered section</span>
        <li><a href="#valdef-continue-overflow">overflow</a><span>, in § Unnumbered section</span>
        <li><a href="#valdef-continue-paginate">paginate</a><span>, in § Unnumbered section</span>
        <li><a href="#valdef-scroll-button-direction-prev">prev</a><span>, in § 3.2</span>
        <li><a href="#valdef-scroll-button-direction-right">right</a><span>, in § 3.2</span>
        <li><a href="#typedef-scroll-button-direction">&lt;scroll-button-direction></a><span>, in § 3.2</span>
        <li><a href="#selectordef-scroll-button-scroll-button-direction">::scroll-button( &lt;scroll-button-direction>
                )</a><span>, in § 3.2</span>
        <li><a href="#selectordef-scroll-marker">::scroll-marker</a><span>, in § 3.1.4</span>
        <li><a href="#scroll-marker">scroll marker</a><span>, in § 3.1</span>
        <li><a href="#selectordef-scroll-marker-group">::scroll-marker-group</a><span>, in § 3.1.3</span>
        <li><a href="#scroll-marker-group">scroll marker group</a><span>, in § 3.1.1</span>
        <li><a href="#propdef-scroll-marker-group">scroll-marker-group</a><span>, in § 3.1.2</span>
        <li><a href="#scroll-marker-group-container">scroll marker group container</a><span>, in § 3.1.1</span>
        <li><a href="#scroll-target">scroll target</a><span>, in § 3.1</span>
        <li><a href="#selectordef-target-current">:target-current</a><span>, in § 3.1.5</span>
        <li><a href="#valdef-scroll-button-direction-up">up</a><span>, in § 3.2</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by
            reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-BREAK-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="4904f647">fragmentation container</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="d0dc95c3">inherit</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CONTAIN-2]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="7507b495">layout containment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CONTENT-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="f3e8378c">content</span>
                <li><span class="dfn-paneled" id="85ca4a34">none</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="2ccfe434">display</span>
                <li><span class="dfn-paneled" id="b7bfe5ca">inner display type</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-MULTICOL-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="bb384093">overflow columns</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-OVERFLOW-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="add377f4">overflow</span>
                <li><span class="dfn-paneled" id="a3cabdb1">scroll container</span>
                <li><span class="dfn-paneled" id="3ed7991e">scrollable overflow area</span>
                <li><span class="dfn-paneled" id="700ea31d">scrollport</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-OVERFLOW-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="072002d2">auto</span>
                <li><span class="dfn-paneled" id="42ff6ed0">continue</span>
                <li><span class="dfn-paneled" id="072f08da">max-lines</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-POSITION-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="b8c34db8">position</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-PSEUDO-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="70503bd6">::after</span>
                <li><span class="dfn-paneled" id="7c6f51b7">::before</span>
                <li><span class="dfn-paneled" id="63b59bd9">::first-letter</span>
                <li><span class="dfn-paneled" id="4bda66a9">::first-line</span>
                <li><span class="dfn-paneled" id="3b733e03">fully styleable pseudo-elements</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-REGIONS-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="6ff64730">CSS Region</span>
                <li><span class="dfn-paneled" id="9b457f64">region chain</span>
                <li><span class="dfn-paneled" id="8ddccf89">region-fragment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SCROLL-ANCHORING-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="df83f8bf">anchor priority candidate</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SCROLL-SNAP-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="6292f440">intended direction and end position</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SIZING-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="5ad01cca">height</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-UI-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="727bd17b">appearance</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="83d2ef35">block-end</span>
                <li><span class="dfn-paneled" id="1118d052">block-start</span>
                <li><span class="dfn-paneled" id="303c8d41">flow-relative</span>
                <li><span class="dfn-paneled" id="4da3b716">inline-end</span>
                <li><span class="dfn-paneled" id="0da67e16">inline-start</span>
                <li><span class="dfn-paneled" id="eb6008ce">writing mode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS22]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="0570259e">float</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-VIEW-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="0cda95c2">determine the scroll-into-view position</span>
                <li><span class="dfn-paneled" id="2cbb079e">scroll a target into view</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="296f3551">Element</span>
                <li><span class="dfn-paneled" id="25538777">tree order</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="bfff6250">button</span>
                <li><span class="dfn-paneled" id="f0246dc8">follow the hyperlink</span>
                <li><span class="dfn-paneled" id="9ea68b61">indicated part</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SELECTORS-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="86538792">:disabled</span>
                <li><span class="dfn-paneled" id="7b5d8638">originating element</span>
                <li><span class="dfn-paneled" id="aa4e3328">subject</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a
            class="self-link" href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a
            class="self-link" href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-break-3">[CSS-BREAK-3]
        <dd>Rossen Atanassov; Elika Etemad. <a href="https://www.w3.org/TR/css-break-3/"><cite>CSS Fragmentation Module
                    Level 3</cite></a>. 4 December 2018. CR. URL: <a
                href="https://www.w3.org/TR/css-break-3/">https://www.w3.org/TR/css-break-3/</a>
        <dt id="biblio-css-break-4">[CSS-BREAK-4]
        <dd>Rossen Atanassov; Elika Etemad. <a href="https://www.w3.org/TR/css-break-4/"><cite>CSS Fragmentation Module
                    Level 4</cite></a>. 18 December 2018. WD. URL: <a
                href="https://www.w3.org/TR/css-break-4/">https://www.w3.org/TR/css-break-4/</a>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    Cascading and Inheritance Level 5</cite></a>. 13 January 2022. CR. URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-contain-1">[CSS-CONTAIN-1]
        <dd>Tab Atkins Jr.; Florian Rivoal. <a href="https://www.w3.org/TR/css-contain-1/"><cite>CSS Containment Module
                    Level 1</cite></a>. 25 June 2024. REC. URL: <a
                href="https://www.w3.org/TR/css-contain-1/">https://www.w3.org/TR/css-contain-1/</a>
        <dt id="biblio-css-contain-2">[CSS-CONTAIN-2]
        <dd>Tab Atkins Jr.; Florian Rivoal; Vladimir Levin. <a href="https://www.w3.org/TR/css-contain-2/"><cite>CSS
                    Containment Module Level 2</cite></a>. 17 September 2022. WD. URL: <a
                href="https://www.w3.org/TR/css-contain-2/">https://www.w3.org/TR/css-contain-2/</a>
        <dt id="biblio-css-content-3">[CSS-CONTENT-3]
        <dd>Elika Etemad; Dave Cramer. <a href="https://www.w3.org/TR/css-content-3/"><cite>CSS Generated Content Module
                    Level 3</cite></a>. 2 August 2019. WD. URL: <a
                href="https://www.w3.org/TR/css-content-3/">https://www.w3.org/TR/css-content-3/</a>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS Display Module Level
                    3</cite></a>. 30 March 2023. CR. URL: <a
                href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
        <dd>Florian Rivoal; Rachel Andrew. <a href="https://www.w3.org/TR/css-multicol-1/"><cite>CSS Multi-column Layout
                    Module Level 1</cite></a>. 16 May 2024. CR. URL: <a
                href="https://www.w3.org/TR/css-multicol-1/">https://www.w3.org/TR/css-multicol-1/</a>
        <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
        <dd>Elika Etemad; Florian Rivoal. <a href="https://www.w3.org/TR/css-overflow-3/"><cite>CSS Overflow Module
                    Level 3</cite></a>. 29 March 2023. WD. URL: <a
                href="https://www.w3.org/TR/css-overflow-3/">https://www.w3.org/TR/css-overflow-3/</a>
        <dt id="biblio-css-overflow-4">[CSS-OVERFLOW-4]
        <dd>David Baron; Florian Rivoal; Elika Etemad. <a href="https://www.w3.org/TR/css-overflow-4/"><cite>CSS
                    Overflow Module Level 4</cite></a>. 21 March 2023. WD. URL: <a
                href="https://www.w3.org/TR/css-overflow-4/">https://www.w3.org/TR/css-overflow-4/</a>
        <dt id="biblio-css-position-3">[CSS-POSITION-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-position-3/"><cite>CSS Positioned Layout
                    Module Level 3</cite></a>. 10 August 2024. WD. URL: <a
                href="https://www.w3.org/TR/css-position-3/">https://www.w3.org/TR/css-position-3/</a>
        <dt id="biblio-css-pseudo-4">[CSS-PSEUDO-4]
        <dd>Daniel Glazman; Elika Etemad; Alan Stearns. <a href="https://www.w3.org/TR/css-pseudo-4/"><cite>CSS
                    Pseudo-Elements Module Level 4</cite></a>. 30 December 2022. WD. URL: <a
                href="https://www.w3.org/TR/css-pseudo-4/">https://www.w3.org/TR/css-pseudo-4/</a>
        <dt id="biblio-css-regions-1">[CSS-REGIONS-1]
        <dd>Rossen Atanassov; Alan Stearns. <a href="https://www.w3.org/TR/css-regions-1/"><cite>CSS Regions Module
                    Level 1</cite></a>. 9 October 2014. WD. URL: <a
                href="https://www.w3.org/TR/css-regions-1/">https://www.w3.org/TR/css-regions-1/</a>
        <dt id="biblio-css-scroll-anchoring-1">[CSS-SCROLL-ANCHORING-1]
        <dd>Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-scroll-anchoring-1/"><cite>CSS Scroll Anchoring Module
                    Level 1</cite></a>. 11 November 2020. WD. URL: <a
                href="https://www.w3.org/TR/css-scroll-anchoring-1/">https://www.w3.org/TR/css-scroll-anchoring-1/</a>
        <dt id="biblio-css-scroll-snap-1">[CSS-SCROLL-SNAP-1]
        <dd>Matt Rakow; et al. <a href="https://www.w3.org/TR/css-scroll-snap-1/"><cite>CSS Scroll Snap Module Level
                    1</cite></a>. 11 March 2021. CR. URL: <a
                href="https://www.w3.org/TR/css-scroll-snap-1/">https://www.w3.org/TR/css-scroll-snap-1/</a>
        <dt id="biblio-css-ui-4">[CSS-UI-4]
        <dd>Florian Rivoal. <a href="https://www.w3.org/TR/css-ui-4/"><cite>CSS Basic User Interface Module Level
                    4</cite></a>. 16 March 2021. WD. URL: <a
                href="https://www.w3.org/TR/css-ui-4/">https://www.w3.org/TR/css-ui-4/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>. 12 March 2024. WD. URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS Writing Modes Level
                    4</cite></a>. 30 July 2019. CR. URL: <a
                href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS21/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS
                    2.1) Specification</cite></a>. 7 June 2011. REC. URL: <a
                href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-css22">[CSS22]
        <dd>Bert Bos. <a href="https://www.w3.org/TR/CSS22/"><cite>Cascading Style Sheets Level 2 Revision 2 (CSS 2.2)
                    Specification</cite></a>. 12 April 2016. WD. URL: <a
                href="https://www.w3.org/TR/CSS22/">https://www.w3.org/TR/CSS22/</a>
        <dt id="biblio-css3-flexbox">[CSS3-FLEXBOX]
        <dd>Tab Atkins Jr.; et al. <a href="https://www.w3.org/TR/css-flexbox-1/"><cite>CSS Flexible Box Layout Module
                    Level 1</cite></a>. 19 November 2018. CR. URL: <a
                href="https://www.w3.org/TR/css-flexbox-1/">https://www.w3.org/TR/css-flexbox-1/</a>
        <dt id="biblio-css3-grid-layout">[CSS3-GRID-LAYOUT]
        <dd>Tab Atkins Jr.; et al. <a href="https://www.w3.org/TR/css-grid-1/"><cite>CSS Grid Layout Module Level
                    1</cite></a>. 18 December 2020. CR. URL: <a
                href="https://www.w3.org/TR/css-grid-1/">https://www.w3.org/TR/css-grid-1/</a>
        <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
        <dd>Simon Pieters. <a href="https://www.w3.org/TR/cssom-view-1/"><cite>CSSOM View Module</cite></a>. 17 March
            2016. WD. URL: <a href="https://www.w3.org/TR/cssom-view-1/">https://www.w3.org/TR/cssom-view-1/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-select">[SELECT]
        <dd>Tantek Çelik; et al. <a href="https://www.w3.org/TR/selectors-3/"><cite>Selectors Level 3</cite></a>. 6
            November 2018. REC. URL: <a href="https://www.w3.org/TR/selectors-3/">https://www.w3.org/TR/selectors-3/</a>
        <dt id="biblio-selectors-4">[SELECTORS-4]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/selectors-4/"><cite>Selectors Level
                    4</cite></a>. 11 November 2022. WD. URL: <a
                href="https://www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a>
        <dt id="biblio-svg2">[SVG2]
        <dd>Amelia Bellamy-Royds; et al. <a href="https://www.w3.org/TR/SVG2/"><cite>Scalable Vector Graphics (SVG)
                    2</cite></a>. 4 October 2018. CR. URL: <a
                href="https://www.w3.org/TR/SVG2/">https://www.w3.org/TR/SVG2/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a
            class="self-link" href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-sizing-3/"><cite>CSS Box Sizing Module
                    Level 3</cite></a>. 17 December 2021. WD. URL: <a
                href="https://www.w3.org/TR/css-sizing-3/">https://www.w3.org/TR/css-sizing-3/</a>
        <dt id="biblio-css1">[CSS1]
        <dd>Håkon Wium Lie; Bert Bos. <a href="https://www.w3.org/TR/CSS1/"><cite>Cascading Style Sheets, level
                    1</cite></a>. 13 September 2018. REC. URL: <a
                href="https://www.w3.org/TR/CSS1/">https://www.w3.org/TR/CSS1/</a>
        <dt id="biblio-css3-marquee">[CSS3-MARQUEE]
        <dd>Bert Bos. <a href="https://www.w3.org/TR/css3-marquee/"><cite>CSS Marquee Module Level 3</cite></a>. 14
            October 2014. NOTE. URL: <a
                href="https://www.w3.org/TR/css3-marquee/">https://www.w3.org/TR/css3-marquee/</a>
        <dt id="biblio-css3gcpm">[CSS3GCPM]
        <dd>Rachel Andrew; Mike Bremford. <a href="https://www.w3.org/TR/css-gcpm-3/"><cite>CSS Generated Content for
                    Paged Media Module</cite></a>. 25 January 2024. WD. URL: <a
                href="https://www.w3.org/TR/css-gcpm-3/">https://www.w3.org/TR/css-gcpm-3/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a
            class="self-link" href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">Name
                    <th scope="col">Value
                    <th scope="col">Initial
                    <th scope="col">Applies to
                    <th scope="col">Inh.
                    <th scope="col">%ages
                    <th scope="col">Anim­ation type
                    <th scope="col">Canonical order
                    <th scope="col">Com­puted value
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-scroll-marker-group"
                            id="ref-for-propdef-scroll-marker-group①⓪">scroll-marker-group</a>
                    <td>none | before | after
                    <td>none
                    <td>scroll containers
                    <td>no
                    <td>n/a
                    <td>discrete
                    <td>per grammar
                    <td>specified value
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a
            class="self-link" href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> Copy <a href="https://www.w3.org/TR/css-overflow-3/#overflow-concepts">Level 3 content</a>
            when final. <a class="issue-return" href="#issue-50246bc5" title="Jump to section">↵</a></div>
        <div class="issue"> Setting the current scroll target should be defined in how to <a data-link-type="dfn"
                href="https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view">scroll a target into view</a>.
            <a class="issue-return" href="#issue-fc26a707" title="Jump to section">↵</a>
        </div>
        <div class="issue"> Use the current scroll target as an <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-scroll-anchoring-1/#anchor-priority-candidates">anchor priority
                candidate</a> for scroll anchoring. <a class="issue-return" href="#issue-e9bdeb4d"
                title="Jump to section">↵</a></div>
        <div class="issue"> Add images representing these examples. <a class="issue-return" href="#issue-41eecb3e"
                title="Jump to section">↵</a></div>
        <div class="issue"> The grouping of markers for scroll progress tracking should be separated from opting into
            focusgroup focus behavior. <a class="issue-return" href="#issue-a5475f7a" title="Jump to section">↵</a>
        </div>
        <div class="issue"> <a data-link-type="biblio" href="#biblio-cssom-view-1"
                title="CSSOM View Module">[CSSOM-VIEW-1]</a> will grow a "scroll by pages" algorithm,
            at which point this can reference that.
            See <a href="https://github.com/w3c/csswg-drafts/issues/10914#issuecomment-2380139977"> the resolution on
                issue #10914</a>. <a class="issue-return" href="#issue-086bdb0b" title="Jump to section">↵</a></div>
        <div class="issue"> Is this the best order for the buttons?
            This does match the usual ordering of logical directions in CSS,
            but similar buttons created manually
            are usually either ordered with verticals and horizontals each grouped together
            (aka block-start/block-end then inline-start/inline-end)
            or the verticals "around" the horizontals
            (aka block-start/inline-start/inline-end/block-end). <a class="issue-return" href="#issue-cdbe0ac3"
                title="Jump to section">↵</a></div>
        <div class="issue"> Do we want to add some multi-button keywords
            to make it easier to style several buttons the same way?
            In particular, <span class="css">all</span> is probably useful,
            but maybe also <span class="css">horizontal</span>/<span class="css">vertical</span>/<span
                class="css">block</span>/<span class="css">inline</span>. <a class="issue-return" href="#issue-62e6d969"
                title="Jump to section">↵</a></div>
        <div class="issue"> The UA stylesheet needs to specify that <a class="css" data-link-type="maybe"
                href="#selectordef-scroll-button-scroll-button-direction">::scroll-button()</a>s
            are styled identically to the
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element">button</a></code>
            element,
            including disabled styles. <a class="issue-return" href="#issue-c93cbaf3" title="Jump to section">↵</a>
        </div>
        <div class="issue"> Should <a class="css" data-link-type="maybe"
                href="#selectordef-scroll-button-scroll-button-direction">::scroll-button()</a> use the *full* UA
            styling of buttons,
            aka <span class="css">appearance:button</span>?
            Or the non-native rendering, aka <span class="css">appearance:none</span>?
            If the former, we’ll obviously need to define the interaction with <a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-ui-4/#propdef-appearance">appearance</a>. <a
                class="issue-return" href="#issue-894e4eee" title="Jump to section">↵</a></div>
        <div class="issue"> This section is highly experimental.
            It documents current attempts
            at extending the capabilities of the <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue">continue</a> property
            to solve additional use cases.
            However, it does not currently have consensus.
            It is presented here to encourage discussion,
            but non-experimental implementation is not recommended. <a class="issue-return" href="#issue-3406e15b"
                title="Jump to section">↵</a></div>
        <div class="issue"> The naming of this property and its values is preliminary.
            This was initially proposed as
            "fragmentation: auto | none | break | clone | page"
            in <a
                href="https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html">https://lists.w3.org/Archives/Public/www-style/2015Jan/0357.html</a>,
            and there is not yet wide agreement as to which naming is better. <a class="issue-return"
                href="#issue-70dec9cf" title="Jump to section">↵</a></div>
        <div class="issue"> This property is meant to generalize and replace <a class="property css"
                data-link-type="property"
                href="https://www.w3.org/TR/css-regions-1/#propdef-region-fragment">region-fragment</a>.
            Once it is sufficiently stable in this specification, <span class="property">region-fragment</span> should
            be removed from the regions specification in favor of this. <a class="issue-return" href="#issue-b201bbf9"
                title="Jump to section">↵</a></div>
        <div class="issue"> this is different from the definition in <a
                href="https://www.w3.org/TR/css-overflow-4/#continue"><cite>CSS Overflow 4</cite> § 5.3 Fragmentation of
                Overflow: the continue property</a>,
            where the specified value is the computed value.
            Which is model better? <a class="issue-return" href="#issue-cb5399d1" title="Jump to section">↵</a></div>
        <div class="issue"> If we introduce a pseudo element that can select columns in a multicol,
            we would need to specify that auto computes to auto on it,
            or introduce a new value and have auto compute to that
            (but what would that value compute to on things that aren’t columns?). <a class="issue-return"
                href="#issue-7e96806f" title="Jump to section">↵</a></div>
        <div class="issue"> Write this section <a class="issue-return" href="#issue-001d5014"
                title="Jump to section">↵</a></div>
        <div class="issue"> Pages should be possible to style with @page rules. How does that work for nested pages? <a
                class="issue-return" href="#issue-338ad0f3" title="Jump to section">↵</a></div>
        <div class="issue">
            Should traditional pagination (e.g. when printing)
            be expressed through some magic in the computed value of <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto">auto</a>,
            or by inserting this in the UA stylesheet:
            <pre><code class="lang-css highlight"><c- n>@media</c-> <c- p>(</c->overflow-block: paged<c- p>),</c-> <c- p>(</c->overflow-block: optional-paged<c- p>)</c-> <c- p>{</c->
  :root <c- p>{</c->
    <c- k>continue</c-><c- p>:</c-> paginate<c- p>;</c->
  <c- p>}</c->
<c- p>}</c->
</code></pre>
            <a class="issue-return" href="#issue-20e2f78e" title="Jump to section">↵</a>
        </div>
        <div class="issue"> Traditional pagination (e.g. when printing) assumes that
            :root is contained in the page box,
            rather than having the page box be a pseudo element child of :root.
            Can we work around that using something similar to fragment boxes?
            Or maybe by having a fragment box (reproducing :root) inside a page box inside :root? <a
                class="issue-return" href="#issue-87a37458" title="Jump to section">↵</a></div>
        <div class="issue"> How does the page box model work when it is a child of a regular css box? <a
                class="issue-return" href="#issue-64583cf9" title="Jump to section">↵</a></div>
        <div class="issue"> The initial proposal in <a data-link-type="biblio" href="#biblio-css3gcpm"
                title="CSS Generated Content for Paged Media Module">[CSS3GCPM]</a> and implementation from Opera
            used 4 values instead of <a class="css" data-link-type="maybe"
                href="#valdef-continue-paginate">paginate</a>:
            "paged-x | paged-y | paged-x-controls | paged-y-controls".
            Should this property also include these values,
            or are they better handled as separate properties?
            (e.g.: "pagination-layout: auto | horizontal | vertical", "pagination-controls: auto | none") <a
                class="issue-return" href="#issue-c27ed5ea" title="Jump to section">↵</a></div>
        <div class="issue"> Ability to display N pages at once
            rather than just one page at once?
            Could this be a value of "pagination-layout", such as:
            "pagination-layout: horizontal 2;" <a class="issue-return" href="#issue-e78fc89d"
                title="Jump to section">↵</a></div>
        <div class="issue"> Brad Kemper has proposed a model for combining pagination and
            fragment overflow, which also deals with displaying multiple pages. <a
                href="https://lists.w3.org/Archives/Public/www-style/2015Mar/0241.html">https://lists.w3.org/Archives/Public/www-style/2015Mar/0241.html</a>
            <a class="issue-return" href="#issue-2261daab" title="Jump to section">↵</a>
        </div>
        <div class="issue"> The current implementation of paginated overflow uses
            the overflow/overflow-x/overflow-y properties
            rather than the overflow-style property as proposed
            in the <a data-link-type="biblio" href="#biblio-css3gcpm"
                title="CSS Generated Content for Paged Media Module">[CSS3GCPM]</a> draft
            (which also matches the <a data-link-type="biblio" href="#biblio-css3-marquee"
                title="CSS Marquee Module Level 3">[CSS3-MARQUEE]</a> proposal).
            or the <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue">continue</a> property as described here.
            <a class="issue-return" href="#issue-6bc0b289" title="Jump to section">↵</a>
        </div>
        <div class="issue">Or is it as though it’s a next sibling of
            the element? Need to figure out exactly how this interacts with
            other box-level fixup. <a class="issue-return" href="#issue-c87585cb" title="Jump to section">↵</a></div>
        <div class="issue">though it defines <i>multi-column container</i> <a class="issue-return"
                href="#issue-6629852d" title="Jump to section">↵</a></div>
        <div class="issue">Should a forced break that breaks to
            an outer fragmentation context cause a new fragment of a single
            fragment box or a new fragment box? <a class="issue-return" href="#issue-74cf5d92"
                title="Jump to section">↵</a></div>
        <div class="issue">Should we find a term other than <a data-link-type="dfn" href="#fragment-box">fragment
                box</a> here to make this a little less confusing? <a class="issue-return" href="#issue-ca84b506"
                title="Jump to section">↵</a></div>
        <div class="issue"> What if we want to be able to style the pieces of an element
            split within another type of fragmentation context?
            These rules prevent ever using <a class="css" data-link-type="maybe"
                href="#selectordef-nth-fragment">::nth-fragment()</a> for that,
            despite that the name seems the most logical name for such a feature. <a class="issue-return"
                href="#issue-82870b15" title="Jump to section">↵</a></div>
        <div class="issue"> We should specify that <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-overflow-4/#propdef-continue">continue: fragments</a> does not apply
            to at least some table parts,
            and perhaps other elements as well.
            We need to determine exactly which ones. <a class="issue-return" href="#issue-4d452eb2"
                title="Jump to section">↵</a></div>
        <div class="issue"> This specification needs to say which type of
            fragmentation context is created
            so that it’s clear which values of the <a class="property css" data-link-type="property">break-*</a>
            properties
            cause breaks within this context.
            We probably want <span class="css">break-*: region</span> to apply. <a class="issue-return"
                href="#issue-0df4918a" title="Jump to section">↵</a></div>
        <div class="issue"> This specification needs a processing model
            that will apply in cases where the layout containing the
            fragments has characteristics that use the intrinsic size of the fragments
            to change the amount of space available for them,
            such as <a data-link-type="biblio" href="#biblio-css3-grid-layout"
                title="CSS Grid Layout Module Level 1">[CSS3-GRID-LAYOUT]</a>.
            There has already been some work on such a processing model
            in <a data-link-type="biblio" href="#biblio-css-regions-1"
                title="CSS Regions Module Level 1">[CSS-REGIONS-1]</a>,
            and the work done on a model there,
            and the editors of that specification,
            should inform what happens in this specification. <a class="issue-return" href="#issue-1d1c38d2"
                title="Jump to section">↵</a></div>
        <div class="issue"> Depending on future discussions,
            this <span class="css">::nth-fragment(<var>an+b</var>)</span> syntax
            may be replaced with
            the new <span class="css">::fragment:nth(<var>an+b</var>)</span> syntax. <a class="issue-return"
                href="#issue-978c73c1" title="Jump to section">↵</a></div>
        <div class="issue"> Should this apply to continue:fragments only,
            or also to continue:paginate?
            (If it applies,
            then stricter property restrictions would be needed
            for continue:paginate.) <a class="issue-return" href="#issue-ce652c3d" title="Jump to section">↵</a></div>
        <div class="issue">Does this need to be specified in
            the cascading module as well? <a class="issue-return" href="#issue-40daaa94" title="Jump to section">↵</a>
        </div>
        <div class="issue">Need to specify exactly how this works <a class="issue-return" href="#issue-d723335f"
                title="Jump to section">↵</a></div>
        <div class="issue"> This inheritance rule allows specifying styles indirectly
            (by using explicit <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit">inherit</a> or using default inheritance
            on properties that don’t apply to <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter">::first-letter</a>)
            that can’t be specified directly
            (based on the rules in the next section).
            This is a problem.
            The restrictions that apply to styling inside fragments
            should also apply to inheritance from fragments. <a class="issue-return" href="#issue-0fc783b4"
                title="Jump to section">↵</a></div>
        <div class="issue"> Should this apply to continue:fragments only,
            or also to continue:paginate? <a class="issue-return" href="#issue-4a9707fc" title="Jump to section">↵</a>
        </div>
        <div class="issue"> TBD <a class="issue-return" href="#issue-d4908b1e" title="Jump to section">↵</a></div>
    </div>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "0570259e": { "dfnID": "0570259e", "dfnText": "float", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-float" }], "title": "\nStyling of fragments" }], "url": "https://drafts.csswg.org/css2/#propdef-float" },
                "072002d2": { "dfnID": "072002d2", "dfnText": "auto", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-continue-auto" }, { "id": "ref-for-valdef-continue-auto\u2460" }, { "id": "ref-for-valdef-continue-auto\u2461" }, { "id": "ref-for-valdef-continue-auto\u2462" }, { "id": "ref-for-valdef-continue-auto\u2463" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-valdef-continue-auto\u2464" }], "title": "\nPaginated overflow" }], "url": "https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto" },
                "072f08da": { "dfnID": "072f08da", "dfnText": "max-lines", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-max-lines" }], "title": "\nFragmented Overflow" }], "url": "https://www.w3.org/TR/css-overflow-4/#propdef-max-lines" },
                "0cda95c2": { "dfnID": "0cda95c2", "dfnText": "determine the scroll-into-view position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-determine-the-scroll-into-view-position" }], "title": "3.1.5. \nSelecting The Active Scroll Marker: the :target-current pseudo-class" }], "url": "https://drafts.csswg.org/cssom-view-1/#determine-the-scroll-into-view-position" },
                "0da67e16": { "dfnID": "0da67e16", "dfnText": "inline-start", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inline-start" }, { "id": "ref-for-inline-start\u2460" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-start" },
                "1118d052": { "dfnID": "1118d052", "dfnText": "block-start", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-block-start" }, { "id": "ref-for-block-start\u2460" }, { "id": "ref-for-block-start\u2461" }, { "id": "ref-for-block-start\u2462" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#block-start" },
                "25538777": { "dfnID": "25538777", "dfnText": "tree order", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-order" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }], "url": "https://dom.spec.whatwg.org/#concept-tree-order" },
                "296f3551": { "dfnID": "296f3551", "dfnText": "Element", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-element" }], "title": "3.1. \nScroll markers" }], "url": "https://dom.spec.whatwg.org/#element" },
                "2cbb079e": { "dfnID": "2cbb079e", "dfnText": "scroll a target into view", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scroll-a-target-into-view" }], "title": "2.1. Scrolling overflow" }, { "refs": [{ "id": "ref-for-scroll-a-target-into-view\u2460" }], "title": "3.1.6. Activation behavior" }], "url": "https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view" },
                "2ccfe434": { "dfnID": "2ccfe434", "dfnText": "display", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-display" }, { "id": "ref-for-propdef-display\u2460" }], "title": "\nStyling of fragments" }], "url": "https://www.w3.org/TR/css-display-3/#propdef-display" },
                "303c8d41": { "dfnID": "303c8d41", "dfnText": "flow-relative", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-flow-relative" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#flow-relative" },
                "3b733e03": { "dfnID": "3b733e03", "dfnText": "fully styleable pseudo-elements", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fully-styleable" }], "title": "3.1.3. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-fully-styleable\u2460" }], "title": "3.2. \nScroll Buttons" }], "url": "https://drafts.csswg.org/css-pseudo-4/#fully-styleable" },
                "3ed7991e": { "dfnID": "3ed7991e", "dfnText": "scrollable overflow area", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scrollable-overflow-region" }], "title": "3.1.5. \nSelecting The Active Scroll Marker: the :target-current pseudo-class" }, { "refs": [{ "id": "ref-for-scrollable-overflow-region\u2460" }, { "id": "ref-for-scrollable-overflow-region\u2461" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region" },
                "42ff6ed0": { "dfnID": "42ff6ed0", "dfnText": "continue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-continue" }], "title": "\nAppendix A: Redirection of Overflow" }, { "refs": [{ "id": "ref-for-propdef-continue\u2460" }, { "id": "ref-for-propdef-continue\u2461" }, { "id": "ref-for-propdef-continue\u2462" }, { "id": "ref-for-propdef-continue\u2463" }, { "id": "ref-for-propdef-continue\u2464" }, { "id": "ref-for-propdef-continue\u2465" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-propdef-continue\u2466" }, { "id": "ref-for-propdef-continue\u2467" }], "title": "\nPaginated overflow" }, { "refs": [{ "id": "ref-for-propdef-continue\u2468" }, { "id": "ref-for-propdef-continue\u2460\u24ea" }, { "id": "ref-for-propdef-continue\u2460\u2460" }, { "id": "ref-for-propdef-continue\u2460\u2461" }, { "id": "ref-for-propdef-continue\u2460\u2462" }], "title": "\nFragmented Overflow" }, { "refs": [{ "id": "ref-for-propdef-continue\u2460\u2463" }, { "id": "ref-for-propdef-continue\u2460\u2464" }, { "id": "ref-for-propdef-continue\u2460\u2465" }, { "id": "ref-for-propdef-continue\u2460\u2466" }], "title": "\nStyling of fragments" }], "url": "https://www.w3.org/TR/css-overflow-4/#propdef-continue" },
                "4904f647": { "dfnID": "4904f647", "dfnText": "fragmentation container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fragmentation-container" }], "title": "1. \nIntroduction" }], "url": "https://www.w3.org/TR/css-break-4/#fragmentation-container" },
                "4bda66a9": { "dfnID": "4bda66a9", "dfnText": "::first-line", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-first-line" }], "title": "Styling inside fragments" }], "url": "https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line" },
                "4da3b716": { "dfnID": "4da3b716", "dfnText": "inline-end", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inline-end" }, { "id": "ref-for-inline-end\u2460" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-end" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }], "title": "3.1.2. \nThe scroll-marker-group property" }, { "refs": [{ "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "5ad01cca": { "dfnID": "5ad01cca", "dfnText": "height", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-height" }], "title": "\nFragmented Overflow" }], "url": "https://www.w3.org/TR/css-sizing-3/#propdef-height" },
                "6292f440": { "dfnID": "6292f440", "dfnText": "intended direction and end position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-intended-direction-and-end-position" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-scroll-snap-1/#intended-direction-and-end-position" },
                "63b59bd9": { "dfnID": "63b59bd9", "dfnText": "::first-letter", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-first-letter" }], "title": "\nStyling of fragments" }, { "refs": [{ "id": "ref-for-selectordef-first-letter\u2460" }, { "id": "ref-for-selectordef-first-letter\u2461" }, { "id": "ref-for-selectordef-first-letter\u2462" }], "title": "Styling inside fragments" }], "url": "https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter" },
                "6ff64730": { "dfnID": "6ff64730", "dfnText": "CSS Region", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-region" }, { "id": "ref-for-css-region\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://www.w3.org/TR/css-regions-1/#css-region" },
                "700ea31d": { "dfnID": "700ea31d", "dfnText": "scrollport", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scrollport" }, { "id": "ref-for-scrollport\u2460" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-overflow-3/#scrollport" },
                "70503bd6": { "dfnID": "70503bd6", "dfnText": "::after", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-after" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }], "url": "https://www.w3.org/TR/css-pseudo-4/#selectordef-after" },
                "727bd17b": { "dfnID": "727bd17b", "dfnText": "appearance", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-appearance" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-ui-4/#propdef-appearance" },
                "7507b495": { "dfnID": "7507b495", "dfnText": "layout containment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-layout-containment" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://www.w3.org/TR/css-contain-2/#layout-containment" },
                "7b5d8638": { "dfnID": "7b5d8638", "dfnText": "originating element", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-originating-element" }, { "id": "ref-for-originating-element\u2460" }], "title": "3.1.2. \nThe scroll-marker-group property" }, { "refs": [{ "id": "ref-for-originating-element\u2461" }], "title": "3.1.3. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-originating-element\u2462" }, { "id": "ref-for-originating-element\u2463" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-originating-element\u2464" }, { "id": "ref-for-originating-element\u2465" }, { "id": "ref-for-originating-element\u2466" }, { "id": "ref-for-originating-element\u2467" }, { "id": "ref-for-originating-element\u2468" }, { "id": "ref-for-originating-element\u2460\u24ea" }, { "id": "ref-for-originating-element\u2460\u2460" }, { "id": "ref-for-originating-element\u2460\u2461" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/selectors-4/#originating-element" },
                "7c6f51b7": { "dfnID": "7c6f51b7", "dfnText": "::before", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-before" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }], "url": "https://www.w3.org/TR/css-pseudo-4/#selectordef-before" },
                "83d2ef35": { "dfnID": "83d2ef35", "dfnText": "block-end", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-block-end" }, { "id": "ref-for-block-end\u2460" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#block-end" },
                "85ca4a34": { "dfnID": "85ca4a34", "dfnText": "none", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-content-none" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-valdef-content-none\u2460" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-content-3/#valdef-content-none" },
                "86538792": { "dfnID": "86538792", "dfnText": ":disabled", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-disabled-pseudo" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/selectors-4/#disabled-pseudo" },
                "8ddccf89": { "dfnID": "8ddccf89", "dfnText": "region-fragment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-region-fragment" }, { "id": "ref-for-propdef-region-fragment\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://www.w3.org/TR/css-regions-1/#propdef-region-fragment" },
                "9b457f64": { "dfnID": "9b457f64", "dfnText": "region chain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-region-chain" }, { "id": "ref-for-region-chain\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://www.w3.org/TR/css-regions-1/#region-chain" },
                "9ea68b61": { "dfnID": "9ea68b61", "dfnText": "indicated part", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-indicated-part-of-the-document" }], "title": "3.1. \nScroll markers" }], "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document" },
                "a3cabdb1": { "dfnID": "a3cabdb1", "dfnText": "scroll container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scroll-container" }, { "id": "ref-for-scroll-container\u2460" }, { "id": "ref-for-scroll-container\u2461" }], "title": "2.1. Scrolling overflow" }, { "refs": [{ "id": "ref-for-scroll-container\u2462" }, { "id": "ref-for-scroll-container\u2463" }, { "id": "ref-for-scroll-container\u2464" }, { "id": "ref-for-scroll-container\u2465" }, { "id": "ref-for-scroll-container\u2466" }], "title": "3.1.2. \nThe scroll-marker-group property" }, { "refs": [{ "id": "ref-for-scroll-container\u2467" }], "title": "3.1.3. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-scroll-container\u2468" }, { "id": "ref-for-scroll-container\u2460\u24ea" }, { "id": "ref-for-scroll-container\u2460\u2460" }, { "id": "ref-for-scroll-container\u2460\u2461" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-scroll-container\u2460\u2462" }, { "id": "ref-for-scroll-container\u2460\u2463" }, { "id": "ref-for-scroll-container\u2460\u2464" }, { "id": "ref-for-scroll-container\u2460\u2465" }, { "id": "ref-for-scroll-container\u2460\u2466" }, { "id": "ref-for-scroll-container\u2460\u2467" }], "title": "3.1.5. \nSelecting The Active Scroll Marker: the :target-current pseudo-class" }, { "refs": [{ "id": "ref-for-scroll-container\u2460\u2468" }, { "id": "ref-for-scroll-container\u2461\u24ea" }], "title": "3.2. \nScroll Buttons" }, { "refs": [{ "id": "ref-for-scroll-container\u2461\u2460" }, { "id": "ref-for-scroll-container\u2461\u2461" }, { "id": "ref-for-scroll-container\u2461\u2462" }, { "id": "ref-for-scroll-container\u2461\u2463" }, { "id": "ref-for-scroll-container\u2461\u2464" }], "title": "3.3. \nFocus Navigation Order" }], "url": "https://www.w3.org/TR/css-overflow-3/#scroll-container" },
                "aa4e3328": { "dfnID": "aa4e3328", "dfnText": "subject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-selector-subject" }], "title": "\nStyling of fragments" }], "url": "https://www.w3.org/TR/selectors-4/#selector-subject" },
                "add377f4": { "dfnID": "add377f4", "dfnText": "overflow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-overflow" }], "title": "\nAppendix A: Redirection of Overflow" }, { "refs": [{ "id": "ref-for-propdef-overflow\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "https://www.w3.org/TR/css-overflow-3/#propdef-overflow" },
                "b7bfe5ca": { "dfnID": "b7bfe5ca", "dfnText": "inner display type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inner-display-type" }], "title": "\nStyling of fragments" }], "url": "https://www.w3.org/TR/css-display-3/#inner-display-type" },
                "b8c34db8": { "dfnID": "b8c34db8", "dfnText": "position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-position" }], "title": "\nStyling of fragments" }], "url": "https://www.w3.org/TR/css-position-3/#propdef-position" },
                "bb384093": { "dfnID": "bb384093", "dfnText": "overflow columns", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-overflow-columns" }], "title": "\nFragmented Overflow" }], "url": "https://www.w3.org/TR/css-multicol-1/#overflow-columns" },
                "bfff6250": { "dfnID": "bfff6250", "dfnText": "button", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-button-element" }], "title": "3.2. \nScroll Buttons" }], "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" },
                "current-scroll-target": { "dfnID": "current-scroll-target", "dfnText": "current scroll target", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-current-scroll-target" }], "title": "2.1. Scrolling overflow" }, { "refs": [{ "id": "ref-for-current-scroll-target\u2460" }, { "id": "ref-for-current-scroll-target\u2461" }], "title": "3.1.5. \nSelecting The Active Scroll Marker: the :target-current pseudo-class" }], "url": "#current-scroll-target" },
                "d0dc95c3": { "dfnID": "d0dc95c3", "dfnText": "inherit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-all-inherit" }], "title": "\nStyling of fragments" }], "url": "https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit" },
                "df83f8bf": { "dfnID": "df83f8bf", "dfnText": "anchor priority candidate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-anchor-priority-candidates" }], "title": "2.1. Scrolling overflow" }], "url": "https://drafts.csswg.org/css-scroll-anchoring-1/#anchor-priority-candidates" },
                "eb6008ce": { "dfnID": "eb6008ce", "dfnText": "writing mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writing-mode" }], "title": "3.2. \nScroll Buttons" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#writing-mode" },
                "f0246dc8": { "dfnID": "f0246dc8", "dfnText": "follow the hyperlink", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-following-hyperlinks-2" }], "title": "3.1.6. Activation behavior" }], "url": "https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" },
                "f3e8378c": { "dfnID": "f3e8378c", "dfnText": "content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-content" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-propdef-content\u2460" }, { "id": "ref-for-propdef-content\u2461" }], "title": "3.2. \nScroll Buttons" }, { "refs": [{ "id": "ref-for-propdef-content\u2462" }, { "id": "ref-for-propdef-content\u2463" }], "title": "\nStyling of fragments" }], "url": "https://www.w3.org/TR/css-content-3/#propdef-content" },
                "fragment-box": { "dfnID": "fragment-box", "dfnText": "fragment box", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fragment-box" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-fragment-box\u2460" }, { "id": "ref-for-fragment-box\u2461" }, { "id": "ref-for-fragment-box\u2462" }, { "id": "ref-for-fragment-box\u2463" }, { "id": "ref-for-fragment-box\u2464" }, { "id": "ref-for-fragment-box\u2465" }], "title": "\nFragmented Overflow" }, { "refs": [{ "id": "ref-for-fragment-box\u2466" }, { "id": "ref-for-fragment-box\u2467" }], "title": "\nThe ::nth-fragment() pseudo-element" }, { "refs": [{ "id": "ref-for-fragment-box\u2468" }, { "id": "ref-for-fragment-box\u2460\u24ea" }, { "id": "ref-for-fragment-box\u2460\u2460" }, { "id": "ref-for-fragment-box\u2460\u2461" }, { "id": "ref-for-fragment-box\u2460\u2462" }, { "id": "ref-for-fragment-box\u2460\u2463" }, { "id": "ref-for-fragment-box\u2460\u2464" }, { "id": "ref-for-fragment-box\u2460\u2465" }, { "id": "ref-for-fragment-box\u2460\u2466" }, { "id": "ref-for-fragment-box\u2460\u2467" }], "title": "\nStyling of fragments" }, { "refs": [{ "id": "ref-for-fragment-box\u2460\u2468" }, { "id": "ref-for-fragment-box\u2461\u24ea" }], "title": "Styling inside fragments" }], "url": "#fragment-box" },
                "propdef-scroll-marker-group": { "dfnID": "propdef-scroll-marker-group", "dfnText": "scroll-marker-group", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-scroll-marker-group" }, { "id": "ref-for-propdef-scroll-marker-group\u2460" }], "title": "3.1.2. \nThe scroll-marker-group property" }, { "refs": [{ "id": "ref-for-propdef-scroll-marker-group\u2461" }, { "id": "ref-for-propdef-scroll-marker-group\u2462" }, { "id": "ref-for-propdef-scroll-marker-group\u2463" }, { "id": "ref-for-propdef-scroll-marker-group\u2464" }], "title": "3.1.3. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-propdef-scroll-marker-group\u2465" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-propdef-scroll-marker-group\u2466" }], "title": "3.2. \nScroll Buttons" }, { "refs": [{ "id": "ref-for-propdef-scroll-marker-group\u2467" }, { "id": "ref-for-propdef-scroll-marker-group\u2468" }], "title": "3.3. \nFocus Navigation Order" }], "url": "#propdef-scroll-marker-group" },
                "scroll-marker": { "dfnID": "scroll-marker", "dfnText": "scroll marker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scroll-marker" }], "title": "1. \nIntroduction" }, { "refs": [{ "id": "ref-for-scroll-marker\u2460" }, { "id": "ref-for-scroll-marker\u2461" }, { "id": "ref-for-scroll-marker\u2462" }, { "id": "ref-for-scroll-marker\u2463" }], "title": "3.1. \nScroll markers" }, { "refs": [{ "id": "ref-for-scroll-marker\u2464" }], "title": "3.1.1. \nScroll marker grouping" }, { "refs": [{ "id": "ref-for-scroll-marker\u2465" }, { "id": "ref-for-scroll-marker\u2466" }, { "id": "ref-for-scroll-marker\u2467" }, { "id": "ref-for-scroll-marker\u2468" }, { "id": "ref-for-scroll-marker\u2460\u24ea" }, { "id": "ref-for-scroll-marker\u2460\u2460" }], "title": "3.1.5. \nSelecting The Active Scroll Marker: the :target-current pseudo-class" }, { "refs": [{ "id": "ref-for-scroll-marker\u2460\u2461" }], "title": "3.1.6. Activation behavior" }, { "refs": [{ "id": "ref-for-scroll-marker\u2460\u2462" }], "title": "3.1.7. Focus behavior" }], "url": "#scroll-marker" },
                "scroll-marker-group": { "dfnID": "scroll-marker-group", "dfnText": "scroll marker group", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scroll-marker-group" }], "title": "3.1.1. \nScroll marker grouping" }, { "refs": [{ "id": "ref-for-scroll-marker-group\u2460" }, { "id": "ref-for-scroll-marker-group\u2461" }, { "id": "ref-for-scroll-marker-group\u2462" }, { "id": "ref-for-scroll-marker-group\u2463" }, { "id": "ref-for-scroll-marker-group\u2464" }, { "id": "ref-for-scroll-marker-group\u2465" }], "title": "3.1.5. \nSelecting The Active Scroll Marker: the :target-current pseudo-class" }], "url": "#scroll-marker-group" },
                "scroll-marker-group-container": { "dfnID": "scroll-marker-group-container", "dfnText": "scroll marker group container", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scroll-marker-group-container" }, { "id": "ref-for-scroll-marker-group-container\u2460" }], "title": "3.1.1. \nScroll marker grouping" }], "url": "#scroll-marker-group-container" },
                "scroll-target": { "dfnID": "scroll-target", "dfnText": "scroll target", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scroll-target" }, { "id": "ref-for-scroll-target\u2460" }, { "id": "ref-for-scroll-target\u2461" }], "title": "3.1. \nScroll markers" }, { "refs": [{ "id": "ref-for-scroll-target\u2462" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-scroll-target\u2463" }, { "id": "ref-for-scroll-target\u2464" }, { "id": "ref-for-scroll-target\u2465" }], "title": "3.1.5. \nSelecting The Active Scroll Marker: the :target-current pseudo-class" }, { "refs": [{ "id": "ref-for-scroll-target\u2466" }, { "id": "ref-for-scroll-target\u2467" }], "title": "3.1.6. Activation behavior" }, { "refs": [{ "id": "ref-for-scroll-target\u2468" }, { "id": "ref-for-scroll-target\u2460\u24ea" }], "title": "3.1.7. Focus behavior" }], "url": "#scroll-target" },
                "selectordef-nth-fragment": { "dfnID": "selectordef-nth-fragment", "dfnText": "::nth-fragment()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-nth-fragment" }], "title": "\nFragmented Overflow" }, { "refs": [{ "id": "ref-for-selectordef-nth-fragment\u2460" }], "title": "\nThe ::nth-fragment() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-nth-fragment\u2461" }, { "id": "ref-for-selectordef-nth-fragment\u2462" }, { "id": "ref-for-selectordef-nth-fragment\u2463" }, { "id": "ref-for-selectordef-nth-fragment\u2464" }, { "id": "ref-for-selectordef-nth-fragment\u2465" }, { "id": "ref-for-selectordef-nth-fragment\u2466" }, { "id": "ref-for-selectordef-nth-fragment\u2467" }, { "id": "ref-for-selectordef-nth-fragment\u2468" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u24ea" }], "title": "\nStyling of fragments" }, { "refs": [{ "id": "ref-for-selectordef-nth-fragment\u2460\u2460" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u2461" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u2462" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u2463" }, { "id": "ref-for-selectordef-nth-fragment\u2460\u2464" }], "title": "Styling inside fragments" }], "url": "#selectordef-nth-fragment" },
                "selectordef-scroll-button-scroll-button-direction": { "dfnID": "selectordef-scroll-button-scroll-button-direction", "dfnText": "::scroll-button( <scroll-button-direction> )", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-scroll-button-scroll-button-direction" }], "title": "1. \nIntroduction" }, { "refs": [{ "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2460" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2461" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2462" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2463" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2464" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2465" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2466" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2467" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2468" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2460\u24ea" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2460\u2460" }, { "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2460\u2461" }], "title": "3.2. \nScroll Buttons" }, { "refs": [{ "id": "ref-for-selectordef-scroll-button-scroll-button-direction\u2460\u2462" }], "title": "3.3. \nFocus Navigation Order" }], "url": "#selectordef-scroll-button-scroll-button-direction" },
                "selectordef-scroll-marker": { "dfnID": "selectordef-scroll-marker", "dfnText": "::scroll-marker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-scroll-marker" }], "title": "1. \nIntroduction" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker\u2460" }], "title": "3.1. \nScroll markers" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker\u2461" }], "title": "3.1.1. \nScroll marker grouping" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker\u2462" }, { "id": "ref-for-selectordef-scroll-marker\u2463" }, { "id": "ref-for-selectordef-scroll-marker\u2464" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker\u2465" }], "title": "3.3. \nFocus Navigation Order" }], "url": "#selectordef-scroll-marker" },
                "selectordef-scroll-marker-group": { "dfnID": "selectordef-scroll-marker-group", "dfnText": "::scroll-marker-group", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-scroll-marker-group" }], "title": "3.1.1. \nScroll marker grouping" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker-group\u2460" }, { "id": "ref-for-selectordef-scroll-marker-group\u2461" }], "title": "3.1.2. \nThe scroll-marker-group property" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker-group\u2462" }, { "id": "ref-for-selectordef-scroll-marker-group\u2463" }], "title": "3.1.3. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker-group\u2464" }, { "id": "ref-for-selectordef-scroll-marker-group\u2465" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker-group\u2466" }], "title": "3.2. \nScroll Buttons" }, { "refs": [{ "id": "ref-for-selectordef-scroll-marker-group\u2467" }, { "id": "ref-for-selectordef-scroll-marker-group\u2468" }, { "id": "ref-for-selectordef-scroll-marker-group\u2460\u24ea" }], "title": "3.3. \nFocus Navigation Order" }], "url": "#selectordef-scroll-marker-group" },
                "selectordef-target-current": { "dfnID": "selectordef-target-current", "dfnText": ":target-current", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-selectordef-target-current" }], "title": "1. \nIntroduction" }, { "refs": [{ "id": "ref-for-selectordef-target-current\u2460" }], "title": "3.1.5. \nSelecting The Active Scroll Marker: the :target-current pseudo-class" }], "url": "#selectordef-target-current" },
                "typedef-scroll-button-direction": { "dfnID": "typedef-scroll-button-direction", "dfnText": "<scroll-button-direction>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedef-scroll-button-direction" }, { "id": "ref-for-typedef-scroll-button-direction\u2460" }], "title": "3.2. \nScroll Buttons" }], "url": "#typedef-scroll-button-direction" },
                "valdef-continue-fragments": { "dfnID": "valdef-continue-fragments", "dfnText": "fragments", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-continue-fragments" }, { "id": "ref-for-valdef-continue-fragments\u2460" }, { "id": "ref-for-valdef-continue-fragments\u2461" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-valdef-continue-fragments\u2462" }, { "id": "ref-for-valdef-continue-fragments\u2463" }, { "id": "ref-for-valdef-continue-fragments\u2464" }], "title": "\nFragmented Overflow" }, { "refs": [{ "id": "ref-for-valdef-continue-fragments\u2465" }], "title": "\nStyling of fragments" }], "url": "#valdef-continue-fragments" },
                "valdef-continue-overflow": { "dfnID": "valdef-continue-overflow", "dfnText": "overflow", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-continue-overflow" }, { "id": "ref-for-valdef-continue-overflow\u2460" }], "title": "\nChanneling Overflow: the continue property" }], "url": "#valdef-continue-overflow" },
                "valdef-continue-paginate": { "dfnID": "valdef-continue-paginate", "dfnText": "paginate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-continue-paginate" }, { "id": "ref-for-valdef-continue-paginate\u2460" }], "title": "\nChanneling Overflow: the continue property" }, { "refs": [{ "id": "ref-for-valdef-continue-paginate\u2461" }, { "id": "ref-for-valdef-continue-paginate\u2462" }], "title": "\nPaginated overflow" }], "url": "#valdef-continue-paginate" },
                "valdef-scroll-button-direction-block-end": { "dfnID": "valdef-scroll-button-direction-block-end", "dfnText": "block-end", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-block-end" },
                "valdef-scroll-button-direction-block-start": { "dfnID": "valdef-scroll-button-direction-block-start", "dfnText": "block-start", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-block-start" },
                "valdef-scroll-button-direction-down": { "dfnID": "valdef-scroll-button-direction-down", "dfnText": "down", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-down" },
                "valdef-scroll-button-direction-inline-end": { "dfnID": "valdef-scroll-button-direction-inline-end", "dfnText": "inline-end", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-inline-end" },
                "valdef-scroll-button-direction-inline-start": { "dfnID": "valdef-scroll-button-direction-inline-start", "dfnText": "inline-start", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-inline-start" },
                "valdef-scroll-button-direction-left": { "dfnID": "valdef-scroll-button-direction-left", "dfnText": "left", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-left" },
                "valdef-scroll-button-direction-next": { "dfnID": "valdef-scroll-button-direction-next", "dfnText": "next", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-next" },
                "valdef-scroll-button-direction-prev": { "dfnID": "valdef-scroll-button-direction-prev", "dfnText": "prev", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-scroll-button-direction-prev" }], "title": "3.2. \nScroll Buttons" }], "url": "#valdef-scroll-button-direction-prev" },
                "valdef-scroll-button-direction-right": { "dfnID": "valdef-scroll-button-direction-right", "dfnText": "right", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-right" },
                "valdef-scroll-button-direction-up": { "dfnID": "valdef-scroll-button-direction-up", "dfnText": "up", "external": false, "refSections": [], "url": "#valdef-scroll-button-direction-up" },
                "valdef-scroll-marker-group-after": { "dfnID": "valdef-scroll-marker-group-after", "dfnText": "after", "external": false, "refSections": [], "url": "#valdef-scroll-marker-group-after" },
                "valdef-scroll-marker-group-before": { "dfnID": "valdef-scroll-marker-group-before", "dfnText": "before", "external": false, "refSections": [], "url": "#valdef-scroll-marker-group-before" },
                "valdef-scroll-marker-group-none": { "dfnID": "valdef-scroll-marker-group-none", "dfnText": "none", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-scroll-marker-group-none" }], "title": "3.1.3. The ::scroll-marker-group pseudo-element" }, { "refs": [{ "id": "ref-for-valdef-scroll-marker-group-none\u2460" }], "title": "3.1.4. The ::scroll-marker pseudo-element" }], "url": "#valdef-scroll-marker-group-none" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-link-titles */
        "use strict";
        {
            let linkTitleData = {
                "#typedef-scroll-button-direction": "Expands to: block-end | block-start | down | inline-end | inline-start | left | next | prev | right | up",
            };

            function setTypeTitles() {
                for (let el of document.querySelectorAll("a[href]")) {
                    if (el.href in linkTitleData && !el.hasAttribute("title")) {
                        el.setAttribute("title", linkTitleData[el.href]);
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", setTypeTitles);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#current-scroll-target": { "displayText": "current scroll target", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "current scroll target", "type": "dfn", "url": "#current-scroll-target" },
                "#fragment-box": { "displayText": "fragment box", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "fragment box", "type": "dfn", "url": "#fragment-box" },
                "#propdef-scroll-marker-group": { "displayText": "scroll-marker-group", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scroll-marker-group", "type": "property", "url": "#propdef-scroll-marker-group" },
                "#scroll-marker": { "displayText": "scroll marker", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scroll marker", "type": "dfn", "url": "#scroll-marker" },
                "#scroll-marker-group": { "displayText": "scroll marker group", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scroll marker group", "type": "dfn", "url": "#scroll-marker-group" },
                "#scroll-marker-group-container": { "displayText": "scroll marker group container", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scroll marker group container", "type": "dfn", "url": "#scroll-marker-group-container" },
                "#scroll-target": { "displayText": "scroll target", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "scroll target", "type": "dfn", "url": "#scroll-target" },
                "#selectordef-nth-fragment": { "displayText": "::nth-fragment()", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "::nth-fragment()", "type": "selector", "url": "#selectordef-nth-fragment" },
                "#selectordef-scroll-button-scroll-button-direction": { "displayText": "::scroll-button( <scroll-button-direction> )", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "::scroll-button( <scroll-button-direction> )", "type": "selector", "url": "#selectordef-scroll-button-scroll-button-direction" },
                "#selectordef-scroll-marker": { "displayText": "::scroll-marker", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "::scroll-marker", "type": "selector", "url": "#selectordef-scroll-marker" },
                "#selectordef-scroll-marker-group": { "displayText": "::scroll-marker-group", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "::scroll-marker-group", "type": "selector", "url": "#selectordef-scroll-marker-group" },
                "#selectordef-target-current": { "displayText": ":target-current", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": ":target-current", "type": "selector", "url": "#selectordef-target-current" },
                "#typedef-scroll-button-direction": { "displayText": "<scroll-button-direction>", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "<scroll-button-direction>", "type": "type", "url": "#typedef-scroll-button-direction" },
                "#valdef-continue-fragments": { "displayText": "fragments", "export": true, "for_": ["continue"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "fragments", "type": "value", "url": "#valdef-continue-fragments" },
                "#valdef-continue-overflow": { "displayText": "overflow", "export": true, "for_": ["continue"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "overflow", "type": "value", "url": "#valdef-continue-overflow" },
                "#valdef-continue-paginate": { "displayText": "paginate", "export": true, "for_": ["continue"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "paginate", "type": "value", "url": "#valdef-continue-paginate" },
                "#valdef-scroll-button-direction-prev": { "displayText": "prev", "export": true, "for_": ["::scroll-button()", "<scroll-button-direction>"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "prev", "type": "value", "url": "#valdef-scroll-button-direction-prev" },
                "#valdef-scroll-marker-group-none": { "displayText": "none", "export": true, "for_": ["scroll-marker-group"], "level": "5", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-5", "status": "local", "text": "none", "type": "value", "url": "#valdef-scroll-marker-group-none" },
                "https://dom.spec.whatwg.org/#concept-tree-order": { "displayText": "tree order", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "tree order", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-tree-order" },
                "https://dom.spec.whatwg.org/#element": { "displayText": "Element", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Element", "type": "interface", "url": "https://dom.spec.whatwg.org/#element" },
                "https://drafts.csswg.org/css-pseudo-4/#fully-styleable": { "displayText": "fully styleable pseudo-elements", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-pseudo", "spec": "css-pseudo-4", "status": "current", "text": "fully styleable pseudo-elements", "type": "dfn", "url": "https://drafts.csswg.org/css-pseudo-4/#fully-styleable" },
                "https://drafts.csswg.org/css-scroll-anchoring-1/#anchor-priority-candidates": { "displayText": "anchor priority candidate", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-scroll-anchoring", "spec": "css-scroll-anchoring-1", "status": "current", "text": "anchor priority candidate", "type": "dfn", "url": "https://drafts.csswg.org/css-scroll-anchoring-1/#anchor-priority-candidates" },
                "https://drafts.csswg.org/css2/#propdef-float": { "displayText": "float", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css", "spec": "css22", "status": "current", "text": "float", "type": "property", "url": "https://drafts.csswg.org/css2/#propdef-float" },
                "https://drafts.csswg.org/cssom-view-1/#determine-the-scroll-into-view-position": { "displayText": "determine the scroll-into-view position", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "determine the scroll-into-view position", "type": "dfn", "url": "https://drafts.csswg.org/cssom-view-1/#determine-the-scroll-into-view-position" },
                "https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view": { "displayText": "scroll a target into view", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "scroll a target into view", "type": "dfn", "url": "https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view" },
                "https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document": { "displayText": "indicated part", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "indicated part", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document" },
                "https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element": { "displayText": "button", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "button", "type": "element", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" },
                "https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2": { "displayText": "follow the hyperlink", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "follow the hyperlink", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" },
                "https://www.w3.org/TR/css-break-4/#fragmentation-container": { "displayText": "fragmentation container", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-break", "spec": "css-break-4", "status": "snapshot", "text": "fragmentation container", "type": "dfn", "url": "https://www.w3.org/TR/css-break-4/#fragmentation-container" },
                "https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit": { "displayText": "inherit", "export": true, "for_": ["all"], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "inherit", "type": "value", "url": "https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit" },
                "https://www.w3.org/TR/css-contain-2/#layout-containment": { "displayText": "layout containment", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-contain", "spec": "css-contain-2", "status": "snapshot", "text": "layout containment", "type": "dfn", "url": "https://www.w3.org/TR/css-contain-2/#layout-containment" },
                "https://www.w3.org/TR/css-content-3/#propdef-content": { "displayText": "content", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-content", "spec": "css-content-3", "status": "snapshot", "text": "content", "type": "property", "url": "https://www.w3.org/TR/css-content-3/#propdef-content" },
                "https://www.w3.org/TR/css-content-3/#valdef-content-none": { "displayText": "none", "export": true, "for_": ["content"], "level": "3", "normative": true, "shortname": "css-content", "spec": "css-content-3", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-content-3/#valdef-content-none" },
                "https://www.w3.org/TR/css-display-3/#inner-display-type": { "displayText": "inner display type", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-display", "spec": "css-display-3", "status": "snapshot", "text": "inner display type", "type": "dfn", "url": "https://www.w3.org/TR/css-display-3/#inner-display-type" },
                "https://www.w3.org/TR/css-display-3/#propdef-display": { "displayText": "display", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-display", "spec": "css-display-3", "status": "snapshot", "text": "display", "type": "property", "url": "https://www.w3.org/TR/css-display-3/#propdef-display" },
                "https://www.w3.org/TR/css-multicol-1/#overflow-columns": { "displayText": "overflow columns", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-multicol", "spec": "css-multicol-1", "status": "snapshot", "text": "overflow columns", "type": "dfn", "url": "https://www.w3.org/TR/css-multicol-1/#overflow-columns" },
                "https://www.w3.org/TR/css-overflow-3/#propdef-overflow": { "displayText": "overflow", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-3", "status": "snapshot", "text": "overflow", "type": "property", "url": "https://www.w3.org/TR/css-overflow-3/#propdef-overflow" },
                "https://www.w3.org/TR/css-overflow-3/#scroll-container": { "displayText": "scroll container", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-3", "status": "snapshot", "text": "scroll container", "type": "dfn", "url": "https://www.w3.org/TR/css-overflow-3/#scroll-container" },
                "https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region": { "displayText": "scrollable overflow area", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-3", "status": "snapshot", "text": "scrollable overflow area", "type": "dfn", "url": "https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region" },
                "https://www.w3.org/TR/css-overflow-3/#scrollport": { "displayText": "scrollport", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-3", "status": "snapshot", "text": "scrollport", "type": "dfn", "url": "https://www.w3.org/TR/css-overflow-3/#scrollport" },
                "https://www.w3.org/TR/css-overflow-4/#propdef-continue": { "displayText": "continue", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-4", "status": "snapshot", "text": "continue", "type": "property", "url": "https://www.w3.org/TR/css-overflow-4/#propdef-continue" },
                "https://www.w3.org/TR/css-overflow-4/#propdef-max-lines": { "displayText": "max-lines", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-4", "status": "snapshot", "text": "max-lines", "type": "property", "url": "https://www.w3.org/TR/css-overflow-4/#propdef-max-lines" },
                "https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto": { "displayText": "auto", "export": true, "for_": ["continue"], "level": "4", "normative": true, "shortname": "css-overflow", "spec": "css-overflow-4", "status": "snapshot", "text": "auto", "type": "value", "url": "https://www.w3.org/TR/css-overflow-4/#valdef-continue-auto" },
                "https://www.w3.org/TR/css-position-3/#propdef-position": { "displayText": "position", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-position", "spec": "css-position-3", "status": "snapshot", "text": "position", "type": "property", "url": "https://www.w3.org/TR/css-position-3/#propdef-position" },
                "https://www.w3.org/TR/css-pseudo-4/#selectordef-after": { "displayText": "::after", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-pseudo", "spec": "css-pseudo-4", "status": "snapshot", "text": "::after", "type": "selector", "url": "https://www.w3.org/TR/css-pseudo-4/#selectordef-after" },
                "https://www.w3.org/TR/css-pseudo-4/#selectordef-before": { "displayText": "::before", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-pseudo", "spec": "css-pseudo-4", "status": "snapshot", "text": "::before", "type": "selector", "url": "https://www.w3.org/TR/css-pseudo-4/#selectordef-before" },
                "https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter": { "displayText": "::first-letter", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-pseudo", "spec": "css-pseudo-4", "status": "snapshot", "text": "::first-letter", "type": "selector", "url": "https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter" },
                "https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line": { "displayText": "::first-line", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-pseudo", "spec": "css-pseudo-4", "status": "snapshot", "text": "::first-line", "type": "selector", "url": "https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line" },
                "https://www.w3.org/TR/css-regions-1/#css-region": { "displayText": "CSS Region", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "css-regions", "spec": "css-regions-1", "status": "snapshot", "text": "css region", "type": "dfn", "url": "https://www.w3.org/TR/css-regions-1/#css-region" },
                "https://www.w3.org/TR/css-regions-1/#propdef-region-fragment": { "displayText": "region-fragment", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-regions", "spec": "css-regions-1", "status": "snapshot", "text": "region-fragment", "type": "property", "url": "https://www.w3.org/TR/css-regions-1/#propdef-region-fragment" },
                "https://www.w3.org/TR/css-regions-1/#region-chain": { "displayText": "region chain", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "css-regions", "spec": "css-regions-1", "status": "snapshot", "text": "region chain", "type": "dfn", "url": "https://www.w3.org/TR/css-regions-1/#region-chain" },
                "https://www.w3.org/TR/css-scroll-snap-1/#intended-direction-and-end-position": { "displayText": "intended direction and end position", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-scroll-snap", "spec": "css-scroll-snap-1", "status": "snapshot", "text": "intended direction and end position", "type": "dfn", "url": "https://www.w3.org/TR/css-scroll-snap-1/#intended-direction-and-end-position" },
                "https://www.w3.org/TR/css-sizing-3/#propdef-height": { "displayText": "height", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "height", "type": "property", "url": "https://www.w3.org/TR/css-sizing-3/#propdef-height" },
                "https://www.w3.org/TR/css-ui-4/#propdef-appearance": { "displayText": "appearance", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-ui", "spec": "css-ui-4", "status": "snapshot", "text": "appearance", "type": "property", "url": "https://www.w3.org/TR/css-ui-4/#propdef-appearance" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "displayText": "|", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-writing-modes-4/#block-end": { "displayText": "block-end", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "block-end", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#block-end" },
                "https://www.w3.org/TR/css-writing-modes-4/#block-start": { "displayText": "block-start", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "block-start", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#block-start" },
                "https://www.w3.org/TR/css-writing-modes-4/#flow-relative": { "displayText": "flow-relative", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "flow-relative", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#flow-relative" },
                "https://www.w3.org/TR/css-writing-modes-4/#inline-end": { "displayText": "inline-end", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "inline-end", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-end" },
                "https://www.w3.org/TR/css-writing-modes-4/#inline-start": { "displayText": "inline-start", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "inline-start", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-start" },
                "https://www.w3.org/TR/css-writing-modes-4/#writing-mode": { "displayText": "writing mode", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "writing mode", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#writing-mode" },
                "https://www.w3.org/TR/selectors-4/#disabled-pseudo": { "displayText": ":disabled", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "selectors", "spec": "selectors-4", "status": "snapshot", "text": ":disabled", "type": "selector", "url": "https://www.w3.org/TR/selectors-4/#disabled-pseudo" },
                "https://www.w3.org/TR/selectors-4/#originating-element": { "displayText": "originating element", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "selectors", "spec": "selectors-4", "status": "snapshot", "text": "originating element", "type": "dfn", "url": "https://www.w3.org/TR/selectors-4/#originating-element" },
                "https://www.w3.org/TR/selectors-4/#selector-subject": { "displayText": "subject", "export": true, "for_": ["selector"], "level": "4", "normative": true, "shortname": "selectors", "spec": "selectors-4", "status": "snapshot", "text": "subject", "type": "dfn", "url": "https://www.w3.org/TR/selectors-4/#selector-subject" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const ref = refsData[url];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>