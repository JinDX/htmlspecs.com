<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 字体模块 5 级</title>
    <meta content="WD" name="w3c-status">
    <!-- <meta content="Bikeshed version d5d58a306, updated Fri Jan 26 16:12:28 2024 -0800" name="generator"> -->
    <link href="https://www.w3.org/TR/css-fonts-5/" rel="canonical">
    <!-- <meta content="acdca61d6c12e072b00ffc819a1d3784275e9908" name="revision"> -->
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS 字体模块 第5级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 工作草案</a>，<time class="dt-updated"
                datetime="2024-02-06">2024年2月6日</time></p>
        <details open>
            <summary>关于本文档的更多信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>本版本：
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2024/WD-css-fonts-5-20240206/">https://www.w3.org/TR/2024/WD-css-fonts-5-20240206/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/css-fonts-5/">https://www.w3.org/TR/css-fonts-5/</a>
                    <dt>编辑草稿：
                    <dd><a href="https://drafts.csswg.org/css-fonts-5/">https://drafts.csswg.org/css-fonts-5/</a>
                    <dt>历史版本：
                    <dd><a href="https://www.w3.org/TR/2021/WD-css-fonts-5-20211221/"
                            rel="prev">https://www.w3.org/TR/2021/WD-css-fonts-5-20211221/</a>
                    <dt>历史记录：
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-fonts-5/">https://www.w3.org/standards/history/css-fonts-5/</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-fonts-5">CSSWG 问题库</a>
                    <dd><a href="#issues-index">规范内标注</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="1438"><a class="p-name fn u-url url"
                            href="https://svgees.us/">Chris Lilley</a>（<span class="p-org org">W3C</span>）
                    <dt class="editor">前编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="77180"><a class="p-name fn u-email email"
                            href="mailto:mmaxfield@apple.com">Myles C. Maxfield</a>（<span class="p-org org">前 Apple
                            Inc.</span>）
                    <dt>建议修改此规范：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-fonts-5/Overview.bs">GitHub 编辑页面</a>
                    <dt>Delta 规范：
                    <dd>是
                    <dt>测试套件：
                    <dd class="wpt-overview"><a
                            href="https://wpt.fyi/results/css/css-fonts/">https://wpt.fyi/results/css/css-fonts/</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2024 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本规范定义了对现有 <a href="https://drafts.csswg.org/css-fonts-4/">CSS Fonts 4</a> 规范的修改以及新增特性。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（如 HTML 和 XML）在屏幕、纸张等媒介上渲染方式的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。
                当前 W3C 发布的文档列表及本技术报告的最新修订版，
                可在 <a href="https://www.w3.org/TR/">W3C 技术报告索引 https://www.w3.org/TR/</a> 找到。</em> </p>
        <p> 本文档由<a href="https://www.w3.org/groups/wg/css">CSS 工作组</a>作为<a
                href="https://www.w3.org/2023/Process-20231103/#recs-and-notes"><strong>工作草案</strong></a>（Recommendation
            track）发布。
            作为工作草案的发布，
            并不代表 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。 </p>
        <p> 本文档为草稿，可能随时被更新、替换或废弃。
            除作为正在进行的工作外，不应将本文件作为引用依据。 </p>
        <p>请通过<a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 提交问题</a>（推荐）反馈意见，
            标题中请包含规范代码 “css-fonts”，格式如下：
            “[css-fonts] <i>……评论摘要……</i>”。
            所有问题和评论会被<a href="https://lists.w3.org/Archives/Public/public-css-archive/">归档</a>。
            或者，也可通过（<a href="https://lists.w3.org/Archives/Public/www-style/">归档</a>）公共邮件列表 <a
                href="mailto:www-style@w3.org?Subject=%5Bcss-fonts%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a> 发送反馈。
        </p>
        <p>本文档受 <a href="https://www.w3.org/2023/Process-20231103/" id="w3c_process_revision">2023年11月3日 W3C 流程文件</a>
            管辖。</p>
        <p>本文件由依据 <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C 专利政策</a> 运作的工作组制作。
            W3C 维护着与本组交付物相关的<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">专利披露公开列表</a>；
            该页面还包括有关专利披露的说明。
            任何知晓某项专利且认为该专利包含<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必要声明</a>的人，
            必须根据 <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C 专利政策第6节</a> 披露相关信息。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#introduction"><span class="secno">1</span> <span class="content"> 引言</span></a>
                <ol class="toc">
                    <li><a href="#values"><span class="secno">1.1</span> <span class="content"> 值定义</span></a>
                </ol>
            <li>
                <a href="#basic-font-props"><span class="secno">2</span> <span class="content"> 基本字体属性</span></a>
                <ol class="toc">
                    <li>
                        <a href="#font-family-prop"><span class="secno">2.1</span> <span class="content"> 字体族：<span
                                    class="property">font-family</span> 属性</span></a>
                        <ol class="toc">
                            <li><a href="#generic-font-families"><span class="secno">2.1.1</span> <span class="content">
                                        通用字体族</span></a>
                        </ol>
                    <li><a href="#font-weight-prop"><span class="secno">2.2</span> <span class="content">字体粗细：<span
                                    class="property">font-weight</span> 属性</span></a>
                    <li><a href="#font-style-prop"><span class="secno">2.3</span> <span class="content"> 字体样式：<span
                                    class="property">font-style</span> 属性</span></a>
                    <li><a href="#font-size-adjust-prop"><span class="secno">2.4</span> <span class="content">
                                相对字号：<span class="property">font-size-adjust</span> 属性</span></a>
                </ol>
            <li>
                <a href="#font-resources"><span class="secno">3</span> <span class="content"> 字体资源</span></a>
                <ol class="toc">
                    <li><a href="#font-face-rule"><span class="secno">3.1</span> <span class="content"> <span><span
                                        class="css">@font-face</span></span> 规则</span></a>
                    <li>
                        <a href="#src-desc"><span class="secno">3.2</span> <span class="content">字体引用：<span
                                    class="property">src</span> 描述符</span></a>
                        <ol class="toc">
                            <li><a href="#font-face-src-parsing"><span class="secno">3.2.1</span> <span
                                        class="content">解析 <span class="property">src</span> 描述符</span></a>
                        </ol>
                    <li><a href="#font-size-desc"><span class="secno">3.3</span> <span class="content"> 字体属性描述符：<span
                                    class="property">font-size</span> </span></a>
                    <li><a href="#size-adjust-desc"><span class="secno">3.4</span> <span class="content"> 字形尺寸调整倍数：<span
                                    class="property">size-adjust</span> 描述符</span></a>
                    <li><a href="#font-metrics-override-desc"><span class="secno">3.5</span> <span class="content">
                                行高字体度量覆盖：<span class="property">ascent-override</span>、<span
                                    class="property">descent-override</span> 和 <span
                                    class="property">line-gap-override</span> 描述符</span></a>
                    <li><a href="#font-sup-sub-override-desc"><span class="secno">3.6</span> <span class="content">
                                上标和下标度量覆盖：<span class="property">superscript-position-override</span>、<span
                                    class="property">subscript-position-override</span>、<span
                                    class="property">superscript-size-override</span> 和 <span
                                    class="property">subscript-size-override</span> 描述符</span></a>
                </ol>
            <li>
                <a href="#font-rend-props"><span class="secno">4</span> <span class="content"> 字体特性属性</span></a>
                <ol class="toc">
                    <li><a href="#font-language-override-prop"><span class="secno">4.1</span> <span
                                class="content">字体语言覆写：<span class="property">font-language-override</span>
                                属性</span></a>
                </ol>
            <li><a href="#font-feature-variation-resolution"><span class="secno">5</span> <span class="content">
                        字体特性与变体解析</span></a>
            <li>
                <a href="#font-variation-props"><span class="secno">6</span> <span class="content"> 字体变体属性</span></a>
                <ol class="toc">
                    <li><a href="#font-optical-sizing-def"><span class="secno">6.1</span> <span class="content">
                                光学大小控制：<span class="property">font-optical-sizing</span> 属性</span></a>
                </ol>
            <li><a href="#security"><span class="secno">7</span> <span class="content">安全性考虑</span></a>
            <li><a href="#privacy"><span class="secno">8</span> <span class="content">隐私考虑</span></a>
            <li><a href="#acknowledgments"><span class="secno">9</span> <span class="content">致谢</span></a>
            <li>
                <a href="#changes"><span class="secno">10</span> <span class="content"> 变更记录 </span></a>
                <ol class="toc">
                    <li><a href="#changes-20211221"><span class="secno">10.1</span> <span class="content">自
                                <span>2021年12月21日 WD</span> 以来的变更 </span></a>
                    <li><a href="#changes-20210729"><span class="secno">10.2</span> <span class="content">自
                                <span>2021-07-29 WD</span> 以来的变更</span></a>
                    <li><a href="#changes-20210629"><span class="secno">10.3</span> <span class="content">自
                                <span>2021-06-29 FPWD</span> 以来的变更</span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> 一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> 文档约定</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                一致性类别</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content"> 部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content"> 不稳定与专有特性的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> 非实验性实现</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">外部引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">补充性引用</span></a>
                </ol>
            <li>
                <a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
                <ol class="toc">
                    <li><a href="#font-face-descriptor-table"><span class="secno"></span> <span
                                class="content"><span>@font-face</span> 描述符</span></a>
                </ol>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span
                class="content"> 引言</span><a class="self-link" href="#introduction"></a></h2>
        <p>CSS Fonts Level 4 规范（<a data-link-type="biblio" href="#biblio-css-fonts-4"
                title="CSS Fonts Module Level 4">[CSS-FONTS-4]</a>）描述了 CSS
            提供的用于在文档中选择和使用字体的控制手段，包括对可变字体和彩色字体的支持。此处介绍的内容是对 CSS Fonts Level 4 中定义的属性和规则的补充或修改。</p>
        <p>本规范目前是 CSS Fonts Level 4 规范的增量。不要假设未在此处出现的内容已经被移除。</p>
        <h3 class="heading settled" data-level="1.1" id="values"><span class="secno">1.1. </span><span class="content">
                值定义</span><a class="self-link" href="#values"></a></h3>
        <p>本规范遵循 <a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS 属性定义约定</a>，采用 <a
                data-link-type="biblio" href="#biblio-css2"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>，并使用 <a
                href="https://www.w3.org/TR/css-values-3/#value-defs">值定义语法</a>，参见 <a data-link-type="biblio"
                href="#biblio-css-values-3" title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</a>。本规范未定义的值类型在
            CSS 值与单位 <span title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</span> 中定义。与其他 CSS
            模块结合时，这些值类型的定义可能会扩展。</p>
        <p>除了各自定义中列出的特定属性值外，本规范定义的所有属性也接受<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#css-wide-keywords" id="ref-for-css-wide-keywords">CSS
                通用关键字</a>作为属性值。为提高可读性，未在每处重复列出。</p>
        <h2 class="heading settled" data-level="2" id="basic-font-props"><span class="secno">2. </span><span
                class="content"> 基本字体属性</span><a class="self-link" href="#basic-font-props"></a></h2>
        <div class="issue no-marker" id="issue-d41d8cd9"><a class="self-link" href="#issue-d41d8cd9"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/126"
                style="text-transform:none">w3c/csswg-drafts/126</a><a
                href="https://github.com/w3c/csswg-drafts/issues/126">[css-fonts] 为回退字体指定参数变化</a></div>
        <h3 class="heading settled" data-level="2.1" id="font-family-prop"><span class="secno">2.1. </span><span
                class="content"> 字体族：<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-fonts-4/#propdef-font-family"
                    id="ref-for-propdef-font-family">font-family</a> 属性</span><a class="self-link"
                href="#font-family-prop"></a></h3>
        <h4 class="heading settled" data-level="2.1.1" id="generic-font-families"><span class="secno">2.1.1.
            </span><span class="content"> 通用字体族</span><a class="self-link" href="#generic-font-families"></a></h4>
        <p>除了 CSS Fonts Level 4 中的 <a href="https://www.w3.org/TR/css-fonts-4/#generic-font-families"><cite>CSS Fonts
                    4</cite> § 2.1.3 通用字体族</a>，本规范还定义了以下新的通用字体族。</p>
        <div class="issue no-marker" id="issue-d41d8cd9①"><a class="self-link" href="#issue-d41d8cd9①"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/4910"
                style="text-transform:none">w3c/csswg-drafts/4910</a><a
                href="https://github.com/w3c/csswg-drafts/issues/4910">[meta] [css-fonts] 通用字体族的标准</a></div>
        <dl>
            <dt id="xxx-def"><a class="self-link" href="#xxx-def"></a><dfn class="dfn-paneled css"
                    data-dfn-for="font-family,<generic-family>" data-dfn-type="value" data-export
                    id="valdef-font-family-xxx">xxx</dfn>
            <dd> xxx 通用字体族的占位文本。
        </dl>
        <div class="issue no-marker" id="issue-d41d8cd9②"><a class="self-link" href="#issue-d41d8cd9②"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/4566"
                style="text-transform:none">w3c/csswg-drafts/4566</a><a
                href="https://github.com/w3c/csswg-drafts/issues/4566">[css-fonts] 是否应该为额外通用字体建立注册表？</a></div>
        <h3 class="heading settled" data-level="2.2" id="font-weight-prop"><span class="secno">2.2. </span><span
                class="content">字体粗细：<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-fonts-4/#propdef-font-weight"
                    id="ref-for-propdef-font-weight">font-weight</a> 属性</span><a class="self-link"
                href="#font-weight-prop"></a></h3>
        <div class="issue no-marker" id="issue-d41d8cd9③"><a class="self-link" href="#issue-d41d8cd9③"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/2690"
                style="text-transform:none">w3c/csswg-drafts/2690</a><a
                href="https://github.com/w3c/csswg-drafts/issues/2690">[css-fonts-4] font-weight 百分比用于相对粗细</a></div>
        <h3 class="heading settled" data-level="2.3" id="font-style-prop"><span class="secno">2.3. </span><span
                class="content"> 字体样式：<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-fonts-4/#propdef-font-style"
                    id="ref-for-propdef-font-style">font-style</a> 属性</span><a class="self-link"
                href="#font-style-prop"></a></h3>
        <div class="issue no-marker" id="issue-d41d8cd9④"><a class="self-link" href="#issue-d41d8cd9④"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/4044"
                style="text-transform:none">w3c/csswg-drafts/4044</a><a
                href="https://github.com/w3c/csswg-drafts/issues/4044">[css-fonts] 竖排文本与 font-style 和 font-stretch
                不协调</a></div>
        <h3 class="heading settled" data-level="2.4" id="font-size-adjust-prop"><span class="secno">2.4. </span><span
                class="content"> 相对字号：<a class="property css" data-link-type="property" href="#propdef-font-size-adjust"
                    id="ref-for-propdef-font-size-adjust">font-size-adjust</a>
                属性</span><a class="self-link" href="#font-size-adjust-prop"></a></h3>
        <table class="def propdef" data-link-for-hint="font-size-adjust">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-font-size-adjust">font-size-adjust</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值:</a>
                    <td class="prod">none <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> [ ex-height
                        <span id="ref-for-comb-one①">|</span> cap-height <span id="ref-for-comb-one②">|</span> ch-width
                        <span id="ref-for-comb-one③">|</span> ic-width <span id="ref-for-comb-one④">|</span> ic-height
                        ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt"
                            id="ref-for-mult-opt">?</a> [ from-font <span id="ref-for-comb-one⑤">|</span> <a
                            class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value">&lt;number
                            [0,∞]></a> ]
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值:</a>
                    <td>none
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用对象:</a>
                    <td>所有元素和文本
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">继承性:</a>
                    <td>是
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比:</a>
                    <td>N/A
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值:</a>
                    <td>关键字<a class="css" data-link-type="maybe" href="#valdef-font-size-adjust-none"
                            id="ref-for-valdef-font-size-adjust-none">none</a>，或一对由度量关键字和<a class="production css"
                            data-link-type="type" href="https://www.w3.org/TR/css-values-4/#number-value"
                            id="ref-for-number-value①">&lt;number></a>组成
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序:</a>
                    <td>按语法顺序
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型:</a>
                    <td>若关键字不同则离散，否则按计算值类型
        </table>
        <p>对于任意指定的字体大小，文本的视觉尺寸和实际可读性会因字体设计的不同而变化。例如，对于拉丁或西里尔等双字母表文字，上下字母的相对高度（小写字母和大写字母的比例）是影响可读性的关键因素。在字体回退的情况下，回退字体可能与目标字体家族在关键排版度量上的比例不同，因此看起来大小有差异，且可读性可能下降。
        </p>
        <div class="issue no-marker" id="issue-d41d8cd9⑤"><a class="self-link" href="#issue-d41d8cd9⑤"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/8792"
                style="text-transform:none">w3c/csswg-drafts/8792</a><a
                href="https://github.com/w3c/csswg-drafts/issues/8792">[css-fonts-5] font-size-adjust: ic-height</a>
        </div>
        <p><a class="property css" data-link-type="property" href="#propdef-font-size-adjust"
                id="ref-for-propdef-font-size-adjust①">font-size-adjust</a>
            属性为字体回退时保留文本可读性和视觉尺寸提供了一种方法。它通过调整实际字体大小，使指定的度量在不同字体下保持一致。</p>
        <p>取值意义如下：</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                    id="valdef-font-size-adjust-none">none</dfn>
            <dd> 不对<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                    id="ref-for-propdef-font-size">font-size</a>做特殊调整。
            <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                    id="valdef-font-size-adjust-ex-height--cap-height--ch-width--ic-width--ic-height">ex-height |
                    cap-height | ch-width | ic-width | ic-height</dfn>
            <dd>
                指定用于归一化的字体度量，默认为<a class="css" data-link-type="maybe" href="#valdef-font-size-adjust-ex-height"
                    id="ref-for-valdef-font-size-adjust-ex-height">ex-height</a>：
                <dl>
                    <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                            id="valdef-font-size-adjust-ex-height">ex-height</dfn>
                    <dd> 以 x-高度除以字体大小，归一化字体的<dfn class="dfn-paneled" data-dfn-for="font-size-adjust" data-dfn-type="dfn"
                            data-noexport id="font-size-adjust-aspect-value">纵横比值</dfn>。
                    <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                            id="valdef-font-size-adjust-cap-height">cap-height</dfn>
                    <dd> 以大写字母高度除以字体大小，归一化 cap-height。
                    <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                            id="valdef-font-size-adjust-ch-width">ch-width</dfn>
                    <dd> 以“0”（U+0030）字符的字面宽度除以字体大小，归一化字体的窄字宽。
                    <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                            id="valdef-font-size-adjust-ic-width">ic-width</dfn>
                    <dd> 以“水”（U+6C34）字符的字面宽度除以字体大小，归一化字体的宽字宽。
                    <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                            id="valdef-font-size-adjust-ic-height">ic-height</dfn>
                    <dd> 以“水”（U+6C34）字符的高度除以字体大小，归一化字体的宽字高。
                </dl>
                <div class="issue no-marker" id="issue-c72cd359"><a class="self-link" href="#issue-c72cd359"></a><a
                        class="marker" href="https://github.com/w3c/csswg-drafts/issues/6384"
                        style="text-transform:none">w3c/csswg-drafts/6384</a><a
                        href="https://github.com/w3c/csswg-drafts/issues/6384">[css-fonts-5] font-size-adjust 缺失度量</a>
                </div>
            <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                    id="valdef-font-size-adjust-number-0"><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value②">&lt;number
                        [0,∞]></a></dfn>
            <dd>
                每种字体的<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value"
                    id="ref-for-used-value">实际</a>字号会被归一化，使所选字体度量与<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-cascade-5/#computed-value" id="ref-for-computed-value">计算值</a>
                <a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                    id="ref-for-propdef-font-size①">font-size</a>的该比例一致。
                换句话说，每个字形的实际字号 <var>u</var> 计算如下：
                <pre
                    class="highlight"><var>u</var>  =  <c- p>(</c-> <var>m</var> / <var>m′</var> <c- p>)</c-> <var>s</var></pre>
                <p>其中：</p>
                <pre class="highlight"><var>s</var>  =  计算后的 <c- s>'font-size!!property'</c-> 值
<var>m</var>  =  由 <c- s>'font-size-adjust'</c-> 属性指定的度量
<var>m′</var> =  实际字体中的度量
<var>u</var>  =  使用的调整后字体大小
</pre>
                <p>负值无效。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="font-size-adjust" data-dfn-type="value" data-export
                    id="valdef-font-size-adjust-from-font">from-font</dfn>
            <dd>
                计算为<a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value③">&lt;number></a>
                ，对应于<a data-link-type="dfn" href="https://www.w3.org/TR/css-fonts-4/#first-available-font"
                    id="ref-for-first-available-font">首个可用字体</a>的指定度量。
                <div class="issue no-marker" id="issue-36eece46"><a class="self-link" href="#issue-36eece46"></a><a
                        class="marker" href="https://github.com/w3c/csswg-drafts/issues/6384"
                        style="text-transform:none">w3c/csswg-drafts/6384</a><a
                        href="https://github.com/w3c/csswg-drafts/issues/6384">[css-fonts-5] font-size-adjust 缺失度量</a>
                </div>
        </dl>
        <details class="wpt-tests-block" dir="ltr" lang="en">
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/animations/font-size-adjust-composition.html"
                        title="css/css-fonts/animations/font-size-adjust-composition.html">font-size-adjust-composition.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/animations/font-size-adjust-composition.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/animations/font-size-adjust-composition.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/animations/font-size-adjust-interpolation.html"
                        title="css/css-fonts/animations/font-size-adjust-interpolation.html">font-size-adjust-interpolation.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/animations/font-size-adjust-interpolation.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/animations/font-size-adjust-interpolation.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/font-size-adjust-013.html"
                        title="css/css-fonts/font-size-adjust-013.html">font-size-adjust-013.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-fonts/font-size-adjust-013.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/font-size-adjust-013.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/font-size-adjust-014.html"
                        title="css/css-fonts/font-size-adjust-014.html">font-size-adjust-014.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-fonts/font-size-adjust-014.html"><small>(在线测试)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/font-size-adjust-014.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/font-size-adjust-metrics-override.html"
                        title="css/css-fonts/font-size-adjust-metrics-override.html">font-size-adjust-metrics-override.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/font-size-adjust-metrics-override.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/font-size-adjust-metrics-override.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/font-size-adjust-text-orientation.html"
                        title="css/css-fonts/font-size-adjust-text-orientation.html">font-size-adjust-text-orientation.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/font-size-adjust-text-orientation.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/font-size-adjust-text-orientation.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/font-size-adjust-units-001.html"
                        title="css/css-fonts/font-size-adjust-units-001.html">font-size-adjust-units-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-fonts/font-size-adjust-units-001.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/font-size-adjust-units-001.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/parsing/font-size-adjust-computed.html"
                        title="css/css-fonts/parsing/font-size-adjust-computed.html">font-size-adjust-computed.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/parsing/font-size-adjust-computed.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/parsing/font-size-adjust-computed.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/parsing/font-size-adjust-invalid.html"
                        title="css/css-fonts/parsing/font-size-adjust-invalid.html">font-size-adjust-invalid.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-fonts/parsing/font-size-adjust-invalid.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/parsing/font-size-adjust-invalid.html"><small>(源码)</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/parsing/font-size-adjust-valid.html"
                        title="css/css-fonts/parsing/font-size-adjust-valid.html">font-size-adjust-valid.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-fonts/parsing/font-size-adjust-valid.html"><small>(在线测试)</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/parsing/font-size-adjust-valid.html"><small>(源码)</small></a>
            </ul>
        </details>
        <div class="example" id="example-63234e3a">
            <a class="self-link" href="#example-63234e3a"></a> 下例样式中定义了 Verdana 作为期望字体家族，但如果 Verdana 不可用，则会使用 Futura 或
            Times。某个段落还指定了 font-size-adjust。
            <pre class="highlight">p <c- p>{</c->
  <c- k>font-family</c-><c- p>:</c-> Verdana<c- p>,</c-> Futura<c- p>,</c-> Times<c- p>;</c->
<c- p>}</c->
p.adj <c- p>{</c->
  <c- k>font-size-adjust</c-><c- p>:</c-> <c- m>0.545</c-><c- p>;</c->
<c- p>}</c->

&lt;p>Lorem ipsum dolor sit amet<c- p>,</c-> ...&lt;/p>
&lt;p class=<c- s>"adj"</c->>Lorem ipsum dolor sit amet<c- p>,</c-> ...&lt;/p>
</pre>
            <p>Verdana 的纵横比值为 0.545，意味着小写字母相对较高，因此在小字号下也比较易读。Times 的纵横比值较低，仅为 0.447，因此如果发生回退，除非同时指定
                font-size-adjust，否则在小字号下文本的可读性会低于 Verdana。</p>
            <p class="note" role="note"><span class="marker">注意：</span>对于带变音符号的文本，过大的 x-高度会降低可读性，因为变音符号被压缩。</p>
            <p>下图展示了用这些字体渲染文本的对比，列分别为 Verdana、Futura 和 Times。每行中的单元格使用相同的 font-size，并用红线表示
                x-高度的差别。上半部分每行字体大小一致，下半部分除设置相同 font-size 外还设置了 <a class="property css" data-link-type="property"
                    href="#propdef-font-size-adjust" id="ref-for-propdef-font-size-adjust②">font-size-adjust</a> 为
                0.545，使实际字体大小调整以保持 Verdana 的 x-高度。可见下半部分的小号文本在每行间依然较易辨识。</p>
            <figure>
                <img alt="text with and without &apos;font-size-adjust&apos;" height="667"
                    src="https://www.w3.org/TR/css-fonts-5/images/fontsizeadjust.png" width="544">
                <figcaption>使用与不使用 <a class="property css" data-link-type="property" href="#propdef-font-size-adjust"
                        id="ref-for-propdef-font-size-adjust③">font-size-adjust</a> 的文本对比</figcaption>
            </figure>
        </div>
        <p><a class="property css" data-link-type="property" href="#propdef-font-size-adjust"
                id="ref-for-propdef-font-size-adjust④">font-size-adjust</a> 的取值会影响 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value①">实际</a> <a
                class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                id="ref-for-propdef-font-size②">font-size</a>，但不会影响 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-cascade-5/#computed-value" id="ref-for-computed-value①">计算值</a>。
            因此它会影响基于字体度量的相对单位（如 <code class="highlight">ex</code> 和 <code class="highlight">ch</code>）的大小，但不会影响 <code
                class="highlight">em</code> 单位的大小。由于 <a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css2/#propdef-line-height"
                id="ref-for-propdef-line-height">line-height</a> 的数值基于 <span id="ref-for-computed-value②">计算</span>后的
            <span class="property" id="ref-for-propdef-font-size③">font-size</span>，<span class="property"
                id="ref-for-propdef-font-size-adjust⑤">font-size-adjust</span> 也不会影响 <span
                id="ref-for-used-value②">实际</span> <span class="property"
                id="ref-for-propdef-line-height①">line-height</span>。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>由于 <a class="property css" data-link-type="property"
                href="#propdef-font-size-adjust" id="ref-for-propdef-font-size-adjust⑥">font-size-adjust</a> 不影响 <a
                class="property css" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-line-height"
                id="ref-for-propdef-line-height②">line-height</a>，如果行高设置得太紧，可能导致文本行重叠。例如，当用低<a data-link-type="dfn"
                href="#font-size-adjust-aspect-value" id="ref-for-font-size-adjust-aspect-value">纵横比值</a>的回退字体归一化为高<span
                id="ref-for-font-size-adjust-aspect-value①">纵横比值</span>时，字母的上升部和下降部很可能超出行框，若设置 <span class="css"
                id="ref-for-propdef-line-height③">line-height: 1</span>。</p>
        <p><a class="property css" data-link-type="property" href="#propdef-font-size-adjust"
                id="ref-for-propdef-font-size-adjust⑦">font-size-adjust</a> 的调整应用于所选的任何字体，但通常会基于 <a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-fonts-4/#propdef-font-family"
                id="ref-for-propdef-font-family①">font-family</a> 列表中第一个（最期望）字体的相关度量值。如果指定准确，则调整公式中的 <code
                class="highlight"><c- p>(</c-><var>m</var>/<var>m′</var><c- p>)</c-></code> 项对第一个字体为 <code
                class="highlight"><c- m>1</c-></code>，此字体不做调整，其余字体会调整到一致。如果指定不准确，在不支持 <span class="property"
                id="ref-for-propdef-font-size-adjust⑧">font-size-adjust</span> 的旧用户代理下，使用第一个字体渲染的文本将表现不同。</p>
        <div class="example" id="example-771aee48">
            <a class="self-link" href="#example-771aee48"></a> 作者可以通过对比内容相同、<a class="property css"
                data-link-type="property" href="#propdef-font-size-adjust"
                id="ref-for-propdef-font-size-adjust⑨">font-size-adjust</a> 不同的 span，计算某字体的<a data-link-type="dfn"
                href="#font-size-adjust-aspect-value" id="ref-for-font-size-adjust-aspect-value②">纵横比值</a>。如果字体大小一致，则当
            <span class="property" id="ref-for-propdef-font-size-adjust①⓪">font-size-adjust</span> 值准确时，两个 span 会对齐。
            <p>使用带边框的两个 span 测量字体的 <a data-link-type="dfn" href="#font-size-adjust-aspect-value"
                    id="ref-for-font-size-adjust-aspect-value③">纵横比值</a>。<a class="property css"
                    data-link-type="property" href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                    id="ref-for-propdef-font-size④">font-size</a> 相同，但 <a class="property css" data-link-type="property"
                    href="#propdef-font-size-adjust" id="ref-for-propdef-font-size-adjust①①">font-size-adjust</a> 只设在右侧
                span。可从 0.5 开始调整纵横比值，直到两个字母的边框完全对齐。</p>
            <pre class="highlight">p <c- p>{</c->
  <c- k>font-family</c-><c- p>:</c-> Futura<c- p>;</c->
  <c- k>font-size</c-><c- p>:</c-> <c- m>500</c-><c- k>px</c-><c- p>;</c->
<c- p>}</c->

span <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> solid <c- m>1</c-><c- k>px</c-> red<c- p>;</c->
<c- p>}</c->

.adjust <c- p>{</c->
  <c- k>font-size-adjust</c-><c- p>:</c-> <c- m>0.5</c-><c- p>;</c->
<c- p>}</c->

&lt;p>&lt;span>b&lt;/span>&lt;span class=<c- s>"adjust"</c->>b&lt;/span>&lt;/p>
</pre>
            <figure>
                <img alt="Futura with an aspect value of 0.5" height="306"
                    src="https://www.w3.org/TR/css-fonts-5/images/beforefontsizeadjust.png" width="281">
                <figcaption>Futura 字体，纵横比值为 0.5</figcaption>
            </figure>
            <p>右边的盒子比左边略大，说明该字体的纵横比值小于 0.5。调整该值直到两个盒子对齐。</p>
        </div>
        <p class="note" role="note"><span class="marker">注意：</span>如果指定的度量在 <a class="css" data-link-type="maybe"
                href="#at-font-face-rule" id="ref-for-at-font-face-rule">@font-face</a> 中被覆盖（如通过 <a class="property css"
                data-link-type="property">size-adjust</a>），则计算 <a class="property css" data-link-type="property"
                href="#propdef-font-size-adjust" id="ref-for-propdef-font-size-adjust①②">font-size-adjust</a>
            时将使用覆盖后的度量。因此，<span class="property" id="ref-for-propdef-font-size-adjust①③">font-size-adjust</span> 与 <span
                class="property">size-adjust</span> 同时使用时，<span class="property">size-adjust</span> 表现为无效。
        </p>
        <h2 class="heading settled" data-level="3" id="font-resources"><span class="secno">3. </span><span
                class="content">字体资源</span><a class="self-link" href="#font-resources"></a></h2>
        <h3 class="heading settled" data-level="3.1" id="font-face-rule"><span class="secno">3.1. </span><span
                class="content"><dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export
                    id="at-font-face-rule"><a class="css" data-link-type="maybe" href="#at-font-face-rule"
                        id="ref-for-at-font-face-rule①">@font-face</a></dfn> 规则</span><a class="self-link"
                href="#font-face-rule"></a></h3>
        <p class="note" role="note"><span class="marker">注：</span>描述符是按字体而不是按元素应用的。
            单个元素内可以使用多种字体，
            例如用于未被<a data-link-type="dfn" href="https://www.w3.org/TR/css-fonts-4/#first-available-font"
                id="ref-for-first-available-font①">首个可用字体</a>支持的字符。</p>
        <h3 class="heading settled" data-level="3.2" id="src-desc"><span class="secno">3.2. </span><span
                class="content">字体引用：<a class="property css" data-link-type="property">src</a> 描述符</span><a
                class="self-link" href="#src-desc"></a></h3>
        <h4 class="heading settled" data-level="3.2.1" id="font-face-src-parsing"><span class="secno">3.2.1.
            </span><span class="content">解析 <a class="property css" data-link-type="descriptor"
                    href="https://www.w3.org/TR/css-fonts-4/#descdef-font-face-src"
                    id="ref-for-descdef-font-face-src">src</a> 描述符</span><a class="self-link"
                href="#font-face-src-parsing"></a></h4>
        <p><a class="property css" data-link-type="descriptor"
                href="https://www.w3.org/TR/css-fonts-4/#descdef-font-face-src"
                id="ref-for-descdef-font-face-src①">src</a> 描述符的值必须按照 <a
                href="https://www.w3.org/TR/css-syntax-3/#parse-comma-separated-list-of-component-values"><cite>CSS
                    语法 3</cite> § 5.3.11 解析逗号分隔的组件值列表</a>来解析。
            然后每个组件值根据如下语法进行解析：</p>
        <pre
            class="highlight"><a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#url-value" id="ref-for-url-value">&lt;url></a> <c- p>[</c-> <c- nf>format</c-><c- p>(</c-><a class="production" data-link-type="type" href="#font-format-values" id="ref-for-font-format-values">&lt;font-format></a><c- p>)]</c->? <c- p>[</c-> <c- nf>tech</c-><c- p>(</c-> <a class="production" data-link-type="type" href="#font-tech-values" id="ref-for-font-tech-values">&lt;font-tech></a>#<c- p>)]</c->? | <c- nf>local</c-><c- p>(</c-><a class="production" data-link-type="type" href="https://www.w3.org/TR/css-fonts-4/#family-name-value" id="ref-for-family-name-value">&lt;family-name></a><c- p>)</c-></pre>
        <pre
            class="prod highlight"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="font-format-values">&lt;font-format></dfn>= <c- p>[</c-><a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#string-value" id="ref-for-string-value">&lt;string></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> collection <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> embedded-opentype <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> opentype
 <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> svg <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a> truetype <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> woff <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> woff2 <c- p>]</c-></pre>
        <pre
            class="prod highlight"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="font-tech-values">&lt;font-tech></dfn>= <c- p>[</c-><a class="production" data-link-type="type" href="#font-features-tech-values" id="ref-for-font-features-tech-values">&lt;font-features-tech></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a> <a class="production" data-link-type="type" href="#color-font-tech-values" id="ref-for-color-font-tech-values">&lt;color-font-tech></a>
  <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> variations <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> palettes <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a> 
    incremental-patch <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a> incremental-range <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a> incremental-auto <c- p>]</c-></pre>
        <pre
            class="prod highlight"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="font-features-tech-values">&lt;font-features-tech></dfn>= <c- p>[</c->features-opentype <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑨">|</a> features-aat <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⓪">|</a> features-graphite<c- p>]</c-></pre>
        <pre
            class="prod highlight"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="color-font-tech-values">&lt;color-font-tech></dfn>= <c- p>[</c->color-COLRv0 <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②①">|</a> color-COLRv1 <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②②">|</a> color-SVG <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②③">|</a> color-sbix <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②④">|</a> color-CBDT <c- p>]</c-></pre>
        <p>如果某个组件值被正确解析，
            且是支持的<a href="https://www.w3.org/TR/css-fonts-4/#font-format-definitions"><cite>CSS Fonts
                    4</cite> § 11.2 字体格式</a>或<a
                href="https://www.w3.org/TR/css-fonts-4/#font-tech-definitions"><cite>CSS Fonts 4</cite> § 11.1
                字体技术</a>，
            则将其加入支持的来源列表。
            如果解析组件值时出现解析错误
            或其 format 或 tech 不被支持，
            则不要将其加入支持的来源列表。</p>
        <p>如果在此过程结束时没有支持的条目，
            则<a class="property css" data-link-type="descriptor"
                href="https://www.w3.org/TR/css-fonts-4/#descdef-font-face-src"
                id="ref-for-descdef-font-face-src②">src</a> 描述符的值为解析错误。</p>
        <p>这些解析规则允许在用户代理不支持某个字体技术或字体格式时实现字体的平滑降级。</p>
        <div class="example" id="ex-incremental">
            <a class="self-link" href="#ex-incremental"></a> 例如，
            当不支持增量传输时，
            提供了 woff2 压缩版本的字体，
            以获得最佳性能。
            然后，
            对于使用<a href="https://w3c.github.io/IFT/Overview.html#range-request-incxfer">range-request 方法</a>的增量传输，
            提供原始未压缩的 OpenType 字体，
            以便客户端
            可以执行字节范围请求。
            <pre class="highlight"><c- n>@font-face</c-> <c- p>{</c->
  <c- k>font-family</c-><c- p>:</c-> <c- s>"MyIncrementallyLoadedWebFont"</c-><c- p>;</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>"FallbackURLForBrowsersWhichDontSupportIncrementalLoading.woff2"</c-><c- p>)</c-> <c- nf>format</c-><c- p>(</c-><c- s>"woff2"</c-><c- p>);</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>"MyIncrementallyLoadedWebFont.otf"</c-><c- p>)</c-> <c- nf>format</c-><c- p>(</c->opentype<c- p>)</c->  <c- nf>tech</c-><c- p>(</c->incremental-range<c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="3.3" id="font-size-desc"><span class="secno">3.3. </span><span
                class="content">字体属性描述符：<a class="property css" data-link-type="descriptor"
                    href="#descdef-font-face-font-size" id="ref-for-descdef-font-face-font-size">font-size</a> </span><a
                class="self-link" href="#font-size-desc"></a></h3>
        <div class="issue no-marker" id="issue-d41d8cd9⑥"><a class="self-link" href="#issue-d41d8cd9⑥"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/806"
                style="text-transform:none">w3c/csswg-drafts/806</a><a
                href="https://github.com/w3c/csswg-drafts/issues/806">[css-fonts-5] 为 @font-face 添加允许范围（用于光学尺寸调整）的
                font-size 描述符</a></div>
        <div class="issue no-marker" id="issue-d41d8cd9⑦"><a class="self-link" href="#issue-d41d8cd9⑦"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/731"
                style="text-transform:none">w3c/csswg-drafts/731</a><a
                href="https://github.com/w3c/csswg-drafts/issues/731">[css-fonts] ex 单位的 font-size 描述符</a>
        </div>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-font-size">font-size</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule②">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod">auto <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑤">|</a> [<a
                            class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#number-value"
                            id="ref-for-number-value④">&lt;number></a>]<a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-num-range"
                            id="ref-for-mult-num-range">{1,2}</a>
                <tr>
                    <th>初始值:
                    <td>auto
        </table>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="@font-face/font-size" data-dfn-type="value" data-export
                    id="valdef-font-face-font-size-auto">auto</dfn>
            <dd>该字体匹配任意字体大小
            <dt><dfn class="dfn-paneled css" data-dfn-for="@font-face/font-size" data-dfn-type="value" data-export
                    id="valdef-font-face-font-size-number"><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#number-value"
                        id="ref-for-number-value⑤">&lt;number></a></dfn>
            <dd>如果只给定一个<a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#number-value" id="ref-for-number-value⑥">&lt;number></a>，
                该字体只匹配该特定字号。
                如果给定两个<span class="production" id="ref-for-number-value⑦">&lt;number></span>，
                它们指定一个将被匹配的字号范围。
        </dl>
        <h3 class="heading settled" data-level="3.4" id="size-adjust-desc"><span class="secno">3.4. </span><span
                class="content">字形尺寸调整倍数：
                <a class="property css" data-link-type="property">size-adjust</a> 描述符</span><a class="self-link"
                href="#size-adjust-desc"></a></h3>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-size-adjust">size-adjust</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule③">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod"><a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#percentage-value"
                            id="ref-for-percentage-value">&lt;percentage [0,∞]></a>
                <tr>
                    <th>初始值:
                    <td>100%
        </table>
        <p><a class="property css" data-link-type="property">size-adjust</a> 描述符定义了此字体的字形轮廓和度量的乘数，
            允许作者在相同 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                id="ref-for-propdef-font-size⑤">font-size</a> 渲染下协调不同字体的设计。</p>
        <p>与该字体相关的所有度量（包括字形进位、基线表和 <a class="css" data-link-type="maybe" href="#at-font-face-rule"
                id="ref-for-at-font-face-rule④">@font-face</a> 描述符提供的覆盖）
            以及渲染的字形图像都会按给定百分比缩放。
            因此，
            任何基于字体度量派生的值
            （如 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#ex"
                id="ref-for-ex">ex</a> 和 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-values-4/#ch" id="ref-for-ch">ch</a> 单位，
            或 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-text-decor-4/#valdef-text-decoration-thickness-from-font"
                id="ref-for-valdef-text-decoration-thickness-from-font">from-font</a> 值的 <a class="property css"
                data-link-type="property"
                href="https://www.w3.org/TR/css-text-decor-4/#propdef-text-decoration-thickness"
                id="ref-for-propdef-text-decoration-thickness">text-decoration-thickness</a>）
            也会受到影响（如果来源于该字体）。
            但 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                id="ref-for-computed-value③">计算后的</a> <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                id="ref-for-propdef-font-size⑥">font-size</a> （以及基于其的值，
            如 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#em" id="ref-for-em">em</a>
            单位、<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-text-decor-4/#propdef-text-underline-offset"
                id="ref-for-propdef-text-underline-offset">text-underline-offset</a> 百分比等）
            不受影响。
        </p>
        <div class="issue no-marker" id="issue-d41d8cd9⑧"><a class="self-link" href="#issue-d41d8cd9⑧"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/8967"
                style="text-transform:none">w3c/csswg-drafts/8967</a><a
                href="https://github.com/w3c/csswg-drafts/issues/8967">[css-fonts-5] font-size-adjust 与字体度量覆盖</a></div>
        <p class="note" role="note"><span class="marker">注：</span><a class="property css"
                data-link-type="property">size-adjust</a> 描述符的作用类似于
            <a class="property css" data-link-type="property" href="#propdef-font-size-adjust"
                id="ref-for-propdef-font-size-adjust①④">font-size-adjust</a> 属性，
            本质上通过匹配 ex 高度按字体进行调整，
            但同样不会影响 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                id="ref-for-computed-value④">计算后的</a> <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                id="ref-for-propdef-font-size⑦">font-size</a>。
        </p>
        <details class="wpt-tests-block" dir="ltr" lang="en">
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/font-size-adjust-metrics-override.html"
                        title="css/css-fonts/font-size-adjust-metrics-override.html">font-size-adjust-metrics-override.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/font-size-adjust-metrics-override.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/font-size-adjust-metrics-override.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/size-adjust-01.html"
                        title="css/css-fonts/size-adjust-01.html">size-adjust-01.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/size-adjust-01.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/size-adjust-01.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/size-adjust-02.html"
                        title="css/css-fonts/size-adjust-02.html">size-adjust-02.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/size-adjust-02.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/size-adjust-02.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/size-adjust-03.html"
                        title="css/css-fonts/size-adjust-03.html">size-adjust-03.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/size-adjust-03.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/size-adjust-03.html"><small>（源码）</small></a>
            </ul>
        </details>
        <h3 class="heading settled" data-level="3.5" id="font-metrics-override-desc"><span class="secno">3.5.
            </span><span class="content">行高字体度量覆盖：
                <a class="property css" data-link-type="property">ascent-override</a>、<span
                    class="property">descent-override</span> 和 <span class="property">line-gap-override</span>
                描述符</span><a class="self-link" href="#font-metrics-override-desc"></a></h3>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-ascent-override">ascent-override</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule⑤">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod">[ normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑥">|</a> <a
                            class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#percentage-value"
                            id="ref-for-percentage-value①">&lt;percentage [0,∞]></a> ]<a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-num-range"
                            id="ref-for-mult-num-range①">{1,2}</a>
                <tr>
                    <th>初始值:
                    <td>normal
        </table>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-descent-override">descent-override</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule⑥">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod">[ normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑦">|</a> <a
                            class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#percentage-value"
                            id="ref-for-percentage-value②">&lt;percentage [0,∞]></a> ]<a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-num-range"
                            id="ref-for-mult-num-range②">{1,2}</a>
                <tr>
                    <th>初始值:
                    <td>normal
        </table>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-line-gap-override">line-gap-override</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule⑦">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod">[ normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑧">|</a> <a
                            class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#percentage-value"
                            id="ref-for-percentage-value③">&lt;percentage [0,∞]></a> ]<a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-num-range"
                            id="ref-for-mult-num-range③">{1,2}</a>
                <tr>
                    <th>初始值:
                    <td>normal
        </table>
        <p><a class="property css" data-link-type="property">ascent-override</a>、<span
                class="property">descent-override</span> 和 <span class="property">line-gap-override</span>
            描述符分别指定字体的<a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#ascent-metric"
                id="ref-for-ascent-metric">上升线度量</a>、<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-inline-3/#descent-metric" id="ref-for-descent-metric">下降线度量</a>和<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#line-gap-metric"
                id="ref-for-line-gap-metric">行间距度量</a>。
            第一个值为 x 轴的取值，
            第二个值为 y 轴的取值
            （如省略则默认为 <span class="css">normal</span>）。</p>
        <dl>
            <dt><dfn class="dfn-paneled css"
                    data-dfn-for="ascent-override!!descriptor,descent-override!!descriptor,line-gap-override!!descriptor"
                    data-dfn-type="value" data-export id="valdef-ascent-overridedescriptor-normal">normal</dfn>
            <dd>
                对应的度量值如同该描述符不存在于<code class="highlight"><c- n>@font-face</c-></code> 块中一样，
                从字体中正常获取。
                <p class="note" role="note"><span class="marker">注：</span>由于某些字体格式中存在多个该类度量的来源，
                    这可能导致文本排版在不同 UA/平台上有所差异。</p>
            <dt><dfn class="dfn-paneled css"
                    data-dfn-for="ascent-override!!descriptor,descent-override!!descriptor,line-gap-override!!descriptor"
                    data-dfn-type="value" data-export id="valdef-ascent-overridedescriptor-percentage"><a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value④">&lt;percentage></a></dfn>
            <dd> 对应的度量值被替换为给定百分比与使用的字体大小相乘的值。
        </dl>
        <details class="wpt-tests-block" dir="ltr" lang="en">
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/ascent-descent-override.html"
                        title="css/css-fonts/ascent-descent-override.html">ascent-descent-override.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/css/css-fonts/ascent-descent-override.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/ascent-descent-override.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/line-gap-override.html"
                        title="css/css-fonts/line-gap-override.html">line-gap-override.html</a> <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/line-gap-override.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/line-gap-override.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/css/css-fonts/metrics-override-normal-keyword.html"
                        title="css/css-fonts/metrics-override-normal-keyword.html">metrics-override-normal-keyword.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/css/css-fonts/metrics-override-normal-keyword.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/css/css-fonts/metrics-override-normal-keyword.html"><small>（源码）</small></a>
            </ul>
        </details>
        <p><a class="property css" data-link-type="property" href="#propdef-font-size-adjust"
                id="ref-for-propdef-font-size-adjust①⑤">font-size-adjust</a> 属性在 <a class="property css"
                data-link-type="property">size-adjust</a> 描述符之后应用。</p>
        <p class="note" role="note"><span class="marker">注：</span>先应用 <a class="property css" data-link-type="property"
                href="#propdef-font-size-adjust" id="ref-for-propdef-font-size-adjust①⑥">font-size-adjust</a> 再应用 <a
                class="property css" data-link-type="property">size-adjust</a> 的结果是 <span
                class="property">size-adjust</span> 看起来没有效果。</p>
        <p class="note" role="note"><span class="marker">注：</span>这些描述符均不会影响 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-cascade-5/#computed-value" id="ref-for-computed-value⑤">计算</a> <a
                class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-fonts-4/#propdef-font-size"
                id="ref-for-propdef-font-size⑧">font-size</a>、<a class="property css" data-link-type="property"
                href="https://drafts.csswg.org/css2/#propdef-line-height"
                id="ref-for-propdef-line-height④">line-height</a> 或 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-values-4/#font-relative-length"
                id="ref-for-font-relative-length">字体相关长度</a>的计算。
            但它们可以影响 <span class="css" id="ref-for-propdef-line-height⑤">line-height: normal</span> 以及更一般的 <a
                data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level"
                id="ref-for-inline-level">行内级</a>内容的基线对齐行为。</p>
        <p class="note" role="note"><span class="marker">注：</span>由于这些度量只适用于<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis">块轴</a>，
            y 轴的取值仅在<a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#typeset-upright"
                id="ref-for-typeset-upright">直排排版</a>的垂直<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#typographic-mode"
                id="ref-for-typographic-mode">排版模式</a>下使用。</p>
        <div class="example" id="example-7315a3e2">
            <a class="self-link" href="#example-7315a3e2"></a> 百分比会针对不同元素的不同字体大小进行计算。
            <pre class="highlight"><c- n>@font-face</c-> <c- p>{</c->
  <c- k>font-family</c-><c- p>:</c-> overridden-font<c- p>;</c->
  <c- k>ascent-override</c-><c- p>:</c-> <c- m>50</c-><c- k>%</c-><c- p>;</c->
  ...
<c- p>}</c->

&lt;span style=<c- s>"font-family: overridden-font; font-size: 20px;"</c->>
  Outer span content
  &lt;span style=<c- s>"font-size: 150%;"</c->>Inner span content&lt;/span>
&lt;/span>
</pre>
            <p>外层 span 使用 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#ascent-metric"
                    id="ref-for-ascent-metric①">ascent</a> 值为 10px，而内层 span 使用 15px。</p>
        </div>
        <div class="example" id="example-1e35741d">
            <a class="self-link" href="#example-1e35741d"></a> 我们可以覆盖本地回退字体的度量以匹配主字体（web 字体），
            这样在从回退字体切换到主字体时可以减少布局跳动。
            <pre class="highlight"><c- n>@font-face</c-> <c- p>{</c->
  <c- k>font-family</c-><c- p>:</c-> cool-web-font<c- p>;</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>"https://example.com/font.woff"</c-><c- p>);</c->
<c- p>}</c->

<c- n>@font-face</c-> <c- p>{</c->
  <c- k>font-family</c-><c- p>:</c-> fallback-to-local<c- p>;</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>local</c-><c- p>(</c->Some Local Font<c- p>);</c->
  <c- c>/* 覆盖度量值以匹配 cool-web-font */</c->
  ascent-override: <c- m>125</c-><c- k>%</c-><c- p>;</c->
  <c- k>descent-override</c-><c- p>:</c-> <c- m>25</c-><c- k>%</c-><c- p>;</c->
  <c- k>line-gap-override</c-><c- p>:</c-> <c- m>0</c-><c- k>%</c-><c- p>;</c->
  <c- k>size-adjust</c-><c- p>:</c-> <c- m>96</c-><c- k>%</c-><c- p>;</c->
<c- p>}</c->

&lt;div style=<c- s>"font-family: cool-web-font, fallback-to-local"</c->>Title goes here&lt;/div>
&lt;img src=<c- s>"https://example.com/largeimage"</c-> alt=<c- s>"A large image that you don’t want to shift"</c->
</pre>
            <p>当用户代理加载完成并切换到 web 字体时（假设覆盖值与 web 字体的自然度量相近），图片不会有明显的位移。</p>
        </div>
        <h3 class="heading settled" data-level="3.6" id="font-sup-sub-override-desc"><span class="secno">3.6.
            </span><span class="content">上标与下标度量覆盖：
                <a class="property css" data-link-type="property">superscript-position-override</a>、<span
                    class="property">subscript-position-override</span>、<span
                    class="property">superscript-size-override</span> 和 <span
                    class="property">subscript-size-override</span> 描述符</span><a class="self-link"
                href="#font-sup-sub-override-desc"></a></h3>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-superscript-position-override">superscript-position-override</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule⑧">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod">[ normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑨">|</a> from-font
                        <span id="ref-for-comb-one③⓪">|</span> <a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#percentage-value"
                            id="ref-for-percentage-value⑤">&lt;percentage></a> ]<a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-num-range"
                            id="ref-for-mult-num-range④">{1,2}</a>
                <tr>
                    <th>初始值:
                    <td>normal
        </table>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-subscript-position-override">subscript-position-override</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule⑨">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod">[ normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③①">|</a> from-font
                        <span id="ref-for-comb-one③②">|</span> <a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#percentage-value"
                            id="ref-for-percentage-value⑥">&lt;percentage></a> ]<a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-num-range"
                            id="ref-for-mult-num-range⑤">{1,2}</a>
                <tr>
                    <th>初始值:
                    <td>normal
        </table>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-superscript-size-override">superscript-size-override</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule①⓪">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod">[ normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③③">|</a> from-font
                        <span id="ref-for-comb-one③④">|</span> <a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#percentage-value"
                            id="ref-for-percentage-value⑦">&lt;percentage [0,∞]></a> ]<a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-num-range"
                            id="ref-for-mult-num-range⑥">{1,2}</a>
                <tr>
                    <th>初始值:
                    <td>normal
        </table>
        <table class="def descdef">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-for="@font-face" data-dfn-type="descriptor" data-export
                            id="descdef-font-face-subscript-size-override">subscript-size-override</dfn>
                <tr>
                    <th>适用对象:
                    <td><a class="css" data-link-type="at-rule" href="#at-font-face-rule"
                            id="ref-for-at-font-face-rule①①">@font-face</a>
                <tr>
                    <th>取值:
                    <td class="prod">[ normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑤">|</a> from-font
                        <span id="ref-for-comb-one③⑥">|</span> <a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#percentage-value"
                            id="ref-for-percentage-value⑧">&lt;percentage [0,∞]></a> ]<a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#mult-num-range"
                            id="ref-for-mult-num-range⑦">{1,2}</a>
                <tr>
                    <th>初始值:
                    <td>normal
        </table>
        <p><a class="property css" data-link-type="property">superscript-position-override</a>、<span
                class="property">subscript-position-override</span>、<span
                class="property">superscript-size-override</span> 和 <span
                class="property">subscript-size-override</span> 描述符
            分别指定字体的上标偏移、下标偏移、上标尺寸和下标尺寸度量，
            用于 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-fonts-4/#propdef-font-variant-position"
                id="ref-for-propdef-font-variant-position">font-variant-position</a> 需要时合成字形。
            第一个值为 x 轴的取值，
            第二个值为 y 轴的取值
            （如省略则默认为第一个值）。</p>
        <dl>
            <dt><dfn class="dfn-paneled css"
                    data-dfn-for="superscript-position-override!!descriptor,subscript-position-override!!descriptor,superscript-size-override!!descriptor,subscript-size-override!!descriptor"
                    data-dfn-type="value" data-export
                    id="valdef-superscript-position-overridedescriptor-normal">normal</dfn>
            <dd> UA 决定使用什么度量值，
                可以来源于字体，也可以来源于某种启发式算法。
            <dt><dfn class="dfn-paneled css"
                    data-dfn-for="superscript-position-override!!descriptor,subscript-position-override!!descriptor,superscript-size-override!!descriptor,subscript-size-override!!descriptor"
                    data-dfn-type="value" data-export
                    id="valdef-superscript-position-overridedescriptor-from-font">from-font</dfn>
            <dd> 使用字体数据中的对应度量（如有）。
                （如果度量缺失，则等同于 <span class="css">normal</span>。）
            <dt><dfn class="dfn-paneled css"
                    data-dfn-for="superscript-position-override!!descriptor,subscript-position-override!!descriptor,superscript-size-override!!descriptor,subscript-size-override!!descriptor"
                    data-dfn-type="value" data-export id="valdef-superscript-position-overridedescriptor-percentage"><a
                        class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#percentage-value"
                        id="ref-for-percentage-value⑨">&lt;percentage></a></dfn>
            <dd> 对应的度量将被替换为给定百分比与使用的字体大小相乘的值。
        </dl>
        <p class="note" role="note"><span class="marker">注：</span>由于这些度量仅适用于<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis①">块轴</a>，
            y 轴的取值仅在<a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#typeset-upright"
                id="ref-for-typeset-upright①">直排排版</a>的<a data-link-type="dfn"
                href="https://drafts.csswg.org/css-writing-modes-4/#vertical-typographic-mode"
                id="ref-for-vertical-typographic-mode">垂直排版模式</a>下使用。</p>
        <h2 class="heading settled" data-level="4" id="font-rend-props"><span class="secno">4. </span><span
                class="content">字体特性属性</span><a class="self-link" href="#font-rend-props"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="font-language-override-prop"><span class="secno">4.1.
            </span><span class="content">字体语言覆写：<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-fonts-4/#propdef-font-language-override"
                    id="ref-for-propdef-font-language-override">font-language-override</a> 属性</span><a class="self-link"
                href="#font-language-override-prop"></a></h3>
        <div class="issue no-marker" id="issue-d41d8cd9⑨"><a class="self-link" href="#issue-d41d8cd9⑨"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/5484"
                style="text-transform:none">w3c/csswg-drafts/5484</a><a
                href="https://github.com/w3c/csswg-drafts/issues/5484">[css-fonts-5] 移除 font-language-override</a>
        </div>
        <h2 class="heading settled" data-level="5" id="font-feature-variation-resolution"><span class="secno">5.
            </span><span class="content">字体特性与变体解析</span><a class="self-link"
                href="#font-feature-variation-resolution"></a></h2>
        <div class="issue no-marker" id="issue-d41d8cd9①⓪"><a class="self-link" href="#issue-d41d8cd9①⓪"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/5635"
                style="text-transform:none">w3c/csswg-drafts/5635</a><a
                href="https://github.com/w3c/csswg-drafts/issues/5635">[CSS-Fonts] 需要插值可变字体设置的方法</a></div>
        <h2 class="heading settled" data-level="6" id="font-variation-props"><span class="secno">6. </span><span
                class="content">字体变体属性</span><a class="self-link" href="#font-variation-props"></a>
        </h2>
        <h3 class="heading settled" data-level="6.1" id="font-optical-sizing-def"><span class="secno">6.1. </span><span
                class="content">光学大小控制：<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-fonts-4/#propdef-font-optical-sizing"
                    id="ref-for-propdef-font-optical-sizing">font-optical-sizing</a> 属性</span><a class="self-link"
                href="#font-optical-sizing-def"></a></h3>
        <div class="issue no-marker" id="issue-d41d8cd9①①"><a class="self-link" href="#issue-d41d8cd9①①"></a><a
                class="marker" href="https://github.com/w3c/csswg-drafts/issues/5466"
                style="text-transform:none">w3c/csswg-drafts/5466</a><a
                href="https://github.com/w3c/csswg-drafts/issues/5466">[css-text][css-fonts] 行的光学边界</a></div>
        <h2 class="heading settled" data-level="7" id="security"><span class="secno">7. </span><span
                class="content">安全性考虑</span><a class="self-link" href="#security"></a></h2>
        <p>本规范未报告新的安全性考虑事项。</p>
        <h2 class="heading settled" data-level="8" id="privacy"><span class="secno">8. </span><span
                class="content">隐私考虑</span><a class="self-link" href="#privacy"></a></h2>
        <p>本规范未报告新的隐私考虑事项。</p>
        <h2 class="heading settled" data-level="9" id="acknowledgments"><span class="secno">9. </span><span
                class="content">致谢</span><a class="self-link" href="#acknowledgments"></a></h2>
        <p>首先，编辑感谢所有<a href="https://www.w3.org/TR/css-fonts-4/#acknowledgments">本模块上一版的贡献者</a>。</p>
        <p>其次，感谢
            PDFReactor 的 DerKoun、
            Google 的 Xiaocheng Hu，
            以及
            Mozilla 的 Jonathan Kew，
            对 Level 5 版本改进的贡献。</p>
        <h2 class="heading settled" data-level="10" id="changes"><span class="secno">10. </span><span class="content">
                变更记录 </span><a class="self-link" href="#changes"></a></h2>
        <h3 class="heading settled" data-level="10.1" id="changes-20211221"><span class="secno">10.1. </span><span
                class="content">自 <a href="https://www.w3.org/TR/2021/WD-css-fonts-5-20211221/">2021年12月21日
                    WD</a> 以来的变更 </span><a class="self-link" href="#changes-20211221"></a></h3>
        <ul>
            <li>修正了 font-size 描述符的初始值
            <li>为 font-size-adjust number 的语法设定了范围
            <li>将 local() 的语法改为使用 family-name 替代 font-face-name
            <li>更新为当前的增量字体下载关键字
            <li>为保持与 CSS Conditional 5 和 11.1 Font tech 一致，将 make feature-* 复数化
            <li>将区间记号中的 infinity 规范为 ∞
            <li>修正了 tech() 函数中的拼写错误
        </ul>
        <h3 class="heading settled" data-level="10.2" id="changes-20210729"><span class="secno">10.2. </span><span
                class="content">自 <a href="https://www.w3.org/TR/2021/WD-css-fonts-5-20210729/">2021-07-29 WD</a>
                以来的变更</span><a class="self-link" href="#changes-20210729"></a></h3>
        <ul>
            <li>将 technology 重命名为 tech
            <li>安全性与隐私性章节分离
            <li>修正 font-technology 语法
            <li>从 CSS Fonts 4 复制 src 描述符解析部分
        </ul>
        <h3 class="heading settled" data-level="10.3" id="changes-20210629"><span class="secno">10.3. </span><span
                class="content">自 <a href="https://www.w3.org/TR/2021/WD-css-fonts-5-20210629/">2021-06-29 FPWD</a>
                以来的变更</span><a class="self-link" href="#changes-20210629"></a></h3>
        <ul>
            <li>移除了警告提示
            <li>添加了对增量字体技术的支持
        </ul>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>一致性要求通过描述性断言和 RFC 2119 术语的组合来表达。规范性部分中的关键字“MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD
        NOT”、“RECOMMENDED”、“MAY”和“OPTIONAL”应按照 RFC 2119 的说明进行解释。
        但是，为了可读性，这些词在本规范中不会全部用大写字母出现。</p>
    <p>本规范中的所有文本均为规范性内容，除非明确标记为非规范性、示例和注释部分。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>本规范中的示例以“for example”开头或通过 <code class="highlight">class=<c- s>"example"</c-></code> 与规范性文本区分开来，例如：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个信息性示例。</p>
    </div>
    <p>信息性注释以“Note”开头，并通过 <code class="highlight">class=<c- s>"note"</c-></code> 与规范性文本区分，例如：</p>
    <p class="note" role="note">注：这是一个信息性注释。</p>
    <p>规范性建议为规范性部分，具有特殊显示风格，并通过 <code class="highlight">&lt;strong class=<c- s>"advisement"</c->></code>
        与其他规范性文本区分，例如：<strong class="advisement"> 用户代理必须提供可访问的替代方案。 </strong></p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>测试</summary>
        <p>与本规范内容相关的测试可记录在如本块所示的“Tests”区块中。所有此类区块均为非规范性内容。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">一致性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范的一致性定义了三种一致性类别：</p>
    <dl>
        <dt>样式表
        <dd>一个<a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                样式表</a>。
        <dt>渲染器
        <dd>一个<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>，可解析样式表语义并渲染
            使用这些样式表的文档。
        <dt>编辑工具
        <dd>一个<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>，可编写样式表。
    </dl>
    <p>样式表若其所有使用本模块定义语法的声明均符合通用 CSS 语法和本模块定义的各特性语法，则视为符合本规范。</p>
    <p>渲染器若在按相关规范解析样式表的基础上，正确解析本规范定义的所有特性并据此渲染文档，则视为符合本规范。但如因设备限制无法正确渲染文档，UA 并不因此不符合规范。（例如，UA 不要求在单色显示器上渲染颜色。）</p>
    <p>编辑工具若其编写的样式表在语法上符合通用 CSS 语法及本模块各特性语法，且满足本模块对样式表的其他一致性要求，则视为符合本规范。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为使作者能利用向前兼容的解析规则指定回退值，CSS 渲染器<strong>必须</strong>将所有不支持的 at-规则、属性、属性值、关键字和其他语法结构视为无效（并<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">按需忽略</a>）。特别地，用户代理<strong>不得</strong>在多值属性声明中有选择地忽略不支持的组件值而保留支持的值：如有任何值被认为无效（即不支持的值），CSS
        要求整个声明被忽略。</p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">不稳定与专有特性的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为避免与将来稳定 CSS 特性发生冲突，CSSWG 建议<a href="https://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>来实现<a
            href="https://www.w3.org/TR/CSS/#unstable">不稳定</a>特性和<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>一旦规范进入候选推荐阶段（CR），即可进行非实验性实现，且实现者应发布任何被证明按规范正确实现的 CR 级特性的无前缀实现。</p>
    <p>为确保各实现间 CSS 的互操作性，CSS 工作组要求非实验性 CSS 渲染器在发布任何 CSS 特性的无前缀实现前，向 W3C 提交实现报告（如有必要，还包括测试用例）。提交给 W3C 的测试用例将由 CSS
        工作组审核和修正。</p>
    <p>有关提交测试用例和实现报告的更多信息，可参阅 CSS 工作组网站 <a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。
        如有问题，请联系 <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
        邮件列表。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#descdef-font-face-ascent-override">ascent-override</a><span>，见 § 3.5</span>
        <li><a href="#font-size-adjust-aspect-value">aspect value</a><span>，见 § 2.4</span>
        <li><a href="#valdef-font-face-font-size-auto">auto</a><span>，见 § 3.3</span>
        <li><a href="#valdef-font-size-adjust-cap-height">cap-height</a><span>，见 § 2.4</span>
        <li><a href="#valdef-font-size-adjust-ch-width">ch-width</a><span>，见 § 2.4</span>
        <li><a href="#color-font-tech-values">&lt;color-font-tech></a><span>，见 § 3.2.1</span>
        <li><a href="#descdef-font-face-descent-override">descent-override</a><span>，见 § 3.5</span>
        <li><a href="#valdef-font-size-adjust-ex-height">ex-height</a><span>，见 § 2.4</span>
        <li><a href="#valdef-font-size-adjust-ex-height--cap-height--ch-width--ic-width--ic-height">ex-height |
                cap-height | ch-width | ic-width | ic-height</a><span>，见 § 2.4</span>
        <li><a href="#at-font-face-rule">@font-face</a><span>，见 § 3.1</span>
        <li><a href="#font-features-tech-values">&lt;font-features-tech></a><span>，见 § 3.2.1</span>
        <li><a href="#font-format-values">&lt;font-format></a><span>，见 § 3.2.1</span>
        <li><a href="#descdef-font-face-font-size">font-size</a><span>，见 § 3.3</span>
        <li><a href="#propdef-font-size-adjust">font-size-adjust</a><span>，见 § 2.4</span>
        <li><a href="#font-tech-values">&lt;font-tech></a><span>，见 § 3.2.1</span>
        <li>
            from-font
            <ul>
                <li><a href="#valdef-font-size-adjust-from-font">font-size-adjust 的值</a><span>，见 § 2.4</span>
                <li><a href="#valdef-superscript-position-overridedescriptor-from-font">superscript-position-override!!descriptor、subscript-position-override!!descriptor、superscript-size-override!!descriptor、subscript-size-override!!descriptor
                        的值</a><span>，见 § 3.6</span>
            </ul>
        <li><a href="#valdef-font-size-adjust-ic-height">ic-height</a><span>，见 § 2.4</span>
        <li><a href="#valdef-font-size-adjust-ic-width">ic-width</a><span>，见 § 2.4</span>
        <li><a href="#descdef-font-face-line-gap-override">line-gap-override</a><span>，见 § 3.5</span>
        <li><a href="#valdef-font-size-adjust-none">none</a><span>，见 § 2.4</span>
        <li>
            normal
            <ul>
                <li><a href="#valdef-ascent-overridedescriptor-normal">ascent-override!!descriptor、descent-override!!descriptor、line-gap-override!!descriptor
                        的值</a><span>，见 § 3.5</span>
                <li><a href="#valdef-superscript-position-overridedescriptor-normal">superscript-position-override!!descriptor、subscript-position-override!!descriptor、superscript-size-override!!descriptor、subscript-size-override!!descriptor
                        的值</a><span>，见 § 3.6</span>
            </ul>
        <li><a href="#valdef-font-face-font-size-number">&lt;number></a><span>，见 § 3.3</span>
        <li><a href="#valdef-font-size-adjust-number-0">&lt;number [0,∞]></a><span>，见 § 2.4</span>
        <li>
            &lt;percentage>
            <ul>
                <li><a href="#valdef-ascent-overridedescriptor-percentage">ascent-override!!descriptor、descent-override!!descriptor、line-gap-override!!descriptor
                        的值</a><span>，见 § 3.5</span>
                <li><a href="#valdef-superscript-position-overridedescriptor-percentage">superscript-position-override!!descriptor、subscript-position-override!!descriptor、superscript-size-override!!descriptor、subscript-size-override!!descriptor
                        的值</a><span>，见 § 3.6</span>
            </ul>
        <li><a href="#descdef-font-face-size-adjust">size-adjust</a><span>，见 § 3.4</span>
        <li><a href="#descdef-font-face-subscript-position-override">subscript-position-override</a><span>，见
                § 3.6</span>
        <li><a href="#descdef-font-face-subscript-size-override">subscript-size-override</a><span>，见 § 3.6</span>
        <li><a href="#descdef-font-face-superscript-position-override">superscript-position-override</a><span>，见
                § 3.6</span>
        <li><a href="#descdef-font-face-superscript-size-override">superscript-size-override</a><span>，见 § 3.6</span>
        <li><a href="#valdef-font-family-xxx">xxx</a><span>，见 § 2.1.1</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">外部引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="8c8e51b4">computed value</span>
                <li><span class="dfn-paneled" id="1a2b1083">used value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="4f918eb5">inline-level</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-FONTS-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="66388322">&lt;family-name></span>
                <li><span class="dfn-paneled" id="5da00747">first available font</span>
                <li><span class="dfn-paneled" id="7066562d">font-family</span>
                <li><span class="dfn-paneled" id="9ce65b41">font-language-override</span>
                <li><span class="dfn-paneled" id="a3b980a1">font-optical-sizing</span>
                <li><span class="dfn-paneled" id="297dfe3a">font-size</span>
                <li><span class="dfn-paneled" id="4f77d9f4">font-style</span>
                <li><span class="dfn-paneled" id="354876d6">font-variant-position</span>
                <li><span class="dfn-paneled" id="73ccab19">font-weight</span>
                <li><span class="dfn-paneled" id="59362d9c">src</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-INLINE-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="6b131fb5">ascent metric</span>
                <li><span class="dfn-paneled" id="04dc31e8">descent metric</span>
                <li><span class="dfn-paneled" id="e787908f">line gap metric</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TEXT-DECOR-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="6ff27154">from-font</span>
                <li><span class="dfn-paneled" id="bfc0b3a6">text-decoration-thickness</span>
                <li><span class="dfn-paneled" id="6e8b8579">text-underline-offset</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="61bb5e44">&lt;number></span>
                <li><span class="dfn-paneled" id="128295ac">&lt;percentage></span>
                <li><span class="dfn-paneled" id="1d798932">&lt;string></span>
                <li><span class="dfn-paneled" id="699488a8">&lt;url></span>
                <li><span class="dfn-paneled" id="d4441b24">?</span>
                <li><span class="dfn-paneled" id="621f25c0">ch</span>
                <li><span class="dfn-paneled" id="8a110a7b">css-wide keywords</span>
                <li><span class="dfn-paneled" id="eefce2af">em</span>
                <li><span class="dfn-paneled" id="dc100226">ex</span>
                <li><span class="dfn-paneled" id="7ebc2529">font-relative lengths</span>
                <li><span class="dfn-paneled" id="3bafef5e">{a,b}</span>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="b8dade0f">block axis</span>
                <li><span class="dfn-paneled" id="dc77d4ae">typesetting upright</span>
                <li><span class="dfn-paneled" id="ef383707">typographic mode</span>
                <li><span class="dfn-paneled" id="1c5240b0">vertical typographic mode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS22]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ac54fbff">line-height</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    Cascading and Inheritance Level 5</cite></a>. 2022年1月13日. CR. URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-fonts-4">[CSS-FONTS-4]
        <dd>John Daggett; Myles Maxfield; Chris Lilley. <a href="https://www.w3.org/TR/css-fonts-4/"><cite>CSS Fonts
                    Module Level 4</cite></a>. 2021年12月21日. WD. URL: <a
                href="https://www.w3.org/TR/css-fonts-4/">https://www.w3.org/TR/css-fonts-4/</a>
        <dt id="biblio-css-inline-3">[CSS-INLINE-3]
        <dd>Dave Cramer; Elika Etemad. <a href="https://www.w3.org/TR/css-inline-3/"><cite>CSS Inline Layout Module
                    Level 3</cite></a>. 2023年4月1日. WD. URL: <a
                href="https://www.w3.org/TR/css-inline-3/">https://www.w3.org/TR/css-inline-3/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS Syntax Module Level
                    3</cite></a>. 2021年12月24日. CR. URL: <a
                href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-text-decor-4">[CSS-TEXT-DECOR-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-text-decor-4/"><cite>CSS Text Decoration Module
                    Level 4</cite></a>. 2022年5月4日. WD. URL: <a
                href="https://www.w3.org/TR/css-text-decor-4/">https://www.w3.org/TR/css-text-decor-4/</a>
        <dt id="biblio-css-values-3">[CSS-VALUES-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-3/"><cite>CSS Values and Units
                    Module Level 3</cite></a>. 2022年12月1日. CR. URL: <a
                href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>. 2023年12月18日. WD. URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos 等. <a href="https://www.w3.org/TR/CSS21/"><cite>层叠样式表 2级修订1（CSS 2.1）规范</cite></a>. 2011年6月7日. REC.
            URL: <a href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-css22">[CSS22]
        <dd>Bert Bos. <a href="https://www.w3.org/TR/CSS22/"><cite>层叠样式表 2级修订2（CSS 2.2）规范</cite></a>. 2016年4月12日. WD.
            URL: <a href="https://www.w3.org/TR/CSS22/">https://www.w3.org/TR/CSS22/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. 1997年3月. Best Current Practice. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">补充性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS Display Module Level
                    3</cite></a>. 2023年3月30日. CR. URL: <a
                href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS Writing Modes Level
                    4</cite></a>. 2019年7月30日. CR. URL: <a
                href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">属性索引</span><a class="self-link"
            href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    <th scope="col">取值
                    <th scope="col">初始
                    <th scope="col">适用对象
                    <th scope="col">继承
                    <th scope="col">%ages
                    <th scope="col">动画类型
                    <th scope="col">规范顺序
                    <th scope="col">计算值
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-font-size-adjust"
                            id="ref-for-propdef-font-size-adjust①⑦">font-size-adjust</a>
                    <td>none | [ ex-height | cap-height | ch-width | ic-width | ic-height ]? [ from-font | &lt;number
                        [0,∞]> ]
                    <td>none
                    <td>所有元素和文本
                    <td>是
                    <td>N/A
                    <td>如关键字不同则离散，否则按计算值类型
                    <td>按语法
                    <td>关键字 none，或度量关键字与 &lt;number> 的组合
        </table>
    </div>
    <h3 class="no-num no-ref heading settled" id="font-face-descriptor-table"><span class="content"><a class="css"
                data-link-type="at-rule" href="#at-font-face-rule" id="ref-for-at-font-face-rule①②">@font-face</a>
            描述符</span><a class="self-link" href="#font-face-descriptor-table"></a></h3>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    <th scope="col">取值
                    <th scope="col">初始
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-font-face-ascent-override"
                            id="ref-for-descdef-font-face-ascent-override">ascent-override</a>
                    <td>[ normal | &lt;percentage [0,∞]> ]{1,2}
                    <td>normal
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-font-face-descent-override"
                            id="ref-for-descdef-font-face-descent-override">descent-override</a>
                    <td>[ normal | &lt;percentage [0,∞]> ]{1,2}
                    <td>normal
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-font-face-font-size"
                            id="ref-for-descdef-font-face-font-size①">font-size</a>
                    <td>auto | [&lt;number>]{1,2}
                    <td>auto
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-font-face-line-gap-override"
                            id="ref-for-descdef-font-face-line-gap-override">line-gap-override</a>
                    <td>[ normal | &lt;percentage [0,∞]> ]{1,2}
                    <td>normal
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-font-face-size-adjust"
                            id="ref-for-descdef-font-face-size-adjust">size-adjust</a>
                    <td>&lt;percentage [0,∞]>
                    <td>100%
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-font-face-subscript-position-override"
                            id="ref-for-descdef-font-face-subscript-position-override">subscript-position-override</a>
                    <td>[ normal | from-font | &lt;percentage> ]{1,2}
                    <td>normal
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-font-face-subscript-size-override"
                            id="ref-for-descdef-font-face-subscript-size-override">subscript-size-override</a>
                    <td>[ normal | from-font | &lt;percentage [0,∞]> ]{1,2}
                    <td>normal
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-font-face-superscript-position-override"
                            id="ref-for-descdef-font-face-superscript-position-override">superscript-position-override</a>
                    <td>[ normal | from-font | &lt;percentage> ]{1,2}
                    <td>normal
                <tr>
                    <th scope="row"><a class="css" data-link-type="descriptor"
                            href="#descdef-font-face-superscript-size-override"
                            id="ref-for-descdef-font-face-superscript-size-override">superscript-size-override</a>
                    <td>[ normal | from-font | &lt;percentage [0,∞]> ]{1,2}
                    <td>normal
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/126"
                style="text-transform:none">w3c/csswg-drafts/126</a><a
                href="https://github.com/w3c/csswg-drafts/issues/126">[css-fonts] 指定回退字体参数的变化</a> <a
                class="issue-return" href="#issue-d41d8cd9" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/4910"
                style="text-transform:none">w3c/csswg-drafts/4910</a><a
                href="https://github.com/w3c/csswg-drafts/issues/4910">[meta] [css-fonts] 通用字体族的判定标准</a> <a
                class="issue-return" href="#issue-d41d8cd9①" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/4566"
                style="text-transform:none">w3c/csswg-drafts/4566</a><a
                href="https://github.com/w3c/csswg-drafts/issues/4566">[css-fonts] 是否应为额外通用字体设立注册表？</a> <a
                class="issue-return" href="#issue-d41d8cd9②" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/2690"
                style="text-transform:none">w3c/csswg-drafts/2690</a><a
                href="https://github.com/w3c/csswg-drafts/issues/2690">[css-fonts-4] font-weight 的百分比用于相对权重</a> <a
                class="issue-return" href="#issue-d41d8cd9③" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/4044"
                style="text-transform:none">w3c/csswg-drafts/4044</a><a
                href="https://github.com/w3c/csswg-drafts/issues/4044">[css-fonts] 竖排文本与 font-style、font-stretch 不兼容</a>
            <a class="issue-return" href="#issue-d41d8cd9④" title="Jump to section">↵</a>
        </div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/8792"
                style="text-transform:none">w3c/csswg-drafts/8792</a><a
                href="https://github.com/w3c/csswg-drafts/issues/8792">[css-fonts-5] font-size-adjust: ic-height</a> <a
                class="issue-return" href="#issue-d41d8cd9⑤" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/6384"
                style="text-transform:none">w3c/csswg-drafts/6384</a><a
                href="https://github.com/w3c/csswg-drafts/issues/6384">[css-fonts-5] font-size-adjust 缺少度量的情况</a> <a
                class="issue-return" href="#issue-c72cd359" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/6384"
                style="text-transform:none">w3c/csswg-drafts/6384</a><a
                href="https://github.com/w3c/csswg-drafts/issues/6384">[css-fonts-5] font-size-adjust 缺少度量的情况</a> <a
                class="issue-return" href="#issue-36eece46" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/806"
                style="text-transform:none">w3c/csswg-drafts/806</a><a
                href="https://github.com/w3c/csswg-drafts/issues/806">[css-fonts-5] 为 @font-face 添加允许范围（用于光学尺寸调整）的
                font-size 描述符</a> <a class="issue-return" href="#issue-d41d8cd9⑥" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/731"
                style="text-transform:none">w3c/csswg-drafts/731</a><a
                href="https://github.com/w3c/csswg-drafts/issues/731">[css-fonts] ex 单位的 font-size 描述符</a>
            <a class="issue-return" href="#issue-d41d8cd9⑦" title="Jump to section">↵</a>
        </div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/8967"
                style="text-transform:none">w3c/csswg-drafts/8967</a><a
                href="https://github.com/w3c/csswg-drafts/issues/8967">[css-fonts-5] font-size-adjust 与字体度量覆盖</a> <a
                class="issue-return" href="#issue-d41d8cd9⑧" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/5484"
                style="text-transform:none">w3c/csswg-drafts/5484</a><a
                href="https://github.com/w3c/csswg-drafts/issues/5484">[css-fonts-5] 移除 font-language-override</a>
            <a class="issue-return" href="#issue-d41d8cd9⑨" title="Jump to section">↵</a>
        </div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/5635"
                style="text-transform:none">w3c/csswg-drafts/5635</a><a
                href="https://github.com/w3c/csswg-drafts/issues/5635">[CSS-Fonts] 需要插值可变字体设置的方法</a> <a
                class="issue-return" href="#issue-d41d8cd9①⓪" title="Jump to section">↵</a></div>
        <div class="issue no-marker"><a class="marker" href="https://github.com/w3c/csswg-drafts/issues/5466"
                style="text-transform:none">w3c/csswg-drafts/5466</a><a
                href="https://github.com/w3c/csswg-drafts/issues/5466">[css-text][css-fonts] 行的光学边界</a> <a
                class="issue-return" href="#issue-d41d8cd9①①" title="Jump to section">↵</a></div>
    </div>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "04dc31e8": { "dfnID": "04dc31e8", "dfnText": "descent metric", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-descent-metric" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://www.w3.org/TR/css-inline-3/#descent-metric" },
                "128295ac": { "dfnID": "128295ac", "dfnText": "<percentage>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-percentage-value" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }, { "refs": [{ "id": "ref-for-percentage-value\u2460" }, { "id": "ref-for-percentage-value\u2461" }, { "id": "ref-for-percentage-value\u2462" }, { "id": "ref-for-percentage-value\u2463" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }, { "refs": [{ "id": "ref-for-percentage-value\u2464" }, { "id": "ref-for-percentage-value\u2465" }, { "id": "ref-for-percentage-value\u2466" }, { "id": "ref-for-percentage-value\u2467" }, { "id": "ref-for-percentage-value\u2468" }], "title": "3.6. \nSuperscript and subscript metrics overrides:\nthe superscript-position-override, subscript-position-override,superscript-size-override and subscript-size-override descriptors" }], "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "1a2b1083": { "dfnID": "1a2b1083", "dfnText": "used value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-used-value" }, { "id": "ref-for-used-value\u2460" }, { "id": "ref-for-used-value\u2461" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }], "url": "https://www.w3.org/TR/css-cascade-5/#used-value" },
                "1c5240b0": { "dfnID": "1c5240b0", "dfnText": "vertical typographic mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-vertical-typographic-mode" }], "title": "3.6. \nSuperscript and subscript metrics overrides:\nthe superscript-position-override, subscript-position-override,superscript-size-override and subscript-size-override descriptors" }], "url": "https://drafts.csswg.org/css-writing-modes-4/#vertical-typographic-mode" },
                "1d798932": { "dfnID": "1d798932", "dfnText": "<string>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string-value" }], "title": "3.2.1. Parsing the src descriptor" }], "url": "https://www.w3.org/TR/css-values-4/#string-value" },
                "297dfe3a": { "dfnID": "297dfe3a", "dfnText": "font-size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-size" }, { "id": "ref-for-propdef-font-size\u2460" }, { "id": "ref-for-propdef-font-size\u2461" }, { "id": "ref-for-propdef-font-size\u2462" }, { "id": "ref-for-propdef-font-size\u2463" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }, { "refs": [{ "id": "ref-for-propdef-font-size\u2464" }, { "id": "ref-for-propdef-font-size\u2465" }, { "id": "ref-for-propdef-font-size\u2466" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }, { "refs": [{ "id": "ref-for-propdef-font-size\u2467" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-size" },
                "354876d6": { "dfnID": "354876d6", "dfnText": "font-variant-position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-variant-position" }], "title": "3.6. \nSuperscript and subscript metrics overrides:\nthe superscript-position-override, subscript-position-override,superscript-size-override and subscript-size-override descriptors" }], "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-variant-position" },
                "3bafef5e": { "dfnID": "3bafef5e", "dfnText": "{a,b}", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-num-range" }], "title": "3.3. \nFont property descriptors: the font-size\n" }, { "refs": [{ "id": "ref-for-mult-num-range\u2460" }, { "id": "ref-for-mult-num-range\u2461" }, { "id": "ref-for-mult-num-range\u2462" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }, { "refs": [{ "id": "ref-for-mult-num-range\u2463" }, { "id": "ref-for-mult-num-range\u2464" }, { "id": "ref-for-mult-num-range\u2465" }, { "id": "ref-for-mult-num-range\u2466" }], "title": "3.6. \nSuperscript and subscript metrics overrides:\nthe superscript-position-override, subscript-position-override,superscript-size-override and subscript-size-override descriptors" }], "url": "https://www.w3.org/TR/css-values-4/#mult-num-range" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }, { "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }, { "id": "ref-for-comb-one\u2463" }, { "id": "ref-for-comb-one\u2464" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }, { "refs": [{ "id": "ref-for-comb-one\u2465" }, { "id": "ref-for-comb-one\u2466" }, { "id": "ref-for-comb-one\u2467" }, { "id": "ref-for-comb-one\u2468" }, { "id": "ref-for-comb-one\u2460\u24ea" }, { "id": "ref-for-comb-one\u2460\u2460" }, { "id": "ref-for-comb-one\u2460\u2461" }, { "id": "ref-for-comb-one\u2460\u2462" }, { "id": "ref-for-comb-one\u2460\u2463" }, { "id": "ref-for-comb-one\u2460\u2464" }, { "id": "ref-for-comb-one\u2460\u2465" }, { "id": "ref-for-comb-one\u2460\u2466" }, { "id": "ref-for-comb-one\u2460\u2467" }, { "id": "ref-for-comb-one\u2460\u2468" }, { "id": "ref-for-comb-one\u2461\u24ea" }, { "id": "ref-for-comb-one\u2461\u2460" }, { "id": "ref-for-comb-one\u2461\u2461" }, { "id": "ref-for-comb-one\u2461\u2462" }, { "id": "ref-for-comb-one\u2461\u2463" }], "title": "3.2.1. Parsing the src descriptor" }, { "refs": [{ "id": "ref-for-comb-one\u2461\u2464" }], "title": "3.3. \nFont property descriptors: the font-size\n" }, { "refs": [{ "id": "ref-for-comb-one\u2461\u2465" }, { "id": "ref-for-comb-one\u2461\u2466" }, { "id": "ref-for-comb-one\u2461\u2467" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }, { "refs": [{ "id": "ref-for-comb-one\u2461\u2468" }, { "id": "ref-for-comb-one\u2462\u24ea" }, { "id": "ref-for-comb-one\u2462\u2460" }, { "id": "ref-for-comb-one\u2462\u2461" }, { "id": "ref-for-comb-one\u2462\u2462" }, { "id": "ref-for-comb-one\u2462\u2463" }, { "id": "ref-for-comb-one\u2462\u2464" }, { "id": "ref-for-comb-one\u2462\u2465" }], "title": "3.6. \nSuperscript and subscript metrics overrides:\nthe superscript-position-override, subscript-position-override,superscript-size-override and subscript-size-override descriptors" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "4f77d9f4": { "dfnID": "4f77d9f4", "dfnText": "font-style", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-style" }], "title": "2.3. \nFont style: the font-style property" }], "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-style" },
                "4f918eb5": { "dfnID": "4f918eb5", "dfnText": "inline-level", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inline-level" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://www.w3.org/TR/css-display-3/#inline-level" },
                "59362d9c": { "dfnID": "59362d9c", "dfnText": "src", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-descdef-font-face-src" }, { "id": "ref-for-descdef-font-face-src\u2460" }, { "id": "ref-for-descdef-font-face-src\u2461" }], "title": "3.2.1. Parsing the src descriptor" }], "url": "https://www.w3.org/TR/css-fonts-4/#descdef-font-face-src" },
                "5da00747": { "dfnID": "5da00747", "dfnText": "first available font", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-first-available-font" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }, { "refs": [{ "id": "ref-for-first-available-font\u2460" }], "title": "3.1. \nThe @font-face rule" }], "url": "https://www.w3.org/TR/css-fonts-4/#first-available-font" },
                "61bb5e44": { "dfnID": "61bb5e44", "dfnText": "<number>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-number-value" }, { "id": "ref-for-number-value\u2460" }, { "id": "ref-for-number-value\u2461" }, { "id": "ref-for-number-value\u2462" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }, { "refs": [{ "id": "ref-for-number-value\u2463" }, { "id": "ref-for-number-value\u2464" }, { "id": "ref-for-number-value\u2465" }, { "id": "ref-for-number-value\u2466" }], "title": "3.3. \nFont property descriptors: the font-size\n" }], "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "621f25c0": { "dfnID": "621f25c0", "dfnText": "ch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ch" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }], "url": "https://www.w3.org/TR/css-values-4/#ch" },
                "66388322": { "dfnID": "66388322", "dfnText": "<family-name>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-family-name-value" }], "title": "3.2.1. Parsing the src descriptor" }], "url": "https://www.w3.org/TR/css-fonts-4/#family-name-value" },
                "699488a8": { "dfnID": "699488a8", "dfnText": "<url>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-value" }], "title": "3.2.1. Parsing the src descriptor" }], "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "6b131fb5": { "dfnID": "6b131fb5", "dfnText": "ascent metric", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascent-metric" }, { "id": "ref-for-ascent-metric\u2460" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://www.w3.org/TR/css-inline-3/#ascent-metric" },
                "6e8b8579": { "dfnID": "6e8b8579", "dfnText": "text-underline-offset", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-text-underline-offset" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }], "url": "https://www.w3.org/TR/css-text-decor-4/#propdef-text-underline-offset" },
                "6ff27154": { "dfnID": "6ff27154", "dfnText": "from-font", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-text-decoration-thickness-from-font" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }], "url": "https://www.w3.org/TR/css-text-decor-4/#valdef-text-decoration-thickness-from-font" },
                "7066562d": { "dfnID": "7066562d", "dfnText": "font-family", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-family" }], "title": "2.1. \nFont family: the font-family property" }, { "refs": [{ "id": "ref-for-propdef-font-family\u2460" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }], "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-family" },
                "73ccab19": { "dfnID": "73ccab19", "dfnText": "font-weight", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-weight" }], "title": "2.2. Font weight: the font-weight property" }], "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-weight" },
                "7ebc2529": { "dfnID": "7ebc2529", "dfnText": "font-relative lengths", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-font-relative-length" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://www.w3.org/TR/css-values-4/#font-relative-length" },
                "8a110a7b": { "dfnID": "8a110a7b", "dfnText": "css-wide keywords", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-wide-keywords" }], "title": "1.1. \nValue Definitions" }], "url": "https://www.w3.org/TR/css-values-4/#css-wide-keywords" },
                "8c8e51b4": { "dfnID": "8c8e51b4", "dfnText": "computed value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-computed-value" }, { "id": "ref-for-computed-value\u2460" }, { "id": "ref-for-computed-value\u2461" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }, { "refs": [{ "id": "ref-for-computed-value\u2462" }, { "id": "ref-for-computed-value\u2463" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }, { "refs": [{ "id": "ref-for-computed-value\u2464" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "9ce65b41": { "dfnID": "9ce65b41", "dfnText": "font-language-override", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-language-override" }], "title": "4.1. Font language override: the font-language-override property" }], "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-language-override" },
                "a3b980a1": { "dfnID": "a3b980a1", "dfnText": "font-optical-sizing", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-optical-sizing" }], "title": "6.1. \nOptical sizing control: the font-optical-sizing property" }], "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-optical-sizing" },
                "ac54fbff": { "dfnID": "ac54fbff", "dfnText": "line-height", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-line-height" }, { "id": "ref-for-propdef-line-height\u2460" }, { "id": "ref-for-propdef-line-height\u2461" }, { "id": "ref-for-propdef-line-height\u2462" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }, { "refs": [{ "id": "ref-for-propdef-line-height\u2463" }, { "id": "ref-for-propdef-line-height\u2464" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://drafts.csswg.org/css2/#propdef-line-height" },
                "at-font-face-rule": { "dfnID": "at-font-face-rule", "dfnText": "@font-face", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-at-font-face-rule" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }, { "refs": [{ "id": "ref-for-at-font-face-rule\u2460" }], "title": "3.1. \nThe @font-face rule" }, { "refs": [{ "id": "ref-for-at-font-face-rule\u2461" }], "title": "3.3. \nFont property descriptors: the font-size\n" }, { "refs": [{ "id": "ref-for-at-font-face-rule\u2462" }, { "id": "ref-for-at-font-face-rule\u2463" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }, { "refs": [{ "id": "ref-for-at-font-face-rule\u2464" }, { "id": "ref-for-at-font-face-rule\u2465" }, { "id": "ref-for-at-font-face-rule\u2466" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }, { "refs": [{ "id": "ref-for-at-font-face-rule\u2467" }, { "id": "ref-for-at-font-face-rule\u2468" }, { "id": "ref-for-at-font-face-rule\u2460\u24ea" }, { "id": "ref-for-at-font-face-rule\u2460\u2460" }], "title": "3.6. \nSuperscript and subscript metrics overrides:\nthe superscript-position-override, subscript-position-override,superscript-size-override and subscript-size-override descriptors" }], "url": "#at-font-face-rule" },
                "b8dade0f": { "dfnID": "b8dade0f", "dfnText": "block axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-block-axis" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }, { "refs": [{ "id": "ref-for-block-axis\u2460" }], "title": "3.6. \nSuperscript and subscript metrics overrides:\nthe superscript-position-override, subscript-position-override,superscript-size-override and subscript-size-override descriptors" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#block-axis" },
                "bfc0b3a6": { "dfnID": "bfc0b3a6", "dfnText": "text-decoration-thickness", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-text-decoration-thickness" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }], "url": "https://www.w3.org/TR/css-text-decor-4/#propdef-text-decoration-thickness" },
                "color-font-tech-values": { "dfnID": "color-font-tech-values", "dfnText": "<color-font-tech>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-color-font-tech-values" }], "title": "3.2.1. Parsing the src descriptor" }], "url": "#color-font-tech-values" },
                "d4441b24": { "dfnID": "d4441b24", "dfnText": "?", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mult-opt" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }], "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "dc100226": { "dfnID": "dc100226", "dfnText": "ex", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ex" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }], "url": "https://www.w3.org/TR/css-values-4/#ex" },
                "dc77d4ae": { "dfnID": "dc77d4ae", "dfnText": "typesetting upright", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typeset-upright" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }, { "refs": [{ "id": "ref-for-typeset-upright\u2460" }], "title": "3.6. \nSuperscript and subscript metrics overrides:\nthe superscript-position-override, subscript-position-override,superscript-size-override and subscript-size-override descriptors" }], "url": "https://drafts.csswg.org/css-writing-modes-4/#typeset-upright" },
                "descdef-font-face-ascent-override": { "dfnID": "descdef-font-face-ascent-override", "dfnText": "ascent-override", "external": false, "refSections": [], "url": "#descdef-font-face-ascent-override" },
                "descdef-font-face-descent-override": { "dfnID": "descdef-font-face-descent-override", "dfnText": "descent-override", "external": false, "refSections": [], "url": "#descdef-font-face-descent-override" },
                "descdef-font-face-font-size": { "dfnID": "descdef-font-face-font-size", "dfnText": "font-size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-descdef-font-face-font-size" }], "title": "3.3. \nFont property descriptors: the font-size\n" }], "url": "#descdef-font-face-font-size" },
                "descdef-font-face-line-gap-override": { "dfnID": "descdef-font-face-line-gap-override", "dfnText": "line-gap-override", "external": false, "refSections": [], "url": "#descdef-font-face-line-gap-override" },
                "descdef-font-face-size-adjust": { "dfnID": "descdef-font-face-size-adjust", "dfnText": "size-adjust", "external": false, "refSections": [], "url": "#descdef-font-face-size-adjust" },
                "descdef-font-face-subscript-position-override": { "dfnID": "descdef-font-face-subscript-position-override", "dfnText": "subscript-position-override", "external": false, "refSections": [], "url": "#descdef-font-face-subscript-position-override" },
                "descdef-font-face-subscript-size-override": { "dfnID": "descdef-font-face-subscript-size-override", "dfnText": "subscript-size-override", "external": false, "refSections": [], "url": "#descdef-font-face-subscript-size-override" },
                "descdef-font-face-superscript-position-override": { "dfnID": "descdef-font-face-superscript-position-override", "dfnText": "superscript-position-override", "external": false, "refSections": [], "url": "#descdef-font-face-superscript-position-override" },
                "descdef-font-face-superscript-size-override": { "dfnID": "descdef-font-face-superscript-size-override", "dfnText": "superscript-size-override", "external": false, "refSections": [], "url": "#descdef-font-face-superscript-size-override" },
                "e787908f": { "dfnID": "e787908f", "dfnText": "line gap metric", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-line-gap-metric" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://www.w3.org/TR/css-inline-3/#line-gap-metric" },
                "eefce2af": { "dfnID": "eefce2af", "dfnText": "em", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-em" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }], "url": "https://www.w3.org/TR/css-values-4/#em" },
                "ef383707": { "dfnID": "ef383707", "dfnText": "typographic mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typographic-mode" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#typographic-mode" },
                "font-features-tech-values": { "dfnID": "font-features-tech-values", "dfnText": "<font-features-tech>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-font-features-tech-values" }], "title": "3.2.1. Parsing the src descriptor" }], "url": "#font-features-tech-values" },
                "font-format-values": { "dfnID": "font-format-values", "dfnText": "<font-format>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-font-format-values" }], "title": "3.2.1. Parsing the src descriptor" }], "url": "#font-format-values" },
                "font-size-adjust-aspect-value": { "dfnID": "font-size-adjust-aspect-value", "dfnText": "aspect value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-font-size-adjust-aspect-value" }, { "id": "ref-for-font-size-adjust-aspect-value\u2460" }, { "id": "ref-for-font-size-adjust-aspect-value\u2461" }, { "id": "ref-for-font-size-adjust-aspect-value\u2462" }, { "id": "ref-for-font-size-adjust-aspect-value\u2463" }, { "id": "ref-for-font-size-adjust-aspect-value\u2464" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }], "url": "#font-size-adjust-aspect-value" },
                "font-tech-values": { "dfnID": "font-tech-values", "dfnText": "<font-tech>", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-font-tech-values" }], "title": "3.2.1. Parsing the src descriptor" }], "url": "#font-tech-values" },
                "propdef-font-size-adjust": { "dfnID": "propdef-font-size-adjust", "dfnText": "font-size-adjust", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-font-size-adjust" }, { "id": "ref-for-propdef-font-size-adjust\u2460" }, { "id": "ref-for-propdef-font-size-adjust\u2461" }, { "id": "ref-for-propdef-font-size-adjust\u2462" }, { "id": "ref-for-propdef-font-size-adjust\u2463" }, { "id": "ref-for-propdef-font-size-adjust\u2464" }, { "id": "ref-for-propdef-font-size-adjust\u2465" }, { "id": "ref-for-propdef-font-size-adjust\u2466" }, { "id": "ref-for-propdef-font-size-adjust\u2467" }, { "id": "ref-for-propdef-font-size-adjust\u2468" }, { "id": "ref-for-propdef-font-size-adjust\u2460\u24ea" }, { "id": "ref-for-propdef-font-size-adjust\u2460\u2460" }, { "id": "ref-for-propdef-font-size-adjust\u2460\u2461" }, { "id": "ref-for-propdef-font-size-adjust\u2460\u2462" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }, { "refs": [{ "id": "ref-for-propdef-font-size-adjust\u2460\u2463" }], "title": "3.4. \nGlyph Size Multiplier:\nthe size-adjust descriptor" }, { "refs": [{ "id": "ref-for-propdef-font-size-adjust\u2460\u2464" }, { "id": "ref-for-propdef-font-size-adjust\u2460\u2465" }], "title": "3.5. \nLine Height Font Metrics Overrides:\nthe ascent-override, descent-override, and line-gap-override descriptors" }], "url": "#propdef-font-size-adjust" },
                "valdef-ascent-overridedescriptor-normal": { "dfnID": "valdef-ascent-overridedescriptor-normal", "dfnText": "normal", "external": false, "refSections": [], "url": "#valdef-ascent-overridedescriptor-normal" },
                "valdef-ascent-overridedescriptor-percentage": { "dfnID": "valdef-ascent-overridedescriptor-percentage", "dfnText": "<percentage>", "external": false, "refSections": [], "url": "#valdef-ascent-overridedescriptor-percentage" },
                "valdef-font-face-font-size-auto": { "dfnID": "valdef-font-face-font-size-auto", "dfnText": "auto", "external": false, "refSections": [], "url": "#valdef-font-face-font-size-auto" },
                "valdef-font-face-font-size-number": { "dfnID": "valdef-font-face-font-size-number", "dfnText": "<number>", "external": false, "refSections": [], "url": "#valdef-font-face-font-size-number" },
                "valdef-font-family-xxx": { "dfnID": "valdef-font-family-xxx", "dfnText": "xxx", "external": false, "refSections": [], "url": "#valdef-font-family-xxx" },
                "valdef-font-size-adjust-cap-height": { "dfnID": "valdef-font-size-adjust-cap-height", "dfnText": "cap-height", "external": false, "refSections": [], "url": "#valdef-font-size-adjust-cap-height" },
                "valdef-font-size-adjust-ch-width": { "dfnID": "valdef-font-size-adjust-ch-width", "dfnText": "ch-width", "external": false, "refSections": [], "url": "#valdef-font-size-adjust-ch-width" },
                "valdef-font-size-adjust-ex-height": { "dfnID": "valdef-font-size-adjust-ex-height", "dfnText": "ex-height", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-font-size-adjust-ex-height" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }], "url": "#valdef-font-size-adjust-ex-height" },
                "valdef-font-size-adjust-ex-height--cap-height--ch-width--ic-width--ic-height": { "dfnID": "valdef-font-size-adjust-ex-height--cap-height--ch-width--ic-width--ic-height", "dfnText": "ex-height | cap-height | ch-width | ic-width | ic-height", "external": false, "refSections": [], "url": "#valdef-font-size-adjust-ex-height--cap-height--ch-width--ic-width--ic-height" },
                "valdef-font-size-adjust-from-font": { "dfnID": "valdef-font-size-adjust-from-font", "dfnText": "from-font", "external": false, "refSections": [], "url": "#valdef-font-size-adjust-from-font" },
                "valdef-font-size-adjust-ic-height": { "dfnID": "valdef-font-size-adjust-ic-height", "dfnText": "ic-height", "external": false, "refSections": [], "url": "#valdef-font-size-adjust-ic-height" },
                "valdef-font-size-adjust-ic-width": { "dfnID": "valdef-font-size-adjust-ic-width", "dfnText": "ic-width", "external": false, "refSections": [], "url": "#valdef-font-size-adjust-ic-width" },
                "valdef-font-size-adjust-none": { "dfnID": "valdef-font-size-adjust-none", "dfnText": "none", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-font-size-adjust-none" }], "title": "2.4. \nRelative sizing: the font-size-adjust property" }], "url": "#valdef-font-size-adjust-none" },
                "valdef-font-size-adjust-number-0": { "dfnID": "valdef-font-size-adjust-number-0", "dfnText": "<number [0,\u221e]>", "external": false, "refSections": [], "url": "#valdef-font-size-adjust-number-0" },
                "valdef-superscript-position-overridedescriptor-from-font": { "dfnID": "valdef-superscript-position-overridedescriptor-from-font", "dfnText": "from-font", "external": false, "refSections": [], "url": "#valdef-superscript-position-overridedescriptor-from-font" },
                "valdef-superscript-position-overridedescriptor-normal": { "dfnID": "valdef-superscript-position-overridedescriptor-normal", "dfnText": "normal", "external": false, "refSections": [], "url": "#valdef-superscript-position-overridedescriptor-normal" },
                "valdef-superscript-position-overridedescriptor-percentage": { "dfnID": "valdef-superscript-position-overridedescriptor-percentage", "dfnText": "<percentage>", "external": false, "refSections": [], "url": "#valdef-superscript-position-overridedescriptor-percentage" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-link-titles */
        "use strict";
        {
            let linkTitleData = {
                "https://www.w3.org/TR/css-values-4/#url-value": "Expands to: local url flag",
            };

            function setTypeTitles() {
                for (let el of document.querySelectorAll("a[href]")) {
                    if (el.href in linkTitleData && !el.hasAttribute("title")) {
                        el.setAttribute("title", linkTitleData[el.href]);
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", setTypeTitles);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#at-font-face-rule": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "@font-face", "type": "at-rule", "url": "#at-font-face-rule" },
                "#color-font-tech-values": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "<color-font-tech>", "type": "type", "url": "#color-font-tech-values" },
                "#descdef-font-face-ascent-override": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "ascent-override", "type": "descriptor", "url": "#descdef-font-face-ascent-override" },
                "#descdef-font-face-descent-override": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "descent-override", "type": "descriptor", "url": "#descdef-font-face-descent-override" },
                "#descdef-font-face-font-size": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "font-size", "type": "descriptor", "url": "#descdef-font-face-font-size" },
                "#descdef-font-face-line-gap-override": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "line-gap-override", "type": "descriptor", "url": "#descdef-font-face-line-gap-override" },
                "#descdef-font-face-size-adjust": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "size-adjust", "type": "descriptor", "url": "#descdef-font-face-size-adjust" },
                "#descdef-font-face-subscript-position-override": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "subscript-position-override", "type": "descriptor", "url": "#descdef-font-face-subscript-position-override" },
                "#descdef-font-face-subscript-size-override": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "subscript-size-override", "type": "descriptor", "url": "#descdef-font-face-subscript-size-override" },
                "#descdef-font-face-superscript-position-override": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "superscript-position-override", "type": "descriptor", "url": "#descdef-font-face-superscript-position-override" },
                "#descdef-font-face-superscript-size-override": { "export": true, "for_": ["@font-face"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "superscript-size-override", "type": "descriptor", "url": "#descdef-font-face-superscript-size-override" },
                "#font-features-tech-values": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "<font-features-tech>", "type": "type", "url": "#font-features-tech-values" },
                "#font-format-values": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "<font-format>", "type": "type", "url": "#font-format-values" },
                "#font-size-adjust-aspect-value": { "export": true, "for_": ["font-size-adjust"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "aspect value", "type": "dfn", "url": "#font-size-adjust-aspect-value" },
                "#font-tech-values": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "<font-tech>", "type": "type", "url": "#font-tech-values" },
                "#propdef-font-size-adjust": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "font-size-adjust", "type": "property", "url": "#propdef-font-size-adjust" },
                "#valdef-font-size-adjust-ex-height": { "export": true, "for_": ["font-size-adjust"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "ex-height", "type": "value", "url": "#valdef-font-size-adjust-ex-height" },
                "#valdef-font-size-adjust-none": { "export": true, "for_": ["font-size-adjust"], "level": "5", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-5", "status": "local", "text": "none", "type": "value", "url": "#valdef-font-size-adjust-none" },
                "https://drafts.csswg.org/css-writing-modes-4/#typeset-upright": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "current", "text": "typesetting upright", "type": "dfn", "url": "https://drafts.csswg.org/css-writing-modes-4/#typeset-upright" },
                "https://drafts.csswg.org/css-writing-modes-4/#vertical-typographic-mode": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "current", "text": "vertical typographic mode", "type": "dfn", "url": "https://drafts.csswg.org/css-writing-modes-4/#vertical-typographic-mode" },
                "https://drafts.csswg.org/css2/#propdef-line-height": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css", "spec": "css22", "status": "current", "text": "line-height", "type": "property", "url": "https://drafts.csswg.org/css2/#propdef-line-height" },
                "https://www.w3.org/TR/css-cascade-5/#computed-value": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "computed value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#computed-value" },
                "https://www.w3.org/TR/css-cascade-5/#used-value": { "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "used value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#used-value" },
                "https://www.w3.org/TR/css-display-3/#inline-level": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-display", "spec": "css-display-3", "status": "snapshot", "text": "inline-level", "type": "dfn", "url": "https://www.w3.org/TR/css-display-3/#inline-level" },
                "https://www.w3.org/TR/css-fonts-4/#descdef-font-face-src": { "export": true, "for_": ["@font-face"], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "src", "type": "descriptor", "url": "https://www.w3.org/TR/css-fonts-4/#descdef-font-face-src" },
                "https://www.w3.org/TR/css-fonts-4/#family-name-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "<family-name>", "type": "type", "url": "https://www.w3.org/TR/css-fonts-4/#family-name-value" },
                "https://www.w3.org/TR/css-fonts-4/#first-available-font": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "first available font", "type": "dfn", "url": "https://www.w3.org/TR/css-fonts-4/#first-available-font" },
                "https://www.w3.org/TR/css-fonts-4/#propdef-font-family": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "font-family", "type": "property", "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-family" },
                "https://www.w3.org/TR/css-fonts-4/#propdef-font-language-override": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "font-language-override", "type": "property", "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-language-override" },
                "https://www.w3.org/TR/css-fonts-4/#propdef-font-optical-sizing": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "font-optical-sizing", "type": "property", "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-optical-sizing" },
                "https://www.w3.org/TR/css-fonts-4/#propdef-font-size": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "font-size", "type": "property", "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-size" },
                "https://www.w3.org/TR/css-fonts-4/#propdef-font-style": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "font-style", "type": "property", "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-style" },
                "https://www.w3.org/TR/css-fonts-4/#propdef-font-variant-position": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "font-variant-position", "type": "property", "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-variant-position" },
                "https://www.w3.org/TR/css-fonts-4/#propdef-font-weight": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-fonts", "spec": "css-fonts-4", "status": "snapshot", "text": "font-weight", "type": "property", "url": "https://www.w3.org/TR/css-fonts-4/#propdef-font-weight" },
                "https://www.w3.org/TR/css-inline-3/#ascent-metric": { "export": false, "for_": [], "level": "3", "normative": true, "shortname": "css-inline", "spec": "css-inline-3", "status": "snapshot", "text": "ascent metric", "type": "dfn", "url": "https://www.w3.org/TR/css-inline-3/#ascent-metric" },
                "https://www.w3.org/TR/css-inline-3/#descent-metric": { "export": false, "for_": [], "level": "3", "normative": true, "shortname": "css-inline", "spec": "css-inline-3", "status": "snapshot", "text": "descent metric", "type": "dfn", "url": "https://www.w3.org/TR/css-inline-3/#descent-metric" },
                "https://www.w3.org/TR/css-inline-3/#line-gap-metric": { "export": false, "for_": [], "level": "3", "normative": true, "shortname": "css-inline", "spec": "css-inline-3", "status": "snapshot", "text": "line gap metric", "type": "dfn", "url": "https://www.w3.org/TR/css-inline-3/#line-gap-metric" },
                "https://www.w3.org/TR/css-text-decor-4/#propdef-text-decoration-thickness": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-text-decor", "spec": "css-text-decor-4", "status": "snapshot", "text": "text-decoration-thickness", "type": "property", "url": "https://www.w3.org/TR/css-text-decor-4/#propdef-text-decoration-thickness" },
                "https://www.w3.org/TR/css-text-decor-4/#propdef-text-underline-offset": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-text-decor", "spec": "css-text-decor-4", "status": "snapshot", "text": "text-underline-offset", "type": "property", "url": "https://www.w3.org/TR/css-text-decor-4/#propdef-text-underline-offset" },
                "https://www.w3.org/TR/css-text-decor-4/#valdef-text-decoration-thickness-from-font": { "export": true, "for_": ["text-decoration-thickness"], "level": "4", "normative": true, "shortname": "css-text-decor", "spec": "css-text-decor-4", "status": "snapshot", "text": "from-font", "type": "value", "url": "https://www.w3.org/TR/css-text-decor-4/#valdef-text-decoration-thickness-from-font" },
                "https://www.w3.org/TR/css-values-4/#ch": { "export": true, "for_": ["<length>"], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "ch", "type": "value", "url": "https://www.w3.org/TR/css-values-4/#ch" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-values-4/#css-wide-keywords": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "css-wide keywords", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#css-wide-keywords" },
                "https://www.w3.org/TR/css-values-4/#em": { "export": true, "for_": ["<length>"], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "em", "type": "value", "url": "https://www.w3.org/TR/css-values-4/#em" },
                "https://www.w3.org/TR/css-values-4/#ex": { "export": true, "for_": ["<length>"], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "ex", "type": "value", "url": "https://www.w3.org/TR/css-values-4/#ex" },
                "https://www.w3.org/TR/css-values-4/#font-relative-length": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "font-relative lengths", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#font-relative-length" },
                "https://www.w3.org/TR/css-values-4/#mult-num-range": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "{a,b}", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-num-range" },
                "https://www.w3.org/TR/css-values-4/#mult-opt": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "?", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#mult-opt" },
                "https://www.w3.org/TR/css-values-4/#number-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<number>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#number-value" },
                "https://www.w3.org/TR/css-values-4/#percentage-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<percentage>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#percentage-value" },
                "https://www.w3.org/TR/css-values-4/#string-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<string>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#string-value" },
                "https://www.w3.org/TR/css-values-4/#url-value": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<url>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#url-value" },
                "https://www.w3.org/TR/css-writing-modes-4/#block-axis": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "block axis", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#block-axis" },
                "https://www.w3.org/TR/css-writing-modes-4/#typographic-mode": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "typographic mode", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#typographic-mode" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.text != linkText) {
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.text)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const ref = refsData[url];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-wpt */
        "use strict";
        {
            let wptData = {
                "paths": ["/css/css-fonts/"],
            };

            document.addEventListener("DOMContentLoaded", async () => {
                if (wptData.paths.length == 0) return;

                const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
                const runs = await (await fetch(runsUrl)).json();

                let testResults = [];
                for (const pathPrefix of wptData.paths) {
                    const pathResults = await (await fetch("https://wpt.fyi/api/search", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            "run_ids": runs.map(x => x.id),
                            "query": { "path": pathPrefix },
                        })
                    })).json();
                    testResults = testResults.concat(pathResults.results);
                }

                const browsers = runs.map(x => ({ name: x.browser_name, version: x.browser_version, passes: 0, total: 0 }));
                const resultsFromPath = new Map(testResults.map(result => {
                    const testPath = result.test;
                    const passes = result.legacy_status.map(x => [x.passes, x.total]);
                    return [testPath, passes];
                }));
                const seenTests = new Set();
                document.querySelectorAll(".wpt-name").forEach(nameEl => {
                    const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
                    if (!passData) {
                        console.log("Couldn't find test in results:", nameEl);
                        return
                    }
                    const numTests = passData[0][1];
                    if (numTests > 1) {
                        nameEl.insertAdjacentElement("beforeend",
                            mk.small({}, ` (${numTests} tests)`));
                    }
                    if (passData == undefined) return;
                    const resultsEl = mk.span({ "class": "wpt-results" },
                        ...passData.map((p, i) => mk.span(
                            {
                                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                                "class": "wpt-result",
                                "style": `background: conic-gradient(forestgreen ${p[0] / p[1] * 360}deg, darkred 0deg);`,
                            })),
                    );
                    nameEl.insertAdjacentElement("afterend", resultsEl);

                    // Only update the summary pass/total count if we haven't seen this
                    // test before, to support authors listing the same test multiple times
                    // in a spec.
                    if (!seenTests.has(nameEl.getAttribute("title"))) {
                        seenTests.add(nameEl.getAttribute("title"));
                        passData.forEach((p, i) => {
                            browsers[i].passes += p[0];
                            browsers[i].total += p[1];
                        });
                    }
                });
                const overview = document.querySelector(".wpt-overview");
                if (overview) {
                    overview.appendChild(mk.ul({}, ...browsers.map(formatWptResult)));
                    document.head.appendChild(mk.style({},
                        `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
                }
            });

            function formatWptResult({ name, version, passes, total }) {
                const passRate = passes / total;
                let passClass = "";
                if (passRate == 0) passClass = "passes-none";
                else if (passRate < .2) passClass = "passes-hardly";
                else if (passRate < .4) passClass = "passes-a-few";
                else if (passRate < .6) passClass = "passes-half";
                else if (passRate < .8) passClass = "passes-lots";
                else if (passRate < 1) passClass = "passes-most";
                else passClass = "passes-all";

                name = name[0].toUpperCase() + name.slice(1);
                const shortVersion = /^\d+/.exec(version);
                const icon = []

                if (name == "Chrome") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/chrome_64x64.png" }));
                if (name == "Edge") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/edge_64x64.png" }));
                if (name == "Safari") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/safari_64x64.png" }));
                if (name == "Firefox") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/firefox_64x64.png" }));

                return mk.li({ "class": passClass },
                    mk.nobr({ 'class': 'browser' }, ...icon, ` ${name} ${shortVersion}`),
                    mk.br(),
                    mk.nobr({ 'class': 'pass-rate' }, `${passes}/${total}`)
                );
            }
        }
    </script>
    <script src="/dropdown.js"></script>