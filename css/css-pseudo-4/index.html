<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 伪元素模块 第 4 级</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version fb1e763a4, updated Tue Mar 1 13:13:50 2022 -0800" name="generator">
    <link href="https://www.w3.org/TR/css-pseudo-4/" rel="canonical">
    <meta content="126df570aed76255215c0254b11d4c4cc5252f7f" name="document-revision">
    <script defer src="https://test.csswg.org/harness/annotate.js#!css-pseudo-4_dev/css-pseudo-4"></script>
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-issues */

        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-railroad */

        :root {
            --railroad-bg: hsl(30, 20%, 95%);
            --railroad-stroke: black;
            --railroad-fill: hsl(120, 100%, 90%);
        }

        svg.railroad-diagram {
            background-color: var(--railroad-bg);
        }

        svg.railroad-diagram path {
            stroke-width: 3px;
            stroke: var(--railroad-stroke);
            fill: transparent;
        }

        svg.railroad-diagram text {
            font: bold 14px monospace;
            fill: var(--text, currentcolor);
            text-anchor: middle;
        }

        svg.railroad-diagram text.label {
            text-anchor: start;
        }

        svg.railroad-diagram text.comment {
            font: italic 12px monospace;
        }

        svg.railroad-diagram rect {
            stroke-width: 3px;
            stroke: var(--railroad-stroke);
            fill: var(--railroad-fill);
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <style>
        /* style-var-click-highlighting */

        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"></a></p>
        <h1 class="p-name no-ref" id="title">CSS 伪元素模块 第 4 级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 工作草案</a>, <time class="dt-updated" datetime="2022-12-30">2022年12月30日</time></p>
        <details open>
            <summary>关于本文档的更多细节</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>该版本：
                    <dd><a class="u-url" href="https://www.w3.org/TR/2022/WD-css-pseudo-4-20221230/">https://www.w3.org/TR/2022/WD-css-pseudo-4-20221230/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/css-pseudo-4/">https://www.w3.org/TR/css-pseudo-4/</a>
                    <dt>编辑草案：
                    <dd><a href="https://drafts.csswg.org/css-pseudo-4/">https://drafts.csswg.org/css-pseudo-4/</a>
                    <dt>以前的版本：
                    <dd><a href="https://www.w3.org/TR/2020/WD-css-pseudo-4-20201231/" rel="prev">https://www.w3.org/TR/2020/WD-css-pseudo-4-20201231/</a>
                    <dd><a href="https://www.w3.org/TR/2019/WD-css-pseudo-4-20190225/" rel="prev">https://www.w3.org/TR/2019/WD-css-pseudo-4-20190225/</a>
                    <dd><a href="https://www.w3.org/TR/2016/WD-css-pseudo-4-20160607/" rel="prev">https://www.w3.org/TR/2016/WD-css-pseudo-4-20160607/</a>
                    <dd><a href="https://www.w3.org/TR/2015/WD-css-pseudo-4-20150115/" rel="prev">https://www.w3.org/TR/2015/WD-css-pseudo-4-20150115/</a>
                    <dt>历史记录：
                    <dd><a class="u-url" href="https://www.w3.org/standards/history/css-pseudo-4">https://www.w3.org/standards/history/css-pseudo-4</a>
                    <dt>测试套件：
                    <dd><a href="http://test.csswg.org/suites/css-pseudo-4_dev/nightly-unstable/">http://test.csswg.org/suites/css-pseudo-4_dev/nightly-unstable/</a>
                    <dd class="wpt-overview"><a href="https://wpt.fyi/results/css/css-pseudo/">https://wpt.fyi/results/css/css-pseudo/</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-pseudo-4">CSSWG 问题存储库</a>
                    <dd><a href="#issues-index">文档内联</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="13329"><span class="p-name fn">Daniel Glazman</span> (<span class="p-org org">Disruptive Innovations</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url" href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span class="p-org org">受邀专家</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="46659"><a class="p-name fn u-email email" href="mailto:stearns@adobe.com">Alan Stearns</a> (<span class="p-org org">Adobe Systems Inc.</span>)
                    <dt>建议对本规范进行编辑：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-pseudo-4/Overview.bs">GitHub 编辑器</a>
                    <dt>问题列表：
                    <dd><a href="https://drafts.csswg.org/css-pseudo/#issues-index">编辑草案中的跟踪</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">版权</a> © 2022 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="麻省理工学院">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="欧洲信息和数学研究联盟">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">庆应大学</a>, <a href="https://ev.buaa.edu.cn/">北航</a>)。W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">责任</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">商标</a>及<a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">宽松的文档许可</a>规则适用。</p>
        <hr title="标题分隔线">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本 CSS 模块定义了伪元素，即表示 CSS 渲染树部分的抽象元素，可以被选择和样式化。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（例如 HTML 和 XML）在屏幕、纸张等上渲染的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。当前的 W3C 发布物列表及本技术报告的最新版本可以在
                <a href="https://www.w3.org/TR/">https://www.w3.org/TR/</a> 中找到。</em></p>
        <p>本文件由 <a href="https://www.w3.org/groups/wg/css">CSS 工作组</a> 作为<strong>工作草案</strong>发布，遵循
            <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">推荐路线</a>。发布为工作草案并不意味着
            <abbr title="万维网联盟">W3C</abbr>及其成员的认可。
        </p>
        <p>这是一个草案文档，可能随时被更新、替换或废弃。不应将本文档引用为其他内容，而仅作为工作进展。</p>
        <p>请通过<a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 中提交问题</a>（优先），在标题中包含规范代码 “css-pseudo”，如“[css-pseudo] <i>…评论摘要…</i>”。所有问题和评论均已<a href="https://lists.w3.org/Archives/Public/public-css-archive/">归档</a>。或者，反馈可以发送到(<a href="https://lists.w3.org/Archives/Public/www-style/">归档</a>)公共邮件列表<a href="mailto:www-style@w3.org?Subject=%5Bcss-pseudo%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。</p>
        <p>本文件受 <a href="https://www.w3.org/2021/Process-20211102/" id="w3c_process_revision">2021年11月2日 W3C 流程文件</a>管辖。</p>
        <p>本文件由根据 <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C 专利政策</a>运作的一个小组制作。W3C 维护了一个公开的<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">专利披露列表</a>；该页面还包含披露专利的说明。任何知道专利信息且认为该专利包含<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必要声明</a>的人，必须按照<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C 专利政策第 6 节</a>披露信息。</p>
    </div>
    <div data-fill-with="at-risk">
        <p>以下功能处于风险之中，可能在 CR 阶段被移除：</p>
        <ul>
            <li><a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix">::prefix</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix">::postfix</a> 属于 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter">::first-letter</a> 的子元素。</li>
        </ul>
        <p>“风险”是 W3C 流程中的术语，并不一定意味着该功能有被移除或推迟的危险。这意味着工作组认为该功能可能难以在规定时间内互操作实现，并将其标记为风险，以便在必要时可以在过渡到推荐提案阶段时移除该功能，而无需先发布不包含该功能的新候选推荐。</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">简介</span></a></li>
            <li><a href="#typographic-pseudos"><span class="secno">2</span> <span class="content">排版伪元素</span></a>
                <ol class="toc">
                    <li><a href="#first-line-pseudo"><span class="secno">2.1</span> <span class="content">第一行文本: <span class="css">::first-line</span> 伪元素</span></a>
                        <ol class="toc">
                            <li><a href="#first-text-line"><span class="secno">2.1.1</span> <span class="content">找到第一格式化行</span></a></li>
                            <li><a href="#first-line-styling"><span class="secno">2.1.2</span> <span class="content">为 <span class="css">::first-line</span> 伪元素设置样式</span></a></li>
                            <li><a href="#first-line-inheritance"><span class="secno">2.1.3</span> <span class="content">继承与 <span class="css">::first-line</span> 伪元素</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#first-letter-pseudo"><span class="secno">2.2</span> <span class="content">第一字母文本: <span class="css">::first-letter</span> 伪元素及其 <span class="css">::prefix</span> 和 <span class="css">::postfix</span> 子元素</span></a>
                        <ol class="toc">
                            <li><a href="#first-letter-pattern"><span class="secno">2.2.1</span> <span class="content">第一字母及关联标点</span></a></li>
                            <li><a href="#first-letter-application"><span class="secno">2.2.2</span> <span class="content">找到第一字母文本</span></a></li>
                            <li><a href="#first-letter-tree"><span class="secno">2.2.3</span> <span class="content">第一字母伪元素的继承与框树结构</span></a></li>
                            <li><a href="#first-letter-styling"><span class="secno">2.2.4</span> <span class="content">为第一字母伪元素设置样式</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li><a href="#highlight-pseudos"><span class="secno">3</span> <span class="content">高亮伪元素</span></a>
                <ol class="toc">
                    <li><a href="#highlight-selectors"><span class="secno">3.1</span> <span class="content">选择高亮内容: <span class="css">::selection</span>, <span class="css">::target-text</span>, <span class="css">::spelling-error</span>, 和 <span class="css">::grammar-error</span> 伪元素</span></a></li>
                    <li><a href="#highlight-styling"><span class="secno">3.2</span> <span class="content">设置高亮样式</span></a></li>
                    <li><a href="#highlight-ua-styles"><span class="secno">3.3</span> <span class="content">默认用户代理样式</span></a>
                        <ol class="toc">
                            <li><a href="#paired-defaults"><span class="secno">3.3.1</span> <span class="content">配对默认样式</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#highlight-bounds"><span class="secno">3.4</span> <span class="content">高亮区域</span></a></li>
                    <li><a href="#highlight-cascade"><span class="secno">3.5</span> <span class="content">高亮样式的层叠与每元素样式</span></a></li>
                    <li><a href="#highlight-painting"><span class="secno">3.6</span> <span class="content">绘制高亮</span></a>
                        <ol class="toc">
                            <li><a href="#highlight-backgrounds"><span class="secno">3.6.1</span> <span class="content">背景</span></a></li>
                            <li><a href="#highlight-shadows"><span class="secno">3.6.2</span> <span class="content">阴影</span></a></li>
                            <li><a href="#highlight-text"><span class="secno">3.6.3</span> <span class="content">文本与文本装饰</span></a></li>
                            <li><a href="#highlight-replaced"><span class="secno">3.6.4</span> <span class="content">替换元素</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#highlight-security"><span class="secno">3.7</span> <span class="content">安全与隐私考虑</span></a></li>
                </ol>
            </li>
            <li><a href="#treelike"><span class="secno">4</span> <span class="content">树形伪元素</span></a>
                <ol class="toc">
                    <li><a href="#generated-content"><span class="secno">4.1</span> <span class="content">生成内容伪元素: <span class="css">::before</span> 和 <span class="css">::after</span></span></a></li>
                    <li><a href="#marker-pseudo"><span class="secno">4.2</span> <span class="content">列表标记: <span class="css">::marker</span> 伪元素</span></a></li>
                    <li><a href="#placeholder-pseudo"><span class="secno">4.3</span> <span class="content">占位符输入: <span class="css">::placeholder</span> 伪元素</span></a></li>
                    <li><a href="#file-selector-button-pseudo"><span class="secno">4.4</span> <span class="content">文件选择按钮: <span class="css">::file-selector-button</span> 伪元素</span></a></li>
                </ol>
            </li>
            <li><a href="#interactions"><span class="secno">5</span> <span class="content">伪元素交互</span></a></li>
            <li><a href="#cssom"><span class="secno">6</span> <span class="content">CSS 对象模型的扩展</span></a>
                <ol class="toc">
                    <li><a href="#CSSPseudoElement-interface"><span class="secno">6.1</span> <span class="content"><code class="idl"><span>CSSPseudoElement</span></code> 接口</span></a></li>
                    <li><a href="#window-interface"><span class="secno">6.2</span> <span class="content"> <code class="idl"><span>pseudo()</span></code> 方法的 <code class="idl"><span>Element</span></code> 接口</span></a></li>
                    <li><a href="#getComputedStyle"><span class="secno">6.3</span> <span class="content"> <code class="idl"><span>getComputedStyle()</span></code></span></a></li>
                </ol>
            </li>
            <li><a href="#css2-compat"><span class="secno">7</span> <span class="content">CSS2 兼容性语法</span></a></li>
            <li><a href="#changes"><span class="secno"></span> <span class="content">更改记录</span></a></li>
            <li><a href="#acknowledgements"><span class="secno"></span> <span class="content">致谢</span></a></li>
            <li><a href="#w3c-conformance"><span class="secno"></span> <span class="content">合规性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a></li>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">合规性类别</span></a></li>
                    <li><a href="#w3c-partial"><span class="secno"></span> <span class="content">部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content">不稳定及专有特性的实现</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">非实验性实现</span></a></li>
                </ol>
            </li>
            <li><a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">本规范定义的术语</span></a></li>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">引用定义的术语</span></a></li>
                </ol>
            </li>
            <li><a href="#references"><span class="secno"></span> <span class="content">参考资料</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a></li>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">信息性引用</span></a></li>
                </ol>
            </li>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a></li>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a></li>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">介绍</span><a class="self-link" href="#intro"></a></h2>
        <p><em>本节为信息性内容。</em></p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element">伪元素</a>代表文档中超出文档语言显式创建的抽象元素。由于它们不受限于适应文档树结构，可以用于选择和样式化文档中不一定映射到文档树结构的部分。例如，<a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line">::first-line</a>伪元素可以在元素的第一行格式化文本中进行选择，并在文本换行后只为该行应用不同的样式。</p>
        <p>每个伪元素与一个<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element">源元素</a>相关联，并具有 <span class="css">::伪元素名称</span> 形式的语法。本模块定义了 CSS 中存在的伪元素及其样式化方式。有关伪元素的一般信息及其语法与其他<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#selector" id="ref-for-selector">选择器</a>的交互，请参阅 <a data-link-type="biblio" href="#biblio-selectors-4">[SELECTORS-4]</a>。</p>

        <h2 class="heading settled" data-level="2" id="typographic-pseudos"><span class="secno">2. </span><span class="content">排版伪元素</span><a class="self-link" href="#typographic-pseudos"></a></h2>

        <h3 class="heading settled" data-level="2.1" id="first-line-pseudo"><span class="secno">2.1. </span><span class="content">第一行文本: <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①">::first-line</a>伪元素</span><a class="self-link" href="#first-line-pseudo"></a></h3>

        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-first-line">::first-line</dfn><a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①">伪元素</a>代表其<a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line">源元素</a>的第一行格式化文本的内容。</p>

        <div class="example" id="example-fb83f35a">
            <a class="self-link" href="#example-fb83f35a"></a> 以下规则的意思是“将每个 <code class="highlight">p</code> 元素的第一行字母变为大写”：
            <pre class="lang-css highlight"><c- k>p</c-><c- p>:</c->:first-line <c- p>{</c-> <c- k>text-transform</c-><c- p>:</c-> uppercase <c- p>}</c-></pre>
            <p>选择器 <span class="css">p::first-line</span> 不匹配任何实际文档元素，而是匹配用户代理会自动插入的伪元素，该伪元素位于每个 <code class="highlight">p</code> 元素的开头。</p>
        </div>

        <p class="note" role="note"><span>注意：</span> 第一行的长度取决于多个因素，包括页面宽度、字体大小等。</p>

        <div class="example" id="first-line-example">
            <a class="self-link" href="#first-line-example"></a> 例如，给定一个普通的 HTML <a data-link-type="biblio" href="#biblio-html5">[HTML5]</a> 段落如下：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>P</c-><c- p>></c->这是一个相对较长的 HTML 段落
将被分成几行。
第一行将通过 ‘::first-line’ 伪元素进行样式化。
其他行将被视为段落中的普通行。<c- p>&lt;/</c-><c- f>P</c-><c- p>></c-></pre>
            <p>根据元素的宽度，其行可能被分成如下几行：</p>
            <pre class="figure highlight">这是一个相对较长的 HTML 段落，将被分成几行。
第一行将通过 ‘::first-line’ 伪元素样式化。
其他行将被视为段落中的普通行。</pre>
            <p>或者如下几行：</p>
            <pre class="figure highlight">这是一个相对较长的 HTML 段落，
第一行将通过 ‘::first-line’ 伪元素样式化，
其他行将被视为普通行。</pre>
        </div>
        <h4 class="heading settled" data-level="2.1.1" id="first-text-line"><span class="secno">2.1.1. </span><span
        class="content">找到第一条格式化的线</span><a class="self-link"
        href="#first-text-line"></a></h4>
        <p>在 CSS 中，<a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②">::first-line</a> 伪元素
            只能在附加到 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container">块容器</a> 时生效：</p>
        <ul>
            <li data-md>
                <p>一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container①">块容器</a> 建立的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-formatting-context" id="ref-for-inline-formatting-context">内联格式上下文</a>的第一条 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="first-formatted-line">格式化的线</dfn>，代表其第一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level" id="ref-for-inline-level">内联级</a> 内容的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#line-box" id="ref-for-line-box">线框</a>。</p>
            </li>
            <li data-md>
                <p>一个包含 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-level" id="ref-for-block-level">块级</a> 内容的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container②">块容器</a> 或 <a data-link-type="dfn" href="https://www.w3.org/TR/css-multicol-1/#multi-column-container" id="ref-for-multi-column-container">多列容器</a>（且不是 <a data-link-type="dfn" href="https://www.w3.org/TR/css-tables-3/#table-wrapper-box" id="ref-for-table-wrapper-box">表格包装框</a>）的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="first-formatted-line②">第一条格式化的线</dfn> 是其第一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#in-flow" id="ref-for-in-flow">流内</a>的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-level" id="ref-for-block-level①">块级</a> 子元素的第一条格式化的线。如果不存在这样的线，那么它就没有第一条格式化的线。</p>
            </li>
        </ul>
        <p class="note" role="note"><span>注意：</span>第一条格式化的线可以是空行。例如，下面这个 <code class="highlight">p</code> 中的第一行 <code class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>br</c-><c- p>></c->First…</code> 没有任何字母。因此，“First” 这个词并不在第一条格式化的线上，并不会受到 <span class="css">p::first-line</span> 的影响。</p>
        <p class="note" role="note"><span>注意：</span> 一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container③">块容器</a> 如果本身不参与一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-formatting-context" id="ref-for-block-formatting-context">块格式化上下文</a>，那么它的第一条线不能作为其祖先元素的第一条格式化的线。例如在 <code class="lang-markup highlight"><c- p>&lt;</c-><c- f>DIV</c-><c- p>>&lt;</c-><c- f>P</c-> <c- e>STYLE</c-><c- o>=</c-><c- s>"display: inline-block"</c-><c- p>></c->Hello<c- p>&lt;</c-><c- f>BR</c-><c- p>></c->Goodbye<c- p>&lt;/</c-><c- f>P</c-><c- p>></c-> etcetera<c- p>&lt;/</c-><c- f>DIV</c-><c- p>></c-></code>，<code class="highlight">DIV</code> 的第一条格式化的线不是 “Hello” 这一行，而是包含整个内联块的那一行。</p>
        <p>当一个 <a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line⑤">第一条格式化的线</a> 被多个 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line③">::first-line</a> 伪元素表示时，它们按照其 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element②">来源元素</a> 的顺序嵌套。该行的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level" id="ref-for-inline-level①">内联级</a>内容，包括它的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#root-inline-box" id="ref-for-root-inline-box">根内联框</a> 片段，都嵌套在最内层的 <span class="css" id="ref-for-selectordef-first-line④">::first-line</span> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element②">伪元素</a> 中。</p>
        <div class="example" id="example-7499991d">
            <a class="self-link" href="#example-7499991d"></a> 请看以下标记：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>DIV</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>P</c-><c- p>></c->First paragraph<c- p>&lt;/</c-><c- f>P</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>P</c-><c- p>></c->Second paragraph<c- p>&lt;/</c-><c- f>P</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>DIV</c-><c- p>></c->
</pre>
            <p>如果我们假设一个 <a data-link-type="dfn" href="#fictional-tag-sequence" id="ref-for-fictional-tag-sequence">虚构的标签序列</a> 来表示这些元素的 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line⑤">::first-line</a> 伪元素，那么它可能是这样的：</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>DIV</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>P</c-><c- p>>&lt;</c-><c- f>DIV::first-line</c-><c- p>>&lt;</c-><c- f>P::first-line</c-><c- p>></c->First paragraph<c- p>&lt;/</c-><c- f>P::first-line</c-><c- p>>&lt;/</c-><c- f>DIV::first-line</c-><c- p>>&lt;/</c-><c- f>P</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>P</c-><c- p>>&lt;</c-><c- f>P::first-line</c-><c- p>></c->Second paragraph<c- p>&lt;/</c-><c- f>P::first-line</c-><c- p>>&lt;/</c-><c- f>P</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>DIV</c-><c- p>></c->
</pre>
        </div>
        <h4 class="heading settled" data-level="2.1.2" id="first-line-styling"><span class="secno">2.1.2. </span><span
        class="content">样式化 <a class="css" data-link-type="maybe" href="#selectordef-first-line"
            id="ref-for-selectordef-first-line⑥">::first-line</a> 伪元素</span><a class="self-link"
        href="#first-line-styling"></a></h4>
        <p><a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line⑦">::first-line</a> 伪元素生成的盒子类似于一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level-box" id="ref-for-inline-level-box">内联级盒子</a>，但具有某些限制。以下 CSS 属性适用于 <span class="css" id="ref-for-selectordef-first-line⑧">::first-line</span> 伪元素：</p>
        <ul>
            <li>所有字体属性（参见 <a data-link-type="biblio" href="#biblio-css-fonts-3">[CSS-FONTS-3]</a>）
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color">color</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-opacity" id="ref-for-propdef-opacity">opacity</a> 属性（参见 <a data-link-type="biblio" href="#biblio-css-color-3">[CSS-COLOR-3]</a>）
            <li>所有背景属性（参见 <a data-link-type="biblio" href="#biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]</a>）
            <li>适用于内联元素的排版属性（参见 <a data-link-type="biblio" href="#biblio-css-text-3">[CSS-TEXT-3]</a>）
            <li>所有文本装饰属性（参见 <a data-link-type="biblio" href="#biblio-css-text-decor-3">[CSS-TEXT-DECOR-3]</a>）
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position" id="ref-for-propdef-ruby-position">ruby-position</a> 属性（参见 <a data-link-type="biblio" href="#biblio-css-ruby-1">[CSS-RUBY-1]</a>）
            <li>适用于内联元素的内联布局属性（参见 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a>）
            <li>其他规范中定义的适用于 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line⑨">::first-line</a> 的任何其他属性
        </ul>
        <p>用户代理也可以应用其他属性，除了以下排除的属性：</p>
        <ul>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode" id="ref-for-propdef-writing-mode">writing-mode</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction">direction</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation" id="ref-for-propdef-text-orientation">text-orientation</a>
        </ul>
        <p class="note" role="note"><span>注意：</span> 在 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height" id="ref-for-propdef-line-height">line-height</a> 应用于 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⓪">::first-line</a> 时，会继承到包裹第一行内容的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#root-inline-box" id="ref-for-root-inline-box①">根内联框</a> 片段，因此可以增大或减小第一行盒子的高度。</p>

        <h4 class="heading settled" data-level="2.1.3" id="first-line-inheritance"><span class="secno">2.1.3.
    </span><span class="content">继承和 <a class="css" data-link-type="maybe"
        href="#selectordef-first-line" id="ref-for-selectordef-first-line①①">::first-line</a> 伪元素</span><a class="self-link" href="#first-line-inheritance"></a></h4>
        <p>在 CSS <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inheritance" id="ref-for-inheritance">继承</a> 期间，出现在第一行的子元素的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#box-fragment" id="ref-for-box-fragment">片段</a> 会继承自 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①②">::first-line</a> 伪元素的标准 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inherited-property" id="ref-for-inherited-property">继承属性</a>（上述排除的属性除外）。对于其他属性，包括所有 <a data-link-type="dfn" href="https://www.w3.org/TR/css-variables-1/#custom-property" id="ref-for-custom-property">自定义属性</a> <a data-link-type="biblio" href="#biblio-css-variables-1">[CSS-VARIABLES-1]</a>，则从非伪元素的父元素继承。（子元素不出现在第一行的部分，总是从非伪元素的父元素继承。）</p>
        <div class="example" id="example-62ec3857">
            <a class="self-link" href="#example-62ec3857"></a> 在常见的情况（标准的继承 CSS 属性）下，可以通过写出 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fictional-tag-sequence">虚构标签序列</dfn> 来理解 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①③">::first-line</a> 伪元素的继承。例如前面的示例，在第一次渲染时，虚构的标签序列可能是：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>P</c-><c- p>></c-><strong><c- p>&lt;</c-><c- f>p::first-line</c-><c- p>></c-></strong>This is a somewhat long HTML paragraph
that<strong><c- p>&lt;/</c-><c- f>p::first-line</c-><c- p>></c-></strong> will be broken into several lines.
The first line will be styled
by the ‘::first-line’ pseudo-element.
The other lines will be treated
as ordinary lines in the paragraph.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
            <p>而在第二次渲染中：</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c-><strong><c- p>&lt;</c-><c- f>p::first-line</c-><c- p>></c-></strong>This is a somewhat long<strong><c- p>&lt;/</c-><c- f>p::first-line</c-><c- p>></c-></strong> HTML paragraph
that will be broken into several lines.
The first line will be styled
by the ‘::first-line’ pseudo-element.
The other lines will be treated
as ordinary lines in the paragraph.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
        </div>

        <div class="example" id="example-fce77ea8">
            <a class="self-link" href="#example-fce77ea8"></a> 如果伪元素打破了一个实际元素的结构，通常可以通过虚构的标签序列来描述这种效果，该序列会关闭并重新打开该元素。例如我们在之前的示例中标记了一个包含第一句话的 <code class="highlight">span</code> 元素：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c-><strong><c- p>&lt;</c-><c- f>span</c-><c- p>></c-></strong>This is a somewhat long HTML paragraph
that will be broken into several lines.<strong><c- p>&lt;/</c-><c- f>span</c-><c- p>></c-></strong>
The first line will be styled
by the ‘::first-line’ pseudo-element.
The other lines will be treated
as ordinary lines in the paragraph.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
            <p>第一次渲染的效果类似于以下虚构的标签序列：</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c-><strong><c- p>&lt;</c-><c- f>p::first-line</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>></c-></strong>This is a somewhat long HTML paragraph
that<strong><c- p>&lt;/</c-><c- f>span</c-><c- p>>&lt;/</c-><c- f>p::first-line</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>></c-></strong> will be broken into several lines.<strong><c- p>&lt;/</c-><c- f>span</c-><c- p>></c-></strong>
The first line will be styled
by the ‘::first-line’ pseudo-element.
The other lines will be treated
as ordinary lines in the paragraph.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
        </div>
        <h3 class="heading settled" data-level="2.2" id="first-letter-pseudo"><span class="secno">2.2. </span><span class="content">首字母文本：<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①">::first-letter</a> 伪元素及其 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix①">::prefix</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix①">::postfix</a> 子元素</span><a class="self-link" href="#first-letter-pseudo"></a></h3>
        <div class="figure">
            <img alt="首字母的首字放大效果，包括前面的开头引号。" height="72" src="https://www.w3.org/TR/css-pseudo-4/images/first-letter2.gif" width="114">
        </div>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-first-letter">::first-letter</dfn> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element③">伪元素</a> 代表 <code class="highlight">L*</code>、<code class="highlight">N*</code> 或 <code class="highlight">S*</code> （Unicode 类别）中的首个字母、数字或符号 <a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#typographic-character-unit" id="ref-for-typographic-character-unit">排版字符单元</a>，出现在其 <a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line⑥">首个格式化行</a>的 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element③">原始元素</a>（即 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="first-letter">首字母</dfn>）及其关联的标点符号。这部分文本统称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="first-letter-text">首字母文本</dfn>。<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②">::first-letter</a> 伪元素可以用于创建“首字放大”和“悬挂字母”效果，这是常见的排版效果。</p>
        <div class="example" id="example-2abd34c5">
            <a class="self-link" href="#example-2abd34c5"></a> 例如，以下规则在每个紧跟在二级标题后的段落中创建一个两行的悬挂字母，使用 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-inline-3/#propdef-initial-letter" id="ref-for-propdef-initial-letter">initial-letter</a> 属性，该属性在 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a> 中定义：
            <pre class="lang-css highlight">h2 + p::first-letter <c- p>{</c-> <c- k>initial-letter</c-><c- p>:</c-> <c- m>3</c-><c- p>;</c-> <c- p>}</c-></pre>
        </div>
        <p class="note" role="note"><span>注意：</span><a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter">首字母</a> 实际上也可以是数字，例如：“67 million dollars is a lot of money.” 中的“6”。</p>
        <p>为了允许独立样式化 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter①">首字母</a> 及其相邻的标点符号，相关的前置标点由 <dfn class="dfn-paneled css" data-dfn-for="::first-letter" data-dfn-type="selector" data-export id="selectordef-first-letter-prefix">::prefix</dfn> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element">子伪元素</a> 代表，而相关的后置标点则由 <dfn class="dfn-paneled css" data-dfn-for="::first-letter" data-dfn-type="selector" data-export id="selectordef-first-letter-postfix">::postfix</dfn> 代表（即 <span class="css">::first-letter::postfix</span>）。详见 <a href="#first-letter-pattern">§ 2.2.1 首字母和相关标点符号</a>。
        </p>
        <h4 class="heading settled" data-level="2.2.1" id="first-letter-pattern"><span class="secno">2.2.1. </span><span
                class="content">首字母及其关联的标点符号</span><a class="self-link"
                href="#first-letter-pattern"></a></h4>
        <p>如<a href="https://www.w3.org/TR/css-text-3/#characters"><cite>CSS Text 3</cite> § 1.4 字符和字母</a>中所述，<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#typographic-character-unit" id="ref-for-typographic-character-unit①">排版字符单元</a>可以包含多个 Unicode 码点。例如，组合字符必须与其基本字符保持在一起。另外，不同语言可能对某些字母组合有额外的处理规则。例如，在荷兰语中，如果字母组合“ij”出现在元素的开头，则这两个字母都应被视为 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter⑤">::first-letter</a> 伪元素的一部分。<a data-link-type="biblio" href="#biblio-uax29">[UAX29]</a> 在选择 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter②">首字母</a>时，UA 应根据 <span id="ref-for-selectordef-first-letter⑥">::first-letter</span> 伪元素的 <em><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block">包含块</a></em>的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#content-language" id="ref-for-content-language">内容语言</a>调整其对 <span id="ref-for-typographic-character-unit②">排版字符单元</span>的定义，以反映首字母的传统。</p>
        <p>首字母前后的标点符号也必须作为 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text">首字母文本</a> 的一部分包含在 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter⑦">::first-letter</a> 伪元素中，具体如下：</p>
        <ul>
            <li>所有标点符号——即属于标点符号类 (<code class="highlight">P*</code>) 的字符，<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#unicode-general-category" id="ref-for-unicode-general-category">Unicode 一般类别</a> <a data-link-type="biblio" href="#biblio-uax44">[UAX44]</a>——位于 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter③">首字母</a>之前。
            <li>除开头标点和破折号以外的任何标点符号——即属于标点符号类 (<code class="highlight">P*</code>) 的字符，<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#unicode-general-category" id="ref-for-unicode-general-category①">Unicode 一般类别</a>，不包括开头标点符号 (<code class="highlight">Ps</code>) 和破折号标点符号 (<code class="highlight">Pd</code>)——位于 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter④">首字母</a>之后。
            <li>任何间隔的排版空格——即属于 <code class="highlight">Zs</code> 类别的字符，<a data-link-type="biblio" href="#biblio-uax44">[UAX44]</a>，但不包括 U+3000 全角空格或任何<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#word-separator" id="ref-for-word-separator">单词分隔符</a>字符。
        </ul>
        <div class="note" role="note">
            非正式表示中，<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①">首字母文本</a>的模式可以大致表示为 (忽略 <code class="highlight">Zs</code> 中不包括单词分隔符的部分)，如下所示：
            <code class="highlight" style="font-family: inherit"> (P (Zs|P)*)? (L<var>N</var>) ((Zs|P−(Ps|Pd))* (P−(Ps|Pd))? </code> 或者，<code class="highlight" style="font-family: inherit"> ([P] [Zs P]*)? [L N S] ([Zs [P--[Ps Pd]]]* [P--[Ps Pd]])? </code>
            <p class="issue" id="issue-14a38cf3"><a class="self-link" href="#issue-14a38cf3"></a> Bikeshed 在此处<a href="https://github.com/tabatkins/bikeshed/issues/2202">省略标点符号</a>，这并不理想。</p>
            <div class="railroad">
                <svg class="railroad-diagram" height="139" viewBox="0 0 760 139" width="760">
                    <g transform="translate(.5 .5)">
                        <path d="M 20 38 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path>
                        <g>
                            <path d="M40 48h0"></path>
                            <path d="M254 48h0"></path>
                            <path d="M40 48a10 10 0 0 0 10 -10v-8a10 10 0 0 1 10 -10"></path>
                            <g>
                                <path d="M60 20h174"></path>
                            </g>
                            <path d="M234 20a10 10 0 0 1 10 10v8a10 10 0 0 0 10 10"></path>
                            <path d="M40 48h20"></path>
                            <g>
                                <path d="M60 48h0"></path>
                                <path d="M234 48h0"></path>
                                <g class="non-terminal">
                                    <path d="M60 48h0"></path>
                                    <path d="M88 48h0"></path>
                                    <rect height="22" width="28" x="60" y="37"></rect>
                                    <text x="74" y="52">P</text>
                                </g>
                                <path d="M88 48h10"></path>
                                <g>
                                    <path d="M98 48h0"></path>
                                    <path d="M234 48h0"></path>
                                    <path d="M98 48a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path>
                                    <g>
                                        <path d="M118 28h96"></path>
                                    </g>
                                    <path d="M214 28a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path>
                                    <path d="M98 48h20"></path>
                                    <g>
                                        <path d="M118 48h0"></path>
                                        <path d="M214 48h0"></path>
                                        <path d="M118 48h10"></path>
                                        <g>
                                            <path d="M128 48h0"></path>
                                            <path d="M204 48h0"></path>
                                            <path d="M128 48h20"></path>
                                            <g class="non-terminal">
                                                <path d="M148 48h4"></path>
                                                <path d="M180 48h4"></path>
                                                <rect height="22" width="28" x="152" y="37"></rect>
                                                <text x="166" y="52">P</text>
                                            </g>
                                            <path d="M184 48h20"></path>
                                            <path d="M128 48a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
                                            <g class="non-terminal">
                                                <path d="M148 78h0"></path>
                                                <path d="M184 78h0"></path>
                                                <rect height="22" width="36" x="148" y="67"></rect>
                                                <text x="166" y="82">Zs</text>
                                            </g>
                                            <path d="M184 78a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
                                        </g>
                                        <path d="M204 48h10"></path>
                                        <path d="M128 48a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path>
                                        <g>
                                            <path d="M128 97h76"></path>
                                        </g>
                                        <path d="M204 97a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path>
                                    </g>
                                    <path d="M214 48h20"></path>
                                </g>
                            </g>
                            <path d="M234 48h20"></path>
                        </g>
                        <g>
                            <path d="M254 48h0"></path>
                            <path d="M322 48h0"></path>
                            <path d="M254 48h20"></path>
                            <g class="non-terminal">
                                <path d="M274 48h0"></path>
                                <path d="M302 48h0"></path>
                                <rect height="22" width="28" x="274" y="37"></rect>
                                <text x="288" y="52">L</text>
                            </g>
                            <path d="M302 48h20"></path>
                            <path d="M254 48a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
                            <g class="non-terminal">
                                <path d="M274 78h0"></path>
                                <path d="M302 78h0"></path>
                                <rect height="22" width="28" x="274" y="67"></rect>
                                <text x="288" y="82">N</text>
                            </g>
                            <path d="M302 78a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
                            <path d="M254 48a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path>
                            <g class="non-terminal">
                                <path d="M274 108h0"></path>
                                <path d="M302 108h0"></path>
                                <rect height="22" width="28" x="274" y="97"></rect>
                                <text x="288" y="112">S</text>
                            </g>
                            <path d="M302 108a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path>
                        </g>
                        <g>
                            <path d="M322 48h0"></path>
                            <path d="M720 48h0"></path>
                            <path d="M322 48a10 10 0 0 0 10 -10v-8a10 10 0 0 1 10 -10"></path>
                            <g>
                                <path d="M342 20h358"></path>
                            </g>
                            <path d="M700 20a10 10 0 0 1 10 10v8a10 10 0 0 0 10 10"></path>
                            <path d="M322 48h20"></path>
                            <g>
                                <path d="M342 48h0"></path>
                                <path d="M700 48h0"></path>
                                <g class="non-terminal">
                                    <path d="M342 48h0"></path>
                                    <path d="M466 48h0"></path>
                                    <rect height="22" width="124" x="342" y="37"></rect>
                                    <text x="404" y="52">P − (Ps ∪ Pd)</text>
                                </g>
                                <path d="M466 48h10"></path>
                                <g>
                                    <path d="M476 48h0"></path>
                                    <path d="M700 48h0"></path>
                                    <path d="M476 48a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path>
                                    <g>
                                        <path d="M496 28h184"></path>
                                    </g>
                                    <path d="M680 28a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path>
                                    <path d="M476 48h20"></path>
                                    <g>
                                        <path d="M496 48h0"></path>
                                        <path d="M680 48h0"></path>
                                        <path d="M496 48h10"></path>
                                        <g>
                                            <path d="M506 48h0"></path>
                                            <path d="M670 48h0"></path>
                                            <path d="M506 48h20"></path>
                                            <g class="non-terminal">
                                                <path d="M526 48h0"></path>
                                                <path d="M650 48h0"></path>
                                                <rect height="22" width="124" x="526" y="37"></rect>
                                                <text x="588" y="52">P − (Ps ∪ Pd)</text>
                                            </g>
                                            <path d="M650 48h20"></path>
                                            <path d="M506 48a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
                                            <g class="non-terminal">
                                                <path d="M526 78h44"></path>
                                                <path d="M606 78h44"></path>
                                                <rect height="22" width="36" x="570" y="67"></rect>
                                                <text x="588" y="82">Zs</text>
                                            </g>
                                            <path d="M650 78a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
                                        </g>
                                        <path d="M670 48h10"></path>
                                        <path d="M506 48a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path>
                                        <g>
                                            <path d="M506 97h164"></path>
                                        </g>
                                        <path d="M670 97a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path>
                                    </g>
                                    <path d="M680 48h20"></path>
                                </g>
                            </g>
                            <path d="M700 48h20"></path>
                        </g>
                        <path d="M 720 48 h 20 m -10 -10 v 20 m 10 -20 v 20"></path>
                    </g>
                </svg>
            </div>
        </div>
        <p>有关 <a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#typographic-character-unit" id="ref-for-typographic-character-unit③">排版字符单元</a> 及其 Unicode 属性的更多信息，请参阅<a href="https://www.w3.org/TR/css-text-3/#characters"><cite>CSS Text 3</cite> § 1.4 字符和字母</a> 和 <a href="https://www.w3.org/TR/css-text-3/#character-properties"><cite>CSS Text 3</cite> § 字符和属性</a>。<a data-link-type="biblio" href="#biblio-css-text-3">[CSS-TEXT-3]</a>
        </p>
        <h4 class="heading settled" data-level="2.2.2" id="first-letter-application"><span class="secno">2.2.2. </span><span class="content">查找首字母文本</span><a class="self-link" href="#first-letter-application"></a></h4>
        <p>与 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⑤">::first-line</a> 类似，<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter⑧">::first-letter</a> 伪元素仅在附加到<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container④">块容器</a>时才有效。其<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text②">首字母文本</a>是其<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level" id="ref-for-inline-level②">内联级别内容</a>中，参与其 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-formatting-context" id="ref-for-inline-formatting-context①">内联格式化上下文</a> 的首个<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element④">源元素</a>的 <a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line⑦">首个格式化行</a>的部分，且该行中无任何其他流内内容（如图片或内联表格）在其之前。</p>
        <p>为此，任何 <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#marker" id="ref-for-marker">标记框</a>都将被忽略，视为流外内容。然而，如果某个元素包含流内的 <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before">::before</a> 或 <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after">::after</a> 内容，<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text③">首字母文本</a> 将从该元素的内容中选择，包括生成的内容。</p>
        <div class="example" id="example-179a5087"><a class="self-link" href="#example-179a5087"></a>示例：在应用规则 <code class="lang-css highlight"><c- k>p</c-><c- p>:</c->:before <c- p>{</c-><c- k>content</c-><c- p>:</c-> <c- s>"Note: "</c-><c- p>}</c-></code> 后，选择器 <span class="css">p::first-letter</span> 匹配 “Note” 中的 "N"。</div>
        <p>如果不存在符合条件的文本，则不存在<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text④">首字母文本</a>，也不存在 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter⑨">::first-letter</a> 伪元素。</p>
        <p class="note" role="note"><span>注意：</span> 当 <a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line⑧">首行格式化行</a>为空时，<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①⓪">::first-letter</a> 不会匹配任何内容。例如，在以下 HTML 片段中：<code class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>br</c-><c- p>></c->First...</code>，首行不包含任何字母，因此 <span class="css" id="ref-for-selectordef-first-letter①①">::first-letter</span> 不会匹配任何内容，尤其不会匹配第二行的 “First” 中的 “F”。</p>
        <p class="note" role="note"><span>注意：</span> 与 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⑥">::first-line</a> 一样，不参与 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-formatting-context" id="ref-for-block-formatting-context①">块格式化上下文</a> 的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container⑤">块容器</a> 的<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text⑤">首字母文本</a>不能成为其祖先元素的 <span id="ref-for-first-letter-text⑥">首字母文本</span>。因此，在 <code class="lang-markup highlight"><c- p>&lt;</c-><c- f>DIV</c-><c- p>>&lt;</c-><c- f>P</c-> <c- e>STYLE</c-><c- o>=</c-><c- s>"display: inline-block"</c-><c- p>></c->Hello<c- p>&lt;</c-><c- f>BR</c-><c- p>></c->Goodbye<c- p>&lt;/</c-><c- f>P</c-><c- p>></c-> etcetera<c- p>&lt;/</c-><c- f>DIV</c-><c- p>></c-></code> 中，<code class="highlight">DIV</code> 的首字母不是 “H”。实际上，<code class="highlight">DIV</code> 没有首字母。</p>
        <p>任何被换行到下一行的 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text⑦">首字母文本</a>部分不再是<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①②">::first-letter</a> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑥">伪元素</a>的一部分。</p>
        <h4 class="heading settled" data-level="2.2.3" id="first-letter-tree"><span class="secno">2.2.3. </span><span class="content">首字母伪元素的继承和框架树结构</span><a class="self-link" href="#first-letter-tree"></a></h4>
        <p><a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①③">::first-letter</a> 伪元素立即包裹其代表的<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text⑧">首字母文本</a>，即使该文本位于子元素中。当 <span id="ref-for-first-letter-text⑨">首字母文本</span> 由多个 <span class="css" id="ref-for-selectordef-first-letter①④">::first-letter</span> 伪元素表示时，它们的嵌套顺序与其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element⑤">源元素</a>的嵌套顺序相同。<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inheritance" id="ref-for-inheritance②">继承</a>行为与之相符。</p>
        <div class="example" id="example-fd33f595">
            <a class="self-link" href="#example-fd33f595"></a>考虑以下标记：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>></c->The first few words<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
  and the rest of the paragraph.
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <p>如果我们假设<a data-link-type="dfn" href="#fictional-tag-sequence" id="ref-for-fictional-tag-sequence③">虚构的标签序列</a>来表示元素的<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①⑤">::first-letter</a>伪元素，它可能是这样的：</p>
            <pre class="highlight">&lt;div>
  &lt;p>&lt;span><strong>&lt;div::first-letter>&lt;p::first-letter></strong>T<strong>&lt;/…>&lt;/…></strong>he first few words&lt;/span>
  and the rest of the paragraph.
&lt;/div>
</pre>
        </div>
        <p>如果存在 <span class="css">::first-letter::prefix</span> 或 <span class="css">::first-letter::postfix</span> 伪元素，它们会嵌套在最内层的 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①⑥">::first-letter</a> 内部，并且其行为与 <span class="css" id="ref-for-selectordef-first-letter①⑦">::first-letter</span> 类似。</p>
        <div class="example" id="example-af9bfeee">
            <a class="self-link" href="#example-af9bfeee"></a> 考虑以下标记：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>></c->“The first few words<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
  and the rest of the quotation.
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-> 
</pre>
            <p>如果我们假设<a data-link-type="dfn" href="#fictional-tag-sequence" id="ref-for-fictional-tag-sequence④">虚构的标签序列</a>来表示这些元素的<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①⑧">::first-letter</a>伪元素，它可能是这样的：</p>
            <pre class="highlight">&lt;div>
  &lt;p>&lt;span>&lt;div::first-letter>&lt;p::first-letter><strong>&lt;div::first-letter::prefix>&lt;p::first-letter::prefix></strong>“<strong>&lt;/…>&lt;/…></strong>T&lt;/…>&lt;/…>he first few words&lt;/span>
  and the rest of the paragraph.
&lt;/div>
</pre>
        </div>
        <p>如果组成 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①⓪">首字母文本</a> 的字符不在同一个元素中（例如，<code class="highlight">‘T</code> 在 <code class="lang-css highlight">&lt;p>‘&lt;em>T...</code> 中），
            用户代理可以从某个元素、所有元素中，或干脆不创建这些伪元素（以及其 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix②">::prefix</a> 或 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix②">::postfix</a> 子元素，如有）。此外，如果 <span id="ref-for-first-letter-text①①">首字母文本</span> 不在行的开头（例如，由于双向重排序，或由于 <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#list-item" id="ref-for-list-item">列表项</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#marker" id="ref-for-marker①">标记</a> 具有 <a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-lists-3/#propdef-list-style-position" id="ref-for-propdef-list-style-position">list-style-position: inside</a>），
            则用户代理不需要创建这些伪元素。</p>
        <p><a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⓪">::first-letter</a> 伪元素包含在任何 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⑦">::first-line</a> 伪元素内，
            因此（可能间接）继承自 <span class="css" id="ref-for-selectordef-first-line①⑧">::first-line</span>，就像同一行中的任何 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-box" id="ref-for-inline-box">内联框</a>一样。</p>
        <h4 class="heading settled" data-level="2.2.4" id="first-letter-styling"><span class="secno">2.2.4. </span><span
                class="content"> 首字母伪元素的样式</span><a class="self-link"
                href="#first-letter-styling"></a></h4>
        <p>在 CSS 中，<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②①">::first-letter</a> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑧">伪元素</a>
            （及其 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix③">::prefix</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix③">::postfix</a> 子元素）
            类似于 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-box" id="ref-for-inline-box①">内联框</a>。
            以下属性适用于 <span class="css" id="ref-for-selectordef-first-letter②②">::first-letter</span>、<span class="css">::first-letter::prefix</span> 和 <span class="css">::first-letter::postfix</span> 伪元素：</p>
        <ul>
            <li>所有字体属性（见 <a data-link-type="biblio" href="#biblio-css-fonts-3">[CSS-FONTS-3]</a>）
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color①">color</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-opacity" id="ref-for-propdef-opacity①">opacity</a> 属性（见 <a data-link-type="biblio" href="#biblio-css-color-3">[CSS-COLOR-3]</a>）
            <li>所有背景属性（见 <a data-link-type="biblio" href="#biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]</a>）
            <li>适用于内联元素的排版属性（见 <a data-link-type="biblio" href="#biblio-css-text-3">[CSS-TEXT-3]</a>）
            <li>所有文本装饰属性（见 <a data-link-type="biblio" href="#biblio-css-text-decor-3">[CSS-TEXT-DECOR-3]</a>）
            <li>适用于内联元素的布局属性（见 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a>）
            <li>边距和内边距属性（见 <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a>）
            <li>边框属性和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow" id="ref-for-propdef-box-shadow">box-shadow</a>（见 <a data-link-type="biblio" href="#biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]</a>）
            <li>任何其他定义为适用于 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②③">::first-letter</a> 的属性，其各自的规范中有所定义
        </ul>
        <p>用户代理也可以应用其他属性。
            然而，任何未列出的属性都不得更改 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②④">::first-letter</a> 所代表的 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①②">首字母文本</a>。</p>
        <p class="note" role="note"><span>注意：</span> 在早期版本的 CSS 中，用户代理可以基于字母的形状选择行高、宽度和高度，以近似字体大小；并在执行布局时考虑字形轮廓。
            这种松散定义的"魔法"功能已被有意移除，因为它被证明对预期的用例（首字母放大和升高字母）是一个糟糕的解决方案，还引发了兼容性问题。
            参见 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-inline-3/#propdef-initial-letter" id="ref-for-propdef-initial-letter①">initial-letter</a> 在 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a> 中明确处理首字母放大和升高字母的方式。</p>
        <h2 class="heading settled" data-level="3" id="highlight-pseudos"><span class="secno">3. </span><span class="content"> 高亮伪元素</span><a class="self-link" href="#highlight-pseudos"></a>
        </h2>
        <h3 class="heading settled" data-level="3.1" id="highlight-selectors"><span class="secno">3.1. </span><span class="content"> 选择高亮内容: <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection">::selection</a>, <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text">::target-text</a>, <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error">::spelling-error</a>, 和
                <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error">::grammar-error</a> 伪元素</span><a class="self-link" href="#highlight-selectors"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="highlight pseudo-element" id="highlight-pseudo-element">高亮伪元素</dfn> 表示文档中被赋予特定状态的部分，通常通过不同的样式来向用户显示该状态。
            例如，文档的被选择部分通常会高亮显示（给定替代的背景和前景颜色，或是颜色覆盖）
            以表示它们的选中状态。
            定义了以下 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element">高亮伪元素</a>：</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-selection">::selection</dfn>
            <dd> <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection①">::selection</a> 伪元素表示文档中已被选中的部分，
                作为未来某些用户代理操作的目标或对象。
                例如，它适用于可编辑文本字段中的选中文本，
                该文本可能被复制操作复制，或被粘贴操作替换。
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-target-text">::target-text</dfn>
            <dd>
                <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text①">::target-text</a> 伪元素表示
                直接由文档 URL 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">片段</a>（如果有）直接定位的文本。
                <p class="note" role="note"><span>注意：</span> 当 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment①">URL 片段</a> 定位某个元素时，
                    可以使用 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-4/#target-pseudo" id="ref-for-target-pseudo">:target</a> 伪类来选择它，
                    但 <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text②">::target-text</a> 不匹配任何内容。
                    它只匹配由 [<span id="ref-for-concept-url-fragment②">片段</span>] 直接定位的文本。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-spelling-error">::spelling-error</dfn>
            <dd> <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error①">::spelling-error</a> 伪元素表示
                用户代理标记为拼写错误的文本部分。
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-grammar-error">::grammar-error</dfn>
            <dd> <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error①">::grammar-error</a> 伪元素表示
                用户代理标记为语法错误的文本部分。
        </dl>
        <p><a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①">高亮伪元素</a> 不一定符合元素树的结构，
            可以跨越元素边界，而不必遵循其嵌套结构。</p>
        <p class="note" role="note"><span>注意：</span> 将来的 CSS 版本可能会引入创建
            自定义高亮伪元素的方法。</p>
        <h3 class="heading settled" data-level="3.2" id="highlight-styling"><span class="secno">3.2. </span><span class="content"> Styling Highlights</span><a class="self-link" href="#highlight-styling"></a></h3>
        <p>The <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②">highlight
                pseudo-elements</a> can only be styled
            by a limited set of properties that do not affect layout
            and can be applied performantly in a highly dynamic environment—<wbr>and additionally (to ensure interoperability)
            whose rendering within the <a href="#highlight-bounds">required area</a> is not dependent on the exact (UA-determined)
            bounds
            of the <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay">highlight
                overlay</a>.
            The following properties apply to the <span id="ref-for-highlight-pseudo-element③">highlight
                pseudo-elements</span>:</p>
        <ul>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color②">color</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color">background-color</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-decoration" id="ref-for-propdef-text-decoration">text-decoration</a> and its associated properties (including <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-underline-position" id="ref-for-propdef-text-underline-position">text-underline-position</a> and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-text-decor-4/#propdef-text-underline-offset" id="ref-for-propdef-text-underline-offset">text-underline-offset</a>)
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow" id="ref-for-propdef-text-shadow">text-shadow</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color" id="ref-for-propdef-stroke-color">stroke-color</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color" id="ref-for-propdef-fill-color">fill-color</a>, and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width" id="ref-for-propdef-stroke-width">stroke-width</a>
        </ul>
        <p>The <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-adjust-1/#propdef-forced-color-adjust" id="ref-for-propdef-forced-color-adjust">forced-color-adjust</a> property cannot be set on <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element④">highlight
                pseudo-elements</a>;
            however a <span id="ref-for-highlight-pseudo-element⑤">highlight pseudo-element</span> must honor
            any <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode" id="ref-for-forced-colors-mode">forced colors mode</a> applied to its <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element⑥">originating element</a> (and is therefore subject to the control of
            the <span id="ref-for-originating-element⑦">originating element</span>’s <span class="property" id="ref-for-propdef-forced-color-adjust①">forced-color-adjust</span> value).</p>
        <p class="issue" id="issue-6ca196f5"><a class="self-link" href="#issue-6ca196f5"></a> Are there any other
            properties that should be included here?</p>
        <p class="note" role="note"><span>Note:</span> The <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color③">color</a> property
            sets the color of
            both the text
            and all line decorations (underline, overline, line-through)
            and emphasis marks (<a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis" id="ref-for-propdef-text-emphasis">text-emphasis</a>)
            applied to the text
            by the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element⑧">originating element</a> and its ancestors and descendants.</p>
        <p class="note" role="note"><span>Note:</span> Historically (and at the time of writing)
            only <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color④">color</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color①">background-color</a> have been interoperably supported.</p>
        <h3 class="heading settled" data-level="3.3" id="highlight-ua-styles"><span class="secno">3.3. </span><span class="content"> Default UA Styles</span><a class="self-link" href="#highlight-ua-styles"></a></h3>
        <p>The following additions are recommended for the default UA stylesheet:</p>
        <pre class="lang-css highlight"><c- c>/* Represent default spelling/grammar error styling in an adjustable way */</c->
:root::spelling-error <c- p>{</c-> <c- k>text-decoration-line</c-><c- p>:</c-> spelling-error<c- p>;</c-> <c- p>}</c->
:root::grammar-error  <c- p>{</c-> <c- k>text-decoration-line</c-><c- p>:</c-> grammar-error<c- p>;</c-> <c- p>}</c->
</pre>
        <p>Some <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element⑥">highlight pseudo-elements</a> should have <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="paired-default-highlight-colors">paired
                default highlight colors</dfn>—<wbr>a default <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑤">color</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color②">background-color</a> provided by the UA
            that are either used or overridden together,
            see <a href="#paired-defaults">§ 3.3.1 Paired Defaults</a>.
            For <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection②">::selection</a> they should correspond to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-system-color-highlighttext" id="ref-for-valdef-system-color-highlighttext">HighlightText</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-system-color-highlight" id="ref-for-valdef-system-color-highlight">Highlight</a>,
            while for <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text③">::target-text</a> they should correspond to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-system-color-marktext" id="ref-for-valdef-system-color-marktext">MarkText</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-system-color-mark" id="ref-for-valdef-system-color-mark">Mark</a>.</p>
        <p>UAs may apply additional effects to enhance the presentation
            of highlighted content,
            for example dimming content other than the highlighted text
            or transitioning out a highlight style based on user interactions or timing.
            These are not controlled by CSS.</p>
        <p class="issue" id="issue-c10df75c"><a class="self-link" href="#issue-c10df75c"></a> UA tweaks to the
            presentation of highlights
            in ways that <em>are</em> controlled by CSS
            are currently under discussion
            in <a href="https://github.com/w3c/csswg-drafts/issues/6853">Issue 6853</a>.</p>
        <h4 class="heading settled" data-level="3.3.1" id="paired-defaults"><span class="secno">3.3.1. </span><span
                class="content"> Paired Defaults</span><a class="self-link" href="#paired-defaults"></a></h4>
        <p>For compatibility reasons, <a data-link-type="dfn" href="#paired-default-highlight-colors" id="ref-for-paired-default-highlight-colors">paired default highlight colors</a> must only be <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value">used</a> when neither <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑥">color</a> nor <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color③">background-color</a> yield a <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#cascaded-value" id="ref-for-cascaded-value">cascaded
                value</a> from the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#cascade-origin-author" id="ref-for-cascade-origin-author">author origin</a> (or inherit their value from the author origin).
            When a highlight color is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#valdef-all-revert" id="ref-for-valdef-all-revert">revert</a>
            or <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#valdef-all-revert-layer" id="ref-for-valdef-all-revert-layer">revert-layer</a>,
            the origin <em>after</em> rolling back the cascade
            determines the <span id="ref-for-cascaded-value①">cascaded value</span>’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-6/#origin" id="ref-for-origin">origin</a>.</p>
        <p class="note" role="note"><span>Note:</span> Because this rule is for compatibility reasons,
            it does not apply to other similar properties
            like <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color" id="ref-for-propdef-fill-color①">fill-color</a> or <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color" id="ref-for-propdef-stroke-color①">stroke-color</a>.</p>
        <div class="example" id="example-e46c5169">
            <a class="self-link" href="#example-e46c5169"></a> For example,
            given the following markup:
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c->Highlight this <c- p>&lt;</c-><c- f>em</c-><c- p>></c->and this<c- p>&lt;/</c-><c- f>em</c-><c- p>></c->.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
            <p>Any of the following rules
                would suppress the default <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color④">background-color</a> for <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection③">::selection</a> in the <code class="highlight">&lt;em></code>
                element
                if given by the author:</p>
            <pre class="lang-css highlight"><c- k>em</c-><c- p>:</c->:selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> initial<c- p>;</c-> <c- p>}</c->
em::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> inherit<c- p>;</c-> <c- p>}</c->
em::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> unset<c- p>;</c-> <c- p>}</c->
em::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
p::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="3.4" id="highlight-bounds"><span class="secno">3.4. </span><span class="content"> Area of a Highlight</span><a class="self-link" href="#highlight-bounds"></a></h3>
        <p>For each type of highlighting (see <a href="#highlight-selectors">§ 3.1 Selecting Highlighted Content: the
                ::selection, ::target-text, ::spelling-error, and ::grammar-error pseudo-elements</a>)
            there exists a single <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="highlight-overlay">highlight overlay</dfn> for the entire document,
            the active portions of which are represented
            by the corresponding <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element⑦">highlight pseudo-element</a>.
            Each box owns the piece of the overlay corresponding to any text or replaced content
            directly contained by the box. </p>
        <ul>
            <li> For text, the corresponding overlay must cover at least the entire em box
                and may extend further above/below the em box to the line box edges.
                Spacing between two characters may also be part of the overlay area,
                in which case it belongs to the innermost element that contains both characters
                and is selected when both characters are selected.
            <li> For replaced content, the associated overlay must cover at least the entire replaced object,
                and may extend outward to include the element’s entire content box.
            <li> The overlay may also include other areas within the border-box of an element;
                in this case, those areas belong to the innermost such element that contains the area.
            <li> For an <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level-box" id="ref-for-inline-level-box①">inline-level box</a>, the overlay may extend outside its border edges
                in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis">block axis</a> as far as the edges of its <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#line-box" id="ref-for-line-box①">line box</a>.
        </ul>
        <p class="issue" id="issue-13b80e20"><a class="self-link" href="#issue-13b80e20"></a> See <a href="https://lists.w3.org/Archives/Public/www-style/2008Nov/0022.html">F2F minutes</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2008Oct/0268.html">dbaron’s message</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0247.html">Daniel’s thread</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0261.html">Gecko notes</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0366.html">Opera notes</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0280.html">Webkit notes</a></p>
        <p class="issue" id="issue-271a1b90"><a class="self-link" href="#issue-271a1b90"></a> Not sure if this is the
            correct way of describing the way things work.</p>
        <h3 class="heading settled" data-level="3.5" id="highlight-cascade"><span class="secno">3.5. </span><span class="content"> Cascading and Per-Element Highlight Styles</span><a class="self-link" href="#highlight-cascade"></a></h3>
        <p>Each element draws its own active portions of the <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay①">highlight overlays</a>,
            which receives the styles specified by
            the corresponding <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element⑧">highlight pseudo-element</a> styles
            for which that element is the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element⑨">originating element</a>.
            When multiple styles conflict,
            the winning style is determined by the cascade.</p>
        <p>When any supported property is not given a value by the cascade,
            or given a value of <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit" id="ref-for-valdef-all-inherit">inherit</a> or <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#valdef-all-unset" id="ref-for-valdef-all-unset">unset</a>,
            its <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#specified-value" id="ref-for-specified-value">specified value</a> is determined by inheritance from
            the corresponding <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element⑨">highlight pseudo-element</a> of its <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①⓪">originating element</a>’s parent element.
            This occurs regardless of whether that property is an <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inherited-property" id="ref-for-inherited-property①">inherited property</a> (and regardless of whether that property is a <a data-link-type="dfn" href="https://www.w3.org/TR/css-variables-1/#custom-property" id="ref-for-custom-property①">custom property</a> that is registered to <a data-link-type="dfn">inherit</a> or not).
            Additionally,
            for <span id="ref-for-highlight-pseudo-element①⓪">highlight pseudo-elements</span> originating from the root
            element,
            the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inherited-value" id="ref-for-inherited-value">inherited value</a> of <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑦">color</a> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor">currentColor</a>,
            not the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#initial-value" id="ref-for-initial-value">initial value</a>.</p>
        <div class="example" id="example-c35bf49a">
            <a class="self-link" href="#example-c35bf49a"></a> For example, if the following rules were applied:
            <pre class="lang-css highlight"><c- k>p</c-><c- p>:</c->:selection      <c- p>{</c-> <c- k>color</c-><c- p>:</c-> yellow<c- p>;</c-> <c- k>background</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
p > em::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> orange<c- p>;</c-> <c- p>}</c->
em::selection     <c- p>{</c-> <c- k>color</c-><c- p>:</c->    red<c- p>;</c-> <c- p>}</c->
</pre>
            <p>to the following markup:</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c->Highlight this <c- p>&lt;</c-><c- f>em</c-><c- p>></c->and this<c- p>&lt;/</c-><c- f>em</c-><c- p>></c->.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
            <p>The selection highlight would be green throughout,
                with yellow text outside the <code class="highlight">&lt;em></code> element
                and orange text inside it.</p>
        </div>
        <p class="advisement"> Authors wanting multiple selections styles should use <strong><span class="css">:root::selection</span></strong> for their document-wide selection style,
            since this will allow clean overriding in descendants. <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection④">::selection</a> alone applies to every
            element in the tree,
            overriding the more specific styles of any ancestors. </p>
        <div class="example" id="example-97480f68">
            <a class="self-link" href="#example-97480f68"></a> For example, if an author specified
            <pre class="lang-css highlight">::selection          <c- p>{</c-> <c- k>background</c-><c- p>:</c-> blue<c- p>;</c-> <c- p>}</c->
p.warning::selection <c- p>{</c-> <c- k>background</c-><c- p>:</c->  red<c- p>;</c-> <c- p>}</c->
</pre>
            <p>and the document included</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-> <c- e>class</c-><c- o>=</c-><c- s>"warning"</c-><c- p>></c->Some <c- p>&lt;</c-><c- f>strong</c-><c- p>></c->very important information<c- p>&lt;/</c-><c- f>strong</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
            <p>The highlight would be blue over “very important information”
                because the <code class="highlight">&lt;strong></code> element´s <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑤">::selection</a> also matches the
                <span class="css">::selection { background: blue; }</span> rule.
                (Remember that <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-3/#x" id="ref-for-x">*</a> is implied when a tag selector is missing.)
                The style rules that would give the intended behavior
                (red highlight within <code class="highlight">p.warning</code>, blue elsewhere) are
            </p>
            <pre class="lang-css highlight">:root::selection     <c- p>{</c-> <c- k>background</c-><c- p>:</c-> blue<c- p>;</c-> <c- p>}</c->
p.warning::selection <c- p>{</c-> <c- k>background</c-><c- p>:</c->  red<c- p>;</c-> <c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="3.6" id="highlight-painting"><span class="secno">3.6. </span><span class="content"> Painting the Highlight</span><a class="self-link" href="#highlight-painting"></a></h3>
        <h4 class="heading settled" data-level="3.6.1" id="highlight-backgrounds"><span class="secno">3.6.1.
            </span><span class="content"> Backgrounds</span><a class="self-link" href="#highlight-backgrounds"></a></h4>
        <p>Each <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①①">highlight pseudo-element</a> draws its background
            over the corresponding portion of the <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay②">highlight overlay</a>,
            painting it
            immediately below any positioned descendants
            (i.e. just before step 8 in <a href="https://www.w3.org/TR/CSS22/zindex.html#painting-order">CSS2.2§E.2</a>).
            The <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑥">::selection</a> overlay is drawn
            over the <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text④">::target-text</a> overlay which is drawn
            over the <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error②">::spelling-error</a> overlay
            which is drawn over the <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error②">::grammar-error</a> overlay.</p>
        <h4 class="heading settled" data-level="3.6.2" id="highlight-shadows"><span class="secno">3.6.2. </span><span
                class="content"> Shadows</span><a class="self-link" href="#highlight-shadows"></a></h4>
        <p>Any <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow" id="ref-for-propdef-text-shadow①">text-shadow</a> applying to a <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①②">highlight pseudo-element</a> is
            drawn over its corresponding <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay③">highlight overlay</a> background.
            Such text shadows also stack over each other
            (and over any original <span class="property" id="ref-for-propdef-text-shadow②">text-shadow</span> applied
            to the text and its decorations,
            which continues to apply).</p>
        <p class="note" role="note"><span>Note:</span> Since each <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay④">highlight overlay</a> background
            is drawn over any shadows belonging to the layer(s) below,
            a <span id="ref-for-highlight-overlay⑤">highlight overlay</span> background can obscure lower-level shadows.
        </p>
        <h4 class="heading settled" data-level="3.6.3" id="highlight-text"><span class="secno">3.6.3. </span><span
                class="content"> Text and Text Decorations</span><a class="self-link" href="#highlight-text"></a></h4>
        <p>A <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①③">highlight
                pseudo-element</a> suppresses the normal drawing of any associated text,
            and the text decorations
            (other than shadows)
            that had been applied to that text.
            Instead the topmost active <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay⑥">highlight overlay</a> redraws that text
            (and those decorations)
            over all the <span id="ref-for-highlight-overlay⑦">highlight overlay</span> backgrounds
            using that highlight’s own <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑧">color</a>.</p>
        <p class="note" role="note"><span>Note:</span> This means that unlike shadows,
            line decorations and emphasis marks
            won’t be obscured by any highlight overlay backgrounds
            that are drawn for the associated text.</p>
        <p>For this purpose, <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor①">currentColor</a> on a <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①④">highlight pseudo-element</a>’s
            <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑨">color</a> property represents
            the <span class="property" id="ref-for-propdef-color①⓪">color</span> of the next <em>active</em> <span id="ref-for-highlight-pseudo-element①⑤">highlight pseudo-element</span> layer below,
            falling back finally to the colors that would otherwise have been used
            (those applied by the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①①">originating element</a> or
            an intervening <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑨">pseudo-element</a> such as <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⑨">::first-line</a> or <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⑥">::first-letter</a>).
        </p>
        <p class="note" role="note"><span>Note:</span> The element’s own text decorations
            (both <a href="https://www.w3.org/TR/css-text-decor/#line-decoration">line decorations</a> and <a href="https://www.w3.org/TR/css-text-decor/#emphasis-marks">emphasis marks</a>)
            are thus drawn in the pseudo-element’s own <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color①①">color</a> when that
            is not <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor②">currentColor</a>,
            regardless of their original color or fill specifications.</p>
        <p>Any text decorations introduced by each <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①⑥">highlight pseudo-element</a> are stacked in the same order as
            their backgrounds
            over the text’s original decorations
            and are all drawn, each decoration in its own color.
            The normal painting order applies,
            so as per <a href="https://www.w3.org/TR/CSS2/zindex.html#painting-order">CSS2 Appendix E</a>,
            all underlines are drawn
            below overlines which are drawn
            below the text which is drawn
            below any line-throughs.
            However, text decorations applied by <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑦">::selection</a> may instead all be drawn
            along with the text
            as a topmost set of layers
            above all other decorations.</p>
        <div class="example" id="example-92591876">
            <a class="self-link" href="#example-92591876"></a> For example, assuming the original text has an underline
            and a strike-through,
            that <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑧">::selection</a> applies an underline
            and <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑤">::target-text</a> applies both overline and strike-through,
            the following are both conformant painting orders:
            <div style="columns: 20em">
                <ol style="break-inside: avoid; margin-top: 0;">
                    <li>original underline
                    <li><a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑨">::selection</a> underline
                    <li><a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑥">::target-text</a> overline
                    <li><a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection①⓪">::selection</a>-colored text
                    <li>original strike-through
                    <li><a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑦">::target-text</a> strike-through
                </ol>
                <ol style="break-inside: avoid; margin-top: 0;">
                    <li>original underline
                    <li><a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑧">::target-text</a> overline
                    <li>original strike-through
                    <li><a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑨">::target-text</a> strike-through
                    <li><a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection①①">::selection</a> underline
                    <li><a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection①②">::selection</a>-colored text
                </ol>
            </div>
        </div>
        <p><a href="https://www.w3.org/TR/css-text-decor/#line-decoration">Line decorations</a> introduced by <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①⑦">highlight
                pseudo-elements</a> apply only to the text associated with their <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①②">originating element</a>,
            and are not propagated to descendants
            except via property <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inheritance" id="ref-for-inheritance③">inheritance</a> (as described <a href="#highlight-cascade">above</a>).</p>
        <p class="note" role="note"><span>Note:</span> Unlike the originating element’s own decorations,
            decorations declared on a highlight pseudo-element
            propagate to <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#out-of-flow" id="ref-for-out-of-flow">out-of-flow elements</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-block" id="ref-for-inline-block">inline blocks</a>,
            with thickness and position varying between descendants.</p>
        <h4 class="heading settled" data-level="3.6.4" id="highlight-replaced"><span class="secno">3.6.4. </span><span
                class="content"> Replaced Elements</span><a class="self-link" href="#highlight-replaced"></a></h4>
        <p>For non-replaced content, the UA must honor the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color①②">color</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color⑤">background-color</a> (including their alpha channels) as
            specified.
            However, for replaced content, the UA should create a semi-transparent wash
            to coat the content so that it can show through the selection.
            This wash should be of the specified <span class="property" id="ref-for-propdef-background-color⑥">background-color</span> if that is not <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-transparent" id="ref-for-valdef-color-transparent">transparent</a>,
            else of the specified <span class="property" id="ref-for-propdef-color①③">color</span>;
            however the UA may adjust the alpha channel.</p>
        <h3 class="heading settled" data-level="3.7" id="highlight-security"><span class="secno">3.7. </span><span class="content"> Security and Privacy Considerations</span><a class="self-link" href="#highlight-security"></a></h3>
        <p>Because the styling of spelling and grammar errors
            can leak information about the contents of a user’s dictionary
            (which can include the user’s name and even includes the contents of their address book!)
            UAs that implement <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error③">::spelling-error</a> and <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error③">::grammar-error</a> must
            prevent pages from being able to read
            the styling of such highlighted segments.</p>
        <h2 class="heading settled" data-level="4" id="treelike"><span class="secno">4. </span><span class="content">
                Tree-Abiding Pseudo-elements</span><a class="self-link" href="#treelike"></a></h2>
        <p><dfn data-dfn-type="dfn" data-export data-lt="tree-abiding|tree-abiding pseudo-element" id="tree-abiding">Tree-abiding pseudo-elements<a class="self-link" href="#tree-abiding"></a></dfn>
            always fit within the box tree.
            They <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inheritance" id="ref-for-inheritance④">inherit</a> any inheritable properties from their <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①③">originating element</a>;
            non-inheritable properties take their <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#initial-value" id="ref-for-initial-value①">initial values</a>
            as usual. <a data-link-type="biblio" href="#biblio-css-cascade-4">[CSS-CASCADE-4]</a></p>
        <h3 class="heading settled" data-level="4.1" id="generated-content"><span class="secno">4.1. </span><span class="content"> Generated Content Pseudo-elements: <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before①">::before</a> and <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after①">::after</a></span><a class="self-link" href="#generated-content"></a></h3>
        <p>When their computed <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-content-3/#propdef-content" id="ref-for-propdef-content">content</a>
            value is not <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-content-3/#valdef-content-none" id="ref-for-valdef-content-none">none</a>,
            these pseudo-elements generate boxes
            as if they were immediate children of their <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①④">originating element</a>,
            with content as specified by <span class="property" id="ref-for-propdef-content①">content</span>.</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-before">::before</dfn>
            <dd>Represents a styleable child pseudo-element
                immediately before the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①⑤">originating element</a>’s actual content.
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-after">::after</dfn>
            <dd>Represents a styleable child pseudo-element
                immediately after the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①⑥">originating element</a>’s actual content.
        </dl>
        <p>These pseudo-elements can be styled
            exactly like any normal document-sourced element in the document tree;
            all properties that apply to a normal element
            likewise apply to <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before②">::before</a> and <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after②">::after</a>.</p>
        <div class="example" id="example-1db24d2c">
            <a class="self-link" href="#example-1db24d2c"></a> For example, the following rule inserts the string “Note:
            ”
            before the content of every <code class="highlight">&lt;p></code> element
            whose <code class="highlight">class</code> attribute has the value <code class="highlight">note</code>:
            <pre class="lang-css highlight">p.note::before <c- p>{</c-> <c- k>content</c-><c- p>:</c-> <c- s>"Note: "</c-> <c- p>}</c-></pre>
            <p>Since the initial value of <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-display-3/#propdef-display" id="ref-for-propdef-display">display</a>
                is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-3/#valdef-display-inline" id="ref-for-valdef-display-inline">inline</a>,
                this will generate an inline box.
                Like other inline children of <code class="highlight">&lt;p></code>,
                it will participate in <code class="highlight">&lt;p></code>’s inline formatting context,
                potentially sharing a line with other content.</p>
        </div>
        <p>As with the content of regular elements,
            the generated content of <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before③">::before</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#selectordef-after" id="ref-for-selectordef-after③">:after</a>
            pseudo-elements
            can form part of any <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⓪">::first-line</a> and <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⑦">::first-letter</a>
            pseudo-elements
            applied to its <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①⑦">originating element</a>.
            Also as with regular child elements,
            the <span class="css" id="ref-for-selectordef-before④">::before</span> and <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after④">::after</a>
            pseudo-elements
            are suppressed when their parent, the <span id="ref-for-originating-element①⑧">originating element</span>,
            is <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#replaced-element" id="ref-for-replaced-element">replaced</a>.</p>
        <h3 class="heading settled" data-level="4.2" id="marker-pseudo"><span class="secno">4.2. </span><span class="content"> List Markers: the <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker">::marker</a> pseudo-element</span><a class="self-link" href="#marker-pseudo"></a></h3>
        <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-marker">::marker</dfn>
            pseudo-element represents
            the automatically generated <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#marker" id="ref-for-marker②">marker box</a> of a <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#list-item" id="ref-for-list-item①">list item</a>.
            (See <a data-link-type="biblio" href="#biblio-css-display-3">[CSS-DISPLAY-3]</a> and <a data-link-type="biblio" href="#biblio-css-lists-3">[CSS-LISTS-3]</a>.)</p>
        <p>The contents of a <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker①">::marker</a> are ignored (not selected) by <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⑧">::first-letter</a>.</p>
        <p class="issue" id="issue-c80e7017"><a class="self-link" href="#issue-c80e7017"></a> Interaction of <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker②">::marker</a> and <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②①">::first-line</a> is currently under
            discussion in <a href="https://github.com/w3c/csswg-drafts/issues/4506">Issue 4506</a>.</p>
        <p>Only a limited set of properties can be used on the <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker③">::marker</a> pseudo-element.
            This list is defined in <a href="https://www.w3.org/TR/css-lists-3/#marker-properties"><cite>CSS Lists
                    3</cite> § 3.1.1 Properties Applying to ::marker</a>.</p>
        <p>The <span class="css">::before::marker</span> or <span class="css">::after::marker</span> selectors
            are valid and
            can be used to represent the <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#marker" id="ref-for-marker③">marker boxes</a> of <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before⑤">::before</a> or <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after⑤">::after</a>
            pseudo-elements that happen to be <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#list-item" id="ref-for-list-item②">list items</a>.
            However <span class="css">::marker::marker</span> is invalid,
            and the computed value of <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-display-3/#propdef-display" id="ref-for-propdef-display①">display</a> on
            <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker④">::marker</a> always loses any <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-3/#valdef-display-list-item" id="ref-for-valdef-display-list-item">list-item</a> aspect.
        </p>
        <p class="issue" id="issue-1caf313e"><a class="self-link" href="#issue-1caf313e"></a> Should <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑤">::marker</a> also
            have <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix④">::prefix</a> and <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix④">::postfix</a>
            sub-elements?</p>
        <h3 class="heading settled" data-level="4.3" id="placeholder-pseudo"><span class="secno">4.3. </span><span class="content"> Placeholder Input: the <a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder">::placeholder</a>
                pseudo-element</span><a class="self-link" href="#placeholder-pseudo"></a></h3>
        <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-placeholder">::placeholder</dfn> pseudo-element represents
            placeholder text in an input field:
            text that represents the input
            and provides a hint to the user on how to fill out the form.
            For example, a date-input field
            might have the placeholder text “YYYY/MM/DD”
            to clarify that numeric dates are to be entered in year-month-day order.</p>
        <div class="example" id="example-60211a7d"><a class="self-link" href="#example-60211a7d"></a> For example,
            according to the semantics of <a data-link-type="biblio" href="#biblio-html">[HTML]</a> the <code class="highlight"><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder" id="ref-for-attr-input-placeholder">placeholder</a></code>
            attribute on the <code class="highlight"><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element">input</a></code>
            and <code class="highlight"><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element" id="ref-for-the-textarea-element">textarea</a></code>
            elements
            provide placeholder text.
            The <a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder①">::placeholder</a> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①⓪">pseudo-element</a> represents such text when it is displayed. </div>
        <p class="note" role="note"><span>Note:</span> There also exists a <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-4/#placeholder-shown-pseudo" id="ref-for-placeholder-shown-pseudo">:placeholder-shown</a> pseudo-<em>class</em>,
            which applies to (real) elements while they are showing placeholder text,
            and can be used to style such elements specially. <a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder②">::placeholder</a> specifically
            represents the placeholder <em>text</em>,
            and is thus relatively limited in its abilities.</p>
        <p>All properties that apply to the <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②②">::first-line</a> pseudo-element
            also apply to the <a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder③">::placeholder</a> pseudo-element.</p>
        <p class="issue" id="issue-d70c3c0a"><a class="self-link" href="#issue-d70c3c0a"></a> Should <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a> properties be excluded? <a href="https://github.com/w3c/csswg-drafts/issues/5379">[Issue #5379]</a></p>
        <p>In interactive media, placeholder text is often hidden once the user has entered input;
            however this is not a requirement, and both the input value and the placeholder text may be visible
            simultaneously.
            The exact behavior is UA-defined.
            Note that in static media (such as print)
            placeholder text will be present even after the user has entered input.</p>
        <p class="issue" id="issue-1631f2fa"><a class="self-link" href="#issue-1631f2fa"></a> Authors seem to want <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-3/#propdef-text-align" id="ref-for-propdef-text-align">text-align</a> on the list of supported properties.
            See e.g. <a href="https://css-tricks.com/almanac/selectors/p/placeholder/">comments here</a>.</p>
        <p class="note" role="note"><span>Note:</span> It’s been requested that <a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder④">::placeholder</a> also refer to
            a placeholder which has a corresponding element in the element tree.
            It’s not clear how this should work, but it may be worth doing.
            See <a href="https://github.com/w3c/csswg-drafts/issues/2517">Issue 2417</a>.</p>
        <h3 class="heading settled" data-level="4.4" id="file-selector-button-pseudo"><span class="secno">4.4.
            </span><span class="content"> File Selector Button: the <a class="css" data-link-type="maybe" href="#selectordef-file-selector-button" id="ref-for-selectordef-file-selector-button">::file-selector-button</a> pseudo-element</span><a class="self-link" href="#file-selector-button-pseudo"></a></h3>
        <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-file-selector-button">::file-selector-button</dfn> pseudo-element targets the <span class="css">&lt;button></span> inside an <span class="css">&lt;input></span> element with <code class="highlight">type=file</code>, if the UA
            renders such a button.</p>
        <p>There is no restriction on which properties apply to the <a class="css" data-link-type="maybe" href="#selectordef-file-selector-button" id="ref-for-selectordef-file-selector-button①">::file-selector-button</a> pseudo-element.</p>
        <div class="example" id="file-selector-button-example">
            <a class="self-link" href="#file-selector-button-example"></a> For example, the following example should
            show a green border around the
            file selector button:
            <pre class="lang-css highlight">::file-selector-button <c- p>{</c-> <c- k>border</c-><c- p>:</c-> <c- m>3</c-><c- k>px</c-> solid green <c- p>}</c-></pre>
        </div>
        <h2 class="heading settled" data-level="5" id="interactions"><span class="secno">5. </span><span class="content"> Overlapping Pseudo-element Interactions</span><a class="self-link" href="#interactions"></a></h2>
        <div class="example" id="overlapping-example">
            <a class="self-link" href="#overlapping-example"></a> Recall that
            <ul>
                <li> the contents of <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before⑥">::before</a> and <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after⑥">::after</a> are selected
                    exactly as if they were normal elements in the document source tree
                <li> the <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⑨">::first-letter</a> boundaries are tightly wrapped around
                    the first letter text,
                    and <span class="css" id="ref-for-selectordef-first-letter③⓪">::first-letter</span> is constrained
                    to exist solely on the first formatted line.
                <li> the <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②③">::first-line</a> start is inserted just inside the
                    containing block’s element boundary,
                    and its end after the close of all content on the line
            </ul>
            <p>The following CSS and HTML example
                illustrates how overlapping pseudo-elements interact:</p>
            <pre class="lang-html highlight"><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- f>p</c-> <c- p>{</c-> <c- k>color</c-><c- p>:</c-> <c- kc>red</c-><c- p>;</c-> <c- k>font-size</c-><c- p>:</c-> <c- mi>12</c-><c- b>pt</c-> <c- p>}</c->
<c- f>p</c-><c- p>::</c-><c- nd>first-letter</c-> <c- p>{</c-> <c- k>color</c-><c- p>:</c-> <c- kc>green</c-><c- p>;</c-> <c- k>font-size</c-><c- p>:</c-> <c- mi>200</c-><c- b>%</c-> <c- p>}</c->
<c- f>p</c-><c- p>::</c-><c- nd>first-line</c-> <c- p>{</c-> <c- k>color</c-><c- p>:</c-> <c- kc>blue</c-> <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->

<c- p>&lt;</c-><c- f>p</c-><c- p>></c->Some text that ends up on two lines<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
            <p>The first letter of each P element will be green with a font size of ’24pt'.
                The rest of the first formatted line will be blue
                while the rest of the paragraph will be red.</p>
            <p>Assuming that a line break will occur before the word "ends",
                the <a data-link-type="dfn" href="#fictional-tag-sequence" id="ref-for-fictional-tag-sequence⑤">fictional tag sequence</a> for this fragment might be:</p>
            <pre class="lang-html highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>p::first-line</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>p::first-letter</c-><c- p>></c->
      S
    <c- p>&lt;/</c-><c- f>p::first-letter</c-><c- p>></c->
    ome text that
  <c- p>&lt;/</c-><c- f>p::first-line</c-><c- p>></c->
  ends up on two lines
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
        </div>
        <h2 class="heading settled" data-level="6" id="cssom"><span class="secno">6. </span><span class="content">
                Additions to the CSS Object Model</span><a class="self-link" href="#cssom"></a></h2>
        <h3 class="heading settled" data-level="6.1" id="CSSPseudoElement-interface"><span class="secno">6.1.
            </span><span class="content"> <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement">CSSPseudoElement</a></code>
                Interface</span><a class="self-link" href="#CSSPseudoElement-interface"></a></h3>
        <p>The <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①">CSSPseudoElement</a></code>
            interface
            allows pseudo-elements to be event targets.</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csspseudoelement"><code class="highlight"><c- g>CSSPseudoElement</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csspseudoelement-type" id="ref-for-dom-csspseudoelement-type"><c- g>type</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-csspseudoelement-element" id="ref-for-dom-csspseudoelement-element"><c- g>element</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①"><c- n>Element</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#csspseudoelement" id="ref-for-csspseudoelement②"><c- n>CSSPseudoElement</c-></a>) <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Element or CSSPseudoElement)" href="#dom-csspseudoelement-parent" id="ref-for-dom-csspseudoelement-parent"><c- g>parent</c-></a>;
    <a data-link-type="idl-name" href="#csspseudoelement" id="ref-for-csspseudoelement③"><c- n>CSSPseudoElement</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="method" data-export data-lt="pseudo(type)" id="dom-csspseudoelement-pseudo"><code class="highlight"><c- g>pseudo</c-></code></dfn>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement/pseudo(type)" data-dfn-type="argument" data-export id="dom-csspseudoelement-pseudo-type-type"><code class="highlight"><c- g>type</c-></code></dfn>);
};
</pre>
        <p class="issue" id="issue-22d457b7"><a class="self-link" href="#issue-22d457b7"></a> This interface is under
            design development,
            and this draft is looking for feedback more than implementation.
            The CSSWG would particularly appreciate hearing about use cases and problems.</p>
        <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="attribute" data-export id="dom-csspseudoelement-type"><code class="highlight">type</code></dfn> attribute
            is a string representing the type of the pseudo-element.
            This can be one of the following values:</p>
        <dl>
            <dt><code class="highlight"><c- s>"::before"</c-></code>
            <dd>Represents the <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before⑦">::before</a> pseudo-element.
            <dt><code class="highlight"><c- s>"::after"</c-></code>
            <dd>Represents the <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after⑦">::after</a> pseudo-element.
            <dt><code class="highlight"><c- s>"::marker"</c-></code>
            <dd>Represents the <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑥">::marker</a> pseudo-element.
        </dl>
        <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="attribute" data-export id="dom-csspseudoelement-element"><code class="highlight">element</code></dfn> attribute is the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#ultimate-originating-element" id="ref-for-ultimate-originating-element">ultimate originating element</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①①">pseudo-element</a>.</p>
        <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="attribute" data-export id="dom-csspseudoelement-parent"><code class="highlight">parent</code></dfn> attribute is the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①⑨">originating element</a> of the pseudo-element.
            For most pseudo-elements <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-parent" id="ref-for-dom-csspseudoelement-parent①">parent</a></code>
            and <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-element" id="ref-for-dom-csspseudoelement-element①">element</a></code>
            will return the same <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②">Element</a></code>;
            for <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element②">sub-pseudo-elements</a>, <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-parent" id="ref-for-dom-csspseudoelement-parent②">parent</a></code>
            will return a <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement④">CSSPseudoElement</a></code>
            while <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-element" id="ref-for-dom-csspseudoelement-element②">element</a></code>
            returns an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element③">Element</a></code>.
        </p>
        <p>The <dfn class="idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="attribute" data-export id="dom-csspseudoelement-pseudo①"><code class="highlight"><c- nf>pseudo</c-><c- p>()</c-></code><a class="self-link" href="#dom-csspseudoelement-pseudo①"></a></dfn> method
            returns the <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement⑤">CSSPseudoElement</a></code>
            interface
            representing the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element③">sub-pseudo-element</a> referenced in its argument,
            if such a <span id="ref-for-sub-pseudo-element④">sub-pseudo-element</span> could exist and would be valid,
            and null otherwise.
            See <code class="idl"><a data-link-type="idl" href="#dom-element-pseudo" id="ref-for-dom-element-pseudo">pseudo()</a></code>
            below.</p>
        <p class="note" role="note"><span>Note:</span> This interface may be extended in the future
            to other pseudo-element types
            and/or to allow setting style information
            through a <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstyledeclaration" id="ref-for-cssstyledeclaration">CSSStyleDeclaration</a></code>
            <code class="highlight">style</code> attribute.
            The current functionality is limited
            to that which is needed to support <a data-link-type="biblio" href="#biblio-web-animations-1">[web-animations-1]</a>.
        </p>
        <h3 class="heading settled" data-level="6.2" id="window-interface"><span class="secno">6.2. </span><span class="content"> <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo" id="ref-for-dom-csspseudoelement-pseudo">pseudo()</a></code>
                method of the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element④">Element</a></code>
                interface</span><a class="self-link" href="#window-interface"></a></h3>
        <p>A new method is added to the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑤">Element</a></code>
            interface to retrieve
            pseudo-elements created by a given element for a given type:</p>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑥"><c- g>Element</c-></a> {
  <a data-link-type="idl-name" href="#csspseudoelement" id="ref-for-csspseudoelement⑥"><c- n>CSSPseudoElement</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-element-pseudo" id="ref-for-dom-element-pseudo①"><c- g>pseudo</c-></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <dfn class="idl-code" data-dfn-for="Element/pseudo(type)" data-dfn-type="argument" data-export id="dom-element-pseudo-type-type"><code class="highlight"><c- g>type</c-></code><a class="self-link" href="#dom-element-pseudo-type-type"></a></dfn>);
};
</pre>
        <div class="algorithm" data-algorithm="pseudo(CSSOMString type)" data-algorithm-for="Element">
            The <dfn class="dfn-paneled idl-code" data-dfn-for="Element" data-dfn-type="method" data-export data-lt="pseudo(type)" id="dom-element-pseudo" title="pseudo(type)"><code class="highlight"><c- nf>pseudo</c-><c- p>(</c->CSSOMString type<c- p>)</c-></code></dfn> method
            is used to retrieve the <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement⑦">CSSPseudoElement</a></code>
            instance
            of the type matching <code class="idl"><a class="idl-code" data-link-type="argument" href="#dom-csspseudoelement-pseudo-type-type" id="ref-for-dom-csspseudoelement-pseudo-type-type">type</a></code>
            associated with the element.
            When it is called,
            execute the following steps:
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar" id="ref-for-css-parse-something-according-to-a-css-grammar">Parse</a> the <code class="idl"><a class="idl-code" data-link-type="argument" href="#dom-csspseudoelement-pseudo-type-type" id="ref-for-dom-csspseudoelement-pseudo-type-type①">type</a></code>
                        argument as a <a class="production css" data-link-type="type" href="https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector" id="ref-for-typedef-pseudo-element-selector">&lt;pseudo-element-selector></a>,
                        and let <var>type</var> be the result.</p>
                <li data-md>
                    <p>If <var>type</var> is failure,
                        return null.</p>
                <li data-md>
                    <p>Otherwise, return the <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement⑧">CSSPseudoElement</a></code>
                        object
                        representing the pseudo-element
                        that would match the selector <var>type</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a> as its <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element②⓪">originating element</a>.</p>
            </ol>
        </div>
        <p>Return values that represent the same <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①②">pseudo-element</a> on the same <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element②①">originating element</a> must be, insofar as observable,
            always the same <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement⑨">CSSPseudoElement</a></code>
            object.
            (The UA may drop or regenerate the object for convenience or performance
            if this is not observable.)</p>
        <p class="issue" id="issue-302461e7"><a class="self-link" href="#issue-302461e7"></a> The identity, lifetime,
            and nullness of the return value
            (and potential error cases)
            of the <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo" id="ref-for-dom-csspseudoelement-pseudo①">pseudo()</a></code>
            method is still under discussion.
            See <a href="https://github.com/w3c/csswg-drafts/issues/3607">Issue 3607</a> and <a href="https://github.com/w3c/csswg-drafts/issues/3603">Issue 3603</a>.</p>
        <h3 class="heading settled" data-level="6.3" id="getComputedStyle"><span class="secno">6.3. </span><span class="content"> <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle">getComputedStyle()</a></code></span><a class="self-link" href="#getComputedStyle"></a></h3>
        <p>When the second parameter <var>pseudoElt</var> refers to a <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①⑧">highlight pseudo-element</a>,
            <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle①">getComputedStyle()</a></code>
            returns styles
            as if that highlight is active
            and all other highlights are inactive.
            This avoids the potential
            ambiguity and privacy risks of returning a result
            that depends on the actual highlight state.
        </p>
        <h2 class="heading settled" data-level="7" id="css2-compat"><span class="secno">7. </span><span class="content">
                Compatibility Syntax</span><a class="self-link" href="#css2-compat"></a></h2>
        <p>For compatibility with existing style sheets written against CSS Level 2 <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a>,
            user agents must also accept the previous one-colon notation
            (<code class="highlight">:before</code>, <code class="highlight">:after</code>, <code class="highlight">:first-letter</code>, <code class="highlight">:first-line</code>)
            for the <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before⑧">::before</a>, <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after⑧">::after</a>, <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③①">::first-letter</a>, and <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②④">::first-line</a> pseudo-elements.
        </p>
        <h2 class="no-num heading settled" id="changes"><span class="content"> Changes</span><a class="self-link" href="#changes"></a></h2>
        <p>Significant changes since the <a href="https://www.w3.org/TR/2020/WD-css-pseudo-4-20201231/">31 December 2020
                Working Draft</a> include:</p>
        <ul>
            <li>Added <span class="css">::first-letter::prefix</span> and <span class="css">::first-letter::postfix</span> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element⑤">sub-pseudo-elements</a> to address punctuation associated with the
                <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③②">::first-letter</a> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①③">pseudo-element</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/2040">Issue 2040</a>)
            <li>
                Fine-tuned the <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①③">first-letter text</a> pattern:
                <ul>
                    <li>Excluded word-separating spaces from <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①④">first-letter text</a>.
                        (<a href="https://github.com/w3c/csswg-drafts/issues/5830">Issue 5830</a>)
                    <li>Excluded dashes and opening punctuation from following punctuation.
                        (<a href="https://github.com/w3c/csswg-drafts/issues/5830">Issue 5830</a>)
                    <li>Allowed symbols to represent the <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter⑦">first letter</a>.
                        (<a href="https://github.com/w3c/csswg-drafts/issues/5099">Issue 5099</a>)
                    <li>Clarified that the <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①⑤">first-letter text</a> is truncated by a line break.
                        (<a href="https://github.com/w3c/csswg-drafts/issues/2254">Issue 2254</a>)
                </ul>
            <li>Rewrote and clarified definition of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#selectordef-first-letter" id="ref-for-selectordef-first-letter③③">:first-letter</a>, and improved examples and notes.
            <li>Rewrote and clarified definition of <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑤">::first-line</a>, and improved examples.
            <li>Defined application of <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height" id="ref-for-propdef-line-height①">line-height</a> to <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑥">::first-line</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/2282">Issue 2282</a>)
            <li>Defined box structure interaction of <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑦">::first-line</a> and <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③④">::first-letter</a>.
            <li>Defined hierarchy order of <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑧">::first-line</a> and the <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#root-inline-box" id="ref-for-root-inline-box②">root inline
                    box</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/1384">Issue 1384</a>)
            <li>Clarified <a href="#paired-defaults">paired default</a> behavior of <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①⑨">highlight
                    pseudo-element</a> <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color①④">color</a> and
                <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color⑦">background-color</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/6386">Issue 6386</a>, <a href="https://github.com/w3c/csswg-drafts/issues/6774">Issue 6774</a>, <a href="https://github.com/w3c/csswg-drafts/issues/6779">Issue 6779</a>, <a href="https://github.com/w3c/csswg-drafts/issues/7837">Issue 7837</a>)
            <li>Defined application of <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode" id="ref-for-forced-colors-mode①">forced colors mode</a> to <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②⓪">highlight
                    pseudo-elements</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/7264">Issue 7264</a>)
            <li>Clarified painting order, propagation, and application of <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②①">highlight
                    pseudo-element</a> text decorations.
                (<a href="https://github.com/w3c/csswg-drafts/issues/6022">Issue 6022</a>, <a href="https://github.com/w3c/csswg-drafts/issues/6829">Issue 6829</a>, <a href="https://github.com/w3c/csswg-drafts/issues/7101">Issue 7101</a>)
            <li>Removed <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ui-3/#propdef-caret-color" id="ref-for-propdef-caret-color">caret-color</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ui-3/#propdef-cursor" id="ref-for-propdef-cursor">cursor</a> from applying to <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②②">highlight
                    pseudo-elements</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/4100">Issue 4100</a>)
            <li>Clarified interaction of <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②③">highlight pseudo-elements</a> and <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle②">getComputedStyle()</a></code>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/6818">Issue 6818</a>)
            <li>Clarified application of <a data-link-type="dfn" href="https://www.w3.org/TR/css-variables-1/#custom-property" id="ref-for-custom-property②">custom
                    properties</a> to <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①④">pseudo-elements</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/6264">Issue 6264</a>)
            <li>
            <li>Extended the <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①⓪">CSSPseudoElement</a></code>
                interface
                with a <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-parent" id="ref-for-dom-csspseudoelement-parent③">parent</a></code>
                attribute
                and <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo" id="ref-for-dom-csspseudoelement-pseudo②">pseudo()</a></code>
                method
                to address <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element⑥">sub-pseudo-elements</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/3836">Issue 3836</a>)
        </ul>
        <p>Significant changes since the <a href="https://www.w3.org/TR/2019/WD-css-pseudo-4-20190225/">25 February 2019
                Working Draft</a> include:</p>
        <ul>
            <li>Added <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text①⓪">::target-text</a> pseudo-element.
                (<a href="https://github.com/w3c/csswg-drafts/issues/5522">Issue 5522</a>)
            <li>Removed <span class="css">::inactive-selection</span>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/4579">Issue 4579</a>)
            <li>Added <span class="css">::file-selectors-button</span> pseudo-element.
                (<a href="https://github.com/w3c/csswg-drafts/issues/5049">Issue 5049</a>)
            <li>Adjusted rules for inheritance of properties from <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑨">::first-line</a> to handle
                inheritable vs non-inheritable properties differently,
                specifically excluded applicability of properties that control <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode">writing
                    mode</a> because they affect the cascade,
                and defined interaction with custom properties.
                (<a href="https://github.com/w3c/csswg-drafts/issues/1097">Issue 1097</a>)
            <li>Added <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position" id="ref-for-propdef-ruby-position①">ruby-position</a> to properties allowed on <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line③⓪">::first-line</a>,
                analogous with <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis-position" id="ref-for-propdef-text-emphasis-position">text-emphasis-position</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/2998">Issue 2998</a>)
            <li>Included spaces between the first letter and its surrounding punctuation in <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③⑤">::first-letter</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/5154">Issue 5154</a>)
            <li>Defined interaction of <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑦">::marker</a> and <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③⑥">::first-letter</a>.
            <li>Made <span class="css">::before::marker</span> and <span class="css">::after::marker</span> valid.
                (<a href="https://github.com/w3c/csswg-drafts/issues/1793">Issue 1793</a>)
            <li>Moved the <a href="https://www.w3.org/TR/css-lists-3/#marker-properties">list of properties</a> applying
                to <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑧">::marker</a> to <a data-link-type="biblio" href="#biblio-css-lists-3">[CSS-LISTS-3]</a> (also adding <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-content-3/#propdef-content" id="ref-for-propdef-content②">content</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi" id="ref-for-propdef-unicode-bidi">unicode-bidi</a>, and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction①">direction</a>).
            <li>Added <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑨">::marker</a> to types allowed for <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①①">CSSPseudoElement</a></code>
                interface.
                (<a href="https://github.com/w3c/csswg-drafts/issues/3763">Issue 3763</a>)
            <li>Clarified return value of <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo" id="ref-for-dom-csspseudoelement-pseudo③">pseudo()</a></code>.
                (Issues <a href="https://github.com/w3c/csswg-drafts/issues/3603">3603</a> and <a href="https://github.com/w3c/csswg-drafts/issues/3607">3607</a>)
            <li>Allowed highlight overlay of inline-level boxes to extend to the line box edges.
                (Issues <a href="https://github.com/w3c/csswg-drafts/issues/5395">5395</a> and <a href="https://github.com/w3c/csswg-drafts/issues/4624">4624</a>)
            <li>Clarified that <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor③">currentColor</a> on a <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②④">highlight
                    pseudo-element</a> uses the color that would be used if the text were not “highlighted”,
                even if that color was provided by a pseudo-element like <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line③①">::first-line</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/4625">Issue 4625</a>)
            <li>Defined how <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow" id="ref-for-propdef-text-shadow③">text-shadow</a> interacts with <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②⑤">highlight
                    pseudo-elements</a>.
                (<a href="https://github.com/w3c/csswg-drafts/issues/3932">Issue 3932</a>)
            <li>Improved the <a href="#highlight-ua-styles">default UA style sheet</a> rules applying to highlight
                pseudo-elements.
        </ul>
        <p>Changes since the <a href="https://www.w3.org/TR/2016/WD-css-pseudo-4-20160607/">7 June 2016 Working
                Draft</a> include:</p>
        <ul>
            <li>Specified <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-spelling-error" id="ref-for-valdef-text-decoration-line-spelling-error">spelling-error</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-grammar-error" id="ref-for-valdef-text-decoration-line-grammar-error">grammar-error</a> with <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error④">::spelling-error</a> and <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error④">::grammar-error</a> in the UA stylesheet.
            <li>Redefined value propagation between parent/child highlight pseudo-elements to use inheritance rather
                than cascading. See discussion in and linked from <a href="https://github.com/w3c/csswg-drafts/issues/2474">Issue 2474</a>.
            <li>Refined list of supported properties for highlight pseudo-elements, e.g. adding <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color" id="ref-for-propdef-stroke-color②">stroke-color</a>/<a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color" id="ref-for-propdef-fill-color②">fill-color</a>, removing <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ui-3/#propdef-outline" id="ref-for-propdef-outline">outline</a>, etc.
            <li>Clarified how text and text decoration colors are painted for highlight pseudo-elements.
            <li>Added the <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-element" id="ref-for-dom-csspseudoelement-element③">element</a></code>
                attribute to the <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①②">CSSPseudoElement</a></code>
                interface.
            <li>Changed the values of the <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-type" id="ref-for-dom-csspseudoelement-type①">type</a></code>
                attribute on the <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①③">CSSPseudoElement</a></code>
                interface to match the corresponding pseudo-elements.
            <li>Reduced supported types of <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①④">CSSPseudoElement</a></code>
                and removed unimplemented <code class="highlight">style</code> attribute.
            <li>Changed <code class="highlight">window.<c- nf>getPseudoElements</c-><c- p>(</c->elem<c- p>,</c->type<c- p>)</c-></code>
                to <code class="highlight">Element.<c- nf>pseudo</c-><c- p>(</c->type<c- p>)</c-></code>.
            <li>Miscellaneous minor clarifications and fixes.
        </ul>
        <h2 class="no-num heading settled" id="acknowledgements"><span class="content"> Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>The editors would like to specifically thank the following individuals for their
            contributions to this specification:
            Tab Atkins,
            David Baron,
            Oriol Brufau,
            Razvan Caliman,
            Chris Coyier,
            Anders Grimsrud,
            Vincent Hardy,
            François Remy.</p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
    <p>Conformance requirements are expressed with a combination of
        descriptive assertions and RFC 2119 terminology. The key words “MUST”,
        “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
        “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
        document are to be interpreted as described in RFC 2119.
        However, for readability, these words do not appear in all uppercase
        letters in this specification. </p>
    <p>All of the text of this specification is normative except sections
        explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>
    <p>Examples in this specification are introduced with the words “for example”
        or are set apart from the normative text with <code class="highlight">class=<c- s>"example"</c-></code>,
        like this: </p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>This is an example of an informative example.</p>
    </div>
    <p>Informative notes begin with the word “Note” and are set apart from the
        normative text with <code class="highlight">class=<c- s>"note"</c-></code>, like this: </p>
    <p class="note" role="note">Note, this is an informative note.</p>
    <p>Advisements are normative sections styled to evoke special attention and are
        set apart from other normative text with <code class="highlight">&lt;strong class=<c- s>"advisement"</c->></code>, like
        this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong></p>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>Conformance to this specification
        is defined for three conformance classes: </p>
    <dl>
        <dt>style sheet
        <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                style sheet</a>.
        <dt>renderer
        <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that interprets the semantics of a
            style sheet and renders
            documents that use them.
        <dt>authoring tool
        <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that writes a style sheet.
    </dl>
    <p>A style sheet is conformant to this specification
        if all of its statements that use syntax defined in this module are valid
        according to the generic CSS grammar and the individual grammars of each
        feature defined in this module. </p>
    <p>A renderer is conformant to this specification
        if, in addition to interpreting the style sheet as defined by the
        appropriate specifications, it supports all the features defined
        by this specification by parsing them correctly
        and rendering the document accordingly. However, the inability of a
        UA to correctly render a document due to limitations of the device
        does not make the UA non-conformant. (For example, a UA is not
        required to render color on a monochrome monitor.) </p>
    <p>An authoring tool is conformant to this specification
        if it writes style sheets that are syntactically correct according to the
        generic CSS grammar and the individual grammars of each feature in
        this module, and meet all other conformance requirements of style sheets
        as described in this module. </p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
    <p>So that authors can exploit the forward-compatible parsing rules to
        assign fallback values, CSS renderers <strong>must</strong> treat as invalid (and <a href="https://www.w3.org/TR/CSS21/conform.html#ignore">ignore
            as appropriate</a>) any at-rules, properties, property values, keywords,
        and other syntactic constructs for which they have no usable level of
        support. In particular, user agents <strong>must not</strong> selectively
        ignore unsupported component values and honor supported values in a single
        multi-value property declaration: if any value is considered invalid
        (as unsupported values must be), CSS requires that the entire declaration
        be ignored.</p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> Implementations of Unstable and
            Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="https://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the
        implementation of <a href="https://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="https://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
    <p>Once a specification reaches the Candidate Recommendation stage,
        non-experimental implementations are possible, and implementors should
        release an unprefixed implementation of any CR-level feature they
        can demonstrate to be correctly implemented according to spec. </p>
    <p>To establish and maintain the interoperability of CSS across
        implementations, the CSS Working Group requests that non-experimental
        CSS renderers submit an implementation report (and, if necessary, the
        testcases used for that implementation report) to the W3C before
        releasing an unprefixed implementation of any CSS features. Testcases
        submitted to W3C are subject to review and correction by the CSS
        Working Group. </p>
    <p>Further information on submitting testcases and implementation reports
        can be found from on the CSS Working Group’s website at <a href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>.
        Questions should be directed to the <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing
        list.</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this
            specification</span><a class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#selectordef-after">::after</a><span>, in § 4.1</span>
        <li><a href="#selectordef-before">::before</a><span>, in § 4.1</span>
        <li><a href="#csspseudoelement">CSSPseudoElement</a><span>, in § 6.1</span>
        <li><a href="#dom-csspseudoelement-element">element</a><span>, in § 6.1</span>
        <li><a href="#fictional-tag-sequence">fictional tag sequence</a><span>, in § 2.1.3</span>
        <li><a href="#selectordef-file-selector-button">::file-selector-button</a><span>, in § 4.4</span>
        <li><a href="#first-formatted-line">first formatted line</a><span>, in § 2.1.1</span>
        <li><a href="#selectordef-first-letter">::first-letter</a><span>, in § 2.2</span>
        <li><a href="#first-letter">first letter</a><span>, in § 2.2</span>
        <li><a href="#first-letter-text">first-letter text</a><span>, in § 2.2</span>
        <li><a href="#selectordef-first-line">::first-line</a><span>, in § 2.1</span>
        <li><a href="#selectordef-grammar-error">::grammar-error</a><span>, in § 3.1</span>
        <li><a href="#highlight-overlay">highlight overlay</a><span>, in § 3.4</span>
        <li><a href="#highlight-pseudo-element">highlight pseudo-element</a><span>, in § 3.1</span>
        <li><a href="#selectordef-marker">::marker</a><span>, in § 4.2</span>
        <li><a href="#paired-default-highlight-colors">paired default highlight colors</a><span>, in § 3.3</span>
        <li><a href="#dom-csspseudoelement-parent">parent</a><span>, in § 6.1</span>
        <li><a href="#selectordef-placeholder">::placeholder</a><span>, in § 4.3</span>
        <li><a href="#selectordef-first-letter-postfix">::postfix</a><span>, in § 2.2</span>
        <li><a href="#selectordef-first-letter-prefix">::prefix</a><span>, in § 2.2</span>
        <li><a href="#dom-csspseudoelement-pseudo①">pseudo()</a><span>, in § 6.1</span>
        <li>
            pseudo(type)
            <ul>
                <li><a href="#dom-csspseudoelement-pseudo">method for CSSPseudoElement</a><span>, in § 6.1</span>
                <li><a href="#dom-element-pseudo">method for Element</a><span>, in § 6.2</span>
            </ul>
        <li><a href="#selectordef-selection">::selection</a><span>, in § 3.1</span>
        <li><a href="#selectordef-spelling-error">::spelling-error</a><span>, in § 3.1</span>
        <li><a href="#selectordef-target-text">::target-text</a><span>, in § 3.1</span>
        <li><a href="#tree-abiding">tree-abiding</a><span>, in § 4</span>
        <li><a href="#tree-abiding">tree-abiding pseudo-element</a><span>, in § 4</span>
        <li><a href="#dom-csspseudoelement-type">type</a><span>, in § 6.1</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-propdef-background-color">
        <a href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color">https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-background-color">3.2.
                    Styling Highlights</a> <a href="#ref-for-propdef-background-color①">(2)</a>
            <li><a href="#ref-for-propdef-background-color②">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-propdef-background-color③">3.3.1.
                    Paired Defaults</a> <a href="#ref-for-propdef-background-color④">(2)</a>
            <li><a href="#ref-for-propdef-background-color⑤">3.6.4.
                    Replaced Elements</a> <a href="#ref-for-propdef-background-color⑥">(2)</a>
            <li><a href="#ref-for-propdef-background-color⑦"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-box-shadow">
        <a href="https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow">https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-box-shadow">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-box-fragment">
        <a href="https://www.w3.org/TR/css-break-4/#box-fragment">https://www.w3.org/TR/css-break-4/#box-fragment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-box-fragment">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cascade-origin-author">
        <a href="https://www.w3.org/TR/css-cascade-5/#cascade-origin-author">https://www.w3.org/TR/css-cascade-5/#cascade-origin-author</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cascade-origin-author">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cascaded-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#cascaded-value">https://www.w3.org/TR/css-cascade-5/#cascaded-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cascaded-value">3.3.1.
                    Paired Defaults</a> <a href="#ref-for-cascaded-value①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-all-inherit">
        <a href="https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit">https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-all-inherit">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inheritance">
        <a href="https://www.w3.org/TR/css-cascade-5/#inheritance">https://www.w3.org/TR/css-cascade-5/#inheritance</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inheritance">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a> <a href="#ref-for-inheritance①">(2)</a>
            <li><a href="#ref-for-inheritance②">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-inheritance③">3.6.3.
                    Text and Text Decorations</a>
            <li><a href="#ref-for-inheritance④">4.
                    Tree-Abiding Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inherited-property">
        <a href="https://www.w3.org/TR/css-cascade-5/#inherited-property">https://www.w3.org/TR/css-cascade-5/#inherited-property</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inherited-property">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-inherited-property①">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inherited-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#inherited-value">https://www.w3.org/TR/css-cascade-5/#inherited-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inherited-value">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-initial-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#initial-value">https://www.w3.org/TR/css-cascade-5/#initial-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-initial-value">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-initial-value①">4.
                    Tree-Abiding Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-all-revert">
        <a href="https://www.w3.org/TR/css-cascade-5/#valdef-all-revert">https://www.w3.org/TR/css-cascade-5/#valdef-all-revert</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-all-revert">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-all-revert-layer">
        <a href="https://www.w3.org/TR/css-cascade-5/#valdef-all-revert-layer">https://www.w3.org/TR/css-cascade-5/#valdef-all-revert-layer</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-all-revert-layer">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-specified-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#specified-value">https://www.w3.org/TR/css-cascade-5/#specified-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-specified-value">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-all-unset">
        <a href="https://www.w3.org/TR/css-cascade-5/#valdef-all-unset">https://www.w3.org/TR/css-cascade-5/#valdef-all-unset</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-all-unset">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-used-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#used-value">https://www.w3.org/TR/css-cascade-5/#used-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-used-value">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-origin">
        <a href="https://www.w3.org/TR/css-cascade-6/#origin">https://www.w3.org/TR/css-cascade-6/#origin</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-origin">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-color">
        <a href="https://www.w3.org/TR/css-color-4/#propdef-color">https://www.w3.org/TR/css-color-4/#propdef-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-color">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-color①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-propdef-color②">3.2.
                    Styling Highlights</a> <a href="#ref-for-propdef-color③">(2)</a> <a href="#ref-for-propdef-color④">(3)</a>
            <li><a href="#ref-for-propdef-color⑤">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-propdef-color⑥">3.3.1.
                    Paired Defaults</a>
            <li><a href="#ref-for-propdef-color⑦">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-propdef-color⑧">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-propdef-color⑨">(2)</a> <a href="#ref-for-propdef-color①⓪">(3)</a> <a href="#ref-for-propdef-color①①">(4)</a>
            <li><a href="#ref-for-propdef-color①②">3.6.4.
                    Replaced Elements</a> <a href="#ref-for-propdef-color①③">(2)</a>
            <li><a href="#ref-for-propdef-color①④"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-color-currentcolor">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor">https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-color-currentcolor">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-valdef-color-currentcolor①">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-valdef-color-currentcolor②">(2)</a>
            <li><a href="#ref-for-valdef-color-currentcolor③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-system-color-highlight">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-system-color-highlight">https://www.w3.org/TR/css-color-4/#valdef-system-color-highlight</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-system-color-highlight">3.3.
                    Default UA Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-system-color-highlighttext">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-system-color-highlighttext">https://www.w3.org/TR/css-color-4/#valdef-system-color-highlighttext</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-system-color-highlighttext">3.3.
                    Default UA Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-system-color-mark">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-system-color-mark">https://www.w3.org/TR/css-color-4/#valdef-system-color-mark</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-system-color-mark">3.3.
                    Default UA Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-system-color-marktext">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-system-color-marktext">https://www.w3.org/TR/css-color-4/#valdef-system-color-marktext</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-system-color-marktext">3.3.
                    Default UA Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-opacity">
        <a href="https://www.w3.org/TR/css-color-4/#propdef-opacity">https://www.w3.org/TR/css-color-4/#propdef-opacity</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-opacity">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-opacity①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-color-transparent">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-color-transparent">https://www.w3.org/TR/css-color-4/#valdef-color-transparent</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-color-transparent">3.6.4.
                    Replaced Elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-forced-colors-mode">
        <a href="https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode">https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-forced-colors-mode">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-forced-colors-mode①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-forced-color-adjust">
        <a href="https://www.w3.org/TR/css-color-adjust-1/#propdef-forced-color-adjust">https://www.w3.org/TR/css-color-adjust-1/#propdef-forced-color-adjust</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-forced-color-adjust">3.2.
                    Styling Highlights</a> <a href="#ref-for-propdef-forced-color-adjust①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-content">
        <a href="https://www.w3.org/TR/css-content-3/#propdef-content">https://www.w3.org/TR/css-content-3/#propdef-content</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-content">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a> <a href="#ref-for-propdef-content①">(2)</a>
            <li><a href="#ref-for-propdef-content②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-content-none">
        <a href="https://www.w3.org/TR/css-content-3/#valdef-content-none">https://www.w3.org/TR/css-content-3/#valdef-content-none</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-content-none">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-block-container">
        <a href="https://www.w3.org/TR/css-display-3/#block-container">https://www.w3.org/TR/css-display-3/#block-container</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-block-container">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-block-container①">(2)</a> <a href="#ref-for-block-container②">(3)</a> <a href="#ref-for-block-container③">(4)</a>
            <li><a href="#ref-for-block-container④">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-block-container⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-block-formatting-context">
        <a href="https://www.w3.org/TR/css-display-3/#block-formatting-context">https://www.w3.org/TR/css-display-3/#block-formatting-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-block-formatting-context">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-block-formatting-context①">2.2.2.
                    Finding the First-Letter Text</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-block-level">
        <a href="https://www.w3.org/TR/css-display-3/#block-level">https://www.w3.org/TR/css-display-3/#block-level</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-block-level">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-block-level①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-containing-block">
        <a href="https://www.w3.org/TR/css-display-3/#containing-block">https://www.w3.org/TR/css-display-3/#containing-block</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-containing-block">2.2.1.
                    First Letters and Associated Punctuation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-display">
        <a href="https://www.w3.org/TR/css-display-3/#propdef-display">https://www.w3.org/TR/css-display-3/#propdef-display</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-display">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
            <li><a href="#ref-for-propdef-display①">4.2.
                    List Markers: the ::marker pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-in-flow">
        <a href="https://www.w3.org/TR/css-display-3/#in-flow">https://www.w3.org/TR/css-display-3/#in-flow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-in-flow">2.1.1.
                    Finding the First Formatted Line</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-display-inline">
        <a href="https://www.w3.org/TR/css-display-3/#valdef-display-inline">https://www.w3.org/TR/css-display-3/#valdef-display-inline</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-display-inline">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-block">
        <a href="https://www.w3.org/TR/css-display-3/#inline-block">https://www.w3.org/TR/css-display-3/#inline-block</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-block">3.6.3.
                    Text and Text Decorations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-box">
        <a href="https://www.w3.org/TR/css-display-3/#inline-box">https://www.w3.org/TR/css-display-3/#inline-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-box">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-inline-box①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-formatting-context">
        <a href="https://www.w3.org/TR/css-display-3/#inline-formatting-context">https://www.w3.org/TR/css-display-3/#inline-formatting-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-formatting-context">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-inline-formatting-context①">2.2.2.
                    Finding the First-Letter Text</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-level">
        <a href="https://www.w3.org/TR/css-display-3/#inline-level">https://www.w3.org/TR/css-display-3/#inline-level</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-level">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-inline-level①">(2)</a>
            <li><a href="#ref-for-inline-level②">2.2.2.
                    Finding the First-Letter Text</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-level-box">
        <a href="https://www.w3.org/TR/css-display-3/#inline-level-box">https://www.w3.org/TR/css-display-3/#inline-level-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-level-box">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-inline-level-box①">3.4.
                    Area of a Highlight</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-level">
        <a href="https://www.w3.org/TR/css-display-3/#inline-level">https://www.w3.org/TR/css-display-3/#inline-level</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-level">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-inline-level①">(2)</a>
            <li><a href="#ref-for-inline-level②">2.2.2.
                    Finding the First-Letter Text</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-display-list-item">
        <a href="https://www.w3.org/TR/css-display-3/#valdef-display-list-item">https://www.w3.org/TR/css-display-3/#valdef-display-list-item</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-display-list-item">4.2.
                    List Markers: the ::marker pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-out-of-flow">
        <a href="https://www.w3.org/TR/css-display-3/#out-of-flow">https://www.w3.org/TR/css-display-3/#out-of-flow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-out-of-flow">3.6.3.
                    Text and Text Decorations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-replaced-element">
        <a href="https://www.w3.org/TR/css-display-3/#replaced-element">https://www.w3.org/TR/css-display-3/#replaced-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-replaced-element">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-initial-letter">
        <a href="https://www.w3.org/TR/css-inline-3/#propdef-initial-letter">https://www.w3.org/TR/css-inline-3/#propdef-initial-letter</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-initial-letter">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-propdef-initial-letter①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-line-box">
        <a href="https://www.w3.org/TR/css-inline-3/#line-box">https://www.w3.org/TR/css-inline-3/#line-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-line-box">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-line-box①">3.4.
                    Area of a Highlight</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-root-inline-box">
        <a href="https://www.w3.org/TR/css-inline-3/#root-inline-box">https://www.w3.org/TR/css-inline-3/#root-inline-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-root-inline-box">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-root-inline-box①">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-root-inline-box②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-item">
        <a href="https://www.w3.org/TR/css-lists-3/#list-item">https://www.w3.org/TR/css-lists-3/#list-item</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-item">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-list-item①">4.2.
                    List Markers: the ::marker pseudo-element</a> <a href="#ref-for-list-item②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-list-style-position">
        <a href="https://www.w3.org/TR/css-lists-3/#propdef-list-style-position">https://www.w3.org/TR/css-lists-3/#propdef-list-style-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-list-style-position">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-marker">
        <a href="https://www.w3.org/TR/css-lists-3/#marker">https://www.w3.org/TR/css-lists-3/#marker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-marker">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-marker①">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-marker②">4.2.
                    List Markers: the ::marker pseudo-element</a> <a href="#ref-for-marker③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-marker">
        <a href="https://www.w3.org/TR/css-lists-3/#marker">https://www.w3.org/TR/css-lists-3/#marker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-marker">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-marker①">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-marker②">4.2.
                    List Markers: the ::marker pseudo-element</a> <a href="#ref-for-marker③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-multi-column-container">
        <a href="https://www.w3.org/TR/css-multicol-1/#multi-column-container">https://www.w3.org/TR/css-multicol-1/#multi-column-container</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-multi-column-container">2.1.1.
                    Finding the First Formatted Line</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-ruby-position">
        <a href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position">https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-ruby-position">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-ruby-position①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-parse-something-according-to-a-css-grammar">
        <a href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar">https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-parse-something-according-to-a-css-grammar">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-table-wrapper-box">
        <a href="https://www.w3.org/TR/css-tables-3/#table-wrapper-box">https://www.w3.org/TR/css-tables-3/#table-wrapper-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-table-wrapper-box">2.1.1.
                    Finding the First Formatted Line</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-content-language">
        <a href="https://www.w3.org/TR/css-text-3/#content-language">https://www.w3.org/TR/css-text-3/#content-language</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-content-language">2.2.1.
                    First Letters and Associated Punctuation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-align">
        <a href="https://www.w3.org/TR/css-text-3/#propdef-text-align">https://www.w3.org/TR/css-text-3/#propdef-text-align</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-align">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typographic-character-unit">
        <a href="https://www.w3.org/TR/css-text-3/#typographic-character-unit">https://www.w3.org/TR/css-text-3/#typographic-character-unit</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typographic-character-unit">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-typographic-character-unit①">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-typographic-character-unit②">(2)</a>
                <a href="#ref-for-typographic-character-unit③">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-unicode-general-category">
        <a href="https://www.w3.org/TR/css-text-3/#unicode-general-category">https://www.w3.org/TR/css-text-3/#unicode-general-category</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-unicode-general-category">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-unicode-general-category①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-word-separator">
        <a href="https://www.w3.org/TR/css-text-3/#word-separator">https://www.w3.org/TR/css-text-3/#word-separator</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-word-separator">2.2.1.
                    First Letters and Associated Punctuation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-decoration">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-decoration">https://www.w3.org/TR/css-text-decor-3/#propdef-text-decoration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-decoration">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-emphasis">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis">https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-emphasis">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-emphasis-position">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis-position">https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-emphasis-position"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-shadow">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow">https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-shadow">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-propdef-text-shadow①">3.6.2.
                    Shadows</a> <a href="#ref-for-propdef-text-shadow②">(2)</a>
            <li><a href="#ref-for-propdef-text-shadow③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-underline-position">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-underline-position">https://www.w3.org/TR/css-text-decor-3/#propdef-text-underline-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-underline-position">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-text-decoration-line-grammar-error">
        <a href="https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-grammar-error">https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-grammar-error</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-text-decoration-line-grammar-error"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-text-decoration-line-spelling-error">
        <a href="https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-spelling-error">https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-spelling-error</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-text-decoration-line-spelling-error"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-underline-offset">
        <a href="https://drafts.csswg.org/css-text-decor-4/#propdef-text-underline-offset">https://drafts.csswg.org/css-text-decor-4/#propdef-text-underline-offset</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-underline-offset">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-caret-color">
        <a href="https://www.w3.org/TR/css-ui-3/#propdef-caret-color">https://www.w3.org/TR/css-ui-3/#propdef-caret-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-caret-color"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-cursor">
        <a href="https://www.w3.org/TR/css-ui-3/#propdef-cursor">https://www.w3.org/TR/css-ui-3/#propdef-cursor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-cursor"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-outline">
        <a href="https://www.w3.org/TR/css-ui-3/#propdef-outline">https://www.w3.org/TR/css-ui-3/#propdef-outline</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-outline"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-custom-property">
        <a href="https://www.w3.org/TR/css-variables-1/#custom-property">https://www.w3.org/TR/css-variables-1/#custom-property</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-custom-property">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-custom-property①">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-custom-property②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-direction">
        <a href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction">https://www.w3.org/TR/css-writing-modes-3/#propdef-direction</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-direction">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-direction①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-unicode-bidi">
        <a href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi">https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-unicode-bidi"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-block-axis">
        <a href="https://www.w3.org/TR/css-writing-modes-4/#block-axis">https://www.w3.org/TR/css-writing-modes-4/#block-axis</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-block-axis">3.4.
                    Area of a Highlight</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-orientation">
        <a href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation">https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-orientation">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-writing-mode">
        <a href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode">https://www.w3.org/TR/css-writing-modes-4/#writing-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-writing-mode"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-writing-mode">
        <a href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode">https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-writing-mode">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-after">
        <a href="https://drafts.csswg.org/css2/#selectordef-after">https://drafts.csswg.org/css2/#selectordef-after</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-after③">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-first-letter">
        <a href="https://drafts.csswg.org/css2/#selectordef-first-letter">https://drafts.csswg.org/css2/#selectordef-first-letter</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter③③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-line-height">
        <a href="https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height">https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-line-height">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-line-height①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cssomstring">
        <a href="https://www.w3.org/TR/cssom-1/#cssomstring">https://www.w3.org/TR/cssom-1/#cssomstring</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cssomstring">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-cssomstring①">(2)</a>
            <li><a href="#ref-for-cssomstring②">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cssstyledeclaration">
        <a href="https://www.w3.org/TR/cssom-1/#cssstyledeclaration">https://www.w3.org/TR/cssom-1/#cssstyledeclaration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cssstyledeclaration">6.1.
                    CSSPseudoElement Interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-window-getcomputedstyle">
        <a href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle">https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-window-getcomputedstyle">6.3.
                    getComputedStyle()</a> <a href="#ref-for-dom-window-getcomputedstyle①">(2)</a>
            <li><a href="#ref-for-dom-window-getcomputedstyle②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-element">
        <a href="https://dom.spec.whatwg.org/#element">https://dom.spec.whatwg.org/#element</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-element">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-element①">(2)</a> <a href="#ref-for-element②">(3)</a> <a href="#ref-for-element③">(4)</a>
            <li><a href="#ref-for-element④">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-element⑤">(2)</a> <a href="#ref-for-element⑥">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-eventtarget">
        <a href="https://dom.spec.whatwg.org/#eventtarget">https://dom.spec.whatwg.org/#eventtarget</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventtarget">6.1.
                    CSSPseudoElement Interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-fill-color">
        <a href="https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color">https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-fill-color">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-propdef-fill-color①">3.3.1.
                    Paired Defaults</a>
            <li><a href="#ref-for-propdef-fill-color②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-stroke-color">
        <a href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color">https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-stroke-color">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-propdef-stroke-color①">3.3.1.
                    Paired Defaults</a>
            <li><a href="#ref-for-propdef-stroke-color②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-stroke-width">
        <a href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width">https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-stroke-width">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-input-element">
        <a href="https://html.spec.whatwg.org/multipage/input.html#the-input-element">https://html.spec.whatwg.org/multipage/input.html#the-input-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-input-element">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-attr-input-placeholder">
        <a href="https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder">https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-attr-input-placeholder">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-textarea-element">
        <a href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element">https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-textarea-element">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-x">
        <a href="https://www.w3.org/TR/selectors-3/#x">https://www.w3.org/TR/selectors-3/#x</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-x">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-placeholder-shown-pseudo">
        <a href="https://www.w3.org/TR/selectors-4/#placeholder-shown-pseudo">https://www.w3.org/TR/selectors-4/#placeholder-shown-pseudo</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-placeholder-shown-pseudo">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-target-pseudo">
        <a href="https://www.w3.org/TR/selectors-4/#target-pseudo">https://www.w3.org/TR/selectors-4/#target-pseudo</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-target-pseudo">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-pseudo-element-selector">
        <a href="https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector">https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-pseudo-element-selector">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-originating-element">
        <a href="https://www.w3.org/TR/selectors-4/#originating-element">https://www.w3.org/TR/selectors-4/#originating-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-originating-element">1. Introduction</a>
            <li><a href="#ref-for-originating-element①">2.1.
                    First-Line Text: the ::first-line pseudo-element</a>
            <li><a href="#ref-for-originating-element②">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-originating-element③">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-originating-element④">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-originating-element⑤">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-originating-element⑥">3.2.
                    Styling Highlights</a> <a href="#ref-for-originating-element⑦">(2)</a> <a href="#ref-for-originating-element⑧">(3)</a>
            <li><a href="#ref-for-originating-element⑨">3.5.
                    Cascading and Per-Element Highlight Styles</a> <a href="#ref-for-originating-element①⓪">(2)</a>
            <li><a href="#ref-for-originating-element①①">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-originating-element①②">(2)</a>
            <li><a href="#ref-for-originating-element①③">4.
                    Tree-Abiding Pseudo-elements</a>
            <li><a href="#ref-for-originating-element①④">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a> <a href="#ref-for-originating-element①⑤">(2)</a> <a href="#ref-for-originating-element①⑥">(3)</a> <a href="#ref-for-originating-element①⑦">(4)</a> <a href="#ref-for-originating-element①⑧">(5)</a>
            <li><a href="#ref-for-originating-element①⑨">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-originating-element②⓪">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-originating-element②①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-pseudo-element">
        <a href="https://www.w3.org/TR/selectors-4/#pseudo-element">https://www.w3.org/TR/selectors-4/#pseudo-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-pseudo-element">1. Introduction</a>
            <li><a href="#ref-for-pseudo-element①">2.1.
                    First-Line Text: the ::first-line pseudo-element</a>
            <li><a href="#ref-for-pseudo-element②">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-pseudo-element③">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a> <a href="#ref-for-pseudo-element④">(2)</a> <a href="#ref-for-pseudo-element⑤">(3)</a>
            <li><a href="#ref-for-pseudo-element⑥">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-pseudo-element⑦">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-pseudo-element⑧">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-pseudo-element⑨">3.6.3.
                    Text and Text Decorations</a>
            <li><a href="#ref-for-pseudo-element①⓪">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
            <li><a href="#ref-for-pseudo-element①①">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-pseudo-element①②">6.2.
                    pseudo() method of the Element interface</a>
            <li><a href="#ref-for-pseudo-element①③"> Changes</a> <a href="#ref-for-pseudo-element①④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selector">
        <a href="https://www.w3.org/TR/selectors-4/#selector">https://www.w3.org/TR/selectors-4/#selector</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selector">1. Introduction</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sub-pseudo-element">
        <a href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element">https://www.w3.org/TR/selectors-4/#sub-pseudo-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sub-pseudo-element">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a> <a href="#ref-for-sub-pseudo-element①">(2)</a>
            <li><a href="#ref-for-sub-pseudo-element②">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-sub-pseudo-element③">(2)</a> <a href="#ref-for-sub-pseudo-element④">(3)</a>
            <li><a href="#ref-for-sub-pseudo-element⑤"> Changes</a> <a href="#ref-for-sub-pseudo-element⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ultimate-originating-element">
        <a href="https://www.w3.org/TR/selectors-4/#ultimate-originating-element">https://www.w3.org/TR/selectors-4/#ultimate-originating-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ultimate-originating-element">6.1.
                    CSSPseudoElement Interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-url-fragment">
        <a href="https://url.spec.whatwg.org/#concept-url-fragment">https://url.spec.whatwg.org/#concept-url-fragment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-url-fragment">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-concept-url-fragment①">(2)</a> <a href="#ref-for-concept-url-fragment②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-Exposed">
        <a href="https://webidl.spec.whatwg.org/#Exposed">https://webidl.spec.whatwg.org/#Exposed</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-Exposed">6.1.
                    CSSPseudoElement Interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-this">
        <a href="https://webidl.spec.whatwg.org/#this">https://webidl.spec.whatwg.org/#this</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-this">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by
            reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-background-color">background-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-box-shadow">box-shadow</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-break-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-box-fragment">box fragment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-cascade-5]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-cascade-origin-author">author origin</span>
                <li><span class="dfn-paneled" id="term-for-cascaded-value">cascaded value</span>
                <li><span class="dfn-paneled" id="term-for-valdef-all-inherit">inherit</span>
                <li><span class="dfn-paneled" id="term-for-inheritance">inheritance</span>
                <li><span class="dfn-paneled" id="term-for-inherited-property">inherited property</span>
                <li><span class="dfn-paneled" id="term-for-inherited-value">inherited value</span>
                <li><span class="dfn-paneled" id="term-for-initial-value">initial value</span>
                <li><span class="dfn-paneled" id="term-for-valdef-all-revert">revert</span>
                <li><span class="dfn-paneled" id="term-for-valdef-all-revert-layer">revert-layer</span>
                <li><span class="dfn-paneled" id="term-for-specified-value">specified value</span>
                <li><span class="dfn-paneled" id="term-for-valdef-all-unset">unset</span>
                <li><span class="dfn-paneled" id="term-for-used-value">used value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-cascade-6]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-origin">cascade origin</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-color-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-color">color</span>
                <li><span class="dfn-paneled" id="term-for-valdef-color-currentcolor">currentcolor</span>
                <li><span class="dfn-paneled" id="term-for-valdef-system-color-highlight">highlight</span>
                <li><span class="dfn-paneled" id="term-for-valdef-system-color-highlighttext">highlighttext</span>
                <li><span class="dfn-paneled" id="term-for-valdef-system-color-mark">mark</span>
                <li><span class="dfn-paneled" id="term-for-valdef-system-color-marktext">marktext</span>
                <li><span class="dfn-paneled" id="term-for-propdef-opacity">opacity</span>
                <li><span class="dfn-paneled" id="term-for-valdef-color-transparent">transparent</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-color-adjust-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-forced-colors-mode">forced colors mode</span>
                <li><span class="dfn-paneled" id="term-for-propdef-forced-color-adjust">forced-color-adjust</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-content-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-content">content</span>
                <li><span class="dfn-paneled" id="term-for-valdef-content-none">none</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-block-container">block container</span>
                <li><span class="dfn-paneled" id="term-for-block-formatting-context">block formatting context</span>
                <li><span class="dfn-paneled" id="term-for-block-level">block-level</span>
                <li><span class="dfn-paneled" id="term-for-containing-block">containing block</span>
                <li><span class="dfn-paneled" id="term-for-propdef-display">display</span>
                <li><span class="dfn-paneled" id="term-for-in-flow">in-flow</span>
                <li><span class="dfn-paneled" id="term-for-valdef-display-inline">inline</span>
                <li><span class="dfn-paneled" id="term-for-inline-block">inline block</span>
                <li><span class="dfn-paneled" id="term-for-inline-box">inline box</span>
                <li><span class="dfn-paneled" id="term-for-inline-formatting-context">inline formatting context</span>
                <li><span class="dfn-paneled" id="term-for-inline-level">inline-level</span>
                <li><span class="dfn-paneled" id="term-for-inline-level-box">inline-level box</span>
                <li><span class="dfn-paneled" id="term-for-inline-level①">inline-level content</span>
                <li><span class="dfn-paneled" id="term-for-valdef-display-list-item">list-item</span>
                <li><span class="dfn-paneled" id="term-for-out-of-flow">out-of-flow</span>
                <li><span class="dfn-paneled" id="term-for-replaced-element">replaced element</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-INLINE-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-initial-letter">initial-letter</span>
                <li><span class="dfn-paneled" id="term-for-line-box">line box</span>
                <li><span class="dfn-paneled" id="term-for-root-inline-box">root inline box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-LISTS-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-list-item">list item</span>
                <li><span class="dfn-paneled" id="term-for-propdef-list-style-position">list-style-position</span>
                <li><span class="dfn-paneled" id="term-for-marker">marker</span>
                <li><span class="dfn-paneled" id="term-for-marker①">marker box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-multicol-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-multi-column-container">multi-column container</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-RUBY-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-ruby-position">ruby-position</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-syntax-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-css-parse-something-according-to-a-css-grammar">parse</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-tables-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-table-wrapper-box">table wrapper box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TEXT-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-content-language">content language</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-align">text-align</span>
                <li><span class="dfn-paneled" id="term-for-typographic-character-unit">typographic character unit</span>
                <li><span class="dfn-paneled" id="term-for-unicode-general-category">unicode general category</span>
                <li><span class="dfn-paneled" id="term-for-word-separator">word-separator character</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TEXT-DECOR-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-text-decoration">text-decoration</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-emphasis">text-emphasis</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-emphasis-position">text-emphasis-position</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-shadow">text-shadow</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-underline-position">text-underline-position</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-text-decor-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-valdef-text-decoration-line-grammar-error">grammar-error</span>
                <li><span class="dfn-paneled" id="term-for-valdef-text-decoration-line-spelling-error">spelling-error</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-underline-offset">text-underline-offset</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-ui-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-caret-color">caret-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-cursor">cursor</span>
                <li><span class="dfn-paneled" id="term-for-propdef-outline">outline</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VARIABLES-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-custom-property">custom property</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-writing-modes-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-direction">direction</span>
                <li><span class="dfn-paneled" id="term-for-propdef-unicode-bidi">unicode-bidi</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-writing-modes-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-block-axis">block axis</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-orientation">text-orientation</span>
                <li><span class="dfn-paneled" id="term-for-writing-mode">writing mode</span>
                <li><span class="dfn-paneled" id="term-for-propdef-writing-mode">writing-mode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS2]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-selectordef-after">:after</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-first-letter">:first-letter</span>
                <li><span class="dfn-paneled" id="term-for-propdef-line-height">line-height</span>
            </ul>
        <li>
            <a data-link-type="biblio">[cssom-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-cssomstring">CSSOMString</span>
                <li><span class="dfn-paneled" id="term-for-cssstyledeclaration">CSSStyleDeclaration</span>
                <li><span class="dfn-paneled" id="term-for-dom-window-getcomputedstyle">getComputedStyle(elt)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-element">Element</span>
                <li><span class="dfn-paneled" id="term-for-eventtarget">EventTarget</span>
            </ul>
        <li>
            <a data-link-type="biblio">[fill-stroke-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-fill-color">fill-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-stroke-color">stroke-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-stroke-width">stroke-width</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-the-input-element">input</span>
                <li><span class="dfn-paneled" id="term-for-attr-input-placeholder">placeholder</span>
                <li><span class="dfn-paneled" id="term-for-the-textarea-element">textarea</span>
            </ul>
        <li>
            <a data-link-type="biblio">[selectors-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-x">*</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SELECTORS-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-placeholder-shown-pseudo">:placeholder-shown</span>
                <li><span class="dfn-paneled" id="term-for-target-pseudo">:target</span>
                <li><span class="dfn-paneled" id="term-for-typedef-pseudo-element-selector">&lt;pseudo-element-selector></span>
                <li><span class="dfn-paneled" id="term-for-originating-element">originating element</span>
                <li><span class="dfn-paneled" id="term-for-pseudo-element">pseudo-element</span>
                <li><span class="dfn-paneled" id="term-for-selector">selector</span>
                <li><span class="dfn-paneled" id="term-for-sub-pseudo-element">sub-pseudo-element</span>
                <li><span class="dfn-paneled" id="term-for-ultimate-originating-element">ultimate originating
                        element</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-concept-url-fragment">fragment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
                <li><span class="dfn-paneled" id="term-for-this">this</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
        <dd>Bert Bos; Elika Etemad; Brad Kemper. <a href="https://www.w3.org/TR/css-backgrounds-3/"><cite>CSS
                    Backgrounds and Borders Module Level 3</cite></a>. 26 July 2021. CR. URL: <a href="https://www.w3.org/TR/css-backgrounds-3/">https://www.w3.org/TR/css-backgrounds-3/</a>
        <dt id="biblio-css-break-4">[CSS-BREAK-4]
        <dd>Rossen Atanassov; Elika Etemad. <a href="https://www.w3.org/TR/css-break-4/"><cite>CSS Fragmentation Module
                    Level 4</cite></a>. 18 December 2018. WD. URL: <a href="https://www.w3.org/TR/css-break-4/">https://www.w3.org/TR/css-break-4/</a>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    Cascading and Inheritance Level 5</cite></a>. 13 January 2022. CR. URL: <a href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-cascade-6">[CSS-CASCADE-6]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-6/"><cite>CSS
                    Cascading and Inheritance Level 6</cite></a>. 21 December 2021. WD. URL: <a href="https://www.w3.org/TR/css-cascade-6/">https://www.w3.org/TR/css-cascade-6/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Tab Atkins Jr.; Chris Lilley; Lea Verou. <a href="https://www.w3.org/TR/css-color-4/"><cite>CSS Color Module
                    Level 4</cite></a>. 1 November 2022. CR. URL: <a href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-color-adjust-1">[CSS-COLOR-ADJUST-1]
        <dd>Elika Etemad; et al. <a href="https://www.w3.org/TR/css-color-adjust-1/"><cite>CSS Color Adjustment Module
                    Level 1</cite></a>. 14 June 2022. CR. URL: <a href="https://www.w3.org/TR/css-color-adjust-1/">https://www.w3.org/TR/css-color-adjust-1/</a>
        <dt id="biblio-css-content-3">[CSS-CONTENT-3]
        <dd>Elika Etemad; Dave Cramer. <a href="https://www.w3.org/TR/css-content-3/"><cite>CSS Generated Content Module
                    Level 3</cite></a>. 2 August 2019. WD. URL: <a href="https://www.w3.org/TR/css-content-3/">https://www.w3.org/TR/css-content-3/</a>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS Display Module Level
                    3</cite></a>. 18 November 2022. CR. URL: <a href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-inline-3">[CSS-INLINE-3]
        <dd>Dave Cramer; Elika Etemad. <a href="https://www.w3.org/TR/css-inline-3/"><cite>CSS Inline Layout Module
                    Level 3</cite></a>. 14 November 2022. WD. URL: <a href="https://www.w3.org/TR/css-inline-3/">https://www.w3.org/TR/css-inline-3/</a>
        <dt id="biblio-css-lists-3">[CSS-LISTS-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-lists-3/"><cite>CSS Lists and Counters
                    Module Level 3</cite></a>. 17 November 2020. WD. URL: <a href="https://www.w3.org/TR/css-lists-3/">https://www.w3.org/TR/css-lists-3/</a>
        <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
        <dd>Florian Rivoal; Rachel Andrew. <a href="https://www.w3.org/TR/css-multicol-1/"><cite>CSS Multi-column Layout
                    Module Level 1</cite></a>. 12 October 2021. CR. URL: <a href="https://www.w3.org/TR/css-multicol-1/">https://www.w3.org/TR/css-multicol-1/</a>
        <dt id="biblio-css-ruby-1">[CSS-RUBY-1]
        <dd>Elika Etemad; et al. <a href="https://www.w3.org/TR/css-ruby-1/"><cite>CSS Ruby Annotation Layout Module
                    Level 1</cite></a>. 2 December 2021. WD. URL: <a href="https://www.w3.org/TR/css-ruby-1/">https://www.w3.org/TR/css-ruby-1/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS Syntax Module Level
                    3</cite></a>. 24 December 2021. CR. URL: <a href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-tables-3">[CSS-TABLES-3]
        <dd>François Remy; Greg Whitworth; David Baron. <a href="https://www.w3.org/TR/css-tables-3/"><cite>CSS Table
                    Module Level 3</cite></a>. 27 July 2019. WD. URL: <a href="https://www.w3.org/TR/css-tables-3/">https://www.w3.org/TR/css-tables-3/</a>
        <dt id="biblio-css-text-3">[CSS-TEXT-3]
        <dd>Elika Etemad; Koji Ishii; Florian Rivoal. <a href="https://www.w3.org/TR/css-text-3/"><cite>CSS Text Module
                    Level 3</cite></a>. 5 May 2022. CR. URL: <a href="https://www.w3.org/TR/css-text-3/">https://www.w3.org/TR/css-text-3/</a>
        <dt id="biblio-css-text-decor-3">[CSS-TEXT-DECOR-3]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-text-decor-3/"><cite>CSS Text Decoration Module
                    Level 3</cite></a>. 5 May 2022. CR. URL: <a href="https://www.w3.org/TR/css-text-decor-3/">https://www.w3.org/TR/css-text-decor-3/</a>
        <dt id="biblio-css-text-decor-4">[CSS-TEXT-DECOR-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-text-decor-4/"><cite>CSS Text Decoration Module
                    Level 4</cite></a>. 4 May 2022. WD. URL: <a href="https://www.w3.org/TR/css-text-decor-4/">https://www.w3.org/TR/css-text-decor-4/</a>
        <dt id="biblio-css-ui-3">[CSS-UI-3]
        <dd>Tantek Çelik; Florian Rivoal. <a href="https://www.w3.org/TR/css-ui-3/"><cite>CSS Basic User Interface
                    Module Level 3 (CSS3 UI)</cite></a>. 21 June 2018. REC. URL: <a href="https://www.w3.org/TR/css-ui-3/">https://www.w3.org/TR/css-ui-3/</a>
        <dt id="biblio-css-variables-1">[CSS-VARIABLES-1]
        <dd>Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-variables-1/"><cite>CSS Custom Properties for Cascading
                    Variables Module Level 1</cite></a>. 16 June 2022. CR. URL: <a href="https://www.w3.org/TR/css-variables-1/">https://www.w3.org/TR/css-variables-1/</a>
        <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-3/"><cite>CSS Writing Modes Level
                    3</cite></a>. 10 December 2019. REC. URL: <a href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS Writing Modes Level
                    4</cite></a>. 30 July 2019. CR. URL: <a href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS21/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS
                    2.1) Specification</cite></a>. 7 June 2011. REC. URL: <a href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://www.w3.org/TR/cssom-1/"><cite>CSS Object Model
                    (CSSOM)</cite></a>. 26 August 2021. WD. URL: <a href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-fill-stroke-3">[FILL-STROKE-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/fill-stroke-3/"><cite>CSS Fill and Stroke
                    Module Level 3</cite></a>. 13 April 2017. WD. URL: <a href="https://www.w3.org/TR/fill-stroke-3/">https://www.w3.org/TR/fill-stroke-3/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-selectors-4">[SELECTORS-4]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/selectors-4/"><cite>Selectors Level
                    4</cite></a>. 11 November 2022. WD. URL: <a href="https://www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a>
        <dt id="biblio-uax44">[UAX44]
        <dd>Ken Whistler. <a href="https://www.unicode.org/reports/tr44/tr44-30.html"><cite>Unicode Character
                    Database</cite></a>. 2 September 2022. Unicode Standard Annex #44. URL: <a href="https://www.unicode.org/reports/tr44/tr44-30.html">https://www.unicode.org/reports/tr44/tr44-30.html</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard.
            URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-4">[CSS-CASCADE-4]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-4/"><cite>CSS Cascading and
                    Inheritance Level 4</cite></a>. 13 January 2022. CR. URL: <a href="https://www.w3.org/TR/css-cascade-4/">https://www.w3.org/TR/css-cascade-4/</a>
        <dt id="biblio-css-color-3">[CSS-COLOR-3]
        <dd>Tantek Çelik; Chris Lilley; David Baron. <a href="https://www.w3.org/TR/css-color-3/"><cite>CSS Color Module
                    Level 3</cite></a>. 18 January 2022. REC. URL: <a href="https://www.w3.org/TR/css-color-3/">https://www.w3.org/TR/css-color-3/</a>
        <dt id="biblio-css-fonts-3">[CSS-FONTS-3]
        <dd>John Daggett; Myles Maxfield; Chris Lilley. <a href="https://www.w3.org/TR/css-fonts-3/"><cite>CSS Fonts
                    Module Level 3</cite></a>. 20 September 2018. REC. URL: <a href="https://www.w3.org/TR/css-fonts-3/">https://www.w3.org/TR/css-fonts-3/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-html5">[HTML5]
        <dd>Ian Hickson; et al. <a href="https://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. 27 March 2018. REC. URL:
            <a href="https://www.w3.org/TR/html5/">https://www.w3.org/TR/html5/</a>
        <dt id="biblio-selectors-3">[SELECTORS-3]
        <dd>Tantek Çelik; et al. <a href="https://www.w3.org/TR/selectors-3/"><cite>Selectors Level 3</cite></a>. 6
            November 2018. REC. URL: <a href="https://www.w3.org/TR/selectors-3/">https://www.w3.org/TR/selectors-3/</a>
        <dt id="biblio-uax29">[UAX29]
        <dd>Christopher Chapman. <a href="https://www.unicode.org/reports/tr29/tr29-41.html"><cite>Unicode Text
                    Segmentation</cite></a>. 26 August 2022. Unicode Standard Annex #29. URL: <a href="https://www.unicode.org/reports/tr29/tr29-41.html">https://www.unicode.org/reports/tr29/tr29-41.html</a>
        <dt id="biblio-web-animations-1">[WEB-ANIMATIONS-1]
        <dd>Brian Birtles; et al. <a href="https://www.w3.org/TR/web-animations-1/"><cite>Web Animations</cite></a>. 8
            September 2022. WD. URL: <a href="https://www.w3.org/TR/web-animations-1/">https://www.w3.org/TR/web-animations-1/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csspseudoelement"><code class="highlight"><c- g>CSSPseudoElement</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csspseudoelement-type"><c- g>type</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-csspseudoelement-element"><c- g>element</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#csspseudoelement"><c- n>CSSPseudoElement</c-></a>) <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Element or CSSPseudoElement)" href="#dom-csspseudoelement-parent"><c- g>parent</c-></a>;
    <a data-link-type="idl-name" href="#csspseudoelement"><c- n>CSSPseudoElement</c-></a>? <a href="#dom-csspseudoelement-pseudo"><code class="highlight"><c- g>pseudo</c-></code></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-csspseudoelement-pseudo-type-type"><code class="highlight"><c- g>type</c-></code></a>);
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#element"><c- g>Element</c-></a> {
  <a data-link-type="idl-name" href="#csspseudoelement"><c- n>CSSPseudoElement</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-element-pseudo"><c- g>pseudo</c-></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-element-pseudo-type-type"><code class="highlight"><c- g>type</c-></code></a>);
};

</pre>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> Bikeshed is <a href="https://github.com/tabatkins/bikeshed/issues/2202">eating
                punctuation</a> in this note, which is not helpful. <a class="issue-return" href="#issue-14a38cf3" title="Jump to section">↵</a></div>
        <div class="issue"> Are there any other properties that should be included here? <a class="issue-return" href="#issue-6ca196f5" title="Jump to section">↵</a></div>
        <div class="issue"> UA tweaks to the presentation of highlights
            in ways that <em>are</em> controlled by CSS
            are currently under discussion
            in <a href="https://github.com/w3c/csswg-drafts/issues/6853">Issue 6853</a>. <a class="issue-return" href="#issue-c10df75c" title="Jump to section">↵</a></div>
        <div class="issue"> See <a href="https://lists.w3.org/Archives/Public/www-style/2008Nov/0022.html">F2F
                minutes</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2008Oct/0268.html">dbaron’s
                message</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0247.html">Daniel’s
                thread</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0261.html">Gecko notes</a>,
            <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0366.html">Opera notes</a>, <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0280.html">Webkit notes</a> <a class="issue-return" href="#issue-13b80e20" title="Jump to section">↵</a>
        </div>
        <div class="issue"> Not sure if this is the correct way of describing the way things work. <a class="issue-return" href="#issue-271a1b90" title="Jump to section">↵</a></div>
        <div class="issue"> Interaction of <a class="css" data-link-type="maybe" href="#selectordef-marker">::marker</a>
            and <a class="css" data-link-type="maybe" href="#selectordef-first-line">::first-line</a> is currently under
            discussion in <a href="https://github.com/w3c/csswg-drafts/issues/4506">Issue 4506</a>. <a class="issue-return" href="#issue-c80e7017" title="Jump to section">↵</a></div>
        <div class="issue"> Should <a class="css" data-link-type="maybe" href="#selectordef-marker">::marker</a> also
            have <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix">::prefix</a> and <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix">::postfix</a> sub-elements?
            <a class="issue-return" href="#issue-1caf313e" title="Jump to section">↵</a>
        </div>
        <div class="issue"> Should <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a> properties
            be excluded? <a href="https://github.com/w3c/csswg-drafts/issues/5379">[Issue #5379]</a> <a class="issue-return" href="#issue-d70c3c0a" title="Jump to section">↵</a></div>
        <div class="issue"> Authors seem to want <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-3/#propdef-text-align">text-align</a> on the list of supported
            properties.
            See e.g. <a href="https://css-tricks.com/almanac/selectors/p/placeholder/">comments here</a>. <a class="issue-return" href="#issue-1631f2fa" title="Jump to section">↵</a></div>
        <div class="issue"> This interface is under design development,
            and this draft is looking for feedback more than implementation.
            The CSSWG would particularly appreciate hearing about use cases and problems. <a class="issue-return" href="#issue-22d457b7" title="Jump to section">↵</a></div>
        <div class="issue"> The identity, lifetime, and nullness of the return value
            (and potential error cases)
            of the <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo">pseudo()</a></code>
            method is still under discussion.
            See <a href="https://github.com/w3c/csswg-drafts/issues/3607">Issue 3607</a> and <a href="https://github.com/w3c/csswg-drafts/issues/3603">Issue 3603</a>. <a class="issue-return" href="#issue-302461e7" title="Jump to section">↵</a></div>
    </div>
    <aside class="dfn-panel" data-for="selectordef-first-line">
        <b><a href="#selectordef-first-line">#selectordef-first-line</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-line">1. Introduction</a>
            <li><a href="#ref-for-selectordef-first-line①">2.1.
                    First-Line Text: the ::first-line pseudo-element</a>
            <li><a href="#ref-for-selectordef-first-line②">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-selectordef-first-line③">(2)</a> <a href="#ref-for-selectordef-first-line④">(3)</a> <a href="#ref-for-selectordef-first-line⑤">(4)</a>
            <li><a href="#ref-for-selectordef-first-line⑥">2.1.2.
                    Styling the ::first-line Pseudo-element</a> <a href="#ref-for-selectordef-first-line⑦">(2)</a> <a href="#ref-for-selectordef-first-line⑧">(3)</a> <a href="#ref-for-selectordef-first-line⑨">(4)</a>
                <a href="#ref-for-selectordef-first-line①⓪">(5)</a>
            <li><a href="#ref-for-selectordef-first-line①①">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a> <a href="#ref-for-selectordef-first-line①②">(2)</a> <a href="#ref-for-selectordef-first-line①③">(3)</a>
                <a href="#ref-for-selectordef-first-line①④">(4)</a>
            <li><a href="#ref-for-selectordef-first-line①⑤">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-selectordef-first-line①⑥">(2)</a>
            <li><a href="#ref-for-selectordef-first-line①⑦">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a> <a href="#ref-for-selectordef-first-line①⑧">(2)</a>
            <li><a href="#ref-for-selectordef-first-line①⑨">3.6.3.
                    Text and Text Decorations</a>
            <li><a href="#ref-for-selectordef-first-line②⓪">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
            <li><a href="#ref-for-selectordef-first-line②①">4.2.
                    List Markers: the ::marker pseudo-element</a>
            <li><a href="#ref-for-selectordef-first-line②②">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
            <li><a href="#ref-for-selectordef-first-line②③">5.
                    Overlapping Pseudo-element Interactions</a>
            <li><a href="#ref-for-selectordef-first-line②④">7.
                    Compatibility Syntax</a>
            <li><a href="#ref-for-selectordef-first-line②⑤"> Changes</a> <a href="#ref-for-selectordef-first-line②⑥">(2)</a> <a href="#ref-for-selectordef-first-line②⑦">(3)</a>
                <a href="#ref-for-selectordef-first-line②⑧">(4)</a> <a href="#ref-for-selectordef-first-line②⑨">(5)</a>
                <a href="#ref-for-selectordef-first-line③⓪">(6)</a> <a href="#ref-for-selectordef-first-line③①">(7)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="first-formatted-line">
        <b><a href="#first-formatted-line">#first-formatted-line</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-first-formatted-line">2.1.
                    First-Line Text: the ::first-line pseudo-element</a>
            <li><a href="#ref-for-first-formatted-line①">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-first-formatted-line②">(2)</a> <a href="#ref-for-first-formatted-line③">(3)</a> <a href="#ref-for-first-formatted-line④">(4)</a> <a href="#ref-for-first-formatted-line⑤">(5)</a>
            <li><a href="#ref-for-first-formatted-line⑥">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-first-formatted-line⑦">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-first-formatted-line⑧">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="fictional-tag-sequence">
        <b><a href="#fictional-tag-sequence">#fictional-tag-sequence</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-fictional-tag-sequence">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-fictional-tag-sequence①">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a> <a href="#ref-for-fictional-tag-sequence②">(2)</a>
            <li><a href="#ref-for-fictional-tag-sequence③">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a> <a href="#ref-for-fictional-tag-sequence④">(2)</a>
            <li><a href="#ref-for-fictional-tag-sequence⑤">5.
                    Overlapping Pseudo-element Interactions</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-first-letter">
        <b><a href="#selectordef-first-letter">#selectordef-first-letter</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter①">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a> <a href="#ref-for-selectordef-first-letter②">(2)</a> <a href="#ref-for-selectordef-first-letter③">(3)</a> <a href="#ref-for-selectordef-first-letter④">(4)</a>
            <li><a href="#ref-for-selectordef-first-letter⑤">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-selectordef-first-letter⑥">(2)</a> <a href="#ref-for-selectordef-first-letter⑦">(3)</a>
            <li><a href="#ref-for-selectordef-first-letter⑧">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-selectordef-first-letter⑨">(2)</a> <a href="#ref-for-selectordef-first-letter①⓪">(3)</a> <a href="#ref-for-selectordef-first-letter①①">(4)</a> <a href="#ref-for-selectordef-first-letter①②">(5)</a>
            <li><a href="#ref-for-selectordef-first-letter①③">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a> <a href="#ref-for-selectordef-first-letter①④">(2)</a> <a href="#ref-for-selectordef-first-letter①⑤">(3)</a> <a href="#ref-for-selectordef-first-letter①⑥">(4)</a> <a href="#ref-for-selectordef-first-letter①⑦">(5)</a> <a href="#ref-for-selectordef-first-letter①⑧">(6)</a> <a href="#ref-for-selectordef-first-letter①⑨">(7)</a> <a href="#ref-for-selectordef-first-letter②⓪">(8)</a>
            <li><a href="#ref-for-selectordef-first-letter②①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a> <a href="#ref-for-selectordef-first-letter②②">(2)</a>
                <a href="#ref-for-selectordef-first-letter②③">(3)</a> <a href="#ref-for-selectordef-first-letter②④">(4)</a> <a href="#ref-for-selectordef-first-letter②⑤">(5)</a>
            <li><a href="#ref-for-selectordef-first-letter②⑥">3.6.3.
                    Text and Text Decorations</a>
            <li><a href="#ref-for-selectordef-first-letter②⑦">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
            <li><a href="#ref-for-selectordef-first-letter②⑧">4.2.
                    List Markers: the ::marker pseudo-element</a>
            <li><a href="#ref-for-selectordef-first-letter②⑨">5.
                    Overlapping Pseudo-element Interactions</a> <a href="#ref-for-selectordef-first-letter③⓪">(2)</a>
            <li><a href="#ref-for-selectordef-first-letter③①">7.
                    Compatibility Syntax</a>
            <li><a href="#ref-for-selectordef-first-letter③②"> Changes</a> <a href="#ref-for-selectordef-first-letter③④">(2)</a> <a href="#ref-for-selectordef-first-letter③⑤">(3)</a> <a href="#ref-for-selectordef-first-letter③⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="first-letter">
        <b><a href="#first-letter">#first-letter</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-first-letter">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a> <a href="#ref-for-first-letter①">(2)</a>
            <li><a href="#ref-for-first-letter②">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-first-letter③">(2)</a> <a href="#ref-for-first-letter④">(3)</a>
            <li><a href="#ref-for-first-letter⑤">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-first-letter⑥">(2)</a>
            <li><a href="#ref-for-first-letter⑦"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="first-letter-text">
        <b><a href="#first-letter-text">#first-letter-text</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-first-letter-text">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-first-letter-text①">(2)</a>
            <li><a href="#ref-for-first-letter-text②">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-first-letter-text③">(2)</a> <a href="#ref-for-first-letter-text④">(3)</a> <a href="#ref-for-first-letter-text⑤">(4)</a> <a href="#ref-for-first-letter-text⑥">(5)</a> <a href="#ref-for-first-letter-text⑦">(6)</a>
            <li><a href="#ref-for-first-letter-text⑧">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a> <a href="#ref-for-first-letter-text⑨">(2)</a> <a href="#ref-for-first-letter-text①⓪">(3)</a> <a href="#ref-for-first-letter-text①①">(4)</a>
            <li><a href="#ref-for-first-letter-text①②">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-first-letter-text①③"> Changes</a> <a href="#ref-for-first-letter-text①④">(2)</a> <a href="#ref-for-first-letter-text①⑤">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-first-letter-prefix">
        <b><a href="#selectordef-first-letter-prefix">#selectordef-first-letter-prefix</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter-prefix①">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-selectordef-first-letter-prefix②">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter-prefix③">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter-prefix④">4.2.
                    List Markers: the ::marker pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-first-letter-postfix">
        <b><a href="#selectordef-first-letter-postfix">#selectordef-first-letter-postfix</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter-postfix①">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-selectordef-first-letter-postfix②">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter-postfix③">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter-postfix④">4.2.
                    List Markers: the ::marker pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="highlight-pseudo-element">
        <b><a href="#highlight-pseudo-element">#highlight-pseudo-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-highlight-pseudo-element">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-highlight-pseudo-element①">(2)</a>
            <li><a href="#ref-for-highlight-pseudo-element②">3.2.
                    Styling Highlights</a> <a href="#ref-for-highlight-pseudo-element③">(2)</a> <a href="#ref-for-highlight-pseudo-element④">(3)</a> <a href="#ref-for-highlight-pseudo-element⑤">(4)</a>
            <li><a href="#ref-for-highlight-pseudo-element⑥">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-highlight-pseudo-element⑦">3.4.
                    Area of a Highlight</a>
            <li><a href="#ref-for-highlight-pseudo-element⑧">3.5.
                    Cascading and Per-Element Highlight Styles</a> <a href="#ref-for-highlight-pseudo-element⑨">(2)</a>
                <a href="#ref-for-highlight-pseudo-element①⓪">(3)</a>
            <li><a href="#ref-for-highlight-pseudo-element①①">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-highlight-pseudo-element①②">3.6.2.
                    Shadows</a>
            <li><a href="#ref-for-highlight-pseudo-element①③">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-highlight-pseudo-element①④">(2)</a> <a href="#ref-for-highlight-pseudo-element①⑤">(3)</a> <a href="#ref-for-highlight-pseudo-element①⑥">(4)</a> <a href="#ref-for-highlight-pseudo-element①⑦">(5)</a>
            <li><a href="#ref-for-highlight-pseudo-element①⑧">6.3.
                    getComputedStyle()</a>
            <li><a href="#ref-for-highlight-pseudo-element①⑨"> Changes</a> <a href="#ref-for-highlight-pseudo-element②⓪">(2)</a> <a href="#ref-for-highlight-pseudo-element②①">(3)</a> <a href="#ref-for-highlight-pseudo-element②②">(4)</a> <a href="#ref-for-highlight-pseudo-element②③">(5)</a> <a href="#ref-for-highlight-pseudo-element②④">(6)</a> <a href="#ref-for-highlight-pseudo-element②⑤">(7)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-selection">
        <b><a href="#selectordef-selection">#selectordef-selection</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-selection">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-selectordef-selection①">(2)</a>
            <li><a href="#ref-for-selectordef-selection②">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-selectordef-selection③">3.3.1.
                    Paired Defaults</a>
            <li><a href="#ref-for-selectordef-selection④">3.5.
                    Cascading and Per-Element Highlight Styles</a> <a href="#ref-for-selectordef-selection⑤">(2)</a>
            <li><a href="#ref-for-selectordef-selection⑥">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-selectordef-selection⑦">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-selectordef-selection⑧">(2)</a> <a href="#ref-for-selectordef-selection⑨">(3)</a> <a href="#ref-for-selectordef-selection①⓪">(4)</a> <a href="#ref-for-selectordef-selection①①">(5)</a> <a href="#ref-for-selectordef-selection①②">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-target-text">
        <b><a href="#selectordef-target-text">#selectordef-target-text</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-target-text">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-selectordef-target-text①">(2)</a> <a href="#ref-for-selectordef-target-text②">(3)</a>
            <li><a href="#ref-for-selectordef-target-text③">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-selectordef-target-text④">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-selectordef-target-text⑤">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-selectordef-target-text⑥">(2)</a> <a href="#ref-for-selectordef-target-text⑦">(3)</a> <a href="#ref-for-selectordef-target-text⑧">(4)</a>
                <a href="#ref-for-selectordef-target-text⑨">(5)</a>
            <li><a href="#ref-for-selectordef-target-text①⓪"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-spelling-error">
        <b><a href="#selectordef-spelling-error">#selectordef-spelling-error</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-spelling-error">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-selectordef-spelling-error①">(2)</a>
            <li><a href="#ref-for-selectordef-spelling-error②">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-selectordef-spelling-error③">3.7.
                    Security and Privacy Considerations</a>
            <li><a href="#ref-for-selectordef-spelling-error④"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-grammar-error">
        <b><a href="#selectordef-grammar-error">#selectordef-grammar-error</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-grammar-error">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-selectordef-grammar-error①">(2)</a>
            <li><a href="#ref-for-selectordef-grammar-error②">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-selectordef-grammar-error③">3.7.
                    Security and Privacy Considerations</a>
            <li><a href="#ref-for-selectordef-grammar-error④"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="paired-default-highlight-colors">
        <b><a href="#paired-default-highlight-colors">#paired-default-highlight-colors</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-paired-default-highlight-colors">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="highlight-overlay">
        <b><a href="#highlight-overlay">#highlight-overlay</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-highlight-overlay">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-highlight-overlay①">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-highlight-overlay②">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-highlight-overlay③">3.6.2.
                    Shadows</a> <a href="#ref-for-highlight-overlay④">(2)</a> <a href="#ref-for-highlight-overlay⑤">(3)</a>
            <li><a href="#ref-for-highlight-overlay⑥">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-highlight-overlay⑦">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-before">
        <b><a href="#selectordef-before">#selectordef-before</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-before">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-selectordef-before①">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a> <a href="#ref-for-selectordef-before②">(2)</a> <a href="#ref-for-selectordef-before③">(3)</a> <a href="#ref-for-selectordef-before④">(4)</a>
            <li><a href="#ref-for-selectordef-before⑤">4.2.
                    List Markers: the ::marker pseudo-element</a>
            <li><a href="#ref-for-selectordef-before⑥">5.
                    Overlapping Pseudo-element Interactions</a>
            <li><a href="#ref-for-selectordef-before⑦">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-selectordef-before⑧">7.
                    Compatibility Syntax</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-after">
        <b><a href="#selectordef-after">#selectordef-after</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-after">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-selectordef-after①">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a> <a href="#ref-for-selectordef-after②">(2)</a> <a href="#ref-for-selectordef-after④">(3)</a>
            <li><a href="#ref-for-selectordef-after⑤">4.2.
                    List Markers: the ::marker pseudo-element</a>
            <li><a href="#ref-for-selectordef-after⑥">5.
                    Overlapping Pseudo-element Interactions</a>
            <li><a href="#ref-for-selectordef-after⑦">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-selectordef-after⑧">7.
                    Compatibility Syntax</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-marker">
        <b><a href="#selectordef-marker">#selectordef-marker</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-marker">4.2.
                    List Markers: the ::marker pseudo-element</a> <a href="#ref-for-selectordef-marker①">(2)</a> <a href="#ref-for-selectordef-marker②">(3)</a> <a href="#ref-for-selectordef-marker③">(4)</a> <a href="#ref-for-selectordef-marker④">(5)</a> <a href="#ref-for-selectordef-marker⑤">(6)</a>
            <li><a href="#ref-for-selectordef-marker⑥">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-selectordef-marker⑦"> Changes</a> <a href="#ref-for-selectordef-marker⑧">(2)</a> <a href="#ref-for-selectordef-marker⑨">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-placeholder">
        <b><a href="#selectordef-placeholder">#selectordef-placeholder</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-placeholder">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a> <a href="#ref-for-selectordef-placeholder①">(2)</a> <a href="#ref-for-selectordef-placeholder②">(3)</a>
                <a href="#ref-for-selectordef-placeholder③">(4)</a> <a href="#ref-for-selectordef-placeholder④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-file-selector-button">
        <b><a href="#selectordef-file-selector-button">#selectordef-file-selector-button</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-file-selector-button">4.4.
                    File Selector Button: the ::file-selector-button pseudo-element</a> <a href="#ref-for-selectordef-file-selector-button①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="csspseudoelement">
        <b><a href="#csspseudoelement">#csspseudoelement</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-csspseudoelement">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-csspseudoelement①">(2)</a> <a href="#ref-for-csspseudoelement②">(3)</a> <a href="#ref-for-csspseudoelement③">(4)</a> <a href="#ref-for-csspseudoelement④">(5)</a> <a href="#ref-for-csspseudoelement⑤">(6)</a>
            <li><a href="#ref-for-csspseudoelement⑥">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-csspseudoelement⑦">(2)</a> <a href="#ref-for-csspseudoelement⑧">(3)</a> <a href="#ref-for-csspseudoelement⑨">(4)</a>
            <li><a href="#ref-for-csspseudoelement①⓪"> Changes</a> <a href="#ref-for-csspseudoelement①①">(2)</a> <a href="#ref-for-csspseudoelement①②">(3)</a> <a href="#ref-for-csspseudoelement①③">(4)</a> <a href="#ref-for-csspseudoelement①④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-pseudo">
        <b><a href="#dom-csspseudoelement-pseudo">#dom-csspseudoelement-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-pseudo">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-dom-csspseudoelement-pseudo①">(2)</a>
            <li><a href="#ref-for-dom-csspseudoelement-pseudo②"> Changes</a> <a href="#ref-for-dom-csspseudoelement-pseudo③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-pseudo-type-type">
        <b><a href="#dom-csspseudoelement-pseudo-type-type">#dom-csspseudoelement-pseudo-type-type</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-pseudo-type-type">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-dom-csspseudoelement-pseudo-type-type①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-type">
        <b><a href="#dom-csspseudoelement-type">#dom-csspseudoelement-type</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-type">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-dom-csspseudoelement-type①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-element">
        <b><a href="#dom-csspseudoelement-element">#dom-csspseudoelement-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-element">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-dom-csspseudoelement-element①">(2)</a> <a href="#ref-for-dom-csspseudoelement-element②">(3)</a>
            <li><a href="#ref-for-dom-csspseudoelement-element③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-parent">
        <b><a href="#dom-csspseudoelement-parent">#dom-csspseudoelement-parent</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-parent">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-dom-csspseudoelement-parent①">(2)</a> <a href="#ref-for-dom-csspseudoelement-parent②">(3)</a>
            <li><a href="#ref-for-dom-csspseudoelement-parent③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-element-pseudo">
        <b><a href="#dom-element-pseudo">#dom-element-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-element-pseudo">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-dom-element-pseudo①">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script>/* script-var-click-highlighting */

        document.addEventListener("click", e => {
            if (e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        {
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>