<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 伪元素模块 第 4 级</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version fb1e763a4, updated Tue Mar 1 13:13:50 2022 -0800" name="generator">
    <link href="https://www.w3.org/TR/css-pseudo-4/" rel="canonical">
    <meta content="126df570aed76255215c0254b11d4c4cc5252f7f" name="document-revision">
    <script defer src="https://test.csswg.org/harness/annotate.js#!css-pseudo-4_dev/css-pseudo-4"></script>
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-issues */

        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-railroad */

        :root {
            --railroad-bg: hsl(30, 20%, 95%);
            --railroad-stroke: black;
            --railroad-fill: hsl(120, 100%, 90%);
        }

        svg.railroad-diagram {
            background-color: var(--railroad-bg);
        }

        svg.railroad-diagram path {
            stroke-width: 3px;
            stroke: var(--railroad-stroke);
            fill: transparent;
        }

        svg.railroad-diagram text {
            font: bold 14px monospace;
            fill: var(--text, currentcolor);
            text-anchor: middle;
        }

        svg.railroad-diagram text.label {
            text-anchor: start;
        }

        svg.railroad-diagram text.comment {
            font: italic 12px monospace;
        }

        svg.railroad-diagram rect {
            stroke-width: 3px;
            stroke: var(--railroad-stroke);
            fill: var(--railroad-fill);
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <style>
        /* style-var-click-highlighting */

        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"></a></p>
        <h1 class="p-name no-ref" id="title">CSS 伪元素模块 第 4 级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 工作草案</a>, <time class="dt-updated" datetime="2022-12-30">2022年12月30日</time></p>
        <details open>
            <summary>关于本文档的更多细节</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>该版本：
                    <dd><a class="u-url" href="https://www.w3.org/TR/2022/WD-css-pseudo-4-20221230/">https://www.w3.org/TR/2022/WD-css-pseudo-4-20221230/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/css-pseudo-4/">https://www.w3.org/TR/css-pseudo-4/</a>
                    <dt>编辑草案：
                    <dd><a href="https://drafts.csswg.org/css-pseudo-4/">https://drafts.csswg.org/css-pseudo-4/</a>
                    <dt>以前的版本：
                    <dd><a href="https://www.w3.org/TR/2020/WD-css-pseudo-4-20201231/" rel="prev">https://www.w3.org/TR/2020/WD-css-pseudo-4-20201231/</a>
                    <dd><a href="https://www.w3.org/TR/2019/WD-css-pseudo-4-20190225/" rel="prev">https://www.w3.org/TR/2019/WD-css-pseudo-4-20190225/</a>
                    <dd><a href="https://www.w3.org/TR/2016/WD-css-pseudo-4-20160607/" rel="prev">https://www.w3.org/TR/2016/WD-css-pseudo-4-20160607/</a>
                    <dd><a href="https://www.w3.org/TR/2015/WD-css-pseudo-4-20150115/" rel="prev">https://www.w3.org/TR/2015/WD-css-pseudo-4-20150115/</a>
                    <dt>历史记录：
                    <dd><a class="u-url" href="https://www.w3.org/standards/history/css-pseudo-4">https://www.w3.org/standards/history/css-pseudo-4</a>
                    <dt>测试套件：
                    <dd><a href="http://test.csswg.org/suites/css-pseudo-4_dev/nightly-unstable/">http://test.csswg.org/suites/css-pseudo-4_dev/nightly-unstable/</a>
                    <dd class="wpt-overview"><a href="https://wpt.fyi/results/css/css-pseudo/">https://wpt.fyi/results/css/css-pseudo/</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-pseudo-4">CSSWG 问题存储库</a>
                    <dd><a href="#issues-index">文档内联</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="13329"><span class="p-name fn">Daniel Glazman</span> (<span class="p-org org">Disruptive Innovations</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url" href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span class="p-org org">受邀专家</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="46659"><a class="p-name fn u-email email" href="mailto:stearns@adobe.com">Alan Stearns</a> (<span class="p-org org">Adobe Systems Inc.</span>)
                    <dt>建议对本规范进行编辑：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-pseudo-4/Overview.bs">GitHub 编辑器</a>
                    <dt>问题列表：
                    <dd><a href="https://drafts.csswg.org/css-pseudo/#issues-index">编辑草案中的跟踪</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">版权</a> © 2022 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="麻省理工学院">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="欧洲信息和数学研究联盟">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">庆应大学</a>, <a href="https://ev.buaa.edu.cn/">北航</a>)。W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">责任</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">商标</a>及<a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">宽松的文档许可</a>规则适用。</p>
        <hr title="标题分隔线">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本 CSS 模块定义了伪元素，即表示 CSS 渲染树部分的抽象元素，可以被选择和样式化。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（例如 HTML 和 XML）在屏幕、纸张等上渲染的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。当前的 W3C 发布物列表及本技术报告的最新版本可以在
                <a href="https://www.w3.org/TR/">https://www.w3.org/TR/</a> 中找到。</em></p>
        <p>本文件由 <a href="https://www.w3.org/groups/wg/css">CSS 工作组</a> 作为<strong>工作草案</strong>发布，遵循
            <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">推荐路线</a>。发布为工作草案并不意味着
            <abbr title="万维网联盟">W3C</abbr>及其成员的认可。
        </p>
        <p>这是一个草案文档，可能随时被更新、替换或废弃。不应将本文档引用为其他内容，而仅作为工作进展。</p>
        <p>请通过<a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 中提交问题</a>（优先），在标题中包含规范代码 “css-pseudo”，如“[css-pseudo] <i>…评论摘要…</i>”。所有问题和评论均已<a href="https://lists.w3.org/Archives/Public/public-css-archive/">归档</a>。或者，反馈可以发送到(<a href="https://lists.w3.org/Archives/Public/www-style/">归档</a>)公共邮件列表<a href="mailto:www-style@w3.org?Subject=%5Bcss-pseudo%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。</p>
        <p>本文件受 <a href="https://www.w3.org/2021/Process-20211102/" id="w3c_process_revision">2021年11月2日 W3C 流程文件</a>管辖。</p>
        <p>本文件由根据 <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C 专利政策</a>运作的一个小组制作。W3C 维护了一个公开的<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">专利披露列表</a>；该页面还包含披露专利的说明。任何知道专利信息且认为该专利包含<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必要声明</a>的人，必须按照<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C 专利政策第 6 节</a>披露信息。</p>
    </div>
    <div data-fill-with="at-risk">
        <p>以下功能处于风险之中，可能在 CR 阶段被移除：</p>
        <ul>
            <li><a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix">::prefix</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix">::postfix</a> 属于 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter">::first-letter</a> 的子元素。</li>
        </ul>
        <p>“风险”是 W3C 流程中的术语，并不一定意味着该功能有被移除或推迟的危险。这意味着工作组认为该功能可能难以在规定时间内互操作实现，并将其标记为风险，以便在必要时可以在过渡到推荐提案阶段时移除该功能，而无需先发布不包含该功能的新候选推荐。</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">简介</span></a></li>
            <li><a href="#typographic-pseudos"><span class="secno">2</span> <span class="content">排版伪元素</span></a>
                <ol class="toc">
                    <li><a href="#first-line-pseudo"><span class="secno">2.1</span> <span class="content">第一行文本: <span class="css">::first-line</span> 伪元素</span></a>
                        <ol class="toc">
                            <li><a href="#first-text-line"><span class="secno">2.1.1</span> <span class="content">找到第一格式化行</span></a></li>
                            <li><a href="#first-line-styling"><span class="secno">2.1.2</span> <span class="content">为 <span class="css">::first-line</span> 伪元素设置样式</span></a></li>
                            <li><a href="#first-line-inheritance"><span class="secno">2.1.3</span> <span class="content">继承与 <span class="css">::first-line</span> 伪元素</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#first-letter-pseudo"><span class="secno">2.2</span> <span class="content">第一字母文本: <span class="css">::first-letter</span> 伪元素及其 <span class="css">::prefix</span> 和 <span class="css">::postfix</span> 子元素</span></a>
                        <ol class="toc">
                            <li><a href="#first-letter-pattern"><span class="secno">2.2.1</span> <span class="content">第一字母及关联标点</span></a></li>
                            <li><a href="#first-letter-application"><span class="secno">2.2.2</span> <span class="content">找到第一字母文本</span></a></li>
                            <li><a href="#first-letter-tree"><span class="secno">2.2.3</span> <span class="content">第一字母伪元素的继承与框树结构</span></a></li>
                            <li><a href="#first-letter-styling"><span class="secno">2.2.4</span> <span class="content">为第一字母伪元素设置样式</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li><a href="#highlight-pseudos"><span class="secno">3</span> <span class="content">高亮伪元素</span></a>
                <ol class="toc">
                    <li><a href="#highlight-selectors"><span class="secno">3.1</span> <span class="content">选择高亮内容: <span class="css">::selection</span>, <span class="css">::target-text</span>, <span class="css">::spelling-error</span>, 和 <span class="css">::grammar-error</span> 伪元素</span></a></li>
                    <li><a href="#highlight-styling"><span class="secno">3.2</span> <span class="content">设置高亮样式</span></a></li>
                    <li><a href="#highlight-ua-styles"><span class="secno">3.3</span> <span class="content">默认用户代理样式</span></a>
                        <ol class="toc">
                            <li><a href="#paired-defaults"><span class="secno">3.3.1</span> <span class="content">配对默认样式</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#highlight-bounds"><span class="secno">3.4</span> <span class="content">高亮区域</span></a></li>
                    <li><a href="#highlight-cascade"><span class="secno">3.5</span> <span class="content">高亮样式的层叠与每元素样式</span></a></li>
                    <li><a href="#highlight-painting"><span class="secno">3.6</span> <span class="content">绘制高亮</span></a>
                        <ol class="toc">
                            <li><a href="#highlight-backgrounds"><span class="secno">3.6.1</span> <span class="content">背景</span></a></li>
                            <li><a href="#highlight-shadows"><span class="secno">3.6.2</span> <span class="content">阴影</span></a></li>
                            <li><a href="#highlight-text"><span class="secno">3.6.3</span> <span class="content">文本与文本装饰</span></a></li>
                            <li><a href="#highlight-replaced"><span class="secno">3.6.4</span> <span class="content">替换元素</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#highlight-security"><span class="secno">3.7</span> <span class="content">安全与隐私考虑</span></a></li>
                </ol>
            </li>
            <li><a href="#treelike"><span class="secno">4</span> <span class="content">树形伪元素</span></a>
                <ol class="toc">
                    <li><a href="#generated-content"><span class="secno">4.1</span> <span class="content">生成内容伪元素: <span class="css">::before</span> 和 <span class="css">::after</span></span></a></li>
                    <li><a href="#marker-pseudo"><span class="secno">4.2</span> <span class="content">列表标记: <span class="css">::marker</span> 伪元素</span></a></li>
                    <li><a href="#placeholder-pseudo"><span class="secno">4.3</span> <span class="content">占位符输入: <span class="css">::placeholder</span> 伪元素</span></a></li>
                    <li><a href="#file-selector-button-pseudo"><span class="secno">4.4</span> <span class="content">文件选择按钮: <span class="css">::file-selector-button</span> 伪元素</span></a></li>
                </ol>
            </li>
            <li><a href="#interactions"><span class="secno">5</span> <span class="content">伪元素交互</span></a></li>
            <li><a href="#cssom"><span class="secno">6</span> <span class="content">CSS 对象模型的扩展</span></a>
                <ol class="toc">
                    <li><a href="#CSSPseudoElement-interface"><span class="secno">6.1</span> <span class="content"><code class="idl"><span>CSSPseudoElement</span></code> 接口</span></a></li>
                    <li><a href="#window-interface"><span class="secno">6.2</span> <span class="content"> <code class="idl"><span>pseudo()</span></code> 方法的 <code class="idl"><span>Element</span></code> 接口</span></a></li>
                    <li><a href="#getComputedStyle"><span class="secno">6.3</span> <span class="content"> <code class="idl"><span>getComputedStyle()</span></code></span></a></li>
                </ol>
            </li>
            <li><a href="#css2-compat"><span class="secno">7</span> <span class="content">CSS2 兼容性语法</span></a></li>
            <li><a href="#changes"><span class="secno"></span> <span class="content">更改记录</span></a></li>
            <li><a href="#acknowledgements"><span class="secno"></span> <span class="content">致谢</span></a></li>
            <li><a href="#w3c-conformance"><span class="secno"></span> <span class="content">合规性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a></li>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">合规性类别</span></a></li>
                    <li><a href="#w3c-partial"><span class="secno"></span> <span class="content">部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content">不稳定及专有特性的实现</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">非实验性实现</span></a></li>
                </ol>
            </li>
            <li><a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">本规范定义的术语</span></a></li>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">引用定义的术语</span></a></li>
                </ol>
            </li>
            <li><a href="#references"><span class="secno"></span> <span class="content">参考资料</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a></li>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">信息性引用</span></a></li>
                </ol>
            </li>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a></li>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a></li>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">介绍</span><a class="self-link" href="#intro"></a></h2>
        <p><em>本节为信息性内容。</em></p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element">伪元素</a>代表文档中超出文档语言显式创建的抽象元素。由于它们不受限于适应文档树结构，可以用于选择和样式化文档中不一定映射到文档树结构的部分。例如，<a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line">::first-line</a>伪元素可以在元素的第一行格式化文本中进行选择，并在文本换行后只为该行应用不同的样式。</p>
        <p>每个伪元素与一个<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element">源元素</a>相关联，并具有 <span class="css">::伪元素名称</span> 形式的语法。本模块定义了 CSS 中存在的伪元素及其样式化方式。有关伪元素的一般信息及其语法与其他<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#selector" id="ref-for-selector">选择器</a>的交互，请参阅 <a data-link-type="biblio" href="#biblio-selectors-4">[SELECTORS-4]</a>。</p>

        <h2 class="heading settled" data-level="2" id="typographic-pseudos"><span class="secno">2. </span><span class="content">排版伪元素</span><a class="self-link" href="#typographic-pseudos"></a></h2>

        <h3 class="heading settled" data-level="2.1" id="first-line-pseudo"><span class="secno">2.1. </span><span class="content">第一行文本: <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①">::first-line</a>伪元素</span><a class="self-link" href="#first-line-pseudo"></a></h3>

        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-first-line">::first-line</dfn><a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①">伪元素</a>代表其<a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line">源元素</a>的第一行格式化文本的内容。</p>

        <div class="example" id="example-fb83f35a">
            <a class="self-link" href="#example-fb83f35a"></a> 以下规则的意思是“将每个 <code class="highlight">p</code> 元素的第一行字母变为大写”：
            <pre class="lang-css highlight"><c- k>p</c-><c- p>:</c->:first-line <c- p>{</c-> <c- k>text-transform</c-><c- p>:</c-> uppercase <c- p>}</c-></pre>
            <p>选择器 <span class="css">p::first-line</span> 不匹配任何实际文档元素，而是匹配用户代理会自动插入的伪元素，该伪元素位于每个 <code class="highlight">p</code> 元素的开头。</p>
        </div>

        <p class="note" role="note"><span>注意：</span> 第一行的长度取决于多个因素，包括页面宽度、字体大小等。</p>

        <div class="example" id="first-line-example">
            <a class="self-link" href="#first-line-example"></a> 例如，给定一个普通的 HTML <a data-link-type="biblio" href="#biblio-html5">[HTML5]</a> 段落如下：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>P</c-><c- p>></c->这是一个相对较长的 HTML 段落
将被分成几行。
第一行将通过 ‘::first-line’ 伪元素进行样式化。
其他行将被视为段落中的普通行。<c- p>&lt;/</c-><c- f>P</c-><c- p>></c-></pre>
            <p>根据元素的宽度，其行可能被分成如下几行：</p>
            <pre class="figure highlight">这是一个相对较长的 HTML 段落，将被分成几行。
第一行将通过 ‘::first-line’ 伪元素样式化。
其他行将被视为段落中的普通行。</pre>
            <p>或者如下几行：</p>
            <pre class="figure highlight">这是一个相对较长的 HTML 段落，
第一行将通过 ‘::first-line’ 伪元素样式化，
其他行将被视为普通行。</pre>
        </div>
        <h4 class="heading settled" data-level="2.1.1" id="first-text-line"><span class="secno">2.1.1. </span><span
        class="content">找到第一条格式化的线</span><a class="self-link"
        href="#first-text-line"></a></h4>
        <p>在 CSS 中，<a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②">::first-line</a> 伪元素
            只能在附加到 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container">块容器</a> 时生效：</p>
        <ul>
            <li data-md>
                <p>一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container①">块容器</a> 建立的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-formatting-context" id="ref-for-inline-formatting-context">内联格式上下文</a>的第一条 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="first-formatted-line">格式化的线</dfn>，代表其第一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level" id="ref-for-inline-level">内联级</a> 内容的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#line-box" id="ref-for-line-box">线框</a>。</p>
            </li>
            <li data-md>
                <p>一个包含 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-level" id="ref-for-block-level">块级</a> 内容的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container②">块容器</a> 或 <a data-link-type="dfn" href="https://www.w3.org/TR/css-multicol-1/#multi-column-container" id="ref-for-multi-column-container">多列容器</a>（且不是 <a data-link-type="dfn" href="https://www.w3.org/TR/css-tables-3/#table-wrapper-box" id="ref-for-table-wrapper-box">表格包装框</a>）的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="first-formatted-line②">第一条格式化的线</dfn> 是其第一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#in-flow" id="ref-for-in-flow">流内</a>的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-level" id="ref-for-block-level①">块级</a> 子元素的第一条格式化的线。如果不存在这样的线，那么它就没有第一条格式化的线。</p>
            </li>
        </ul>
        <p class="note" role="note"><span>注意：</span>第一条格式化的线可以是空行。例如，下面这个 <code class="highlight">p</code> 中的第一行 <code class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>br</c-><c- p>></c->First…</code> 没有任何字母。因此，“First” 这个词并不在第一条格式化的线上，并不会受到 <span class="css">p::first-line</span> 的影响。</p>
        <p class="note" role="note"><span>注意：</span> 一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container③">块容器</a> 如果本身不参与一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-formatting-context" id="ref-for-block-formatting-context">块格式化上下文</a>，那么它的第一条线不能作为其祖先元素的第一条格式化的线。例如在 <code class="lang-markup highlight"><c- p>&lt;</c-><c- f>DIV</c-><c- p>>&lt;</c-><c- f>P</c-> <c- e>STYLE</c-><c- o>=</c-><c- s>"display: inline-block"</c-><c- p>></c->Hello<c- p>&lt;</c-><c- f>BR</c-><c- p>></c->Goodbye<c- p>&lt;/</c-><c- f>P</c-><c- p>></c-> etcetera<c- p>&lt;/</c-><c- f>DIV</c-><c- p>></c-></code>，<code class="highlight">DIV</code> 的第一条格式化的线不是 “Hello” 这一行，而是包含整个内联块的那一行。</p>
        <p>当一个 <a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line⑤">第一条格式化的线</a> 被多个 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line③">::first-line</a> 伪元素表示时，它们按照其 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element②">来源元素</a> 的顺序嵌套。该行的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level" id="ref-for-inline-level①">内联级</a>内容，包括它的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#root-inline-box" id="ref-for-root-inline-box">根内联框</a> 片段，都嵌套在最内层的 <span class="css" id="ref-for-selectordef-first-line④">::first-line</span> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element②">伪元素</a> 中。</p>
        <div class="example" id="example-7499991d">
            <a class="self-link" href="#example-7499991d"></a> 请看以下标记：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>DIV</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>P</c-><c- p>></c->First paragraph<c- p>&lt;/</c-><c- f>P</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>P</c-><c- p>></c->Second paragraph<c- p>&lt;/</c-><c- f>P</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>DIV</c-><c- p>></c->
</pre>
            <p>如果我们假设一个 <a data-link-type="dfn" href="#fictional-tag-sequence" id="ref-for-fictional-tag-sequence">虚构的标签序列</a> 来表示这些元素的 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line⑤">::first-line</a> 伪元素，那么它可能是这样的：</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>DIV</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>P</c-><c- p>>&lt;</c-><c- f>DIV::first-line</c-><c- p>>&lt;</c-><c- f>P::first-line</c-><c- p>></c->First paragraph<c- p>&lt;/</c-><c- f>P::first-line</c-><c- p>>&lt;/</c-><c- f>DIV::first-line</c-><c- p>>&lt;/</c-><c- f>P</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>P</c-><c- p>>&lt;</c-><c- f>P::first-line</c-><c- p>></c->Second paragraph<c- p>&lt;/</c-><c- f>P::first-line</c-><c- p>>&lt;/</c-><c- f>P</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>DIV</c-><c- p>></c->
</pre>
        </div>
        <h4 class="heading settled" data-level="2.1.2" id="first-line-styling"><span class="secno">2.1.2. </span><span
        class="content">样式化 <a class="css" data-link-type="maybe" href="#selectordef-first-line"
            id="ref-for-selectordef-first-line⑥">::first-line</a> 伪元素</span><a class="self-link"
        href="#first-line-styling"></a></h4>
        <p><a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line⑦">::first-line</a> 伪元素生成的盒子类似于一个 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level-box" id="ref-for-inline-level-box">内联级盒子</a>，但具有某些限制。以下 CSS 属性适用于 <span class="css" id="ref-for-selectordef-first-line⑧">::first-line</span> 伪元素：</p>
        <ul>
            <li>所有字体属性（参见 <a data-link-type="biblio" href="#biblio-css-fonts-3">[CSS-FONTS-3]</a>）
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color">color</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-opacity" id="ref-for-propdef-opacity">opacity</a> 属性（参见 <a data-link-type="biblio" href="#biblio-css-color-3">[CSS-COLOR-3]</a>）
            <li>所有背景属性（参见 <a data-link-type="biblio" href="#biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]</a>）
            <li>适用于内联元素的排版属性（参见 <a data-link-type="biblio" href="#biblio-css-text-3">[CSS-TEXT-3]</a>）
            <li>所有文本装饰属性（参见 <a data-link-type="biblio" href="#biblio-css-text-decor-3">[CSS-TEXT-DECOR-3]</a>）
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position" id="ref-for-propdef-ruby-position">ruby-position</a> 属性（参见 <a data-link-type="biblio" href="#biblio-css-ruby-1">[CSS-RUBY-1]</a>）
            <li>适用于内联元素的内联布局属性（参见 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a>）
            <li>其他规范中定义的适用于 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line⑨">::first-line</a> 的任何其他属性
        </ul>
        <p>用户代理也可以应用其他属性，除了以下排除的属性：</p>
        <ul>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode" id="ref-for-propdef-writing-mode">writing-mode</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction">direction</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation" id="ref-for-propdef-text-orientation">text-orientation</a>
        </ul>
        <p class="note" role="note"><span>注意：</span> 在 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height" id="ref-for-propdef-line-height">line-height</a> 应用于 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⓪">::first-line</a> 时，会继承到包裹第一行内容的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#root-inline-box" id="ref-for-root-inline-box①">根内联框</a> 片段，因此可以增大或减小第一行盒子的高度。</p>

        <h4 class="heading settled" data-level="2.1.3" id="first-line-inheritance"><span class="secno">2.1.3.
    </span><span class="content">继承和 <a class="css" data-link-type="maybe"
        href="#selectordef-first-line" id="ref-for-selectordef-first-line①①">::first-line</a> 伪元素</span><a class="self-link" href="#first-line-inheritance"></a></h4>
        <p>在 CSS <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inheritance" id="ref-for-inheritance">继承</a> 期间，出现在第一行的子元素的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#box-fragment" id="ref-for-box-fragment">片段</a> 会继承自 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①②">::first-line</a> 伪元素的标准 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inherited-property" id="ref-for-inherited-property">继承属性</a>（上述排除的属性除外）。对于其他属性，包括所有 <a data-link-type="dfn" href="https://www.w3.org/TR/css-variables-1/#custom-property" id="ref-for-custom-property">自定义属性</a> <a data-link-type="biblio" href="#biblio-css-variables-1">[CSS-VARIABLES-1]</a>，则从非伪元素的父元素继承。（子元素不出现在第一行的部分，总是从非伪元素的父元素继承。）</p>
        <div class="example" id="example-62ec3857">
            <a class="self-link" href="#example-62ec3857"></a> 在常见的情况（标准的继承 CSS 属性）下，可以通过写出 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fictional-tag-sequence">虚构标签序列</dfn> 来理解 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①③">::first-line</a> 伪元素的继承。例如前面的示例，在第一次渲染时，虚构的标签序列可能是：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>P</c-><c- p>></c-><strong><c- p>&lt;</c-><c- f>p::first-line</c-><c- p>></c-></strong>This is a somewhat long HTML paragraph
that<strong><c- p>&lt;/</c-><c- f>p::first-line</c-><c- p>></c-></strong> will be broken into several lines.
The first line will be styled
by the ‘::first-line’ pseudo-element.
The other lines will be treated
as ordinary lines in the paragraph.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
            <p>而在第二次渲染中：</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c-><strong><c- p>&lt;</c-><c- f>p::first-line</c-><c- p>></c-></strong>This is a somewhat long<strong><c- p>&lt;/</c-><c- f>p::first-line</c-><c- p>></c-></strong> HTML paragraph
that will be broken into several lines.
The first line will be styled
by the ‘::first-line’ pseudo-element.
The other lines will be treated
as ordinary lines in the paragraph.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
        </div>

        <div class="example" id="example-fce77ea8">
            <a class="self-link" href="#example-fce77ea8"></a> 如果伪元素打破了一个实际元素的结构，通常可以通过虚构的标签序列来描述这种效果，该序列会关闭并重新打开该元素。例如我们在之前的示例中标记了一个包含第一句话的 <code class="highlight">span</code> 元素：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c-><strong><c- p>&lt;</c-><c- f>span</c-><c- p>></c-></strong>This is a somewhat long HTML paragraph
that will be broken into several lines.<strong><c- p>&lt;/</c-><c- f>span</c-><c- p>></c-></strong>
The first line will be styled
by the ‘::first-line’ pseudo-element.
The other lines will be treated
as ordinary lines in the paragraph.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
            <p>第一次渲染的效果类似于以下虚构的标签序列：</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c-><strong><c- p>&lt;</c-><c- f>p::first-line</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>></c-></strong>This is a somewhat long HTML paragraph
that<strong><c- p>&lt;/</c-><c- f>span</c-><c- p>>&lt;/</c-><c- f>p::first-line</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>></c-></strong> will be broken into several lines.<strong><c- p>&lt;/</c-><c- f>span</c-><c- p>></c-></strong>
The first line will be styled
by the ‘::first-line’ pseudo-element.
The other lines will be treated
as ordinary lines in the paragraph.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
        </div>
        <h3 class="heading settled" data-level="2.2" id="first-letter-pseudo"><span class="secno">2.2. </span><span class="content">首字母文本：<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①">::first-letter</a> 伪元素及其 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix①">::prefix</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix①">::postfix</a> 子元素</span><a class="self-link" href="#first-letter-pseudo"></a></h3>
        <div class="figure">
            <img alt="首字母的首字放大效果，包括前面的开头引号。" height="72" src="https://www.w3.org/TR/css-pseudo-4/images/first-letter2.gif" width="114">
        </div>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-first-letter">::first-letter</dfn> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element③">伪元素</a> 代表 <code class="highlight">L*</code>、<code class="highlight">N*</code> 或 <code class="highlight">S*</code> （Unicode 类别）中的首个字母、数字或符号 <a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#typographic-character-unit" id="ref-for-typographic-character-unit">排版字符单元</a>，出现在其 <a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line⑥">首个格式化行</a>的 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element③">原始元素</a>（即 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="first-letter">首字母</dfn>）及其关联的标点符号。这部分文本统称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="first-letter-text">首字母文本</dfn>。<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②">::first-letter</a> 伪元素可以用于创建“首字放大”和“悬挂字母”效果，这是常见的排版效果。</p>
        <div class="example" id="example-2abd34c5">
            <a class="self-link" href="#example-2abd34c5"></a> 例如，以下规则在每个紧跟在二级标题后的段落中创建一个两行的悬挂字母，使用 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-inline-3/#propdef-initial-letter" id="ref-for-propdef-initial-letter">initial-letter</a> 属性，该属性在 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a> 中定义：
            <pre class="lang-css highlight">h2 + p::first-letter <c- p>{</c-> <c- k>initial-letter</c-><c- p>:</c-> <c- m>3</c-><c- p>;</c-> <c- p>}</c-></pre>
        </div>
        <p class="note" role="note"><span>注意：</span><a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter">首字母</a> 实际上也可以是数字，例如：“67 million dollars is a lot of money.” 中的“6”。</p>
        <p>为了允许独立样式化 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter①">首字母</a> 及其相邻的标点符号，相关的前置标点由 <dfn class="dfn-paneled css" data-dfn-for="::first-letter" data-dfn-type="selector" data-export id="selectordef-first-letter-prefix">::prefix</dfn> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element">子伪元素</a> 代表，而相关的后置标点则由 <dfn class="dfn-paneled css" data-dfn-for="::first-letter" data-dfn-type="selector" data-export id="selectordef-first-letter-postfix">::postfix</dfn> 代表（即 <span class="css">::first-letter::postfix</span>）。详见 <a href="#first-letter-pattern">§ 2.2.1 首字母和相关标点符号</a>。
        </p>
        <h4 class="heading settled" data-level="2.2.1" id="first-letter-pattern"><span class="secno">2.2.1. </span><span
                class="content">首字母及其关联的标点符号</span><a class="self-link"
                href="#first-letter-pattern"></a></h4>
        <p>如<a href="https://www.w3.org/TR/css-text-3/#characters"><cite>CSS Text 3</cite> § 1.4 字符和字母</a>中所述，<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#typographic-character-unit" id="ref-for-typographic-character-unit①">排版字符单元</a>可以包含多个 Unicode 码点。例如，组合字符必须与其基本字符保持在一起。另外，不同语言可能对某些字母组合有额外的处理规则。例如，在荷兰语中，如果字母组合“ij”出现在元素的开头，则这两个字母都应被视为 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter⑤">::first-letter</a> 伪元素的一部分。<a data-link-type="biblio" href="#biblio-uax29">[UAX29]</a> 在选择 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter②">首字母</a>时，UA 应根据 <span id="ref-for-selectordef-first-letter⑥">::first-letter</span> 伪元素的 <em><a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block">包含块</a></em>的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#content-language" id="ref-for-content-language">内容语言</a>调整其对 <span id="ref-for-typographic-character-unit②">排版字符单元</span>的定义，以反映首字母的传统。</p>
        <p>首字母前后的标点符号也必须作为 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text">首字母文本</a> 的一部分包含在 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter⑦">::first-letter</a> 伪元素中，具体如下：</p>
        <ul>
            <li>所有标点符号——即属于标点符号类 (<code class="highlight">P*</code>) 的字符，<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#unicode-general-category" id="ref-for-unicode-general-category">Unicode 一般类别</a> <a data-link-type="biblio" href="#biblio-uax44">[UAX44]</a>——位于 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter③">首字母</a>之前。
            <li>除开头标点和破折号以外的任何标点符号——即属于标点符号类 (<code class="highlight">P*</code>) 的字符，<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#unicode-general-category" id="ref-for-unicode-general-category①">Unicode 一般类别</a>，不包括开头标点符号 (<code class="highlight">Ps</code>) 和破折号标点符号 (<code class="highlight">Pd</code>)——位于 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter④">首字母</a>之后。
            <li>任何间隔的排版空格——即属于 <code class="highlight">Zs</code> 类别的字符，<a data-link-type="biblio" href="#biblio-uax44">[UAX44]</a>，但不包括 U+3000 全角空格或任何<a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#word-separator" id="ref-for-word-separator">单词分隔符</a>字符。
        </ul>
        <div class="note" role="note">
            非正式表示中，<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①">首字母文本</a>的模式可以大致表示为 (忽略 <code class="highlight">Zs</code> 中不包括单词分隔符的部分)，如下所示：
            <code class="highlight" style="font-family: inherit"> (P (Zs|P)*)? (L<var>N</var>) ((Zs|P−(Ps|Pd))* (P−(Ps|Pd))? </code> 或者，<code class="highlight" style="font-family: inherit"> ([P] [Zs P]*)? [L N S] ([Zs [P--[Ps Pd]]]* [P--[Ps Pd]])? </code>
            <p class="issue" id="issue-14a38cf3"><a class="self-link" href="#issue-14a38cf3"></a> Bikeshed 在此处<a href="https://github.com/tabatkins/bikeshed/issues/2202">省略标点符号</a>，这并不理想。</p>
            <div class="railroad">
                <svg class="railroad-diagram" height="139" viewBox="0 0 760 139" width="760">
                    <g transform="translate(.5 .5)">
                        <path d="M 20 38 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path>
                        <g>
                            <path d="M40 48h0"></path>
                            <path d="M254 48h0"></path>
                            <path d="M40 48a10 10 0 0 0 10 -10v-8a10 10 0 0 1 10 -10"></path>
                            <g>
                                <path d="M60 20h174"></path>
                            </g>
                            <path d="M234 20a10 10 0 0 1 10 10v8a10 10 0 0 0 10 10"></path>
                            <path d="M40 48h20"></path>
                            <g>
                                <path d="M60 48h0"></path>
                                <path d="M234 48h0"></path>
                                <g class="non-terminal">
                                    <path d="M60 48h0"></path>
                                    <path d="M88 48h0"></path>
                                    <rect height="22" width="28" x="60" y="37"></rect>
                                    <text x="74" y="52">P</text>
                                </g>
                                <path d="M88 48h10"></path>
                                <g>
                                    <path d="M98 48h0"></path>
                                    <path d="M234 48h0"></path>
                                    <path d="M98 48a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path>
                                    <g>
                                        <path d="M118 28h96"></path>
                                    </g>
                                    <path d="M214 28a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path>
                                    <path d="M98 48h20"></path>
                                    <g>
                                        <path d="M118 48h0"></path>
                                        <path d="M214 48h0"></path>
                                        <path d="M118 48h10"></path>
                                        <g>
                                            <path d="M128 48h0"></path>
                                            <path d="M204 48h0"></path>
                                            <path d="M128 48h20"></path>
                                            <g class="non-terminal">
                                                <path d="M148 48h4"></path>
                                                <path d="M180 48h4"></path>
                                                <rect height="22" width="28" x="152" y="37"></rect>
                                                <text x="166" y="52">P</text>
                                            </g>
                                            <path d="M184 48h20"></path>
                                            <path d="M128 48a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
                                            <g class="non-terminal">
                                                <path d="M148 78h0"></path>
                                                <path d="M184 78h0"></path>
                                                <rect height="22" width="36" x="148" y="67"></rect>
                                                <text x="166" y="82">Zs</text>
                                            </g>
                                            <path d="M184 78a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
                                        </g>
                                        <path d="M204 48h10"></path>
                                        <path d="M128 48a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path>
                                        <g>
                                            <path d="M128 97h76"></path>
                                        </g>
                                        <path d="M204 97a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path>
                                    </g>
                                    <path d="M214 48h20"></path>
                                </g>
                            </g>
                            <path d="M234 48h20"></path>
                        </g>
                        <g>
                            <path d="M254 48h0"></path>
                            <path d="M322 48h0"></path>
                            <path d="M254 48h20"></path>
                            <g class="non-terminal">
                                <path d="M274 48h0"></path>
                                <path d="M302 48h0"></path>
                                <rect height="22" width="28" x="274" y="37"></rect>
                                <text x="288" y="52">L</text>
                            </g>
                            <path d="M302 48h20"></path>
                            <path d="M254 48a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
                            <g class="non-terminal">
                                <path d="M274 78h0"></path>
                                <path d="M302 78h0"></path>
                                <rect height="22" width="28" x="274" y="67"></rect>
                                <text x="288" y="82">N</text>
                            </g>
                            <path d="M302 78a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
                            <path d="M254 48a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path>
                            <g class="non-terminal">
                                <path d="M274 108h0"></path>
                                <path d="M302 108h0"></path>
                                <rect height="22" width="28" x="274" y="97"></rect>
                                <text x="288" y="112">S</text>
                            </g>
                            <path d="M302 108a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path>
                        </g>
                        <g>
                            <path d="M322 48h0"></path>
                            <path d="M720 48h0"></path>
                            <path d="M322 48a10 10 0 0 0 10 -10v-8a10 10 0 0 1 10 -10"></path>
                            <g>
                                <path d="M342 20h358"></path>
                            </g>
                            <path d="M700 20a10 10 0 0 1 10 10v8a10 10 0 0 0 10 10"></path>
                            <path d="M322 48h20"></path>
                            <g>
                                <path d="M342 48h0"></path>
                                <path d="M700 48h0"></path>
                                <g class="non-terminal">
                                    <path d="M342 48h0"></path>
                                    <path d="M466 48h0"></path>
                                    <rect height="22" width="124" x="342" y="37"></rect>
                                    <text x="404" y="52">P − (Ps ∪ Pd)</text>
                                </g>
                                <path d="M466 48h10"></path>
                                <g>
                                    <path d="M476 48h0"></path>
                                    <path d="M700 48h0"></path>
                                    <path d="M476 48a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path>
                                    <g>
                                        <path d="M496 28h184"></path>
                                    </g>
                                    <path d="M680 28a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path>
                                    <path d="M476 48h20"></path>
                                    <g>
                                        <path d="M496 48h0"></path>
                                        <path d="M680 48h0"></path>
                                        <path d="M496 48h10"></path>
                                        <g>
                                            <path d="M506 48h0"></path>
                                            <path d="M670 48h0"></path>
                                            <path d="M506 48h20"></path>
                                            <g class="non-terminal">
                                                <path d="M526 48h0"></path>
                                                <path d="M650 48h0"></path>
                                                <rect height="22" width="124" x="526" y="37"></rect>
                                                <text x="588" y="52">P − (Ps ∪ Pd)</text>
                                            </g>
                                            <path d="M650 48h20"></path>
                                            <path d="M506 48a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
                                            <g class="non-terminal">
                                                <path d="M526 78h44"></path>
                                                <path d="M606 78h44"></path>
                                                <rect height="22" width="36" x="570" y="67"></rect>
                                                <text x="588" y="82">Zs</text>
                                            </g>
                                            <path d="M650 78a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
                                        </g>
                                        <path d="M670 48h10"></path>
                                        <path d="M506 48a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path>
                                        <g>
                                            <path d="M506 97h164"></path>
                                        </g>
                                        <path d="M670 97a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path>
                                    </g>
                                    <path d="M680 48h20"></path>
                                </g>
                            </g>
                            <path d="M700 48h20"></path>
                        </g>
                        <path d="M 720 48 h 20 m -10 -10 v 20 m 10 -20 v 20"></path>
                    </g>
                </svg>
            </div>
        </div>
        <p>有关 <a data-link-type="dfn" href="https://www.w3.org/TR/css-text-3/#typographic-character-unit" id="ref-for-typographic-character-unit③">排版字符单元</a> 及其 Unicode 属性的更多信息，请参阅<a href="https://www.w3.org/TR/css-text-3/#characters"><cite>CSS Text 3</cite> § 1.4 字符和字母</a> 和 <a href="https://www.w3.org/TR/css-text-3/#character-properties"><cite>CSS Text 3</cite> § 字符和属性</a>。<a data-link-type="biblio" href="#biblio-css-text-3">[CSS-TEXT-3]</a>
        </p>
        <h4 class="heading settled" data-level="2.2.2" id="first-letter-application"><span class="secno">2.2.2. </span><span class="content">查找首字母文本</span><a class="self-link" href="#first-letter-application"></a></h4>
        <p>与 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⑤">::first-line</a> 类似，<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter⑧">::first-letter</a> 伪元素仅在附加到<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container④">块容器</a>时才有效。其<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text②">首字母文本</a>是其<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level" id="ref-for-inline-level②">内联级别内容</a>中，参与其 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-formatting-context" id="ref-for-inline-formatting-context①">内联格式化上下文</a> 的首个<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element④">源元素</a>的 <a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line⑦">首个格式化行</a>的部分，且该行中无任何其他流内内容（如图片或内联表格）在其之前。</p>
        <p>为此，任何 <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#marker" id="ref-for-marker">标记框</a>都将被忽略，视为流外内容。然而，如果某个元素包含流内的 <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before">::before</a> 或 <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after">::after</a> 内容，<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text③">首字母文本</a> 将从该元素的内容中选择，包括生成的内容。</p>
        <div class="example" id="example-179a5087"><a class="self-link" href="#example-179a5087"></a>示例：在应用规则 <code class="lang-css highlight"><c- k>p</c-><c- p>:</c->:before <c- p>{</c-><c- k>content</c-><c- p>:</c-> <c- s>"Note: "</c-><c- p>}</c-></code> 后，选择器 <span class="css">p::first-letter</span> 匹配 “Note” 中的 "N"。</div>
        <p>如果不存在符合条件的文本，则不存在<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text④">首字母文本</a>，也不存在 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter⑨">::first-letter</a> 伪元素。</p>
        <p class="note" role="note"><span>注意：</span> 当 <a data-link-type="dfn" href="#first-formatted-line" id="ref-for-first-formatted-line⑧">首行格式化行</a>为空时，<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①⓪">::first-letter</a> 不会匹配任何内容。例如，在以下 HTML 片段中：<code class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>br</c-><c- p>></c->First...</code>，首行不包含任何字母，因此 <span class="css" id="ref-for-selectordef-first-letter①①">::first-letter</span> 不会匹配任何内容，尤其不会匹配第二行的 “First” 中的 “F”。</p>
        <p class="note" role="note"><span>注意：</span> 与 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⑥">::first-line</a> 一样，不参与 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-formatting-context" id="ref-for-block-formatting-context①">块格式化上下文</a> 的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#block-container" id="ref-for-block-container⑤">块容器</a> 的<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text⑤">首字母文本</a>不能成为其祖先元素的 <span id="ref-for-first-letter-text⑥">首字母文本</span>。因此，在 <code class="lang-markup highlight"><c- p>&lt;</c-><c- f>DIV</c-><c- p>>&lt;</c-><c- f>P</c-> <c- e>STYLE</c-><c- o>=</c-><c- s>"display: inline-block"</c-><c- p>></c->Hello<c- p>&lt;</c-><c- f>BR</c-><c- p>></c->Goodbye<c- p>&lt;/</c-><c- f>P</c-><c- p>></c-> etcetera<c- p>&lt;/</c-><c- f>DIV</c-><c- p>></c-></code> 中，<code class="highlight">DIV</code> 的首字母不是 “H”。实际上，<code class="highlight">DIV</code> 没有首字母。</p>
        <p>任何被换行到下一行的 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text⑦">首字母文本</a>部分不再是<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①②">::first-letter</a> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑥">伪元素</a>的一部分。</p>
        <h4 class="heading settled" data-level="2.2.3" id="first-letter-tree"><span class="secno">2.2.3. </span><span class="content">首字母伪元素的继承和框架树结构</span><a class="self-link" href="#first-letter-tree"></a></h4>
        <p><a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①③">::first-letter</a> 伪元素立即包裹其代表的<a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text⑧">首字母文本</a>，即使该文本位于子元素中。当 <span id="ref-for-first-letter-text⑨">首字母文本</span> 由多个 <span class="css" id="ref-for-selectordef-first-letter①④">::first-letter</span> 伪元素表示时，它们的嵌套顺序与其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element⑤">源元素</a>的嵌套顺序相同。<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inheritance" id="ref-for-inheritance②">继承</a>行为与之相符。</p>
        <div class="example" id="example-fd33f595">
            <a class="self-link" href="#example-fd33f595"></a>考虑以下标记：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>></c->The first few words<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
  and the rest of the paragraph.
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <p>如果我们假设<a data-link-type="dfn" href="#fictional-tag-sequence" id="ref-for-fictional-tag-sequence③">虚构的标签序列</a>来表示元素的<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①⑤">::first-letter</a>伪元素，它可能是这样的：</p>
            <pre class="highlight">&lt;div>
  &lt;p>&lt;span><strong>&lt;div::first-letter>&lt;p::first-letter></strong>T<strong>&lt;/…>&lt;/…></strong>he first few words&lt;/span>
  and the rest of the paragraph.
&lt;/div>
</pre>
        </div>
        <p>如果存在 <span class="css">::first-letter::prefix</span> 或 <span class="css">::first-letter::postfix</span> 伪元素，它们会嵌套在最内层的 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①⑥">::first-letter</a> 内部，并且其行为与 <span class="css" id="ref-for-selectordef-first-letter①⑦">::first-letter</span> 类似。</p>
        <div class="example" id="example-af9bfeee">
            <a class="self-link" href="#example-af9bfeee"></a> 考虑以下标记：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>></c->“The first few words<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
  and the rest of the quotation.
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-> 
</pre>
            <p>如果我们假设<a data-link-type="dfn" href="#fictional-tag-sequence" id="ref-for-fictional-tag-sequence④">虚构的标签序列</a>来表示这些元素的<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter①⑧">::first-letter</a>伪元素，它可能是这样的：</p>
            <pre class="highlight">&lt;div>
  &lt;p>&lt;span>&lt;div::first-letter>&lt;p::first-letter><strong>&lt;div::first-letter::prefix>&lt;p::first-letter::prefix></strong>“<strong>&lt;/…>&lt;/…></strong>T&lt;/…>&lt;/…>he first few words&lt;/span>
  and the rest of the paragraph.
&lt;/div>
</pre>
        </div>
        <p>如果组成 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①⓪">首字母文本</a> 的字符不在同一个元素中（例如，<code class="highlight">‘T</code> 在 <code class="lang-css highlight">&lt;p>‘&lt;em>T...</code> 中），
            用户代理可以从某个元素、所有元素中，或干脆不创建这些伪元素（以及其 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix②">::prefix</a> 或 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix②">::postfix</a> 子元素，如有）。此外，如果 <span id="ref-for-first-letter-text①①">首字母文本</span> 不在行的开头（例如，由于双向重排序，或由于 <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#list-item" id="ref-for-list-item">列表项</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#marker" id="ref-for-marker①">标记</a> 具有 <a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-lists-3/#propdef-list-style-position" id="ref-for-propdef-list-style-position">list-style-position: inside</a>），
            则用户代理不需要创建这些伪元素。</p>
        <p><a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⓪">::first-letter</a> 伪元素包含在任何 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⑦">::first-line</a> 伪元素内，
            因此（可能间接）继承自 <span class="css" id="ref-for-selectordef-first-line①⑧">::first-line</span>，就像同一行中的任何 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-box" id="ref-for-inline-box">内联框</a>一样。</p>
        <h4 class="heading settled" data-level="2.2.4" id="first-letter-styling"><span class="secno">2.2.4. </span><span
                class="content"> 首字母伪元素的样式</span><a class="self-link"
                href="#first-letter-styling"></a></h4>
        <p>在 CSS 中，<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②①">::first-letter</a> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑧">伪元素</a>
            （及其 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix③">::prefix</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix③">::postfix</a> 子元素）
            类似于 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-box" id="ref-for-inline-box①">内联框</a>。
            以下属性适用于 <span class="css" id="ref-for-selectordef-first-letter②②">::first-letter</span>、<span class="css">::first-letter::prefix</span> 和 <span class="css">::first-letter::postfix</span> 伪元素：</p>
        <ul>
            <li>所有字体属性（见 <a data-link-type="biblio" href="#biblio-css-fonts-3">[CSS-FONTS-3]</a>）
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color①">color</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-opacity" id="ref-for-propdef-opacity①">opacity</a> 属性（见 <a data-link-type="biblio" href="#biblio-css-color-3">[CSS-COLOR-3]</a>）
            <li>所有背景属性（见 <a data-link-type="biblio" href="#biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]</a>）
            <li>适用于内联元素的排版属性（见 <a data-link-type="biblio" href="#biblio-css-text-3">[CSS-TEXT-3]</a>）
            <li>所有文本装饰属性（见 <a data-link-type="biblio" href="#biblio-css-text-decor-3">[CSS-TEXT-DECOR-3]</a>）
            <li>适用于内联元素的布局属性（见 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a>）
            <li>边距和内边距属性（见 <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a>）
            <li>边框属性和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow" id="ref-for-propdef-box-shadow">box-shadow</a>（见 <a data-link-type="biblio" href="#biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]</a>）
            <li>任何其他定义为适用于 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②③">::first-letter</a> 的属性，其各自的规范中有所定义
        </ul>
        <p>用户代理也可以应用其他属性。
            然而，任何未列出的属性都不得更改 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②④">::first-letter</a> 所代表的 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①②">首字母文本</a>。</p>
        <p class="note" role="note"><span>注意：</span> 在早期版本的 CSS 中，用户代理可以基于字母的形状选择行高、宽度和高度，以近似字体大小；并在执行布局时考虑字形轮廓。
            这种松散定义的"魔法"功能已被有意移除，因为它被证明对预期的用例（首字母放大和升高字母）是一个糟糕的解决方案，还引发了兼容性问题。
            参见 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-inline-3/#propdef-initial-letter" id="ref-for-propdef-initial-letter①">initial-letter</a> 在 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a> 中明确处理首字母放大和升高字母的方式。</p>
        <h2 class="heading settled" data-level="3" id="highlight-pseudos"><span class="secno">3. </span><span class="content"> 高亮伪元素</span><a class="self-link" href="#highlight-pseudos"></a>
        </h2>
        <h3 class="heading settled" data-level="3.1" id="highlight-selectors"><span class="secno">3.1. </span><span class="content"> 选择高亮内容: <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection">::selection</a>, <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text">::target-text</a>, <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error">::spelling-error</a>, 和
                <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error">::grammar-error</a> 伪元素</span><a class="self-link" href="#highlight-selectors"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="highlight pseudo-element" id="highlight-pseudo-element">高亮伪元素</dfn> 表示文档中被赋予特定状态的部分，通常通过不同的样式来向用户显示该状态。
            例如，文档的被选择部分通常会高亮显示（给定替代的背景和前景颜色，或是颜色覆盖）
            以表示它们的选中状态。
            定义了以下 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element">高亮伪元素</a>：</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-selection">::selection</dfn>
            <dd> <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection①">::selection</a> 伪元素表示文档中已被选中的部分，
                作为未来某些用户代理操作的目标或对象。
                例如，它适用于可编辑文本字段中的选中文本，
                该文本可能被复制操作复制，或被粘贴操作替换。
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-target-text">::target-text</dfn>
            <dd>
                <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text①">::target-text</a> 伪元素表示
                直接由文档 URL 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">片段</a>（如果有）直接定位的文本。
                <p class="note" role="note"><span>注意：</span> 当 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment①">URL 片段</a> 定位某个元素时，
                    可以使用 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-4/#target-pseudo" id="ref-for-target-pseudo">:target</a> 伪类来选择它，
                    但 <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text②">::target-text</a> 不匹配任何内容。
                    它只匹配由 [<span id="ref-for-concept-url-fragment②">片段</span>] 直接定位的文本。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-spelling-error">::spelling-error</dfn>
            <dd> <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error①">::spelling-error</a> 伪元素表示
                用户代理标记为拼写错误的文本部分。
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-grammar-error">::grammar-error</dfn>
            <dd> <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error①">::grammar-error</a> 伪元素表示
                用户代理标记为语法错误的文本部分。
        </dl>
        <p><a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①">高亮伪元素</a> 不一定符合元素树的结构，
            可以跨越元素边界，而不必遵循其嵌套结构。</p>
        <p class="note" role="note"><span>注意：</span> 将来的 CSS 版本可能会引入创建
            自定义高亮伪元素的方法。</p>
        <h3 class="heading settled" data-level="3.2" id="highlight-styling"><span class="secno">3.2. </span><span class="content"> 高亮样式</span><a class="self-link" href="#highlight-styling"></a></h3>
        <p><a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②">高亮伪元素</a> 只能使用一组有限的属性进行样式化，
            这些属性不会影响布局，并且可以在高度动态的环境中高效应用——<wbr>另外（为了确保互操作性），
            它们在 <a href="#highlight-bounds">要求的区域</a> 内的渲染不依赖于（由 UA 确定的）<a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay">高亮叠加</a>的精确边界。
            以下属性适用于 <span id="ref-for-highlight-pseudo-element③">高亮伪元素</span>：</p>
        <ul>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color②">color</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color">background-color</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-decoration" id="ref-for-propdef-text-decoration">text-decoration</a> 及其相关属性（包括 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-underline-position" id="ref-for-propdef-text-underline-position">text-underline-position</a> 和 <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-text-decor-4/#propdef-text-underline-offset" id="ref-for-propdef-text-underline-offset">text-underline-offset</a>）
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow" id="ref-for-propdef-text-shadow">text-shadow</a>
            <li><a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color" id="ref-for-propdef-stroke-color">stroke-color</a>、<a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color" id="ref-for-propdef-fill-color">fill-color</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width" id="ref-for-propdef-stroke-width">stroke-width</a>
        </ul>
        <p><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-adjust-1/#propdef-forced-color-adjust" id="ref-for-propdef-forced-color-adjust">forced-color-adjust</a> 属性不能在 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element④">高亮伪元素</a> 上设置；
            但 <span id="ref-for-highlight-pseudo-element⑤">高亮伪元素</span> 必须遵循应用于其 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element⑥">原始元素</a> 的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode" id="ref-for-forced-colors-mode">强制颜色模式</a>（因此受 <span id="ref-for-originating-element⑦">原始元素</span> 的 <span class="property" id="ref-for-propdef-forced-color-adjust①">forced-color-adjust</span> 值的控制）。</p>
        <p class="issue" id="issue-6ca196f5"><a class="self-link" href="#issue-6ca196f5"></a> 还有其他属性需要包含在这里吗？</p>
        <p class="note" role="note"><span>注意：</span> <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color③">color</a> 属性
            设置文本的颜色
            以及所有行装饰（下划线、上划线、删除线）
            和强调标记（<a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis" id="ref-for-propdef-text-emphasis">text-emphasis</a>）
            由 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element⑧">原始元素</a> 及其祖先和后代应用于文本的标记。</p>
        <p class="note" role="note"><span>注意：</span> 历史上（及撰写本文时）
            只有 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color④">color</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color①">background-color</a> 得到了互操作性的支持。</p>
        <h3 class="heading settled" data-level="3.3" id="highlight-ua-styles"><span class="secno">3.3. </span><span class="content"> 默认 UA 样式</span><a class="self-link" href="#highlight-ua-styles"></a></h3>
        <p>以下内容是默认 UA 样式表的推荐补充：</p>
        <pre class="lang-css highlight"><c- c>/* 以可调整的方式表示默认的拼写/语法错误样式 */</c->
:root::spelling-error <c- p>{</c-> <c- k>text-decoration-line</c-><c- p>:</c-> spelling-error<c- p>;</c-> <c- p>}</c->
:root::grammar-error  <c- p>{</c-> <c- k>text-decoration-line</c-><c- p>:</c-> grammar-error<c- p>;</c-> <c- p>}</c->
</pre>
        <p>某些 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element⑥">高亮伪元素</a> 应具有 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="paired-default-highlight-colors">配对的默认高亮颜色</dfn>——<wbr>由 UA 提供的默认 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑤">color</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color②">background-color</a>，二者应一起使用或覆盖，
            参见 <a href="#paired-defaults">§ 3.3.1 配对默认值</a>。
            对于 <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection②">::selection</a>，它们应对应 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-system-color-highlighttext" id="ref-for-valdef-system-color-highlighttext">HighlightText</a> 和 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-system-color-highlight" id="ref-for-valdef-system-color-highlight">Highlight</a>，
            而对于 <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text③">::target-text</a>，它们应对应 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-system-color-marktext" id="ref-for-valdef-system-color-marktext">MarkText</a> 和 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-system-color-mark" id="ref-for-valdef-system-color-mark">Mark</a>。</p>
        <p>UA 可能应用额外的效果以增强高亮内容的呈现，
            例如，调暗非高亮文本的内容，
            或基于用户交互或时间来逐步取消高亮样式。
            这些效果不受 CSS 控制。</p>
        <p class="issue" id="issue-c10df75c"><a class="self-link" href="#issue-c10df75c"></a> 当前正在讨论中
            的 UA 对高亮内容的显示调整
            在某些情况下<em>受</em> CSS 控制，
            参见 <a href="https://github.com/w3c/csswg-drafts/issues/6853">Issue 6853</a>。</p>
        <h4 class="heading settled" data-level="3.3.1" id="paired-defaults"><span class="secno">3.3.1. </span><span
                class="content"> 配对默认值</span><a class="self-link" href="#paired-defaults"></a></h4>
        <p>出于兼容性原因，<a data-link-type="dfn" href="#paired-default-highlight-colors" id="ref-for-paired-default-highlight-colors">配对默认高亮颜色</a> 仅在 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value">使用</a>时适用，
            当 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑥">color</a> 或 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color③">background-color</a> 均未从 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#cascade-origin-author" id="ref-for-cascade-origin-author">作者来源</a>获取 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#cascaded-value" id="ref-for-cascaded-value">级联值</a>时（或从作者来源继承其值）。
            当高亮颜色为 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#valdef-all-revert" id="ref-for-valdef-all-revert">revert</a>
            或 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#valdef-all-revert-layer" id="ref-for-valdef-all-revert-layer">revert-layer</a> 时，
            回退级联后<em>之后</em> 的来源决定 <span id="ref-for-cascaded-value①">级联值</span> 的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-6/#origin" id="ref-for-origin">来源</a>。</p>
        <p class="note" role="note"><span>注意：</span> 由于此规则出于兼容性原因，
            它不适用于其他类似属性
            如 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color" id="ref-for-propdef-fill-color①">fill-color</a> 或 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color" id="ref-for-propdef-stroke-color①">stroke-color</a>。</p>
        <div class="example" id="example-e46c5169">
            <a class="self-link" href="#example-e46c5169"></a> 例如，
            给定以下标记：
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c->Highlight this <c- p>&lt;</c-><c- f>em</c-><c- p>></c->and this<c- p>&lt;/</c-><c- f>em</c-><c- p>></c->.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
            <p>以下任意规则
                都会抑制 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color④">背景颜色</a> 在 <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection③">::selection</a> 中的默认应用 <code class="highlight">&lt;em></code>
                元素
                如果由作者提供：</p>
            <pre class="lang-css highlight"><c- k>em</c-><c- p>:</c->:selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> initial<c- p>;</c-> <c- p>}</c->
em::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> inherit<c- p>;</c-> <c- p>}</c->
em::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> unset<c- p>;</c-> <c- p>}</c->
em::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
p::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="3.4" id="highlight-bounds"><span class="secno">3.4. </span><span class="content">高亮区域</span><a class="self-link" href="#highlight-bounds"></a></h3>
        <p>对于每种高亮类型（参见 <a href="#highlight-selectors">§ 3.1 选择高亮内容: ::selection、::target-text、::spelling-error 和 ::grammar-error 伪元素</a>），
            整个文档都有一个单独的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="highlight-overlay">高亮叠加</dfn>，
            活跃的部分由相应的<a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element⑦">高亮伪元素</a>表示。
            每个盒子拥有与直接包含的文本或替换内容对应的叠加部分。</p>
        <ul>
            <li> 对于文本，相关叠加必须至少覆盖整个 em 盒子，
                并且可以进一步扩展到行盒边缘的上方/下方。
                两个字符之间的间距也可以是叠加区域的一部分，
                在这种情况下，它属于包含这两个字符的最内层元素，
                当两个字符都被选择时，该区域也会被选中。
            <li> 对于替换内容，相关叠加必须至少覆盖整个替换对象，
                并且可以向外扩展以包括元素的整个内容盒。
            <li> 叠加还可以包括元素的边框盒内的其他区域；
                在这种情况下，这些区域属于包含该区域的最内层元素。
            <li> 对于 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-level-box" id="ref-for-inline-level-box①">内联级别盒子</a>，叠加可以在 <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis">块轴</a>上扩展到其边框之外，
                直至其 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#line-box" id="ref-for-line-box①">行盒</a>的边缘。
        </ul>
        <p class="issue" id="issue-13b80e20"><a class="self-link" href="#issue-13b80e20"></a> 参见 <a href="https://lists.w3.org/Archives/Public/www-style/2008Nov/0022.html">F2F 会议记录</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2008Oct/0268.html">dbaron 的消息</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2010May/0247.html">Daniel 的讨论串</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2010May/0261.html">Gecko 备注</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2010May/0366.html">Opera 备注</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2010May/0280.html">Webkit 备注</a></p>
        <p class="issue" id="issue-271a1b90"><a class="self-link" href="#issue-271a1b90"></a> 不确定这是否是描述实际情况的正确方式。</p>
        <h3 class="heading settled" data-level="3.5" id="highlight-cascade"><span class="secno">3.5. </span><span class="content">层叠与每个元素的高亮样式</span><a class="self-link" href="#highlight-cascade"></a></h3>
        <p>每个元素绘制它自己的活跃部分 <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay①">高亮叠加</a>，
            并接收由对应的<a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element⑧">高亮伪元素</a>样式指定的样式，
            该元素是 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element⑨">原始元素</a>。
            当多种样式冲突时，
            获胜的样式由层叠规则决定。</p>
        <p>当层叠未为任何支持的属性指定值，
            或指定值为 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit" id="ref-for-valdef-all-inherit">inherit</a> 或 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-5/#valdef-all-unset" id="ref-for-valdef-all-unset">unset</a> 时，
            它的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#specified-value" id="ref-for-specified-value">指定值</a>通过从其 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element⑨">高亮伪元素</a> 的父元素继承。
            无论该属性是否为 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inherited-property" id="ref-for-inherited-property①">继承属性</a>（以及无论该属性是否为注册为 <a data-link-type="dfn" href="https://www.w3.org/TR/css-variables-1/#custom-property" id="ref-for-custom-property①">自定义属性</a>）都会继承。
            此外，
            对于从根元素派生的 <span id="ref-for-highlight-pseudo-element①⓪">高亮伪元素</span>，
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inherited-value" id="ref-for-inherited-value">继承值</a>为 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑦">color</a> 的值为 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor">currentColor</a>，
            而不是 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#initial-value" id="ref-for-initial-value">初始值</a>。
        </p>
        <div class="example" id="example-c35bf49a">
            <a class="self-link" href="#example-c35bf49a"></a> 例如，如果应用以下规则：
            <pre class="lang-css highlight"><c- k>p</c-><c- p>:</c->:selection      <c- p>{</c-> <c- k>color</c-><c- p>:</c-> yellow<c- p>;</c-> <c- k>background</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
p > em::selection <c- p>{</c-> <c- k>color</c-><c- p>:</c-> orange<c- p>;</c-> <c- p>}</c->
em::selection     <c- p>{</c-> <c- k>color</c-><c- p>:</c->    red<c- p>;</c-> <c- p>}</c->
</pre>
            <p>应用到以下标记：</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c->Highlight this <c- p>&lt;</c-><c- f>em</c-><c- p>></c->and this<c- p>&lt;/</c-><c- f>em</c-><c- p>></c->.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
            <p>选择高亮将是整个绿色，
                文本颜色在 <code class="highlight">&lt;em></code> 元素之外为黄色，
                在其内部为橙色。</p>
        </div>
        <p class="advisement"> 作者希望多个选择样式应使用 <strong><span class="css">:root::selection</span></strong> 为其整个文档指定选择样式，
            因为这将允许在后代中干净地覆盖。 <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection④">::selection</a> 单独应用于树中的每个元素，
            覆盖任何祖先的更具体的样式。</p>
        <div class="example" id="example-97480f68">
            <a class="self-link" href="#example-97480f68"></a> 例如，如果作者指定了
            <pre class="lang-css highlight">::selection          <c- p>{</c-> <c- k>background</c-><c- p>:</c-> blue<c- p>;</c-> <c- p>}</c->
p.warning::selection <c- p>{</c-> <c- k>background</c-><c- p>:</c->  red<c- p>;</c-> <c- p>}</c->
</pre>
            <p>并且文档包括</p>
            <pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>p</c-> <c- e>class</c-><c- o>=</c-><c- s>"warning"</c-><c- p>></c->Some <c- p>&lt;</c-><c- f>strong</c-><c- p>></c->very important information<c- p>&lt;/</c-><c- f>strong</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
            <p>高亮将是“very important information”上为蓝色，
                因为 <code class="highlight">&lt;strong></code> 元素的 <a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑤">::selection</a> 也匹配了
                <span class="css">::selection { background: blue; }</span> 规则。
                （请记住，当缺少标签选择器时，会默认应用 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-3/#x" id="ref-for-x">*</a>。）
                产生预期行为的样式规则
                （红色高亮在 <code class="highlight">p.warning</code> 内部，其他地方为蓝色）是
            </p>
            <pre class="lang-css highlight">:root::selection     <c- p>{</c-> <c- k>background</c-><c- p>:</c-> blue<c- p>;</c-> <c- p>}</c->
p.warning::selection <c- p>{</c-> <c- k>background</c-><c- p>:</c->  red<c- p>;</c-> <c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="3.6" id="highlight-painting"><span class="secno">3.6. </span><span class="content">高亮绘制</span><a class="self-link" href="#highlight-painting"></a></h3>
        <h4 class="heading settled" data-level="3.6.1" id="highlight-backgrounds"><span class="secno">3.6.1.</span><span class="content"> 背景</span><a class="self-link" href="#highlight-backgrounds"></a></h4>
        <p>每个 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①①">高亮伪元素</a> 都在对应的 <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay②">高亮叠加</a> 部分上绘制背景，绘制在任何定位的后代下方（即 <a href="https://www.w3.org/TR/CSS22/zindex.html#painting-order">CSS2.2 §E.2</a> 的第8步之前）。<a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑥">::selection</a> 叠加绘制在 <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text④">::target-text</a> 叠加上，后者绘制在 <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error②">::spelling-error</a> 叠加上，再绘制在 <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error②">::grammar-error</a> 叠加上。</p>

        <h4 class="heading settled" data-level="3.6.2" id="highlight-shadows"><span class="secno">3.6.2.</span><span class="content"> 阴影</span><a class="self-link" href="#highlight-shadows"></a></h4>
        <p>任何应用于 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow" id="ref-for-propdef-text-shadow①">text-shadow</a> 的 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①②">高亮伪元素</a> 的阴影绘制在其对应的 <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay③">高亮叠加</a> 背景上。这些文本阴影也堆叠在彼此之上（以及任何应用于文本及其装饰的原始 <span class="property" id="ref-for-propdef-text-shadow②">text-shadow</span> 上，这些继续生效）。</p>
        <p class="note" role="note"><span>注意：</span>由于每个 <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay④">高亮叠加</a> 背景绘制在其下层的任何阴影之上，因此 <span id="ref-for-highlight-overlay⑤">高亮叠加</span> 背景可以遮挡较低层的阴影。</p>

        <h4 class="heading settled" data-level="3.6.3" id="highlight-text"><span class="secno">3.6.3.</span><span class="content"> 文本和文本装饰</span><a class="self-link" href="#highlight-text"></a></h4>
        <p>一个 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①③">高亮伪元素</a> 会抑制与其关联的任何文本和文本装饰（除了阴影）的正常绘制。相反，最上层活跃的 <a data-link-type="dfn" href="#highlight-overlay" id="ref-for-highlight-overlay⑥">高亮叠加</a> 使用该高亮自身的 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑧">颜色</a> 重新绘制该文本和这些装饰。</p>
        <p class="note" role="note"><span>注意：</span>这意味着与阴影不同，线条装饰和强调标记不会被为关联文本绘制的任何高亮叠加背景遮挡。</p>
        <p>为此，<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor①">currentColor</a> 在 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①④">高亮伪元素</a> 的 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color⑨">颜色</a> 属性上代表下一层 <em>活跃</em> 的 <span id="ref-for-highlight-pseudo-element①⑤">高亮伪元素</span>，最后回退到原本将使用的颜色（由 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①①">原始元素</a> 或中间的 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑨">伪元素</a> 如 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line①⑨">::first-line</a> 或 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⑥">::first-letter</a> 应用）。</p>
        <p class="note" role="note"><span>注意：</span>元素自身的文本装饰（包括 <a href="https://www.w3.org/TR/css-text-decor/#line-decoration">线条装饰</a> 和 <a href="https://www.w3.org/TR/css-text-decor/#emphasis-marks">强调标记</a>）将在伪元素的自身 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color①①">颜色</a> 中绘制，而不管它们原始颜色或填充的指定。</p>
        <p>由每个 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①⑥">高亮伪元素</a> 引入的任何文本装饰按与其背景相同的顺序堆叠在文本的原始装饰之上，每个装饰以自己的颜色绘制。正常的绘制顺序适用，因此根据 <a href="https://www.w3.org/TR/CSS2/zindex.html#painting-order">CSS2 附录 E</a>，所有下划线在上划线之下绘制，上划线在文本之下绘制，文本在任何删除线之下绘制。然而，<a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑦">::selection</a> 应用的文本装饰可能全部与文本一起绘制，作为一组顶层图层，位于所有其他装饰之上。</p>

        <div class="example" id="example-92591876">
            <a class="self-link" href="#example-92591876"></a> 例如，假设原始文本有下划线和删除线，<a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑧">::selection</a> 应用了下划线，<a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑤">::target-text</a> 应用了上划线和删除线，以下两种绘制顺序都是合规的：
            <div style="columns: 20em">
                <ol style="break-inside: avoid; margin-top: 0;">
                    <li>原始下划线
                    <li><a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection⑨">::selection</a> 下划线
                    <li><a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑥">::target-text</a> 上划线
                    <li><a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection①⓪">::selection</a>-着色文本
                    <li>原始删除线
                    <li><a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑦">::target-text</a> 删除线
                </ol>
                <ol style="break-inside: avoid; margin-top: 0;">
                    <li>原始下划线
                    <li><a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑧">::target-text</a> 上划线
                    <li>原始删除线
                    <li><a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text⑨">::target-text</a> 删除线
                    <li><a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection①①">::selection</a> 下划线
                    <li><a class="css" data-link-type="maybe" href="#selectordef-selection" id="ref-for-selectordef-selection①②">::selection</a>-着色文本
                </ol>
            </div>
        </div>
        <p><a href="https://www.w3.org/TR/css-text-decor/#line-decoration">线条装饰</a>由 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①⑦">高亮伪元素</a> 引入，只应用于与其 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①②">原始元素</a> 关联的文本，不会传递给后代，除非通过属性 <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inheritance" id="ref-for-inheritance③">继承</a>（如上文 <a href="#highlight-cascade">所述</a>）。</p>
        <p class="note" role="note"><span>注意：</span> 与原始元素的装饰不同，在高亮伪元素上声明的装饰会传递给 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#out-of-flow" id="ref-for-out-of-flow">非文档流元素</a> 和 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#inline-block" id="ref-for-inline-block">行内块元素</a>，其厚度和位置在后代之间会有所不同。</p>

        <h4 class="heading settled" data-level="3.6.4" id="highlight-replaced"><span class="secno">3.6.4. </span><span class="content">替换元素</span><a class="self-link" href="#highlight-replaced"></a></h4>
        <p>对于非替换内容，UA 必须尊重指定的 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color①②">颜色</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color⑤">背景颜色</a>（包括它们的 alpha 通道）。但是，对于替换内容，UA 应该创建一个半透明的覆盖层，以便内容在选择时仍然可见。该覆盖层应为指定的 <span class="property" id="ref-for-propdef-background-color⑥">背景颜色</span>（如果不是 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-transparent" id="ref-for-valdef-color-transparent">透明</a>），否则为指定的 <span class="property" id="ref-for-propdef-color①③">颜色</span>；不过，UA 可以调整 alpha 通道。</p>

        <h3 class="heading settled" data-level="3.7" id="highlight-security"><span class="secno">3.7. </span><span class="content">安全性与隐私考量</span><a class="self-link" href="#highlight-security"></a></h3>
        <p>由于拼写和语法错误的样式可能会泄露用户词典的内容信息（这可能包括用户的姓名，甚至包括他们的地址簿！），
            实现<a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error③">::spelling-error</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error③">::grammar-error</a>的UA必须
            防止网页读取这些高亮段落的样式。</p>

        <h2 class="heading settled" data-level="4" id="treelike"><span class="secno">4. </span><span class="content">树形伪元素</span><a class="self-link" href="#treelike"></a></h2>
        <p><dfn data-dfn-type="dfn" data-export data-lt="tree-abiding|tree-abiding pseudo-element" id="tree-abiding">树形伪元素<a class="self-link" href="#tree-abiding"></a></dfn>
            始终适应于盒模型树中。它们会从<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#inheritance" id="ref-for-inheritance④">继承</a>可继承的属性，
            非继承属性将像往常一样采用其<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#initial-value" id="ref-for-initial-value①">初始值</a>。
            <a data-link-type="biblio" href="#biblio-css-cascade-4">[CSS-CASCADE-4]</a>
        </p>

        <h3 class="heading settled" data-level="4.1" id="generated-content"><span class="secno">4.1. </span><span class="content">生成内容伪元素：<a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before①">::before</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after①">::after</a></span><a class="self-link" href="#generated-content"></a></h3>
        <p>当它们的计算<a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-content-3/#propdef-content" id="ref-for-propdef-content">内容</a>值不为<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-content-3/#valdef-content-none" id="ref-for-valdef-content-none">none</a>时，这些伪元素会生成盒子，仿佛它们是其<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①④">原始元素</a>的直接子元素，内容由 <span class="property" id="ref-for-propdef-content①">content</span> 指定。</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-before">::before</dfn>
            <dd>表示一个可样式化的子伪元素，位于<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①⑤">原始元素</a>的实际内容之前。
            <dt><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-after">::after</dfn>
            <dd>表示一个可样式化的子伪元素，位于<a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element①⑥">原始元素</a>的实际内容之后。
        </dl>

        <p>这些伪元素可以像文档树中的任何正常元素一样进行样式化；所有适用于正常元素的属性同样适用于<a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before②">::before</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after②">::after</a>。</p>

        <div class="example" id="example-1db24d2c">
            <a class="self-link" href="#example-1db24d2c"></a> 例如，以下规则在每个 <code class="highlight">&lt;p></code> 元素的内容之前插入字符串“Note: ”，该元素的 <code class="highlight">class</code> 属性值为 <code class="highlight">note</code>：
            <pre class="lang-css highlight">p.note::before <c- p>{</c-> <c- k>content</c-><c- p>:</c-> <c- s>"Note: "</c-> <c- p>}</c-></pre>
            <p>由于 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-display-3/#propdef-display" id="ref-for-propdef-display">display</a> 的初始值为 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-3/#valdef-display-inline" id="ref-for-valdef-display-inline">inline</a>，这将生成一个行内框。
                像 <code class="highlight">&lt;p></code> 的其他行内子元素一样，它将参与 <code class="highlight">&lt;p></code> 的行内格式化上下文，可能与其他内容共享同一行。</p>
        </div>

        <p>与常规元素的内容一样，<a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before③">::before</a> 和 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#selectordef-after" id="ref-for-selectordef-after③">::after</a> 伪元素的生成内容可以成为其<a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⓪">::first-line</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⑦">::first-letter</a> 伪元素的一部分。此外，与常规子元素一样，当父元素 <span id="ref-for-originating-element①⑧">原始元素</span> 为<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#replaced-element" id="ref-for-replaced-element">替换元素</a>时，<span class="css" id="ref-for-selectordef-before④">::before</span> 和 <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after④">::after</a> 伪元素将被隐藏。</p>
        <h3 class="heading settled" data-level="4.2" id="marker-pseudo"><span class="secno">4.2. </span><span class="content"> 列表标记：<a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker">::marker</a> 伪元素</span><a class="self-link" href="#marker-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-marker">::marker</dfn> 伪元素代表
            自动生成的<a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#marker" id="ref-for-marker②">标记盒子</a>，用于<a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#list-item" id="ref-for-list-item①">列表项</a>。
            （参见 <a data-link-type="biblio" href="#biblio-css-display-3">[CSS-DISPLAY-3]</a> 和 <a data-link-type="biblio" href="#biblio-css-lists-3">[CSS-LISTS-3]</a>。）</p>
        <p> <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker①">::marker</a> 的内容会被<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⑧">::first-letter</a> 忽略（不会被选中）。</p>
        <p class="issue" id="issue-c80e7017"><a class="self-link" href="#issue-c80e7017"></a> <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker②">::marker</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②①">::first-line</a> 的交互正在 <a href="https://github.com/w3c/csswg-drafts/issues/4506">Issue 4506</a> 中讨论。</p>
        <p> <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker③">::marker</a> 伪元素只能使用有限的属性集。
            该列表定义在<a href="https://www.w3.org/TR/css-lists-3/#marker-properties"><cite>CSS 列表 3</cite> § 3.1.1 属性应用于 ::marker</a>。</p>
        <p> <span class="css">::before::marker</span> 或 <span class="css">::after::marker</span> 选择器是有效的，
            可用于表示作为<a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#marker" id="ref-for-marker③">标记盒子</a>的 <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before⑤">::before</a> 或 <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after⑤">::after</a> 伪元素，
            它们恰好是<a data-link-type="dfn" href="https://www.w3.org/TR/css-lists-3/#list-item" id="ref-for-list-item②">列表项</a>。
            但 <span class="css">::marker::marker</span> 是无效的，
            <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-display-3/#propdef-display" id="ref-for-propdef-display①">display</a> 的计算值在
            <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker④">::marker</a> 上始终失去任何 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-3/#valdef-display-list-item" id="ref-for-valdef-display-list-item">list-item</a> 属性。
        </p>
        <p class="issue" id="issue-1caf313e"><a class="self-link" href="#issue-1caf313e"></a> <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑤">::marker</a> 是否也应具有 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix" id="ref-for-selectordef-first-letter-prefix④">::prefix</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix" id="ref-for-selectordef-first-letter-postfix④">::postfix</a> 子元素？</p>
        <h3 class="heading settled" data-level="4.3" id="placeholder-pseudo"><span class="secno">4.3. </span><span class="content"> 占位符输入：<a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder">::placeholder</a> 伪元素</span><a class="self-link" href="#placeholder-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-placeholder">::placeholder</dfn> 伪元素表示输入字段中的占位符文本：
            该文本用于表示输入，并为用户提供如何填写表单的提示。
            例如，日期输入字段可能有“YYYY/MM/DD”的占位符文本，以明确要求用户按年-月-日的顺序输入日期。</p>
        <div class="example" id="example-60211a7d"><a class="self-link" href="#example-60211a7d"></a> 例如，
            根据 <a data-link-type="biblio" href="#biblio-html">[HTML]</a> 的语义，
            <code class="highlight"><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder" id="ref-for-attr-input-placeholder">placeholder</a></code> 属性可以用于
            <code class="highlight"><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element">input</a></code>
            和 <code class="highlight"><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element" id="ref-for-the-textarea-element">textarea</a></code> 元素
            提供占位符文本。
            <a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder①">::placeholder</a> 伪元素代表显示时的该文本。
        </div>
        <p class="note" role="note"><span>注意：</span> 还存在 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-4/#placeholder-shown-pseudo" id="ref-for-placeholder-shown-pseudo">:placeholder-shown</a> 伪类，
            它在显示占位符文本时应用于（实际的）元素，
            并可以用于特别样式化这些元素。<a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder②">::placeholder</a> 特别表示占位符文本，
            因此功能相对有限。</p>
        <p>所有适用于 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②②">::first-line</a> 伪元素的属性
            也适用于 <a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder③">::placeholder</a> 伪元素。</p>
        <p class="issue" id="issue-d70c3c0a"><a class="self-link" href="#issue-d70c3c0a"></a> 是否应排除 <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a> 的属性？<a href="https://github.com/w3c/csswg-drafts/issues/5379">[Issue #5379]</a></p>
        <p>在交互媒体中，输入占位符文本通常在用户输入后被隐藏；
            但这并不是强制要求，输入值和占位符文本可以同时显示。
            具体行为由用户代理定义。
            请注意，在静态媒体（如打印）中，即使用户输入了内容，占位符文本仍然会保留。</p>
        <p class="issue" id="issue-1631f2fa"><a class="self-link" href="#issue-1631f2fa"></a> 作者似乎希望 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-3/#propdef-text-align" id="ref-for-propdef-text-align">text-align</a> 被列入支持属性列表。
            参见 <a href="https://css-tricks.com/almanac/selectors/p/placeholder/">此处评论</a>。</p>
        <p class="note" role="note"><span>注意：</span> 也有请求希望 <a class="css" data-link-type="maybe" href="#selectordef-placeholder" id="ref-for-selectordef-placeholder④">::placeholder</a> 还可以指代
            在元素树中有对应元素的占位符。
            目前还不清楚如何实现这一点，但值得尝试。
            参见 <a href="https://github.com/w3c/csswg-drafts/issues/2517">Issue 2417</a>。</p>
        <h3 class="heading settled" data-level="4.4" id="file-selector-button-pseudo"><span class="secno">4.4.
            </span><span class="content"> 文件选择按钮：<a class="css" data-link-type="maybe" href="#selectordef-file-selector-button" id="ref-for-selectordef-file-selector-button">::file-selector-button</a> 伪元素</span><a class="self-link" href="#file-selector-button-pseudo"></a></h3>
        <p><dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-file-selector-button">::file-selector-button</dfn> 伪元素用于定位 <span class="css">&lt;button></span>，
            它位于 <span class="css">&lt;input></span> 元素中，且 <code class="highlight">type=file</code>，
            如果用户代理显示此按钮。</p>
        <p>没有对 <a class="css" data-link-type="maybe" href="#selectordef-file-selector-button" id="ref-for-selectordef-file-selector-button①">::file-selector-button</a> 伪元素的应用属性有任何限制。</p>
        <div class="example" id="file-selector-button-example">
            <a class="self-link" href="#file-selector-button-example"></a> 例如，以下示例应在文件选择按钮周围显示绿色边框：
            <pre class="lang-css highlight">::file-selector-button <c- p>{</c-> <c- k>border</c-><c- p>:</c-> <c- m>3</c-><c- k>px</c-> solid green <c- p>}</c-></pre>
        </div>
        <h2 class="heading settled" data-level="5" id="interactions"><span class="secno">5. </span><span class="content"> 重叠伪元素交互</span><a class="self-link" href="#interactions"></a></h2>
        <div class="example" id="overlapping-example">
            <a class="self-link" href="#overlapping-example"></a> 回顾：
            <ul>
                <li><a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before⑥">::before</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after⑥">::after</a> 的内容被选中时，完全按它们在文档源树中的正常元素进行处理。
                <li> <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter②⑨">::first-letter</a> 的边界紧紧围绕第一个字母文本，并且 <span class="css" id="ref-for-selectordef-first-letter③⓪">::first-letter</span> 只能出现在第一格式化行上。
                <li> <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②③">::first-line</a> 的开始位于包含块元素边界的内部，结束于该行内容的末尾。
            </ul>
            <p>以下 CSS 和 HTML 示例演示了重叠伪元素的交互：</p>
            <pre class="lang-html highlight"><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- f>p</c-> <c- p>{</c-> <c- k>color</c-><c- p>:</c-> <c- kc>red</c-><c- p>;</c-> <c- k>font-size</c-><c- p>:</c-> <c- mi>12</c-><c- b>pt</c-> <c- p>}</c-> 
<c- f>p</c-><c- p>::</c-><c- nd>first-letter</c-> <c- p>{</c-> <c- k>color</c-><c- p>:</c-> <c- kc>green</c-><c- p>;</c-> <c- k>font-size</c-><c- p>:</c-> <c- mi>200</c-><c- b>%</c-> <c- p>}</c-> 
<c- f>p</c-><c- p>::</c-><c- nd>first-line</c-> <c- p>{</c-> <c- k>color</c-><c- p>:</c-> <c- kc>blue</c-> <c- p>}</c-> 
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->

<c- p>&lt;</c-><c- f>p</c-><c- p>></c->Some text that ends up on two lines<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
            <p>每个 P 元素的第一个字母将是绿色，字体大小为 '24pt'。第一格式化行的其余部分将为蓝色，而段落的其余部分将为红色。</p>
            <p>假设在单词“ends”之前会发生换行，此片段的<a data-link-type="dfn" href="#fictional-tag-sequence" id="ref-for-fictional-tag-sequence⑤">虚构标签序列</a>可能是：</p>
            <pre class="lang-html highlight"><c- p>&lt;</c-><c- f>p</c-><c- p>></c-> 
  <c- p>&lt;</c-><c- f>p::first-line</c-><c- p>></c-> 
    <c- p>&lt;</c-><c- f>p::first-letter</c-><c- p>></c->
      S 
    <c- p>&lt;/</c-><c- f>p::first-letter</c-><c- p>></c-> 
    ome text that 
  <c- p>&lt;/</c-><c- f>p::first-line</c-><c- p>></c-> 
  ends up on two lines 
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></pre>
        </div>
        <h2 class="heading settled" data-level="6" id="cssom"><span class="secno">6. </span><span class="content">
                CSS 对象模型的扩展</span><a class="self-link" href="#cssom"></a></h2>
        <h3 class="heading settled" data-level="6.1" id="CSSPseudoElement-interface"><span class="secno">6.1.
            </span><span class="content"> <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement">CSSPseudoElement</a></code>
                接口</span><a class="self-link" href="#CSSPseudoElement-interface"></a></h3>
        <p><code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①">CSSPseudoElement</a></code>
            接口允许伪元素作为事件目标。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csspseudoelement"><code class="highlight"><c- g>CSSPseudoElement</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csspseudoelement-type" id="ref-for-dom-csspseudoelement-type"><c- g>type</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-csspseudoelement-element" id="ref-for-dom-csspseudoelement-element"><c- g>element</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①"><c- n>Element</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#csspseudoelement" id="ref-for-csspseudoelement②"><c- n>CSSPseudoElement</c-></a>) <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Element or CSSPseudoElement)" href="#dom-csspseudoelement-parent" id="ref-for-dom-csspseudoelement-parent"><c- g>parent</c-></a>;
    <a data-link-type="idl-name" href="#csspseudoelement" id="ref-for-csspseudoelement③"><c- n>CSSPseudoElement</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="method" data-export data-lt="pseudo(type)" id="dom-csspseudoelement-pseudo"><code class="highlight"><c- g>pseudo</c-></code></dfn>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement/pseudo(type)" data-dfn-type="argument" data-export id="dom-csspseudoelement-pseudo-type-type"><code class="highlight"><c- g>type</c-></code></dfn>);
};
</pre>
        <p class="issue" id="issue-22d457b7"><a class="self-link" href="#issue-22d457b7"></a> 此接口正在设计开发中，当前草案期望获得反馈以便进一步完善实现。
            CSSWG 尤其希望听到关于使用场景和问题的反馈。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="attribute" data-export id="dom-csspseudoelement-type"><code class="highlight">type</code></dfn> 属性表示伪元素的类型字符串。该字符串可以是以下值之一：</p>
        <dl>
            <dt><code class="highlight"><c- s>"::before"</c-></code>
            <dd>表示 <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before⑦">::before</a> 伪元素。
            <dt><code class="highlight"><c- s>"::after"</c-></code>
            <dd>表示 <a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after⑦">::after</a> 伪元素。
            <dt><code class="highlight"><c- s>"::marker"</c-></code>
            <dd>表示 <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑥">::marker</a> 伪元素。
        </dl>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="attribute" data-export id="dom-csspseudoelement-element"><code class="highlight">element</code></dfn> 属性是伪元素的最终来源元素。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="attribute" data-export id="dom-csspseudoelement-parent"><code class="highlight">parent</code></dfn> 属性是伪元素的来源元素。
            对于大多数伪元素，<code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-parent" id="ref-for-dom-csspseudoelement-parent①">parent</a></code> 和 <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-element" id="ref-for-dom-csspseudoelement-element①">element</a></code> 会返回相同的 <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②">Element</a></code>；对于 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element②">子伪元素</a>，<code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-parent" id="ref-for-dom-csspseudoelement-parent②">parent</a></code>
            将返回一个 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement④">CSSPseudoElement</a></code>，而 <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-element" id="ref-for-dom-csspseudoelement-element②">element</a></code> 返回一个 <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element③">Element</a></code>。</p>
        <p><dfn class="idl-code" data-dfn-for="CSSPseudoElement" data-dfn-type="attribute" data-export id="dom-csspseudoelement-pseudo①"><code class="highlight"><c- nf>pseudo</c-><c- p>()</c-></code><a class="self-link" href="#dom-csspseudoelement-pseudo①"></a></dfn> 方法返回表示其参数中引用的 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element③">子伪元素</a>的 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement⑤">CSSPseudoElement</a></code>
            接口，如果这样的子伪元素存在且有效，否则返回 null。见下文的 <code class="idl"><a data-link-type="idl" href="#dom-element-pseudo" id="ref-for-dom-element-pseudo">pseudo()</a></code>。</p>
        <p class="note" role="note"><span>注意：</span> 将来可能会扩展此接口，以适用于其他伪元素类型，或者允许通过 <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstyledeclaration" id="ref-for-cssstyledeclaration">CSSStyleDeclaration</a></code> 的 <code class="highlight">style</code> 属性设置样式信息。目前的功能仅限于支持 <a data-link-type="biblio" href="#biblio-web-animations-1">[web-animations-1]</a>。</p>
        <h3 class="heading settled" data-level="6.2" id="window-interface"><span class="secno">6.2. </span><span class="content"> <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo" id="ref-for-dom-csspseudoelement-pseudo">pseudo()</a></code>
                方法在 <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element④">Element</a></code> 接口中</span><a class="self-link" href="#window-interface"></a></h3>
        <p>在 <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑤">Element</a></code> 接口中新增了一个方法，用于检索由给定元素创建的伪元素：</p>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑥"><c- g>Element</c-></a> {
          <a data-link-type="idl-name" href="#csspseudoelement" id="ref-for-csspseudoelement⑥"><c- n>CSSPseudoElement</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-element-pseudo" id="ref-for-dom-element-pseudo①"><c- g>pseudo</c-></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <dfn class="idl-code" data-dfn-for="Element/pseudo(type)" data-dfn-type="argument" data-export id="dom-element-pseudo-type-type"><code class="highlight"><c- g>type</c-></code><a class="self-link" href="#dom-element-pseudo-type-type"></a></dfn>);
        };
        </pre>
        <div class="algorithm" data-algorithm="pseudo(CSSOMString type)" data-algorithm-for="Element">
            <dfn class="dfn-paneled idl-code" data-dfn-for="Element" data-dfn-type="method" data-export data-lt="pseudo(type)" id="dom-element-pseudo" title="pseudo(type)"><code class="highlight"><c- nf>pseudo</c-><c- p>(</c->CSSOMString type<c- p>)</c-></code></dfn> 方法用于检索与该元素关联的指定 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement⑦">CSSPseudoElement</a></code> 实例。
            执行以下步骤：
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar" id="ref-for-css-parse-something-according-to-a-css-grammar">解析</a> 参数 <code class="idl"><a class="idl-code" data-link-type="argument" href="#dom-csspseudoelement-pseudo-type-type" id="ref-for-dom-csspseudoelement-pseudo-type-type">type</a></code>
                        为 <a class="production css" data-link-type="type" href="https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector" id="ref-for-typedef-pseudo-element-selector">&lt;pseudo-element-selector></a>，并让 <var>type</var> 成为结果。</p>
                <li data-md>
                    <p>如果 <var>type</var> 解析失败，返回 null。</p>
                <li data-md>
                    <p>否则，返回 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement⑧">CSSPseudoElement</a></code> 对象，表示伪元素与 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a> 作为 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element②⓪">来源元素</a> 匹配的选择器 <var>type</var>。</p>
            </ol>
        </div>
        <p>相同 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①②">伪元素</a> 在相同 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element②①">来源元素</a> 上返回的值必须始终是相同的 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement⑨">CSSPseudoElement</a></code> 对象（如果这是可观察的）。用户代理可以在不影响可观察行为的前提下，为了方便或性能而丢弃或重新生成该对象。</p>
        <p class="issue" id="issue-302461e7"><a class="self-link" href="#issue-302461e7"></a> 关于 <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo" id="ref-for-dom-csspseudoelement-pseudo①">pseudo()</a></code> 方法的返回值标识、生命周期和 null 值情况（以及潜在的错误情况）仍在讨论中。详见 <a href="https://github.com/w3c/csswg-drafts/issues/3607">Issue 3607</a> 和 <a href="https://github.com/w3c/csswg-drafts/issues/3603">Issue 3603</a>。</p>
        <h3 class="heading settled" data-level="6.3" id="getComputedStyle"><span class="secno">6.3. </span><span class="content"> <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle">getComputedStyle()</a></code></span><a class="self-link" href="#getComputedStyle"></a></h3>
        <p>当第二个参数 <var>pseudoElt</var> 引用一个 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①⑧">高亮伪元素</a> 时，<code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle①">getComputedStyle()</a></code> 将返回样式，
            就好像只有该高亮伪元素是活动的而其他高亮伪元素都不是活动的。这样可以避免返回基于实际高亮状态的结果，从而避免潜在的歧义和隐私风险。
        </p>
        <h2 class="heading settled" data-level="7" id="css2-compat"><span class="secno">7. </span><span class="content">
                兼容性语法</span><a class="self-link" href="#css2-compat"></a></h2>
        <p>为了与针对CSS Level 2 <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> 编写的现有样式表兼容，用户代理必须接受之前的单冒号表示法（<code class="highlight">:before</code>、<code class="highlight">:after</code>、<code class="highlight">:first-letter</code>、<code class="highlight">:first-line</code>）来代替 <a class="css" data-link-type="maybe" href="#selectordef-before" id="ref-for-selectordef-before⑧">::before</a>、<a class="css" data-link-type="maybe" href="#selectordef-after" id="ref-for-selectordef-after⑧">::after</a>、<a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③①">::first-letter</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②④">::first-line</a> 伪元素。</p>
        <h2 class="no-num heading settled" id="changes"><span class="content"> 变更</span><a class="self-link" href="#changes"></a></h2>
        <p>自 <a href="https://www.w3.org/TR/2020/WD-css-pseudo-4-20201231/">2020年12月31日工作草案</a>以来的重大更改包括：</p>
        <ul>
            <li>为处理与 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③②">::first-letter</a> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①③">伪元素</a> 相关的标点符号，添加了 <span class="css">::first-letter::prefix</span> 和 <span class="css">::first-letter::postfix</span> <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element⑤">子伪元素</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/2040">Issue 2040</a>)</li>
            <li>优化了 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①③">首字母文本</a> 模式：
                <ul>
                    <li>排除单词分隔空格不算作 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①④">首字母文本</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/5830">Issue 5830</a>)</li>
                    <li>排除破折号和开头标点符号不算作后续标点符号。(<a href="https://github.com/w3c/csswg-drafts/issues/5830">Issue 5830</a>)</li>
                    <li>允许符号表示 <a data-link-type="dfn" href="#first-letter" id="ref-for-first-letter⑦">首字母</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/5099">Issue 5099</a>)</li>
                    <li>明确指出 <a data-link-type="dfn" href="#first-letter-text" id="ref-for-first-letter-text①⑤">首字母文本</a> 会因换行而截断。(<a href="https://github.com/w3c/csswg-drafts/issues/2254">Issue 2254</a>)</li>
                </ul>
            </li>
            <li>重新编写并明确了 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#selectordef-first-letter" id="ref-for-selectordef-first-letter③③">:first-letter</a> 的定义，并改进了示例和说明。</li>
            <li>重新编写并明确了 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑤">::first-line</a> 的定义，并改进了示例。</li>
            <li>定义了 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height" id="ref-for-propdef-line-height①">line-height</a> 应用于 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑥">::first-line</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/2282">Issue 2282</a>)</li>
            <li>定义了 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑦">::first-line</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③④">::first-letter</a> 的框结构交互。</li>
            <li>定义了 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑧">::first-line</a> 与 <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#root-inline-box" id="ref-for-root-inline-box②">根内联框</a> 的层级顺序。(<a href="https://github.com/w3c/csswg-drafts/issues/1384">Issue 1384</a>)</li>
            <li>明确了 <a href="#paired-defaults">配对默认</a>行为中的 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element①⑨">高亮伪元素</a> <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-color" id="ref-for-propdef-color①④">颜色</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color" id="ref-for-propdef-background-color⑦">背景色</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/6386">Issue 6386</a>, <a href="https://github.com/w3c/csswg-drafts/issues/6774">Issue 6774</a>, <a href="https://github.com/w3c/csswg-drafts/issues/6779">Issue 6779</a>, <a href="https://github.com/w3c/csswg-drafts/issues/7837">Issue 7837</a>)</li>
            <li>定义了 <a data-link-type="dfn" href="https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode" id="ref-for-forced-colors-mode①">强制颜色模式</a> 应用于 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②⓪">高亮伪元素</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/7264">Issue 7264</a>)</li>
            <li>明确了 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②①">高亮伪元素</a> 文本装饰的绘制顺序、传播和应用。(<a href="https://github.com/w3c/csswg-drafts/issues/6022">Issue 6022</a>, <a href="https://github.com/w3c/csswg-drafts/issues/6829">Issue 6829</a>, <a href="https://github.com/w3c/csswg-drafts/issues/7101">Issue 7101</a>)</li>
            <li>移除了 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ui-3/#propdef-caret-color" id="ref-for-propdef-caret-color">caret-color</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ui-3/#propdef-cursor" id="ref-for-propdef-cursor">cursor</a> 对 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②②">高亮伪元素</a> 的应用。(<a href="https://github.com/w3c/csswg-drafts/issues/4100">Issue 4100</a>)</li>
            <li>明确了 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②③">高亮伪元素</a> 和 <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle②">getComputedStyle()</a></code> 的交互。(<a href="https://github.com/w3c/csswg-drafts/issues/6818">Issue 6818</a>)</li>
            <li>明确了 <a data-link-type="dfn" href="https://www.w3.org/TR/css-variables-1/#custom-property" id="ref-for-custom-property②">自定义属性</a> 应用于 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element①④">伪元素</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/6264">Issue 6264</a>)</li>
            <li>扩展了 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①⓪">CSSPseudoElement</a></code> 接口，添加了 <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-parent" id="ref-for-dom-csspseudoelement-parent③">parent</a></code> 属性和 <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo" id="ref-for-dom-csspseudoelement-pseudo②">pseudo()</a></code> 方法来处理 <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element" id="ref-for-sub-pseudo-element⑥">子伪元素</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/3836">Issue 3836</a>)</li>
        </ul>
        <p>自 <a href="https://www.w3.org/TR/2019/WD-css-pseudo-4-20190225/">2019年2月25日工作草案</a>以来的重大更改包括：</p>
        <ul>
            <li>添加了 <a class="css" data-link-type="maybe" href="#selectordef-target-text" id="ref-for-selectordef-target-text①⓪">::target-text</a> 伪元素。(<a href="https://github.com/w3c/csswg-drafts/issues/5522">Issue 5522</a>)</li>
            <li>移除了 <span class="css">::inactive-selection</span>。(<a href="https://github.com/w3c/csswg-drafts/issues/4579">Issue 4579</a>)</li>
            <li>添加了 <span class="css">::file-selectors-button</span> 伪元素。(<a href="https://github.com/w3c/csswg-drafts/issues/5049">Issue 5049</a>)</li>
            <li>调整了从 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line②⑨">::first-line</a> 继承属性的规则，以处理可继承和不可继承的属性，并明确排除了影响级联的 <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode">书写模式</a> 控制属性的适用性，还定义了与自定义属性的交互。(<a href="https://github.com/w3c/csswg-drafts/issues/1097">Issue 1097</a>)</li>
            <li>将 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position" id="ref-for-propdef-ruby-position①">ruby-position</a> 添加到允许在 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line③⓪">::first-line</a> 上使用的属性中，类似于 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis-position" id="ref-for-propdef-text-emphasis-position">text-emphasis-position</a>。(<a href="https://github.com/w3c/csswg-drafts/issues/2998">Issue 2998</a>)</li>
            <li>将首字母与其周围标点符号之间的空格包含在 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③⑤">::first-letter</a> 中。(<a href="https://github.com/w3c/csswg-drafts/issues/5154">Issue 5154</a>)</li>
            <li>定义了 <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑦">::marker</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter" id="ref-for-selectordef-first-letter③⑥">::first-letter</a> 的交互。</li>
            <li>使 <span class="css">::before::marker</span> 和 <span class="css">::after::marker</span> 有效。(<a href="https://github.com/w3c/csswg-drafts/issues/1793">Issue 1793</a>)</li>
            <li>将应用于 <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑧">::marker</a> 的 <a href="https://www.w3.org/TR/css-lists-3/#marker-properties">属性列表</a> 移动到 <a data-link-type="biblio" href="#biblio-css-lists-3">[CSS-LISTS-3]</a>（同时添加了 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-content-3/#propdef-content" id="ref-for-propdef-content②">content</a>、<a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi" id="ref-for-propdef-unicode-bidi">unicode-bidi</a> 和 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction①">direction</a>）。</li>
            <li>将 <a class="css" data-link-type="maybe" href="#selectordef-marker" id="ref-for-selectordef-marker⑨">::marker</a> 添加到 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①①">CSSPseudoElement</a></code> 接口允许的类型中。(<a href="https://github.com/w3c/csswg-drafts/issues/3763">Issue 3763</a>)</li>
            <li>明确了 <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo" id="ref-for-dom-csspseudoelement-pseudo③">pseudo()</a></code> 的返回值。(<a href="https://github.com/w3c/csswg-drafts/issues/3603">3603</a> 和 <a href="https://github.com/w3c/csswg-drafts/issues/3607">3607</a>)</li>
            <li>允许内联级别框的高亮覆盖扩展到行框边缘。(<a href="https://github.com/w3c/csswg-drafts/issues/5395">5395</a> 和 <a href="https://github.com/w3c/csswg-drafts/issues/4624">4624</a>)</li>
            <li>明确了高亮伪元素上的 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor③">currentColor</a> 使用的颜色是在文本未“高亮”时会使用的颜色，即使该颜色是由伪元素（如 <a class="css" data-link-type="maybe" href="#selectordef-first-line" id="ref-for-selectordef-first-line③①">::first-line</a>）提供的。(<a href="https://github.com/w3c/csswg-drafts/issues/4625">Issue 4625</a>)</li>
            <li>定义了 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow" id="ref-for-propdef-text-shadow③">text-shadow</a> 与 <a data-link-type="dfn" href="#highlight-pseudo-element" id="ref-for-highlight-pseudo-element②⑤">高亮伪元素</a> 的交互。(<a href="https://github.com/w3c/csswg-drafts/issues/3932">Issue 3932</a>)</li>
            <li>改进了适用于高亮伪元素的 <a href="#highlight-ua-styles">默认UA样式表</a> 规则。</li>
        </ul>
        <p>自 <a href="https://www.w3.org/TR/2016/WD-css-pseudo-4-20160607/">2016年6月7日工作草案</a>以来的更改包括：</p>
        <ul>
            <li>使用 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-spelling-error" id="ref-for-valdef-text-decoration-line-spelling-error">拼写错误</a> 和 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-grammar-error" id="ref-for-valdef-text-decoration-line-grammar-error">语法错误</a> 定义 <a class="css" data-link-type="maybe" href="#selectordef-spelling-error" id="ref-for-selectordef-spelling-error④">::spelling-error</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-grammar-error" id="ref-for-selectordef-grammar-error④">::grammar-error</a> 在UA样式表中的作用。</li>
            <li>重新定义了父子高亮伪元素之间的值传播规则，使用继承而不是级联。有关讨论，请参见并链接到 <a href="https://github.com/w3c/csswg-drafts/issues/2474">Issue 2474</a>。</li>
            <li>完善了高亮伪元素支持的属性列表，例如添加了 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color" id="ref-for-propdef-stroke-color②">stroke-color</a>/<a class="property css" data-link-type="property" href="https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color" id="ref-for-propdef-fill-color②">fill-color</a>，移除了 <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-ui-3/#propdef-outline" id="ref-for-propdef-outline">outline</a> 等等。</li>
            <li>明确了高亮伪元素的文本和文本装饰颜色的绘制方式。</li>
            <li>添加了 <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-element" id="ref-for-dom-csspseudoelement-element③">element</a></code> 属性到 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①②">CSSPseudoElement</a></code> 接口中。</li>
            <li>更改了 <code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-type" id="ref-for-dom-csspseudoelement-type①">type</a></code> 属性的值，使其与对应的伪元素匹配。</li>
            <li>减少了 <code class="idl"><a data-link-type="idl" href="#csspseudoelement" id="ref-for-csspseudoelement①④">CSSPseudoElement</a></code> 支持的类型，并移除了未实现的 <code class="highlight">style</code> 属性。</li>
            <li>将 <code class="highlight">window.<c- nf>getPseudoElements</c-><c- p>(</c->elem<c- p>,</c->type<c- p>)</c-></code> 更改为 <code class="highlight">Element.<c- nf>pseudo</c-><c- p>(</c->type<c- p>)</c-></code>。</li>
            <li>杂项的次要澄清和修正。</li>
        </ul>
        <h2 class="no-num heading settled" id="acknowledgements"><span class="content"> 致谢</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>编辑们特别感谢以下个人对本规范的贡献：Tab Atkins，David Baron，Oriol Brufau，Razvan Caliman，Chris Coyier，Anders Grimsrud，Vincent Hardy，François Remy。</p>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a class="self-link" href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">文档约定</span><a class="self-link" href="#w3c-conventions"></a></h3>
    <p>一致性要求通过描述性断言和 RFC 2119 术语的结合来表达。规范性部分中的关键词“必须(MUST)”、“不得(MUST NOT)”、“必需(REQUIRED)”、“应(SHALL)”、“不应(SHALL NOT)”、“应该(SHOULD)”、“不应该(SHOULD NOT)”、“推荐(RECOMMENDED)”、“可以(MAY)”和“可选(OPTIONAL)”的解释应符合 RFC 2119 的描述。然而，为了可读性，这些词在本规范中并未全部以大写字母形式出现。 </p>
    <p>除明确标记为非规范性部分、示例和注释的章节外，本规范的所有文本均为规范性内容。<a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>
    <p>本规范中的示例以“例如”引入，或者用 <code class="highlight">class=<c- s>"example"</c-></code> 标记，与规范文本区分开，例如：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个信息性示例。</p>
    </div>
    <p>信息性注释以“注：”开头，并用 <code class="highlight">class=<c- s>"note"</c-></code> 标记，与规范文本区分开，例如：</p>
    <p class="note" role="note">注：这是一个信息性注释。</p>
    <p>建议内容是需要特别关注的规范性章节，并使用 <code class="highlight">&lt;strong class=<c- s>"advisement"</c->></code> 标记，与其他规范文本区分开，例如：<strong class="advisement">用户代理必须提供可访问的替代方案。</strong></p>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">一致性类别</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范的符合性要求针对三类符合性对象定义：</p>
    <dl>
        <dt>样式表
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS 样式表</a>。
        <dt>渲染器
        <dd>解释样式表语义并渲染使用样式表的文档的<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理</a> (UA)。
        <dt>编辑工具
        <dd>编写样式表的<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理</a> (UA)。
    </dl>
    <p>样式表符合本规范的要求，如果它使用的所有语法声明符合通用 CSS 语法和本模块中定义的各个特性的语法。</p>
    <p>渲染器符合本规范的要求，如果除了按照适当的规范解释样式表之外，还正确解析并渲染本规范中定义的所有功能。然而，由于设备限制导致的 UA 无法正确渲染文档并不意味着 UA 不符合规范。（例如，UA 不需要在单色显示器上渲染颜色。）</p>
    <p>编辑工具符合本规范的要求，如果它编写的样式表在语法上符合通用 CSS 语法和本模块中各个特性的语法，并且符合本模块描述的样式表的所有其他符合性要求。</p>

    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">部分实现</span><a class="self-link" href="#w3c-partial"></a></h3>
    <p>为了使作者能够利用向前兼容的解析规则分配回退值，CSS 渲染器<strong>必须</strong>将无法使用的 at-rules、属性、属性值、关键字和其他语法结构视为无效（并根据需要<a href="https://www.w3.org/TR/CSS21/conform.html#ignore">忽略</a>）。特别是，用户代理<strong>不得</strong>在同一个多值属性声明中选择性忽略不受支持的组件值并保留支持的值：如果任何值被视为无效（不受支持的值必须是无效的），CSS 要求忽略整个声明。</p>

    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">不稳定和专有功能的实现</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为了避免与未来稳定的 CSS 功能冲突，CSS 工作组建议遵循<a href="https://www.w3.org/TR/CSS/#future-proofing">最佳实践</a>来实现<a href="https://www.w3.org/TR/CSS/#unstable">不稳定</a>功能和 CSS 的<a href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>。</p>

    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">非实验性实现</span><a class="self-link" href="#w3c-testing"></a></h3>
    <p>一旦规范进入候选推荐阶段，就可以进行非实验性实现，并且实现者应发布任何根据规范正确实现的候选推荐级别功能的未加前缀的实现。</p>
    <p>为了建立和维护 CSS 在各实现中的互操作性，CSS 工作组请求非实验性 CSS 渲染器在发布任何 CSS 功能的未加前缀实现之前向 W3C 提交实现报告（如果需要，还需提交用于该实现报告的测试用例）。提交给 W3C 的测试用例由 CSS 工作组进行审查和修正。</p>
    <p>有关提交测试用例和实现报告的更多信息，请访问 CSS 工作组的官网 <a href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。有问题可以向<a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> 邮件列表咨询。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link" href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#selectordef-after">::after</a><span>，见 § 4.1</span>
        <li><a href="#selectordef-before">::before</a><span>，见 § 4.1</span>
        <li><a href="#csspseudoelement">CSSPseudoElement</a><span>，见 § 6.1</span>
        <li><a href="#dom-csspseudoelement-element">element</a><span>，见 § 6.1</span>
        <li><a href="#fictional-tag-sequence">fictional tag sequence</a><span>，见 § 2.1.3</span>
        <li><a href="#selectordef-file-selector-button">::file-selector-button</a><span>，见 § 4.4</span>
        <li><a href="#first-formatted-line">first formatted line</a><span>，见 § 2.1.1</span>
        <li><a href="#selectordef-first-letter">::first-letter</a><span>，见 § 2.2</span>
        <li><a href="#first-letter">first letter</a><span>，见 § 2.2</span>
        <li><a href="#first-letter-text">first-letter text</a><span>，见 § 2.2</span>
        <li><a href="#selectordef-first-line">::first-line</a><span>，见 § 2.1</span>
        <li><a href="#selectordef-grammar-error">::grammar-error</a><span>，见 § 3.1</span>
        <li><a href="#highlight-overlay">highlight overlay</a><span>，见 § 3.4</span>
        <li><a href="#highlight-pseudo-element">highlight pseudo-element</a><span>，见 § 3.1</span>
        <li><a href="#selectordef-marker">::marker</a><span>，见 § 4.2</span>
        <li><a href="#paired-default-highlight-colors">paired default highlight colors</a><span>，见 § 3.3</span>
        <li><a href="#dom-csspseudoelement-parent">parent</a><span>，见 § 6.1</span>
        <li><a href="#selectordef-placeholder">::placeholder</a><span>，见 § 4.3</span>
        <li><a href="#selectordef-first-letter-postfix">::postfix</a><span>，见 § 2.2</span>
        <li><a href="#selectordef-first-letter-prefix">::prefix</a><span>，见 § 2.2</span>
        <li><a href="#dom-csspseudoelement-pseudo①">pseudo()</a><span>，见 § 6.1</span>
        <li>
            pseudo(type)
            <ul>
                <li><a href="#dom-csspseudoelement-pseudo">CSSPseudoElement 的方法</a><span>，见 § 6.1</span>
                <li><a href="#dom-element-pseudo">Element 的方法</a><span>，见 § 6.2</span>
            </ul>
        <li><a href="#selectordef-selection">::selection</a><span>，见 § 3.1</span>
        <li><a href="#selectordef-spelling-error">::spelling-error</a><span>，见 § 3.1</span>
        <li><a href="#selectordef-target-text">::target-text</a><span>，见 § 3.1</span>
        <li><a href="#tree-abiding">tree-abiding</a><span>，见 § 4</span>
        <li><a href="#tree-abiding">tree-abiding pseudo-element</a><span>，见 § 4</span>
        <li><a href="#dom-csspseudoelement-type">type</a><span>，见 § 6.1</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-propdef-background-color">
        <a href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color">https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-background-color">3.2.
                    Styling Highlights</a> <a href="#ref-for-propdef-background-color①">(2)</a>
            <li><a href="#ref-for-propdef-background-color②">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-propdef-background-color③">3.3.1.
                    Paired Defaults</a> <a href="#ref-for-propdef-background-color④">(2)</a>
            <li><a href="#ref-for-propdef-background-color⑤">3.6.4.
                    Replaced Elements</a> <a href="#ref-for-propdef-background-color⑥">(2)</a>
            <li><a href="#ref-for-propdef-background-color⑦"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-box-shadow">
        <a href="https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow">https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-box-shadow">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-box-fragment">
        <a href="https://www.w3.org/TR/css-break-4/#box-fragment">https://www.w3.org/TR/css-break-4/#box-fragment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-box-fragment">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cascade-origin-author">
        <a href="https://www.w3.org/TR/css-cascade-5/#cascade-origin-author">https://www.w3.org/TR/css-cascade-5/#cascade-origin-author</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cascade-origin-author">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cascaded-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#cascaded-value">https://www.w3.org/TR/css-cascade-5/#cascaded-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cascaded-value">3.3.1.
                    Paired Defaults</a> <a href="#ref-for-cascaded-value①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-all-inherit">
        <a href="https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit">https://www.w3.org/TR/css-cascade-5/#valdef-all-inherit</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-all-inherit">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inheritance">
        <a href="https://www.w3.org/TR/css-cascade-5/#inheritance">https://www.w3.org/TR/css-cascade-5/#inheritance</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inheritance">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a> <a href="#ref-for-inheritance①">(2)</a>
            <li><a href="#ref-for-inheritance②">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-inheritance③">3.6.3.
                    Text and Text Decorations</a>
            <li><a href="#ref-for-inheritance④">4.
                    Tree-Abiding Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inherited-property">
        <a href="https://www.w3.org/TR/css-cascade-5/#inherited-property">https://www.w3.org/TR/css-cascade-5/#inherited-property</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inherited-property">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-inherited-property①">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inherited-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#inherited-value">https://www.w3.org/TR/css-cascade-5/#inherited-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inherited-value">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-initial-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#initial-value">https://www.w3.org/TR/css-cascade-5/#initial-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-initial-value">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-initial-value①">4.
                    Tree-Abiding Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-all-revert">
        <a href="https://www.w3.org/TR/css-cascade-5/#valdef-all-revert">https://www.w3.org/TR/css-cascade-5/#valdef-all-revert</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-all-revert">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-all-revert-layer">
        <a href="https://www.w3.org/TR/css-cascade-5/#valdef-all-revert-layer">https://www.w3.org/TR/css-cascade-5/#valdef-all-revert-layer</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-all-revert-layer">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-specified-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#specified-value">https://www.w3.org/TR/css-cascade-5/#specified-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-specified-value">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-all-unset">
        <a href="https://www.w3.org/TR/css-cascade-5/#valdef-all-unset">https://www.w3.org/TR/css-cascade-5/#valdef-all-unset</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-all-unset">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-used-value">
        <a href="https://www.w3.org/TR/css-cascade-5/#used-value">https://www.w3.org/TR/css-cascade-5/#used-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-used-value">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-origin">
        <a href="https://www.w3.org/TR/css-cascade-6/#origin">https://www.w3.org/TR/css-cascade-6/#origin</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-origin">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-color">
        <a href="https://www.w3.org/TR/css-color-4/#propdef-color">https://www.w3.org/TR/css-color-4/#propdef-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-color">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-color①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-propdef-color②">3.2.
                    Styling Highlights</a> <a href="#ref-for-propdef-color③">(2)</a> <a href="#ref-for-propdef-color④">(3)</a>
            <li><a href="#ref-for-propdef-color⑤">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-propdef-color⑥">3.3.1.
                    Paired Defaults</a>
            <li><a href="#ref-for-propdef-color⑦">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-propdef-color⑧">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-propdef-color⑨">(2)</a> <a href="#ref-for-propdef-color①⓪">(3)</a> <a href="#ref-for-propdef-color①①">(4)</a>
            <li><a href="#ref-for-propdef-color①②">3.6.4.
                    Replaced Elements</a> <a href="#ref-for-propdef-color①③">(2)</a>
            <li><a href="#ref-for-propdef-color①④"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-color-currentcolor">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor">https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-color-currentcolor">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-valdef-color-currentcolor①">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-valdef-color-currentcolor②">(2)</a>
            <li><a href="#ref-for-valdef-color-currentcolor③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-system-color-highlight">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-system-color-highlight">https://www.w3.org/TR/css-color-4/#valdef-system-color-highlight</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-system-color-highlight">3.3.
                    Default UA Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-system-color-highlighttext">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-system-color-highlighttext">https://www.w3.org/TR/css-color-4/#valdef-system-color-highlighttext</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-system-color-highlighttext">3.3.
                    Default UA Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-system-color-mark">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-system-color-mark">https://www.w3.org/TR/css-color-4/#valdef-system-color-mark</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-system-color-mark">3.3.
                    Default UA Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-system-color-marktext">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-system-color-marktext">https://www.w3.org/TR/css-color-4/#valdef-system-color-marktext</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-system-color-marktext">3.3.
                    Default UA Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-opacity">
        <a href="https://www.w3.org/TR/css-color-4/#propdef-opacity">https://www.w3.org/TR/css-color-4/#propdef-opacity</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-opacity">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-opacity①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-color-transparent">
        <a href="https://www.w3.org/TR/css-color-4/#valdef-color-transparent">https://www.w3.org/TR/css-color-4/#valdef-color-transparent</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-color-transparent">3.6.4.
                    Replaced Elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-forced-colors-mode">
        <a href="https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode">https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-forced-colors-mode">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-forced-colors-mode①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-forced-color-adjust">
        <a href="https://www.w3.org/TR/css-color-adjust-1/#propdef-forced-color-adjust">https://www.w3.org/TR/css-color-adjust-1/#propdef-forced-color-adjust</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-forced-color-adjust">3.2.
                    Styling Highlights</a> <a href="#ref-for-propdef-forced-color-adjust①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-content">
        <a href="https://www.w3.org/TR/css-content-3/#propdef-content">https://www.w3.org/TR/css-content-3/#propdef-content</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-content">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a> <a href="#ref-for-propdef-content①">(2)</a>
            <li><a href="#ref-for-propdef-content②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-content-none">
        <a href="https://www.w3.org/TR/css-content-3/#valdef-content-none">https://www.w3.org/TR/css-content-3/#valdef-content-none</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-content-none">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-block-container">
        <a href="https://www.w3.org/TR/css-display-3/#block-container">https://www.w3.org/TR/css-display-3/#block-container</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-block-container">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-block-container①">(2)</a> <a href="#ref-for-block-container②">(3)</a> <a href="#ref-for-block-container③">(4)</a>
            <li><a href="#ref-for-block-container④">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-block-container⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-block-formatting-context">
        <a href="https://www.w3.org/TR/css-display-3/#block-formatting-context">https://www.w3.org/TR/css-display-3/#block-formatting-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-block-formatting-context">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-block-formatting-context①">2.2.2.
                    Finding the First-Letter Text</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-block-level">
        <a href="https://www.w3.org/TR/css-display-3/#block-level">https://www.w3.org/TR/css-display-3/#block-level</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-block-level">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-block-level①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-containing-block">
        <a href="https://www.w3.org/TR/css-display-3/#containing-block">https://www.w3.org/TR/css-display-3/#containing-block</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-containing-block">2.2.1.
                    First Letters and Associated Punctuation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-display">
        <a href="https://www.w3.org/TR/css-display-3/#propdef-display">https://www.w3.org/TR/css-display-3/#propdef-display</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-display">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
            <li><a href="#ref-for-propdef-display①">4.2.
                    List Markers: the ::marker pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-in-flow">
        <a href="https://www.w3.org/TR/css-display-3/#in-flow">https://www.w3.org/TR/css-display-3/#in-flow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-in-flow">2.1.1.
                    Finding the First Formatted Line</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-display-inline">
        <a href="https://www.w3.org/TR/css-display-3/#valdef-display-inline">https://www.w3.org/TR/css-display-3/#valdef-display-inline</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-display-inline">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-block">
        <a href="https://www.w3.org/TR/css-display-3/#inline-block">https://www.w3.org/TR/css-display-3/#inline-block</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-block">3.6.3.
                    Text and Text Decorations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-box">
        <a href="https://www.w3.org/TR/css-display-3/#inline-box">https://www.w3.org/TR/css-display-3/#inline-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-box">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-inline-box①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-formatting-context">
        <a href="https://www.w3.org/TR/css-display-3/#inline-formatting-context">https://www.w3.org/TR/css-display-3/#inline-formatting-context</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-formatting-context">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-inline-formatting-context①">2.2.2.
                    Finding the First-Letter Text</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-level">
        <a href="https://www.w3.org/TR/css-display-3/#inline-level">https://www.w3.org/TR/css-display-3/#inline-level</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-level">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-inline-level①">(2)</a>
            <li><a href="#ref-for-inline-level②">2.2.2.
                    Finding the First-Letter Text</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-level-box">
        <a href="https://www.w3.org/TR/css-display-3/#inline-level-box">https://www.w3.org/TR/css-display-3/#inline-level-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-level-box">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-inline-level-box①">3.4.
                    Area of a Highlight</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-inline-level">
        <a href="https://www.w3.org/TR/css-display-3/#inline-level">https://www.w3.org/TR/css-display-3/#inline-level</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-inline-level">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-inline-level①">(2)</a>
            <li><a href="#ref-for-inline-level②">2.2.2.
                    Finding the First-Letter Text</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-display-list-item">
        <a href="https://www.w3.org/TR/css-display-3/#valdef-display-list-item">https://www.w3.org/TR/css-display-3/#valdef-display-list-item</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-display-list-item">4.2.
                    List Markers: the ::marker pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-out-of-flow">
        <a href="https://www.w3.org/TR/css-display-3/#out-of-flow">https://www.w3.org/TR/css-display-3/#out-of-flow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-out-of-flow">3.6.3.
                    Text and Text Decorations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-replaced-element">
        <a href="https://www.w3.org/TR/css-display-3/#replaced-element">https://www.w3.org/TR/css-display-3/#replaced-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-replaced-element">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-initial-letter">
        <a href="https://www.w3.org/TR/css-inline-3/#propdef-initial-letter">https://www.w3.org/TR/css-inline-3/#propdef-initial-letter</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-initial-letter">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-propdef-initial-letter①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-line-box">
        <a href="https://www.w3.org/TR/css-inline-3/#line-box">https://www.w3.org/TR/css-inline-3/#line-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-line-box">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-line-box①">3.4.
                    Area of a Highlight</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-root-inline-box">
        <a href="https://www.w3.org/TR/css-inline-3/#root-inline-box">https://www.w3.org/TR/css-inline-3/#root-inline-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-root-inline-box">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-root-inline-box①">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-root-inline-box②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-list-item">
        <a href="https://www.w3.org/TR/css-lists-3/#list-item">https://www.w3.org/TR/css-lists-3/#list-item</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-list-item">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-list-item①">4.2.
                    List Markers: the ::marker pseudo-element</a> <a href="#ref-for-list-item②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-list-style-position">
        <a href="https://www.w3.org/TR/css-lists-3/#propdef-list-style-position">https://www.w3.org/TR/css-lists-3/#propdef-list-style-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-list-style-position">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-marker">
        <a href="https://www.w3.org/TR/css-lists-3/#marker">https://www.w3.org/TR/css-lists-3/#marker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-marker">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-marker①">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-marker②">4.2.
                    List Markers: the ::marker pseudo-element</a> <a href="#ref-for-marker③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-marker">
        <a href="https://www.w3.org/TR/css-lists-3/#marker">https://www.w3.org/TR/css-lists-3/#marker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-marker">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-marker①">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-marker②">4.2.
                    List Markers: the ::marker pseudo-element</a> <a href="#ref-for-marker③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-multi-column-container">
        <a href="https://www.w3.org/TR/css-multicol-1/#multi-column-container">https://www.w3.org/TR/css-multicol-1/#multi-column-container</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-multi-column-container">2.1.1.
                    Finding the First Formatted Line</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-ruby-position">
        <a href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position">https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-ruby-position">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-ruby-position①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-parse-something-according-to-a-css-grammar">
        <a href="https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar">https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-parse-something-according-to-a-css-grammar">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-table-wrapper-box">
        <a href="https://www.w3.org/TR/css-tables-3/#table-wrapper-box">https://www.w3.org/TR/css-tables-3/#table-wrapper-box</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-table-wrapper-box">2.1.1.
                    Finding the First Formatted Line</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-content-language">
        <a href="https://www.w3.org/TR/css-text-3/#content-language">https://www.w3.org/TR/css-text-3/#content-language</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-content-language">2.2.1.
                    First Letters and Associated Punctuation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-align">
        <a href="https://www.w3.org/TR/css-text-3/#propdef-text-align">https://www.w3.org/TR/css-text-3/#propdef-text-align</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-align">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typographic-character-unit">
        <a href="https://www.w3.org/TR/css-text-3/#typographic-character-unit">https://www.w3.org/TR/css-text-3/#typographic-character-unit</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typographic-character-unit">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-typographic-character-unit①">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-typographic-character-unit②">(2)</a>
                <a href="#ref-for-typographic-character-unit③">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-unicode-general-category">
        <a href="https://www.w3.org/TR/css-text-3/#unicode-general-category">https://www.w3.org/TR/css-text-3/#unicode-general-category</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-unicode-general-category">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-unicode-general-category①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-word-separator">
        <a href="https://www.w3.org/TR/css-text-3/#word-separator">https://www.w3.org/TR/css-text-3/#word-separator</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-word-separator">2.2.1.
                    First Letters and Associated Punctuation</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-decoration">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-decoration">https://www.w3.org/TR/css-text-decor-3/#propdef-text-decoration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-decoration">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-emphasis">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis">https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-emphasis">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-emphasis-position">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis-position">https://www.w3.org/TR/css-text-decor-3/#propdef-text-emphasis-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-emphasis-position"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-shadow">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow">https://www.w3.org/TR/css-text-decor-3/#propdef-text-shadow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-shadow">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-propdef-text-shadow①">3.6.2.
                    Shadows</a> <a href="#ref-for-propdef-text-shadow②">(2)</a>
            <li><a href="#ref-for-propdef-text-shadow③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-underline-position">
        <a href="https://www.w3.org/TR/css-text-decor-3/#propdef-text-underline-position">https://www.w3.org/TR/css-text-decor-3/#propdef-text-underline-position</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-underline-position">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-text-decoration-line-grammar-error">
        <a href="https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-grammar-error">https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-grammar-error</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-text-decoration-line-grammar-error"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-valdef-text-decoration-line-spelling-error">
        <a href="https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-spelling-error">https://drafts.csswg.org/css-text-decor-4/#valdef-text-decoration-line-spelling-error</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-text-decoration-line-spelling-error"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-underline-offset">
        <a href="https://drafts.csswg.org/css-text-decor-4/#propdef-text-underline-offset">https://drafts.csswg.org/css-text-decor-4/#propdef-text-underline-offset</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-underline-offset">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-caret-color">
        <a href="https://www.w3.org/TR/css-ui-3/#propdef-caret-color">https://www.w3.org/TR/css-ui-3/#propdef-caret-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-caret-color"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-cursor">
        <a href="https://www.w3.org/TR/css-ui-3/#propdef-cursor">https://www.w3.org/TR/css-ui-3/#propdef-cursor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-cursor"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-outline">
        <a href="https://www.w3.org/TR/css-ui-3/#propdef-outline">https://www.w3.org/TR/css-ui-3/#propdef-outline</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-outline"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-custom-property">
        <a href="https://www.w3.org/TR/css-variables-1/#custom-property">https://www.w3.org/TR/css-variables-1/#custom-property</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-custom-property">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-custom-property①">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-custom-property②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-direction">
        <a href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction">https://www.w3.org/TR/css-writing-modes-3/#propdef-direction</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-direction">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-direction①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-unicode-bidi">
        <a href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi">https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-unicode-bidi"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-block-axis">
        <a href="https://www.w3.org/TR/css-writing-modes-4/#block-axis">https://www.w3.org/TR/css-writing-modes-4/#block-axis</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-block-axis">3.4.
                    Area of a Highlight</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-text-orientation">
        <a href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation">https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-text-orientation">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-writing-mode">
        <a href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode">https://www.w3.org/TR/css-writing-modes-4/#writing-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-writing-mode"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-writing-mode">
        <a href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode">https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-writing-mode">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-after">
        <a href="https://drafts.csswg.org/css2/#selectordef-after">https://drafts.csswg.org/css2/#selectordef-after</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-after③">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selectordef-first-letter">
        <a href="https://drafts.csswg.org/css2/#selectordef-first-letter">https://drafts.csswg.org/css2/#selectordef-first-letter</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter③③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-line-height">
        <a href="https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height">https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-line-height">2.1.2.
                    Styling the ::first-line Pseudo-element</a>
            <li><a href="#ref-for-propdef-line-height①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cssomstring">
        <a href="https://www.w3.org/TR/cssom-1/#cssomstring">https://www.w3.org/TR/cssom-1/#cssomstring</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cssomstring">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-cssomstring①">(2)</a>
            <li><a href="#ref-for-cssomstring②">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-cssstyledeclaration">
        <a href="https://www.w3.org/TR/cssom-1/#cssstyledeclaration">https://www.w3.org/TR/cssom-1/#cssstyledeclaration</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-cssstyledeclaration">6.1.
                    CSSPseudoElement Interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-window-getcomputedstyle">
        <a href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle">https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-window-getcomputedstyle">6.3.
                    getComputedStyle()</a> <a href="#ref-for-dom-window-getcomputedstyle①">(2)</a>
            <li><a href="#ref-for-dom-window-getcomputedstyle②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-element">
        <a href="https://dom.spec.whatwg.org/#element">https://dom.spec.whatwg.org/#element</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-element">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-element①">(2)</a> <a href="#ref-for-element②">(3)</a> <a href="#ref-for-element③">(4)</a>
            <li><a href="#ref-for-element④">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-element⑤">(2)</a> <a href="#ref-for-element⑥">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-eventtarget">
        <a href="https://dom.spec.whatwg.org/#eventtarget">https://dom.spec.whatwg.org/#eventtarget</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-eventtarget">6.1.
                    CSSPseudoElement Interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-fill-color">
        <a href="https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color">https://www.w3.org/TR/fill-stroke-3/#propdef-fill-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-fill-color">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-propdef-fill-color①">3.3.1.
                    Paired Defaults</a>
            <li><a href="#ref-for-propdef-fill-color②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-stroke-color">
        <a href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color">https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-color</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-stroke-color">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-propdef-stroke-color①">3.3.1.
                    Paired Defaults</a>
            <li><a href="#ref-for-propdef-stroke-color②"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-stroke-width">
        <a href="https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width">https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-stroke-width">3.2.
                    Styling Highlights</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-input-element">
        <a href="https://html.spec.whatwg.org/multipage/input.html#the-input-element">https://html.spec.whatwg.org/multipage/input.html#the-input-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-input-element">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-attr-input-placeholder">
        <a href="https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder">https://html.spec.whatwg.org/multipage/input.html#attr-input-placeholder</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-attr-input-placeholder">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-the-textarea-element">
        <a href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element">https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-the-textarea-element">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-x">
        <a href="https://www.w3.org/TR/selectors-3/#x">https://www.w3.org/TR/selectors-3/#x</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-x">3.5.
                    Cascading and Per-Element Highlight Styles</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-placeholder-shown-pseudo">
        <a href="https://www.w3.org/TR/selectors-4/#placeholder-shown-pseudo">https://www.w3.org/TR/selectors-4/#placeholder-shown-pseudo</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-placeholder-shown-pseudo">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-target-pseudo">
        <a href="https://www.w3.org/TR/selectors-4/#target-pseudo">https://www.w3.org/TR/selectors-4/#target-pseudo</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-target-pseudo">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-typedef-pseudo-element-selector">
        <a href="https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector">https://www.w3.org/TR/selectors-4/#typedef-pseudo-element-selector</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-typedef-pseudo-element-selector">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-originating-element">
        <a href="https://www.w3.org/TR/selectors-4/#originating-element">https://www.w3.org/TR/selectors-4/#originating-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-originating-element">1. Introduction</a>
            <li><a href="#ref-for-originating-element①">2.1.
                    First-Line Text: the ::first-line pseudo-element</a>
            <li><a href="#ref-for-originating-element②">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-originating-element③">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-originating-element④">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-originating-element⑤">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-originating-element⑥">3.2.
                    Styling Highlights</a> <a href="#ref-for-originating-element⑦">(2)</a> <a href="#ref-for-originating-element⑧">(3)</a>
            <li><a href="#ref-for-originating-element⑨">3.5.
                    Cascading and Per-Element Highlight Styles</a> <a href="#ref-for-originating-element①⓪">(2)</a>
            <li><a href="#ref-for-originating-element①①">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-originating-element①②">(2)</a>
            <li><a href="#ref-for-originating-element①③">4.
                    Tree-Abiding Pseudo-elements</a>
            <li><a href="#ref-for-originating-element①④">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a> <a href="#ref-for-originating-element①⑤">(2)</a> <a href="#ref-for-originating-element①⑥">(3)</a> <a href="#ref-for-originating-element①⑦">(4)</a> <a href="#ref-for-originating-element①⑧">(5)</a>
            <li><a href="#ref-for-originating-element①⑨">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-originating-element②⓪">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-originating-element②①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-pseudo-element">
        <a href="https://www.w3.org/TR/selectors-4/#pseudo-element">https://www.w3.org/TR/selectors-4/#pseudo-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-pseudo-element">1. Introduction</a>
            <li><a href="#ref-for-pseudo-element①">2.1.
                    First-Line Text: the ::first-line pseudo-element</a>
            <li><a href="#ref-for-pseudo-element②">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-pseudo-element③">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a> <a href="#ref-for-pseudo-element④">(2)</a> <a href="#ref-for-pseudo-element⑤">(3)</a>
            <li><a href="#ref-for-pseudo-element⑥">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-pseudo-element⑦">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-pseudo-element⑧">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-pseudo-element⑨">3.6.3.
                    Text and Text Decorations</a>
            <li><a href="#ref-for-pseudo-element①⓪">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
            <li><a href="#ref-for-pseudo-element①①">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-pseudo-element①②">6.2.
                    pseudo() method of the Element interface</a>
            <li><a href="#ref-for-pseudo-element①③"> Changes</a> <a href="#ref-for-pseudo-element①④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-selector">
        <a href="https://www.w3.org/TR/selectors-4/#selector">https://www.w3.org/TR/selectors-4/#selector</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-selector">1. Introduction</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sub-pseudo-element">
        <a href="https://www.w3.org/TR/selectors-4/#sub-pseudo-element">https://www.w3.org/TR/selectors-4/#sub-pseudo-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sub-pseudo-element">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a> <a href="#ref-for-sub-pseudo-element①">(2)</a>
            <li><a href="#ref-for-sub-pseudo-element②">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-sub-pseudo-element③">(2)</a> <a href="#ref-for-sub-pseudo-element④">(3)</a>
            <li><a href="#ref-for-sub-pseudo-element⑤"> Changes</a> <a href="#ref-for-sub-pseudo-element⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ultimate-originating-element">
        <a href="https://www.w3.org/TR/selectors-4/#ultimate-originating-element">https://www.w3.org/TR/selectors-4/#ultimate-originating-element</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ultimate-originating-element">6.1.
                    CSSPseudoElement Interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-concept-url-fragment">
        <a href="https://url.spec.whatwg.org/#concept-url-fragment">https://url.spec.whatwg.org/#concept-url-fragment</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-concept-url-fragment">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-concept-url-fragment①">(2)</a> <a href="#ref-for-concept-url-fragment②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-Exposed">
        <a href="https://webidl.spec.whatwg.org/#Exposed">https://webidl.spec.whatwg.org/#Exposed</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-Exposed">6.1.
                    CSSPseudoElement Interface</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-this">
        <a href="https://webidl.spec.whatwg.org/#this">https://webidl.spec.whatwg.org/#this</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-this">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">通过引用定义的术语</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-background-color">background-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-box-shadow">box-shadow</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-break-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-box-fragment">box fragment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-cascade-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-cascade-origin-author">author origin</span>
                <li><span class="dfn-paneled" id="term-for-cascaded-value">cascaded value</span>
                <li><span class="dfn-paneled" id="term-for-valdef-all-inherit">inherit</span>
                <li><span class="dfn-paneled" id="term-for-inheritance">inheritance</span>
                <li><span class="dfn-paneled" id="term-for-inherited-property">inherited property</span>
                <li><span class="dfn-paneled" id="term-for-inherited-value">inherited value</span>
                <li><span class="dfn-paneled" id="term-for-initial-value">initial value</span>
                <li><span class="dfn-paneled" id="term-for-valdef-all-revert">revert</span>
                <li><span class="dfn-paneled" id="term-for-valdef-all-revert-layer">revert-layer</span>
                <li><span class="dfn-paneled" id="term-for-specified-value">specified value</span>
                <li><span class="dfn-paneled" id="term-for-valdef-all-unset">unset</span>
                <li><span class="dfn-paneled" id="term-for-used-value">used value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-cascade-6]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-origin">cascade origin</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-color-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-color">color</span>
                <li><span class="dfn-paneled" id="term-for-valdef-color-currentcolor">currentcolor</span>
                <li><span class="dfn-paneled" id="term-for-valdef-system-color-highlight">highlight</span>
                <li><span class="dfn-paneled" id="term-for-valdef-system-color-highlighttext">highlighttext</span>
                <li><span class="dfn-paneled" id="term-for-valdef-system-color-mark">mark</span>
                <li><span class="dfn-paneled" id="term-for-valdef-system-color-marktext">marktext</span>
                <li><span class="dfn-paneled" id="term-for-propdef-opacity">opacity</span>
                <li><span class="dfn-paneled" id="term-for-valdef-color-transparent">transparent</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-color-adjust-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-forced-colors-mode">forced colors mode</span>
                <li><span class="dfn-paneled" id="term-for-propdef-forced-color-adjust">forced-color-adjust</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-content-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-content">content</span>
                <li><span class="dfn-paneled" id="term-for-valdef-content-none">none</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-block-container">block container</span>
                <li><span class="dfn-paneled" id="term-for-block-formatting-context">block formatting context</span>
                <li><span class="dfn-paneled" id="term-for-block-level">block-level</span>
                <li><span class="dfn-paneled" id="term-for-containing-block">containing block</span>
                <li><span class="dfn-paneled" id="term-for-propdef-display">display</span>
                <li><span class="dfn-paneled" id="term-for-in-flow">in-flow</span>
                <li><span class="dfn-paneled" id="term-for-valdef-display-inline">inline</span>
                <li><span class="dfn-paneled" id="term-for-inline-block">inline block</span>
                <li><span class="dfn-paneled" id="term-for-inline-box">inline box</span>
                <li><span class="dfn-paneled" id="term-for-inline-formatting-context">inline formatting context</span>
                <li><span class="dfn-paneled" id="term-for-inline-level">inline-level</span>
                <li><span class="dfn-paneled" id="term-for-inline-level-box">inline-level box</span>
                <li><span class="dfn-paneled" id="term-for-inline-level①">inline-level content</span>
                <li><span class="dfn-paneled" id="term-for-valdef-display-list-item">list-item</span>
                <li><span class="dfn-paneled" id="term-for-out-of-flow">out-of-flow</span>
                <li><span class="dfn-paneled" id="term-for-replaced-element">replaced element</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-INLINE-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-initial-letter">initial-letter</span>
                <li><span class="dfn-paneled" id="term-for-line-box">line box</span>
                <li><span class="dfn-paneled" id="term-for-root-inline-box">root inline box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-LISTS-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-list-item">list item</span>
                <li><span class="dfn-paneled" id="term-for-propdef-list-style-position">list-style-position</span>
                <li><span class="dfn-paneled" id="term-for-marker">marker</span>
                <li><span class="dfn-paneled" id="term-for-marker①">marker box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-multicol-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-multi-column-container">multi-column container</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-RUBY-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-ruby-position">ruby-position</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-syntax-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-css-parse-something-according-to-a-css-grammar">parse</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-tables-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-table-wrapper-box">table wrapper box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TEXT-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-content-language">content language</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-align">text-align</span>
                <li><span class="dfn-paneled" id="term-for-typographic-character-unit">typographic character unit</span>
                <li><span class="dfn-paneled" id="term-for-unicode-general-category">unicode general category</span>
                <li><span class="dfn-paneled" id="term-for-word-separator">word-separator character</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TEXT-DECOR-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-text-decoration">text-decoration</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-emphasis">text-emphasis</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-emphasis-position">text-emphasis-position</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-shadow">text-shadow</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-underline-position">text-underline-position</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-text-decor-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-valdef-text-decoration-line-grammar-error">grammar-error</span>
                <li><span class="dfn-paneled" id="term-for-valdef-text-decoration-line-spelling-error">spelling-error</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-underline-offset">text-underline-offset</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-ui-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-caret-color">caret-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-cursor">cursor</span>
                <li><span class="dfn-paneled" id="term-for-propdef-outline">outline</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VARIABLES-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-custom-property">custom property</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-writing-modes-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-direction">direction</span>
                <li><span class="dfn-paneled" id="term-for-propdef-unicode-bidi">unicode-bidi</span>
            </ul>
        <li>
            <a data-link-type="biblio">[css-writing-modes-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-block-axis">block axis</span>
                <li><span class="dfn-paneled" id="term-for-propdef-text-orientation">text-orientation</span>
                <li><span class="dfn-paneled" id="term-for-writing-mode">writing mode</span>
                <li><span class="dfn-paneled" id="term-for-propdef-writing-mode">writing-mode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS2]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-selectordef-after">:after</span>
                <li><span class="dfn-paneled" id="term-for-selectordef-first-letter">:first-letter</span>
                <li><span class="dfn-paneled" id="term-for-propdef-line-height">line-height</span>
            </ul>
        <li>
            <a data-link-type="biblio">[cssom-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-cssomstring">CSSOMString</span>
                <li><span class="dfn-paneled" id="term-for-cssstyledeclaration">CSSStyleDeclaration</span>
                <li><span class="dfn-paneled" id="term-for-dom-window-getcomputedstyle">getComputedStyle(elt)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-element">Element</span>
                <li><span class="dfn-paneled" id="term-for-eventtarget">EventTarget</span>
            </ul>
        <li>
            <a data-link-type="biblio">[fill-stroke-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-fill-color">fill-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-stroke-color">stroke-color</span>
                <li><span class="dfn-paneled" id="term-for-propdef-stroke-width">stroke-width</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-the-input-element">input</span>
                <li><span class="dfn-paneled" id="term-for-attr-input-placeholder">placeholder</span>
                <li><span class="dfn-paneled" id="term-for-the-textarea-element">textarea</span>
            </ul>
        <li>
            <a data-link-type="biblio">[selectors-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-x">*</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SELECTORS-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-placeholder-shown-pseudo">:placeholder-shown</span>
                <li><span class="dfn-paneled" id="term-for-target-pseudo">:target</span>
                <li><span class="dfn-paneled" id="term-for-typedef-pseudo-element-selector">&lt;pseudo-element-selector></span>
                <li><span class="dfn-paneled" id="term-for-originating-element">originating element</span>
                <li><span class="dfn-paneled" id="term-for-pseudo-element">pseudo-element</span>
                <li><span class="dfn-paneled" id="term-for-selector">selector</span>
                <li><span class="dfn-paneled" id="term-for-sub-pseudo-element">sub-pseudo-element</span>
                <li><span class="dfn-paneled" id="term-for-ultimate-originating-element">ultimate originating element</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-concept-url-fragment">fragment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
                <li><span class="dfn-paneled" id="term-for-this">this</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link" href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link" href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
        <dd>Bert Bos; Elika Etemad; Brad Kemper. <a href="https://www.w3.org/TR/css-backgrounds-3/"><cite>CSS 背景和边框模块第 3 级</cite></a>. 2021年7月26日. CR. URL: <a href="https://www.w3.org/TR/css-backgrounds-3/">https://www.w3.org/TR/css-backgrounds-3/</a>
        <dt id="biblio-css-break-4">[CSS-BREAK-4]
        <dd>Rossen Atanassov; Elika Etemad. <a href="https://www.w3.org/TR/css-break-4/"><cite>CSS 分段模块第 4 级</cite></a>. 2018年12月18日. WD. URL: <a href="https://www.w3.org/TR/css-break-4/">https://www.w3.org/TR/css-break-4/</a>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS 层叠和继承第 5 级</cite></a>. 2022年1月13日. CR. URL: <a href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-cascade-6">[CSS-CASCADE-6]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-6/"><cite>CSS 层叠和继承第 6 级</cite></a>. 2021年12月21日. WD. URL: <a href="https://www.w3.org/TR/css-cascade-6/">https://www.w3.org/TR/css-cascade-6/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Tab Atkins Jr.; Chris Lilley; Lea Verou. <a href="https://www.w3.org/TR/css-color-4/"><cite>CSS 颜色模块第 4 级</cite></a>. 2022年11月1日. CR. URL: <a href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-color-adjust-1">[CSS-COLOR-ADJUST-1]
        <dd>Elika Etemad; 等. <a href="https://www.w3.org/TR/css-color-adjust-1/"><cite>CSS 颜色调整模块第 1 级</cite></a>. 2022年6月14日. CR. URL: <a href="https://www.w3.org/TR/css-color-adjust-1/">https://www.w3.org/TR/css-color-adjust-1/</a>
        <dt id="biblio-css-content-3">[CSS-CONTENT-3]
        <dd>Elika Etemad; Dave Cramer. <a href="https://www.w3.org/TR/css-content-3/"><cite>CSS 生成内容模块第 3 级</cite></a>. 2019年8月2日. WD. URL: <a href="https://www.w3.org/TR/css-content-3/">https://www.w3.org/TR/css-content-3/</a>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS 显示模块第 3 级</cite></a>. 2022年11月18日. CR. URL: <a href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-inline-3">[CSS-INLINE-3]
        <dd>Dave Cramer; Elika Etemad. <a href="https://www.w3.org/TR/css-inline-3/"><cite>CSS 内联布局模块第 3 级</cite></a>. 2022年11月14日. WD. URL: <a href="https://www.w3.org/TR/css-inline-3/">https://www.w3.org/TR/css-inline-3/</a>
        <dt id="biblio-css-lists-3">[CSS-LISTS-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-lists-3/"><cite>CSS 列表和计数器模块第 3 级</cite></a>. 2020年11月17日. WD. URL: <a href="https://www.w3.org/TR/css-lists-3/">https://www.w3.org/TR/css-lists-3/</a>
        <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
        <dd>Florian Rivoal; Rachel Andrew. <a href="https://www.w3.org/TR/css-multicol-1/"><cite>CSS 多列布局模块第 1 级</cite></a>. 2021年10月12日. CR. URL: <a href="https://www.w3.org/TR/css-multicol-1/">https://www.w3.org/TR/css-multicol-1/</a>
        <dt id="biblio-css-ruby-1">[CSS-RUBY-1]
        <dd>Elika Etemad; 等. <a href="https://www.w3.org/TR/css-ruby-1/"><cite>CSS 注解布局模块第 1 级</cite></a>. 2021年12月2日. WD. URL: <a href="https://www.w3.org/TR/css-ruby-1/">https://www.w3.org/TR/css-ruby-1/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS 语法模块第 3 级</cite></a>. 2021年12月24日. CR. URL: <a href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-tables-3">[CSS-TABLES-3]
        <dd>François Remy; Greg Whitworth; David Baron. <a href="https://www.w3.org/TR/css-tables-3/"><cite>CSS 表格模块第 3 级</cite></a>. 2019年7月27日. WD. URL: <a href="https://www.w3.org/TR/css-tables-3/">https://www.w3.org/TR/css-tables-3/</a>
        <dt id="biblio-css-text-3">[CSS-TEXT-3]
        <dd>Elika Etemad; Koji Ishii; Florian Rivoal. <a href="https://www.w3.org/TR/css-text-3/"><cite>CSS 文本模块第 3 级</cite></a>. 2022年5月5日. CR. URL: <a href="https://www.w3.org/TR/css-text-3/">https://www.w3.org/TR/css-text-3/</a>
        <dt id="biblio-css-text-decor-3">[CSS-TEXT-DECOR-3]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-text-decor-3/"><cite>CSS 文本装饰模块第 3 级</cite></a>. 2022年5月5日. CR. URL: <a href="https://www.w3.org/TR/css-text-decor-3/">https://www.w3.org/TR/css-text-decor-3/</a>
        <dt id="biblio-css-text-decor-4">[CSS-TEXT-DECOR-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-text-decor-4/"><cite>CSS 文本装饰模块第 4 级</cite></a>. 2022年5月4日. WD. URL: <a href="https://www.w3.org/TR/css-text-decor-4/">https://www.w3.org/TR/css-text-decor-4/</a>
        <dt id="biblio-css-ui-3">[CSS-UI-3]
        <dd>Tantek Çelik; Florian Rivoal. <a href="https://www.w3.org/TR/css-ui-3/"><cite>CSS 基本用户界面模块第 3 级 (CSS3 UI)</cite></a>. 2018年6月21日. REC. URL: <a href="https://www.w3.org/TR/css-ui-3/">https://www.w3.org/TR/css-ui-3/</a>
        <dt id="biblio-css-variables-1">[CSS-VARIABLES-1]
        <dd>Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-variables-1/"><cite>CSS 自定义属性级联变量模块第 1 级</cite></a>. 2022年6月16日. CR. URL: <a href="https://www.w3.org/TR/css-variables-1/">https://www.w3.org/TR/css-variables-1/</a>
        <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-3/"><cite>CSS 书写模式第 3 级</cite></a>. 2019年12月10日. REC. URL: <a href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS 书写模式第 4 级</cite></a>. 2019年7月30日. CR. URL: <a href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; 等. <a href="https://www.w3.org/TR/CSS21/"><cite>层叠样式表第 2 级修订版 (CSS 2.1) 规范</cite></a>. 2011年6月7日. REC. URL: <a href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://www.w3.org/TR/cssom-1/"><cite>CSS 对象模型 (CSSOM)</cite></a>. 2021年8月26日. WD. URL: <a href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>. 现行标准. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-fill-stroke-3">[FILL-STROKE-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/fill-stroke-3/"><cite>CSS 填充和描边模块第 3 级</cite></a>. 2017年4月13日. WD. URL: <a href="https://www.w3.org/TR/fill-stroke-3/">https://www.w3.org/TR/fill-stroke-3/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>用于在RFC中指明需求层次的关键词</cite></a>. 1997年3月. 最佳现行做法. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-selectors-4">[SELECTORS-4]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/selectors-4/"><cite>选择器第 4 级</cite></a>. 2022年11月11日. WD. URL: <a href="https://www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a>
        <dt id="biblio-uax44">[UAX44]
        <dd>Ken Whistler. <a href="https://www.unicode.org/reports/tr44/tr44-30.html"><cite>Unicode 字符数据库</cite></a>. 2022年9月2日. Unicode 标准附录 #44. URL: <a href="https://www.unicode.org/reports/tr44/tr44-30.html">https://www.unicode.org/reports/tr44/tr44-30.html</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL 标准</cite></a>. 现行标准. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. 现行标准. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性引用</span><a class="self-link" href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-cascade-4">[CSS-CASCADE-4]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-4/"><cite>CSS 层叠和继承第 4 级</cite></a>. 2022年1月13日. CR. URL: <a href="https://www.w3.org/TR/css-cascade-4/">https://www.w3.org/TR/css-cascade-4/</a>
        <dt id="biblio-css-color-3">[CSS-COLOR-3]
        <dd>Tantek Çelik; Chris Lilley; David Baron. <a href="https://www.w3.org/TR/css-color-3/"><cite>CSS 颜色模块第 3 级</cite></a>. 2022年1月18日. REC. URL: <a href="https://www.w3.org/TR/css-color-3/">https://www.w3.org/TR/css-color-3/</a>
        <dt id="biblio-css-fonts-3">[CSS-FONTS-3]
        <dd>John Daggett; Myles Maxfield; Chris Lilley. <a href="https://www.w3.org/TR/css-fonts-3/"><cite>CSS 字体模块第 3 级</cite></a>. 2018年9月20日. REC. URL: <a href="https://www.w3.org/TR/css-fonts-3/">https://www.w3.org/TR/css-fonts-3/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; 等. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>. 现行标准. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-html5">[HTML5]
        <dd>Ian Hickson; 等. <a href="https://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. 2018年3月27日. REC. URL: <a href="https://www.w3.org/TR/html5/">https://www.w3.org/TR/html5/</a>
        <dt id="biblio-selectors-3">[SELECTORS-3]
        <dd>Tantek Çelik; 等. <a href="https://www.w3.org/TR/selectors-3/"><cite>选择器第 3 级</cite></a>. 2018年11月6日. REC. URL: <a href="https://www.w3.org/TR/selectors-3/">https://www.w3.org/TR/selectors-3/</a>
        <dt id="biblio-uax29">[UAX29]
        <dd>Christopher Chapman. <a href="https://www.unicode.org/reports/tr29/tr29-41.html"><cite>Unicode 文本分段</cite></a>. 2022年8月26日. Unicode 标准附录 #29. URL: <a href="https://www.unicode.org/reports/tr29/tr29-41.html">https://www.unicode.org/reports/tr29/tr29-41.html</a>
        <dt id="biblio-web-animations-1">[WEB-ANIMATIONS-1]
        <dd>Brian Birtles; 等. <a href="https://www.w3.org/TR/web-animations-1/"><cite>Web 动画</cite></a>. 2022年9月8日. WD. URL: <a href="https://www.w3.org/TR/web-animations-1/">https://www.w3.org/TR/web-animations-1/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link" href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csspseudoelement"><code class="highlight"><c- g>CSSPseudoElement</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csspseudoelement-type"><c- g>type</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-csspseudoelement-element"><c- g>element</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#csspseudoelement"><c- n>CSSPseudoElement</c-></a>) <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Element or CSSPseudoElement)" href="#dom-csspseudoelement-parent"><c- g>parent</c-></a>;
    <a data-link-type="idl-name" href="#csspseudoelement"><c- n>CSSPseudoElement</c-></a>? <a href="#dom-csspseudoelement-pseudo"><code class="highlight"><c- g>pseudo</c-></code></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-csspseudoelement-pseudo-type-type"><code class="highlight"><c- g>type</c-></code></a>);
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#element"><c- g>Element</c-></a> {
  <a data-link-type="idl-name" href="#csspseudoelement"><c- n>CSSPseudoElement</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-element-pseudo"><c- g>pseudo</c-></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-element-pseudo-type-type"><code class="highlight"><c- g>type</c-></code></a>);
};

</pre>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link" href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> Bikeshed 在此备注中<a href="https://github.com/tabatkins/bikeshed/issues/2202">吞掉了标点符号</a>，这并不有帮助。<a class="issue-return" href="#issue-14a38cf3" title="跳转到章节">↵</a></div>
        <div class="issue"> 这里是否应包含其他属性？<a class="issue-return" href="#issue-6ca196f5" title="跳转到章节">↵</a></div>
        <div class="issue"> 用户代理对高亮显示的呈现进行的调整
            目前在讨论中，这些调整是由<a href="https://github.com/w3c/csswg-drafts/issues/6853">Issue 6853</a>控制的 CSS 所定义的。<a class="issue-return" href="#issue-c10df75c" title="跳转到章节">↵</a></div>
        <div class="issue"> 请参见<a href="https://lists.w3.org/Archives/Public/www-style/2008Nov/0022.html">面对面会议记录</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2008Oct/0268.html">dbaron的消息</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2010May/0247.html">Daniel的讨论</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2010May/0261.html">Gecko 备注</a>、
            <a href="https://lists.w3.org/Archives/Public/www-style/2010May/0366.html">Opera 备注</a>、<a href="https://lists.w3.org/Archives/Public/www-style/2010May/0280.html">Webkit 备注</a>。<a class="issue-return" href="#issue-13b80e20" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 不确定这是否是描述事物运作方式的正确方法。<a class="issue-return" href="#issue-271a1b90" title="跳转到章节">↵</a></div>
        <div class="issue"> <a class="css" data-link-type="maybe" href="#selectordef-marker">::marker</a> 与 <a class="css" data-link-type="maybe" href="#selectordef-first-line">::first-line</a> 的交互
            目前正在<a href="https://github.com/w3c/csswg-drafts/issues/4506">Issue 4506</a>中讨论。<a class="issue-return" href="#issue-c80e7017" title="跳转到章节">↵</a></div>
        <div class="issue"> <a class="css" data-link-type="maybe" href="#selectordef-marker">::marker</a> 是否也应有 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-prefix">::prefix</a> 和 <a class="css" data-link-type="maybe" href="#selectordef-first-letter-postfix">::postfix</a> 子元素？<a class="issue-return" href="#issue-1caf313e" title="跳转到章节">↵</a></div>
        <div class="issue"> <a data-link-type="biblio" href="#biblio-css-inline-3">[CSS-INLINE-3]</a> 属性是否应排除？<a href="https://github.com/w3c/csswg-drafts/issues/5379">[Issue #5379]</a> <a class="issue-return" href="#issue-d70c3c0a" title="跳转到章节">↵</a></div>
        <div class="issue"> 作者似乎希望<a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-text-3/#propdef-text-align">text-align</a>出现在支持的属性列表中。
            参见例如<a href="https://css-tricks.com/almanac/selectors/p/placeholder/">此处的评论</a>。<a class="issue-return" href="#issue-1631f2fa" title="跳转到章节">↵</a></div>
        <div class="issue"> 此界面正在设计开发中，
            该草案正在寻求反馈而非实施。
            CSS 工作组特别希望听到关于用例和问题的反馈。<a class="issue-return" href="#issue-22d457b7" title="跳转到章节">↵</a></div>
        <div class="issue"> 返回值的身份、生命周期及其空值
            （以及潜在的错误情况）
            的问题仍在讨论中，涉及<code class="idl"><a data-link-type="idl" href="#dom-csspseudoelement-pseudo">pseudo()</a></code>方法。
            参见<a href="https://github.com/w3c/csswg-drafts/issues/3607">Issue 3607</a>和<a href="https://github.com/w3c/csswg-drafts/issues/3603">Issue 3603</a>。<a class="issue-return" href="#issue-302461e7" title="跳转到章节">↵</a></div>
    </div>
    <aside class="dfn-panel" data-for="selectordef-first-line">
        <b><a href="#selectordef-first-line">#selectordef-first-line</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-line">1. Introduction</a>
            <li><a href="#ref-for-selectordef-first-line①">2.1.
                    First-Line Text: the ::first-line pseudo-element</a>
            <li><a href="#ref-for-selectordef-first-line②">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-selectordef-first-line③">(2)</a> <a href="#ref-for-selectordef-first-line④">(3)</a> <a href="#ref-for-selectordef-first-line⑤">(4)</a>
            <li><a href="#ref-for-selectordef-first-line⑥">2.1.2.
                    Styling the ::first-line Pseudo-element</a> <a href="#ref-for-selectordef-first-line⑦">(2)</a> <a href="#ref-for-selectordef-first-line⑧">(3)</a> <a href="#ref-for-selectordef-first-line⑨">(4)</a>
                <a href="#ref-for-selectordef-first-line①⓪">(5)</a>
            <li><a href="#ref-for-selectordef-first-line①①">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a> <a href="#ref-for-selectordef-first-line①②">(2)</a> <a href="#ref-for-selectordef-first-line①③">(3)</a>
                <a href="#ref-for-selectordef-first-line①④">(4)</a>
            <li><a href="#ref-for-selectordef-first-line①⑤">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-selectordef-first-line①⑥">(2)</a>
            <li><a href="#ref-for-selectordef-first-line①⑦">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a> <a href="#ref-for-selectordef-first-line①⑧">(2)</a>
            <li><a href="#ref-for-selectordef-first-line①⑨">3.6.3.
                    Text and Text Decorations</a>
            <li><a href="#ref-for-selectordef-first-line②⓪">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
            <li><a href="#ref-for-selectordef-first-line②①">4.2.
                    List Markers: the ::marker pseudo-element</a>
            <li><a href="#ref-for-selectordef-first-line②②">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a>
            <li><a href="#ref-for-selectordef-first-line②③">5.
                    Overlapping Pseudo-element Interactions</a>
            <li><a href="#ref-for-selectordef-first-line②④">7.
                    Compatibility Syntax</a>
            <li><a href="#ref-for-selectordef-first-line②⑤"> Changes</a> <a href="#ref-for-selectordef-first-line②⑥">(2)</a> <a href="#ref-for-selectordef-first-line②⑦">(3)</a>
                <a href="#ref-for-selectordef-first-line②⑧">(4)</a> <a href="#ref-for-selectordef-first-line②⑨">(5)</a>
                <a href="#ref-for-selectordef-first-line③⓪">(6)</a> <a href="#ref-for-selectordef-first-line③①">(7)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="first-formatted-line">
        <b><a href="#first-formatted-line">#first-formatted-line</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-first-formatted-line">2.1.
                    First-Line Text: the ::first-line pseudo-element</a>
            <li><a href="#ref-for-first-formatted-line①">2.1.1.
                    Finding the First Formatted Line</a> <a href="#ref-for-first-formatted-line②">(2)</a> <a href="#ref-for-first-formatted-line③">(3)</a> <a href="#ref-for-first-formatted-line④">(4)</a> <a href="#ref-for-first-formatted-line⑤">(5)</a>
            <li><a href="#ref-for-first-formatted-line⑥">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-first-formatted-line⑦">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-first-formatted-line⑧">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="fictional-tag-sequence">
        <b><a href="#fictional-tag-sequence">#fictional-tag-sequence</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-fictional-tag-sequence">2.1.1.
                    Finding the First Formatted Line</a>
            <li><a href="#ref-for-fictional-tag-sequence①">2.1.3.
                    Inheritance and the ::first-line Pseudo-element</a> <a href="#ref-for-fictional-tag-sequence②">(2)</a>
            <li><a href="#ref-for-fictional-tag-sequence③">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a> <a href="#ref-for-fictional-tag-sequence④">(2)</a>
            <li><a href="#ref-for-fictional-tag-sequence⑤">5.
                    Overlapping Pseudo-element Interactions</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-first-letter">
        <b><a href="#selectordef-first-letter">#selectordef-first-letter</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter①">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a> <a href="#ref-for-selectordef-first-letter②">(2)</a> <a href="#ref-for-selectordef-first-letter③">(3)</a> <a href="#ref-for-selectordef-first-letter④">(4)</a>
            <li><a href="#ref-for-selectordef-first-letter⑤">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-selectordef-first-letter⑥">(2)</a> <a href="#ref-for-selectordef-first-letter⑦">(3)</a>
            <li><a href="#ref-for-selectordef-first-letter⑧">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-selectordef-first-letter⑨">(2)</a> <a href="#ref-for-selectordef-first-letter①⓪">(3)</a> <a href="#ref-for-selectordef-first-letter①①">(4)</a> <a href="#ref-for-selectordef-first-letter①②">(5)</a>
            <li><a href="#ref-for-selectordef-first-letter①③">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a> <a href="#ref-for-selectordef-first-letter①④">(2)</a> <a href="#ref-for-selectordef-first-letter①⑤">(3)</a> <a href="#ref-for-selectordef-first-letter①⑥">(4)</a> <a href="#ref-for-selectordef-first-letter①⑦">(5)</a> <a href="#ref-for-selectordef-first-letter①⑧">(6)</a> <a href="#ref-for-selectordef-first-letter①⑨">(7)</a> <a href="#ref-for-selectordef-first-letter②⓪">(8)</a>
            <li><a href="#ref-for-selectordef-first-letter②①">2.2.4.
                    Styling the First-Letter Pseudo-elements</a> <a href="#ref-for-selectordef-first-letter②②">(2)</a>
                <a href="#ref-for-selectordef-first-letter②③">(3)</a> <a href="#ref-for-selectordef-first-letter②④">(4)</a> <a href="#ref-for-selectordef-first-letter②⑤">(5)</a>
            <li><a href="#ref-for-selectordef-first-letter②⑥">3.6.3.
                    Text and Text Decorations</a>
            <li><a href="#ref-for-selectordef-first-letter②⑦">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a>
            <li><a href="#ref-for-selectordef-first-letter②⑧">4.2.
                    List Markers: the ::marker pseudo-element</a>
            <li><a href="#ref-for-selectordef-first-letter②⑨">5.
                    Overlapping Pseudo-element Interactions</a> <a href="#ref-for-selectordef-first-letter③⓪">(2)</a>
            <li><a href="#ref-for-selectordef-first-letter③①">7.
                    Compatibility Syntax</a>
            <li><a href="#ref-for-selectordef-first-letter③②"> Changes</a> <a href="#ref-for-selectordef-first-letter③④">(2)</a> <a href="#ref-for-selectordef-first-letter③⑤">(3)</a> <a href="#ref-for-selectordef-first-letter③⑥">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="first-letter">
        <b><a href="#first-letter">#first-letter</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-first-letter">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a> <a href="#ref-for-first-letter①">(2)</a>
            <li><a href="#ref-for-first-letter②">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-first-letter③">(2)</a> <a href="#ref-for-first-letter④">(3)</a>
            <li><a href="#ref-for-first-letter⑤">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-first-letter⑥">(2)</a>
            <li><a href="#ref-for-first-letter⑦"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="first-letter-text">
        <b><a href="#first-letter-text">#first-letter-text</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-first-letter-text">2.2.1.
                    First Letters and Associated Punctuation</a> <a href="#ref-for-first-letter-text①">(2)</a>
            <li><a href="#ref-for-first-letter-text②">2.2.2.
                    Finding the First-Letter Text</a> <a href="#ref-for-first-letter-text③">(2)</a> <a href="#ref-for-first-letter-text④">(3)</a> <a href="#ref-for-first-letter-text⑤">(4)</a> <a href="#ref-for-first-letter-text⑥">(5)</a> <a href="#ref-for-first-letter-text⑦">(6)</a>
            <li><a href="#ref-for-first-letter-text⑧">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a> <a href="#ref-for-first-letter-text⑨">(2)</a> <a href="#ref-for-first-letter-text①⓪">(3)</a> <a href="#ref-for-first-letter-text①①">(4)</a>
            <li><a href="#ref-for-first-letter-text①②">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-first-letter-text①③"> Changes</a> <a href="#ref-for-first-letter-text①④">(2)</a> <a href="#ref-for-first-letter-text①⑤">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-first-letter-prefix">
        <b><a href="#selectordef-first-letter-prefix">#selectordef-first-letter-prefix</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter-prefix①">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-selectordef-first-letter-prefix②">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter-prefix③">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter-prefix④">4.2.
                    List Markers: the ::marker pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-first-letter-postfix">
        <b><a href="#selectordef-first-letter-postfix">#selectordef-first-letter-postfix</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-first-letter-postfix①">2.2.
                    First-Letter Text: ::first-letter pseudo-element and its ::prefix and ::postfix children</a>
            <li><a href="#ref-for-selectordef-first-letter-postfix②">2.2.3.
                    Inheritance and Box Tree Structure of the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter-postfix③">2.2.4.
                    Styling the First-Letter Pseudo-elements</a>
            <li><a href="#ref-for-selectordef-first-letter-postfix④">4.2.
                    List Markers: the ::marker pseudo-element</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="highlight-pseudo-element">
        <b><a href="#highlight-pseudo-element">#highlight-pseudo-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-highlight-pseudo-element">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-highlight-pseudo-element①">(2)</a>
            <li><a href="#ref-for-highlight-pseudo-element②">3.2.
                    Styling Highlights</a> <a href="#ref-for-highlight-pseudo-element③">(2)</a> <a href="#ref-for-highlight-pseudo-element④">(3)</a> <a href="#ref-for-highlight-pseudo-element⑤">(4)</a>
            <li><a href="#ref-for-highlight-pseudo-element⑥">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-highlight-pseudo-element⑦">3.4.
                    Area of a Highlight</a>
            <li><a href="#ref-for-highlight-pseudo-element⑧">3.5.
                    Cascading and Per-Element Highlight Styles</a> <a href="#ref-for-highlight-pseudo-element⑨">(2)</a>
                <a href="#ref-for-highlight-pseudo-element①⓪">(3)</a>
            <li><a href="#ref-for-highlight-pseudo-element①①">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-highlight-pseudo-element①②">3.6.2.
                    Shadows</a>
            <li><a href="#ref-for-highlight-pseudo-element①③">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-highlight-pseudo-element①④">(2)</a> <a href="#ref-for-highlight-pseudo-element①⑤">(3)</a> <a href="#ref-for-highlight-pseudo-element①⑥">(4)</a> <a href="#ref-for-highlight-pseudo-element①⑦">(5)</a>
            <li><a href="#ref-for-highlight-pseudo-element①⑧">6.3.
                    getComputedStyle()</a>
            <li><a href="#ref-for-highlight-pseudo-element①⑨"> Changes</a> <a href="#ref-for-highlight-pseudo-element②⓪">(2)</a> <a href="#ref-for-highlight-pseudo-element②①">(3)</a> <a href="#ref-for-highlight-pseudo-element②②">(4)</a> <a href="#ref-for-highlight-pseudo-element②③">(5)</a> <a href="#ref-for-highlight-pseudo-element②④">(6)</a> <a href="#ref-for-highlight-pseudo-element②⑤">(7)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-selection">
        <b><a href="#selectordef-selection">#selectordef-selection</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-selection">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-selectordef-selection①">(2)</a>
            <li><a href="#ref-for-selectordef-selection②">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-selectordef-selection③">3.3.1.
                    Paired Defaults</a>
            <li><a href="#ref-for-selectordef-selection④">3.5.
                    Cascading and Per-Element Highlight Styles</a> <a href="#ref-for-selectordef-selection⑤">(2)</a>
            <li><a href="#ref-for-selectordef-selection⑥">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-selectordef-selection⑦">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-selectordef-selection⑧">(2)</a> <a href="#ref-for-selectordef-selection⑨">(3)</a> <a href="#ref-for-selectordef-selection①⓪">(4)</a> <a href="#ref-for-selectordef-selection①①">(5)</a> <a href="#ref-for-selectordef-selection①②">(6)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-target-text">
        <b><a href="#selectordef-target-text">#selectordef-target-text</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-target-text">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-selectordef-target-text①">(2)</a> <a href="#ref-for-selectordef-target-text②">(3)</a>
            <li><a href="#ref-for-selectordef-target-text③">3.3.
                    Default UA Styles</a>
            <li><a href="#ref-for-selectordef-target-text④">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-selectordef-target-text⑤">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-selectordef-target-text⑥">(2)</a> <a href="#ref-for-selectordef-target-text⑦">(3)</a> <a href="#ref-for-selectordef-target-text⑧">(4)</a>
                <a href="#ref-for-selectordef-target-text⑨">(5)</a>
            <li><a href="#ref-for-selectordef-target-text①⓪"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-spelling-error">
        <b><a href="#selectordef-spelling-error">#selectordef-spelling-error</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-spelling-error">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-selectordef-spelling-error①">(2)</a>
            <li><a href="#ref-for-selectordef-spelling-error②">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-selectordef-spelling-error③">3.7.
                    Security and Privacy Considerations</a>
            <li><a href="#ref-for-selectordef-spelling-error④"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-grammar-error">
        <b><a href="#selectordef-grammar-error">#selectordef-grammar-error</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-grammar-error">3.1.
                    Selecting Highlighted Content: the ::selection, ::target-text, ::spelling-error, and ::grammar-error
                    pseudo-elements</a> <a href="#ref-for-selectordef-grammar-error①">(2)</a>
            <li><a href="#ref-for-selectordef-grammar-error②">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-selectordef-grammar-error③">3.7.
                    Security and Privacy Considerations</a>
            <li><a href="#ref-for-selectordef-grammar-error④"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="paired-default-highlight-colors">
        <b><a href="#paired-default-highlight-colors">#paired-default-highlight-colors</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-paired-default-highlight-colors">3.3.1.
                    Paired Defaults</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="highlight-overlay">
        <b><a href="#highlight-overlay">#highlight-overlay</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-highlight-overlay">3.2.
                    Styling Highlights</a>
            <li><a href="#ref-for-highlight-overlay①">3.5.
                    Cascading and Per-Element Highlight Styles</a>
            <li><a href="#ref-for-highlight-overlay②">3.6.1.
                    Backgrounds</a>
            <li><a href="#ref-for-highlight-overlay③">3.6.2.
                    Shadows</a> <a href="#ref-for-highlight-overlay④">(2)</a> <a href="#ref-for-highlight-overlay⑤">(3)</a>
            <li><a href="#ref-for-highlight-overlay⑥">3.6.3.
                    Text and Text Decorations</a> <a href="#ref-for-highlight-overlay⑦">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-before">
        <b><a href="#selectordef-before">#selectordef-before</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-before">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-selectordef-before①">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a> <a href="#ref-for-selectordef-before②">(2)</a> <a href="#ref-for-selectordef-before③">(3)</a> <a href="#ref-for-selectordef-before④">(4)</a>
            <li><a href="#ref-for-selectordef-before⑤">4.2.
                    List Markers: the ::marker pseudo-element</a>
            <li><a href="#ref-for-selectordef-before⑥">5.
                    Overlapping Pseudo-element Interactions</a>
            <li><a href="#ref-for-selectordef-before⑦">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-selectordef-before⑧">7.
                    Compatibility Syntax</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-after">
        <b><a href="#selectordef-after">#selectordef-after</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-after">2.2.2.
                    Finding the First-Letter Text</a>
            <li><a href="#ref-for-selectordef-after①">4.1.
                    Generated Content Pseudo-elements: ::before and ::after</a> <a href="#ref-for-selectordef-after②">(2)</a> <a href="#ref-for-selectordef-after④">(3)</a>
            <li><a href="#ref-for-selectordef-after⑤">4.2.
                    List Markers: the ::marker pseudo-element</a>
            <li><a href="#ref-for-selectordef-after⑥">5.
                    Overlapping Pseudo-element Interactions</a>
            <li><a href="#ref-for-selectordef-after⑦">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-selectordef-after⑧">7.
                    Compatibility Syntax</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-marker">
        <b><a href="#selectordef-marker">#selectordef-marker</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-marker">4.2.
                    List Markers: the ::marker pseudo-element</a> <a href="#ref-for-selectordef-marker①">(2)</a> <a href="#ref-for-selectordef-marker②">(3)</a> <a href="#ref-for-selectordef-marker③">(4)</a> <a href="#ref-for-selectordef-marker④">(5)</a> <a href="#ref-for-selectordef-marker⑤">(6)</a>
            <li><a href="#ref-for-selectordef-marker⑥">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-selectordef-marker⑦"> Changes</a> <a href="#ref-for-selectordef-marker⑧">(2)</a> <a href="#ref-for-selectordef-marker⑨">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-placeholder">
        <b><a href="#selectordef-placeholder">#selectordef-placeholder</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-placeholder">4.3.
                    Placeholder Input: the ::placeholder pseudo-element</a> <a href="#ref-for-selectordef-placeholder①">(2)</a> <a href="#ref-for-selectordef-placeholder②">(3)</a>
                <a href="#ref-for-selectordef-placeholder③">(4)</a> <a href="#ref-for-selectordef-placeholder④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="selectordef-file-selector-button">
        <b><a href="#selectordef-file-selector-button">#selectordef-file-selector-button</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-selectordef-file-selector-button">4.4.
                    File Selector Button: the ::file-selector-button pseudo-element</a> <a href="#ref-for-selectordef-file-selector-button①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="csspseudoelement">
        <b><a href="#csspseudoelement">#csspseudoelement</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-csspseudoelement">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-csspseudoelement①">(2)</a> <a href="#ref-for-csspseudoelement②">(3)</a> <a href="#ref-for-csspseudoelement③">(4)</a> <a href="#ref-for-csspseudoelement④">(5)</a> <a href="#ref-for-csspseudoelement⑤">(6)</a>
            <li><a href="#ref-for-csspseudoelement⑥">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-csspseudoelement⑦">(2)</a> <a href="#ref-for-csspseudoelement⑧">(3)</a> <a href="#ref-for-csspseudoelement⑨">(4)</a>
            <li><a href="#ref-for-csspseudoelement①⓪"> Changes</a> <a href="#ref-for-csspseudoelement①①">(2)</a> <a href="#ref-for-csspseudoelement①②">(3)</a> <a href="#ref-for-csspseudoelement①③">(4)</a> <a href="#ref-for-csspseudoelement①④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-pseudo">
        <b><a href="#dom-csspseudoelement-pseudo">#dom-csspseudoelement-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-pseudo">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-dom-csspseudoelement-pseudo①">(2)</a>
            <li><a href="#ref-for-dom-csspseudoelement-pseudo②"> Changes</a> <a href="#ref-for-dom-csspseudoelement-pseudo③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-pseudo-type-type">
        <b><a href="#dom-csspseudoelement-pseudo-type-type">#dom-csspseudoelement-pseudo-type-type</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-pseudo-type-type">6.2.
                    pseudo() method of the Element interface</a> <a href="#ref-for-dom-csspseudoelement-pseudo-type-type①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-type">
        <b><a href="#dom-csspseudoelement-type">#dom-csspseudoelement-type</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-type">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-dom-csspseudoelement-type①"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-element">
        <b><a href="#dom-csspseudoelement-element">#dom-csspseudoelement-element</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-element">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-dom-csspseudoelement-element①">(2)</a> <a href="#ref-for-dom-csspseudoelement-element②">(3)</a>
            <li><a href="#ref-for-dom-csspseudoelement-element③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-csspseudoelement-parent">
        <b><a href="#dom-csspseudoelement-parent">#dom-csspseudoelement-parent</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-csspseudoelement-parent">6.1.
                    CSSPseudoElement Interface</a> <a href="#ref-for-dom-csspseudoelement-parent①">(2)</a> <a href="#ref-for-dom-csspseudoelement-parent②">(3)</a>
            <li><a href="#ref-for-dom-csspseudoelement-parent③"> Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-element-pseudo">
        <b><a href="#dom-element-pseudo">#dom-element-pseudo</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-element-pseudo">6.1.
                    CSSPseudoElement Interface</a>
            <li><a href="#ref-for-dom-element-pseudo①">6.2.
                    pseudo() method of the Element interface</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script>/* script-var-click-highlighting */

        document.addEventListener("click", e => {
            if (e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        {
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>
