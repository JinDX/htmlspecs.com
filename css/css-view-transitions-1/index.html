<!doctype html>
<html lang="en">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS View Transitions Module Level 1</title>
    <meta content="CR" name="w3c-status">
    <meta content="Bikeshed version 5edf5e459, updated Thu Jun 22 11:28:01 2023 -0700" name="generator">
    <link href="https://www.w3.org/TR/css-view-transitions-1/" rel="canonical">
    <meta content="60a1023aa8af342b5a6ecabbbf2579fa63547154" name="document-revision">
    <style>
        spec-scaler {
            display: block;
        }

        spec-scaler:not(:defined)>* {
            display: none;
        }

        .spec-slides {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        .spec-slide-controls {
            text-align: center;
        }

        .main-example-video {
            display: block;
            width: 100%;
            max-width: 702px;
            height: auto;
            margin: 0 auto;
        }

        /* Put nice boxes around each algorithm. */
        [data-algorithm]:not(.heading) {
            padding: .5em;
            border: thin solid #ddd;
            border-radius: .5em;
            margin: .5em calc(-0.5em - 1px);
        }

        [data-algorithm]:not(.heading)> :first-child {
            margin-top: 0;
        }

        [data-algorithm]:not(.heading)> :last-child {
            margin-bottom: 0;
        }

        [data-algorithm] [data-algorithm] {
            margin: 1em 0;
        }

        pre {
            tab-size: 2;
        }

        .domintro {
            position: relative;
            color: green;
            background: #DDFFDD;
            margin: 2.5em 0 2em 0;
            padding: 1.5em 1em 0.5em 2em;
        }

        .domintro dt,
        .domintro dt * {
            color: black;
            font-size: inherit;
        }

        .domintro dd {
            margin: 0.5em 0 1em 2em;
            padding: 0;
        }

        .domintro dd p {
            margin: 0.5em 0;
        }

        .domintro::before {
            content: 'For web developers (non-normative)';
            background: green;
            color: white;
            padding: 0.15em 0.25em;
            font-style: normal;
            position: absolute;
            top: -0.8em;
            left: -0.8em;
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */

        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            white-space: pre;
            display: inline-block;
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled[role="button"] {
            cursor: pointer;
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            white-space: pre;
            display: inline-block;
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled[role="button"] {
            cursor: pointer;
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */


        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-CR" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS View Transitions Module Level 1</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CR">W3C Candidate Recommendation Snapshot</a>,
            <time class="dt-updated" datetime="2023-09-05">5 September 2023</time>
        </p>
        <details open>
            <summary>More details about this document</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>This version:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2023/CR-css-view-transitions-1-20230905/">https://www.w3.org/TR/2023/CR-css-view-transitions-1-20230905/</a>
                    <dt>Latest published version:
                    <dd><a
                            href="https://www.w3.org/TR/css-view-transitions-1/">https://www.w3.org/TR/css-view-transitions-1/</a>
                    <dt>Editor's Draft:
                    <dd><a
                            href="https://drafts.csswg.org/css-view-transitions-1/">https://drafts.csswg.org/css-view-transitions-1/</a>
                    <dt>History:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-view-transitions-1">https://www.w3.org/standards/history/css-view-transitions-1</a>
                    <dt>Implementation Report:
                    <dd><a
                            href="https://wpt.fyi/results/css/css-view-transitions">https://wpt.fyi/results/css/css-view-transitions</a>
                    <dt>Feedback:
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-view-transitions-1">CSSWG Issues
                            Repository</a>
                    <dt class="editor">Editors:
                    <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url"
                            href="http://xanthir.com/contact/">Tab Atkins-Bittner</a> (<span
                            class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="76394"><span class="p-name fn">Jake
                            Archibald</span> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="122787"><span class="p-name fn">Khushal
                            Sagar</span> (<span class="p-org org">Google</span>)
                    <dt>Suggest an Edit for this Spec:
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-view-transitions-1/Overview.bs">GitHub
                            Editor</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 <a
                href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/Consortium/Legal/copyright-software" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
        <p>This module defines the View Transition API, along with associated properties and pseudo-elements,

            which allows developers to create animated visual transitions representing changes in the document state.
        </p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
        (such as HTML and XML)
        on screen, on paper, etc.
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
    <div data-fill-with="status">
        <p><em>This section describes the status of this document at the time of its publication.
                A list of current W3C publications
                and the latest revision of this technical report
                can be found in the <a href="https://www.w3.org/TR/">W3C technical reports index at
                    https://www.w3.org/TR/.</a></em> </p>
        <p> This document was published
            by the <a href="https://www.w3.org/groups/wg/css">CSS Working Group</a> as a <strong>Candidate
                Recommendation Snapshot</strong> using the <a
                href="https://www.w3.org/2023/Process-20230612/#recs-and-notes">Recommendation
                track</a>.
            Publication as a Candidate Recommendation
            does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members.
            A Candidate Recommendation Snapshot has received <a
                href="https://www.w3.org/2023/Process-20230612/#dfn-wide-review">wide review</a>,
            is intended to gather implementation experience, and has commitments from Working Group members to <a
                href="https://www.w3.org/Consortium/Patent-Policy/#sec-Requirements">royalty-free licensing</a> for
            implementations.
            This document is intended to become a W3C Recommendation;
            it will remain a Candidate Recommendation at least until <time class="status-deadline"
                datetime="2023-12-05">5 December 2023</time> to gather additional feedback. </p>
        <p>Please send feedback
            by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
            including the spec code “css-view-transitions” in the title, like this:
            “[css-view-transitions] <i>…summary of comment…</i>”.
            All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
            Alternately, feedback can be sent to the (<a
                href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list <a
                href="mailto:www-style@w3.org?Subject=%5Bcss-view-transitions%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>.
        </p>
        <p>This document is governed by the <a href="https://www.w3.org/2023/Process-20230612/"
                id="w3c_process_revision">12 June 2023 W3C Process Document</a>. </p>
        <p>This document was produced by a group operating under the <a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C Patent Policy</a>.
            W3C maintains a <a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">public list of any patent
                disclosures</a> made in connection with the deliverables of the group;
            that page also includes instructions for disclosing a patent.
            An individual who has actual knowledge of a patent which the individual believes
            contains <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">Essential
                Claim(s)</a> must disclose the information in accordance with <a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">section 6 of the W3C Patent
                Policy</a>. </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
                <ol class="toc">
                    <li><a href="#separating-transitions"><span class="secno">1.1</span> <span
                                class="content">Separating Visual Transitions from DOM Updates</span></a>
                    <li><a href="#customizing"><span class="secno">1.2</span> <span class="content">View Transition
                                Customization</span></a>
                    <li><a href="#lifecycle"><span class="secno">1.3</span> <span class="content">View Transition
                                Lifecycle</span></a>
                    <li><a href="#transitions-as-enhancements"><span class="secno">1.4</span> <span
                                class="content">Transitions as an enhancement</span></a>
                    <li><a href="#rendering-model"><span class="secno">1.5</span> <span class="content">Rendering
                                Model</span></a>
                    <li><a href="#examples"><span class="secno">1.6</span> <span class="content">Examples</span></a>
                </ol>
            <li>
                <a href="#css-properties"><span class="secno">2</span> <span class="content">CSS properties</span></a>
                <ol class="toc">
                    <li>
                        <a href="#view-transition-name-prop"><span class="secno">2.1</span> <span
                                class="content">Tagging Individually Transitioning Subtrees: the <span
                                    class="property">view-transition-name</span> property</span></a>
                        <ol class="toc">
                            <li><a href="#named-and-transitioning"><span class="secno">2.1.1</span> <span
                                        class="content">Rendering Consolidation</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#pseudo"><span class="secno">3</span> <span class="content">Pseudo-elements</span></a>
                <ol class="toc">
                    <li><a href="#pseudo-root"><span class="secno">3.1</span> <span class="content">Pseudo-element
                                Trees</span></a>
                    <li>
                        <a href="#view-transition-pseudos"><span class="secno">3.2</span> <span class="content">View
                                Transition Pseudo-elements</span></a>
                        <ol class="toc">
                            <li><a href="#named-view-transition-pseudo"><span class="secno">3.2.1</span> <span
                                        class="content">Named View Transition Pseudo-elements</span></a>
                            <li><a href="#view-transition-pseudo"><span class="secno">3.2.2</span> <span
                                        class="content">View Transition Tree Root: the <span
                                            class="css">::view-transition</span> pseudo-element</span></a>
                            <li><a href="#::view-transition-group"><span class="secno">3.2.3</span> <span
                                        class="content">View Transition Named Subtree Root: the <span
                                            class="css">::view-transition-group()</span> pseudo-element</span></a>
                            <li><a href="#::view-transition-image-pair"><span class="secno">3.2.4</span> <span
                                        class="content">View Transition Image Pair Isolation: the <span
                                            class="css">::view-transition-image-pair()</span> pseudo-element</span></a>
                            <li><a href="#::view-transition-old"><span class="secno">3.2.5</span> <span
                                        class="content">View Transition Old State Image: the <span
                                            class="css">::view-transition-old()</span> pseudo-element</span></a>
                            <li><a href="#::view-transition-new"><span class="secno">3.2.6</span> <span
                                        class="content">View Transition New State Image: the <span
                                            class="css">::view-transition-new()</span> pseudo-element</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#view-transition-rendering"><span class="secno">4</span> <span class="content">View Transition
                        Layout</span></a>
                <ol class="toc">
                    <li><a href="#snapshot-containing-block-concept"><span class="secno">4.1</span> <span
                                class="content">The Snapshot Containing Block</span></a>
                    <li><a href="#view-transition-stacking-layer"><span class="secno">4.2</span> <span
                                class="content">View Transition Painting Order</span></a>
                </ol>
            <li><a href="#ua-styles"><span class="secno">5</span> <span class="content">User Agent Stylesheet</span></a>
            <li>
                <a href="#api"><span class="secno">6</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li>
                        <a href="#additions-to-document-api"><span class="secno">6.1</span> <span
                                class="content">Additions to <code class="idl"><span>Document</span></code></span></a>
                        <ol class="toc">
                            <li><a href="#ViewTransition-prepare"><span class="secno">6.1.1</span> <span
                                        class="content"><code class="idl"><span>startViewTransition()</span></code>
                                        Method Steps</span></a>
                        </ol>
                    <li>
                        <a href="#the-domtransition-interface"><span class="secno">6.2</span> <span class="content">The
                                <code class="idl"><span>ViewTransition</span></code> interface</span></a>
                        <ol class="toc">
                            <li><a href="#ViewTransition-skipTransition"><span class="secno">6.2.1</span> <span
                                        class="content"><code class="idl"><span>skipTransition()</span></code> Method
                                        Steps</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#algorithms"><span class="secno">7</span> <span class="content">Algorithms</span></a>
                <ol class="toc">
                    <li>
                        <a href="#concepts"><span class="secno">7.1</span> <span class="content">Data
                                Structures</span></a>
                        <ol class="toc">
                            <li><a href="#additions-to-document"><span class="secno">7.1.1</span> <span
                                        class="content">Additions to <code
                                            class="idl"><span>Document</span></code></span></a>
                            <li><a href="#elements-concept"><span class="secno">7.1.2</span> <span
                                        class="content">Additions to Elements</span></a>
                            <li><a href="#captured-elements"><span class="secno">7.1.3</span> <span
                                        class="content"><span>Captured elements</span></span></a>
                        </ol>
                    <li><a href="#perform-pending-transition-operations-algorithm"><span class="secno">7.2</span> <span
                                class="content"><span>Perform pending transition operations</span></span></a>
                    <li>
                        <a href="#setup-view-transition-algorithm"><span class="secno">7.3</span> <span
                                class="content"><span>Setup view transition</span></span></a>
                        <ol class="toc">
                            <li><a href="#capture-old-state-algorithm"><span class="secno">7.3.1</span> <span
                                        class="content"><span>Capture the old state</span></span></a>
                            <li><a href="#capture-new-state-algorithm"><span class="secno">7.3.2</span> <span
                                        class="content"><span>Capture the new state</span></span></a>
                            <li><a href="#setup-transition-pseudo-elements-algorithm"><span class="secno">7.3.3</span>
                                    <span class="content"><span>Setup transition pseudo-elements</span></span></a>
                        </ol>
                    <li><a href="#call-dom-update-callback-algorithm"><span class="secno">7.4</span> <span
                                class="content"><span>Call the update callback</span></span></a>
                    <li><a href="#skip-the-view-transition-algorithm"><span class="secno">7.5</span> <span
                                class="content"><span>Skip the view transition</span></span></a>
                    <li>
                        <a href="#capture-the-image-algorithm"><span class="secno">7.6</span> <span
                                class="content"><span>Capture the image</span></span></a>
                        <ol class="toc">
                            <li><a href="#capture-rendering-characteristics-algorithm"><span class="secno">7.6.1</span>
                                    <span class="content"><span>Capture rendering characteristics</span></span></a>
                        </ol>
                    <li><a href="#handle-transition-frame-algorithm"><span class="secno">7.7</span> <span
                                class="content"><span>Handle transition frame</span></span></a>
                    <li><a href="#style-transition-pseudo-elements-algorithm"><span class="secno">7.8</span> <span
                                class="content"><span>Update pseudo-element styles</span></span></a>
                    <li><a href="#clear-view-transition-algorithm"><span class="secno">7.9</span> <span
                                class="content"><span>Clear view transition</span></span></a>
                </ol>
            <li><a href="#priv"><span class="secno"></span> <span class="content">Privacy Considerations</span></a>
            <li><a href="#sec"><span class="secno"></span> <span class="content">Security Considerations</span></a>
            <li>
                <a href="#changes"><span class="secno"></span> <span class="content">Appendix A. Changes</span></a>
                <ol class="toc">
                    <li><a href="#changes-since-2022-05-30"><span class="secno"></span> <span class="content"> Changes
                                from <span>2022-05-30 Working Draft</span> </span></a>
                    <li><a href="#changes-since-2022-05-25"><span class="secno"></span> <span class="content"> Changes
                                from <span>2022-05-25 Working Draft</span> </span></a>
                    <li><a href="#changes-since-2022-11-24"><span class="secno"></span> <span class="content"> Changes
                                from <span>2022-11-24 Working Draft</span> </span></a>
                    <li><a href="#changes-since-2022-10-25"><span class="secno"></span> <span class="content"> Changes
                                from <span>2022-10-25 Working Draft (FPWD)</span> </span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> Document
                                conventions</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                Conformance classes</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content"> Partial
                                implementations</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content"> Implementations of Unstable and Proprietary Features</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> Non-experimental
                                implementations</span></a>
                    <li><a href="#w3c-cr-exit-criteria"><span class="secno"></span> <span class="content"> CR exit
                                criteria</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by
                                this specification</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms
                                defined by reference</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">Normative
                                References</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">Informative
                                References</span></a>
                </ol>
            <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
        </ol>
    </nav>
    <main>
        <script async src="https://www.w3.org/TR/css-view-transitions-1/diagrams/resources/scaler.js"
            type="module"></script>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
        <p><em>This section is non-normative.</em></p>
        <p>This specification introduces a DOM API and associated CSS features
            that allow developers to create animated visual transitions,
            called <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="view-transitions">view transitions</dfn>
            between different states of a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document">document</a>.</p>
        <h3 class="heading settled" data-level="1.1" id="separating-transitions"><span class="secno">1.1. </span><span
                class="content">Separating Visual Transitions from DOM Updates</span><a class="self-link"
                href="#separating-transitions"></a></h3>
        <p>Traditionally, creating a visual transition between two document states
            required a period where both states were present in the DOM at the same time.
            In fact, it usually involved creating a specific DOM structure
            that could represent both states.
            For example, if one element was “moving” between containers,
            that element often needed to exist outside of either container for the period of the transition,
            to avoid clipping from either container or their ancestor elements.</p>
        <p>This extra in-between state often resulted in UX and accessibility issues,
            as the structure of the DOM was compromised for a purely-visual effect.</p>
        <p><a data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions">View Transitions</a> avoid
            this troublesome in-between state
            by allowing the DOM to switch between states instantaneously,
            then performing a customizable visual transition between the two states in another layer,
            using a static visual capture of the old state, and a live capture of the new state.
            These captures are represented as a tree of <a data-link-type="dfn"
                href="https://www.w3.org/TR/CSS21/selector.html#x22" id="ref-for-x22">pseudo-elements</a> (detailed in
            <a href="#view-transition-pseudos">§ 3.2 View Transition Pseudo-elements</a>),
            where the old visual state co-exists with the new state,
            allowing effects such as cross-fading
            while animating from the old to new size and position.
        </p>
        <h3 class="heading settled" data-level="1.2" id="customizing"><span class="secno">1.2. </span><span
                class="content">View Transition Customization</span><a class="self-link" href="#customizing"></a></h3>
        <p>By default,
            <code>document.<code class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition">startViewTransition()</a></code></code>
            creates a <a data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions①">view
                transition</a> consisting of
            a page-wide cross-fade between the two DOM states.
            Developers can also choose which elements are captured independently
            using the <a class="property css" data-link-type="property" href="#propdef-view-transition-name"
                id="ref-for-propdef-view-transition-name">view-transition-name</a> CSS property,
            allowing these to be animated independently of the rest of the page.
            Since the transitional state (where both old and new visual captures exist)
            is represented as pseudo-elements,
            developers can customize each transition using familiar features
            such as <a href="https://www.w3.org/TR/css-animations/">CSS Animations</a> and <a
                href="https://www.w3.org/TR/web-animations/">Web Animations</a>.
        </p>
        <h3 class="heading settled" data-level="1.3" id="lifecycle"><span class="secno">1.3. </span><span
                class="content">View Transition Lifecycle</span><a class="self-link" href="#lifecycle"></a></h3>
        <p>A successful <a data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions②">view
                transition</a> goes through the following phases:</p>
        <ol>
            <li data-md>
                <p>Developer calls
                    <code>document.<code class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition①">startViewTransition</a></code>(<code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback">updateCallback</a></code>)</code>,
                    which returns a <code
                        class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition">ViewTransition</a></code>,
                    <var>viewTransition</var>.
                </p>
            <li data-md>
                <p>Current state captured as the “old” state.</p>
            <li data-md>
                <p>Rendering paused.</p>
            <li data-md>
                <p>Developer’s <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①">updateCallback</a></code>
                    function is called,
                    which updates the document state.</p>
            <li data-md>
                <p><code><var>viewTransition</var>.<code class="idl"><a data-link-type="idl" href="#dom-viewtransition-updatecallbackdone" id="ref-for-dom-viewtransition-updatecallbackdone">updateCallbackDone</a></code></code>
                    fulfills.</p>
            <li data-md>
                <p>Current state captured as the “new” state.</p>
            <li data-md>
                <p>Transition pseudo-elements created.
                    See <a href="#view-transition-pseudos">§ 3.2 View Transition Pseudo-elements</a> for an overview of
                    this structure.</p>
            <li data-md>
                <p>Rendering unpaused, revealing the transition pseudo-elements.</p>
            <li data-md>
                <p><code><var>viewTransition</var>.<code class="idl"><a data-link-type="idl" href="#dom-viewtransition-ready" id="ref-for-dom-viewtransition-ready">ready</a></code></code>
                    fulfills.</p>
            <li data-md>
                <p>Pseudo-elements animate until finished.</p>
            <li data-md>
                <p>Transition pseudo-elements removed.</p>
            <li data-md>
                <p><code><var>viewTransition</var>.<code class="idl"><a data-link-type="idl" href="#dom-viewtransition-finished" id="ref-for-dom-viewtransition-finished">finished</a></code></code>
                    fulfills.</p>
        </ol>
        <div id="phases-diagram">
            <spec-scaler canvasheight="1080" canvaswidth="1920" style="aspect-ratio: 1920/1080"> <iframe
                    class="spec-slides"
                    src="https://www.w3.org/TR/css-view-transitions-1/diagrams/phases/phases.html"></iframe>
            </spec-scaler>
            <p class="spec-slide-controls">
                <button disabled>Previous</button>
                <button disabled>Next</button>
            </p>
            <script type="module">
                const root = document.querySelector('#phases-diagram');
                const [previous, next] = root.querySelectorAll('.spec-slide-controls button');
                const iframe = root.querySelector('iframe');
                next.disabled = false;

                const updateButtons = (slide) => {
                    next.disabled = !slide.hasNext;
                    previous.disabled = !slide.hasPrevious;
                };

                next.addEventListener('click', async () => {
                    const slide = iframe.contentDocument.querySelector('spec-slide');
                    await slide.next();
                    updateButtons(slide);
                });
                previous.addEventListener('click', async () => {
                    const slide = iframe.contentDocument.querySelector('spec-slide');
                    await slide.previous();
                    updateButtons(slide);
                });
            </script>
        </div>
        <h3 class="heading settled" data-level="1.4" id="transitions-as-enhancements"><span class="secno">1.4.
            </span><span class="content">Transitions as an enhancement</span><a class="self-link"
                href="#transitions-as-enhancements"></a></h3>
        <p>A key part of the View Transition API design
            is that an animated transition is a visual <em>enhancement</em> to an underlying document state change.
            That means a failure to create a visual transition,
            which can happen due to misconfiguration or device constraints,
            will not prevent the developer’s <code
                class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback②">UpdateCallback</a></code>
            being called,
            even if it’s known in advance that the transition animations cannot happen.</p>
        <p>For example, if the developer calls <code
                class="idl"><a data-link-type="idl" href="#dom-viewtransition-skiptransition" id="ref-for-dom-viewtransition-skiptransition">skipTransition()</a></code>
            at the start of the <a href="#lifecycle">view transition lifecycle</a>,
            the steps relating to the animated transition,
            such as creating the <a data-link-type="dfn" href="#view-transition-tree"
                id="ref-for-view-transition-tree">view transition tree</a>,
            will not happen.
            However, the <code
                class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback③">UpdateCallback</a></code>
            will still be called.
            It’s only the visual transition that’s skipped,
            not the underlying state change.</p>
        <p class="note" role="note"><span class="marker">Note:</span> If the DOM change should also be skipped,
            then that needs to be handled by another feature.
            <code><code class="idl"><a data-link-type="idl" href="https://wicg.github.io/navigation-api/#navigateevent" id="ref-for-navigateevent">navigateEvent</a></code>.<code
                class="idl"><a data-link-type="idl" href="https://wicg.github.io/navigation-api/#ref-for-dom-navigateevent-signal①" id="ref-for-ref-for-dom-navigateevent-signal①">signal</a></code></code>
            is an example of a feature developers could use to handle this.
        </p>
        <p>Although the View Transition API allows DOM changes to be asynchronous via the <code
                class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback④">UpdateCallback</a></code>,
            the API is not responsible for queuing or otherwise scheduling DOM changes
            beyond any scheduling needed for the transition itself.
            Some asynchronous DOM changes can happen concurrently (e.g if they’re happening within independent
            components),
            whereas others need to queue, or abort an earlier change.
            This is best left to a feature or framework that has a more holistic view of the application.</p>
        <h3 class="heading settled" data-level="1.5" id="rendering-model"><span class="secno">1.5. </span><span
                class="content">Rendering Model</span><a class="self-link" href="#rendering-model"></a></h3>
        <p>View Transition works by replicating an element’s rendered state using UA generated pseudo-elements.
            Aspects of the element’s rendering which apply to the element itself or its descendants,
            for example visual effects like <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/filter-effects-1/#propdef-filter" id="ref-for-propdef-filter">filter</a> or
            <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-opacity"
                id="ref-for-propdef-opacity">opacity</a> and clipping from <a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow"
                id="ref-for-propdef-overflow">overflow</a> or <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-masking-1/#propdef-clip-path"
                id="ref-for-propdef-clip-path">clip-path</a>,
            are applied when generating its image in <a data-link-type="dfn" href="#capture-the-image"
                id="ref-for-capture-the-image">Capture the image</a>.
        </p>
        <p>However, properties like <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/compositing-1/#propdef-mix-blend-mode"
                id="ref-for-propdef-mix-blend-mode">mix-blend-mode</a> which define how the element draws when it is
            embedded can’t be applied to its image.
            Such properties are applied to the element’s corresponding <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition-group"
                id="ref-for-selectordef-view-transition-group">::view-transition-group()</a> pseudo-element,
            which is meant to generate a box equivalent to the element.</p>
        <p>If the <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group"
                id="ref-for-selectordef-view-transition-group①">::view-transition-group()</a> has a corresponding
            element in the "new" states,
            the browser keeps the properties copied over to the <span class="css"
                id="ref-for-selectordef-view-transition-group②">::view-transition-group()</span> in sync with the DOM
            element in the "new" state.
            If the <span class="css" id="ref-for-selectordef-view-transition-group③">::view-transition-group()</span>
            has a corresponding both in the "old" and "new" state,
            and the property being copied is interpolatable,
            the browser also sets up a default animation to animate the property smoothly.</p>
        <h3 class="heading settled" data-level="1.6" id="examples"><span class="secno">1.6. </span><span
                class="content">Examples</span><a class="self-link" href="#examples"></a></h3>
        <div class="example" id="example-9f38dda5">
            <a class="self-link" href="#example-9f38dda5"></a> Taking a page that already updates its content using a
            pattern like this:
            <pre class="language-js highlight"><c- a>function</c-> spaNavigate<c- p>(</c->data<c- p>)</c-> <c- p>{</c->
	updateTheDOMSomehow<c- p>(</c->data<c- p>);</c->
<c- p>}</c->
</pre>
            <p>A <a data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions③">view transition</a>
                could be added like this:</p>
            <pre class="language-js highlight"><c- a>function</c-> spaNavigate<c- p>(</c->data<c- p>)</c-> <c- p>{</c->
	<c- c1>// Fallback for browsers that don’t support this API:</c->
	<c- k>if</c-> <c- p>(</c-><c- o>!</c->document<c- p>.</c->startViewTransition<c- p>)</c-> <c- p>{</c->
		updateTheDOMSomehow<c- p>(</c->data<c- p>);</c->
		<c- k>return</c-><c- p>;</c->
	<c- p>}</c->

	<c- c1>// With a transition:</c->
	document<c- p>.</c->startViewTransition<c- p>(()</c-> <c- p>=></c-> updateTheDOMSomehow<c- p>(</c->data<c- p>));</c->
<c- p>}</c->
</pre>
            <p>This results in the default transition of a quick cross-fade:</p>
            <figure>
                <video class="main-example-video" controls loop muted playsinline
                    src="https://www.w3.org/TR/css-view-transitions-1/diagrams/videos/default.mp4"
                    style="aspect-ratio: 1404/738"></video>
            </figure>
            <p>The cross-fade is achieved using CSS animations on a <a href="#view-transition-pseudos">tree of
                    pseudo-elements</a>,
                so customizations can be made using CSS. For example:</p>
            <pre class="language-css highlight">:<c- nf>:view-transition-old</c-><c- p>(</c->root<c- p>),</c->
:<c- nf>:view-transition-new</c-><c- p>(</c->root<c- p>)</c-> <c- p>{</c->
	<c- k>animation-duration</c-><c- p>:</c-> <c- m>5</c-><c- k>s</c-><c- p>;</c->
<c- p>}</c->
</pre>
            <p>This results in a slower transition:</p>
            <figure>
                <video class="main-example-video" controls loop muted playsinline
                    src="https://www.w3.org/TR/css-view-transitions-1/diagrams/videos/slow.mp4"
                    style="aspect-ratio: 1404/738"></video>
            </figure>
        </div>
        <div class="example" id="example-b5766389">
            <a class="self-link" href="#example-b5766389"></a> Building on the previous example, motion can be added:
            <pre class="language-css highlight"><c- n>@keyframes</c-> fade-in <c- p>{</c->
	from <c- p>{</c-> <c- k>opacity</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->

<c- n>@keyframes</c-> fade-out <c- p>{</c->
	to <c- p>{</c-> <c- k>opacity</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->

<c- n>@keyframes</c-> slide-from-right <c- p>{</c->
	from <c- p>{</c-> <c- k>transform</c-><c- p>:</c-> <c- nf>translateX</c-><c- p>(</c-><c- m>30</c-><c- k>px</c-><c- p>);</c-> <c- p>}</c->
<c- p>}</c->

<c- n>@keyframes</c-> slide-to-left <c- p>{</c->
	to <c- p>{</c-> <c- k>transform</c-><c- p>:</c-> <c- nf>translateX</c-><c- p>(</c-><c- m>-30</c-><c- k>px</c-><c- p>);</c-> <c- p>}</c->
<c- p>}</c->

:<c- nf>:view-transition-old</c-><c- p>(</c->root<c- p>)</c-> <c- p>{</c->
	<c- k>animation</c-><c- p>:</c-> <c- m>90</c-><c- k>ms</c-> <c- nf>cubic-bezier</c-><c- p>(</c-><c- m>0.4</c-><c- p>,</c-> <c- m>0</c-><c- p>,</c-> <c- m>1</c-><c- p>,</c-> <c- m>1</c-><c- p>)</c-> both fade-out<c- p>,</c->
		<c- m>300</c-><c- k>ms</c-> <c- nf>cubic-bezier</c-><c- p>(</c-><c- m>0.4</c-><c- p>,</c-> <c- m>0</c-><c- p>,</c-> <c- m>0.2</c-><c- p>,</c-> <c- m>1</c-><c- p>)</c-> both slide-to-left<c- p>;</c->
<c- p>}</c->

:<c- nf>:view-transition-new</c-><c- p>(</c->root<c- p>)</c-> <c- p>{</c->
	<c- k>animation</c-><c- p>:</c-> <c- m>210</c-><c- k>ms</c-> <c- nf>cubic-bezier</c-><c- p>(</c-><c- m>0</c-><c- p>,</c-> <c- m>0</c-><c- p>,</c-> <c- m>0.2</c-><c- p>,</c-> <c- m>1</c-><c- p>)</c-> <c- m>90</c-><c- k>ms</c-> both fade-in<c- p>,</c->
		<c- m>300</c-><c- k>ms</c-> <c- nf>cubic-bezier</c-><c- p>(</c-><c- m>0.4</c-><c- p>,</c-> <c- m>0</c-><c- p>,</c-> <c- m>0.2</c-><c- p>,</c-> <c- m>1</c-><c- p>)</c-> both slide-from-right<c- p>;</c->
<c- p>}</c->
</pre>
            <p>Here’s the result:</p>
            <figure>
                <video class="main-example-video" controls loop muted playsinline
                    src="https://www.w3.org/TR/css-view-transitions-1/diagrams/videos/slide.mp4"
                    style="aspect-ratio: 1404/738"></video>
            </figure>
        </div>
        <div class="example" id="example-4377639b">
            <a class="self-link" href="#example-4377639b"></a> Building on the previous example,
            the header and text within the header can be given their own <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition-group"
                id="ref-for-selectordef-view-transition-group④">::view-transition-group()</a>s for the transition:
            <pre class="language-css highlight">.main-header <c- p>{</c->
	<c- k>view-transition-name</c-><c- p>:</c-> main-header<c- p>;</c->
<c- p>}</c->

.main-header-text <c- p>{</c->
	<c- k>view-transition-name</c-><c- p>:</c-> main-header-text<c- p>;</c->
	<c- c>/* Give the element a consistent size, assuming identical text: */</c->
	width: fit-content<c- p>;</c->
<c- p>}</c->
</pre>
            <p>By default, these groups will transition size and position from their “old” to “new” state,
                while their visual states cross-fade:</p>
            <figure>
                <video class="main-example-video" controls loop muted playsinline
                    src="https://www.w3.org/TR/css-view-transitions-1/diagrams/videos/header.mp4"
                    style="aspect-ratio: 1404/738"></video>
            </figure>
        </div>
        <div class="example" id="example-6b9396d2">
            <a class="self-link" href="#example-6b9396d2"></a> Building on the previous example, let’s say some pages
            have a sidebar:
            <figure>
                <video class="main-example-video" controls loop muted playsinline
                    src="https://www.w3.org/TR/css-view-transitions-1/diagrams/videos/bad-sidebar.mp4"
                    style="aspect-ratio: 1404/738"></video>
            </figure>
            <p>In this case, things would look better if the sidebar was static if it was in both the “old” and “new”
                states.
                Otherwise, it should animate in or out.</p>
            <p>The <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-4/#only-child-pseudo"
                    id="ref-for-only-child-pseudo">:only-child</a> pseudo-class can be used to create animations
                specifically for these states:</p>
            <pre class="language-css highlight">.sidebar <c- p>{</c->
	<c- k>view-transition-name</c-><c- p>:</c-> sidebar<c- p>;</c->
<c- p>}</c->

<c- n>@keyframes</c-> slide-to-right <c- p>{</c->
	to <c- p>{</c-> <c- k>transform</c-><c- p>:</c-> <c- nf>translateX</c-><c- p>(</c-><c- m>30</c-><c- k>px</c-><c- p>);</c-> <c- p>}</c->
<c- p>}</c->

<c- c>/* Entry transition */</c->
:<c- nf>:view-transition-new</c-><c- p>(</c->sidebar<c- p>)</c->:only-child <c- p>{</c->
	<c- k>animation</c-><c- p>:</c-> <c- m>300</c-><c- k>ms</c-> <c- nf>cubic-bezier</c-><c- p>(</c-><c- m>0</c-><c- p>,</c-> <c- m>0</c-><c- p>,</c-> <c- m>0.2</c-><c- p>,</c-> <c- m>1</c-><c- p>)</c-> both fade-in<c- p>,</c->
		<c- m>300</c-><c- k>ms</c-> <c- nf>cubic-bezier</c-><c- p>(</c-><c- m>0.4</c-><c- p>,</c-> <c- m>0</c-><c- p>,</c-> <c- m>0.2</c-><c- p>,</c-> <c- m>1</c-><c- p>)</c-> both slide-from-right<c- p>;</c->
<c- p>}</c->

<c- c>/* Exit transition */</c->
:<c- nf>:view-transition-old</c-><c- p>(</c->sidebar<c- p>)</c->:only-child <c- p>{</c->
	<c- k>animation</c-><c- p>:</c-> <c- m>150</c-><c- k>ms</c-> <c- nf>cubic-bezier</c-><c- p>(</c-><c- m>0.4</c-><c- p>,</c-> <c- m>0</c-><c- p>,</c-> <c- m>1</c-><c- p>,</c-> <c- m>1</c-><c- p>)</c-> both fade-out<c- p>,</c->
		<c- m>300</c-><c- k>ms</c-> <c- nf>cubic-bezier</c-><c- p>(</c-><c- m>0.4</c-><c- p>,</c-> <c- m>0</c-><c- p>,</c-> <c- m>0.2</c-><c- p>,</c-> <c- m>1</c-><c- p>)</c-> both slide-to-right<c- p>;</c->
<c- p>}</c->
</pre>
            <p>For cases where the sidebar has both an “old” and “new” state, the default animation is correct.</p>
            <figure>
                <video class="main-example-video" controls loop muted playsinline
                    src="https://www.w3.org/TR/css-view-transitions-1/diagrams/videos/good-sidebar.mp4"
                    style="aspect-ratio: 1404/738"></video>
            </figure>
        </div>
        <div class="example" id="example-aab4f1d5">
            <a class="self-link" href="#example-aab4f1d5"></a> Not building from previous examples this time,
            let’s say we wanted to create a circular reveal from the user’s cursor.
            This can’t be done with CSS alone.
            <p>Firstly, in the CSS, allow the “old” and “new” states to layer on top of one another without the default
                blending,
                and prevent the default cross-fade animation:</p>
            <pre class="language-css highlight">:<c- nf>:view-transition-image-pair</c-><c- p>(</c->root<c- p>)</c-> <c- p>{</c->
	<c- k>isolation</c-><c- p>:</c-> auto<c- p>;</c->
<c- p>}</c->

:<c- nf>:view-transition-old</c-><c- p>(</c->root<c- p>),</c->
:<c- nf>:view-transition-new</c-><c- p>(</c->root<c- p>)</c-> <c- p>{</c->
	<c- k>animation</c-><c- p>:</c-> none<c- p>;</c->
	<c- k>mix-blend-mode</c-><c- p>:</c-> normal<c- p>;</c->
<c- p>}</c->
</pre>
            <p>Then, the JavaScript:</p>
            <pre class="language-js highlight"><c- c1>// Store the last click event</c->
<c- a>let</c-> lastClick<c- p>;</c->
addEventListener<c- p>(</c-><c- t>'click'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>(</c->lastClick <c- o>=</c-> event<c- p>));</c->

<c- a>function</c-> spaNavigate<c- p>(</c->data<c- p>)</c-> <c- p>{</c->
	<c- c1>// Fallback for browsers that don’t support this API:</c->
	<c- k>if</c-> <c- p>(</c-><c- o>!</c->document<c- p>.</c->startViewTransition<c- p>)</c-> <c- p>{</c->
		updateTheDOMSomehow<c- p>(</c->data<c- p>);</c->
		<c- k>return</c-><c- p>;</c->
	<c- p>}</c->

	<c- c1>// Get the click position, or fallback to the middle of the screen</c->
	<c- a>const</c-> x <c- o>=</c-> lastClick<c- o>?</c-><c- p>.</c->clientX <c- o>??</c-> innerWidth <c- o>/</c-> <c- mf>2</c-><c- p>;</c->
	<c- a>const</c-> y <c- o>=</c-> lastClick<c- o>?</c-><c- p>.</c->clientY <c- o>??</c-> innerHeight <c- o>/</c-> <c- mf>2</c-><c- p>;</c->
	<c- c1>// Get the distance to the furthest corner</c->
	<c- a>const</c-> endRadius <c- o>=</c-> Math<c- p>.</c->hypot<c- p>(</c->
		Math<c- p>.</c->max<c- p>(</c->x<c- p>,</c-> innerWidth <c- o>-</c-> x<c- p>),</c->
		Math<c- p>.</c->max<c- p>(</c->y<c- p>,</c-> innerHeight <c- o>-</c-> y<c- p>)</c->
	<c- p>);</c->

	<c- c1>// Create a transition:</c->
	<c- a>const</c-> transition <c- o>=</c-> document<c- p>.</c->startViewTransition<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
		updateTheDOMSomehow<c- p>(</c->data<c- p>);</c->
	<c- p>});</c->

	<c- c1>// Wait for the pseudo-elements to be created:</c->
	transition<c- p>.</c->ready<c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
		<c- c1>// Animate the root’s new view</c->
		document<c- p>.</c->documentElement<c- p>.</c->animate<c- p>(</c->
			<c- p>{</c->
				clipPath<c- o>:</c-> <c- p>[</c->
					<c- sb>`circle(0 at </c-><c- si>${</c->x<c- si>}</c-><c- sb>px </c-><c- si>${</c->y<c- si>}</c-><c- sb>px)`</c-><c- p>,</c->
					<c- sb>`circle(</c-><c- si>${</c->endRadius<c- si>}</c-><c- sb>px at </c-><c- si>${</c->x<c- si>}</c-><c- sb>px </c-><c- si>${</c->y<c- si>}</c-><c- sb>px)`</c-><c- p>,</c->
				<c- p>],</c->
			<c- p>},</c->
			<c- p>{</c->
				duration<c- o>:</c-> <c- mf>500</c-><c- p>,</c->
				easing<c- o>:</c-> <c- t>'ease-in'</c-><c- p>,</c->
				<c- c1>// Specify which pseudo-element to animate</c->
				pseudoElement<c- o>:</c-> <c- t>'::view-transition-new(root)'</c-><c- p>,</c->
			<c- p>}</c->
		<c- p>);</c->
	<c- p>});</c->
<c- p>}</c->
</pre>
            <p>And here’s the result:</p>
            <figure>
                <video class="main-example-video" controls loop muted playsinline
                    src="https://www.w3.org/TR/css-view-transitions-1/diagrams/videos/circle.mp4"
                    style="aspect-ratio: 1404/738"></video>
            </figure>
        </div>
        <h2 class="heading settled" data-level="2" id="css-properties"><span class="secno">2. </span><span
                class="content">CSS properties</span><a class="self-link" href="#css-properties"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="view-transition-name-prop"><span class="secno">2.1.
            </span><span class="content">Tagging Individually Transitioning Subtrees: the <a class="property css"
                    data-link-type="property" href="#propdef-view-transition-name"
                    id="ref-for-propdef-view-transition-name①">view-transition-name</a> property</span><a
                class="self-link" href="#view-transition-name-prop"></a></h3>
        <table class="def propdef" data-link-for-hint="view-transition-name">
            <tbody>
                <tr>
                    <th>Name:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-view-transition-name">view-transition-name</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
                    <td class="prod">none <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> <a
                            class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#identifier-value"
                            id="ref-for-identifier-value">&lt;custom-ident></a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
                    <td>none
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
                    <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content"
                            title="Includes ::before and ::after pseudo-elements.">all elements</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
                    <td>no
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
                    <td>n/a
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
                    <td>as specified
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
                    <td>per grammar
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
                    <td>discrete
        </table>
        <p>The <a class="property css" data-link-type="property" href="#propdef-view-transition-name"
                id="ref-for-propdef-view-transition-name②">view-transition-name</a> property “tags” an element
            for <a data-link-type="dfn" href="#captured-in-a-view-transition"
                id="ref-for-captured-in-a-view-transition">capture in a view transition</a>,
            tracking it independently in the <a data-link-type="dfn" href="#view-transition-tree"
                id="ref-for-view-transition-tree①">view transition tree</a> under the specified <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="view-transition-name">view transition name</dfn>.
            An element so captured is animated independently of the rest of the page.</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="view-transition-name" data-dfn-type="value"
                    data-export id="valdef-view-transition-name-none">none</dfn>
            <dd data-md>
                <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css2/#element"
                        id="ref-for-element">element</a> will not participate independently in a view transition.</p>
            <dt data-md><dfn class="css" data-dfn-for="view-transition-name" data-dfn-type="value" data-export
                    id="valdef-view-transition-name-custom-ident"><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#identifier-value"
                        id="ref-for-identifier-value①">&lt;custom-ident></a><a class="self-link"
                        href="#valdef-view-transition-name-custom-ident"></a></dfn>
            <dd data-md>
                <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css2/#element"
                        id="ref-for-element①">element</a> participates independently in a view transition—<wbr>as either an old or new
                    <span id="ref-for-element②">element</span>—<wbr>with the specified <a data-link-type="dfn"
                        href="#view-transition-name" id="ref-for-view-transition-name">view transition name</a>.
                </p>
                <p>The value <span class="css">none</span> is excluded from <a class="production css"
                        data-link-type="type" href="https://www.w3.org/TR/css-values-4/#identifier-value"
                        id="ref-for-identifier-value②">&lt;custom-ident></a> here.</p>
                <p class="note" role="note"><span class="marker">Note:</span> If this name is not unique
                    (i.e. if two elements simultaneously specify the same <a data-link-type="dfn"
                        href="#view-transition-name" id="ref-for-view-transition-name①">view transition name</a>)
                    then the <a data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions④">view
                        transition</a> will abort.</p>
        </dl>
        <p class="note" role="note"><span class="marker">Note:</span> For the purposes of this API,
            if one element has <a data-link-type="dfn" href="#view-transition-name"
                id="ref-for-view-transition-name②">view transition name</a> <span class="css">foo</span> in the old
            state,
            and another element has <span id="ref-for-view-transition-name③">view transition name</span> <span
                class="css">foo</span> in the new state,
            they are treated as representing different visual state of the same element,
            and will be paired in the <a data-link-type="dfn" href="#view-transition-tree"
                id="ref-for-view-transition-tree②">view transition tree</a>.
            This may be confusing, since the elements themselves are not necessarily referring to the same object,
            but it is a useful model to consider them to be visual states of the same conceptual page entity.</p>
        <p>If the element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                id="ref-for-principal-box">principal box</a> is <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-break-4/#fragment" id="ref-for-fragment">fragmented</a>, <a
                data-link-type="dfn" href="https://www.w3.org/TR/css-contain-2/#skips-its-contents"
                id="ref-for-skips-its-contents">skipped</a>,
            or <a data-link-type="dfn" href="https://www.w3.org/TR/css-images-4/#element-not-rendered"
                id="ref-for-element-not-rendered">not rendered</a>,
            this property has no effect.
            See <a href="#algorithms">§ 7 Algorithms</a> for exact details.</p>
        <h4 class="heading settled" data-level="2.1.1" id="named-and-transitioning"><span class="secno">2.1.1.
            </span><span class="content">Rendering Consolidation</span><a class="self-link"
                href="#named-and-transitioning"></a></h4>
        <p><a data-link-type="dfn" href="https://drafts.csswg.org/css2/#element" id="ref-for-element③">Elements</a> <a
                data-link-type="dfn" href="#captured-in-a-view-transition"
                id="ref-for-captured-in-a-view-transition①">captured in a view transition</a> during a <a
                data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions⑤">view transition</a> or
            whose <a class="property css" data-link-type="property" href="#propdef-view-transition-name"
                id="ref-for-propdef-view-transition-name③">view-transition-name</a> <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-cascade-5/#computed-value" id="ref-for-computed-value">computed
                value</a> is not <a class="css" data-link-type="maybe" href="#valdef-view-transition-name-none"
                id="ref-for-valdef-view-transition-name-none">none</a> (at any time):</p>
        <ul>
            <li data-md>
                <p>Form a <a data-link-type="dfn" href="https://www.w3.org/TR/CSS21/visuren.html#x43"
                        id="ref-for-x43">stacking context</a>.</p>
            <li data-md>
                <p>Are <a href="https://www.w3.org/TR/css-transforms-2/#grouping-property-values">flattened in 3D
                        transforms</a>.</p>
            <li data-md>
                <p>Form a <a data-link-type="dfn" href="https://drafts.fxtf.org/filter-effects-2/#backdrop-root"
                        id="ref-for-backdrop-root">backdrop root</a>.</p>
        </ul>
        <h2 class="heading settled" data-level="3" id="pseudo"><span class="secno">3. </span><span
                class="content">Pseudo-elements</span><a class="self-link" href="#pseudo"></a></h2>
        <h3 class="heading settled" data-level="3.1" id="pseudo-root"><span class="secno">3.1. </span><span
                class="content">Pseudo-element Trees</span><a class="self-link" href="#pseudo-root"></a></h3>
        <p class="note" role="note"><span class="marker">Note:</span> This is a general definition for trees of
            pseudo-elements. If other features need this behavior, these definitions will be moved to <a
                data-link-type="biblio" href="#biblio-css-pseudo-4"
                title="CSS Pseudo-Elements Module Level 4">[css-pseudo-4]</a>.</p>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pseudo-element-root">pseudo-element
                root</dfn> is a type of <a data-link-type="dfn" href="https://www.w3.org/TR/css-pseudo-4/#tree-abiding"
                id="ref-for-tree-abiding">tree-abiding pseudo-element</a> that is the <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-tree-root" id="ref-for-concept-tree-root">root</a> in a <a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree" id="ref-for-concept-tree">tree</a>
            of <span id="ref-for-tree-abiding①">tree-abiding pseudo-elements</span>,
            known as the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="pseudo-element-tree">pseudo-element tree</dfn>.</p>
        <p>The <a data-link-type="dfn" href="#pseudo-element-tree" id="ref-for-pseudo-element-tree">pseudo-element
                tree</a> defines the document order of its <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-tree-descendant"
                id="ref-for-concept-tree-descendant">descendant</a> <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-pseudo-4/#tree-abiding" id="ref-for-tree-abiding②">tree-abiding
                pseudo-elements</a>.</p>
        <p>When a <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element"
                id="ref-for-pseudo-element">pseudo-element</a> <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-tree-participate"
                id="ref-for-concept-tree-participate">participates</a> in a <a data-link-type="dfn"
                href="#pseudo-element-tree" id="ref-for-pseudo-element-tree①">pseudo-element tree</a>,
            its <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-pseudo-element"
                id="ref-for-originating-pseudo-element">originating pseudo-element</a> is its <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-tree-parent" id="ref-for-concept-tree-parent">parent</a>.</p>
        <p>If a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-descendant"
                id="ref-for-concept-tree-descendant①">descendant</a> <var>pseudo</var> of a <a data-link-type="dfn"
                href="#pseudo-element-root" id="ref-for-pseudo-element-root">pseudo-element root</a> has no other <a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-sibling"
                id="ref-for-concept-tree-sibling">siblings</a>,
            then <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-4/#only-child-pseudo"
                id="ref-for-only-child-pseudo①">:only-child</a> matches that <var>pseudo</var>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This means that
            <code>::view-transition-new(ident):only-child</code> will only select
            <code>::view-transition-new(ident)</code> if the parent <code>::view-transitions-image-pair(ident)</code>
            contains a single <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-child"
                id="ref-for-concept-tree-child">child</a>.
            As in, there is no <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-sibling"
                id="ref-for-concept-tree-sibling①">sibling</a> <code>::view-transition-old(ident)</code>.
        </p>
        <h3 class="heading settled" data-level="3.2" id="view-transition-pseudos"><span class="secno">3.2. </span><span
                class="content">View Transition Pseudo-elements</span><a class="self-link"
                href="#view-transition-pseudos"></a></h3>
        <p>The visualization of a <a data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions⑥">view
                transition</a> is represented as a <a data-link-type="dfn" href="#pseudo-element-tree"
                id="ref-for-pseudo-element-tree②">pseudo-element tree</a> called the <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="view-transition-tree">view transition tree</dfn> composed of the
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="view-transition-pseudo-elements">view
                transition pseudo-elements</dfn> defined below.
            This tree is built during the <a data-link-type="dfn" href="#setup-transition-pseudo-elements"
                id="ref-for-setup-transition-pseudo-elements">setup transition pseudo-elements</a> step,
            and is rooted under a <a class="css" data-link-type="maybe" href="#selectordef-view-transition"
                id="ref-for-selectordef-view-transition">::view-transition</a> pseudo-element <a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element">originating</a> from the <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-3/#root-element" id="ref-for-root-element">root element</a>.
            All of the <a data-link-type="dfn" href="#view-transition-pseudo-elements"
                id="ref-for-view-transition-pseudo-elements">view transition pseudo-elements</a> are selected
            from their <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#ultimate-originating-element"
                id="ref-for-ultimate-originating-element">ultimate originating element</a>, the <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element">document element</a>.
        </p>
        <div class="example" id="example-f80a7b18"><a class="self-link" href="#example-f80a7b18"></a> For example,
            the <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group"
                id="ref-for-selectordef-view-transition-group⑤">::view-transition-group()</a> pseudo-element is attached
            to the root element selector directly,
            as in <span class="css">:root::view-transition-group()</span>;
            it is not attached to its parent, the <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition" id="ref-for-selectordef-view-transition①">::view-transition</a>
            pseudo-element. </div>
        <div class="note" role="note">
            Once the user-agent has captured both the “old” and “new” states of the document,
            it creates a structure of pseudo-elements like the following:
            <pre>::view-transition
├─ ::view-transition-group(name)
│  └─ ::view-transition-image-pair(name)
│     ├─ ::view-transition-old(name)
│     └─ ::view-transition-new(name)
└─ …other groups…
</pre>
            <p>Each element with a <a class="property css" data-link-type="property"
                    href="#propdef-view-transition-name"
                    id="ref-for-propdef-view-transition-name④">view-transition-name</a> is captured separately,
                and a <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group"
                    id="ref-for-selectordef-view-transition-group⑥">::view-transition-group()</a> is created for each
                unique <span class="property" id="ref-for-propdef-view-transition-name⑤">view-transition-name</span>.
            </p>
            <p>For convenience, the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#document-element"
                    id="ref-for-document-element①">document element</a> is given the <a class="property css"
                    data-link-type="property" href="#propdef-view-transition-name"
                    id="ref-for-propdef-view-transition-name⑥">view-transition-name</a> "root" in the <a
                    href="#ua-styles">user-agent style sheet</a>.</p>
            <p>Either <a class="css" data-link-type="maybe" href="#selectordef-view-transition-old"
                    id="ref-for-selectordef-view-transition-old">::view-transition-old()</a> or <a class="css"
                    data-link-type="maybe" href="#selectordef-view-transition-new"
                    id="ref-for-selectordef-view-transition-new">::view-transition-new()</a> are absent in cases where
                the capture does not have an “old” or “new” state.</p>
            <p>Each of the pseudo-elements generated can be targeted by CSS in order to customize its appearance,
                behavior and/or add animations.
                This enables full customization of the transition.</p>
        </div>
        <h4 class="heading settled" data-level="3.2.1" id="named-view-transition-pseudo"><span class="secno">3.2.1.
            </span><span class="content">Named View Transition Pseudo-elements</span><a class="self-link"
                href="#named-view-transition-pseudo"></a></h4>
        <p>Several of the <a data-link-type="dfn" href="#view-transition-pseudo-elements"
                id="ref-for-view-transition-pseudo-elements①">view transition pseudo-elements</a> are <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="named-view-transition-pseudo-elements">named
                view transition pseudo-elements</dfn>,
            which are <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#functional-pseudo-element"
                id="ref-for-functional-pseudo-element">functional</a> <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-pseudo-4/#tree-abiding" id="ref-for-tree-abiding③">tree-abiding</a>
            <span id="ref-for-view-transition-pseudo-elements②">view transition pseudo-elements</span> associated with a
            <a data-link-type="dfn" href="#view-transition-name" id="ref-for-view-transition-name④">view transition
                name</a>.
            These pseudo-elements take a <a class="production css" data-link-type="type"
                href="#typedef-pt-name-selector" id="ref-for-typedef-pt-name-selector">&lt;pt-name-selector></a> as
            their argument,
            and their syntax follows the pattern:
        </p>
        <pre class="prod">::view-transition-<var>pseudo</var>(<a class="production" data-link-type="type" href="#typedef-pt-name-selector" id="ref-for-typedef-pt-name-selector①">&lt;pt-name-selector></a>)
</pre>
        <p>where <a class="production css" data-link-type="type" href="#typedef-pt-name-selector"
                id="ref-for-typedef-pt-name-selector②">&lt;pt-name-selector></a> selects a <a data-link-type="dfn"
                href="#view-transition-name" id="ref-for-view-transition-name⑤">view transition name</a>,
            and has the following syntax definition:</p>
        <pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-pt-name-selector">&lt;pt-name-selector></dfn> = '*' <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#identifier-value" id="ref-for-identifier-value③">&lt;custom-ident></a>
</pre>
        <p>A <a data-link-type="dfn" href="#named-view-transition-pseudo-elements"
                id="ref-for-named-view-transition-pseudo-elements">named view transition pseudo-element</a> <a
                data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#selector"
                id="ref-for-selector">selector</a> only matches
            a corresponding <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element"
                id="ref-for-pseudo-element①">pseudo-element</a> if its <a class="production css" data-link-type="type"
                href="#typedef-pt-name-selector" id="ref-for-typedef-pt-name-selector③">&lt;pt-name-selector></a>
            matches that <span id="ref-for-pseudo-element②">pseudo-element</span>’s <a data-link-type="dfn"
                href="#view-transition-name" id="ref-for-view-transition-name⑥">view transition name</a>,
            i.e. if it is either <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-3/#x"
                id="ref-for-x">*</a> or a matching <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#identifier-value"
                id="ref-for-identifier-value④">&lt;custom-ident></a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn"
                href="#view-transition-name" id="ref-for-view-transition-name⑦">view transition name</a> of a <a
                data-link-type="dfn" href="#view-transition-pseudo-elements"
                id="ref-for-view-transition-pseudo-elements③">view transition pseudo-element</a> is set to the <a
                class="property css" data-link-type="property" href="#propdef-view-transition-name"
                id="ref-for-propdef-view-transition-name⑦">view-transition-name</a> that triggered its creation.</p>
        <p>The specificity of a <a data-link-type="dfn" href="#named-view-transition-pseudo-elements"
                id="ref-for-named-view-transition-pseudo-elements①">named view transition pseudo-element</a> <a
                data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#selector"
                id="ref-for-selector①">selector</a> with a <a class="production css" data-link-type="type"
                href="https://www.w3.org/TR/css-values-4/#identifier-value"
                id="ref-for-identifier-value⑤">&lt;custom-ident></a> argument
            is equivalent to a <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#type-selector"
                id="ref-for-type-selector">type selector</a>.
            The specificity of a <span id="ref-for-named-view-transition-pseudo-elements②">named view transition
                pseudo-element</span> <span id="ref-for-selector②">selector</span> with a <a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/selectors-3/#x" id="ref-for-x①">*</a> argument
            is zero.</p>
        <h4 class="heading settled" data-level="3.2.2" id="view-transition-pseudo"><span class="secno">3.2.2.
            </span><span class="content">View Transition Tree Root: the <a class="css" data-link-type="maybe"
                    href="#selectordef-view-transition" id="ref-for-selectordef-view-transition②">::view-transition</a>
                pseudo-element</span><a class="self-link" href="#view-transition-pseudo"></a></h4>
        <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-view-transition">::view-transition</dfn> <a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element③">pseudo-element</a>
            is a <a data-link-type="dfn" href="https://www.w3.org/TR/css-pseudo-4/#tree-abiding"
                id="ref-for-tree-abiding④">tree-abiding pseudo-element</a> that is also a <a data-link-type="dfn"
                href="#pseudo-element-root" id="ref-for-pseudo-element-root①">pseudo-element root</a>.
            Its <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#originating-element"
                id="ref-for-originating-element①">originating element</a> is the document’s <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element②">document
                element</a>,
            and its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#containing-block"
                id="ref-for-containing-block">containing block</a> is the <a data-link-type="dfn"
                href="#snapshot-containing-block" id="ref-for-snapshot-containing-block">snapshot containing block</a>.
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> This element serves as the <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-tree-parent" id="ref-for-concept-tree-parent①">parent</a> of
            all <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group"
                id="ref-for-selectordef-view-transition-group⑦">::view-transition-group()</a> pseudo-elements.</p>
        <h4 class="heading settled" data-level="3.2.3" id="::view-transition-group"><span class="secno">3.2.3.
            </span><span class="content">View Transition Named Subtree Root: the <a class="css" data-link-type="maybe"
                    href="#selectordef-view-transition-group"
                    id="ref-for-selectordef-view-transition-group⑧">::view-transition-group()</a>
                pseudo-element</span><a class="self-link" href="#::view-transition-group"></a></h4>
        <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-view-transition-group">::view-transition-group()</dfn> <a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element④">pseudo-element</a>
            is a <a data-link-type="dfn" href="#named-view-transition-pseudo-elements"
                id="ref-for-named-view-transition-pseudo-elements③">named view transition pseudo-element</a> that
            represents a matching named <a data-link-type="dfn" href="#view-transitions"
                id="ref-for-view-transitions⑦">view transition</a> capture.
            A <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group"
                id="ref-for-selectordef-view-transition-group⑨">::view-transition-group()</a> <span
                id="ref-for-pseudo-element⑤">pseudo-element</span> is generated for each <a data-link-type="dfn"
                href="#view-transition-name" id="ref-for-view-transition-name⑧">view transition name</a> as a <a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-child"
                id="ref-for-concept-tree-child①">child</a> of the <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition" id="ref-for-selectordef-view-transition③">::view-transition</a>
            <span id="ref-for-pseudo-element⑥">pseudo-element</span>,
            and contains a corresponding <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition-image-pair"
                id="ref-for-selectordef-view-transition-image-pair">::view-transition-image-pair()</a>.
        </p>
        <div class="note" role="note">
            This element initially mirrors the size and position of the “old” element,
            or the “new” element if there isn’t an “old” element.
            <p>If there’s both an “old” and “new” state,
                styles in the <a data-link-type="dfn" href="#document-dynamic-view-transition-style-sheet"
                    id="ref-for-document-dynamic-view-transition-style-sheet">dynamic view transition style sheet</a>
                animate this pseudo-element’s <a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width">width</a> and <a
                    class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height">height</a>
                from the size of the old element’s <a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-box-4/#border-box" id="ref-for-border-box">border box</a> to that of
                the new element’s <span id="ref-for-border-box①">border box</span>.</p>
            <p>Also the element’s <a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-transforms-1/#propdef-transform"
                    id="ref-for-propdef-transform">transform</a> is animated from the old element’s screen space
                transform to the new element’s screen space transform.</p>
            <p>This style is generated dynamically since the values of animated properties are determined at the time
                that the transition begins.</p>
        </div>
        <h4 class="heading settled" data-level="3.2.4" id="::view-transition-image-pair"><span class="secno">3.2.4.
            </span><span class="content">View Transition Image Pair Isolation: the <a class="css" data-link-type="maybe"
                    href="#selectordef-view-transition-image-pair"
                    id="ref-for-selectordef-view-transition-image-pair①">::view-transition-image-pair()</a>
                pseudo-element</span><a class="self-link" href="#::view-transition-image-pair"></a></h4>
        <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-view-transition-image-pair">::view-transition-image-pair()</dfn> <a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑦">pseudo-element</a>
            is a <a data-link-type="dfn" href="#named-view-transition-pseudo-elements"
                id="ref-for-named-view-transition-pseudo-elements④">named view transition pseudo-element</a> that
            represents a pair of corresponding old/new <a data-link-type="dfn" href="#view-transitions"
                id="ref-for-view-transitions⑧">view transition</a> captures.
            This pseudo-element is a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-child"
                id="ref-for-concept-tree-child②">child</a> of the corresponding <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition-group"
                id="ref-for-selectordef-view-transition-group①⓪">::view-transition-group()</a> pseudo-element
            and contains
            a corresponding <a class="css" data-link-type="maybe" href="#selectordef-view-transition-old"
                id="ref-for-selectordef-view-transition-old①">::view-transition-old()</a> pseudo-element
            and/or
            a corresponding <a class="css" data-link-type="maybe" href="#selectordef-view-transition-new"
                id="ref-for-selectordef-view-transition-new①">::view-transition-new()</a> pseudo-element
            (in that order).</p>
        <div class="note" role="note"> This element exists to provide <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/compositing-1/#propdef-isolation" id="ref-for-propdef-isolation">isolation:
                isolate</a> for its children,
            and is always present as a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-child"
                id="ref-for-concept-tree-child③">child</a> of each <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition-group"
                id="ref-for-selectordef-view-transition-group①①">::view-transition-group()</a>.
            This isolation allows the image pair to be blended with non-normal blend modes
            without affecting other visual outputs. </div>
        <h4 class="heading settled" data-level="3.2.5" id="::view-transition-old"><span class="secno">3.2.5.
            </span><span class="content">View Transition Old State Image: the <a class="css" data-link-type="maybe"
                    href="#selectordef-view-transition-old"
                    id="ref-for-selectordef-view-transition-old②">::view-transition-old()</a> pseudo-element</span><a
                class="self-link" href="#::view-transition-old"></a></h4>
        <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-view-transition-old">::view-transition-old()</dfn> <a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑧">pseudo-element</a>
            is an empty <a data-link-type="dfn" href="#named-view-transition-pseudo-elements"
                id="ref-for-named-view-transition-pseudo-elements⑤">named view transition pseudo-element</a> that
            represents a visual snapshot of the “old” state as a <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-3/#replaced-element" id="ref-for-replaced-element">replaced
                element</a>;
            it is omitted if there’s no “old” state to represent.
            Each <a class="css" data-link-type="maybe" href="#selectordef-view-transition-old"
                id="ref-for-selectordef-view-transition-old③">::view-transition-old()</a> pseudo-element is a <a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-child"
                id="ref-for-concept-tree-child④">child</a> of the corresponding <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition-image-pair"
                id="ref-for-selectordef-view-transition-image-pair②">::view-transition-image-pair()</a> pseudo-element.
        </p>
        <div class="note" role="note">
            <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors-4/#only-child-pseudo"
                id="ref-for-only-child-pseudo②">:only-child</a> can be used to match cases where this element is the
            only element in the <a class="css" data-link-type="maybe" href="#selectordef-view-transition-image-pair"
                id="ref-for-selectordef-view-transition-image-pair③">::view-transition-image-pair()</a>.
            <p>The appearance of this element can be manipulated with <code>object-*</code> properties in the same way
                that other replaced elements can be.</p>
        </div>
        <p class="note" role="note"><span class="marker">Note:</span> The content and <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-images-3/#natural-dimensions" id="ref-for-natural-dimensions">natural
                dimensions</a> of the image are captured in <a data-link-type="dfn" href="#capture-the-image"
                id="ref-for-capture-the-image①">capture the image</a>,
            and set in <a data-link-type="dfn" href="#setup-transition-pseudo-elements"
                id="ref-for-setup-transition-pseudo-elements①">setup transition pseudo-elements</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> Additional styles in the <a data-link-type="dfn"
                href="#document-dynamic-view-transition-style-sheet"
                id="ref-for-document-dynamic-view-transition-style-sheet①">dynamic view transition style sheet</a> added
            to animate these pseudo-elements
            are detailed in <a data-link-type="dfn" href="#setup-transition-pseudo-elements"
                id="ref-for-setup-transition-pseudo-elements②">setup transition pseudo-elements</a> and <a
                data-link-type="dfn" href="#update-pseudo-element-styles"
                id="ref-for-update-pseudo-element-styles">update pseudo-element styles</a>.</p>
        <h4 class="heading settled" data-level="3.2.6" id="::view-transition-new"><span class="secno">3.2.6.
            </span><span class="content">View Transition New State Image: the <a class="css" data-link-type="maybe"
                    href="#selectordef-view-transition-new"
                    id="ref-for-selectordef-view-transition-new②">::view-transition-new()</a> pseudo-element</span><a
                class="self-link" href="#::view-transition-new"></a></h4>
        <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export
                id="selectordef-view-transition-new">::view-transition-new()</dfn> <a data-link-type="dfn"
                href="https://www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element⑨">pseudo-element</a>
            (like the analogous <a class="css" data-link-type="maybe" href="#selectordef-view-transition-old"
                id="ref-for-selectordef-view-transition-old④">::view-transition-old()</a> pseudo-element)
            is an empty <a data-link-type="dfn" href="#named-view-transition-pseudo-elements"
                id="ref-for-named-view-transition-pseudo-elements⑥">named view transition pseudo-element</a> that
            represents a visual snapshot of the “new” state as a <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-3/#replaced-element" id="ref-for-replaced-element①">replaced
                element</a>;
            it is omitted if there’s no “new” state to represent.
            Each <a class="css" data-link-type="maybe" href="#selectordef-view-transition-new"
                id="ref-for-selectordef-view-transition-new③">::view-transition-new()</a> pseudo-element is a <a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-child"
                id="ref-for-concept-tree-child⑤">child</a> of the corresponding <a class="css" data-link-type="maybe"
                href="#selectordef-view-transition-image-pair"
                id="ref-for-selectordef-view-transition-image-pair④">::view-transition-image-pair()</a> pseudo-element.
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> The content and <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-images-3/#natural-dimensions" id="ref-for-natural-dimensions①">natural
                dimensions</a> of the image are captured in <a data-link-type="dfn" href="#capture-the-image"
                id="ref-for-capture-the-image②">capture the image</a>,
            then set and updated in <a data-link-type="dfn" href="#setup-transition-pseudo-elements"
                id="ref-for-setup-transition-pseudo-elements③">setup transition pseudo-elements</a> and <a
                data-link-type="dfn" href="#update-pseudo-element-styles"
                id="ref-for-update-pseudo-element-styles①">update pseudo-element styles</a>.</p>
        <h2 class="heading settled" data-level="4" id="view-transition-rendering"><span class="secno">4. </span><span
                class="content">View Transition Layout</span><a class="self-link" href="#view-transition-rendering"></a>
        </h2>
        <p>The <a data-link-type="dfn" href="#view-transition-pseudo-elements"
                id="ref-for-view-transition-pseudo-elements④">view transition pseudo-elements</a> are styled, laid out,
            and rendered like normal elements,
            except that they originate in the <a data-link-type="dfn" href="#snapshot-containing-block"
                id="ref-for-snapshot-containing-block①">snapshot containing block</a> rather than the <a
                data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#initial-containing-block"
                id="ref-for-initial-containing-block">initial containing block</a> and are painted in the <a
                data-link-type="dfn" href="#view-transition-layer" id="ref-for-view-transition-layer">view transition
                layer</a> above the rest of the document.</p>
        <h3 class="heading settled" data-level="4.1" id="snapshot-containing-block-concept"><span class="secno">4.1.
            </span><span class="content">The Snapshot Containing Block</span><a class="self-link"
                href="#snapshot-containing-block-concept"></a></h3>
        <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="snapshot-containing-block">snapshot
                containing block</dfn> is a rectangle
            that covers all areas of the window that could potentially display page content
            (and is therefore consistent regardless of root scrollbars or <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-viewport/#interactive-widget"
                id="ref-for-interactive-widget">interactive widgets</a>).
            This makes it likely to be consistent for the <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element③">document
                element</a>'s <a data-link-type="dfn" href="#captured-element-old-image"
                id="ref-for-captured-element-old-image">old image</a> and <a data-link-type="dfn"
                href="#captured-element-new-element" id="ref-for-captured-element-new-element">new element</a>.</p>
        <figure>
            <img alt="A diagram of a phone screen, including a top status bar, a browser URL bar, web-content area with a floating scrollbar, a virtual keyboard, and a bottom bar with an OS back button"
                height="335" src="https://www.w3.org/TR/css-view-transitions-1/diagrams/phone-browser.svg" width="200">
            <img alt="The previous diagram, but highlights the area that’s the &apos;snapshot containing block&apos;, which includes everything except the top status bar and the bottom bar with the OS back button"
                height="335" src="https://www.w3.org/TR/css-view-transitions-1/diagrams/phone-browser-snapshot-root.svg"
                width="200">
            <figcaption> An example of the <a data-link-type="dfn" href="#snapshot-containing-block"
                    id="ref-for-snapshot-containing-block②">snapshot containing block</a> on a mobile OS.
                The snapshot includes the URL bar, as this can be scrolled away.
                The keyboard is included as this appears and disappears.
                The top and bottom bars are part of the OS rather than the browser, so they’re not included in the
                snapshot containing block. </figcaption>
        </figure>
        <figure>
            <img alt="A diagram of a desktop browser window, including a tab bar, a URL bar, and a web-content area featuring both horizontal and vertical scrollbars"
                height="79" src="https://www.w3.org/TR/css-view-transitions-1/diagrams/desktop-browser.svg"
                style="height:auto; width: 600px" width="132"> <img
                alt="The previous diagram, but highlights the area that’s the &apos;snapshot containing block&apos;, which includes the web content area and the scrollbars"
                height="79"
                src="https://www.w3.org/TR/css-view-transitions-1/diagrams/desktop-browser-snapshot-root.svg"
                style="height:auto; width: 600px" width="132">
            <figcaption> An example of the <a data-link-type="dfn" href="#snapshot-containing-block"
                    id="ref-for-snapshot-containing-block③">snapshot containing block</a> on a desktop OS.
                This includes the scrollbars, but does not include the URL bar, as web content never appears in that
                area. </figcaption>
        </figure>
        <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="snapshot-containing-block-origin">snapshot
                containing block origin</dfn> refers to the top-left corner of the <a data-link-type="dfn"
                href="#snapshot-containing-block" id="ref-for-snapshot-containing-block④">snapshot containing block</a>.
        </p>
        <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="snapshot-containing-block-size">snapshot
                containing block size</dfn> refers to the width and height of the <a data-link-type="dfn"
                href="#snapshot-containing-block" id="ref-for-snapshot-containing-block⑤">snapshot containing block</a>
            as a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuple</a> of two
            numbers.</p>
        <p>The <a data-link-type="dfn" href="#snapshot-containing-block"
                id="ref-for-snapshot-containing-block⑥">snapshot containing block</a> is considered to be an <a
                data-link-type="dfn" href="https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block"
                id="ref-for-absolute-positioning-containing-block">absolute positioning containing block</a> and a <a
                data-link-type="dfn" href="https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block"
                id="ref-for-fixed-positioning-containing-block">fixed positioning containing block</a> for <a
                class="css" data-link-type="maybe" href="#selectordef-view-transition"
                id="ref-for-selectordef-view-transition④">::view-transition</a> and its descendants.</p>
        <h3 class="heading settled" data-level="4.2" id="view-transition-stacking-layer"><span class="secno">4.2.
            </span><span class="content">View Transition Painting Order</span><a class="self-link"
                href="#view-transition-stacking-layer"></a></h3>
        <p>This specification introduces a new stacking layer, the <a data-link-type="dfn" href="#view-transition-layer"
                id="ref-for-view-transition-layer①">view transition layer</a>,
            to the end of the painting order established in <a href="https://www.w3.org/TR/CSS22/zindex.html">CSS2§E
                Elaborate Description of Stacking Contexts</a>. <a data-link-type="biblio" href="#biblio-css2"
                title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a></p>
        <p>The <a class="css" data-link-type="maybe" href="#selectordef-view-transition"
                id="ref-for-selectordef-view-transition⑤">::view-transition</a> pseudo-element generates a new stacking
            context,
            called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="view-transition-layer">view
                transition layer</dfn>,
            which paints after all other content of the document
            (including any content rendered in the <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-position-4/#document-top-layer" id="ref-for-document-top-layer">top
                layer</a>),
            after any filters and effects that are applied to such content.
            (It is not subject to such filters or effects,
            except insofar as they affect the rendered contents
            of the <a class="css" data-link-type="maybe" href="#selectordef-view-transition-old"
                id="ref-for-selectordef-view-transition-old⑤">::view-transition-old()</a> and <a class="css"
                data-link-type="maybe" href="#selectordef-view-transition-new"
                id="ref-for-selectordef-view-transition-new④">::view-transition-new()</a> pseudo-elements.)</p>
        <p class="note" role="note"><span class="marker">Note:</span> The intent of the feature is to be able to capture
            the contents of the page, which includes the top layer elements.
            In order to accomplish that, the <a data-link-type="dfn" href="#view-transition-layer"
                id="ref-for-view-transition-layer②">view transition layer</a> cannot be a part of the captured stacking
            contexts,
            since that results in a circular dependency.
            Therefore, the <span id="ref-for-view-transition-layer③">view transition layer</span> is a sibling of all
            other content.</p>
        <p>When a <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>'s
            <a data-link-type="dfn" href="#document-active-view-transition"
                id="ref-for-document-active-view-transition">active view transition</a>'s <a data-link-type="dfn"
                href="#viewtransition-phase" id="ref-for-viewtransition-phase">phase</a> is "<code>animating</code>",
            the boxes generated by any element in that <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>
            with <a data-link-type="dfn" href="#captured-in-a-view-transition"
                id="ref-for-captured-in-a-view-transition②">captured in a view transition</a> are <a
                data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#invisible"
                id="ref-for-invisible">invisible</a>.
        </p>
        <h2 class="heading settled" data-level="5" id="ua-styles"><span class="secno">5. </span><span
                class="content">User Agent Stylesheet</span><a class="self-link" href="#ua-styles"></a></h2>
        <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="global-view-transition-user-agent-style-sheet">global view transition user agent style sheet</dfn>
            is
            a <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#cascade-origin-ua"
                id="ref-for-cascade-origin-ua">user-agent origin</a> style sheet containing the following rules:</p>
        <pre class="language-css highlight">:root <c- p>{</c->
	<c- k>view-transition-name</c-><c- p>:</c-> root<c- p>;</c->
<c- p>}</c->

:root::view-transition <c- p>{</c->
	<c- k>position</c-><c- p>:</c-> fixed<c- p>;</c->
	<c- k>inset</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c->
<c- p>}</c->

:root:<c- nf>:view-transition-group</c-><c- p>(</c->*<c- p>)</c-> <c- p>{</c->
	<c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
	<c- k>top</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c->
	<c- k>left</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c->

	<c- k>animation-duration</c-><c- p>:</c-> <c- m>0.25</c-><c- k>s</c-><c- p>;</c->
	<c- k>animation-fill-mode</c-><c- p>:</c-> both<c- p>;</c->
<c- p>}</c->

:root:<c- nf>:view-transition-image-pair</c-><c- p>(</c->*<c- p>)</c-> <c- p>{</c->
	<c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
	<c- k>inset</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c->

	<c- k>animation-duration</c-><c- p>:</c-> inherit<c- p>;</c->
	<c- k>animation-fill-mode</c-><c- p>:</c-> inherit<c- p>;</c->
<c- p>}</c->

:root:<c- nf>:view-transition-old</c-><c- p>(</c->*<c- p>),</c->
:root:<c- nf>:view-transition-new</c-><c- p>(</c->*<c- p>)</c-> <c- p>{</c->
	<c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
	<c- k>inset-block-start</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c->
	<c- k>inline-size</c-><c- p>:</c-> <c- m>100</c-><c- k>%</c-><c- p>;</c->
	<c- k>block-size</c-><c- p>:</c-> auto<c- p>;</c->

	<c- k>animation-duration</c-><c- p>:</c-> inherit<c- p>;</c->
	<c- k>animation-fill-mode</c-><c- p>:</c-> inherit<c- p>;</c->
<c- p>}</c->

<c- c>/* Default cross-fade transition */</c->
<c- n>@keyframes</c-> -ua-view-transition-fade-out <c- p>{</c->
	to <c- p>{</c-> <c- k>opacity</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->
<c- n>@keyframes</c-> -ua-view-transition-fade-in <c- p>{</c->
	from <c- p>{</c-> <c- k>opacity</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->

<c- c>/* Keyframes for blending when there are 2 images */</c->
<c- n>@keyframes</c-> -ua-mix-blend-mode-plus-lighter <c- p>{</c->
	from <c- p>{</c-> <c- k>mix-blend-mode</c-><c- p>:</c-> plus-lighter <c- p>}</c->
	to <c- p>{</c-> <c- k>mix-blend-mode</c-><c- p>:</c-> plus-lighter <c- p>}</c->
<c- p>}</c->
</pre>
        <details class="note">
            <summary>Explanatory Summary</summary>
            This UA style sheet does several things:
            <ul>
                <li data-md>
                    <p>Lay out <a class="css" data-link-type="maybe" href="#selectordef-view-transition"
                            id="ref-for-selectordef-view-transition⑥">::view-transition</a> to cover the entire <a
                            data-link-type="dfn" href="#snapshot-containing-block"
                            id="ref-for-snapshot-containing-block⑦">snapshot containing block</a> so that each <span
                            class="css">:view-transition-group()</span> child can lay out relative to it.</p>
                <li data-md>
                    <p>Give the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#root-element"
                            id="ref-for-root-element①">root element</a> a default <a data-link-type="dfn"
                            href="#view-transition-name" id="ref-for-view-transition-name⑨">view transition name</a>,
                        to allow it to be independently selected.</p>
                <li data-md>
                    <p>Reduce layout interference from the <a class="css" data-link-type="maybe"
                            href="#selectordef-view-transition-image-pair"
                            id="ref-for-selectordef-view-transition-image-pair⑤">::view-transition-image-pair()</a>
                        pseudo-element
                        so that authors can essentially treat <a class="css" data-link-type="maybe"
                            href="#selectordef-view-transition-old"
                            id="ref-for-selectordef-view-transition-old⑥">::view-transition-old()</a> and <a class="css"
                            data-link-type="maybe" href="#selectordef-view-transition-new"
                            id="ref-for-selectordef-view-transition-new⑤">::view-transition-new()</a> as direct children
                        of <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group"
                            id="ref-for-selectordef-view-transition-group①②">::view-transition-group()</a> for most
                        purposes.</p>
                <li data-md>
                    <p>Inherit animation timing through the tree so that by default,
                        the animation timing set on a <a class="css" data-link-type="maybe"
                            href="#selectordef-view-transition-group"
                            id="ref-for-selectordef-view-transition-group①③">::view-transition-group()</a> will dictate
                        the animation timing of all its descendants.</p>
                <li data-md>
                    <p>Style the element captures <a class="css" data-link-type="maybe"
                            href="#selectordef-view-transition-old"
                            id="ref-for-selectordef-view-transition-old⑦">::view-transition-old()</a> and <a class="css"
                            data-link-type="maybe" href="#selectordef-view-transition-new"
                            id="ref-for-selectordef-view-transition-new⑥">::view-transition-new()</a> to match the size
                        and position set on <a class="css" data-link-type="maybe"
                            href="#selectordef-view-transition-group"
                            id="ref-for-selectordef-view-transition-group①④">::view-transition-group()</a> (insofar as
                        possible without breaking their aspect ratios)
                        as it interpolates between them.
                        Since the sizing of these elements depends on the mapping between logical and physical
                        coordinates, <a data-link-type="dfn" href="#document-dynamic-view-transition-style-sheet"
                            id="ref-for-document-dynamic-view-transition-style-sheet②">dynamic view transition style
                            sheet</a> copies relevant styles from the DOM elements.</p>
                <li data-md>
                    <p>Set up a default quarter-second cross-fade animation
                        for each <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group"
                            id="ref-for-selectordef-view-transition-group①⑤">::view-transition-group()</a>.</p>
            </ul>
        </details>
        <p>Additional styles are dynamically added to the <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-cascade-5/#cascade-origin-ua" id="ref-for-cascade-origin-ua①">user-agent
                origin</a> during a <a data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions⑨">view
                transition</a> through the <a data-link-type="dfn" href="#document-dynamic-view-transition-style-sheet"
                id="ref-for-document-dynamic-view-transition-style-sheet③">dynamic view transition style sheet</a>.</p>
        <h2 class="heading settled" data-level="6" id="api"><span class="secno">6. </span><span
                class="content">API</span><a class="self-link" href="#api"></a></h2>
        <h3 class="heading settled" data-level="6.1" id="additions-to-document-api"><span class="secno">6.1.
            </span><span class="content">Additions to <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②">Document</a></code></span><a
                class="self-link" href="#additions-to-document-api"></a></h3>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③"><c- g>Document</c-></a> {
  <a data-link-type="idl-name" href="#viewtransition" id="ref-for-viewtransition①"><c- n>ViewTransition</c-></a> <a class="idl-code" data-link-type="method" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition②"><c- g>startViewTransition</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback⑤"><c- n>UpdateCallback</c-></a>? <dfn class="idl-code" data-dfn-for="Document/startViewTransition(updateCallback), Document/startViewTransition()" data-dfn-type="argument" data-export id="dom-document-startviewtransition-updatecallback-updatecallback"><code><c- g>updateCallback</c-></code><a class="self-link" href="#dom-document-startviewtransition-updatecallback-updatecallback"></a></dfn> = <c- b>null</c->);
};

<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-updatecallback"><code><c- g>UpdateCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a>> ();
</pre>
        <dl class="domintro non-normative">
            <dt data-md>
                <code><code class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition②">viewTransition</a></code>
                = <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④">document</a></code>.<code
                    class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition③">startViewTransition</a></code>(<code
                    class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback⑥">updateCallback</a></code>)</code>
            <dd data-md>
                <p>Starts a new <a data-link-type="dfn" href="#view-transitions" id="ref-for-view-transitions①⓪">view
                        transition</a> (canceling the <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑤">document</a></code>’s
                    existing <a data-link-type="dfn" href="#document-active-view-transition"
                        id="ref-for-document-active-view-transition①">active view transition</a>, if any).</p>
                <p><code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback⑦">updateCallback</a></code>
                    is called asynchronously, once the current state of the document is captured.
                    Then, when the promise returned by <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback⑧">updateCallback</a></code>
                    fulfills,
                    the new state of the document is captured
                    and the transition is initiated.</p>
                <p>Note that <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback⑨">updateCallback</a></code>
                    is <em>always</em> called,
                    even if the transition cannot happen
                    (e.g. due to duplicate <code>view-transition-name</code> values).
                    The transition is an enhancement around the state change, so a failure to create a transition never
                    prevents the state change.
                    See <a href="#transitions-as-enhancements">§ 1.4 Transitions as an enhancement</a> for more details
                    on this principle.</p>
                <p>If the promise returned by <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①⓪">updateCallback</a></code>
                    rejects, the transition is skipped.</p>
        </dl>
        <h4 class="heading settled" data-level="6.1.1" id="ViewTransition-prepare"><span class="secno">6.1.1.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition④">startViewTransition()</a></code>
                Method Steps</span><a class="self-link" href="#ViewTransition-prepare"></a></h4>
        <div class="algorithm" data-algorithm="startViewTransition(updateCallback)" data-algorithm-for="Document">
            The <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#method-steps"
                id="ref-for-method-steps">method steps</a> for <dfn class="dfn-paneled idl-code" data-dfn-for="Document"
                data-dfn-type="method" data-export data-lt="startViewTransition(updateCallback)|startViewTransition()"
                id="dom-document-startviewtransition"><code>startViewTransition(<var>updateCallback</var>)</code></dfn>
            are as follows:
            <ol>
                <li data-md>
                    <p>Let <var>transition</var> be a new <code
                            class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition③">ViewTransition</a></code>
                        object in <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this">this’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm">relevant Realm</a>.</p>
                <li data-md>
                    <p>Set <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-update-callback"
                            id="ref-for-viewtransition-update-callback">update callback</a> to
                        <var>updateCallback</var>.
                    </p>
                <li data-md>
                    <p>Let <var>document</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①">this’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window">associated document</a>.</p>
                <li data-md>
                    <p>If <var>document</var>’s <a data-link-type="dfn" href="#document-active-view-transition"
                            id="ref-for-document-active-view-transition②">active view transition</a> is not null,
                        then <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition">skip that view transition</a> with an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>
                        in <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②">this’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm①">relevant Realm</a>.
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> This can result in two asynchronous <a
                            data-link-type="dfn" href="#viewtransition-update-callback"
                            id="ref-for-viewtransition-update-callback①">update callbacks</a> running concurrently
                        (and therefore possibly out of sequence):
                        one for the <var>document</var>’s current <a data-link-type="dfn"
                            href="#document-active-view-transition" id="ref-for-document-active-view-transition③">active
                            view transition</a>, and another for this <var>transition</var>.
                        As per the <a href="#transitions-as-enhancements">design of this feature</a>, it’s assumed that
                        the developer is using another feature or framework to correctly schedule these DOM changes.</p>
                <li data-md>
                    <p>Set <var>document</var>’s <a data-link-type="dfn" href="#document-active-view-transition"
                            id="ref-for-document-active-view-transition④">active view transition</a> to
                        <var>transition</var>.
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn"
                            href="#view-transitions" id="ref-for-view-transitions①①">view transition</a> process
                        continues in <a data-link-type="dfn" href="#setup-view-transition"
                            id="ref-for-setup-view-transition">setup view transition</a>,
                        via <a data-link-type="dfn" href="#perform-pending-transition-operations"
                            id="ref-for-perform-pending-transition-operations">perform pending transition
                            operations</a>.</p>
                <li data-md>
                    <p>Return <var>transition</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="6.2" id="the-domtransition-interface"><span class="secno">6.2.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition④">ViewTransition</a></code>
                interface</span><a class="self-link" href="#the-domtransition-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="viewtransition"><code><c- g>ViewTransition</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ViewTransition" data-dfn-type="attribute" data-export data-readonly data-type="Promise<undefined>" id="dom-viewtransition-updatecallbackdone"><code><c- g>updateCallbackDone</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ViewTransition" data-dfn-type="attribute" data-export data-readonly data-type="Promise<undefined>" id="dom-viewtransition-ready"><code><c- g>ready</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ViewTransition" data-dfn-type="attribute" data-export data-readonly data-type="Promise<undefined>" id="dom-viewtransition-finished"><code><c- g>finished</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-viewtransition-skiptransition" id="ref-for-dom-viewtransition-skiptransition①"><c- g>skipTransition</c-></a>();
};
</pre>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition⑤">ViewTransition</a></code>
            interface represents and controls a single same-document <a data-link-type="dfn" href="#view-transitions"
                id="ref-for-view-transitions①②">view transition</a>,
            i.e. a transition where the starting and ending document are the same,
            possibly with changes to the document’s DOM structure.</p>
        <dl class="domintro non-normative">
            <dt data-md>
                <code><code class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition⑥">viewTransition</a></code>.<code
                    class="idl"><a data-link-type="idl" href="#dom-viewtransition-updatecallbackdone" id="ref-for-dom-viewtransition-updatecallbackdone①">updateCallbackDone</a></code></code>
            <dd data-md>
                <p>A promise that fulfills when the promise returned by <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①①">updateCallback</a></code>
                    fulfills, or rejects when it rejects.</p>
                <p class="note" role="note"><span class="marker">Note:</span> The View Transition API wraps a DOM change
                    and creates a visual transition.
                    However, sometimes you don’t care about the success/failure of the transition animation,
                    you just want to know if and when the DOM change happens. <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-updatecallbackdone" id="ref-for-dom-viewtransition-updatecallbackdone②">updateCallbackDone</a></code>
                    is for that use-case.)</p>
            <dt data-md>
                <code><code class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition⑦">viewTransition</a></code>.<code
                    class="idl"><a data-link-type="idl" href="#dom-viewtransition-ready" id="ref-for-dom-viewtransition-ready①">ready</a></code></code>
            <dd data-md>
                <p>A promise that fulfills once the pseudo-elements for the transition are created,
                    and the animation is about to start.</p>
                <p>It rejects if the transition cannot begin.
                    This can be due to misconfiguration, such as duplicate 'view-transition-name’s,
                    or if <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-updatecallbackdone" id="ref-for-dom-viewtransition-updatecallbackdone③">updateCallbackDone</a></code>
                    returns a rejected promise.</p>
                <p>The point that <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-ready" id="ref-for-dom-viewtransition-ready②">ready</a></code>
                    fulfills
                    is the ideal opportunity to animate the <a data-link-type="dfn"
                        href="#view-transition-pseudo-elements" id="ref-for-view-transition-pseudo-elements⑤">view
                        transition pseudo-elements</a> with the <a
                        href="https://www.w3.org/TR/web-animations-1/#extensions-to-the-element-interface">Web Animation
                        API</a>.</p>
            <dt data-md>
                <code><code class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition⑧">viewTransition</a></code>.<code
                    class="idl"><a data-link-type="idl" href="#dom-viewtransition-finished" id="ref-for-dom-viewtransition-finished①">finished</a></code></code>
            <dd data-md>
                <p>A promise that fulfills once the end state is fully visible and interactive to the user.</p>
                <p>It only rejects if <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①②">updateCallback</a></code>
                    returns a rejected promise,
                    as this indicates the end state wasn’t created.</p>
                <p>Otherwise, if a transition fails to begin,
                    or is skipped (by <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-skiptransition" id="ref-for-dom-viewtransition-skiptransition②">skipTransition()</a></code>),
                    the end state is still reached,
                    so <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-finished" id="ref-for-dom-viewtransition-finished②">finished</a></code>
                    fulfills.</p>
            <dt data-md>
                <code><code class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition⑨">viewTransition</a></code>.<code
                    class="idl"><a data-link-type="idl" href="#dom-viewtransition-skiptransition" id="ref-for-dom-viewtransition-skiptransition③">skipTransition</a></code>()</code>
            <dd data-md>
                <p>Immediately finish the transition, or prevent it starting.</p>
                <p>This never prevents <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①③">updateCallback</a></code>
                    being called,
                    as the DOM change is independent of the transition.
                    See <a href="#transitions-as-enhancements">§ 1.4 Transitions as an enhancement</a> for more details
                    on this principle.</p>
                <p>If this is called before <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-ready" id="ref-for-dom-viewtransition-ready③">ready</a></code>
                    resolves, <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-ready" id="ref-for-dom-viewtransition-ready④">ready</a></code>
                    will reject.</p>
                <p>If <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-finished" id="ref-for-dom-viewtransition-finished③">finished</a></code>
                    hasn’t resolved, it will fulfill or reject along with <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-updatecallbackdone" id="ref-for-dom-viewtransition-updatecallbackdone④">updateCallbackDone</a></code>.
                </p>
        </dl>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①⓪">ViewTransition</a></code>
            has the following:</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-named-elements">named elements</dfn>
            <dd data-md>
                <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                        id="ref-for-ordered-map">map</a>, whose keys are <a data-link-type="dfn"
                        href="#view-transition-name" id="ref-for-view-transition-name①⓪">view transition names</a> and
                    whose values are <a data-link-type="dfn" href="#captured-element"
                        id="ref-for-captured-element">captured elements</a>.
                    Initially a new <span id="ref-for-ordered-map①">map</span>.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-phase">phase</dfn>
            <dd data-md>
                <p>One of the following ordered phases:</p>
                <ol>
                    <li data-md>
                        <p>"<code>pending-capture</code>".</p>
                    <li data-md>
                        <p>"<code>update-callback-called</code>".</p>
                    <li data-md>
                        <p>"<code>animating</code>".</p>
                    <li data-md>
                        <p>"<code>done</code>".</p>
                </ol>
                <p class="note" role="note"><span class="marker">Note:</span> For the most part, a developer using this
                    API does not need to worry about the different phases, since they progress automatically.
                    It is, however, important to understand what steps happen in each of the phases: when the snapshots
                    are captured, when pseudo-element DOM is created, etc.
                    The description of the phases below tries to be as precise as possible, with an intent to provide an
                    unambiguous set of steps for implementors to follow in order to produce a spec-compliant
                    implementation.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-update-callback">update callback</dfn>
            <dd data-md>
                <p>an <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①④">UpdateCallback</a></code>
                    or null. Initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-ready-promise">ready promise</dfn>
            <dd data-md>
                <p>a <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④">Promise</a></code>.
                    Initially <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                        id="ref-for-a-new-promise">a new promise</a> in <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this’s</a> <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm②">relevant Realm</a>.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-update-callback-done-promise">update callback done promise</dfn>
            <dd data-md>
                <p>a <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤">Promise</a></code>.
                    Initially <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                        id="ref-for-a-new-promise①">a new promise</a> in <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this’s</a> <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm③">relevant Realm</a>.</p>
                <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn"
                        href="#viewtransition-ready-promise" id="ref-for-viewtransition-ready-promise">ready promise</a>
                    and <a data-link-type="dfn" href="#viewtransition-update-callback-done-promise"
                        id="ref-for-viewtransition-update-callback-done-promise">update callback done promise</a> are
                    immediately created,
                    so rejections will cause <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" id="ref-for-event-unhandledrejection">unhandledrejection</a></code>s
                    unless they’re <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#mark-a-promise-as-handled"
                        id="ref-for-mark-a-promise-as-handled">handled</a>,
                    even if the getters such as <code
                        class="idl"><a data-link-type="idl" href="#dom-viewtransition-updatecallbackdone" id="ref-for-dom-viewtransition-updatecallbackdone⑤">updateCallbackDone</a></code>
                    are not accessed.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-finished-promise">finished promise</dfn>
            <dd data-md>
                <p>a <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥">Promise</a></code>.
                    Initially <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                        id="ref-for-a-new-promise②">a new promise</a> in <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this’s</a> <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm④">relevant Realm</a>, <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#mark-a-promise-as-handled"
                        id="ref-for-mark-a-promise-as-handled①">marked as handled</a>.</p>
                <p class="note" role="note"><span class="marker">Note:</span> This is <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#mark-a-promise-as-handled"
                        id="ref-for-mark-a-promise-as-handled②">marked as handled</a> to prevent duplicate <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" id="ref-for-event-unhandledrejection①">unhandledrejection</a></code>s,
                    as this promise only ever rejects along with the <a data-link-type="dfn"
                        href="#viewtransition-update-callback-done-promise"
                        id="ref-for-viewtransition-update-callback-done-promise①">update callback done promise</a>.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-transition-root-pseudo-element">transition root pseudo-element</dfn>
            <dd data-md>
                <p>a <a class="css" data-link-type="maybe" href="#selectordef-view-transition"
                        id="ref-for-selectordef-view-transition⑦">::view-transition</a>.
                    Initially a new <span class="css"
                        id="ref-for-selectordef-view-transition⑧">::view-transition</span>.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-initial-snapshot-containing-block-size">initial snapshot containing block
                    size</dfn>
            <dd data-md>
                <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple①">tuple</a>
                    of two numbers (width and height), or null.
                    Initially null.</p>
                <p class="note" role="note"><span class="marker">Note:</span> This is used to detect changes in the <a
                        data-link-type="dfn" href="#snapshot-containing-block-size"
                        id="ref-for-snapshot-containing-block-size">snapshot containing block size</a>,
                    which causes the transition to <a data-link-type="dfn" href="#skip-the-view-transition"
                        id="ref-for-skip-the-view-transition①">skip</a>. <a
                        href="https://github.com/w3c/csswg-drafts/issues/8045">Discussion of this behavior</a>.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport
                    id="viewtransition-process-old-state-captured">process old state captured</dfn>
            <dd data-md>
                <p>An algorithm accepting nothing, or null.
                    Initially null.</p>
                <p class="note" role="note"><span class="marker">Note:</span> this is used for cross-document view
                    transitions.</p>
        </dl>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①①">ViewTransition</a></code>
            must never have both an <a data-link-type="dfn" href="#viewtransition-update-callback"
                id="ref-for-viewtransition-update-callback②">update callback</a> and a <a data-link-type="dfn"
                href="#viewtransition-process-old-state-captured"
                id="ref-for-viewtransition-process-old-state-captured">process old state captured</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn"
                href="#viewtransition-update-callback" id="ref-for-viewtransition-update-callback③">update callback</a>
            is optionally set for same-document view transitions,
            and <a data-link-type="dfn" href="#viewtransition-process-old-state-captured"
                id="ref-for-viewtransition-process-old-state-captured①">process old state captured</a> is set for
            cross-document view transitions.</p>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#dom-viewtransition-finished" id="ref-for-dom-viewtransition-finished④">finished</a></code>
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#getter-steps" id="ref-for-getter-steps">getter
                steps</a> are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                id="ref-for-this⑥">this’s</a> <a data-link-type="dfn" href="#viewtransition-finished-promise"
                id="ref-for-viewtransition-finished-promise">finished promise</a>.
        </p>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#dom-viewtransition-ready" id="ref-for-dom-viewtransition-ready⑤">ready</a></code>
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#getter-steps"
                id="ref-for-getter-steps①">getter steps</a> are to return <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this’s</a> <a data-link-type="dfn"
                href="#viewtransition-ready-promise" id="ref-for-viewtransition-ready-promise①">ready promise</a>.
        </p>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#dom-viewtransition-updatecallbackdone" id="ref-for-dom-viewtransition-updatecallbackdone⑥">updateCallbackDone</a></code>
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#getter-steps"
                id="ref-for-getter-steps②">getter steps</a> are to return <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this’s</a> <a data-link-type="dfn"
                href="#viewtransition-update-callback-done-promise"
                id="ref-for-viewtransition-update-callback-done-promise②">update callback done promise</a>.
        </p>
        <h4 class="heading settled" data-level="6.2.1" id="ViewTransition-skipTransition"><span class="secno">6.2.1.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-viewtransition-skiptransition" id="ref-for-dom-viewtransition-skiptransition④">skipTransition()</a></code>
                Method Steps</span><a class="self-link" href="#ViewTransition-skipTransition"></a></h4>
        <div class="algorithm" data-algorithm="skipTransition()" data-algorithm-for="ViewTransition">
            The <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#method-steps"
                id="ref-for-method-steps①">method steps</a> for <dfn class="dfn-paneled idl-code"
                data-dfn-for="ViewTransition" data-dfn-type="method" data-export
                id="dom-viewtransition-skiptransition"><code>skipTransition()</code></dfn> are:
            <ol>
                <li data-md>
                    <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨">this</a>'s <a data-link-type="dfn" href="#viewtransition-phase"
                            id="ref-for-viewtransition-phase①">phase</a> is not "<code>done</code>",
                        then <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition②">skip the view transition</a> for <span
                            id="ref-for-this①⓪">this</span> with an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror①">AbortError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.
                    </p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="7" id="algorithms"><span class="secno">7. </span><span
                class="content">Algorithms</span><a class="self-link" href="#algorithms"></a></h2>
        <h3 class="heading settled" data-level="7.1" id="concepts"><span class="secno">7.1. </span><span
                class="content">Data Structures</span><a class="self-link" href="#concepts"></a></h3>
        <h4 class="heading settled" data-level="7.1.1" id="additions-to-document"><span class="secno">7.1.1.
            </span><span class="content">Additions to <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑥">Document</a></code></span><a
                class="self-link" href="#additions-to-document"></a></h4>
        <p>A <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑦">Document</a></code>
            additionally has:</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="document" data-dfn-type="dfn" data-noexport
                    id="document-active-view-transition">active view transition</dfn>
            <dd data-md>
                <p>a <code
                        class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①②">ViewTransition</a></code>
                    or null. Initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="document" data-dfn-type="dfn" data-noexport
                    id="document-rendering-suppression-for-view-transitions">rendering suppression for view
                    transitions</dfn>
            <dd data-md>
                <p>a boolean. Initially false.</p>
                <p>While a <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑧">Document</a></code>’s
                    <a data-link-type="dfn" href="#document-rendering-suppression-for-view-transitions"
                        id="ref-for-document-rendering-suppression-for-view-transitions">rendering suppression for view
                        transitions</a> is true,
                    all pointer hit testing must target its <a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element④">document
                        element</a>,
                    ignoring all other <a data-link-type="dfn" href="https://drafts.csswg.org/css2/#element"
                        id="ref-for-element④">elements</a>.
                </p>
                <p class="note" role="note"><span class="marker">Note:</span> This does not affect pointers that are <a
                        data-link-type="dfn" href="https://w3c.github.io/pointerevents/#dfn-pointer-capture"
                        id="ref-for-dfn-pointer-capture">captured</a>.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="document" data-dfn-type="dfn" data-noexport
                    id="document-dynamic-view-transition-style-sheet">dynamic view transition style sheet</dfn>
            <dd data-md>
                <p>a <a data-link-type="dfn" href="https://www.w3.org/TR/css-2022/#style-sheet"
                        id="ref-for-style-sheet">style sheet</a>.
                    Initially a new <span id="ref-for-style-sheet①">style sheet</span> in the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-cascade-5/#cascade-origin-ua"
                        id="ref-for-cascade-origin-ua②">user-agent origin</a>, ordered after the <a data-link-type="dfn"
                        href="#global-view-transition-user-agent-style-sheet"
                        id="ref-for-global-view-transition-user-agent-style-sheet">global view transition user agent
                        style sheet</a>.</p>
                <p class="note" role="note"><span class="marker">Note:</span> This is used to hold dynamic styles
                    relating to transitions.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="document" data-dfn-type="dfn" data-noexport
                    id="document-show-view-transition-tree">show view transition tree</dfn>
            <dd data-md>
                <p>A boolean. Initially false.</p>
                <p>When this is true, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-this①①">this</a>'s <a data-link-type="dfn" href="#document-active-view-transition"
                        id="ref-for-document-active-view-transition⑤">active view transition</a>'s <a
                        data-link-type="dfn" href="#viewtransition-transition-root-pseudo-element"
                        id="ref-for-viewtransition-transition-root-pseudo-element">transition root pseudo-element</a>
                    renders as a child of <span id="ref-for-this①②">this</span>'s <a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element⑤">document
                        element</a>,
                    with <span id="ref-for-this①③">this</span>'s <span id="ref-for-document-element⑥">document
                        element</span> is its <a data-link-type="dfn"
                        href="https://www.w3.org/TR/selectors-4/#originating-element"
                        id="ref-for-originating-element②">originating element</a>.</p>
                <p class="note" role="note"><span class="marker">Note:</span> The position of the <a
                        data-link-type="dfn" href="#viewtransition-transition-root-pseudo-element"
                        id="ref-for-viewtransition-transition-root-pseudo-element①">transition root pseudo-element</a>
                    within the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#document-element"
                        id="ref-for-document-element⑦">document element</a> does not matter, as the <span
                        id="ref-for-viewtransition-transition-root-pseudo-element②">transition root
                        pseudo-element</span>'s <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-display-3/#containing-block"
                        id="ref-for-containing-block①">containing block</a> is the <a data-link-type="dfn"
                        href="#snapshot-containing-block" id="ref-for-snapshot-containing-block⑧">snapshot containing
                        block</a>.</p>
        </dl>
        <h4 class="heading settled" data-level="7.1.2" id="elements-concept"><span class="secno">7.1.2. </span><span
                class="content">Additions to Elements</span><a class="self-link" href="#elements-concept"></a></h4>
        <p><a data-link-type="dfn" href="https://drafts.csswg.org/css2/#element" id="ref-for-element⑤">Elements</a> have
            a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="captured-in-a-view-transition">captured in a
                view transition</dfn> boolean, initially false.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This spec uses CSS’s definition of <a
                data-link-type="dfn" href="https://drafts.csswg.org/css2/#element" id="ref-for-element⑥">element</a>,
            which includes <a data-link-type="dfn" href="https://www.w3.org/TR/CSS21/selector.html#x22"
                id="ref-for-x22①">pseudo-elements</a>.</p>
        <h4 class="heading settled" data-level="7.1.3" id="captured-elements"><span class="secno">7.1.3. </span><span
                class="content"><a data-link-type="dfn" href="#captured-element" id="ref-for-captured-element①">Captured
                    elements</a></span><a class="self-link" href="#captured-elements"></a></h4>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="captured-element">captured element</dfn> is
            a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with
            the following:</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-old-image">old image</dfn>
            <dd data-md>
                <p>an 2D bitmap or null. Initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-old-width">old width</dfn>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-old-height">old height</dfn>
            <dd data-md>
                <p>an <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double">unrestricted double</a></code>,
                    initially zero.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-old-transform">old transform</dfn>
            <dd data-md>
                <p>a <a class="css" data-link-type="type" data-xref-type="css-type"
                        href="https://www.w3.org/TR/css-transforms-2/#typedef-transform-function"
                        id="ref-for-typedef-transform-function">&lt;transform-function></a>, initially the <a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-transforms-1/#identity-transform-function"
                        id="ref-for-identity-transform-function">identity transform function</a>.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-old-writing-mode">old writing-mode</dfn>
            <dd data-md>
                <p>Null or a <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode"
                        id="ref-for-propdef-writing-mode">writing-mode</a>, initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-old-direction">old direction</dfn>
            <dd data-md>
                <p>Null or a <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                        id="ref-for-propdef-direction">direction</a>, initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-old-text-orientation">old text-orientation</dfn>
            <dd data-md>
                <p>Null or a <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation"
                        id="ref-for-propdef-text-orientation">text-orientation</a>, initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-old-mix-blend-mode">old mix-blend-mode</dfn>
            <dd data-md>
                <p>Null or a <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/compositing-1/#propdef-mix-blend-mode"
                        id="ref-for-propdef-mix-blend-mode①">mix-blend-mode</a>, initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-new-element">new element</dfn>
            <dd data-md>
                <p>an <a data-link-type="dfn" href="https://drafts.csswg.org/css2/#element"
                        id="ref-for-element⑦">element</a> or null. Initially null.</p>
        </dl>
        <p>In addition, a <a data-link-type="dfn" href="#captured-element" id="ref-for-captured-element②">captured
                element</a> has the following <dfn class="dfn-paneled" data-dfn-for="captured element"
                data-dfn-type="dfn" data-noexport id="captured-element-style-definitions">style definitions</dfn>:</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-group-keyframes">group keyframes</dfn>
            <dd data-md>
                <p>A <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/css-animations-1/#csskeyframesrule" id="ref-for-csskeyframesrule">CSSKeyframesRule</a></code>
                    or null. Initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-group-animation-name-rule">group animation name rule</dfn>
            <dd data-md>
                <p>A <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule">CSSStyleRule</a></code>
                    or null. Initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-group-styles-rule">group styles rule</dfn>
            <dd data-md>
                <p>A <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule①">CSSStyleRule</a></code>
                    or null. Initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-image-pair-isolation-rule">image pair isolation rule</dfn>
            <dd data-md>
                <p>A <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule②">CSSStyleRule</a></code>
                    or null. Initially null.</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport
                    id="captured-element-image-animation-name-rule">image animation name rule</dfn>
            <dd data-md>
                <p>A <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule③">CSSStyleRule</a></code>
                    or null. Initially null.</p>
        </dl>
        <p class="note" role="note"><span class="marker">Note:</span> These are used to update, and later remove styles
            from a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document①">document</a>'s <a data-link-type="dfn"
                href="#document-dynamic-view-transition-style-sheet"
                id="ref-for-document-dynamic-view-transition-style-sheet④">dynamic view transition style sheet</a>.</p>
        <h3 class="heading settled" data-level="7.2" id="perform-pending-transition-operations-algorithm"><span
                class="secno">7.2. </span><span class="content"><a data-link-type="dfn"
                    href="#perform-pending-transition-operations"
                    id="ref-for-perform-pending-transition-operations①">Perform pending transition
                    operations</a></span><a class="self-link"
                href="#perform-pending-transition-operations-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="perform pending transition operations">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="perform-pending-transition-operations">perform pending transition operations</dfn> given a <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑨">Document</a></code>
            <var>document</var>, perform the following steps:
            <ol>
                <li data-md>
                    <p>If <var>document</var>’s <a data-link-type="dfn" href="#document-active-view-transition"
                            id="ref-for-document-active-view-transition⑥">active view transition</a> is not null, then:
                    </p>
                    <ol>
                        <li data-md>
                            <p>If <var>document</var>’s <a data-link-type="dfn" href="#document-active-view-transition"
                                    id="ref-for-document-active-view-transition⑦">active view transition</a>'s <a
                                    data-link-type="dfn" href="#viewtransition-phase"
                                    id="ref-for-viewtransition-phase②">phase</a> is "<code>pending-capture</code>",
                                then <a data-link-type="dfn" href="#setup-view-transition"
                                    id="ref-for-setup-view-transition①">setup view transition</a> for
                                <var>document</var>’s <span id="ref-for-document-active-view-transition⑧">active view
                                    transition</span>.
                            </p>
                        <li data-md>
                            <p>Otherwise, if <var>document</var>’s <a data-link-type="dfn"
                                    href="#document-active-view-transition"
                                    id="ref-for-document-active-view-transition⑨">active view transition</a>'s <a
                                    data-link-type="dfn" href="#viewtransition-phase"
                                    id="ref-for-viewtransition-phase③">phase</a> is "<code>animating</code>",
                                then <a data-link-type="dfn" href="#handle-transition-frame"
                                    id="ref-for-handle-transition-frame">handle transition frame</a> for
                                <var>document</var>’s <span id="ref-for-document-active-view-transition①⓪">active view
                                    transition</span>.
                            </p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.3" id="setup-view-transition-algorithm"><span class="secno">7.3.
            </span><span class="content"><a data-link-type="dfn" href="#setup-view-transition"
                    id="ref-for-setup-view-transition②">Setup view transition</a></span><a class="self-link"
                href="#setup-view-transition-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="setup view transition">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="setup-view-transition">setup view
                transition</dfn> for a <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①③">ViewTransition</a></code>
            <var>transition</var>,
            perform the following steps:
            <p class="note" role="note"><span class="marker">Note:</span> This algorithm captures the current state of
                the document,
                calls the transition’s <code
                    class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①⑤">UpdateCallback</a></code>,
                then captures the new state of the document.</p>
            <ol>
                <li data-md>
                    <p>Let <var>document</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global①">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window①">associated document</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#capture-the-old-state" id="ref-for-capture-the-old-state">Capture
                            the old state</a> for <var>transition</var>.</p>
                    <p>If failure is returned, then <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition③">skip the view transition</a> for
                        <var>transition</var> with an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>
                        in <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm⑤">relevant Realm</a>,
                        and return.
                    </p>
                <li data-md>
                    <p>If <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-process-old-state-captured"
                            id="ref-for-viewtransition-process-old-state-captured②">process old state captured</a> is
                        not null, then call <span id="ref-for-viewtransition-process-old-state-captured③">process old
                            state captured</span> and return.</p>
                <li data-md>
                    <p>Set <var>document</var>’s <a data-link-type="dfn"
                            href="#document-rendering-suppression-for-view-transitions"
                            id="ref-for-document-rendering-suppression-for-view-transitions①">rendering suppression for
                            view transitions</a> to true.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                            id="ref-for-queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                            id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a>,
                        given <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global②">relevant global object</a>,
                        to execute the following steps:</p>
                    <p class="note" role="note"><span class="marker">Note:</span> A task is queued here because the
                        texture read back in <a data-link-type="dfn" href="#capture-the-image"
                            id="ref-for-capture-the-image③">capturing the image</a> may be async,
                        although the render steps in the HTML spec act as if it’s synchronous.</p>
                    <ol>
                        <li data-md>
                            <p>If <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-phase"
                                    id="ref-for-viewtransition-phase④">phase</a> is "<code>done</code>", then abort
                                these steps.</p>
                            <p class="note" role="note"><span class="marker">Note:</span> This happens if
                                <var>transition</var> was <a data-link-type="dfn" href="#skip-the-view-transition"
                                    id="ref-for-skip-the-view-transition④">skipped</a> before this point.
                                The <span id="ref-for-skip-the-view-transition⑤">skip the view transition</span> steps
                                <a data-link-type="dfn" href="#call-the-update-callback"
                                    id="ref-for-call-the-update-callback">call the update callback</a>,
                                ensuring the <var>transition</var>’s <a data-link-type="dfn"
                                    href="#viewtransition-update-callback"
                                    id="ref-for-viewtransition-update-callback④">update callback</a> is always called.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#call-the-update-callback"
                                    id="ref-for-call-the-update-callback①">Call the update callback</a> of
                                <var>transition</var>.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                    id="ref-for-dfn-perform-steps-once-promise-is-settled">React</a> to
                                <var>transition</var>’s <a data-link-type="dfn"
                                    href="#viewtransition-update-callback-done-promise"
                                    id="ref-for-viewtransition-update-callback-done-promise③">update callback done
                                    promise</a>:
                            </p>
                            <ul>
                                <li data-md>
                                    <p>If the promise does not settle within an implementation-defined timeout, then:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>If <var>transition</var>’s <a data-link-type="dfn"
                                                    href="#viewtransition-phase"
                                                    id="ref-for-viewtransition-phase⑤">phase</a> is "<code>done</code>",
                                                then return.</p>
                                            <p class="note" role="note"><span class="marker">Note:</span> This happens
                                                if <var>transition</var> was <a data-link-type="dfn"
                                                    href="#skip-the-view-transition"
                                                    id="ref-for-skip-the-view-transition⑥">skipped</a> before this
                                                point.</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#skip-the-view-transition"
                                                    id="ref-for-skip-the-view-transition⑦">Skip the view transition</a>
                                                <var>transition</var> with a "<code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#timeouterror" id="ref-for-timeouterror">TimeoutError</a></code>"
                                                <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>.
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>If the promise was rejected with reason <var>reason</var>, then:</p>
                                    <ol>
                                        <li data-md>
                                            <p>If <var>transition</var>’s <a data-link-type="dfn"
                                                    href="#viewtransition-phase"
                                                    id="ref-for-viewtransition-phase⑥">phase</a> is "<code>done</code>",
                                                then return.</p>
                                            <p class="note" role="note"><span class="marker">Note:</span> This happens
                                                if <var>transition</var> was <a data-link-type="dfn"
                                                    href="#skip-the-view-transition"
                                                    id="ref-for-skip-the-view-transition⑧">skipped</a> before this
                                                point.</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#mark-a-promise-as-handled"
                                                    id="ref-for-mark-a-promise-as-handled③">Mark as handled</a>
                                                <var>transition</var>’s <a data-link-type="dfn"
                                                    href="#viewtransition-ready-promise"
                                                    id="ref-for-viewtransition-ready-promise②">ready promise</a>.
                                            </p>
                                            <p class="note" role="note"><span class="marker">Note:</span>
                                                <var>transition</var>’s <a data-link-type="dfn"
                                                    href="#viewtransition-update-callback-done-promise"
                                                    id="ref-for-viewtransition-update-callback-done-promise④">update
                                                    callback done promise</a> will provide the <code
                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" id="ref-for-event-unhandledrejection②">unhandledrejection</a></code>.
                                                This step avoids a duplicate.
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="#skip-the-view-transition"
                                                    id="ref-for-skip-the-view-transition⑨">Skip the view transition</a>
                                                <var>transition</var> with <var>reason</var>.
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>If the promise was fulfilled, then <a data-link-type="dfn"
                                            href="#activate-view-transition"
                                            id="ref-for-activate-view-transition">activate</a> <var>transition</var>.
                                    </p>
                            </ul>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="activate view transition">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="activate-view-transition">activate view
                transition</dfn> for a <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①④">ViewTransition</a></code>
            <var>transition</var>,
            perform the following steps:
            <ol>
                <li data-md>
                    <p>If <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-phase"
                            id="ref-for-viewtransition-phase⑦">phase</a> is "<code>done</code>", then return.</p>
                    <p class="note" role="note"><span class="marker">Note:</span> This happens if <var>transition</var>
                        was <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition①⓪">skipped</a> before this point.</p>
                <li data-md>
                    <p>Set <a data-link-type="dfn" href="#document-rendering-suppression-for-view-transitions"
                            id="ref-for-document-rendering-suppression-for-view-transitions②">rendering suppression for
                            view transitions</a> to false.</p>
                <li data-md>
                    <p>If <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-initial-snapshot-containing-block-size"
                            id="ref-for-viewtransition-initial-snapshot-containing-block-size">initial snapshot
                            containing block size</a> is not equal to the <a data-link-type="dfn"
                            href="#snapshot-containing-block-size" id="ref-for-snapshot-containing-block-size①">snapshot
                            containing block size</a>,
                        then <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition①①">skip the view transition</a> for
                        <var>transition</var>, and return.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#capture-the-new-state" id="ref-for-capture-the-new-state">Capture
                            the new state</a> for <var>transition</var>.</p>
                    <p>If failure is returned, then <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition①②">skip the view transition</a> for
                        <var>transition</var> with an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>
                        in <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm⑥">relevant Realm</a>,
                        and return.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate">For each</a> <var>capturedElement</var> of <var>transition</var>’s
                        <a data-link-type="dfn" href="#viewtransition-named-elements"
                            id="ref-for-viewtransition-named-elements">named elements</a>' <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-getting-the-values"
                            id="ref-for-map-getting-the-values">values</a>:
                    </p>
                    <ol>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-new-element" id="ref-for-captured-element-new-element①">new
                                    element</a> is not null,
                                then set <var>capturedElement</var>’s <span
                                    id="ref-for-captured-element-new-element②">new element</span>'s <a
                                    data-link-type="dfn" href="#captured-in-a-view-transition"
                                    id="ref-for-captured-in-a-view-transition③">captured in a view transition</a> to
                                true.</p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="#setup-transition-pseudo-elements"
                            id="ref-for-setup-transition-pseudo-elements④">Setup transition pseudo-elements</a> for
                        <var>transition</var>.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#update-pseudo-element-styles"
                            id="ref-for-update-pseudo-element-styles②">Update pseudo-element styles</a> for
                        <var>transition</var>.
                    </p>
                    <p>If failure is returned, then <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition①③">skip the view transition</a> for
                        <var>transition</var> with an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>
                        in <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm⑦">relevant Realm</a>,
                        and return.
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> The above steps will require running
                        document lifecycle phases,
                        to compute information calculated during style/layout.</p>
                <li data-md>
                    <p>Set <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-phase"
                            id="ref-for-viewtransition-phase⑧">phase</a> to "<code>animating</code>".</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                            id="ref-for-resolve">Resolve</a> <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-ready-promise" id="ref-for-viewtransition-ready-promise③">ready
                            promise</a>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.3.1" id="capture-old-state-algorithm"><span class="secno">7.3.1.
            </span><span class="content"><a data-link-type="dfn" href="#capture-the-old-state"
                    id="ref-for-capture-the-old-state①">Capture the old state</a></span><a class="self-link"
                href="#capture-old-state-algorithm"></a></h4>
        <div class="algorithm" data-algorithm="capture the old state">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="capture-the-old-state">capture the old
                state</dfn> for <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①⑤">ViewTransition</a></code>
            <var>transition</var>:
            <ol>
                <li data-md>
                    <p>Let <var>document</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global③">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window②">associated document</a>.</p>
                <li data-md>
                    <p>Let <var>namedElements</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-named-elements" id="ref-for-viewtransition-named-elements①">named
                            elements</a>.</p>
                <li data-md>
                    <p>Let <var>usedTransitionNames</var> be a new <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">set</a> of
                        strings.</p>
                <li data-md>
                    <p>Let <var>captureElements</var> be a new <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of elements.</p>
                <li data-md>
                    <p>Let <var>document</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global④">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window③">associated document</a>.</p>
                <li data-md>
                    <p>Set <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-initial-snapshot-containing-block-size"
                            id="ref-for-viewtransition-initial-snapshot-containing-block-size①">initial snapshot
                            containing block size</a> to the <a data-link-type="dfn"
                            href="#snapshot-containing-block-size" id="ref-for-snapshot-containing-block-size②">snapshot
                            containing block size</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate①">For each</a> <var>element</var> of every <a data-link-type="dfn"
                            href="https://drafts.csswg.org/css2/#element" id="ref-for-element⑧">element</a> that is <a
                            data-link-type="dfn" href="https://dom.spec.whatwg.org/#connected"
                            id="ref-for-connected">connected</a>,
                        and has a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document"
                            id="ref-for-concept-node-document">node document</a> equal to to <var>document</var>,
                        in <a href="https://drafts.csswg.org/css2/#painting-order">paint order</a>:</p>
                    <div class="note" role="note">We iterate in paint order to ensure that this order is cached in
                        <var>namedElements</var>.
                        This defines the DOM order for ::view-transition-group pseudo-elements, such that the element at
                        the bottom of the paint stack generates the first pseudo child of ::view-transition.
                    </div>
                    <ol>
                        <li data-md>
                            <p>If any <a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree"
                                    id="ref-for-flat-tree">flat tree</a> ancestor of this <var>element</var> <a
                                    data-link-type="dfn" href="https://www.w3.org/TR/css-contain-2/#skips-its-contents"
                                    id="ref-for-skips-its-contents①">skips its contents</a>, then <a
                                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue">continue</a>.</p>
                        <li data-md>
                            <p>If <var>element</var> has more than one <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-break-4/#box-fragment" id="ref-for-box-fragment">box
                                    fragment</a>, then <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue①">continue</a>.</p>
                            <p class="note" role="note"><span class="marker">Note:</span> We might want to enable
                                transitions for fragmented elements in future versions.
                                See <a href="https://github.com/w3c/csswg-drafts/issues/8900">#8900</a>.</p>
                        <li data-md>
                            <p>Let <var>transitionName</var> be the <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                    id="ref-for-computed-value①">computed value</a> of <a class="property css"
                                    data-link-type="property" href="#propdef-view-transition-name"
                                    id="ref-for-propdef-view-transition-name⑧">view-transition-name</a> for
                                <var>element</var>.
                            </p>
                        <li data-md>
                            <p>If <var>transitionName</var> is <a class="css" data-link-type="maybe"
                                    href="#valdef-view-transition-name-none"
                                    id="ref-for-valdef-view-transition-name-none①">none</a>,
                                or <var>element</var> is <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-images-4/#element-not-rendered"
                                    id="ref-for-element-not-rendered①">not rendered</a>,
                                then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue②">continue</a>.</p>
                        <li data-md>
                            <p>If <var>usedTransitionNames</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-contain"
                                    id="ref-for-list-contain">contains</a> <var>transitionName</var>, then return
                                failure.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                                    id="ref-for-set-append">Append</a> <var>transitionName</var> to
                                <var>usedTransitionNames</var>.
                            </p>
                        <li data-md>
                            <p>Set <var>element</var>’s <a data-link-type="dfn" href="#captured-in-a-view-transition"
                                    id="ref-for-captured-in-a-view-transition④">captured in a view transition</a> to
                                true.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append">Append</a> <var>element</var> to
                                <var>captureElements</var>.
                            </p>
                    </ol>
                    <div class="note" role="note">The algorithm continues in a separate loop to ensure that <a
                            data-link-type="dfn" href="#captured-in-a-view-transition"
                            id="ref-for-captured-in-a-view-transition⑤">captured in a view transition</a> is set on all
                        elements participating in this capture before it is read by future steps in the algorithm.</div>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate②">For each</a> <var>element</var> in <var>captureElements</var>:
                    </p>
                    <ol>
                        <li data-md>
                            <p>Let <var>capture</var> be a new <a data-link-type="dfn" href="#captured-element"
                                    id="ref-for-captured-element③">captured element</a> struct.</p>
                        <li data-md>
                            <p>Set <var>capture</var>’s <a data-link-type="dfn" href="#captured-element-old-image"
                                    id="ref-for-captured-element-old-image①">old image</a> to the result of <a
                                    data-link-type="dfn" href="#capture-the-image"
                                    id="ref-for-capture-the-image④">capturing the image</a> of <var>element</var>.</p>
                        <li data-md>
                            <p>Let <var>originalRect</var> be <a data-link-type="dfn" href="#snapshot-containing-block"
                                    id="ref-for-snapshot-containing-block⑨">snapshot containing block</a> if
                                <var>element</var> is the <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#document-element"
                                    id="ref-for-document-element⑧">document element</a>,
                                otherwise, the element|'s <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-box-4/#border-box" id="ref-for-border-box②">border
                                    box</a>.
                            </p>
                        <li data-md>
                            <p>Set <var>capture</var>’s <a data-link-type="dfn" href="#captured-element-old-width"
                                    id="ref-for-captured-element-old-width">old width</a> to <var>originalRect</var>’s
                                <code
                                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/geometry-1/#dom-domrect-width" id="ref-for-dom-domrect-width">width</a></code>.
                            </p>
                        <li data-md>
                            <p>Set <var>capture</var>’s <a data-link-type="dfn" href="#captured-element-old-height"
                                    id="ref-for-captured-element-old-height">old height</a> to <var>originalRect</var>’s
                                <code
                                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/geometry-1/#dom-domrect-height" id="ref-for-dom-domrect-height">height</a></code>.
                            </p>
                        <li data-md>
                            <p>Set <var>capture</var>’s <a data-link-type="dfn" href="#captured-element-old-transform"
                                    id="ref-for-captured-element-old-transform">old transform</a> to a <a class="css"
                                    data-link-type="type" data-xref-type="css-type"
                                    href="https://www.w3.org/TR/css-transforms-2/#typedef-transform-function"
                                    id="ref-for-typedef-transform-function①">&lt;transform-function></a> that would map
                                <var>element</var>’s <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-box-4/#border-box" id="ref-for-border-box③">border
                                    box</a> from the <a data-link-type="dfn" href="#snapshot-containing-block-origin"
                                    id="ref-for-snapshot-containing-block-origin">snapshot containing block origin</a>
                                to its
                                current visual position.
                            </p>
                        <li data-md>
                            <p>Set <var>capture</var>’s <a data-link-type="dfn"
                                    href="#captured-element-old-writing-mode"
                                    id="ref-for-captured-element-old-writing-mode">old writing-mode</a> to the <a
                                    data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                    id="ref-for-computed-value②">computed value</a> of <a class="property css"
                                    data-link-type="property"
                                    href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode"
                                    id="ref-for-propdef-writing-mode①">writing-mode</a> on <var>element</var>.</p>
                        <li data-md>
                            <p>Set <var>capture</var>’s <a data-link-type="dfn" href="#captured-element-old-direction"
                                    id="ref-for-captured-element-old-direction">old direction</a> to the <a
                                    data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                    id="ref-for-computed-value③">computed value</a> of <a class="property css"
                                    data-link-type="property"
                                    href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                                    id="ref-for-propdef-direction①">direction</a> on <var>element</var>.</p>
                        <li data-md>
                            <p>Set <var>capture</var>’s <a data-link-type="dfn"
                                    href="#captured-element-old-text-orientation"
                                    id="ref-for-captured-element-old-text-orientation">old text-orientation</a> to the
                                <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                    id="ref-for-computed-value④">computed value</a> of <a class="property css"
                                    data-link-type="property"
                                    href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation"
                                    id="ref-for-propdef-text-orientation①">text-orientation</a> on <var>element</var>.
                            </p>
                        <li data-md>
                            <p>Set <var>capture</var>’s <a data-link-type="dfn"
                                    href="#captured-element-old-mix-blend-mode"
                                    id="ref-for-captured-element-old-mix-blend-mode">old mix-blend-mode</a> to the <a
                                    data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                    id="ref-for-computed-value⑤">computed value</a> of <a class="property css"
                                    data-link-type="property"
                                    href="https://www.w3.org/TR/compositing-1/#propdef-mix-blend-mode"
                                    id="ref-for-propdef-mix-blend-mode②">mix-blend-mode</a> on <var>element</var>.</p>
                        <li data-md>
                            <p>Let <var>transitionName</var> be the <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                    id="ref-for-computed-value⑥">computed value</a> of <a class="property css"
                                    data-link-type="property" href="#propdef-view-transition-name"
                                    id="ref-for-propdef-view-transition-name⑨">view-transition-name</a> for
                                <var>element</var>.
                            </p>
                        <li data-md>
                            <p>Set <var>namedElements</var>[<var>transitionName</var>] to <var>capture</var>.</p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate③">For each</a> <var>element</var> in <var>captureElements</var>:
                    </p>
                    <ol>
                        <li data-md>
                            <p>Set <var>element</var>’s <a data-link-type="dfn" href="#captured-in-a-view-transition"
                                    id="ref-for-captured-in-a-view-transition⑥">captured in a view transition</a> to
                                false.</p>
                    </ol>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.3.2" id="capture-new-state-algorithm"><span class="secno">7.3.2.
            </span><span class="content"><a data-link-type="dfn" href="#capture-the-new-state"
                    id="ref-for-capture-the-new-state①">Capture the new state</a></span><a class="self-link"
                href="#capture-new-state-algorithm"></a></h4>
        <div class="algorithm" data-algorithm="capture the new state">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="capture-the-new-state">capture the new
                state</dfn> for <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①⑥">ViewTransition</a></code>
            <var>transition</var>:
            <ol>
                <li data-md>
                    <p>Let <var>document</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global⑤">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window④">associated document</a>.</p>
                <li data-md>
                    <p>Let <var>namedElements</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-named-elements" id="ref-for-viewtransition-named-elements②">named
                            elements</a>.</p>
                <li data-md>
                    <p>Let <var>usedTransitionNames</var> be a new <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">set</a> of
                        strings.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate④">For each</a> <var>element</var> of every <a data-link-type="dfn"
                            href="https://drafts.csswg.org/css2/#element" id="ref-for-element⑨">element</a> that is <a
                            data-link-type="dfn" href="https://dom.spec.whatwg.org/#connected"
                            id="ref-for-connected①">connected</a>,
                        and has a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document"
                            id="ref-for-concept-node-document①">node document</a> equal to to <var>document</var>,
                        in <a href="https://drafts.csswg.org/css2/#painting-order">paint order</a>:</p>
                    <ol>
                        <li data-md>
                            <p>If any <a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree"
                                    id="ref-for-flat-tree①">flat tree</a> ancestor of this <var>element</var> <a
                                    data-link-type="dfn" href="https://www.w3.org/TR/css-contain-2/#skips-its-contents"
                                    id="ref-for-skips-its-contents②">skips its contents</a>, then <a
                                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue③">continue</a>.</p>
                        <li data-md>
                            <p>Let <var>transitionName</var> be the <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                    id="ref-for-computed-value⑦">computed value</a> of <a class="property css"
                                    data-link-type="property" href="#propdef-view-transition-name"
                                    id="ref-for-propdef-view-transition-name①⓪">view-transition-name</a> for
                                <var>element</var>.
                            </p>
                        <li data-md>
                            <p>If <var>transitionName</var> is <a class="css" data-link-type="maybe"
                                    href="#valdef-view-transition-name-none"
                                    id="ref-for-valdef-view-transition-name-none②">none</a>,
                                or <var>element</var> is <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-images-4/#element-not-rendered"
                                    id="ref-for-element-not-rendered②">not rendered</a>,
                                then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue④">continue</a>.</p>
                        <li data-md>
                            <p>If <var>usedTransitionNames</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-contain"
                                    id="ref-for-list-contain①">contains</a> <var>transitionName</var>,
                                then return failure.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                                    id="ref-for-set-append①">Append</a> <var>transitionName</var> to
                                <var>usedTransitionNames</var>.
                            </p>
                        <li data-md>
                            <p>If <var>namedElements</var>[<var>transitionName</var>] does not <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exist</a>,
                                then set <var>namedElements</var>[<var>transitionName</var>] to a new <a
                                    data-link-type="dfn" href="#captured-element"
                                    id="ref-for-captured-element④">captured element</a> struct.</p>
                        <li data-md>
                            <p>Set <var>namedElements</var>[<var>transitionName</var>]'s <a data-link-type="dfn"
                                    href="#captured-element-new-element" id="ref-for-captured-element-new-element③">new
                                    element</a> to <var>element</var>.</p>
                    </ol>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.3.3" id="setup-transition-pseudo-elements-algorithm"><span
                class="secno">7.3.3. </span><span class="content"><a data-link-type="dfn"
                    href="#setup-transition-pseudo-elements" id="ref-for-setup-transition-pseudo-elements⑤">Setup
                    transition pseudo-elements</a></span><a class="self-link"
                href="#setup-transition-pseudo-elements-algorithm"></a></h4>
        <div class="algorithm" data-algorithm="setup transition pseudo-elements">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="setup-transition-pseudo-elements">setup
                transition pseudo-elements</dfn> for a <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①⑦">ViewTransition</a></code>
            <var>transition</var>:
            <p class="note" role="note"><span class="marker">Note:</span> This algorithm constructs the pseudo-element
                tree for the transition,
                and generates initial styles.
                The structure of the pseudo-tree is covered at a higher level in <a
                    href="#view-transition-pseudos">§ 3.2 View Transition Pseudo-elements</a>.</p>
            <ol>
                <li data-md>
                    <p>Let <var>document</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①④">this’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global⑥">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window⑤">associated document</a>.</p>
                <li data-md>
                    <p>Set <var>document</var>’s <a data-link-type="dfn" href="#document-show-view-transition-tree"
                            id="ref-for-document-show-view-transition-tree">show view transition tree</a> to true.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                            id="ref-for-map-iterate">For each</a> <var>transitionName</var> → <var>capturedElement</var>
                        of <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-named-elements"
                            id="ref-for-viewtransition-named-elements③">named elements</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>group</var> be a new <a class="css" data-link-type="maybe"
                                    href="#selectordef-view-transition-group"
                                    id="ref-for-selectordef-view-transition-group①⑥">::view-transition-group()</a>,
                                with its <a data-link-type="dfn" href="#view-transition-name"
                                    id="ref-for-view-transition-name①①">view transition name</a> set to
                                <var>transitionName</var>.
                            </p>
                        <li data-md>
                            <p>Append <var>group</var> to <var>transition</var>’s <a data-link-type="dfn"
                                    href="#viewtransition-transition-root-pseudo-element"
                                    id="ref-for-viewtransition-transition-root-pseudo-element③">transition root
                                    pseudo-element</a>.</p>
                        <li data-md>
                            <p>Let <var>imagePair</var> be a new <a class="css" data-link-type="maybe"
                                    href="#selectordef-view-transition-image-pair"
                                    id="ref-for-selectordef-view-transition-image-pair⑥">::view-transition-image-pair()</a>,
                                with its <a data-link-type="dfn" href="#view-transition-name"
                                    id="ref-for-view-transition-name①②">view transition name</a> set to
                                <var>transitionName</var>.
                            </p>
                        <li data-md>
                            <p>Append <var>imagePair</var> to <var>group</var>.</p>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-old-image" id="ref-for-captured-element-old-image②">old
                                    image</a> is not null, then:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>old</var> be a new <a class="css" data-link-type="maybe"
                                            href="#selectordef-view-transition-old"
                                            id="ref-for-selectordef-view-transition-old⑧">::view-transition-old()</a>,
                                        with its <a data-link-type="dfn" href="#view-transition-name"
                                            id="ref-for-view-transition-name①③">view transition name</a> set to
                                        <var>transitionName</var>,
                                        displaying <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-old-image"
                                            id="ref-for-captured-element-old-image③">old image</a> as its <a
                                            data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-display-3/#replaced-element"
                                            id="ref-for-replaced-element②">replaced</a> content.
                                    </p>
                                <li data-md>
                                    <p>Append <var>old</var> to <var>imagePair</var>.</p>
                            </ol>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-new-element" id="ref-for-captured-element-new-element④">new
                                    element</a> is not null, then:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>new</var> be a new <a class="css" data-link-type="maybe"
                                            href="#selectordef-view-transition-new"
                                            id="ref-for-selectordef-view-transition-new⑦">::view-transition-new()</a>,
                                        with its <a data-link-type="dfn" href="#view-transition-name"
                                            id="ref-for-view-transition-name①④">view transition name</a> set to
                                        <var>transitionName</var>.
                                    </p>
                                    <p class="note" role="note"><span class="marker">Note:</span> The styling of this
                                        pseudo is handled in <a data-link-type="dfn"
                                            href="#update-pseudo-element-styles"
                                            id="ref-for-update-pseudo-element-styles③">update pseudo-element styles</a>.
                                    </p>
                                <li data-md>
                                    <p>Append <var>new</var> to <var>imagePair</var>.</p>
                            </ol>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-old-image" id="ref-for-captured-element-old-image④">old
                                    image</a> is null, then:</p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                            id="ref-for-assert">Assert</a>: <var>capturedElement</var>’s <a
                                            data-link-type="dfn" href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element⑤">new element</a> is not null.</p>
                                <li data-md>
                                    <p>Set <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-image-animation-name-rule"
                                            id="ref-for-captured-element-image-animation-name-rule">image animation name
                                            rule</a> to a new <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule④">CSSStyleRule</a></code>
                                        representing the following CSS,
                                        and append it to <var>document</var>’s <a data-link-type="dfn"
                                            href="#document-dynamic-view-transition-style-sheet"
                                            id="ref-for-document-dynamic-view-transition-style-sheet⑤">dynamic view
                                            transition style sheet</a>:</p>
                                    <pre class="highlight">:root:<c- nf>:view-transition-new</c-><c- p>(</c-><var>transitionName</var><c- p>)</c-> <c- p>{</c->
  <c- k>animation-name</c-><c- p>:</c-> -ua-view-transition-fade-in<c- p>;</c->
<c- p>}</c->
</pre>
                                    <p class="note" role="note"><span class="marker">Note:</span> The above code example
                                        contains variables to be replaced.</p>
                            </ol>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-new-element" id="ref-for-captured-element-new-element⑥">new
                                    element</a> is null, then:</p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                            id="ref-for-assert①">Assert</a>: <var>capturedElement</var>’s <a
                                            data-link-type="dfn" href="#captured-element-old-image"
                                            id="ref-for-captured-element-old-image⑤">old image</a> is not null.</p>
                                <li data-md>
                                    <p>Set <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-image-animation-name-rule"
                                            id="ref-for-captured-element-image-animation-name-rule①">image animation
                                            name rule</a> to a new <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule⑤">CSSStyleRule</a></code>
                                        representing the following CSS,
                                        and append it to <var>document</var>’s <a data-link-type="dfn"
                                            href="#document-dynamic-view-transition-style-sheet"
                                            id="ref-for-document-dynamic-view-transition-style-sheet⑥">dynamic view
                                            transition style sheet</a>:</p>
                                    <pre class="highlight">:root:<c- nf>:view-transition-old</c-><c- p>(</c-><var>transitionName</var><c- p>)</c-> <c- p>{</c->
  <c- k>animation-name</c-><c- p>:</c-> -ua-view-transition-fade-out<c- p>;</c->
<c- p>}</c->
</pre>
                                    <p class="note" role="note"><span class="marker">Note:</span> The above code example
                                        contains variables to be replaced.</p>
                            </ol>
                        <li data-md>
                            <p>If both of <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-old-image" id="ref-for-captured-element-old-image⑥">old
                                    image</a> and <a data-link-type="dfn" href="#captured-element-new-element"
                                    id="ref-for-captured-element-new-element⑦">new element</a> are not null, then:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>transform</var> be <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-old-transform"
                                            id="ref-for-captured-element-old-transform①">old transform</a>.</p>
                                <li data-md>
                                    <p>Let <var>width</var> be <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-old-width"
                                            id="ref-for-captured-element-old-width①">old width</a>.</p>
                                <li data-md>
                                    <p>Let <var>height</var> be <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-old-height"
                                            id="ref-for-captured-element-old-height①">old height</a>.</p>
                                <li data-md>
                                    <p>Set <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-group-keyframes"
                                            id="ref-for-captured-element-group-keyframes">group keyframes</a> to a new
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/css-animations-1/#csskeyframesrule" id="ref-for-csskeyframesrule①">CSSKeyframesRule</a></code>
                                        representing the following CSS,
                                        and append it to <var>document</var>’s <a data-link-type="dfn"
                                            href="#document-dynamic-view-transition-style-sheet"
                                            id="ref-for-document-dynamic-view-transition-style-sheet⑦">dynamic view
                                            transition style sheet</a>:
                                    </p>
                                    <pre class="highlight"><c- n>@keyframes</c-> -ua-view-transition-group-anim-<var>transitionName</var> <c- p>{</c->
  from <c- p>{</c->
    <c- k>transform</c-><c- p>:</c-> <var>transform</var><c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <var>width</var><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <var>height</var><c- p>;</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
                                    <p class="note" role="note"><span class="marker">Note:</span> The above code example
                                        contains variables to be replaced.</p>
                                <li data-md>
                                    <p>Set <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-group-animation-name-rule"
                                            id="ref-for-captured-element-group-animation-name-rule">group animation name
                                            rule</a> to a new <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule⑥">CSSStyleRule</a></code>
                                        representing the following CSS,
                                        and append it to <var>document</var>’s <a data-link-type="dfn"
                                            href="#document-dynamic-view-transition-style-sheet"
                                            id="ref-for-document-dynamic-view-transition-style-sheet⑧">dynamic view
                                            transition style sheet</a>:</p>
                                    <pre class="highlight">:root:<c- nf>:view-transition-group</c-><c- p>(</c-><var>transitionName</var><c- p>)</c-> <c- p>{</c->
  <c- k>animation-name</c-><c- p>:</c-> -ua-view-transition-group-anim-<var>transitionName</var><c- p>;</c->
<c- p>}</c->
</pre>
                                    <p class="note" role="note"><span class="marker">Note:</span> The above code example
                                        contains variables to be replaced.</p>
                                <li data-md>
                                    <p>Set <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-image-pair-isolation-rule"
                                            id="ref-for-captured-element-image-pair-isolation-rule">image pair isolation
                                            rule</a> to a new <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule⑦">CSSStyleRule</a></code>
                                        representing the following CSS,
                                        and append it to <var>document</var>’s <a data-link-type="dfn"
                                            href="#document-dynamic-view-transition-style-sheet"
                                            id="ref-for-document-dynamic-view-transition-style-sheet⑨">dynamic view
                                            transition style sheet</a>:</p>
                                    <pre class="highlight">:root:<c- nf>:view-transition-image-pair</c-><c- p>(</c-><var>transitionName</var><c- p>)</c-> <c- p>{</c->
  <c- k>isolation</c-><c- p>:</c-> isolate<c- p>;</c->
<c- p>}</c->
</pre>
                                    <p class="note" role="note"><span class="marker">Note:</span> The above code example
                                        contains variables to be replaced.</p>
                                <li data-md>
                                    <p>Set <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-image-animation-name-rule"
                                            id="ref-for-captured-element-image-animation-name-rule②">image animation
                                            name rule</a> to a new <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule⑧">CSSStyleRule</a></code>
                                        representing the following CSS,
                                        and append it to <var>document</var>’s <a data-link-type="dfn"
                                            href="#document-dynamic-view-transition-style-sheet"
                                            id="ref-for-document-dynamic-view-transition-style-sheet①⓪">dynamic view
                                            transition style sheet</a>:</p>
                                    <pre class="highlight">:root:<c- nf>:view-transition-old</c-><c- p>(</c-><var>transitionName</var><c- p>)</c-> <c- p>{</c->
  <c- k>animation-name</c-><c- p>:</c-> -ua-view-transition-fade-out<c- p>,</c-> -ua-mix-blend-mode-plus-lighter<c- p>;</c->
<c- p>}</c->
:root:<c- nf>:view-transition-new</c-><c- p>(</c-><var>transitionName</var><c- p>)</c-> <c- p>{</c->
  <c- k>animation-name</c-><c- p>:</c-> -ua-view-transition-fade-in<c- p>,</c-> -ua-mix-blend-mode-plus-lighter<c- p>;</c->
<c- p>}</c->
</pre>
                                    <p class="note" role="note"><span class="marker">Note:</span> The above code example
                                        contains variables to be replaced.</p>
                                    <p class="note" role="note"><span class="marker">Note:</span> <a class="css"
                                            data-link-type="propdesc"
                                            href="https://www.w3.org/TR/compositing-1/#propdef-mix-blend-mode"
                                            id="ref-for-propdef-mix-blend-mode③">mix-blend-mode: plus-lighter</a>
                                        ensures
                                        that the blending of identical pixels from the old and new images
                                        results in the same color value as those pixels,
                                        and achieves a “correct” cross-fade.</p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.4" id="call-dom-update-callback-algorithm"><span class="secno">7.4.
            </span><span class="content"><a data-link-type="dfn" href="#call-the-update-callback"
                    id="ref-for-call-the-update-callback②">Call the update callback</a></span><a class="self-link"
                href="#call-dom-update-callback-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="call the update callback">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="call-the-update-callback">call the update
                callback</dfn> of a <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①⑧">ViewTransition</a></code>
            <var>transition</var>:
            <p class="note" role="note"><span class="marker">Note:</span> This is guaranteed to happen for every <code
                    class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition①⑨">ViewTransition</a></code>,
                even if the transition is <a data-link-type="dfn" href="#skip-the-view-transition"
                    id="ref-for-skip-the-view-transition①④">skipped</a>.
                The reasons for this are discussed in <a href="#transitions-as-enhancements">§ 1.4 Transitions as an
                    enhancement</a>.</p>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert②">Assert</a>: <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-phase" id="ref-for-viewtransition-phase⑨">phase</a> is
                        "<code>done</code>", or before "<code>update-callback-called</code>".</p>
                <li data-md>
                    <p>Let <var>callbackPromise</var> be null.</p>
                <li data-md>
                    <p>If <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-update-callback"
                            id="ref-for-viewtransition-update-callback⑤">update callback</a> is null,
                        then set <var>callbackPromise</var> to <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with">a promise resolved with</a> undefined,
                        in <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm⑧">relevant Realm</a>.</p>
                <li data-md>
                    <p>Otherwise, set <var>callbackPromise</var> to the result of <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function">invoking</a> <var>transition</var>’s <a
                            data-link-type="dfn" href="#viewtransition-update-callback"
                            id="ref-for-viewtransition-update-callback⑥">update callback</a>.</p>
                <li data-md>
                    <p>If <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-phase"
                            id="ref-for-viewtransition-phase①⓪">phase</a> is not "<code>done</code>", then set
                        <var>transition</var>’s <span id="ref-for-viewtransition-phase①①">phase</span> to
                        "<code>update-callback-called</code>".
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                            id="ref-for-resolve①">Resolve</a> <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-update-callback-done-promise"
                            id="ref-for-viewtransition-update-callback-done-promise⑤">update callback done promise</a>
                        with the result of <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                            id="ref-for-dfn-perform-steps-once-promise-is-settled①">reacting</a> to
                        <var>callbackPromise</var>:
                    </p>
                    <ul>
                        <li data-md>
                            <p>If the promise was fulfilled, then return undefined.</p>
                    </ul>
                    <p class="note" role="note"><span class="marker">Note:</span> Since the rejection of
                        <var>callbackPromise</var> isn’t explicitly handled here,
                        if <var>callbackPromise</var> rejects, then <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-update-callback-done-promise"
                            id="ref-for-viewtransition-update-callback-done-promise⑥">update callback done promise</a>
                        will reject with the same reason.
                    </p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.5" id="skip-the-view-transition-algorithm"><span class="secno">7.5.
            </span><span class="content"><a data-link-type="dfn" href="#skip-the-view-transition"
                    id="ref-for-skip-the-view-transition①⑤">Skip the view transition</a></span><a class="self-link"
                href="#skip-the-view-transition-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="skip the view transition">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="skip-the-view-transition">skip the view
                transition</dfn> for <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition②⓪">ViewTransition</a></code>
            <var>transition</var> with reason <var>reason</var>:
            <ol>
                <li data-md>
                    <p>Let <var>document</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global⑦">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window⑥">associated document</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert③">Assert</a>: <var>document</var>’s <a data-link-type="dfn"
                            href="#document-active-view-transition"
                            id="ref-for-document-active-view-transition①①">active view transition</a> is
                        <var>transition</var>.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert④">Assert</a>: <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-phase" id="ref-for-viewtransition-phase①②">phase</a> is not
                        "<code>done</code>".</p>
                <li data-md>
                    <p>If <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-phase"
                            id="ref-for-viewtransition-phase①③">phase</a> is before
                        "<code>update-callback-called</code>", then <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                            id="ref-for-queue-a-global-task①">queue a global task</a> on the <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                            id="ref-for-dom-manipulation-task-source①">DOM manipulation task source</a>,
                        given <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global⑧">relevant global object</a>, to <a data-link-type="dfn"
                            href="#call-the-update-callback" id="ref-for-call-the-update-callback③">call the update
                            callback</a> of <var>transition</var>.</p>
                <li data-md>
                    <p>Set <a data-link-type="dfn" href="#document-rendering-suppression-for-view-transitions"
                            id="ref-for-document-rendering-suppression-for-view-transitions③">rendering suppression for
                            view transitions</a> to false.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#clear-view-transition" id="ref-for-clear-view-transition">Clear
                            view transition</a> <var>transition</var>.</p>
                <li data-md>
                    <p>Set <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-phase"
                            id="ref-for-viewtransition-phase①④">phase</a> to "<code>done</code>".</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                            id="ref-for-reject">Reject</a> <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-ready-promise" id="ref-for-viewtransition-ready-promise④">ready
                            promise</a> with <var>reason</var>.</p>
                    <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn"
                            href="#viewtransition-ready-promise" id="ref-for-viewtransition-ready-promise⑤">ready
                            promise</a> may already be resolved at this point,
                        if <code
                            class="idl"><a data-link-type="idl" href="#dom-viewtransition-skiptransition" id="ref-for-dom-viewtransition-skiptransition⑤">skipTransition()</a></code>
                        is called after we start animating.
                        In that case, this step is a no-op.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                            id="ref-for-resolve②">Resolve</a> <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-finished-promise"
                            id="ref-for-viewtransition-finished-promise①">finished promise</a> with the result of <a
                            data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                            id="ref-for-dfn-perform-steps-once-promise-is-settled②">reacting</a> to
                        <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-update-callback-done-promise"
                            id="ref-for-viewtransition-update-callback-done-promise⑦">update callback done promise</a>:
                    </p>
                    <ul>
                        <li data-md>
                            <p>If the promise was fulfilled, then return undefined.</p>
                    </ul>
                    <p class="note" role="note"><span class="marker">Note:</span> Since the rejection of
                        <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-update-callback-done-promise"
                            id="ref-for-viewtransition-update-callback-done-promise⑧">update callback done promise</a>
                        isn’t explicitly handled here,
                        if <var>transition</var>’s <span
                            id="ref-for-viewtransition-update-callback-done-promise⑨">update callback done
                            promise</span> rejects,
                        then <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-finished-promise"
                            id="ref-for-viewtransition-finished-promise②">finished promise</a> will reject with the same
                        reason.
                    </p>
                <li data-md>
                    <p>If <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-process-old-state-captured"
                            id="ref-for-viewtransition-process-old-state-captured④">process old state captured</a> is
                        not null, then call <var>transition</var>’s <span
                            id="ref-for-viewtransition-process-old-state-captured⑤">process old state captured</span>.
                    </p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.6" id="capture-the-image-algorithm"><span class="secno">7.6.
            </span><span class="content"><a data-link-type="dfn" href="#capture-the-image"
                    id="ref-for-capture-the-image⑤">Capture the image</a></span><a class="self-link"
                href="#capture-the-image-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="capture the image">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="capture the image|capturing the image"
                data-noexport id="capture-the-image">capture the image</dfn> given an <a data-link-type="dfn"
                href="https://drafts.csswg.org/css2/#element" id="ref-for-element①⓪">element</a> <var>element</var>,
            perform the following steps.
            They return an image.
            <ol>
                <li data-md>
                    <p>If <var>element</var> is the <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element⑨">document
                            element</a>, then:</p>
                    <ol>
                        <li data-md>
                            <p>Render the region of document
                                (including its <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-backgrounds-3/#canvas-background"
                                    id="ref-for-canvas-background">canvas background</a> and any <a data-link-type="dfn"
                                    href="https://drafts.csswg.org/css-position-4/#document-top-layer"
                                    id="ref-for-document-top-layer①">top layer</a> content)
                                that intersects the <a data-link-type="dfn" href="#snapshot-containing-block"
                                    id="ref-for-snapshot-containing-block①⓪">snapshot containing block</a>,
                                on a transparent canvas the size of the <span
                                    id="ref-for-snapshot-containing-block①①">snapshot containing block</span>,
                                following the <a data-link-type="dfn" href="#capture-rendering-characteristics"
                                    id="ref-for-capture-rendering-characteristics">capture rendering
                                    characteristics</a>, and these additional characteristics:</p>
                            <ul>
                                <li data-md>
                                    <p>Areas outside <var>element</var>’s <a data-link-type="dfn"
                                            href="https://drafts.csswg.org/cssom-view-1/#scrolling-box"
                                            id="ref-for-scrolling-box">scrolling box</a> should be rendered as if they
                                        were scrolled to, without moving or resizing the <a data-link-type="dfn"
                                            href="https://drafts.csswg.org/cssom-view-1/#layout-viewport"
                                            id="ref-for-layout-viewport">layout viewport</a>.
                                        This must not trigger events related to scrolling or resizing, such as <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/intersection-observer/#intersectionobserver" id="ref-for-intersectionobserver">IntersectionObserver</a></code>s.
                                    </p>
                                    <figure>
                                        <img alt="A phone browser window, showing a URL bar, a fixed-position element directly beneath it, and some page content beneath that. A scroll bar indicates the page has been scrolled significantly."
                                            height="297"
                                            src="https://www.w3.org/TR/css-view-transitions-1/diagrams/phone-browser-with-url.svg"
                                            width="202"> <img
                                            alt="The captured snapshot. It shows that content beneath the URL bar was included in the capture."
                                            height="297"
                                            src="https://www.w3.org/TR/css-view-transitions-1/diagrams/phone-browser-without-url.svg"
                                            width="202">
                                        <figcaption> An example of what the user sees compared to the captured snapshot.
                                            This example assumes the root is the only element with a transition name.
                                        </figcaption>
                                    </figure>
                                <li data-md>
                                    <p>Areas that cannot be scrolled to (i.e. they are out of scrolling bounds),
                                        should render the <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-backgrounds-3/#canvas-background"
                                            id="ref-for-canvas-background①">canvas background</a>.</p>
                                    <figure>
                                        <img alt="A phone browser window, showing a URL bar, and some content beneath. A scroll bar indicates the page is scrolled to the top."
                                            height="297"
                                            src="https://www.w3.org/TR/css-view-transitions-1/diagrams/phone-browser-scrolled-to-top-with-url.svg"
                                            width="202"> <img
                                            alt="The captured snapshot. It shows the area underneath the URL bar as the same color as the rest of the document."
                                            height="297"
                                            src="https://www.w3.org/TR/css-view-transitions-1/diagrams/phone-browser-scrolled-to-top-without-url.svg"
                                            width="202">
                                        <figcaption> An example of what the user sees compared to the captured snapshot.
                                            This example assumes the root is the only element with a transition name.
                                        </figcaption>
                                    </figure>
                            </ul>
                        <li data-md>
                            <p>Return this canvas as an image.
                                The natural size of the image is equal to the <a data-link-type="dfn"
                                    href="#snapshot-containing-block" id="ref-for-snapshot-containing-block①②">snapshot
                                    containing block</a>.</p>
                    </ol>
                <li data-md>
                    <p>Otherwise:</p>
                    <ol>
                        <li data-md>
                            <p>Render <var>element</var> and its <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-tree-descendant"
                                    id="ref-for-concept-tree-descendant②">descendants</a>,
                                at the same size it appears in its <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-node-document"
                                    id="ref-for-concept-node-document②">node document</a>,
                                over an infinite transparent canvas,
                                following the <a data-link-type="dfn" href="#capture-rendering-characteristics"
                                    id="ref-for-capture-rendering-characteristics①">capture rendering
                                    characteristics</a>.</p>
                        <li data-md>
                            <p>Return the portion of this canvas that includes <var>element</var>’s <a
                                    data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-overflow-3/#ink-overflow-rectangle"
                                    id="ref-for-ink-overflow-rectangle">ink overflow rectangle</a> as an image.
                                The <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-images-3/#natural-dimensions"
                                    id="ref-for-natural-dimensions②">natural dimensions</a> of this image must be those
                                of its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#principal-box"
                                    id="ref-for-principal-box①">principal</a> <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-box-4/#border-box" id="ref-for-border-box④">border
                                    box</a>,
                                and its origin must correspond to that <span id="ref-for-border-box⑤">border
                                    box</span>'s origin,
                                such that the image represents the contents of this <span
                                    id="ref-for-border-box⑥">border box</span> and any captured <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-overflow-3/#ink-overflow"
                                    id="ref-for-ink-overflow">ink overflow</a> is represented outside these bounds.</p>
                            <p class="note" role="note"><span class="marker">Note:</span> When this image is rendered as
                                a <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-3/#replaced-element"
                                    id="ref-for-replaced-element③">replaced element</a> at its <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-images-3/#natural-size"
                                    id="ref-for-natural-size">natural size</a>,
                                it will display with the size and contents of element’s <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-display-3/#principal-box"
                                    id="ref-for-principal-box②">principal box</a>,
                                with any captured <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-overflow-3/#ink-overflow"
                                    id="ref-for-ink-overflow①">ink overflow</a> overflowing its <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/css-box-4/#content-box" id="ref-for-content-box">content
                                    box</a>.</p>
                    </ol>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.6.1" id="capture-rendering-characteristics-algorithm"><span
                class="secno">7.6.1. </span><span class="content"><a data-link-type="dfn"
                    href="#capture-rendering-characteristics" id="ref-for-capture-rendering-characteristics②">Capture
                    rendering characteristics</a></span><a class="self-link"
                href="#capture-rendering-characteristics-algorithm"></a></h4>
        <div class="algorithm" data-algorithm="capture rendering characteristics">
            The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="capture-rendering-characteristics">capture rendering characteristics</dfn> are as follows:
            <ul>
                <li data-md>
                    <p>If the referenced element has a transform applied to it (or its ancestors),
                        then the transform is ignored.</p>
                    <p class="note" role="note"><span class="marker">Note:</span> This transform is applied to the
                        snapshot using the <code>transform</code> property of the associated <span
                            class="css">::view-transition-group</span> pseudo-element.</p>
                <li data-md>
                    <p>Effects applied on the element and its descendants, such as <a class="property css"
                            data-link-type="property" href="https://www.w3.org/TR/css-color-4/#propdef-opacity"
                            id="ref-for-propdef-opacity①">opacity</a> and <a class="property css"
                            data-link-type="property" href="https://www.w3.org/TR/filter-effects-1/#propdef-filter"
                            id="ref-for-propdef-filter①">filter</a>, are applied to the capture.
                        Effects applied to the element from its ancestors are ignored.</p>
                <li data-md>
                    <p>Implementations may clip the rendered contents if the <a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-overflow-3/#ink-overflow-rectangle"
                            id="ref-for-ink-overflow-rectangle①">ink overflow rectangle</a> exceeds some <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                            id="ref-for-implementation-defined">implementation-defined</a> maximum.
                        However, the captured image should include, at the very least, the contents of
                        <var>element</var> that intersect with the <a data-link-type="dfn"
                            href="#snapshot-containing-block" id="ref-for-snapshot-containing-block①③">snapshot
                            containing block</a>.
                        Implementations may adjust the rasterization quality to account for elements with a large <a
                            data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#ink-overflow-region"
                            id="ref-for-ink-overflow-region">ink overflow area</a> that are transformed into view.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate⑤">For each</a> <var>descendant</var> of <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-shadow-including-descendant"
                            id="ref-for-concept-shadow-including-descendant">shadow-including descendant</a> <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①①">Element</a></code>
                        and <a data-link-type="dfn" href="https://www.w3.org/TR/selectors-4/#pseudo-element"
                            id="ref-for-pseudo-element①⓪">pseudo-element</a> of <var>element</var>,
                        if <var>descendant</var> is <a data-link-type="dfn" href="#captured-in-a-view-transition"
                            id="ref-for-captured-in-a-view-transition⑦">captured in a view transition</a>,
                        then skip painting <var>descendant</var>.</p>
                    <p class="note" role="note"><span class="marker">Note:</span> This is necessary since the descendant
                        will generate its own snapshot which will be displayed and animated independently.</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="7.7" id="handle-transition-frame-algorithm"><span class="secno">7.7.
            </span><span class="content"><a data-link-type="dfn" href="#handle-transition-frame"
                    id="ref-for-handle-transition-frame①">Handle transition frame</a></span><a class="self-link"
                href="#handle-transition-frame-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="handle transition frame">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="handle-transition-frame">handle transition
                frame</dfn> given a <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition②①">ViewTransition</a></code>
            <var>transition</var>:
            <ol>
                <li data-md>
                    <p>Let <var>document</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global⑨">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window⑦">associated document</a>.</p>
                <li data-md>
                    <p>Let <var>hasActiveAnimations</var> be a boolean, initially false.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate⑥">For each</a> <var>element</var> of <var>transition</var>’s <a
                            data-link-type="dfn" href="#viewtransition-transition-root-pseudo-element"
                            id="ref-for-viewtransition-transition-root-pseudo-element④">transition root
                            pseudo-element</a>'s <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-tree-inclusive-descendant"
                            id="ref-for-concept-tree-inclusive-descendant">inclusive descendants</a>:</p>
                    <ol>
                        <li data-md>
                            <p>For each <var>animation</var> whose <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/web-animations-1/#timeline"
                                    id="ref-for-timeline">timeline</a> is a <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/web-animations-1/#document-timeline"
                                    id="ref-for-document-timeline">document timeline</a> associated with
                                <var>document</var>,
                                and contains at least one <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/web-animations-1/#animation-associated-effect"
                                    id="ref-for-animation-associated-effect">associated effect</a> whose <a
                                    data-link-type="dfn"
                                    href="https://www.w3.org/TR/web-animations-1/#keyframe-effect-effect-target"
                                    id="ref-for-keyframe-effect-effect-target">effect target</a> is <var>element</var>,
                                set <var>hasActiveAnimations</var> to true if any of the following conditions is true:
                            </p>
                            <ul>
                                <li data-md>
                                    <p><var>animation</var>’s <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/web-animations-1/#animation-play-state"
                                            id="ref-for-animation-play-state">play state</a> is <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/web-animations-1/#play-state-paused"
                                            id="ref-for-play-state-paused">paused</a> or <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/web-animations-1/#play-state-running"
                                            id="ref-for-play-state-running">running</a>.</p>
                                <li data-md>
                                    <p><var>document</var>’s <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/web-animations-1/#pending-animation-event-queue"
                                            id="ref-for-pending-animation-event-queue">pending animation event queue</a>
                                        has any events associated with <var>animation</var>.</p>
                            </ul>
                    </ol>
                <li data-md>
                    <p>If <var>hasActiveAnimations</var> is false:</p>
                    <ol>
                        <li data-md>
                            <p>Set <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-phase"
                                    id="ref-for-viewtransition-phase①⑤">phase</a> to "<code>done</code>".</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#clear-view-transition"
                                    id="ref-for-clear-view-transition①">Clear view transition</a> <var>transition</var>.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve③">Resolve</a> <var>transition</var>’s <a data-link-type="dfn"
                                    href="#viewtransition-finished-promise"
                                    id="ref-for-viewtransition-finished-promise③">finished promise</a>.</p>
                        <li data-md>
                            <p>Return.</p>
                    </ol>
                <li data-md>
                    <p>If <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-initial-snapshot-containing-block-size"
                            id="ref-for-viewtransition-initial-snapshot-containing-block-size②">initial snapshot
                            containing block size</a> is not equal to the <a data-link-type="dfn"
                            href="#snapshot-containing-block-size" id="ref-for-snapshot-containing-block-size③">snapshot
                            containing block size</a>,
                        then <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition①⑥">skip the view transition</a> for
                        <var>transition</var>, and return.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#update-pseudo-element-styles"
                            id="ref-for-update-pseudo-element-styles④">Update pseudo-element styles</a> for
                        <var>transition</var>.
                    </p>
                    <p>If failure is returned, then <a data-link-type="dfn" href="#skip-the-view-transition"
                            id="ref-for-skip-the-view-transition①⑦">skip the view transition</a> for
                        <var>transition</var> with an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>
                        in <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm⑨">relevant Realm</a>,
                        and return.
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> The above implies that a change in
                        incoming element’s size or position will cause a new keyframe to be generated.
                        This can cause a visual jump.
                        We could retarget smoothly but don’t have a use-case to justify the complexity.
                        See <a href="https://github.com/w3c/csswg-drafts/issues/7813">issue 7813</a> for details.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.8" id="style-transition-pseudo-elements-algorithm"><span
                class="secno">7.8. </span><span class="content"><a data-link-type="dfn"
                    href="#update-pseudo-element-styles" id="ref-for-update-pseudo-element-styles⑤">Update
                    pseudo-element styles</a></span><a class="self-link"
                href="#style-transition-pseudo-elements-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="update pseudo-element styles">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-pseudo-element-styles">update
                pseudo-element styles</dfn> for a <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition②②">ViewTransition</a></code>
            <var>transition</var>:
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                            id="ref-for-map-iterate①">For each</a> <var>transitionName</var> →
                        <var>capturedElement</var> of <var>transition</var>’s <a data-link-type="dfn"
                            href="#viewtransition-named-elements" id="ref-for-viewtransition-named-elements④">named
                            elements</a>:
                    </p>
                    <ol>
                        <li data-md>
                            <p>Let <var>width</var>, <var>height</var>, <var>transform</var>, <var>writingMode</var>,
                                <var>direction</var>, <var>textOrientation</var> and <var>mixBlendMode</var> be null.
                            </p>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-new-element" id="ref-for-captured-element-new-element⑧">new
                                    element</a> is null, then:</p>
                            <ol>
                                <li data-md>
                                    <p>Set <var>width</var> to <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-old-width"
                                            id="ref-for-captured-element-old-width②">old width</a>.</p>
                                <li data-md>
                                    <p>Set <var>height</var> to <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-old-height"
                                            id="ref-for-captured-element-old-height②">old height</a>.</p>
                                <li data-md>
                                    <p>Set <var>transform</var> to <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-old-transform"
                                            id="ref-for-captured-element-old-transform②">old transform</a>.</p>
                                <li data-md>
                                    <p>Set <var>writingMode</var> to <var>capturedElement</var>’s <a
                                            data-link-type="dfn" href="#captured-element-old-writing-mode"
                                            id="ref-for-captured-element-old-writing-mode①">old writing-mode</a>.</p>
                                <li data-md>
                                    <p>Set <var>direction</var> to <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-old-direction"
                                            id="ref-for-captured-element-old-direction①">old direction</a>.</p>
                                <li data-md>
                                    <p>Set <var>textOrientation</var> to <var>capturedElement</var>’s <a
                                            data-link-type="dfn" href="#captured-element-old-text-orientation"
                                            id="ref-for-captured-element-old-text-orientation①">old
                                            text-orientation</a>.</p>
                                <li data-md>
                                    <p>Set <var>mixBlendMode</var> to <var>capturedElement</var>’s <a
                                            data-link-type="dfn" href="#captured-element-old-mix-blend-mode"
                                            id="ref-for-captured-element-old-mix-blend-mode①">old mix-blend-mode</a>.
                                    </p>
                            </ol>
                        <li data-md>
                            <p>Otherwise:</p>
                            <ol>
                                <li data-md>
                                    <p>Return failure if any of the following conditions is true:</p>
                                    <ul>
                                        <li data-md>
                                            <p><var>capturedElement</var>’s <a data-link-type="dfn"
                                                    href="#captured-element-new-element"
                                                    id="ref-for-captured-element-new-element⑨">new element</a> has a <a
                                                    data-link-type="dfn"
                                                    href="https://drafts.csswg.org/css-scoping-1/#flat-tree"
                                                    id="ref-for-flat-tree②">flat tree</a> ancestor that <a
                                                    data-link-type="dfn"
                                                    href="https://www.w3.org/TR/css-contain-2/#skips-its-contents"
                                                    id="ref-for-skips-its-contents③">skips its contents</a>.</p>
                                        <li data-md>
                                            <p><var>capturedElement</var>’s <a data-link-type="dfn"
                                                    href="#captured-element-new-element"
                                                    id="ref-for-captured-element-new-element①⓪">new element</a> is <a
                                                    data-link-type="dfn"
                                                    href="https://www.w3.org/TR/css-images-4/#element-not-rendered"
                                                    id="ref-for-element-not-rendered③">not rendered</a>.</p>
                                        <li data-md>
                                            <p><var>capturedElement</var> has more than one <a data-link-type="dfn"
                                                    href="https://www.w3.org/TR/css-break-4/#box-fragment"
                                                    id="ref-for-box-fragment①">box fragment</a>.</p>
                                    </ul>
                                    <p class="note" role="note"><span class="marker">Note:</span> Other rendering
                                        constraints are enforced via <var>capturedElement</var>’s <a
                                            data-link-type="dfn" href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element①①">new element</a> being <a
                                            data-link-type="dfn" href="#captured-in-a-view-transition"
                                            id="ref-for-captured-in-a-view-transition⑧">captured in a view
                                            transition</a>.</p>
                                <li data-md>
                                    <p>Set <var>width</var> to the current width of <var>capturedElement</var>’s <a
                                            data-link-type="dfn" href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element①②">new element</a>'s <a
                                            data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-box"
                                            id="ref-for-border-box⑦">border box</a>.</p>
                                <li data-md>
                                    <p>Set <var>height</var> to the current height of <var>capturedElement</var>’s <a
                                            data-link-type="dfn" href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element①③">new element</a>'s <a
                                            data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-box"
                                            id="ref-for-border-box⑧">border box</a>.</p>
                                <li data-md>
                                    <p>Set <var>transform</var> to a transform that would map
                                        <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element①④">new element</a>'s <a
                                            data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-box"
                                            id="ref-for-border-box⑨">border box</a> from the <a data-link-type="dfn"
                                            href="#snapshot-containing-block-origin"
                                            id="ref-for-snapshot-containing-block-origin①">snapshot containing block
                                            origin</a> to its current visual position.
                                    </p>
                                <li data-md>
                                    <p>Set <var>writingMode</var> to the <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                            id="ref-for-computed-value⑧">computed value</a> of <a class="property css"
                                            data-link-type="property"
                                            href="https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode"
                                            id="ref-for-propdef-writing-mode②">writing-mode</a> on
                                        <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element①⑤">new element</a>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>direction</var> to the <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                            id="ref-for-computed-value⑨">computed value</a> of <a class="property css"
                                            data-link-type="property"
                                            href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                                            id="ref-for-propdef-direction②">direction</a> on
                                        <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element①⑥">new element</a>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>textOrientation</var> to the <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                            id="ref-for-computed-value①⓪">computed value</a> of <a class="property css"
                                            data-link-type="property"
                                            href="https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation"
                                            id="ref-for-propdef-text-orientation②">text-orientation</a> on
                                        <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element①⑦">new element</a>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>mixBlendMode</var> to the <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-cascade-5/#computed-value"
                                            id="ref-for-computed-value①①">computed value</a> of <a class="property css"
                                            data-link-type="property"
                                            href="https://www.w3.org/TR/compositing-1/#propdef-mix-blend-mode"
                                            id="ref-for-propdef-mix-blend-mode④">mix-blend-mode</a> on
                                        <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element①⑧">new element</a>.
                                    </p>
                            </ol>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-group-styles-rule"
                                    id="ref-for-captured-element-group-styles-rule">group styles rule</a> is null,
                                then set <var>capturedElement</var>’s <span
                                    id="ref-for-captured-element-group-styles-rule①">group styles rule</span> to a new
                                <code
                                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#cssstylerule" id="ref-for-cssstylerule⑨">CSSStyleRule</a></code>
                                representing the following CSS,
                                and append it to <var>transition</var>’s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global①⓪">relevant global object’s</a> <a
                                    data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                                    id="ref-for-concept-document-window⑧">associated document</a>'s <a
                                    data-link-type="dfn" href="#document-dynamic-view-transition-style-sheet"
                                    id="ref-for-document-dynamic-view-transition-style-sheet①①">dynamic view transition
                                    style sheet</a>.
                            </p>
                            <p>Otherwise, update <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-group-styles-rule"
                                    id="ref-for-captured-element-group-styles-rule②">group styles rule</a> to match the
                                following CSS:</p>
                            <pre class="highlight">:root:<c- nf>:view-transition-group</c-><c- p>(</c-><var>transitionName</var><c- p>)</c-> <c- p>{</c->
  <c- k>width</c-><c- p>:</c-> <var>width</var><c- p>;</c->
  <c- k>height</c-><c- p>:</c-> <var>height</var><c- p>;</c->
  <c- k>transform</c-><c- p>:</c-> <var>transform</var><c- p>;</c->
  <c- k>writing-mode</c-><c- p>:</c-> <var>writingMode</var><c- p>;</c->
  <c- k>direction</c-><c- p>:</c-> <var>direction</var><c- p>;</c->
  <c- k>text-orientation</c-><c- p>:</c-> <var>textOrientation</var><c- p>;</c->
  <c- k>mix-blend-mode</c-><c- p>:</c-> <var>mixBlendMode</var><c- p>;</c->
<c- p>}</c->
</pre>
                            <p class="note" role="note"><span class="marker">Note:</span> The above code example
                                contains variables to be replaced.</p>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-new-element" id="ref-for-captured-element-new-element①⑨">new
                                    element</a> is not null, then:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>new</var> be the <a class="css" data-link-type="maybe"
                                            href="#selectordef-view-transition-new"
                                            id="ref-for-selectordef-view-transition-new⑧">::view-transition-new()</a>
                                        with the <a data-link-type="dfn" href="#view-transition-name"
                                            id="ref-for-view-transition-name①⑤">view transition name</a>
                                        <var>transitionName</var>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>new</var>’s <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/css-display-3/#replaced-element"
                                            id="ref-for-replaced-element④">replaced element</a> content to the result of
                                        <a data-link-type="dfn" href="#capture-the-image"
                                            id="ref-for-capture-the-image⑥">capturing the image</a> of
                                        <var>capturedElement</var>’s <a data-link-type="dfn"
                                            href="#captured-element-new-element"
                                            id="ref-for-captured-element-new-element②⓪">new element</a>.
                                    </p>
                            </ol>
                    </ol>
            </ol>
            <p>This algorithm must be executed to update styles in <a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-cascade-5/#cascade-origin-ua"
                    id="ref-for-cascade-origin-ua③">user-agent origin</a> if its effects can be observed by a web API.
            </p>
            <p class="note" role="note"><span class="marker">Note:</span> An example of such a web API is
                <code>window.getComputedStyle(document.documentElement, "::view-transition")</code>.
            </p>
        </div>
        <h3 class="heading settled" data-level="7.9" id="clear-view-transition-algorithm"><span class="secno">7.9.
            </span><span class="content"><a data-link-type="dfn" href="#clear-view-transition"
                    id="ref-for-clear-view-transition②">Clear view transition</a></span><a class="self-link"
                href="#clear-view-transition-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="clear view transition">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clear-view-transition">clear view
                transition</dfn> of a <code
                class="idl"><a data-link-type="idl" href="#viewtransition" id="ref-for-viewtransition②③">ViewTransition</a></code>
            <var>transition</var>:
            <ol>
                <li data-md>
                    <p>Let <var>document</var> be <var>transition</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global①①">relevant global object’s</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window⑨">associated document</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert⑤">Assert</a>: <var>document</var>’s <a data-link-type="dfn"
                            href="#document-active-view-transition"
                            id="ref-for-document-active-view-transition①②">active view transition</a> is
                        <var>transition</var>.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate⑦">For each</a> <var>capturedElement</var> of
                        <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-named-elements"
                            id="ref-for-viewtransition-named-elements⑤">named elements</a>' <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-getting-the-values"
                            id="ref-for-map-getting-the-values①">values</a>:
                    </p>
                    <ol>
                        <li data-md>
                            <p>If <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-new-element" id="ref-for-captured-element-new-element②①">new
                                    element</a> is not null,
                                then set <var>capturedElement</var>’s <span
                                    id="ref-for-captured-element-new-element②②">new element</span>'s <a
                                    data-link-type="dfn" href="#captured-in-a-view-transition"
                                    id="ref-for-captured-in-a-view-transition⑨">captured in a view transition</a> to
                                false.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate⑧">For each</a> <var>style</var> of
                                <var>capturedElement</var>’s <a data-link-type="dfn"
                                    href="#captured-element-style-definitions"
                                    id="ref-for-captured-element-style-definitions">style definitions</a>:
                            </p>
                            <ol>
                                <li data-md>
                                    <p>If <var>style</var> is not null,
                                        and <var>style</var> is in <var>document</var>’s <a data-link-type="dfn"
                                            href="#document-dynamic-view-transition-style-sheet"
                                            id="ref-for-document-dynamic-view-transition-style-sheet①②">dynamic view
                                            transition style sheet</a>,
                                        then remove <var>style</var> from <var>document</var>’s <span
                                            id="ref-for-document-dynamic-view-transition-style-sheet①③">dynamic view
                                            transition style sheet</span>.</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Set <var>document</var>’s <a data-link-type="dfn" href="#document-show-view-transition-tree"
                            id="ref-for-document-show-view-transition-tree①">show view transition tree</a> to false.</p>
                <li data-md>
                    <p>Set <var>document</var>’s <a data-link-type="dfn" href="#document-active-view-transition"
                            id="ref-for-document-active-view-transition①③">active view transition</a> to null.</p>
            </ol>
        </div>
        <h2 class="no-num heading settled" id="priv"><span class="content">Privacy Considerations</span><a
                class="self-link" href="#priv"></a></h2>
        <p>This specification introduces no new privacy considerations.</p>
        <h2 class="no-num heading settled" id="sec"><span class="content">Security Considerations</span><a
                class="self-link" href="#sec"></a></h2>
        <p>The images generated using <a data-link-type="dfn" href="#capture-the-image"
                id="ref-for-capture-the-image⑦">capture the image</a> algorithm could contain cross-origin data (if the
            Document is embedding cross-origin resources) or sensitive information like visited links.
            The implementations must ensure this data can not be accessed by the Document.
            This should be feasible since access to this data should already be prevented in the default rendering of
            the Document.</p>
        <h2 class="no-num non-normative heading settled" id="changes"><span class="content">Appendix A. Changes</span><a
                class="self-link" href="#changes"></a></h2>
        <p>This appendix is <em>informative</em>.</p>
        <h3 class="heading settled" id="changes-since-2022-05-30"><span class="content"> Changes from <a
                    href="https://www.w3.org/TR/2023/WD-css-view-transitions-1-20230530/">2022-05-30 Working Draft</a>
            </span><a class="self-link" href="#changes-since-2022-05-30"></a></h3>
        <ul>
            <li data-md>
                <p>Use a keyframe to add plus-lighter blending during cross-fade. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/8924">issue 8924</a>.</p>
            <li data-md>
                <p>Add mix-blend-mode to list of properties copied over to the <span
                        class="css">::view-transition-group</span>. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/8962">issue 8962</a>.</p>
            <li data-md>
                <p>Add text-orientation to list of properties copied over to the <span
                        class="css">::view-transition-group</span>. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/8230">issue 8230</a>.</p>
            <li data-md>
                <p>Refactor the old capture algorithm to properly set <a data-link-type="dfn"
                        href="#captured-in-a-view-transition" id="ref-for-captured-in-a-view-transition①⓪">captured in a
                        view transition</a> before reading the value.</p>
        </ul>
        <h3 class="heading settled" id="changes-since-2022-05-25"><span class="content"> Changes from <a
                    href="https://www.w3.org/TR/2023/WD-css-view-transitions-1-20230525/">2022-05-25 Working Draft</a>
            </span><a class="self-link" href="#changes-since-2022-05-25"></a></h3>
        <ul>
            <li data-md>
                <p>Fix typo in ::view-transition-new user agent style sheet. See <a
                        href="https://github.com/w3c/csswg-drafts/pull/8879">PR</a>.</p>
        </ul>
        <h3 class="heading settled" id="changes-since-2022-11-24"><span class="content"> Changes from <a
                    href="https://www.w3.org/TR/2022/WD-css-view-transitions-1-20221124/">2022-11-24 Working Draft</a>
            </span><a class="self-link" href="#changes-since-2022-11-24"></a></h3>
        <ul>
            <li data-md>
                <p>Pointer events resolve to the documentElement when rendering is suppressed. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7797">issue 7797</a>.</p>
            <li data-md>
                <p>Add rendering constraints to elements participating in a transition. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/8139">issue 8139</a> and <a
                        href="https://github.com/w3c/csswg-drafts/issues/7882">issue 7882</a>.</p>
            <li data-md>
                <p>Remove html specifics from UA stylesheet to support ViewTransitions on SVG Documents.</p>
            <li data-md>
                <p>Rename updateDOMCallback to <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①⑥">UpdateCallback</a></code>.
                    See <a href="https://github.com/w3c/csswg-drafts/issues/8144">issue 8144</a>.</p>
            <li data-md>
                <p>Rename snapshot viewport to <a data-link-type="dfn" href="#snapshot-containing-block"
                        id="ref-for-snapshot-containing-block①④">snapshot containing block</a>.</p>
            <li data-md>
                <p>Skip the transition if viewport size changes. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/8045">issue 8045</a>.</p>
            <li data-md>
                <p>Add support for :only-child. See <a href="https://github.com/w3c/csswg-drafts/issues/8057">issue
                        8057</a>.</p>
            <li data-md>
                <p>Add concept of a tree of pseudo-elements under <a data-link-type="dfn" href="#pseudo-element-root"
                        id="ref-for-pseudo-element-root②">pseudo-element root</a>. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/8113">issue 8113</a>.</p>
            <li data-md>
                <p>When skipping a transition, the <code
                        class="idl"><a data-link-type="idl" href="#callbackdef-updatecallback" id="ref-for-callbackdef-updatecallback①⑦">UpdateCallback</a></code>
                    is called in own task rather than synchronously. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7904">issue 7904</a></p>
            <li data-md>
                <p>When capturing images, at least the in-viewport part of the image should be captured, downscale if
                    needed. See <a href="https://github.com/w3c/csswg-drafts/issues/8561">issue 8561</a>.</p>
            <li data-md>
                <p>Applying the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#ink-overflow"
                        id="ref-for-ink-overflow②">ink overflow</a> to the captured image is implementation defined, and
                    doesn’t affect the image’s <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-images-3/#natural-size" id="ref-for-natural-size①">natural
                        size</a>. See <a href="https://github.com/w3c/csswg-drafts/issues/8597">issue 8597</a>.</p>
            <li data-md>
                <p>Fragmented elements don’t participate in view transitions. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/8339">issue 8339</a>.</p>
            <li data-md>
                <p>Rename "snapshot root" to "snapshot containing block", and make it an <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block"
                        id="ref-for-absolute-positioning-containing-block①">absolute positioning containing block</a>
                    and a <a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block"
                        id="ref-for-fixed-positioning-containing-block①">fixed positioning containing block</a> for its
                    descendants. See <a href="https://github.com/w3c/csswg-drafts/issues/8505">issue 8505</a>.</p>
        </ul>
        <h3 class="heading settled" id="changes-since-2022-10-25"><span class="content"> Changes from <a
                    href="https://www.w3.org/TR/2022/WD-css-view-transitions-1-20221025/">2022-10-25 Working Draft
                    (FPWD)</a> </span><a class="self-link" href="#changes-since-2022-10-25"></a></h3>
        <ul>
            <li data-md>
                <p>Add <a data-link-type="dfn" href="#document-dynamic-view-transition-style-sheet"
                        id="ref-for-document-dynamic-view-transition-style-sheet①④">dynamic view transition style
                        sheet</a> concept for dynamically generated UA styles scoped to the current Document.</p>
            <li data-md>
                <p>Add snapshot viewport concept. See <a href="https://github.com/w3c/csswg-drafts/issues/7859">issue
                        7859</a>.</p>
            <li data-md>
                <p>Clarify timing for resolving/rejecting promises when skipping the transition. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7956">issue 7956</a>.</p>
            <li data-md>
                <p>Elements under a content-visibility:auto element that skips its contents are ignored. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7874">issue 7874</a>.</p>
            <li data-md>
                <p>UA styles on the pseudo-DOM stay in sync with author DOM for any developer observable API. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7812">issue 7812</a>.</p>
            <li data-md>
                <p>Suppress rendering during updateCallback. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7784">issue 7784</a>.</p>
            <li data-md>
                <p>Changes in size/position of elements in the new Document generate new UA animation keyframes. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7813">issue 7813</a>.</p>
            <li data-md>
                <p>Scope keyframes to user agent stylesheets using -ua- prefix. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7560">issue 7560</a>.</p>
            <li data-md>
                <p>Update pseudo element names to view-transition*. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7960">issue 7960</a>.</p>
            <li data-md>
                <p>Update selector syntax for pseudo-elements. See <a
                        href="https://github.com/w3c/csswg-drafts/issues/7788">issue 7788</a>.</p>
            <li data-md>
                <p>Add sections for security/privacy considerations.</p>
        </ul>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> Conformance</span><a
            class="self-link" href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> Document conventions</span><a
            class="self-link" href="#w3c-conventions"></a></h3>
    <p>Conformance requirements are expressed with a combination of
        descriptive assertions and RFC 2119 terminology. The key words “MUST”,
        “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
        “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
        document are to be interpreted as described in RFC 2119.
        However, for readability, these words do not appear in all uppercase
        letters in this specification. </p>
    <p>All of the text of this specification is normative except sections
        explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>Examples in this specification are introduced with the words “for example”
        or are set apart from the normative text with <code>class="example"</code>,
        like this: </p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>This is an example of an informative example.</p>
    </div>
    <p>Informative notes begin with the word “Note” and are set apart from the
        normative text with <code>class="note"</code>, like this: </p>
    <p class="note" role="note">Note, this is an informative note.</p>
    <p>Advisements are normative sections styled to evoke special attention and are
        set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
        this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong></p>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> Conformance classes</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>Conformance to this specification
        is defined for three conformance classes: </p>
    <dl>
        <dt>style sheet
        <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                style sheet</a>.
        <dt>renderer
        <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that interprets the semantics of a
            style sheet and renders
            documents that use them.
        <dt>authoring tool
        <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that writes a style sheet.
    </dl>
    <p>A style sheet is conformant to this specification
        if all of its statements that use syntax defined in this module are valid
        according to the generic CSS grammar and the individual grammars of each
        feature defined in this module. </p>
    <p>A renderer is conformant to this specification
        if, in addition to interpreting the style sheet as defined by the
        appropriate specifications, it supports all the features defined
        by this specification by parsing them correctly
        and rendering the document accordingly. However, the inability of a
        UA to correctly render a document due to limitations of the device
        does not make the UA non-conformant. (For example, a UA is not
        required to render color on a monochrome monitor.) </p>
    <p>An authoring tool is conformant to this specification
        if it writes style sheets that are syntactically correct according to the
        generic CSS grammar and the individual grammars of each feature in
        this module, and meet all other conformance requirements of style sheets
        as described in this module. </p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> Partial implementations</span><a
            class="self-link" href="#w3c-partial"></a></h3>
    <p>So that authors can exploit the forward-compatible parsing rules to
        assign fallback values, CSS renderers <strong>must</strong> treat as invalid (and <a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">ignore
            as appropriate</a>) any at-rules, properties, property values, keywords,
        and other syntactic constructs for which they have no usable level of
        support. In particular, user agents <strong>must not</strong> selectively
        ignore unsupported component values and honor supported values in a single
        multi-value property declaration: if any value is considered invalid
        (as unsupported values must be), CSS requires that the entire declaration
        be ignored.</p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> Implementations of Unstable and
            Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="https://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the
        implementation of <a href="https://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> Non-experimental implementations</span><a
            class="self-link" href="#w3c-testing"></a></h3>
    <p>Once a specification reaches the Candidate Recommendation stage,
        non-experimental implementations are possible, and implementors should
        release an unprefixed implementation of any CR-level feature they
        can demonstrate to be correctly implemented according to spec. </p>
    <p>To establish and maintain the interoperability of CSS across
        implementations, the CSS Working Group requests that non-experimental
        CSS renderers submit an implementation report (and, if necessary, the
        testcases used for that implementation report) to the W3C before
        releasing an unprefixed implementation of any CSS features. Testcases
        submitted to W3C are subject to review and correction by the CSS
        Working Group. </p>
    <p>Further information on submitting testcases and implementation reports
        can be found from on the CSS Working Group’s website at <a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>.
        Questions should be directed to the <a
            href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing
        list.</p>
    <h3 class="no-ref heading settled" id="w3c-cr-exit-criteria"><span class="content"> CR exit criteria</span><a
            class="self-link" href="#w3c-cr-exit-criteria"></a></h3>
    <p> For this specification to be advanced to Proposed Recommendation,
        there must be at least two independent, interoperable implementations
        of each feature. Each feature may be implemented by a different set of
        products, there is no requirement that all features be implemented by
        a single product. For the purposes of this criterion, we define the
        following terms: </p>
    <dl>
        <dt>independent
        <dd>each implementation must be developed by a
            different party and cannot share, reuse, or derive from code
            used by another qualifying implementation. Sections of code that
            have no bearing on the implementation of this specification are
            exempt from this requirement.
        <dt>interoperable
        <dd>passing the respective test case(s) in the
            official CSS test suite, or, if the implementation is not a Web
            browser, an equivalent test. Every relevant test in the test
            suite should have an equivalent test created if such a user
            agent (UA) is to be used to claim interoperability. In addition
            if such a UA is to be used to claim interoperability, then there
            must one or more additional UAs which can also pass those
            equivalent tests in the same way for the purpose of
            interoperability. The equivalent tests must be made publicly
            available for the purposes of peer review.
        <dt>implementation
        <dd>
            a user agent which:
            <ol class="inline">
                <li>implements the specification.
                <li>is available to the general public. The implementation may
                    be a shipping product or other publicly available version
                    (i.e., beta version, preview release, or "nightly build").
                    Non-shipping product releases must have implemented the
                    feature(s) for a period of at least one month in order to
                    demonstrate stability.
                <li>is not experimental (i.e., a version specifically designed
                    to pass the test suite and is not intended for normal usage
                    going forward).
            </ol>
    </dl>
    <p>The specification will remain Candidate Recommendation for at least
        six months.</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this
            specification</span><a class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#activate-view-transition">activate view transition</a><span>, in § 7.3</span>
        <li><a href="#document-active-view-transition">active view transition</a><span>, in § 7.1.1</span>
        <li><a href="#call-the-update-callback">call the update callback</a><span>, in § 7.4</span>
        <li><a href="#captured-element">captured element</a><span>, in § 7.1.3</span>
        <li><a href="#captured-in-a-view-transition">captured in a view transition</a><span>, in § 7.1.2</span>
        <li><a href="#capture-rendering-characteristics">capture rendering characteristics</a><span>, in § 7.6.1</span>
        <li><a href="#capture-the-image">capture the image</a><span>, in § 7.6</span>
        <li><a href="#capture-the-new-state">capture the new state</a><span>, in § 7.3.2</span>
        <li><a href="#capture-the-old-state">capture the old state</a><span>, in § 7.3.1</span>
        <li><a href="#capture-the-image">capturing the image</a><span>, in § 7.6</span>
        <li><a href="#clear-view-transition">clear view transition</a><span>, in § 7.9</span>
        <li><a href="#valdef-view-transition-name-custom-ident">&lt;custom-ident></a><span>, in § 2.1</span>
        <li><a href="#document-dynamic-view-transition-style-sheet">dynamic view transition style sheet</a><span>, in
                § 7.1.1</span>
        <li><a href="#dom-viewtransition-finished">finished</a><span>, in § 6.2</span>
        <li><a href="#viewtransition-finished-promise">finished promise</a><span>, in § 6.2</span>
        <li><a href="#global-view-transition-user-agent-style-sheet">global view transition user agent style
                sheet</a><span>, in § 5</span>
        <li><a href="#captured-element-group-animation-name-rule">group animation name rule</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-group-keyframes">group keyframes</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-group-styles-rule">group styles rule</a><span>, in § 7.1.3</span>
        <li><a href="#handle-transition-frame">handle transition frame</a><span>, in § 7.7</span>
        <li><a href="#captured-element-image-animation-name-rule">image animation name rule</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-image-pair-isolation-rule">image pair isolation rule</a><span>, in § 7.1.3</span>
        <li><a href="#viewtransition-initial-snapshot-containing-block-size">initial snapshot containing block
                size</a><span>, in § 6.2</span>
        <li><a href="#viewtransition-named-elements">named elements</a><span>, in § 6.2</span>
        <li><a href="#named-view-transition-pseudo-elements">named view transition pseudo-elements</a><span>, in
                § 3.2.1</span>
        <li><a href="#captured-element-new-element">new element</a><span>, in § 7.1.3</span>
        <li><a href="#valdef-view-transition-name-none">none</a><span>, in § 2.1</span>
        <li><a href="#captured-element-old-direction">old direction</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-old-height">old height</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-old-image">old image</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-old-mix-blend-mode">old mix-blend-mode</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-old-text-orientation">old text-orientation</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-old-transform">old transform</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-old-width">old width</a><span>, in § 7.1.3</span>
        <li><a href="#captured-element-old-writing-mode">old writing-mode</a><span>, in § 7.1.3</span>
        <li><a href="#perform-pending-transition-operations">perform pending transition operations</a><span>, in
                § 7.2</span>
        <li><a href="#viewtransition-phase">phase</a><span>, in § 6.2</span>
        <li><a href="#viewtransition-process-old-state-captured">process old state captured</a><span>, in § 6.2</span>
        <li><a href="#pseudo-element-root">pseudo-element root</a><span>, in § 3.1</span>
        <li><a href="#pseudo-element-tree">pseudo-element tree</a><span>, in § 3.1</span>
        <li><a href="#typedef-pt-name-selector">&lt;pt-name-selector></a><span>, in § 3.2.1</span>
        <li><a href="#dom-viewtransition-ready">ready</a><span>, in § 6.2</span>
        <li><a href="#viewtransition-ready-promise">ready promise</a><span>, in § 6.2</span>
        <li><a href="#document-rendering-suppression-for-view-transitions">rendering suppression for view
                transitions</a><span>, in § 7.1.1</span>
        <li><a href="#setup-transition-pseudo-elements">setup transition pseudo-elements</a><span>, in § 7.3.3</span>
        <li><a href="#setup-view-transition">setup view transition</a><span>, in § 7.3</span>
        <li><a href="#document-show-view-transition-tree">show view transition tree</a><span>, in § 7.1.1</span>
        <li><a href="#skip-the-view-transition">skip the view transition</a><span>, in § 7.5</span>
        <li><a href="#dom-viewtransition-skiptransition">skipTransition()</a><span>, in § 6.2.1</span>
        <li><a href="#snapshot-containing-block">snapshot containing block</a><span>, in § 4.1</span>
        <li><a href="#snapshot-containing-block-origin">snapshot containing block origin</a><span>, in § 4.1</span>
        <li><a href="#snapshot-containing-block-size">snapshot containing block size</a><span>, in § 4.1</span>
        <li><a href="#dom-document-startviewtransition">startViewTransition()</a><span>, in § 6.1.1</span>
        <li><a href="#dom-document-startviewtransition">startViewTransition(updateCallback)</a><span>, in § 6.1.1</span>
        <li><a href="#captured-element-style-definitions">style definitions</a><span>, in § 7.1.3</span>
        <li><a href="#viewtransition-transition-root-pseudo-element">transition root pseudo-element</a><span>, in
                § 6.2</span>
        <li><a href="#viewtransition-update-callback">update callback</a><span>, in § 6.2</span>
        <li><a href="#callbackdef-updatecallback">UpdateCallback</a><span>, in § 6.1</span>
        <li><a href="#dom-viewtransition-updatecallbackdone">updateCallbackDone</a><span>, in § 6.2</span>
        <li><a href="#viewtransition-update-callback-done-promise">update callback done promise</a><span>, in
                § 6.2</span>
        <li><a href="#update-pseudo-element-styles">update pseudo-element styles</a><span>, in § 7.8</span>
        <li><a href="#selectordef-view-transition">::view-transition</a><span>, in § 3.2.2</span>
        <li><a href="#viewtransition">ViewTransition</a><span>, in § 6.2</span>
        <li><a href="#selectordef-view-transition-group">::view-transition-group()</a><span>, in § 3.2.3</span>
        <li><a href="#selectordef-view-transition-image-pair">::view-transition-image-pair()</a><span>, in
                § 3.2.4</span>
        <li><a href="#view-transition-layer">view transition layer</a><span>, in § 4.2</span>
        <li><a href="#view-transition-name">view transition name</a><span>, in § 2.1</span>
        <li><a href="#propdef-view-transition-name">view-transition-name</a><span>, in § 2.1</span>
        <li><a href="#selectordef-view-transition-new">::view-transition-new()</a><span>, in § 3.2.6</span>
        <li><a href="#selectordef-view-transition-old">::view-transition-old()</a><span>, in § 3.2.5</span>
        <li><a href="#view-transition-pseudo-elements">view transition pseudo-elements</a><span>, in § 3.2</span>
        <li><a href="#view-transitions">view transitions</a><span>, in § 1</span>
        <li><a href="#view-transition-tree">view transition tree</a><span>, in § 3.2</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by
            reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="2bc52ca2">NavigateEvent</span>
                <li><span class="dfn-paneled" id="a3331757">signal</span>
            </ul>
        <li>
            <a data-link-type="biblio">[COMPOSITING-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="ecfe8e64">isolation</span>
                <li><span class="dfn-paneled" id="3249d67d">mix-blend-mode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-2022]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="226d9efe">style sheet</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-ANIMATIONS-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="256cde36">CSSKeyframesRule</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="fd42d148">canvas background</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BOX-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="85c399c0">border box</span>
                <li><span class="dfn-paneled" id="f72f5cb4">content box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BREAK-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="d65c0e81">box fragment</span>
                <li><span class="dfn-paneled" id="64bdec0d">fragment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="8c8e51b4">computed value</span>
                <li><span class="dfn-paneled" id="a9479ee7">user-agent origin</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-COLOR-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="3b7558dc">opacity</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CONTAIN-2]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="0830f093">skips its contents</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="6b4fc208">containing block</span>
                <li><span class="dfn-paneled" id="e26aa9bf">initial containing block</span>
                <li><span class="dfn-paneled" id="93f98063">principal box</span>
                <li><span class="dfn-paneled" id="299e10e4">replaced element</span>
                <li><span class="dfn-paneled" id="8b4f8a45">root element</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="2b29269e">invisible</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-IMAGES-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="487e1aa9">natural dimension</span>
                <li><span class="dfn-paneled" id="c0cc78c8">natural size</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-IMAGES-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="1389fc39">element-not-rendered</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-MASKING-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="e2b06daa">clip-path</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-OVERFLOW-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="00d2e365">ink overflow</span>
                <li><span class="dfn-paneled" id="1c933e34">ink overflow area</span>
                <li><span class="dfn-paneled" id="0938e0be">ink overflow rectangle</span>
                <li><span class="dfn-paneled" id="add377f4">overflow</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-POSITION-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="8bf8e632">absolute positioning containing block</span>
                <li><span class="dfn-paneled" id="1febb260">fixed positioning containing block</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-POSITION-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="8f59bb58">top layer</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-PSEUDO-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="b5ecbd4e">tree-abiding pseudo-element</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SCOPING-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="22109b0e">flat tree</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SIZING-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="5ad01cca">height</span>
                <li><span class="dfn-paneled" id="49731d1d">width</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TRANSFORMS-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="4525418a">identity transform function</span>
                <li><span class="dfn-paneled" id="e7c6bf78">transform</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TRANSFORMS-2]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="c43222a2">&lt;transform-function></span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="a0144f62">&lt;custom-ident></span>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VIEWPORT]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="93ed342d">interactive-widget</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="fb688f4f">direction</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="8664e85f">text-orientation</span>
                <li><span class="dfn-paneled" id="37bb38a0">writing-mode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS2]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="2161cf2b">pseudo-elements</span>
                <li><span class="dfn-paneled" id="a50c2771">stacking context</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS22]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="e8b75507">element</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="d293a05b">CSSStyleRule</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-VIEW-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="fafa15bc">layout viewport</span>
                <li><span class="dfn-paneled" id="4186822a">scrolling box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="85394472">Document</span>
                <li><span class="dfn-paneled" id="296f3551">Element</span>
                <li><span class="dfn-paneled" id="84f47c16">child</span>
                <li><span class="dfn-paneled" id="9638f92b">connected</span>
                <li><span class="dfn-paneled" id="da8b8e0e">descendant</span>
                <li><span class="dfn-paneled" id="a973e0fe">document</span>
                <li><span class="dfn-paneled" id="2f0ba72c">document element</span>
                <li><span class="dfn-paneled" id="f9d909f7">inclusive descendant</span>
                <li><span class="dfn-paneled" id="5216e1a0">node document</span>
                <li><span class="dfn-paneled" id="d729a9ff">parent</span>
                <li><span class="dfn-paneled" id="58df5166">participate</span>
                <li><span class="dfn-paneled" id="f7960529">root</span>
                <li><span class="dfn-paneled" id="fd32e3c9">shadow-including descendant</span>
                <li><span class="dfn-paneled" id="ad10ee29">sibling</span>
                <li><span class="dfn-paneled" id="e6cc3311">tree</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FILTER-EFFECTS-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="e9f6aadb">filter</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FILTER-EFFECTS-2]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="31c41a75">backdrop root</span>
            </ul>
        <li>
            <a data-link-type="biblio">[GEOMETRY-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="b904c22d">height</span>
                <li><span class="dfn-paneled" id="c7cb8568">width</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="3349d69f">associated document</span>
                <li><span class="dfn-paneled" id="e10e7eb7">dom manipulation task source</span>
                <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
                <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
                <li><span class="dfn-paneled" id="f1041b37">unhandledrejection</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
                <li><span class="dfn-paneled" id="77b4c09a">assert</span>
                <li><span class="dfn-paneled" id="ae8def21">contain</span>
                <li><span class="dfn-paneled" id="f937b7b6">continue</span>
                <li><span class="dfn-paneled" id="1243a891">exist</span>
                <li><span class="dfn-paneled" id="16d07e10">for each <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="45209803">for each <small>(for map)</small></span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
                <li><span class="dfn-paneled" id="649608b9">list</span>
                <li><span class="dfn-paneled" id="3fca5a9e">map</span>
                <li><span class="dfn-paneled" id="15e48c39">set</span>
                <li><span class="dfn-paneled" id="984221ca">struct</span>
                <li><span class="dfn-paneled" id="0e8de730">tuple</span>
                <li><span class="dfn-paneled" id="12d6b9a8">values</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INTERSECTION-OBSERVER]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="8e7046bc">IntersectionObserver</span>
            </ul>
        <li>
            <a data-link-type="biblio">[POINTEREVENTS3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="0ebcaeb1">pointer capture</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SELECTORS-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="dfd67b05">*</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SELECTORS-4]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="32fb2b6a">:only-child</span>
                <li><span class="dfn-paneled" id="2e965368">functional pseudo-element</span>
                <li><span class="dfn-paneled" id="7b5d8638">originating element</span>
                <li><span class="dfn-paneled" id="00ffc4c8">originating pseudo-element</span>
                <li><span class="dfn-paneled" id="4d06fa38">pseudo-element</span>
                <li><span class="dfn-paneled" id="388bc3fc">selector</span>
                <li><span class="dfn-paneled" id="15e81c46">type selector</span>
                <li><span class="dfn-paneled" id="fc8ac26a">ultimate originating element</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEB-ANIMATIONS-1]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="f3133dfc">associated effect</span>
                <li><span class="dfn-paneled" id="fe9b8cc4">document timeline</span>
                <li><span class="dfn-paneled" id="8a965e7d">effect target</span>
                <li><span class="dfn-paneled" id="59df29fe">paused</span>
                <li><span class="dfn-paneled" id="ac0fba29">pending animation event queue</span>
                <li><span class="dfn-paneled" id="bb293700">play state</span>
                <li><span class="dfn-paneled" id="960dded0">running</span>
                <li><span class="dfn-paneled" id="4c9d6912">timeline</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="d25dfb2c">AbortError</span>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                <li><span class="dfn-paneled" id="f0ba495b">TimeoutError</span>
                <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
                <li><span class="dfn-paneled" id="8f5c2179">a promise resolved with</span>
                <li><span class="dfn-paneled" id="6c6b1005">any</span>
                <li><span class="dfn-paneled" id="833154f2">getter steps</span>
                <li><span class="dfn-paneled" id="10ce5f6f">invoke</span>
                <li><span class="dfn-paneled" id="1171257a">mark as handled</span>
                <li><span class="dfn-paneled" id="3024958b">method steps</span>
                <li><span class="dfn-paneled" id="750a2f08">react</span>
                <li><span class="dfn-paneled" id="116848ac">reacting</span>
                <li><span class="dfn-paneled" id="b262501e">reject</span>
                <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
                <li><span class="dfn-paneled" id="11e0b87f">unrestricted double</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a
            class="self-link" href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a
            class="self-link" href="#normative"></a></h3>
    <dl>
        <dt id="biblio-compositing-1">[COMPOSITING-1]
        <dd>Rik Cabanier; Nikos Andronikos. <a href="https://www.w3.org/TR/compositing-1/"><cite>Compositing and
                    Blending Level 1</cite></a>. 13 January 2015. CR. URL: <a
                href="https://www.w3.org/TR/compositing-1/">https://www.w3.org/TR/compositing-1/</a>
        <dt id="biblio-css-2022">[CSS-2022]
        <dd>Tab Atkins Jr.; Elika Etemad; Florian Rivoal. <a href="https://www.w3.org/TR/css-2022/"><cite>CSS Snapshot
                    2022</cite></a>. 22 November 2022. NOTE. URL: <a
                href="https://www.w3.org/TR/css-2022/">https://www.w3.org/TR/css-2022/</a>
        <dt id="biblio-css-animations-1">[CSS-ANIMATIONS-1]
        <dd>David Baron; et al. <a href="https://www.w3.org/TR/css-animations-1/"><cite>CSS Animations Level
                    1</cite></a>. 2 March 2023. WD. URL: <a
                href="https://www.w3.org/TR/css-animations-1/">https://www.w3.org/TR/css-animations-1/</a>
        <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
        <dd>Bert Bos; Elika Etemad; Brad Kemper. <a href="https://www.w3.org/TR/css-backgrounds-3/"><cite>CSS
                    Backgrounds and Borders Module Level 3</cite></a>. 14 February 2023. CR. URL: <a
                href="https://www.w3.org/TR/css-backgrounds-3/">https://www.w3.org/TR/css-backgrounds-3/</a>
        <dt id="biblio-css-box-4">[CSS-BOX-4]
        <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-box-4/"><cite>CSS Box Model Module Level 4</cite></a>. 3
            November 2022. WD. URL: <a href="https://www.w3.org/TR/css-box-4/">https://www.w3.org/TR/css-box-4/</a>
        <dt id="biblio-css-break-4">[CSS-BREAK-4]
        <dd>Rossen Atanassov; Elika Etemad. <a href="https://www.w3.org/TR/css-break-4/"><cite>CSS Fragmentation Module
                    Level 4</cite></a>. 18 December 2018. WD. URL: <a
                href="https://www.w3.org/TR/css-break-4/">https://www.w3.org/TR/css-break-4/</a>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS
                    Cascading and Inheritance Level 5</cite></a>. 13 January 2022. CR. URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Tab Atkins Jr.; Chris Lilley; Lea Verou. <a href="https://www.w3.org/TR/css-color-4/"><cite>CSS Color Module
                    Level 4</cite></a>. 1 November 2022. CR. URL: <a
                href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-contain-2">[CSS-CONTAIN-2]
        <dd>Tab Atkins Jr.; Florian Rivoal; Vladimir Levin. <a href="https://www.w3.org/TR/css-contain-2/"><cite>CSS
                    Containment Module Level 2</cite></a>. 17 September 2022. WD. URL: <a
                href="https://www.w3.org/TR/css-contain-2/">https://www.w3.org/TR/css-contain-2/</a>
        <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-display-3/"><cite>CSS Display Module Level
                    3</cite></a>. 30 March 2023. CR. URL: <a
                href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
        <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
        <dd><a href="https://drafts.csswg.org/css-display-4/"><cite>CSS Display Module Level 4</cite></a>. Editor's
            Draft. URL: <a href="https://drafts.csswg.org/css-display-4/">https://drafts.csswg.org/css-display-4/</a>
        <dt id="biblio-css-images-3">[CSS-IMAGES-3]
        <dd>Tab Atkins Jr.; Elika Etemad; Lea Verou. <a href="https://www.w3.org/TR/css-images-3/"><cite>CSS Images
                    Module Level 3</cite></a>. 17 December 2020. CR. URL: <a
                href="https://www.w3.org/TR/css-images-3/">https://www.w3.org/TR/css-images-3/</a>
        <dt id="biblio-css-images-4">[CSS-IMAGES-4]
        <dd>Tab Atkins Jr.; Elika Etemad; Lea Verou. <a href="https://www.w3.org/TR/css-images-4/"><cite>CSS Images
                    Module Level 4</cite></a>. 17 February 2023. WD. URL: <a
                href="https://www.w3.org/TR/css-images-4/">https://www.w3.org/TR/css-images-4/</a>
        <dt id="biblio-css-masking-1">[CSS-MASKING-1]
        <dd>Dirk Schulze; Brian Birtles; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-masking-1/"><cite>CSS
                    Masking Module Level 1</cite></a>. 5 August 2021. CR. URL: <a
                href="https://www.w3.org/TR/css-masking-1/">https://www.w3.org/TR/css-masking-1/</a>
        <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
        <dd>Elika Etemad; Florian Rivoal. <a href="https://www.w3.org/TR/css-overflow-3/"><cite>CSS Overflow Module
                    Level 3</cite></a>. 29 March 2023. WD. URL: <a
                href="https://www.w3.org/TR/css-overflow-3/">https://www.w3.org/TR/css-overflow-3/</a>
        <dt id="biblio-css-position-3">[CSS-POSITION-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-position-3/"><cite>CSS Positioned Layout
                    Module Level 3</cite></a>. 3 April 2023. WD. URL: <a
                href="https://www.w3.org/TR/css-position-3/">https://www.w3.org/TR/css-position-3/</a>
        <dt id="biblio-css-position-4">[CSS-POSITION-4]
        <dd><a href="https://drafts.csswg.org/css-position-4/"><cite>CSS Positioned Layout Module Level 4</cite></a>.
            Editor's Draft. URL: <a
                href="https://drafts.csswg.org/css-position-4/">https://drafts.csswg.org/css-position-4/</a>
        <dt id="biblio-css-pseudo-4">[CSS-PSEUDO-4]
        <dd>Daniel Glazman; Elika Etemad; Alan Stearns. <a href="https://www.w3.org/TR/css-pseudo-4/"><cite>CSS
                    Pseudo-Elements Module Level 4</cite></a>. 30 December 2022. WD. URL: <a
                href="https://www.w3.org/TR/css-pseudo-4/">https://www.w3.org/TR/css-pseudo-4/</a>
        <dt id="biblio-css-scoping-1">[CSS-SCOPING-1]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-scoping-1/"><cite>CSS Scoping Module Level
                    1</cite></a>. 3 April 2014. WD. URL: <a
                href="https://www.w3.org/TR/css-scoping-1/">https://www.w3.org/TR/css-scoping-1/</a>
        <dt id="biblio-css-transforms-1">[CSS-TRANSFORMS-1]
        <dd>Simon Fraser; et al. <a href="https://www.w3.org/TR/css-transforms-1/"><cite>CSS Transforms Module Level
                    1</cite></a>. 14 February 2019. CR. URL: <a
                href="https://www.w3.org/TR/css-transforms-1/">https://www.w3.org/TR/css-transforms-1/</a>
        <dt id="biblio-css-transforms-2">[CSS-TRANSFORMS-2]
        <dd>Tab Atkins Jr.; et al. <a href="https://www.w3.org/TR/css-transforms-2/"><cite>CSS Transforms Module Level
                    2</cite></a>. 9 November 2021. WD. URL: <a
                href="https://www.w3.org/TR/css-transforms-2/">https://www.w3.org/TR/css-transforms-2/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>. 6 April 2023. WD. URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-viewport">[CSS-VIEWPORT]
        <dd><a href="https://drafts.csswg.org/css-viewport/"><cite>CSS Viewport Module Level 1</cite></a>. Editor's
            Draft. URL: <a href="https://drafts.csswg.org/css-viewport/">https://drafts.csswg.org/css-viewport/</a>
        <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-3/"><cite>CSS Writing Modes Level
                    3</cite></a>. 10 December 2019. REC. URL: <a
                href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS Writing Modes Level
                    4</cite></a>. 30 July 2019. CR. URL: <a
                href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS21/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS
                    2.1) Specification</cite></a>. 7 June 2011. REC. URL: <a
                href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-css22">[CSS22]
        <dd>Bert Bos. <a href="https://www.w3.org/TR/CSS22/"><cite>Cascading Style Sheets Level 2 Revision 2 (CSS 2.2)
                    Specification</cite></a>. 12 April 2016. WD. URL: <a
                href="https://www.w3.org/TR/CSS22/">https://www.w3.org/TR/CSS22/</a>
        <dt id="biblio-cssom-1">[CSSOM-1]
        <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://www.w3.org/TR/cssom-1/"><cite>CSS Object Model
                    (CSSOM)</cite></a>. 26 August 2021. WD. URL: <a
                href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
        <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
        <dd>Simon Pieters. <a href="https://www.w3.org/TR/cssom-view-1/"><cite>CSSOM View Module</cite></a>. 17 March
            2016. WD. URL: <a href="https://www.w3.org/TR/cssom-view-1/">https://www.w3.org/TR/cssom-view-1/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-filter-effects-1">[FILTER-EFFECTS-1]
        <dd>Dirk Schulze; Dean Jackson. <a href="https://www.w3.org/TR/filter-effects-1/"><cite>Filter Effects Module
                    Level 1</cite></a>. 18 December 2018. WD. URL: <a
                href="https://www.w3.org/TR/filter-effects-1/">https://www.w3.org/TR/filter-effects-1/</a>
        <dt id="biblio-filter-effects-2">[FILTER-EFFECTS-2]
        <dd><a href="https://drafts.fxtf.org/filter-effects-2/"><cite>Filter Effects Module Level 2</cite></a>. Editor's
            Draft. URL: <a
                href="https://drafts.fxtf.org/filter-effects-2/">https://drafts.fxtf.org/filter-effects-2/</a>
        <dt id="biblio-geometry-1">[GEOMETRY-1]
        <dd>Simon Pieters; Chris Harrelson. <a href="https://www.w3.org/TR/geometry-1/"><cite>Geometry Interfaces Module
                    Level 1</cite></a>. 4 December 2018. CR. URL: <a
                href="https://www.w3.org/TR/geometry-1/">https://www.w3.org/TR/geometry-1/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>. Living Standard. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-intersection-observer">[INTERSECTION-OBSERVER]
        <dd>Stefan Zager; Emilio Cobos Álvarez. <a
                href="https://www.w3.org/TR/intersection-observer/"><cite>Intersection Observer</cite></a>. 6 July 2022.
            WD. URL: <a
                href="https://www.w3.org/TR/intersection-observer/">https://www.w3.org/TR/intersection-observer/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-selectors-3">[SELECTORS-3]
        <dd>Tantek Çelik; et al. <a href="https://www.w3.org/TR/selectors-3/"><cite>Selectors Level 3</cite></a>. 6
            November 2018. REC. URL: <a href="https://www.w3.org/TR/selectors-3/">https://www.w3.org/TR/selectors-3/</a>
        <dt id="biblio-selectors-4">[SELECTORS-4]
        <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/selectors-4/"><cite>Selectors Level
                    4</cite></a>. 11 November 2022. WD. URL: <a
                href="https://www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a>
        <dt id="biblio-web-animations-1">[WEB-ANIMATIONS-1]
        <dd>Brian Birtles; et al. <a href="https://www.w3.org/TR/web-animations-1/"><cite>Web Animations</cite></a>. 5
            June 2023. WD. URL: <a
                href="https://www.w3.org/TR/web-animations-1/">https://www.w3.org/TR/web-animations-1/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a
            class="self-link" href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-sizing-3/"><cite>CSS Box Sizing Module
                    Level 3</cite></a>. 17 December 2021. WD. URL: <a
                href="https://www.w3.org/TR/css-sizing-3/">https://www.w3.org/TR/css-sizing-3/</a>
        <dt id="biblio-pointerevents3">[POINTEREVENTS3]
        <dd>Patrick Lauke; Navid Zolghadr. <a href="https://www.w3.org/TR/pointerevents3/"><cite>Pointer
                    Events</cite></a>. 2 March 2023. WD. URL: <a
                href="https://www.w3.org/TR/pointerevents3/">https://www.w3.org/TR/pointerevents3/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a
            class="self-link" href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">Name
                    <th scope="col">Value
                    <th scope="col">Initial
                    <th scope="col">Applies to
                    <th scope="col">Inh.
                    <th scope="col">%ages
                    <th scope="col">Anim­ation type
                    <th scope="col">Canonical order
                    <th scope="col">Com­puted value
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-view-transition-name"
                            id="ref-for-propdef-view-transition-name①①">view-transition-name</a>
                    <td>none | &lt;custom-ident>
                    <td>none
                    <td>all elements
                    <td>no
                    <td>n/a
                    <td>discrete
                    <td>per grammar
                    <td>as specified
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#document"><c- g>Document</c-></a> {
  <a data-link-type="idl-name" href="#viewtransition"><c- n>ViewTransition</c-></a> <a class="idl-code" data-link-type="method" href="#dom-document-startviewtransition"><c- g>startViewTransition</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#callbackdef-updatecallback"><c- n>UpdateCallback</c-></a>? <a href="#dom-document-startviewtransition-updatecallback-updatecallback"><code><c- g>updateCallback</c-></code></a> = <c- b>null</c->);
};

<c- b>callback</c-> <a href="#callbackdef-updatecallback"><code><c- g>UpdateCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> ();

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#viewtransition"><code><c- g>ViewTransition</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a data-readonly data-type="Promise<undefined>" href="#dom-viewtransition-updatecallbackdone"><code><c- g>updateCallbackDone</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a data-readonly data-type="Promise<undefined>" href="#dom-viewtransition-ready"><code><c- g>ready</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a data-readonly data-type="Promise<undefined>" href="#dom-viewtransition-finished"><code><c- g>finished</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-viewtransition-skiptransition"><c- g>skipTransition</c-></a>();
};

</pre>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            const dfnsJson = window.dfnsJson || {};

            function genDfnPanel({ dfnID, url, dfnText, refSections, external }) {
                return mk.aside({
                    class: "dfn-panel",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url }, url),
                    mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({
                                            href: `#${ref.id}`
                                        },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                );
            }

            function genAllDfnPanels() {
                for (const panelData of Object.values(window.dfnpanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                    } else {
                        const panel = genDfnPanel(panelData);
                        append(document.body, panel);
                        insertDfnPopupAction(dfn, panel)
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                // Add popup behavior to all dfns to show the corresponding dfn-panel.
                var dfns = queryAll('.dfn-paneled');
                for (let dfn of dfns) { ; }

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            })


            function hideAllDfnPanels() {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => hideDfnPanel(el));
            }

            function showDfnPanel(dfnPanel, dfn) {
                hideAllDfnPanels(); // Only display one at this time.
                dfn.setAttribute("aria-expanded", "true");
                dfnPanel.classList.add("on");
                dfnPanel.style.left = "5px";
                dfnPanel.style.top = "0px";
                const panelRect = dfnPanel.getBoundingClientRect();
                const panelWidth = panelRect.right - panelRect.left;
                if (panelRect.right > document.body.scrollWidth) {
                    // Panel's overflowing the screen.
                    // Just drop it below the dfn and flip it rightward instead.
                    // This still wont' fix things if the screen is *really* wide,
                    // but fixing that's a lot harder without 'anchor()'.
                    dfnPanel.style.top = "1.5em";
                    dfnPanel.style.left = "auto";
                    dfnPanel.style.right = "0px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel(dfnPanel, dfn) {
                if (!dfn) {
                    dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
                }
                dfn.setAttribute("aria-expanded", "false")
                dfnPanel.classList.remove("on");
                dfnPanel.classList.remove("activated");
            }

            function toggleDfnPanel(dfnPanel, dfn) {
                if (dfnPanel.classList.contains("on")) {
                    hideDfnPanel(dfnPanel, dfn);
                } else {
                    showDfnPanel(dfnPanel, dfn);
                }
            }

            function insertDfnPopupAction(dfn, dfnPanel) {
                // Find dfn panel
                const panelWrapper = document.createElement('span');
                panelWrapper.appendChild(dfnPanel);
                panelWrapper.style.position = "relative";
                panelWrapper.style.height = "0px";
                dfn.insertAdjacentElement("afterend", panelWrapper);
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    showDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                });

                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                })
            }
        }
    </script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            const dfnsJson = window.dfnsJson || {};

            function genDfnPanel({ dfnID, url, dfnText, refSections, external }) {
                return mk.aside({
                    class: "dfn-panel",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url }, url),
                    mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({
                                            href: `#${ref.id}`
                                        },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                );
            }

            function genAllDfnPanels() {
                for (const panelData of Object.values(window.dfnpanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                    } else {
                        const panel = genDfnPanel(panelData);
                        append(document.body, panel);
                        insertDfnPopupAction(dfn, panel)
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                // Add popup behavior to all dfns to show the corresponding dfn-panel.
                var dfns = queryAll('.dfn-paneled');
                for (let dfn of dfns) { ; }

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            })


            function hideAllDfnPanels() {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => hideDfnPanel(el));
            }

            function showDfnPanel(dfnPanel, dfn) {
                hideAllDfnPanels(); // Only display one at this time.
                dfn.setAttribute("aria-expanded", "true");
                dfnPanel.classList.add("on");
                dfnPanel.style.left = "5px";
                dfnPanel.style.top = "0px";
                const panelRect = dfnPanel.getBoundingClientRect();
                const panelWidth = panelRect.right - panelRect.left;
                if (panelRect.right > document.body.scrollWidth) {
                    // Panel's overflowing the screen.
                    // Just drop it below the dfn and flip it rightward instead.
                    // This still wont' fix things if the screen is *really* wide,
                    // but fixing that's a lot harder without 'anchor()'.
                    dfnPanel.style.top = "1.5em";
                    dfnPanel.style.left = "auto";
                    dfnPanel.style.right = "0px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel(dfnPanel, dfn) {
                if (!dfn) {
                    dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
                }
                dfn.setAttribute("aria-expanded", "false")
                dfnPanel.classList.remove("on");
                dfnPanel.classList.remove("activated");
            }

            function toggleDfnPanel(dfnPanel, dfn) {
                if (dfnPanel.classList.contains("on")) {
                    hideDfnPanel(dfnPanel, dfn);
                } else {
                    showDfnPanel(dfnPanel, dfn);
                }
            }

            function insertDfnPopupAction(dfn, dfnPanel) {
                // Find dfn panel
                const panelWrapper = document.createElement('span');
                panelWrapper.appendChild(dfnPanel);
                panelWrapper.style.position = "relative";
                panelWrapper.style.height = "0px";
                dfn.insertAdjacentElement("afterend", panelWrapper);
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    showDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                });

                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                })
            }
        }
    </script>
    <script>/* Boilerplate: script-dfn-panel-json */
        window.dfnpanelData = {};
        window.dfnpanelData['2bc52ca2'] = { "dfnID": "2bc52ca2", "url": "https://wicg.github.io/navigation-api/#navigateevent", "dfnText": "NavigateEvent", "refSections": [{ "refs": [{ "id": "ref-for-navigateevent" }], "title": "1.4. Transitions as an enhancement" }], "external": true };
        window.dfnpanelData['a3331757'] = { "dfnID": "a3331757", "url": "https://wicg.github.io/navigation-api/#ref-for-dom-navigateevent-signal\u2460", "dfnText": "signal", "refSections": [{ "refs": [{ "id": "ref-for-ref-for-dom-navigateevent-signal\u2460" }], "title": "1.4. Transitions as an enhancement" }], "external": true };
        window.dfnpanelData['ecfe8e64'] = { "dfnID": "ecfe8e64", "url": "https://www.w3.org/TR/compositing-1/#propdef-isolation", "dfnText": "isolation", "refSections": [{ "refs": [{ "id": "ref-for-propdef-isolation" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }], "external": true };
        window.dfnpanelData['3249d67d'] = { "dfnID": "3249d67d", "url": "https://www.w3.org/TR/compositing-1/#propdef-mix-blend-mode", "dfnText": "mix-blend-mode", "refSections": [{ "refs": [{ "id": "ref-for-propdef-mix-blend-mode" }], "title": "1.5. Rendering Model" }, { "refs": [{ "id": "ref-for-propdef-mix-blend-mode\u2460" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-propdef-mix-blend-mode\u2461" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-propdef-mix-blend-mode\u2462" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-propdef-mix-blend-mode\u2463" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['226d9efe'] = { "dfnID": "226d9efe", "url": "https://www.w3.org/TR/css-2022/#style-sheet", "dfnText": "style sheet", "refSections": [{ "refs": [{ "id": "ref-for-style-sheet" }, { "id": "ref-for-style-sheet\u2460" }], "title": "7.1.1. Additions to Document" }], "external": true };
        window.dfnpanelData['256cde36'] = { "dfnID": "256cde36", "url": "https://www.w3.org/TR/css-animations-1/#csskeyframesrule", "dfnText": "CSSKeyframesRule", "refSections": [{ "refs": [{ "id": "ref-for-csskeyframesrule" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-csskeyframesrule\u2460" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": true };
        window.dfnpanelData['fd42d148'] = { "dfnID": "fd42d148", "url": "https://www.w3.org/TR/css-backgrounds-3/#canvas-background", "dfnText": "canvas background", "refSections": [{ "refs": [{ "id": "ref-for-canvas-background" }, { "id": "ref-for-canvas-background\u2460" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['85c399c0'] = { "dfnID": "85c399c0", "url": "https://www.w3.org/TR/css-box-4/#border-box", "dfnText": "border box", "refSections": [{ "refs": [{ "id": "ref-for-border-box" }, { "id": "ref-for-border-box\u2460" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-border-box\u2461" }, { "id": "ref-for-border-box\u2462" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-border-box\u2463" }, { "id": "ref-for-border-box\u2464" }, { "id": "ref-for-border-box\u2465" }], "title": "7.6. Capture the image" }, { "refs": [{ "id": "ref-for-border-box\u2466" }, { "id": "ref-for-border-box\u2467" }, { "id": "ref-for-border-box\u2468" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['f72f5cb4'] = { "dfnID": "f72f5cb4", "url": "https://www.w3.org/TR/css-box-4/#content-box", "dfnText": "content box", "refSections": [{ "refs": [{ "id": "ref-for-content-box" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['d65c0e81'] = { "dfnID": "d65c0e81", "url": "https://www.w3.org/TR/css-break-4/#box-fragment", "dfnText": "box fragment", "refSections": [{ "refs": [{ "id": "ref-for-box-fragment" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-box-fragment\u2460" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['64bdec0d'] = { "dfnID": "64bdec0d", "url": "https://www.w3.org/TR/css-break-4/#fragment", "dfnText": "fragment", "refSections": [{ "refs": [{ "id": "ref-for-fragment" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }], "external": true };
        window.dfnpanelData['8c8e51b4'] = { "dfnID": "8c8e51b4", "url": "https://www.w3.org/TR/css-cascade-5/#computed-value", "dfnText": "computed value", "refSections": [{ "refs": [{ "id": "ref-for-computed-value" }], "title": "2.1.1. Rendering Consolidation" }, { "refs": [{ "id": "ref-for-computed-value\u2460" }, { "id": "ref-for-computed-value\u2461" }, { "id": "ref-for-computed-value\u2462" }, { "id": "ref-for-computed-value\u2463" }, { "id": "ref-for-computed-value\u2464" }, { "id": "ref-for-computed-value\u2465" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-computed-value\u2466" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-computed-value\u2467" }, { "id": "ref-for-computed-value\u2468" }, { "id": "ref-for-computed-value\u2460\u24ea" }, { "id": "ref-for-computed-value\u2460\u2460" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['a9479ee7'] = { "dfnID": "a9479ee7", "url": "https://www.w3.org/TR/css-cascade-5/#cascade-origin-ua", "dfnText": "user-agent origin", "refSections": [{ "refs": [{ "id": "ref-for-cascade-origin-ua" }, { "id": "ref-for-cascade-origin-ua\u2460" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-cascade-origin-ua\u2461" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-cascade-origin-ua\u2462" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['3b7558dc'] = { "dfnID": "3b7558dc", "url": "https://www.w3.org/TR/css-color-4/#propdef-opacity", "dfnText": "opacity", "refSections": [{ "refs": [{ "id": "ref-for-propdef-opacity" }], "title": "1.5. Rendering Model" }, { "refs": [{ "id": "ref-for-propdef-opacity\u2460" }], "title": "7.6.1. Capture rendering characteristics" }], "external": true };
        window.dfnpanelData['0830f093'] = { "dfnID": "0830f093", "url": "https://www.w3.org/TR/css-contain-2/#skips-its-contents", "dfnText": "skips its contents", "refSections": [{ "refs": [{ "id": "ref-for-skips-its-contents" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-skips-its-contents\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-skips-its-contents\u2461" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-skips-its-contents\u2462" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['6b4fc208'] = { "dfnID": "6b4fc208", "url": "https://www.w3.org/TR/css-display-3/#containing-block", "dfnText": "containing block", "refSections": [{ "refs": [{ "id": "ref-for-containing-block" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }, { "refs": [{ "id": "ref-for-containing-block\u2460" }], "title": "7.1.1. Additions to Document" }], "external": true };
        window.dfnpanelData['e26aa9bf'] = { "dfnID": "e26aa9bf", "url": "https://www.w3.org/TR/css-display-3/#initial-containing-block", "dfnText": "initial containing block", "refSections": [{ "refs": [{ "id": "ref-for-initial-containing-block" }], "title": "4. View Transition Layout" }], "external": true };
        window.dfnpanelData['93f98063'] = { "dfnID": "93f98063", "url": "https://www.w3.org/TR/css-display-3/#principal-box", "dfnText": "principal box", "refSections": [{ "refs": [{ "id": "ref-for-principal-box" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-principal-box\u2460" }, { "id": "ref-for-principal-box\u2461" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['299e10e4'] = { "dfnID": "299e10e4", "url": "https://www.w3.org/TR/css-display-3/#replaced-element", "dfnText": "replaced element", "refSections": [{ "refs": [{ "id": "ref-for-replaced-element" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-replaced-element\u2460" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-replaced-element\u2461" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-replaced-element\u2462" }], "title": "7.6. Capture the image" }, { "refs": [{ "id": "ref-for-replaced-element\u2463" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['8b4f8a45'] = { "dfnID": "8b4f8a45", "url": "https://www.w3.org/TR/css-display-3/#root-element", "dfnText": "root element", "refSections": [{ "refs": [{ "id": "ref-for-root-element" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-root-element\u2460" }], "title": "5. User Agent Stylesheet" }], "external": true };
        window.dfnpanelData['2b29269e'] = { "dfnID": "2b29269e", "url": "https://drafts.csswg.org/css-display-4/#invisible", "dfnText": "invisible", "refSections": [{ "refs": [{ "id": "ref-for-invisible" }], "title": "4.2. View Transition Painting Order" }], "external": true };
        window.dfnpanelData['487e1aa9'] = { "dfnID": "487e1aa9", "url": "https://www.w3.org/TR/css-images-3/#natural-dimensions", "dfnText": "natural dimension", "refSections": [{ "refs": [{ "id": "ref-for-natural-dimensions" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-natural-dimensions\u2460" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-natural-dimensions\u2461" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['c0cc78c8'] = { "dfnID": "c0cc78c8", "url": "https://www.w3.org/TR/css-images-3/#natural-size", "dfnText": "natural size", "refSections": [{ "refs": [{ "id": "ref-for-natural-size" }], "title": "7.6. Capture the image" }, { "refs": [{ "id": "ref-for-natural-size\u2460" }], "title": "\nChanges from 2022-11-24 Working Draft\n" }], "external": true };
        window.dfnpanelData['1389fc39'] = { "dfnID": "1389fc39", "url": "https://www.w3.org/TR/css-images-4/#element-not-rendered", "dfnText": "element-not-rendered", "refSections": [{ "refs": [{ "id": "ref-for-element-not-rendered" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-element-not-rendered\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-element-not-rendered\u2461" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-element-not-rendered\u2462" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['e2b06daa'] = { "dfnID": "e2b06daa", "url": "https://www.w3.org/TR/css-masking-1/#propdef-clip-path", "dfnText": "clip-path", "refSections": [{ "refs": [{ "id": "ref-for-propdef-clip-path" }], "title": "1.5. Rendering Model" }], "external": true };
        window.dfnpanelData['00d2e365'] = { "dfnID": "00d2e365", "url": "https://www.w3.org/TR/css-overflow-3/#ink-overflow", "dfnText": "ink overflow", "refSections": [{ "refs": [{ "id": "ref-for-ink-overflow" }, { "id": "ref-for-ink-overflow\u2460" }], "title": "7.6. Capture the image" }, { "refs": [{ "id": "ref-for-ink-overflow\u2461" }], "title": "\nChanges from 2022-11-24 Working Draft\n" }], "external": true };
        window.dfnpanelData['1c933e34'] = { "dfnID": "1c933e34", "url": "https://www.w3.org/TR/css-overflow-3/#ink-overflow-region", "dfnText": "ink overflow area", "refSections": [{ "refs": [{ "id": "ref-for-ink-overflow-region" }], "title": "7.6.1. Capture rendering characteristics" }], "external": true };
        window.dfnpanelData['0938e0be'] = { "dfnID": "0938e0be", "url": "https://www.w3.org/TR/css-overflow-3/#ink-overflow-rectangle", "dfnText": "ink overflow rectangle", "refSections": [{ "refs": [{ "id": "ref-for-ink-overflow-rectangle" }], "title": "7.6. Capture the image" }, { "refs": [{ "id": "ref-for-ink-overflow-rectangle\u2460" }], "title": "7.6.1. Capture rendering characteristics" }], "external": true };
        window.dfnpanelData['add377f4'] = { "dfnID": "add377f4", "url": "https://www.w3.org/TR/css-overflow-3/#propdef-overflow", "dfnText": "overflow", "refSections": [{ "refs": [{ "id": "ref-for-propdef-overflow" }], "title": "1.5. Rendering Model" }], "external": true };
        window.dfnpanelData['8bf8e632'] = { "dfnID": "8bf8e632", "url": "https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block", "dfnText": "absolute positioning containing block", "refSections": [{ "refs": [{ "id": "ref-for-absolute-positioning-containing-block" }], "title": "4.1. The Snapshot Containing Block" }, { "refs": [{ "id": "ref-for-absolute-positioning-containing-block\u2460" }], "title": "\nChanges from 2022-11-24 Working Draft\n" }], "external": true };
        window.dfnpanelData['1febb260'] = { "dfnID": "1febb260", "url": "https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block", "dfnText": "fixed positioning containing block", "refSections": [{ "refs": [{ "id": "ref-for-fixed-positioning-containing-block" }], "title": "4.1. The Snapshot Containing Block" }, { "refs": [{ "id": "ref-for-fixed-positioning-containing-block\u2460" }], "title": "\nChanges from 2022-11-24 Working Draft\n" }], "external": true };
        window.dfnpanelData['8f59bb58'] = { "dfnID": "8f59bb58", "url": "https://drafts.csswg.org/css-position-4/#document-top-layer", "dfnText": "top layer", "refSections": [{ "refs": [{ "id": "ref-for-document-top-layer" }], "title": "4.2. View Transition Painting Order" }, { "refs": [{ "id": "ref-for-document-top-layer\u2460" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['b5ecbd4e'] = { "dfnID": "b5ecbd4e", "url": "https://www.w3.org/TR/css-pseudo-4/#tree-abiding", "dfnText": "tree-abiding pseudo-element", "refSections": [{ "refs": [{ "id": "ref-for-tree-abiding" }, { "id": "ref-for-tree-abiding\u2460" }, { "id": "ref-for-tree-abiding\u2461" }], "title": "3.1. Pseudo-element Trees" }, { "refs": [{ "id": "ref-for-tree-abiding\u2462" }], "title": "3.2.1. Named View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-tree-abiding\u2463" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }], "external": true };
        window.dfnpanelData['22109b0e'] = { "dfnID": "22109b0e", "url": "https://drafts.csswg.org/css-scoping-1/#flat-tree", "dfnText": "flat tree", "refSections": [{ "refs": [{ "id": "ref-for-flat-tree" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-flat-tree\u2460" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-flat-tree\u2461" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['5ad01cca'] = { "dfnID": "5ad01cca", "url": "https://www.w3.org/TR/css-sizing-3/#propdef-height", "dfnText": "height", "refSections": [{ "refs": [{ "id": "ref-for-propdef-height" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }], "external": true };
        window.dfnpanelData['49731d1d'] = { "dfnID": "49731d1d", "url": "https://www.w3.org/TR/css-sizing-3/#propdef-width", "dfnText": "width", "refSections": [{ "refs": [{ "id": "ref-for-propdef-width" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }], "external": true };
        window.dfnpanelData['4525418a'] = { "dfnID": "4525418a", "url": "https://www.w3.org/TR/css-transforms-1/#identity-transform-function", "dfnText": "identity transform function", "refSections": [{ "refs": [{ "id": "ref-for-identity-transform-function" }], "title": "7.1.3. Captured elements" }], "external": true };
        window.dfnpanelData['e7c6bf78'] = { "dfnID": "e7c6bf78", "url": "https://www.w3.org/TR/css-transforms-1/#propdef-transform", "dfnText": "transform", "refSections": [{ "refs": [{ "id": "ref-for-propdef-transform" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }], "external": true };
        window.dfnpanelData['c43222a2'] = { "dfnID": "c43222a2", "url": "https://www.w3.org/TR/css-transforms-2/#typedef-transform-function", "dfnText": "<transform-function>", "refSections": [{ "refs": [{ "id": "ref-for-typedef-transform-function" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-typedef-transform-function\u2460" }], "title": "7.3.1. Capture the old state" }], "external": true };
        window.dfnpanelData['a0144f62'] = { "dfnID": "a0144f62", "url": "https://www.w3.org/TR/css-values-4/#identifier-value", "dfnText": "<custom-ident>", "refSections": [{ "refs": [{ "id": "ref-for-identifier-value" }, { "id": "ref-for-identifier-value\u2460" }, { "id": "ref-for-identifier-value\u2461" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-identifier-value\u2462" }, { "id": "ref-for-identifier-value\u2463" }, { "id": "ref-for-identifier-value\u2464" }], "title": "3.2.1. Named View Transition Pseudo-elements" }], "external": true };
        window.dfnpanelData['4eb9d37e'] = { "dfnID": "4eb9d37e", "url": "https://www.w3.org/TR/css-values-4/#comb-one", "dfnText": "|", "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-comb-one\u2460" }], "title": "3.2.1. Named View Transition Pseudo-elements" }], "external": true };
        window.dfnpanelData['93ed342d'] = { "dfnID": "93ed342d", "url": "https://drafts.csswg.org/css-viewport/#interactive-widget", "dfnText": "interactive-widget", "refSections": [{ "refs": [{ "id": "ref-for-interactive-widget" }], "title": "4.1. The Snapshot Containing Block" }], "external": true };
        window.dfnpanelData['fb688f4f'] = { "dfnID": "fb688f4f", "url": "https://www.w3.org/TR/css-writing-modes-3/#propdef-direction", "dfnText": "direction", "refSections": [{ "refs": [{ "id": "ref-for-propdef-direction" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-propdef-direction\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-propdef-direction\u2461" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['8664e85f'] = { "dfnID": "8664e85f", "url": "https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation", "dfnText": "text-orientation", "refSections": [{ "refs": [{ "id": "ref-for-propdef-text-orientation" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-propdef-text-orientation\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-propdef-text-orientation\u2461" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['37bb38a0'] = { "dfnID": "37bb38a0", "url": "https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode", "dfnText": "writing-mode", "refSections": [{ "refs": [{ "id": "ref-for-propdef-writing-mode" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-propdef-writing-mode\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-propdef-writing-mode\u2461" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['2161cf2b'] = { "dfnID": "2161cf2b", "url": "https://www.w3.org/TR/CSS21/selector.html#x22", "dfnText": "pseudo-elements", "refSections": [{ "refs": [{ "id": "ref-for-x22" }], "title": "1.1. Separating Visual Transitions from DOM Updates" }, { "refs": [{ "id": "ref-for-x22\u2460" }], "title": "7.1.2. Additions to Elements" }], "external": true };
        window.dfnpanelData['a50c2771'] = { "dfnID": "a50c2771", "url": "https://www.w3.org/TR/CSS21/visuren.html#x43", "dfnText": "stacking context", "refSections": [{ "refs": [{ "id": "ref-for-x43" }], "title": "2.1.1. Rendering Consolidation" }], "external": true };
        window.dfnpanelData['e8b75507'] = { "dfnID": "e8b75507", "url": "https://drafts.csswg.org/css2/#element", "dfnText": "element", "refSections": [{ "refs": [{ "id": "ref-for-element" }, { "id": "ref-for-element\u2460" }, { "id": "ref-for-element\u2461" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-element\u2462" }], "title": "2.1.1. Rendering Consolidation" }, { "refs": [{ "id": "ref-for-element\u2463" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-element\u2464" }, { "id": "ref-for-element\u2465" }], "title": "7.1.2. Additions to Elements" }, { "refs": [{ "id": "ref-for-element\u2466" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-element\u2467" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-element\u2468" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-element\u2460\u24ea" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['d293a05b'] = { "dfnID": "d293a05b", "url": "https://www.w3.org/TR/cssom-1/#cssstylerule", "dfnText": "CSSStyleRule", "refSections": [{ "refs": [{ "id": "ref-for-cssstylerule" }, { "id": "ref-for-cssstylerule\u2460" }, { "id": "ref-for-cssstylerule\u2461" }, { "id": "ref-for-cssstylerule\u2462" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-cssstylerule\u2463" }, { "id": "ref-for-cssstylerule\u2464" }, { "id": "ref-for-cssstylerule\u2465" }, { "id": "ref-for-cssstylerule\u2466" }, { "id": "ref-for-cssstylerule\u2467" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-cssstylerule\u2468" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['fafa15bc'] = { "dfnID": "fafa15bc", "url": "https://drafts.csswg.org/cssom-view-1/#layout-viewport", "dfnText": "layout viewport", "refSections": [{ "refs": [{ "id": "ref-for-layout-viewport" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['4186822a'] = { "dfnID": "4186822a", "url": "https://drafts.csswg.org/cssom-view-1/#scrolling-box", "dfnText": "scrolling box", "refSections": [{ "refs": [{ "id": "ref-for-scrolling-box" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['85394472'] = { "dfnID": "85394472", "url": "https://dom.spec.whatwg.org/#document", "dfnText": "Document", "refSections": [{ "refs": [{ "id": "ref-for-document" }, { "id": "ref-for-document\u2460" }], "title": "4.2. View Transition Painting Order" }, { "refs": [{ "id": "ref-for-document\u2461" }, { "id": "ref-for-document\u2462" }, { "id": "ref-for-document\u2463" }, { "id": "ref-for-document\u2464" }], "title": "6.1. Additions to Document" }, { "refs": [{ "id": "ref-for-document\u2465" }, { "id": "ref-for-document\u2466" }, { "id": "ref-for-document\u2467" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-document\u2468" }], "title": "7.2. Perform pending transition operations" }], "external": true };
        window.dfnpanelData['296f3551'] = { "dfnID": "296f3551", "url": "https://dom.spec.whatwg.org/#element", "dfnText": "Element", "refSections": [{ "refs": [{ "id": "ref-for-element\u2460\u2460" }], "title": "7.6.1. Capture rendering characteristics" }], "external": true };
        window.dfnpanelData['84f47c16'] = { "dfnID": "84f47c16", "url": "https://dom.spec.whatwg.org/#concept-tree-child", "dfnText": "child", "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-child" }], "title": "3.1. Pseudo-element Trees" }, { "refs": [{ "id": "ref-for-concept-tree-child\u2460" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-concept-tree-child\u2461" }, { "id": "ref-for-concept-tree-child\u2462" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }, { "refs": [{ "id": "ref-for-concept-tree-child\u2463" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-concept-tree-child\u2464" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }], "external": true };
        window.dfnpanelData['9638f92b'] = { "dfnID": "9638f92b", "url": "https://dom.spec.whatwg.org/#connected", "dfnText": "connected", "refSections": [{ "refs": [{ "id": "ref-for-connected" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-connected\u2460" }], "title": "7.3.2. Capture the new state" }], "external": true };
        window.dfnpanelData['da8b8e0e'] = { "dfnID": "da8b8e0e", "url": "https://dom.spec.whatwg.org/#concept-tree-descendant", "dfnText": "descendant", "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-descendant" }, { "id": "ref-for-concept-tree-descendant\u2460" }], "title": "3.1. Pseudo-element Trees" }, { "refs": [{ "id": "ref-for-concept-tree-descendant\u2461" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['a973e0fe'] = { "dfnID": "a973e0fe", "url": "https://dom.spec.whatwg.org/#concept-document", "dfnText": "document", "refSections": [{ "refs": [{ "id": "ref-for-concept-document" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-concept-document\u2460" }], "title": "7.1.3. Captured elements" }], "external": true };
        window.dfnpanelData['2f0ba72c'] = { "dfnID": "2f0ba72c", "url": "https://dom.spec.whatwg.org/#document-element", "dfnText": "document element", "refSections": [{ "refs": [{ "id": "ref-for-document-element" }, { "id": "ref-for-document-element\u2460" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-document-element\u2461" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }, { "refs": [{ "id": "ref-for-document-element\u2462" }], "title": "4.1. The Snapshot Containing Block" }, { "refs": [{ "id": "ref-for-document-element\u2463" }, { "id": "ref-for-document-element\u2464" }, { "id": "ref-for-document-element\u2465" }, { "id": "ref-for-document-element\u2466" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-document-element\u2467" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-document-element\u2468" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['f9d909f7'] = { "dfnID": "f9d909f7", "url": "https://dom.spec.whatwg.org/#concept-tree-inclusive-descendant", "dfnText": "inclusive descendant", "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-inclusive-descendant" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['5216e1a0'] = { "dfnID": "5216e1a0", "url": "https://dom.spec.whatwg.org/#concept-node-document", "dfnText": "node document", "refSections": [{ "refs": [{ "id": "ref-for-concept-node-document" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-concept-node-document\u2460" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-concept-node-document\u2461" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['d729a9ff'] = { "dfnID": "d729a9ff", "url": "https://dom.spec.whatwg.org/#concept-tree-parent", "dfnText": "parent", "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-parent" }], "title": "3.1. Pseudo-element Trees" }, { "refs": [{ "id": "ref-for-concept-tree-parent\u2460" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }], "external": true };
        window.dfnpanelData['58df5166'] = { "dfnID": "58df5166", "url": "https://dom.spec.whatwg.org/#concept-tree-participate", "dfnText": "participate", "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-participate" }], "title": "3.1. Pseudo-element Trees" }], "external": true };
        window.dfnpanelData['f7960529'] = { "dfnID": "f7960529", "url": "https://dom.spec.whatwg.org/#concept-tree-root", "dfnText": "root", "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-root" }], "title": "3.1. Pseudo-element Trees" }], "external": true };
        window.dfnpanelData['fd32e3c9'] = { "dfnID": "fd32e3c9", "url": "https://dom.spec.whatwg.org/#concept-shadow-including-descendant", "dfnText": "shadow-including descendant", "refSections": [{ "refs": [{ "id": "ref-for-concept-shadow-including-descendant" }], "title": "7.6.1. Capture rendering characteristics" }], "external": true };
        window.dfnpanelData['ad10ee29'] = { "dfnID": "ad10ee29", "url": "https://dom.spec.whatwg.org/#concept-tree-sibling", "dfnText": "sibling", "refSections": [{ "refs": [{ "id": "ref-for-concept-tree-sibling" }, { "id": "ref-for-concept-tree-sibling\u2460" }], "title": "3.1. Pseudo-element Trees" }], "external": true };
        window.dfnpanelData['e6cc3311'] = { "dfnID": "e6cc3311", "url": "https://dom.spec.whatwg.org/#concept-tree", "dfnText": "tree", "refSections": [{ "refs": [{ "id": "ref-for-concept-tree" }], "title": "3.1. Pseudo-element Trees" }], "external": true };
        window.dfnpanelData['e9f6aadb'] = { "dfnID": "e9f6aadb", "url": "https://www.w3.org/TR/filter-effects-1/#propdef-filter", "dfnText": "filter", "refSections": [{ "refs": [{ "id": "ref-for-propdef-filter" }], "title": "1.5. Rendering Model" }, { "refs": [{ "id": "ref-for-propdef-filter\u2460" }], "title": "7.6.1. Capture rendering characteristics" }], "external": true };
        window.dfnpanelData['31c41a75'] = { "dfnID": "31c41a75", "url": "https://drafts.fxtf.org/filter-effects-2/#backdrop-root", "dfnText": "backdrop root", "refSections": [{ "refs": [{ "id": "ref-for-backdrop-root" }], "title": "2.1.1. Rendering Consolidation" }], "external": true };
        window.dfnpanelData['b904c22d'] = { "dfnID": "b904c22d", "url": "https://www.w3.org/TR/geometry-1/#dom-domrect-height", "dfnText": "height", "refSections": [{ "refs": [{ "id": "ref-for-dom-domrect-height" }], "title": "7.3.1. Capture the old state" }], "external": true };
        window.dfnpanelData['c7cb8568'] = { "dfnID": "c7cb8568", "url": "https://www.w3.org/TR/geometry-1/#dom-domrect-width", "dfnText": "width", "refSections": [{ "refs": [{ "id": "ref-for-dom-domrect-width" }], "title": "7.3.1. Capture the old state" }], "external": true };
        window.dfnpanelData['3349d69f'] = { "dfnID": "3349d69f", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window", "dfnText": "associated document", "refSections": [{ "refs": [{ "id": "ref-for-concept-document-window" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-concept-document-window\u2460" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-concept-document-window\u2461" }, { "id": "ref-for-concept-document-window\u2462" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-concept-document-window\u2463" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-concept-document-window\u2464" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-concept-document-window\u2465" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-concept-document-window\u2466" }], "title": "7.7. Handle transition frame" }, { "refs": [{ "id": "ref-for-concept-document-window\u2467" }], "title": "7.8. Update pseudo-element styles" }, { "refs": [{ "id": "ref-for-concept-document-window\u2468" }], "title": "7.9. Clear view transition" }], "external": true };
        window.dfnpanelData['e10e7eb7'] = { "dfnID": "e10e7eb7", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source", "dfnText": "dom manipulation task source", "refSections": [{ "refs": [{ "id": "ref-for-dom-manipulation-task-source" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460" }], "title": "7.5. Skip the view transition" }], "external": true };
        window.dfnpanelData['48438eb3'] = { "dfnID": "48438eb3", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task", "dfnText": "queue a global task", "refSections": [{ "refs": [{ "id": "ref-for-queue-a-global-task" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2460" }], "title": "7.5. Skip the view transition" }], "external": true };
        window.dfnpanelData['e99bd18e'] = { "dfnID": "e99bd18e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global", "dfnText": "relevant global object", "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }, { "id": "ref-for-concept-relevant-global\u2461" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2462" }, { "id": "ref-for-concept-relevant-global\u2463" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2464" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2465" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2466" }, { "id": "ref-for-concept-relevant-global\u2467" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2468" }], "title": "7.7. Handle transition frame" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460\u24ea" }], "title": "7.8. Update pseudo-element styles" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460\u2460" }], "title": "7.9. Clear view transition" }], "external": true };
        window.dfnpanelData['5991ccfb'] = { "dfnID": "5991ccfb", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm", "dfnText": "relevant realm", "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-realm" }, { "id": "ref-for-concept-relevant-realm\u2460" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2461" }, { "id": "ref-for-concept-relevant-realm\u2462" }, { "id": "ref-for-concept-relevant-realm\u2463" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2464" }, { "id": "ref-for-concept-relevant-realm\u2465" }, { "id": "ref-for-concept-relevant-realm\u2466" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2467" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2468" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['f1041b37'] = { "dfnID": "f1041b37", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection", "dfnText": "unhandledrejection", "refSections": [{ "refs": [{ "id": "ref-for-event-unhandledrejection" }, { "id": "ref-for-event-unhandledrejection\u2460" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-event-unhandledrejection\u2461" }], "title": "7.3. Setup view transition" }], "external": true };
        window.dfnpanelData['53275e46'] = { "dfnID": "53275e46", "url": "https://infra.spec.whatwg.org/#list-append", "dfnText": "append (for list)", "refSections": [{ "refs": [{ "id": "ref-for-list-append" }], "title": "7.3.1. Capture the old state" }], "external": true };
        window.dfnpanelData['a3b18719'] = { "dfnID": "a3b18719", "url": "https://infra.spec.whatwg.org/#set-append", "dfnText": "append (for set)", "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-set-append\u2460" }], "title": "7.3.2. Capture the new state" }], "external": true };
        window.dfnpanelData['77b4c09a'] = { "dfnID": "77b4c09a", "url": "https://infra.spec.whatwg.org/#assert", "dfnText": "assert", "refSections": [{ "refs": [{ "id": "ref-for-assert" }, { "id": "ref-for-assert\u2460" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-assert\u2461" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-assert\u2462" }, { "id": "ref-for-assert\u2463" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-assert\u2464" }], "title": "7.9. Clear view transition" }], "external": true };
        window.dfnpanelData['ae8def21'] = { "dfnID": "ae8def21", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "contain", "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }], "title": "7.3.2. Capture the new state" }], "external": true };
        window.dfnpanelData['f937b7b6'] = { "dfnID": "f937b7b6", "url": "https://infra.spec.whatwg.org/#iteration-continue", "dfnText": "continue", "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }, { "id": "ref-for-iteration-continue\u2460" }, { "id": "ref-for-iteration-continue\u2461" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-iteration-continue\u2462" }, { "id": "ref-for-iteration-continue\u2463" }], "title": "7.3.2. Capture the new state" }], "external": true };
        window.dfnpanelData['1243a891'] = { "dfnID": "1243a891", "url": "https://infra.spec.whatwg.org/#map-exists", "dfnText": "exist", "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }], "title": "7.3.2. Capture the new state" }], "external": true };
        window.dfnpanelData['16d07e10'] = { "dfnID": "16d07e10", "url": "https://infra.spec.whatwg.org/#list-iterate", "dfnText": "for each (for list)", "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-list-iterate\u2460" }, { "id": "ref-for-list-iterate\u2461" }, { "id": "ref-for-list-iterate\u2462" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-list-iterate\u2464" }], "title": "7.6.1. Capture rendering characteristics" }, { "refs": [{ "id": "ref-for-list-iterate\u2465" }], "title": "7.7. Handle transition frame" }, { "refs": [{ "id": "ref-for-list-iterate\u2466" }, { "id": "ref-for-list-iterate\u2467" }], "title": "7.9. Clear view transition" }], "external": true };
        window.dfnpanelData['45209803'] = { "dfnID": "45209803", "url": "https://infra.spec.whatwg.org/#map-iterate", "dfnText": "for each (for map)", "refSections": [{ "refs": [{ "id": "ref-for-map-iterate" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-map-iterate\u2460" }], "title": "7.8. Update pseudo-element styles" }], "external": true };
        window.dfnpanelData['860300d4'] = { "dfnID": "860300d4", "url": "https://infra.spec.whatwg.org/#implementation-defined", "dfnText": "implementation-defined", "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }], "title": "7.6.1. Capture rendering characteristics" }], "external": true };
        window.dfnpanelData['649608b9'] = { "dfnID": "649608b9", "url": "https://infra.spec.whatwg.org/#list", "dfnText": "list", "refSections": [{ "refs": [{ "id": "ref-for-list" }], "title": "7.3.1. Capture the old state" }], "external": true };
        window.dfnpanelData['3fca5a9e'] = { "dfnID": "3fca5a9e", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "map", "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }, { "id": "ref-for-ordered-map\u2460" }], "title": "6.2. The ViewTransition interface" }], "external": true };
        window.dfnpanelData['15e48c39'] = { "dfnID": "15e48c39", "url": "https://infra.spec.whatwg.org/#ordered-set", "dfnText": "set", "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-ordered-set\u2460" }], "title": "7.3.2. Capture the new state" }], "external": true };
        window.dfnpanelData['984221ca'] = { "dfnID": "984221ca", "url": "https://infra.spec.whatwg.org/#struct", "dfnText": "struct", "refSections": [{ "refs": [{ "id": "ref-for-struct" }], "title": "7.1.3. Captured elements" }], "external": true };
        window.dfnpanelData['0e8de730'] = { "dfnID": "0e8de730", "url": "https://infra.spec.whatwg.org/#tuple", "dfnText": "tuple", "refSections": [{ "refs": [{ "id": "ref-for-tuple" }], "title": "4.1. The Snapshot Containing Block" }, { "refs": [{ "id": "ref-for-tuple\u2460" }], "title": "6.2. The ViewTransition interface" }], "external": true };
        window.dfnpanelData['12d6b9a8'] = { "dfnID": "12d6b9a8", "url": "https://infra.spec.whatwg.org/#map-getting-the-values", "dfnText": "values", "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-values" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-map-getting-the-values\u2460" }], "title": "7.9. Clear view transition" }], "external": true };
        window.dfnpanelData['8e7046bc'] = { "dfnID": "8e7046bc", "url": "https://www.w3.org/TR/intersection-observer/#intersectionobserver", "dfnText": "IntersectionObserver", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver" }], "title": "7.6. Capture the image" }], "external": true };
        window.dfnpanelData['0ebcaeb1'] = { "dfnID": "0ebcaeb1", "url": "https://w3c.github.io/pointerevents/#dfn-pointer-capture", "dfnText": "pointer capture", "refSections": [{ "refs": [{ "id": "ref-for-dfn-pointer-capture" }], "title": "7.1.1. Additions to Document" }], "external": true };
        window.dfnpanelData['dfd67b05'] = { "dfnID": "dfd67b05", "url": "https://www.w3.org/TR/selectors-3/#x", "dfnText": "*", "refSections": [{ "refs": [{ "id": "ref-for-x" }, { "id": "ref-for-x\u2460" }], "title": "3.2.1. Named View Transition Pseudo-elements" }], "external": true };
        window.dfnpanelData['32fb2b6a'] = { "dfnID": "32fb2b6a", "url": "https://www.w3.org/TR/selectors-4/#only-child-pseudo", "dfnText": ":only-child", "refSections": [{ "refs": [{ "id": "ref-for-only-child-pseudo" }], "title": "1.6. Examples" }, { "refs": [{ "id": "ref-for-only-child-pseudo\u2460" }], "title": "3.1. Pseudo-element Trees" }, { "refs": [{ "id": "ref-for-only-child-pseudo\u2461" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }], "external": true };
        window.dfnpanelData['2e965368'] = { "dfnID": "2e965368", "url": "https://drafts.csswg.org/selectors-4/#functional-pseudo-element", "dfnText": "functional pseudo-element", "refSections": [{ "refs": [{ "id": "ref-for-functional-pseudo-element" }], "title": "3.2.1. Named View Transition Pseudo-elements" }], "external": true };
        window.dfnpanelData['7b5d8638'] = { "dfnID": "7b5d8638", "url": "https://www.w3.org/TR/selectors-4/#originating-element", "dfnText": "originating element", "refSections": [{ "refs": [{ "id": "ref-for-originating-element" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-originating-element\u2460" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }, { "refs": [{ "id": "ref-for-originating-element\u2461" }], "title": "7.1.1. Additions to Document" }], "external": true };
        window.dfnpanelData['00ffc4c8'] = { "dfnID": "00ffc4c8", "url": "https://www.w3.org/TR/selectors-4/#originating-pseudo-element", "dfnText": "originating pseudo-element", "refSections": [{ "refs": [{ "id": "ref-for-originating-pseudo-element" }], "title": "3.1. Pseudo-element Trees" }], "external": true };
        window.dfnpanelData['4d06fa38'] = { "dfnID": "4d06fa38", "url": "https://www.w3.org/TR/selectors-4/#pseudo-element", "dfnText": "pseudo-element", "refSections": [{ "refs": [{ "id": "ref-for-pseudo-element" }], "title": "3.1. Pseudo-element Trees" }, { "refs": [{ "id": "ref-for-pseudo-element\u2460" }, { "id": "ref-for-pseudo-element\u2461" }], "title": "3.2.1. Named View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-pseudo-element\u2462" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }, { "refs": [{ "id": "ref-for-pseudo-element\u2463" }, { "id": "ref-for-pseudo-element\u2464" }, { "id": "ref-for-pseudo-element\u2465" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-pseudo-element\u2466" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }, { "refs": [{ "id": "ref-for-pseudo-element\u2467" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-pseudo-element\u2468" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-pseudo-element\u2460\u24ea" }], "title": "7.6.1. Capture rendering characteristics" }], "external": true };
        window.dfnpanelData['388bc3fc'] = { "dfnID": "388bc3fc", "url": "https://www.w3.org/TR/selectors-4/#selector", "dfnText": "selector", "refSections": [{ "refs": [{ "id": "ref-for-selector" }, { "id": "ref-for-selector\u2460" }, { "id": "ref-for-selector\u2461" }], "title": "3.2.1. Named View Transition Pseudo-elements" }], "external": true };
        window.dfnpanelData['15e81c46'] = { "dfnID": "15e81c46", "url": "https://www.w3.org/TR/selectors-4/#type-selector", "dfnText": "type selector", "refSections": [{ "refs": [{ "id": "ref-for-type-selector" }], "title": "3.2.1. Named View Transition Pseudo-elements" }], "external": true };
        window.dfnpanelData['fc8ac26a'] = { "dfnID": "fc8ac26a", "url": "https://www.w3.org/TR/selectors-4/#ultimate-originating-element", "dfnText": "ultimate originating element", "refSections": [{ "refs": [{ "id": "ref-for-ultimate-originating-element" }], "title": "3.2. View Transition Pseudo-elements" }], "external": true };
        window.dfnpanelData['f3133dfc'] = { "dfnID": "f3133dfc", "url": "https://www.w3.org/TR/web-animations-1/#animation-associated-effect", "dfnText": "associated effect", "refSections": [{ "refs": [{ "id": "ref-for-animation-associated-effect" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['fe9b8cc4'] = { "dfnID": "fe9b8cc4", "url": "https://www.w3.org/TR/web-animations-1/#document-timeline", "dfnText": "document timeline", "refSections": [{ "refs": [{ "id": "ref-for-document-timeline" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['8a965e7d'] = { "dfnID": "8a965e7d", "url": "https://www.w3.org/TR/web-animations-1/#keyframe-effect-effect-target", "dfnText": "effect target", "refSections": [{ "refs": [{ "id": "ref-for-keyframe-effect-effect-target" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['59df29fe'] = { "dfnID": "59df29fe", "url": "https://www.w3.org/TR/web-animations-1/#play-state-paused", "dfnText": "paused", "refSections": [{ "refs": [{ "id": "ref-for-play-state-paused" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['ac0fba29'] = { "dfnID": "ac0fba29", "url": "https://www.w3.org/TR/web-animations-1/#pending-animation-event-queue", "dfnText": "pending animation event queue", "refSections": [{ "refs": [{ "id": "ref-for-pending-animation-event-queue" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['bb293700'] = { "dfnID": "bb293700", "url": "https://www.w3.org/TR/web-animations-1/#animation-play-state", "dfnText": "play state", "refSections": [{ "refs": [{ "id": "ref-for-animation-play-state" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['960dded0'] = { "dfnID": "960dded0", "url": "https://www.w3.org/TR/web-animations-1/#play-state-running", "dfnText": "running", "refSections": [{ "refs": [{ "id": "ref-for-play-state-running" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['4c9d6912'] = { "dfnID": "4c9d6912", "url": "https://www.w3.org/TR/web-animations-1/#timeline", "dfnText": "timeline", "refSections": [{ "refs": [{ "id": "ref-for-timeline" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['d25dfb2c'] = { "dfnID": "d25dfb2c", "url": "https://webidl.spec.whatwg.org/#aborterror", "dfnText": "AbortError", "refSections": [{ "refs": [{ "id": "ref-for-aborterror" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-aborterror\u2460" }], "title": "6.2.1. skipTransition() Method Steps" }], "external": true };
        window.dfnpanelData['dca2de17'] = { "dfnID": "dca2de17", "url": "https://webidl.spec.whatwg.org/#idl-DOMException", "dfnText": "DOMException", "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460" }], "title": "6.2.1. skipTransition() Method Steps" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }, { "id": "ref-for-idl-DOMException\u2462" }, { "id": "ref-for-idl-DOMException\u2463" }, { "id": "ref-for-idl-DOMException\u2464" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['889e932f'] = { "dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "6.2. The ViewTransition interface" }], "external": true };
        window.dfnpanelData['797018a7'] = { "dfnID": "797018a7", "url": "https://webidl.spec.whatwg.org/#invalidstateerror", "dfnText": "InvalidStateError", "refSections": [{ "refs": [{ "id": "ref-for-invalidstateerror" }, { "id": "ref-for-invalidstateerror\u2460" }, { "id": "ref-for-invalidstateerror\u2461" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2462" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['bdbd19d1'] = { "dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }], "title": "6.1. Additions to Document" }, { "refs": [{ "id": "ref-for-idl-promise\u2460" }, { "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }, { "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }, { "id": "ref-for-idl-promise\u2465" }], "title": "6.2. The ViewTransition interface" }], "external": true };
        window.dfnpanelData['f0ba495b'] = { "dfnID": "f0ba495b", "url": "https://webidl.spec.whatwg.org/#timeouterror", "dfnText": "TimeoutError", "refSections": [{ "refs": [{ "id": "ref-for-timeouterror" }], "title": "7.3. Setup view transition" }], "external": true };
        window.dfnpanelData['dacde8b5'] = { "dfnID": "dacde8b5", "url": "https://webidl.spec.whatwg.org/#a-new-promise", "dfnText": "a new promise", "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }, { "id": "ref-for-a-new-promise\u2460" }, { "id": "ref-for-a-new-promise\u2461" }], "title": "6.2. The ViewTransition interface" }], "external": true };
        window.dfnpanelData['8f5c2179'] = { "dfnID": "8f5c2179", "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with", "dfnText": "a promise resolved with", "refSections": [{ "refs": [{ "id": "ref-for-a-promise-resolved-with" }], "title": "7.4. Call the update callback" }], "external": true };
        window.dfnpanelData['6c6b1005'] = { "dfnID": "6c6b1005", "url": "https://webidl.spec.whatwg.org/#idl-any", "dfnText": "any", "refSections": [{ "refs": [{ "id": "ref-for-idl-any" }], "title": "6.1. Additions to Document" }], "external": true };
        window.dfnpanelData['833154f2'] = { "dfnID": "833154f2", "url": "https://webidl.spec.whatwg.org/#getter-steps", "dfnText": "getter steps", "refSections": [{ "refs": [{ "id": "ref-for-getter-steps" }, { "id": "ref-for-getter-steps\u2460" }, { "id": "ref-for-getter-steps\u2461" }], "title": "6.2. The ViewTransition interface" }], "external": true };
        window.dfnpanelData['10ce5f6f'] = { "dfnID": "10ce5f6f", "url": "https://webidl.spec.whatwg.org/#invoke-a-callback-function", "dfnText": "invoke", "refSections": [{ "refs": [{ "id": "ref-for-invoke-a-callback-function" }], "title": "7.4. Call the update callback" }], "external": true };
        window.dfnpanelData['1171257a'] = { "dfnID": "1171257a", "url": "https://webidl.spec.whatwg.org/#mark-a-promise-as-handled", "dfnText": "mark as handled", "refSections": [{ "refs": [{ "id": "ref-for-mark-a-promise-as-handled" }, { "id": "ref-for-mark-a-promise-as-handled\u2460" }, { "id": "ref-for-mark-a-promise-as-handled\u2461" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-mark-a-promise-as-handled\u2462" }], "title": "7.3. Setup view transition" }], "external": true };
        window.dfnpanelData['3024958b'] = { "dfnID": "3024958b", "url": "https://webidl.spec.whatwg.org/#method-steps", "dfnText": "method steps", "refSections": [{ "refs": [{ "id": "ref-for-method-steps" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-method-steps\u2460" }], "title": "6.2.1. skipTransition() Method Steps" }], "external": true };
        window.dfnpanelData['750a2f08'] = { "dfnID": "750a2f08", "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled", "dfnText": "react", "refSections": [{ "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2460" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2461" }], "title": "7.5. Skip the view transition" }], "external": true };
        window.dfnpanelData['116848ac'] = { "dfnID": "116848ac", "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled", "dfnText": "reacting", "refSections": [{ "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2460" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2461" }], "title": "7.5. Skip the view transition" }], "external": true };
        window.dfnpanelData['b262501e'] = { "dfnID": "b262501e", "url": "https://webidl.spec.whatwg.org/#reject", "dfnText": "reject", "refSections": [{ "refs": [{ "id": "ref-for-reject" }], "title": "7.5. Skip the view transition" }], "external": true };
        window.dfnpanelData['3b90bdcd'] = { "dfnID": "3b90bdcd", "url": "https://webidl.spec.whatwg.org/#resolve", "dfnText": "resolve", "refSections": [{ "refs": [{ "id": "ref-for-resolve" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-resolve\u2460" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-resolve\u2461" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-resolve\u2462" }], "title": "7.7. Handle transition frame" }], "external": true };
        window.dfnpanelData['4013a022'] = { "dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{ "refs": [{ "id": "ref-for-this" }, { "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }, { "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-this\u2468" }, { "id": "ref-for-this\u2460\u24ea" }], "title": "6.2.1. skipTransition() Method Steps" }, { "refs": [{ "id": "ref-for-this\u2460\u2460" }, { "id": "ref-for-this\u2460\u2461" }, { "id": "ref-for-this\u2460\u2462" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-this\u2460\u2463" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": true };
        window.dfnpanelData['5f90bbfb'] = { "dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }, { "id": "ref-for-idl-undefined\u2461" }, { "id": "ref-for-idl-undefined\u2462" }], "title": "6.2. The ViewTransition interface" }], "external": true };
        window.dfnpanelData['11e0b87f'] = { "dfnID": "11e0b87f", "url": "https://webidl.spec.whatwg.org/#idl-unrestricted-double", "dfnText": "unrestricted double", "refSections": [{ "refs": [{ "id": "ref-for-idl-unrestricted-double" }], "title": "7.1.3. Captured elements" }], "external": true };
        window.dfnpanelData['view-transitions'] = { "dfnID": "view-transitions", "url": "#view-transitions", "dfnText": "view transitions", "refSections": [{ "refs": [{ "id": "ref-for-view-transitions" }], "title": "1.1. Separating Visual Transitions from DOM Updates" }, { "refs": [{ "id": "ref-for-view-transitions\u2460" }], "title": "1.2. View Transition Customization" }, { "refs": [{ "id": "ref-for-view-transitions\u2461" }], "title": "1.3. View Transition Lifecycle" }, { "refs": [{ "id": "ref-for-view-transitions\u2462" }], "title": "1.6. Examples" }, { "refs": [{ "id": "ref-for-view-transitions\u2463" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-view-transitions\u2464" }], "title": "2.1.1. Rendering Consolidation" }, { "refs": [{ "id": "ref-for-view-transitions\u2465" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-view-transitions\u2466" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-view-transitions\u2467" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }, { "refs": [{ "id": "ref-for-view-transitions\u2468" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-view-transitions\u2460\u24ea" }], "title": "6.1. Additions to Document" }, { "refs": [{ "id": "ref-for-view-transitions\u2460\u2460" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-view-transitions\u2460\u2461" }], "title": "6.2. The ViewTransition interface" }], "external": false };
        window.dfnpanelData['propdef-view-transition-name'] = { "dfnID": "propdef-view-transition-name", "url": "#propdef-view-transition-name", "dfnText": "view-transition-name", "refSections": [{ "refs": [{ "id": "ref-for-propdef-view-transition-name" }], "title": "1.2. View Transition Customization" }, { "refs": [{ "id": "ref-for-propdef-view-transition-name\u2460" }, { "id": "ref-for-propdef-view-transition-name\u2461" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-propdef-view-transition-name\u2462" }], "title": "2.1.1. Rendering Consolidation" }, { "refs": [{ "id": "ref-for-propdef-view-transition-name\u2463" }, { "id": "ref-for-propdef-view-transition-name\u2464" }, { "id": "ref-for-propdef-view-transition-name\u2465" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-propdef-view-transition-name\u2466" }], "title": "3.2.1. Named View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-propdef-view-transition-name\u2467" }, { "id": "ref-for-propdef-view-transition-name\u2468" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-propdef-view-transition-name\u2460\u24ea" }], "title": "7.3.2. Capture the new state" }], "external": false };
        window.dfnpanelData['view-transition-name'] = { "dfnID": "view-transition-name", "url": "#view-transition-name", "dfnText": "view transition name", "refSections": [{ "refs": [{ "id": "ref-for-view-transition-name" }, { "id": "ref-for-view-transition-name\u2460" }, { "id": "ref-for-view-transition-name\u2461" }, { "id": "ref-for-view-transition-name\u2462" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-view-transition-name\u2463" }, { "id": "ref-for-view-transition-name\u2464" }, { "id": "ref-for-view-transition-name\u2465" }, { "id": "ref-for-view-transition-name\u2466" }], "title": "3.2.1. Named View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-view-transition-name\u2467" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-view-transition-name\u2468" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-view-transition-name\u2460\u24ea" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-view-transition-name\u2460\u2460" }, { "id": "ref-for-view-transition-name\u2460\u2461" }, { "id": "ref-for-view-transition-name\u2460\u2462" }, { "id": "ref-for-view-transition-name\u2460\u2463" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-view-transition-name\u2460\u2464" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['valdef-view-transition-name-none'] = { "dfnID": "valdef-view-transition-name-none", "url": "#valdef-view-transition-name-none", "dfnText": "none", "refSections": [{ "refs": [{ "id": "ref-for-valdef-view-transition-name-none" }], "title": "2.1.1. Rendering Consolidation" }, { "refs": [{ "id": "ref-for-valdef-view-transition-name-none\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-valdef-view-transition-name-none\u2461" }], "title": "7.3.2. Capture the new state" }], "external": false };
        window.dfnpanelData['pseudo-element-root'] = { "dfnID": "pseudo-element-root", "url": "#pseudo-element-root", "dfnText": "pseudo-element root", "refSections": [{ "refs": [{ "id": "ref-for-pseudo-element-root" }], "title": "3.1. Pseudo-element Trees" }, { "refs": [{ "id": "ref-for-pseudo-element-root\u2460" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }, { "refs": [{ "id": "ref-for-pseudo-element-root\u2461" }], "title": "\nChanges from 2022-11-24 Working Draft\n" }], "external": false };
        window.dfnpanelData['pseudo-element-tree'] = { "dfnID": "pseudo-element-tree", "url": "#pseudo-element-tree", "dfnText": "pseudo-element tree", "refSections": [{ "refs": [{ "id": "ref-for-pseudo-element-tree" }, { "id": "ref-for-pseudo-element-tree\u2460" }], "title": "3.1. Pseudo-element Trees" }, { "refs": [{ "id": "ref-for-pseudo-element-tree\u2461" }], "title": "3.2. View Transition Pseudo-elements" }], "external": false };
        window.dfnpanelData['view-transition-tree'] = { "dfnID": "view-transition-tree", "url": "#view-transition-tree", "dfnText": "view transition tree", "refSections": [{ "refs": [{ "id": "ref-for-view-transition-tree" }], "title": "1.4. Transitions as an enhancement" }, { "refs": [{ "id": "ref-for-view-transition-tree\u2460" }, { "id": "ref-for-view-transition-tree\u2461" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }], "external": false };
        window.dfnpanelData['view-transition-pseudo-elements'] = { "dfnID": "view-transition-pseudo-elements", "url": "#view-transition-pseudo-elements", "dfnText": "view transition pseudo-elements", "refSections": [{ "refs": [{ "id": "ref-for-view-transition-pseudo-elements" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-view-transition-pseudo-elements\u2460" }, { "id": "ref-for-view-transition-pseudo-elements\u2461" }, { "id": "ref-for-view-transition-pseudo-elements\u2462" }], "title": "3.2.1. Named View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-view-transition-pseudo-elements\u2463" }], "title": "4. View Transition Layout" }, { "refs": [{ "id": "ref-for-view-transition-pseudo-elements\u2464" }], "title": "6.2. The ViewTransition interface" }], "external": false };
        window.dfnpanelData['named-view-transition-pseudo-elements'] = { "dfnID": "named-view-transition-pseudo-elements", "url": "#named-view-transition-pseudo-elements", "dfnText": "named view transition pseudo-elements", "refSections": [{ "refs": [{ "id": "ref-for-named-view-transition-pseudo-elements" }, { "id": "ref-for-named-view-transition-pseudo-elements\u2460" }, { "id": "ref-for-named-view-transition-pseudo-elements\u2461" }], "title": "3.2.1. Named View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-named-view-transition-pseudo-elements\u2462" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-named-view-transition-pseudo-elements\u2463" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }, { "refs": [{ "id": "ref-for-named-view-transition-pseudo-elements\u2464" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-named-view-transition-pseudo-elements\u2465" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }], "external": false };
        window.dfnpanelData['typedef-pt-name-selector'] = { "dfnID": "typedef-pt-name-selector", "url": "#typedef-pt-name-selector", "dfnText": "<pt-name-selector>", "refSections": [{ "refs": [{ "id": "ref-for-typedef-pt-name-selector" }, { "id": "ref-for-typedef-pt-name-selector\u2460" }, { "id": "ref-for-typedef-pt-name-selector\u2461" }, { "id": "ref-for-typedef-pt-name-selector\u2462" }], "title": "3.2.1. Named View Transition Pseudo-elements" }], "external": false };
        window.dfnpanelData['selectordef-view-transition'] = { "dfnID": "selectordef-view-transition", "url": "#selectordef-view-transition", "dfnText": "::view-transition", "refSections": [{ "refs": [{ "id": "ref-for-selectordef-view-transition" }, { "id": "ref-for-selectordef-view-transition\u2460" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-selectordef-view-transition\u2461" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition\u2462" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition\u2463" }], "title": "4.1. The Snapshot Containing Block" }, { "refs": [{ "id": "ref-for-selectordef-view-transition\u2464" }], "title": "4.2. View Transition Painting Order" }, { "refs": [{ "id": "ref-for-selectordef-view-transition\u2465" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-selectordef-view-transition\u2466" }, { "id": "ref-for-selectordef-view-transition\u2467" }], "title": "6.2. The ViewTransition interface" }], "external": false };
        window.dfnpanelData['selectordef-view-transition-group'] = { "dfnID": "selectordef-view-transition-group", "url": "#selectordef-view-transition-group", "dfnText": "::view-transition-group()", "refSections": [{ "refs": [{ "id": "ref-for-selectordef-view-transition-group" }, { "id": "ref-for-selectordef-view-transition-group\u2460" }, { "id": "ref-for-selectordef-view-transition-group\u2461" }, { "id": "ref-for-selectordef-view-transition-group\u2462" }], "title": "1.5. Rendering Model" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-group\u2463" }], "title": "1.6. Examples" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-group\u2464" }, { "id": "ref-for-selectordef-view-transition-group\u2465" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-group\u2466" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-group\u2467" }, { "id": "ref-for-selectordef-view-transition-group\u2468" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-group\u2460\u24ea" }, { "id": "ref-for-selectordef-view-transition-group\u2460\u2460" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-group\u2460\u2461" }, { "id": "ref-for-selectordef-view-transition-group\u2460\u2462" }, { "id": "ref-for-selectordef-view-transition-group\u2460\u2463" }, { "id": "ref-for-selectordef-view-transition-group\u2460\u2464" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-group\u2460\u2465" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['selectordef-view-transition-image-pair'] = { "dfnID": "selectordef-view-transition-image-pair", "url": "#selectordef-view-transition-image-pair", "dfnText": "::view-transition-image-pair()", "refSections": [{ "refs": [{ "id": "ref-for-selectordef-view-transition-image-pair" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-image-pair\u2460" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-image-pair\u2461" }, { "id": "ref-for-selectordef-view-transition-image-pair\u2462" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-image-pair\u2463" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-image-pair\u2464" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-image-pair\u2465" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['selectordef-view-transition-old'] = { "dfnID": "selectordef-view-transition-old", "url": "#selectordef-view-transition-old", "dfnText": "::view-transition-old()", "refSections": [{ "refs": [{ "id": "ref-for-selectordef-view-transition-old" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-old\u2460" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-old\u2461" }, { "id": "ref-for-selectordef-view-transition-old\u2462" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-old\u2463" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-old\u2464" }], "title": "4.2. View Transition Painting Order" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-old\u2465" }, { "id": "ref-for-selectordef-view-transition-old\u2466" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-old\u2467" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['selectordef-view-transition-new'] = { "dfnID": "selectordef-view-transition-new", "url": "#selectordef-view-transition-new", "dfnText": "::view-transition-new()", "refSections": [{ "refs": [{ "id": "ref-for-selectordef-view-transition-new" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-new\u2460" }], "title": "3.2.4. View Transition Image Pair Isolation: the ::view-transition-image-pair() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-new\u2461" }, { "id": "ref-for-selectordef-view-transition-new\u2462" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-new\u2463" }], "title": "4.2. View Transition Painting Order" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-new\u2464" }, { "id": "ref-for-selectordef-view-transition-new\u2465" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-new\u2466" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-selectordef-view-transition-new\u2467" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['snapshot-containing-block'] = { "dfnID": "snapshot-containing-block", "url": "#snapshot-containing-block", "dfnText": "snapshot containing block", "refSections": [{ "refs": [{ "id": "ref-for-snapshot-containing-block" }], "title": "3.2.2. View Transition Tree Root: the ::view-transition pseudo-element" }, { "refs": [{ "id": "ref-for-snapshot-containing-block\u2460" }], "title": "4. View Transition Layout" }, { "refs": [{ "id": "ref-for-snapshot-containing-block\u2461" }, { "id": "ref-for-snapshot-containing-block\u2462" }, { "id": "ref-for-snapshot-containing-block\u2463" }, { "id": "ref-for-snapshot-containing-block\u2464" }, { "id": "ref-for-snapshot-containing-block\u2465" }], "title": "4.1. The Snapshot Containing Block" }, { "refs": [{ "id": "ref-for-snapshot-containing-block\u2466" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-snapshot-containing-block\u2467" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-snapshot-containing-block\u2468" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-snapshot-containing-block\u2460\u24ea" }, { "id": "ref-for-snapshot-containing-block\u2460\u2460" }, { "id": "ref-for-snapshot-containing-block\u2460\u2461" }], "title": "7.6. Capture the image" }, { "refs": [{ "id": "ref-for-snapshot-containing-block\u2460\u2462" }], "title": "7.6.1. Capture rendering characteristics" }, { "refs": [{ "id": "ref-for-snapshot-containing-block\u2460\u2463" }], "title": "\nChanges from 2022-11-24 Working Draft\n" }], "external": false };
        window.dfnpanelData['snapshot-containing-block-origin'] = { "dfnID": "snapshot-containing-block-origin", "url": "#snapshot-containing-block-origin", "dfnText": "snapshot containing block origin", "refSections": [{ "refs": [{ "id": "ref-for-snapshot-containing-block-origin" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-snapshot-containing-block-origin\u2460" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['snapshot-containing-block-size'] = { "dfnID": "snapshot-containing-block-size", "url": "#snapshot-containing-block-size", "dfnText": "snapshot containing block size", "refSections": [{ "refs": [{ "id": "ref-for-snapshot-containing-block-size" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-snapshot-containing-block-size\u2460" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-snapshot-containing-block-size\u2461" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-snapshot-containing-block-size\u2462" }], "title": "7.7. Handle transition frame" }], "external": false };
        window.dfnpanelData['view-transition-layer'] = { "dfnID": "view-transition-layer", "url": "#view-transition-layer", "dfnText": "view transition layer", "refSections": [{ "refs": [{ "id": "ref-for-view-transition-layer" }], "title": "4. View Transition Layout" }, { "refs": [{ "id": "ref-for-view-transition-layer\u2460" }, { "id": "ref-for-view-transition-layer\u2461" }, { "id": "ref-for-view-transition-layer\u2462" }], "title": "4.2. View Transition Painting Order" }], "external": false };
        window.dfnpanelData['global-view-transition-user-agent-style-sheet'] = { "dfnID": "global-view-transition-user-agent-style-sheet", "url": "#global-view-transition-user-agent-style-sheet", "dfnText": "global view transition user agent style sheet", "refSections": [{ "refs": [{ "id": "ref-for-global-view-transition-user-agent-style-sheet" }], "title": "7.1.1. Additions to Document" }], "external": false };
        window.dfnpanelData['callbackdef-updatecallback'] = { "dfnID": "callbackdef-updatecallback", "url": "#callbackdef-updatecallback", "dfnText": "UpdateCallback", "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-updatecallback" }, { "id": "ref-for-callbackdef-updatecallback\u2460" }], "title": "1.3. View Transition Lifecycle" }, { "refs": [{ "id": "ref-for-callbackdef-updatecallback\u2461" }, { "id": "ref-for-callbackdef-updatecallback\u2462" }, { "id": "ref-for-callbackdef-updatecallback\u2463" }], "title": "1.4. Transitions as an enhancement" }, { "refs": [{ "id": "ref-for-callbackdef-updatecallback\u2464" }, { "id": "ref-for-callbackdef-updatecallback\u2465" }, { "id": "ref-for-callbackdef-updatecallback\u2466" }, { "id": "ref-for-callbackdef-updatecallback\u2467" }, { "id": "ref-for-callbackdef-updatecallback\u2468" }, { "id": "ref-for-callbackdef-updatecallback\u2460\u24ea" }], "title": "6.1. Additions to Document" }, { "refs": [{ "id": "ref-for-callbackdef-updatecallback\u2460\u2460" }, { "id": "ref-for-callbackdef-updatecallback\u2460\u2461" }, { "id": "ref-for-callbackdef-updatecallback\u2460\u2462" }, { "id": "ref-for-callbackdef-updatecallback\u2460\u2463" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-callbackdef-updatecallback\u2460\u2464" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-callbackdef-updatecallback\u2460\u2465" }, { "id": "ref-for-callbackdef-updatecallback\u2460\u2466" }], "title": "\nChanges from 2022-11-24 Working Draft\n" }], "external": false };
        window.dfnpanelData['dom-document-startviewtransition'] = { "dfnID": "dom-document-startviewtransition", "url": "#dom-document-startviewtransition", "dfnText": "startViewTransition(updateCallback)", "refSections": [{ "refs": [{ "id": "ref-for-dom-document-startviewtransition" }], "title": "1.2. View Transition Customization" }, { "refs": [{ "id": "ref-for-dom-document-startviewtransition\u2460" }], "title": "1.3. View Transition Lifecycle" }, { "refs": [{ "id": "ref-for-dom-document-startviewtransition\u2461" }, { "id": "ref-for-dom-document-startviewtransition\u2462" }], "title": "6.1. Additions to Document" }, { "refs": [{ "id": "ref-for-dom-document-startviewtransition\u2463" }], "title": "6.1.1. startViewTransition() Method Steps" }], "external": false };
        window.dfnpanelData['viewtransition'] = { "dfnID": "viewtransition", "url": "#viewtransition", "dfnText": "ViewTransition", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition" }], "title": "1.3. View Transition Lifecycle" }, { "refs": [{ "id": "ref-for-viewtransition\u2460" }, { "id": "ref-for-viewtransition\u2461" }], "title": "6.1. Additions to Document" }, { "refs": [{ "id": "ref-for-viewtransition\u2462" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-viewtransition\u2463" }, { "id": "ref-for-viewtransition\u2464" }, { "id": "ref-for-viewtransition\u2465" }, { "id": "ref-for-viewtransition\u2466" }, { "id": "ref-for-viewtransition\u2467" }, { "id": "ref-for-viewtransition\u2468" }, { "id": "ref-for-viewtransition\u2460\u24ea" }, { "id": "ref-for-viewtransition\u2460\u2460" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-viewtransition\u2460\u2461" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-viewtransition\u2460\u2462" }, { "id": "ref-for-viewtransition\u2460\u2463" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-viewtransition\u2460\u2464" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-viewtransition\u2460\u2465" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-viewtransition\u2460\u2466" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-viewtransition\u2460\u2467" }, { "id": "ref-for-viewtransition\u2460\u2468" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-viewtransition\u2461\u24ea" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-viewtransition\u2461\u2460" }], "title": "7.7. Handle transition frame" }, { "refs": [{ "id": "ref-for-viewtransition\u2461\u2461" }], "title": "7.8. Update pseudo-element styles" }, { "refs": [{ "id": "ref-for-viewtransition\u2461\u2462" }], "title": "7.9. Clear view transition" }], "external": false };
        window.dfnpanelData['dom-viewtransition-updatecallbackdone'] = { "dfnID": "dom-viewtransition-updatecallbackdone", "url": "#dom-viewtransition-updatecallbackdone", "dfnText": "updateCallbackDone", "refSections": [{ "refs": [{ "id": "ref-for-dom-viewtransition-updatecallbackdone" }], "title": "1.3. View Transition Lifecycle" }, { "refs": [{ "id": "ref-for-dom-viewtransition-updatecallbackdone\u2460" }, { "id": "ref-for-dom-viewtransition-updatecallbackdone\u2461" }, { "id": "ref-for-dom-viewtransition-updatecallbackdone\u2462" }, { "id": "ref-for-dom-viewtransition-updatecallbackdone\u2463" }, { "id": "ref-for-dom-viewtransition-updatecallbackdone\u2464" }, { "id": "ref-for-dom-viewtransition-updatecallbackdone\u2465" }], "title": "6.2. The ViewTransition interface" }], "external": false };
        window.dfnpanelData['dom-viewtransition-ready'] = { "dfnID": "dom-viewtransition-ready", "url": "#dom-viewtransition-ready", "dfnText": "ready", "refSections": [{ "refs": [{ "id": "ref-for-dom-viewtransition-ready" }], "title": "1.3. View Transition Lifecycle" }, { "refs": [{ "id": "ref-for-dom-viewtransition-ready\u2460" }, { "id": "ref-for-dom-viewtransition-ready\u2461" }, { "id": "ref-for-dom-viewtransition-ready\u2462" }, { "id": "ref-for-dom-viewtransition-ready\u2463" }, { "id": "ref-for-dom-viewtransition-ready\u2464" }], "title": "6.2. The ViewTransition interface" }], "external": false };
        window.dfnpanelData['dom-viewtransition-finished'] = { "dfnID": "dom-viewtransition-finished", "url": "#dom-viewtransition-finished", "dfnText": "finished", "refSections": [{ "refs": [{ "id": "ref-for-dom-viewtransition-finished" }], "title": "1.3. View Transition Lifecycle" }, { "refs": [{ "id": "ref-for-dom-viewtransition-finished\u2460" }, { "id": "ref-for-dom-viewtransition-finished\u2461" }, { "id": "ref-for-dom-viewtransition-finished\u2462" }, { "id": "ref-for-dom-viewtransition-finished\u2463" }], "title": "6.2. The ViewTransition interface" }], "external": false };
        window.dfnpanelData['viewtransition-named-elements'] = { "dfnID": "viewtransition-named-elements", "url": "#viewtransition-named-elements", "dfnText": "named elements", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-named-elements" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-viewtransition-named-elements\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-viewtransition-named-elements\u2461" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-viewtransition-named-elements\u2462" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-viewtransition-named-elements\u2463" }], "title": "7.8. Update pseudo-element styles" }, { "refs": [{ "id": "ref-for-viewtransition-named-elements\u2464" }], "title": "7.9. Clear view transition" }], "external": false };
        window.dfnpanelData['viewtransition-phase'] = { "dfnID": "viewtransition-phase", "url": "#viewtransition-phase", "dfnText": "phase", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-phase" }], "title": "4.2. View Transition Painting Order" }, { "refs": [{ "id": "ref-for-viewtransition-phase\u2460" }], "title": "6.2.1. skipTransition() Method Steps" }, { "refs": [{ "id": "ref-for-viewtransition-phase\u2461" }, { "id": "ref-for-viewtransition-phase\u2462" }], "title": "7.2. Perform pending transition operations" }, { "refs": [{ "id": "ref-for-viewtransition-phase\u2463" }, { "id": "ref-for-viewtransition-phase\u2464" }, { "id": "ref-for-viewtransition-phase\u2465" }, { "id": "ref-for-viewtransition-phase\u2466" }, { "id": "ref-for-viewtransition-phase\u2467" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-viewtransition-phase\u2468" }, { "id": "ref-for-viewtransition-phase\u2460\u24ea" }, { "id": "ref-for-viewtransition-phase\u2460\u2460" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-viewtransition-phase\u2460\u2461" }, { "id": "ref-for-viewtransition-phase\u2460\u2462" }, { "id": "ref-for-viewtransition-phase\u2460\u2463" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-viewtransition-phase\u2460\u2464" }], "title": "7.7. Handle transition frame" }], "external": false };
        window.dfnpanelData['viewtransition-update-callback'] = { "dfnID": "viewtransition-update-callback", "url": "#viewtransition-update-callback", "dfnText": "update callback", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-update-callback" }, { "id": "ref-for-viewtransition-update-callback\u2460" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-viewtransition-update-callback\u2461" }, { "id": "ref-for-viewtransition-update-callback\u2462" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-viewtransition-update-callback\u2463" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-viewtransition-update-callback\u2464" }, { "id": "ref-for-viewtransition-update-callback\u2465" }], "title": "7.4. Call the update callback" }], "external": false };
        window.dfnpanelData['viewtransition-ready-promise'] = { "dfnID": "viewtransition-ready-promise", "url": "#viewtransition-ready-promise", "dfnText": "ready promise", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-ready-promise" }, { "id": "ref-for-viewtransition-ready-promise\u2460" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-viewtransition-ready-promise\u2461" }, { "id": "ref-for-viewtransition-ready-promise\u2462" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-viewtransition-ready-promise\u2463" }, { "id": "ref-for-viewtransition-ready-promise\u2464" }], "title": "7.5. Skip the view transition" }], "external": false };
        window.dfnpanelData['viewtransition-update-callback-done-promise'] = { "dfnID": "viewtransition-update-callback-done-promise", "url": "#viewtransition-update-callback-done-promise", "dfnText": "update callback done promise", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-update-callback-done-promise" }, { "id": "ref-for-viewtransition-update-callback-done-promise\u2460" }, { "id": "ref-for-viewtransition-update-callback-done-promise\u2461" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-viewtransition-update-callback-done-promise\u2462" }, { "id": "ref-for-viewtransition-update-callback-done-promise\u2463" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-viewtransition-update-callback-done-promise\u2464" }, { "id": "ref-for-viewtransition-update-callback-done-promise\u2465" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-viewtransition-update-callback-done-promise\u2466" }, { "id": "ref-for-viewtransition-update-callback-done-promise\u2467" }, { "id": "ref-for-viewtransition-update-callback-done-promise\u2468" }], "title": "7.5. Skip the view transition" }], "external": false };
        window.dfnpanelData['viewtransition-finished-promise'] = { "dfnID": "viewtransition-finished-promise", "url": "#viewtransition-finished-promise", "dfnText": "finished promise", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-finished-promise" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-viewtransition-finished-promise\u2460" }, { "id": "ref-for-viewtransition-finished-promise\u2461" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-viewtransition-finished-promise\u2462" }], "title": "7.7. Handle transition frame" }], "external": false };
        window.dfnpanelData['viewtransition-transition-root-pseudo-element'] = { "dfnID": "viewtransition-transition-root-pseudo-element", "url": "#viewtransition-transition-root-pseudo-element", "dfnText": "transition root pseudo-element", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-transition-root-pseudo-element" }, { "id": "ref-for-viewtransition-transition-root-pseudo-element\u2460" }, { "id": "ref-for-viewtransition-transition-root-pseudo-element\u2461" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-viewtransition-transition-root-pseudo-element\u2462" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-viewtransition-transition-root-pseudo-element\u2463" }], "title": "7.7. Handle transition frame" }], "external": false };
        window.dfnpanelData['viewtransition-initial-snapshot-containing-block-size'] = { "dfnID": "viewtransition-initial-snapshot-containing-block-size", "url": "#viewtransition-initial-snapshot-containing-block-size", "dfnText": "initial snapshot containing block size", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-initial-snapshot-containing-block-size" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-viewtransition-initial-snapshot-containing-block-size\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-viewtransition-initial-snapshot-containing-block-size\u2461" }], "title": "7.7. Handle transition frame" }], "external": false };
        window.dfnpanelData['viewtransition-process-old-state-captured'] = { "dfnID": "viewtransition-process-old-state-captured", "url": "#viewtransition-process-old-state-captured", "dfnText": "process old state captured", "refSections": [{ "refs": [{ "id": "ref-for-viewtransition-process-old-state-captured" }, { "id": "ref-for-viewtransition-process-old-state-captured\u2460" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-viewtransition-process-old-state-captured\u2461" }, { "id": "ref-for-viewtransition-process-old-state-captured\u2462" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-viewtransition-process-old-state-captured\u2463" }, { "id": "ref-for-viewtransition-process-old-state-captured\u2464" }], "title": "7.5. Skip the view transition" }], "external": false };
        window.dfnpanelData['dom-viewtransition-skiptransition'] = { "dfnID": "dom-viewtransition-skiptransition", "url": "#dom-viewtransition-skiptransition", "dfnText": "skipTransition()", "refSections": [{ "refs": [{ "id": "ref-for-dom-viewtransition-skiptransition" }], "title": "1.4. Transitions as an enhancement" }, { "refs": [{ "id": "ref-for-dom-viewtransition-skiptransition\u2460" }, { "id": "ref-for-dom-viewtransition-skiptransition\u2461" }, { "id": "ref-for-dom-viewtransition-skiptransition\u2462" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-dom-viewtransition-skiptransition\u2463" }], "title": "6.2.1. skipTransition() Method Steps" }, { "refs": [{ "id": "ref-for-dom-viewtransition-skiptransition\u2464" }], "title": "7.5. Skip the view transition" }], "external": false };
        window.dfnpanelData['document-active-view-transition'] = { "dfnID": "document-active-view-transition", "url": "#document-active-view-transition", "dfnText": "active view transition", "refSections": [{ "refs": [{ "id": "ref-for-document-active-view-transition" }], "title": "4.2. View Transition Painting Order" }, { "refs": [{ "id": "ref-for-document-active-view-transition\u2460" }], "title": "6.1. Additions to Document" }, { "refs": [{ "id": "ref-for-document-active-view-transition\u2461" }, { "id": "ref-for-document-active-view-transition\u2462" }, { "id": "ref-for-document-active-view-transition\u2463" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-document-active-view-transition\u2464" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-document-active-view-transition\u2465" }, { "id": "ref-for-document-active-view-transition\u2466" }, { "id": "ref-for-document-active-view-transition\u2467" }, { "id": "ref-for-document-active-view-transition\u2468" }, { "id": "ref-for-document-active-view-transition\u2460\u24ea" }], "title": "7.2. Perform pending transition operations" }, { "refs": [{ "id": "ref-for-document-active-view-transition\u2460\u2460" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-document-active-view-transition\u2460\u2461" }, { "id": "ref-for-document-active-view-transition\u2460\u2462" }], "title": "7.9. Clear view transition" }], "external": false };
        window.dfnpanelData['document-rendering-suppression-for-view-transitions'] = { "dfnID": "document-rendering-suppression-for-view-transitions", "url": "#document-rendering-suppression-for-view-transitions", "dfnText": "rendering suppression for view transitions", "refSections": [{ "refs": [{ "id": "ref-for-document-rendering-suppression-for-view-transitions" }], "title": "7.1.1. Additions to Document" }, { "refs": [{ "id": "ref-for-document-rendering-suppression-for-view-transitions\u2460" }, { "id": "ref-for-document-rendering-suppression-for-view-transitions\u2461" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-document-rendering-suppression-for-view-transitions\u2462" }], "title": "7.5. Skip the view transition" }], "external": false };
        window.dfnpanelData['document-dynamic-view-transition-style-sheet'] = { "dfnID": "document-dynamic-view-transition-style-sheet", "url": "#document-dynamic-view-transition-style-sheet", "dfnText": "dynamic view transition style sheet", "refSections": [{ "refs": [{ "id": "ref-for-document-dynamic-view-transition-style-sheet" }], "title": "3.2.3. View Transition Named Subtree Root: the ::view-transition-group() pseudo-element" }, { "refs": [{ "id": "ref-for-document-dynamic-view-transition-style-sheet\u2460" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-document-dynamic-view-transition-style-sheet\u2461" }, { "id": "ref-for-document-dynamic-view-transition-style-sheet\u2462" }], "title": "5. User Agent Stylesheet" }, { "refs": [{ "id": "ref-for-document-dynamic-view-transition-style-sheet\u2463" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-document-dynamic-view-transition-style-sheet\u2464" }, { "id": "ref-for-document-dynamic-view-transition-style-sheet\u2465" }, { "id": "ref-for-document-dynamic-view-transition-style-sheet\u2466" }, { "id": "ref-for-document-dynamic-view-transition-style-sheet\u2467" }, { "id": "ref-for-document-dynamic-view-transition-style-sheet\u2468" }, { "id": "ref-for-document-dynamic-view-transition-style-sheet\u2460\u24ea" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-document-dynamic-view-transition-style-sheet\u2460\u2460" }], "title": "7.8. Update pseudo-element styles" }, { "refs": [{ "id": "ref-for-document-dynamic-view-transition-style-sheet\u2460\u2461" }, { "id": "ref-for-document-dynamic-view-transition-style-sheet\u2460\u2462" }], "title": "7.9. Clear view transition" }, { "refs": [{ "id": "ref-for-document-dynamic-view-transition-style-sheet\u2460\u2463" }], "title": "\nChanges from 2022-10-25 Working Draft (FPWD)\n" }], "external": false };
        window.dfnpanelData['document-show-view-transition-tree'] = { "dfnID": "document-show-view-transition-tree", "url": "#document-show-view-transition-tree", "dfnText": "show view transition tree", "refSections": [{ "refs": [{ "id": "ref-for-document-show-view-transition-tree" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-document-show-view-transition-tree\u2460" }], "title": "7.9. Clear view transition" }], "external": false };
        window.dfnpanelData['captured-in-a-view-transition'] = { "dfnID": "captured-in-a-view-transition", "url": "#captured-in-a-view-transition", "dfnText": "captured in a view transition", "refSections": [{ "refs": [{ "id": "ref-for-captured-in-a-view-transition" }], "title": "2.1. Tagging Individually Transitioning Subtrees: the view-transition-name property" }, { "refs": [{ "id": "ref-for-captured-in-a-view-transition\u2460" }], "title": "2.1.1. Rendering Consolidation" }, { "refs": [{ "id": "ref-for-captured-in-a-view-transition\u2461" }], "title": "4.2. View Transition Painting Order" }, { "refs": [{ "id": "ref-for-captured-in-a-view-transition\u2462" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-captured-in-a-view-transition\u2463" }, { "id": "ref-for-captured-in-a-view-transition\u2464" }, { "id": "ref-for-captured-in-a-view-transition\u2465" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-in-a-view-transition\u2466" }], "title": "7.6.1. Capture rendering characteristics" }, { "refs": [{ "id": "ref-for-captured-in-a-view-transition\u2467" }], "title": "7.8. Update pseudo-element styles" }, { "refs": [{ "id": "ref-for-captured-in-a-view-transition\u2468" }], "title": "7.9. Clear view transition" }, { "refs": [{ "id": "ref-for-captured-in-a-view-transition\u2460\u24ea" }], "title": "\nChanges from 2022-05-30 Working Draft\n" }], "external": false };
        window.dfnpanelData['captured-element'] = { "dfnID": "captured-element", "url": "#captured-element", "dfnText": "captured element", "refSections": [{ "refs": [{ "id": "ref-for-captured-element" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-captured-element\u2460" }, { "id": "ref-for-captured-element\u2461" }], "title": "7.1.3. Captured elements" }, { "refs": [{ "id": "ref-for-captured-element\u2462" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element\u2463" }], "title": "7.3.2. Capture the new state" }], "external": false };
        window.dfnpanelData['captured-element-old-image'] = { "dfnID": "captured-element-old-image", "url": "#captured-element-old-image", "dfnText": "old image", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-old-image" }], "title": "4.1. The Snapshot Containing Block" }, { "refs": [{ "id": "ref-for-captured-element-old-image\u2460" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element-old-image\u2461" }, { "id": "ref-for-captured-element-old-image\u2462" }, { "id": "ref-for-captured-element-old-image\u2463" }, { "id": "ref-for-captured-element-old-image\u2464" }, { "id": "ref-for-captured-element-old-image\u2465" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['captured-element-old-width'] = { "dfnID": "captured-element-old-width", "url": "#captured-element-old-width", "dfnText": "old width", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-old-width" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element-old-width\u2460" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-captured-element-old-width\u2461" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['captured-element-old-height'] = { "dfnID": "captured-element-old-height", "url": "#captured-element-old-height", "dfnText": "old height", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-old-height" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element-old-height\u2460" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-captured-element-old-height\u2461" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['captured-element-old-transform'] = { "dfnID": "captured-element-old-transform", "url": "#captured-element-old-transform", "dfnText": "old transform", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-old-transform" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element-old-transform\u2460" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-captured-element-old-transform\u2461" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['captured-element-old-writing-mode'] = { "dfnID": "captured-element-old-writing-mode", "url": "#captured-element-old-writing-mode", "dfnText": "old writing-mode", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-old-writing-mode" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element-old-writing-mode\u2460" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['captured-element-old-direction'] = { "dfnID": "captured-element-old-direction", "url": "#captured-element-old-direction", "dfnText": "old direction", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-old-direction" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element-old-direction\u2460" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['captured-element-old-text-orientation'] = { "dfnID": "captured-element-old-text-orientation", "url": "#captured-element-old-text-orientation", "dfnText": "old text-orientation", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-old-text-orientation" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element-old-text-orientation\u2460" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['captured-element-old-mix-blend-mode'] = { "dfnID": "captured-element-old-mix-blend-mode", "url": "#captured-element-old-mix-blend-mode", "dfnText": "old mix-blend-mode", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-old-mix-blend-mode" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-captured-element-old-mix-blend-mode\u2460" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['captured-element-new-element'] = { "dfnID": "captured-element-new-element", "url": "#captured-element-new-element", "dfnText": "new element", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-new-element" }], "title": "4.1. The Snapshot Containing Block" }, { "refs": [{ "id": "ref-for-captured-element-new-element\u2460" }, { "id": "ref-for-captured-element-new-element\u2461" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-captured-element-new-element\u2462" }], "title": "7.3.2. Capture the new state" }, { "refs": [{ "id": "ref-for-captured-element-new-element\u2463" }, { "id": "ref-for-captured-element-new-element\u2464" }, { "id": "ref-for-captured-element-new-element\u2465" }, { "id": "ref-for-captured-element-new-element\u2466" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-captured-element-new-element\u2467" }, { "id": "ref-for-captured-element-new-element\u2468" }, { "id": "ref-for-captured-element-new-element\u2460\u24ea" }, { "id": "ref-for-captured-element-new-element\u2460\u2460" }, { "id": "ref-for-captured-element-new-element\u2460\u2461" }, { "id": "ref-for-captured-element-new-element\u2460\u2462" }, { "id": "ref-for-captured-element-new-element\u2460\u2463" }, { "id": "ref-for-captured-element-new-element\u2460\u2464" }, { "id": "ref-for-captured-element-new-element\u2460\u2465" }, { "id": "ref-for-captured-element-new-element\u2460\u2466" }, { "id": "ref-for-captured-element-new-element\u2460\u2467" }, { "id": "ref-for-captured-element-new-element\u2460\u2468" }, { "id": "ref-for-captured-element-new-element\u2461\u24ea" }], "title": "7.8. Update pseudo-element styles" }, { "refs": [{ "id": "ref-for-captured-element-new-element\u2461\u2460" }, { "id": "ref-for-captured-element-new-element\u2461\u2461" }], "title": "7.9. Clear view transition" }], "external": false };
        window.dfnpanelData['captured-element-style-definitions'] = { "dfnID": "captured-element-style-definitions", "url": "#captured-element-style-definitions", "dfnText": "style definitions", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-style-definitions" }], "title": "7.9. Clear view transition" }], "external": false };
        window.dfnpanelData['captured-element-group-keyframes'] = { "dfnID": "captured-element-group-keyframes", "url": "#captured-element-group-keyframes", "dfnText": "group keyframes", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-group-keyframes" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['captured-element-group-animation-name-rule'] = { "dfnID": "captured-element-group-animation-name-rule", "url": "#captured-element-group-animation-name-rule", "dfnText": "group animation name rule", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-group-animation-name-rule" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['captured-element-group-styles-rule'] = { "dfnID": "captured-element-group-styles-rule", "url": "#captured-element-group-styles-rule", "dfnText": "group styles rule", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-group-styles-rule" }, { "id": "ref-for-captured-element-group-styles-rule\u2460" }, { "id": "ref-for-captured-element-group-styles-rule\u2461" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['captured-element-image-pair-isolation-rule'] = { "dfnID": "captured-element-image-pair-isolation-rule", "url": "#captured-element-image-pair-isolation-rule", "dfnText": "image pair isolation rule", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-image-pair-isolation-rule" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['captured-element-image-animation-name-rule'] = { "dfnID": "captured-element-image-animation-name-rule", "url": "#captured-element-image-animation-name-rule", "dfnText": "image animation name rule", "refSections": [{ "refs": [{ "id": "ref-for-captured-element-image-animation-name-rule" }, { "id": "ref-for-captured-element-image-animation-name-rule\u2460" }, { "id": "ref-for-captured-element-image-animation-name-rule\u2461" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['perform-pending-transition-operations'] = { "dfnID": "perform-pending-transition-operations", "url": "#perform-pending-transition-operations", "dfnText": "perform pending transition operations", "refSections": [{ "refs": [{ "id": "ref-for-perform-pending-transition-operations" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-perform-pending-transition-operations\u2460" }], "title": "7.2. Perform pending transition operations" }], "external": false };
        window.dfnpanelData['setup-view-transition'] = { "dfnID": "setup-view-transition", "url": "#setup-view-transition", "dfnText": "setup view transition", "refSections": [{ "refs": [{ "id": "ref-for-setup-view-transition" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-setup-view-transition\u2460" }], "title": "7.2. Perform pending transition operations" }, { "refs": [{ "id": "ref-for-setup-view-transition\u2461" }], "title": "7.3. Setup view transition" }], "external": false };
        window.dfnpanelData['activate-view-transition'] = { "dfnID": "activate-view-transition", "url": "#activate-view-transition", "dfnText": "activate view transition", "refSections": [{ "refs": [{ "id": "ref-for-activate-view-transition" }], "title": "7.3. Setup view transition" }], "external": false };
        window.dfnpanelData['capture-the-old-state'] = { "dfnID": "capture-the-old-state", "url": "#capture-the-old-state", "dfnText": "capture the old state", "refSections": [{ "refs": [{ "id": "ref-for-capture-the-old-state" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-capture-the-old-state\u2460" }], "title": "7.3.1. Capture the old state" }], "external": false };
        window.dfnpanelData['capture-the-new-state'] = { "dfnID": "capture-the-new-state", "url": "#capture-the-new-state", "dfnText": "capture the new state", "refSections": [{ "refs": [{ "id": "ref-for-capture-the-new-state" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-capture-the-new-state\u2460" }], "title": "7.3.2. Capture the new state" }], "external": false };
        window.dfnpanelData['setup-transition-pseudo-elements'] = { "dfnID": "setup-transition-pseudo-elements", "url": "#setup-transition-pseudo-elements", "dfnText": "setup transition pseudo-elements", "refSections": [{ "refs": [{ "id": "ref-for-setup-transition-pseudo-elements" }], "title": "3.2. View Transition Pseudo-elements" }, { "refs": [{ "id": "ref-for-setup-transition-pseudo-elements\u2460" }, { "id": "ref-for-setup-transition-pseudo-elements\u2461" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-setup-transition-pseudo-elements\u2462" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-setup-transition-pseudo-elements\u2463" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-setup-transition-pseudo-elements\u2464" }], "title": "7.3.3. Setup transition pseudo-elements" }], "external": false };
        window.dfnpanelData['call-the-update-callback'] = { "dfnID": "call-the-update-callback", "url": "#call-the-update-callback", "dfnText": "call the update callback", "refSections": [{ "refs": [{ "id": "ref-for-call-the-update-callback" }, { "id": "ref-for-call-the-update-callback\u2460" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-call-the-update-callback\u2461" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-call-the-update-callback\u2462" }], "title": "7.5. Skip the view transition" }], "external": false };
        window.dfnpanelData['skip-the-view-transition'] = { "dfnID": "skip-the-view-transition", "url": "#skip-the-view-transition", "dfnText": "skip the view transition", "refSections": [{ "refs": [{ "id": "ref-for-skip-the-view-transition" }], "title": "6.1.1. startViewTransition() Method Steps" }, { "refs": [{ "id": "ref-for-skip-the-view-transition\u2460" }], "title": "6.2. The ViewTransition interface" }, { "refs": [{ "id": "ref-for-skip-the-view-transition\u2461" }], "title": "6.2.1. skipTransition() Method Steps" }, { "refs": [{ "id": "ref-for-skip-the-view-transition\u2462" }, { "id": "ref-for-skip-the-view-transition\u2463" }, { "id": "ref-for-skip-the-view-transition\u2464" }, { "id": "ref-for-skip-the-view-transition\u2465" }, { "id": "ref-for-skip-the-view-transition\u2466" }, { "id": "ref-for-skip-the-view-transition\u2467" }, { "id": "ref-for-skip-the-view-transition\u2468" }, { "id": "ref-for-skip-the-view-transition\u2460\u24ea" }, { "id": "ref-for-skip-the-view-transition\u2460\u2460" }, { "id": "ref-for-skip-the-view-transition\u2460\u2461" }, { "id": "ref-for-skip-the-view-transition\u2460\u2462" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-skip-the-view-transition\u2460\u2463" }], "title": "7.4. Call the update callback" }, { "refs": [{ "id": "ref-for-skip-the-view-transition\u2460\u2464" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-skip-the-view-transition\u2460\u2465" }, { "id": "ref-for-skip-the-view-transition\u2460\u2466" }], "title": "7.7. Handle transition frame" }], "external": false };
        window.dfnpanelData['capture-the-image'] = { "dfnID": "capture-the-image", "url": "#capture-the-image", "dfnText": "capture the image", "refSections": [{ "refs": [{ "id": "ref-for-capture-the-image" }], "title": "1.5. Rendering Model" }, { "refs": [{ "id": "ref-for-capture-the-image\u2460" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-capture-the-image\u2461" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-capture-the-image\u2462" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-capture-the-image\u2463" }], "title": "7.3.1. Capture the old state" }, { "refs": [{ "id": "ref-for-capture-the-image\u2464" }], "title": "7.6. Capture the image" }, { "refs": [{ "id": "ref-for-capture-the-image\u2465" }], "title": "7.8. Update pseudo-element styles" }, { "refs": [{ "id": "ref-for-capture-the-image\u2466" }], "title": "Security Considerations" }], "external": false };
        window.dfnpanelData['capture-rendering-characteristics'] = { "dfnID": "capture-rendering-characteristics", "url": "#capture-rendering-characteristics", "dfnText": "capture rendering characteristics", "refSections": [{ "refs": [{ "id": "ref-for-capture-rendering-characteristics" }, { "id": "ref-for-capture-rendering-characteristics\u2460" }], "title": "7.6. Capture the image" }, { "refs": [{ "id": "ref-for-capture-rendering-characteristics\u2461" }], "title": "7.6.1. Capture rendering characteristics" }], "external": false };
        window.dfnpanelData['handle-transition-frame'] = { "dfnID": "handle-transition-frame", "url": "#handle-transition-frame", "dfnText": "handle transition frame", "refSections": [{ "refs": [{ "id": "ref-for-handle-transition-frame" }], "title": "7.2. Perform pending transition operations" }, { "refs": [{ "id": "ref-for-handle-transition-frame\u2460" }], "title": "7.7. Handle transition frame" }], "external": false };
        window.dfnpanelData['update-pseudo-element-styles'] = { "dfnID": "update-pseudo-element-styles", "url": "#update-pseudo-element-styles", "dfnText": "update pseudo-element styles", "refSections": [{ "refs": [{ "id": "ref-for-update-pseudo-element-styles" }], "title": "3.2.5. View Transition Old State Image: the ::view-transition-old() pseudo-element" }, { "refs": [{ "id": "ref-for-update-pseudo-element-styles\u2460" }], "title": "3.2.6. View Transition New State Image: the ::view-transition-new() pseudo-element" }, { "refs": [{ "id": "ref-for-update-pseudo-element-styles\u2461" }], "title": "7.3. Setup view transition" }, { "refs": [{ "id": "ref-for-update-pseudo-element-styles\u2462" }], "title": "7.3.3. Setup transition pseudo-elements" }, { "refs": [{ "id": "ref-for-update-pseudo-element-styles\u2463" }], "title": "7.7. Handle transition frame" }, { "refs": [{ "id": "ref-for-update-pseudo-element-styles\u2464" }], "title": "7.8. Update pseudo-element styles" }], "external": false };
        window.dfnpanelData['clear-view-transition'] = { "dfnID": "clear-view-transition", "url": "#clear-view-transition", "dfnText": "clear view transition", "refSections": [{ "refs": [{ "id": "ref-for-clear-view-transition" }], "title": "7.5. Skip the view transition" }, { "refs": [{ "id": "ref-for-clear-view-transition\u2460" }], "title": "7.7. Handle transition frame" }, { "refs": [{ "id": "ref-for-clear-view-transition\u2461" }], "title": "7.9. Clear view transition" }], "external": false };
    </script>
    <script>/* Boilerplate: script-dom-helper */
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        /*
        Color-choosing design:
        
        Colors are ordered by goodness.
        Each color has a usage count (initially zero).
        Each variable has a last-used color.
        
        * If the var has a last-used color, and that color's usage is 0,
            return that color.
        * Otherwise, return the lowest-indexed color with the lowest usage.
            Increment the color's usage and set it as the last-used color
            for that var.
        * On unclicking, decrement usage of the color.
        */
        "use strict";
        {
            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>