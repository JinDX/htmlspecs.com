<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>CSS Will Change 模块 第一级</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="testing" name="csswg-work-status">
    <meta content="CRD" name="w3c-status">
    <meta
        content="本文档定义了 'will-change' CSS 属性，该属性允许作者提前通知用户代理他们可能会对元素进行哪些类型的更改。这使用户代理能够提前优化处理该元素的方式，在动画实际开始之前执行可能代价昂贵的工作，为动画做好准备。"
        name="abstract">
    <link href="https://www.w3.org/TR/css-will-change-1/default.css" rel="stylesheet" type="text/css">
    <meta content="Bikeshed version fb1e763a4, updated Tue Mar 1 13:13:50 2022 -0800" name="generator">
    <link href="https://www.w3.org/TR/css-will-change/" rel="canonical">
    <meta content="84a329b93fab6746f9e7a996623ad6aa58a10df5" name="document-revision">

    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-issues */

        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-CRD" rel="stylesheet" type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS Will Change 模块 第一级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CRD">W3C 候选推荐草案</a>, <time class="dt-updated"
                datetime="2022-05-05">2022年5月5日</time></p>
        <details open>
            <summary>更多关于本文档的详细信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2022/CRD-css-will-change-1-20220505/">https://www.w3.org/TR/2022/CRD-css-will-change-1-20220505/</a>
                    <dt>最新发布版本:
                    <dd><a href="https://www.w3.org/TR/css-will-change/">https://www.w3.org/TR/css-will-change/</a>
                    <dt>编辑草案:
                    <dd><a
                            href="https://drafts.csswg.org/css-will-change/">https://drafts.csswg.org/css-will-change/</a>
                    <dt>以前的版本:
                    <dd><a href="https://www.w3.org/TR/2015/CR-css-will-change-1-20151203/"
                            rel="prev">https://www.w3.org/TR/2015/CR-css-will-change-1-20151203/</a>
                    <dd><a href="https://www.w3.org/TR/2014/WD-css-will-change-1-20140429/"
                            rel="prev">https://www.w3.org/TR/2014/WD-css-will-change-1-20140429/</a>
                    <dt>历史记录:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-will-change-1">https://www.w3.org/standards/history/css-will-change-1</a>
                    <dt>实施报告:
                    <dd><a
                            href="https://wpt.fyi/results/css/css-will-change">https://wpt.fyi/results/css/css-will-change</a>
                    <dt>测试套件:
                    <dd><a
                            href="https://wpt.fyi/results/css/css-will-change">https://wpt.fyi/results/css/css-will-change</a>
                    <dt>反馈:
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-will-change-1">CSSWG 问题
                            存储库</a>
                    <dt class="editor">编辑:
                    <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url"
                            href="http://xanthir.com/contact/">Tab Atkins Jr.</a> (<span
                            class="p-org org">Google</span>)
                    <dt>为此规范建议编辑:
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-will-change-1/Overview.bs">GitHub
                            编辑器</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2022 <a
                href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
                href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
                href="https://www.ercim.eu/"><abbr
                    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a
                href="https://www.keio.ac.jp/">Keio</a>, <a href="https://ev.buaa.edu.cn/">Beihang</a>). W3C <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive
                document license</a> rules apply. </p>
        <hr title="标题分隔线">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本文档定义了 <a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change">will-change</a> CSS
            属性，允许作者提前通知用户代理他们可能会对元素进行哪些类型的更改。这使用户代理能够提前优化处理该元素的方式，在动画实际开始之前执行可能代价昂贵的工作，为动画做好准备。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种描述结构化文档（如 HTML 和 XML）在屏幕、纸张等上渲染的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">本文档的状态</span>
    </h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。当前 W3C 发布物的列表及此技术报告的最新修订版可在 <a href="https://www.w3.org/TR/">W3C 技术报告索引
                    https://www.w3.org/TR/</a> 中找到。</em> </p>
        <p> 本文档由 <a href="https://www.w3.org/groups/wg/css">CSS 工作组</a> 作为 <strong>候选推荐草案</strong> 使用 <a
                href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">推荐标准轨道</a> 发布。
            发布为候选推荐草案不意味着 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。
            候选推荐草案集成了工作组打算在后续的候选推荐快照中包含的来自以前的候选推荐的更改。 </p>
        <p> 这是一份草案文档，可能会随时更新、替换或被其他文档取代。引用此文档为正在进行中的工作是不合适的。 </p>
        <p>请通过 <a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 中提交问题</a>（首选）的方式提供反馈，并在标题中包含规范代码
            "css-will-change"，如下所示：
            “[css-will-change] <i>…反馈摘要…</i>”。所有问题和评论都已 <a
                href="https://lists.w3.org/Archives/Public/public-css-archive/">归档</a>。
            另外，可以将反馈发送到公开邮件列表 (<a href="https://lists.w3.org/Archives/Public/www-style/">已归档</a>) <a
                href="mailto:www-style@w3.org?Subject=%5Bcss-will-change%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。
        </p>
        <p>本文档受 <a href="https://www.w3.org/2021/Process-20211102/" id="w3c_process_revision">2021年11月2日 W3C 流程文档</a>
            管辖。 </p>
        <p>本文档由一个根据 <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/">W3C 专利政策</a> 运行的组织生成。
            W3C 维护了 <a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">在本组织交付物中披露的任何专利的公共列表</a>;
            该页面还包括披露专利的说明。个人如知道认为包含 <a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必要专利权要求</a> 的专利，则必须根据 <a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C 专利政策第 6 节</a> 披露该信息。
        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#intro"><span class="secno">1</span> <span class="content"> 介绍</span></a>
                <ol class="toc">
                    <li><a href="#values"><span class="secno">1.1</span> <span class="content"> 值的定义</span></a>
                    <li><a href="#using"><span class="secno">1.2</span> <span class="content"> 正确使用 <span
                                    class="property">will-change</span></span></a>
                </ol>
            <li><a href="#will-change"><span class="secno">2</span> <span class="content"> 提示未来行为：
                        <span class="property">will-change</span> 属性</span></a>
            <li><a href="#security"><span class="secno">3</span> <span class="content">安全性考量</span></a>
            <li><a href="#privacy"><span class="secno">4</span> <span class="content">隐私考量</span></a>
            <li><a href="#acks"><span class="secno">5</span> <span class="content">致谢</span></a>
            <li><a href="#changes"><span class="secno">6</span> <span class="content">更改</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">规范符合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span
                                class="content">符合性类别</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content">部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content">不稳定和专有功能的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">非实验性实现</span></a>
                    <li><a href="#w3c-cr-exit-criteria"><span class="secno"></span> <span class="content">CR
                                退出标准</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">由本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参考文献中定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考性参考文献</span></a>
                </ol>
            <li><a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">
                介绍</span><a class="self-link" href="#intro"></a></h2>
        <p>现代的 CSS 渲染器执行许多复杂的优化以快速、高效地渲染网页。
            然而，实施这些优化往往需要不小的启动成本，
            这可能会对页面的响应速度产生负面影响。</p>
        <div class="example" id="example-d1b18fd8">
            <a class="self-link" href="#example-d1b18fd8"></a> 例如，当使用 CSS 3D 变换将元素移动到屏幕上的不同位置时，
            元素及其内容可能会提升为一个“层”，
            使其可以独立于页面的其他部分进行渲染，稍后再进行合成。
            这将渲染内容与页面的其他部分隔离开来，确保当只有元素的变换在帧间发生变化时，不必重新渲染整个页面，
            通常会提供显著的速度提升。
            <p>然而，将元素设置在新的层中是一个相对昂贵的操作，
                这可能会延迟<a class="property css" data-link-type="property"
                    href="https://www.w3.org/TR/css-transforms-1/#propdef-transform"
                    id="ref-for-propdef-transform">transform</a>动画开始的时间，延迟时间长到足以被用户注意到。</p>
        </div>
        <p>本规范中定义的<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change①">will-change</a>属性允许作者提前声明哪些属性可能会在未来发生变化，
            这样 UA 可以在需要之前设置适当的优化。
            这种方式确保当实际的变化发生时，
            页面可以快速响应。</p>
        <h3 class="heading settled" data-level="1.1" id="values"><span class="secno">1.1. </span><span class="content">
                值的定义</span><a class="self-link" href="#values"></a></h3>
        <p>本规范遵循<a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS 属性定义惯例</a>，并使用<a
                href="https://www.w3.org/TR/css-values-3/#value-defs">值定义语法</a>，引用了 <a data-link-type="biblio"
                href="#biblio-css-values-3">[CSS-VALUES-3]</a>中的定义。
            本规范未定义的值类型在 CSS 值与单位模块中定义
            <span>[CSS-VALUES-3]</span>。
            结合其他 CSS 模块可能扩展这些值类型的定义。
        </p>
        <p>除了它们定义中列出的特定属性值之外，
            本规范中定义的所有属性
            还接受<a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#css-wide-keywords"
                id="ref-for-css-wide-keywords">CSS-wide 关键词</a>作为属性值。
            为了可读性，它们没有被显式重复。</p>
        <h3 class="heading settled" data-level="1.2" id="using"><span class="secno">1.2. </span><span class="content">
                正确使用 <a class="property css" data-link-type="property" href="#propdef-will-change"
                    id="ref-for-propdef-will-change②">will-change</a></span><a class="self-link" href="#using"></a>
        </h3>
        <p><a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change③">will-change</a>属性，
            像所有性能提示一样，
            可能有些难以掌握如何“正确”使用，
            尤其是它几乎不会产生作者可以直接检测到的效果。
            然而，有一些简单的“应该做”和“不应该做”，
            希望可以帮助开发者更好地直观了解如何正确使用 <span class="property" id="ref-for-propdef-will-change④">will-change</span>。</p>
        <h4 class="no-num no-toc heading settled" id="dont-global"><span class="content"> 不要在过多属性或元素上滥用<a
                    class="property css" data-link-type="property" href="#propdef-will-change"
                    id="ref-for-propdef-will-change⑤">will-change</a></span><a class="self-link"
                href="#dont-global"></a></h4>
        <p>看到<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change⑥">will-change</a>时，常见的反应是认为像这样的代码是个好主意：</p>
        <pre>* { will-change: transform, opacity /* , ... */; }</pre>
        <p>毕竟，这告诉浏览器提前优化所有内容，
            这肯定有好处，对吧？</p>
        <p>错了。浏览器<em>已经</em>尽力优化所有内容。
            明确地告诉它这样做并没有任何帮助，
            事实上，可能会带来很大的危害；
            与<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change⑦">will-change</a>
            关联的某些强效优化会使用大量机器资源，
            如果像这样过度使用，可能会导致页面变慢，甚至崩溃。</p>
        <p>此外，<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change⑧">will-change</a>确实有<strong>一些</strong>副作用，
            而且页面很可能不会想要在每个元素上都应用这些副作用。</p>
        <h4 class="no-num no-toc heading settled" id="css-sparingly"><span class="content"> 谨慎在样式表中使用 <a
                    class="property css" data-link-type="property" href="#propdef-will-change"
                    id="ref-for-propdef-will-change⑨">will-change</a></span><a class="self-link"
                href="#css-sparingly"></a></h4>
        <p>在样式表中直接使用 <a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change①⓪">will-change</a>
            暗示目标元素总是在几秒内发生变化。
            这<em>通常</em>不是你真正想表达的含义；
            相反，<span class="property" id="ref-for-propdef-will-change①①">will-change</span>通常应通过脚本在变化发生前后切换
            （参见<a href="#dont-waste">不要在已停止变化的元素上浪费资源</a>）。
            但是，在某些常见情况下，在样式表中直接使用 <span class="property" id="ref-for-propdef-will-change①②">will-change</span>是合适的。</p>
        <div class="example" id="example-831888c0">
            <a class="self-link" href="#example-831888c0"></a> 例如，
            在页面中指定<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change①③">will-change</a>用于少数持久的 UI 元素，
            这些元素应该对用户的操作做出快速响应：
            <pre>body > .sidebar {
   will-change: transform;
   /* 将使用 'transform' 将侧边栏
      滑出用户请求的内容。 */
}
</pre>
            <p>由于这是对少数元素的限制，
                优化的应用频率较低并不会造成很大影响。</p>
        </div>
        <div class="example" id="example-1ea11531">
            <a class="self-link" href="#example-1ea11531"></a> 有时元素确实<em>几乎</em>不断改变属性。
            它可能响应用户的鼠标移动，
            或者定期执行某些操作触发动画。
            在这种情况下，直接在样式表中声明<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change①④">will-change</a>是合适的，
            因为它准确描述了元素将定期/持续改变，
            因此应保持优化。
            <pre>.cats-flying-around-the-screen {
  will-change: left, top;
}
</pre>
        </div>
        <h4 class="no-num no-toc heading settled" id="give-time"><span class="content"> 给 <a class="property css"
                    data-link-type="property" href="#propdef-will-change"
                    id="ref-for-propdef-will-change①⑤">will-change</a>足够的时间生效</span><a class="self-link"
                href="#give-time"></a></h4>
        <p>另一个常见的不良模式是在开始动画或属性更改<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change①⑥">will-change</a>帮助优化之前，
            <em>立即</em>应用它。
            不幸的是，大多数优化需要时间才能生效，
            因此如果这么做，<span class="property" id="ref-for-propdef-will-change①⑦">will-change</span>几乎没有作用。
            相反，找到某种方式至少稍微提前预测变化，
            然后再设置 <span class="property" id="ref-for-propdef-will-change①⑧">will-change</span>。
        </p>
        <div class="example" id="example-8e9e08f2">
            <a class="self-link" href="#example-8e9e08f2"></a> 例如，
            如果某个元素将在用户点击时发生变化，
            在 hover 时设置<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change①⑨">will-change</a>通常可以为优化的设置争取到至少 200 毫秒，
            因为人类的反应时间相对较慢。
            这可以通过脚本完成，
            或者通过简单的 CSS 规则完成：
            <pre>.element { transition: opacity .2s; opacity: 1; }
.element:hover { will-change: opacity; }
.element:active { opacity: .3; }
</pre>
            <p>然而，如果效果发生在 hover 上，这样的规则是无效的。
                在这种情况下，通常仍然可以找到一些方法在操作发生前进行预测。
                例如，hover 祖先元素可能会提供足够的提前时间：</p>
            <pre>.element { transition: opacity .2s; opacity: 1; }
.container:hover > .element { will-change: opacity; }
.element:hover { opacity: .3; }
</pre>
        </div>
        <h4 class="no-num no-toc heading settled" id="dont-waste"><span class="content"> 不要在已停止变化的元素上浪费资源</span><a
                class="self-link" href="#dont-waste"></a></h4>
        <p>由于浏览器用于更改某些属性的优化代价较大，
            浏览器通常会在正常情况下尽快移除这些优化并恢复到正常行为。
            但是，<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change②⓪">will-change</a>通常会覆盖这种行为，
            使得优化持续的时间远长于浏览器通常情况下的时间。</p>
        <p>因此，每当你将<a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change②①">will-change</a>添加到某个元素时，
            尤其是通过脚本时，
            不要忘记在元素完成变化后<em>移除</em>它，
            以便浏览器可以恢复被优化占用的资源。</p>
        <h2 class="heading settled" data-level="2" id="will-change"><span class="secno">2. </span><span class="content">
                提示未来行为: <a class="property css" data-link-type="property" href="#propdef-will-change"
                    id="ref-for-propdef-will-change②②">will-change</a> 属性</span><a class="self-link"
                href="#will-change"></a></h2>
        <table class="def propdef" data-link-for-hint="will-change">
            <tbody>
                <tr>
                    <th>名称:</th>
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-will-change">will-change</dfn></td>
                </tr>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值:</a></th>
                    <td class="prod">auto <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> <a
                            class="production css" data-link-type="type" href="#typedef-animateable-feature"
                            id="ref-for-typedef-animateable-feature">&lt;animateable-feature></a><a
                            data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma"
                            id="ref-for-mult-comma">#</a></td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值:</a></th>
                    <td>auto</td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于:</a></th>
                    <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content"
                            title="包括::before和::after伪元素。">所有元素</a></td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">是否继承:</a></th>
                    <td>否</td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比:</a></th>
                    <td>不适用</td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值:</a></th>
                    <td>指定的值</td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序:</a></th>
                    <td>按语法顺序</td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型:</a></th>
                    <td>不可动画化</td>
                </tr>
            </tbody>
        </table>
        <pre
            class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-animateable-feature">&lt;animateable-feature></dfn> = scroll-position <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> contents <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#identifier-value" id="ref-for-identifier-value">&lt;custom-ident></a></pre>
        <p><a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change②③">will-change</a> 属性为用户代理提供渲染提示，
            告知作者预计将对元素进行哪些类型的更改。
            这样，用户代理可以提前进行必要的优化，以平滑渲染这些更改，
            避免当作者开始更改或动画化该功能时出现“卡顿”。</p>
        <div class="note" role="note"> 不同的浏览器可以以不同的方式使用 <a class="property css" data-link-type="property"
                href="#propdef-will-change" id="ref-for-propdef-will-change②④">will-change</a> 的信息，
            即使是同一个浏览器在不同时间也可能以不同方式使用它。
            例如，当指定 <span class="css" id="ref-for-propdef-will-change②⑤">will-change: transform</span> 时，
            浏览器可能会将元素提升为其自己的“GPU层”，
            但当声明此属性的元素数量过多时，可能会避免这样做，
            以防耗尽GPU内存。</div>
        <p>值有以下含义：</p>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="will-change" data-dfn-type="value" data-export
                    id="valdef-will-change-auto">auto</dfn>
            <dd> 表示没有特定的意图；
                用户代理应应用其通常使用的任何启发式方法和优化。
            <dt><dfn class="dfn-paneled css" data-dfn-for="will-change" data-dfn-type="value" data-export
                    id="valdef-will-change-scroll-position">scroll-position</dfn>
            <dd>
                表示作者预计在不久的将来会动画化或更改元素的滚动位置。
                <p class="example" id="example-c0594e8a"><a class="self-link" href="#example-c0594e8a"></a> 例如，
                    浏览器通常只渲染可滚动元素的“滚动窗口”中的内容，
                    以及窗口外的一部分内容，
                    在跳过渲染所节省的内存和时间与平滑滚动效果之间取得平衡。
                    浏览器可能会将此值作为信号，扩展滚动窗口周围已渲染内容的范围，
                    以便可以顺利地进行更长时间/更快的滚动。</p>
            <dt><dfn class="dfn-paneled css" data-dfn-for="will-change" data-dfn-type="value" data-export
                    id="valdef-will-change-contents">contents</dfn>
            <dd>
                表示作者预计在不久的将来会动画化或更改元素内容的某些部分。
                <div class="example" id="example-5dd10a2f">
                    <a class="self-link" href="#example-5dd10a2f"></a> 例如，浏览器经常随着时间推移“缓存”元素的渲染，
                    因为大多数东西不会经常更改，
                    或者只会更改它们的位置。
                    然而，如果一个元素的内容不断变化，
                    生成和维护该缓存是浪费时间。
                    浏览器可能会将此值作为信号，减少对该元素的缓存，
                    或完全避免缓存，而是持续从头渲染该元素。
                    <p>此值主要用于帮助浏览器优化基于JS的内容动画，
                        这些动画每秒更改元素内容的多个方面。
                        当使用声明式动画时，浏览器已经自动执行这种优化。</p>
                </div>
                <p class="note" role="note"><span>注意:</span> 此值基本上适用于声明它的元素的整个子树，
                    因为它表明浏览器应该计算出*任何*后代都可能以某种方式更改。
                    在文档结构较高的元素上使用它可能对页面性能非常不利；
                    尽量只在文档树中“底部”的元素上使用此值，
                    包含尽可能少的文档内容。</p>
            <dt><dfn class="css" data-dfn-for="will-change" data-dfn-type="value" data-export
                    id="valdef-will-change-custom-ident"><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#identifier-value"
                        id="ref-for-identifier-value①">&lt;custom-ident></a><a class="self-link"
                        href="#valdef-will-change-custom-ident"></a></dfn>
            <dd>
                如果 <a class="production css" data-link-type="type"
                    href="https://www.w3.org/TR/css-values-4/#identifier-value"
                    id="ref-for-identifier-value②">&lt;custom-ident></a> 与内置CSS属性的名称进行 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                    id="ref-for-ascii-case-insensitive">ASCII不区分大小写</a> 匹配，
                它表示作者预计在不久的将来会动画化或更改元素上给定名称的属性。
                如果给定的属性是简写，
                则表示预计其展开后的所有长写属性也会更改。
                <p class="example" id="example-03a1e696"><a class="self-link" href="#example-03a1e696"></a> 例如，
                    设置 <a class="css" data-link-type="propdesc" href="#propdef-will-change"
                        id="ref-for-propdef-will-change②⑥">will-change: background;</a> 等同于设置 <span class="css"
                        id="ref-for-propdef-will-change②⑦">will-change: background-image,
                        background-position, ...</span>，涵盖所有 <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background"
                        id="ref-for-propdef-background">background</a> 展开的属性。</p>
                <p>此处使用的 <a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#identifier-value"
                        id="ref-for-identifier-value③">&lt;custom-ident></a> 排除了关键字
                    <span class="css">will-change</span>、<span class="css">none</span>、<span class="css">all</span>、
                    <a class="css" data-link-type="maybe" href="#valdef-will-change-auto"
                        id="ref-for-valdef-will-change-auto">auto</a>、<a class="css" data-link-type="maybe"
                        href="#valdef-will-change-scroll-position"
                        id="ref-for-valdef-will-change-scroll-position">scroll-position</a> 和 <a class="css"
                        data-link-type="maybe" href="#valdef-will-change-contents"
                        id="ref-for-valdef-will-change-contents">contents</a>，
                    以及通常从 <span class="production" id="ref-for-identifier-value④">&lt;custom-ident></span> 中排除的关键字。
                </p>
                <p class="note" role="note"><span>注意:</span> 大多数属性在指定时不会产生任何效果，
                    因为用户代理不会为大多数属性的更改执行任何特殊优化。
                    不过，指定它们是 <em>安全的</em>；
                    它们只是不产生任何效果。</p>
                <p>指定自定义属性不会产生任何效果，
                    这意味着通过自定义属性发生的效果
                    不会被视为以下规则中条件所述的任何非初始值导致的某些行为。</p>
                <p class="note" role="note"><span>注意:</span> 指定一个不被识别为属性的值是可以的；
                    它只是不产生任何效果。
                    这允许您安全地指定存在于某些用户代理中的 <em>新</em> 属性，
                    而不会对不知道该属性的旧版用户代理产生负面影响。</p>
                <p class="example" id="example-7225dcbc"><a class="self-link" href="#example-7225dcbc"></a> 例如，
                    浏览器通常会以非常不同的方式处理设置了非初始值的 <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-transforms-1/#propdef-transform"
                        id="ref-for-propdef-transform①">transform</a> 的元素，
                    可能会将它们渲染到它们自己的“GPU层”，
                    或者使用其他机制，使快速执行 <span class="property" id="ref-for-propdef-transform②">transform</span> 可以实现的转换更容易。
                    浏览器可能会将 <span class="property" id="ref-for-propdef-transform③">transform</span> 值作为信号，
                    表示它应该立即将该元素提升为其自己的层，
                    在元素开始变换之前，
                    避免涉及重新渲染旧层和新层的延迟。</p>
                <p>如果某个属性的非初始值会在元素上创建堆叠上下文，
                    则在 <a class="property css" data-link-type="property" href="#propdef-will-change"
                        id="ref-for-propdef-will-change②⑧">will-change</a> 中指定该属性时，
                    必须在元素上创建堆叠上下文。</p>
                <p>如果某个属性的非初始值会使该元素生成绝对定位元素的包含块，
                    则在 <a class="property css" data-link-type="property" href="#propdef-will-change"
                        id="ref-for-propdef-will-change②⑨">will-change</a> 中指定该属性时，
                    必须使该元素生成绝对定位元素的包含块。</p>
                <p>如果某个属性的非初始值会使该元素生成固定定位元素的包含块，
                    则在 <a class="property css" data-link-type="property" href="#propdef-will-change"
                        id="ref-for-propdef-will-change③⓪">will-change</a> 中指定该属性时，
                    必须使该元素生成固定定位元素的包含块。</p>
                <p>如果某个属性的非初始值会导致元素的渲染发生差异
                    （例如对文本使用不同的抗锯齿策略），
                    当该属性在 <a class="property css" data-link-type="property" href="#propdef-will-change"
                        id="ref-for-propdef-will-change③①">will-change</a> 中被指定时，
                    用户代理应使用该备用渲染，
                    以避免属性最终更改时出现突然的渲染差异。</p>
                <p class="example" id="example-e1300843"><a class="self-link" href="#example-e1300843"></a> 例如，
                    将 <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-color-4/#propdef-opacity"
                        id="ref-for-propdef-opacity">opacity</a> 设置为 <span class="css">1</span> 以外的任何值
                    都会在元素上创建堆叠上下文。
                    因此，设置 <a class="css" data-link-type="propdesc" href="#propdef-will-change"
                        id="ref-for-propdef-will-change③②">will-change: opacity</a> 也会创建堆叠上下文，
                    即使 <span class="property" id="ref-for-propdef-opacity①">opacity</span> <em>当前</em> 仍等于 <span
                        class="css">1</span>。</p>
        </dl>
        <p><a class="property css" data-link-type="property" href="#propdef-will-change"
                id="ref-for-propdef-will-change③③">will-change</a> 属性本身不会对指定的元素产生 <em>直接</em> 影响，
            除了上述创建堆叠上下文和包含块的情况。
            它只是对用户代理的渲染提示，
            允许用户代理在某些类型的更改实际发生之前，
            设置可能会非常昂贵的优化。</p>
        <h2 class="heading settled" data-level="3" id="security"><span class="secno">3. </span><span
                class="content">安全性考量</span><a class="self-link" href="#security"></a></h2>
        <p>本文件未提出任何安全性问题</p>
        <h2 class="heading settled" data-level="4" id="privacy"><span class="secno">4. </span><span
                class="content">隐私考量</span><a class="self-link" href="#privacy"></a></h2>
        <p>本文件未提出任何隐私问题</p>
        <h2 class="heading settled" data-level="5" id="acks"><span class="secno">5. </span><span
                class="content">致谢</span><a class="self-link" href="#acks"></a></h2>
        <p>感谢 Benoit Girard 最早提出了 <span class="css">will-animate</span> 属性，
            并完成了大量初期设计工作。</p>
        <h2 class="heading settled" data-level="6" id="changes"><span class="secno">6. </span><span
                class="content">更改</span><a class="self-link" href="#changes"></a></h2>
        <p>自 <a href="https://www.w3.org/TR/2015/CR-css-will-change-1-20151203/">2015年12月3日CR</a>版本起的更改：</p>
        <ul>
            <li data-md>
                <p>添加了安全性和隐私章节</p>
            <li data-md>
                <p>澄清了未知值是可以接受的，并且没有任何影响</p>
            <li data-md>
                <p>明确规定属性名使用ASCII不区分大小写匹配</p>
            <li data-md>
                <p>将 will-change 属性的动画类型更改为不可动画化</p>
            <li data-md>
                <p>从属性定义表中删除了 "媒体:" 条目，与其他CSS规范一致</p>
            <li data-md>
                <p>细微的编辑澄清和标记改进</p>
        </ul>
        <p>自 <a href="https://www.w3.org/TR/2014/WD-css-will-change-1-20140429/">2014年4月29日工作草案</a>版本起的更改：</p>
        <ul>
            <li data-md>
                <p>增加了解释部分，提供了如何正确使用 <a class="property css" data-link-type="property" href="#propdef-will-change"
                        id="ref-for-propdef-will-change③④">will-change</a> 的指导。</p>
            <li data-md>
                <p>明确了简写属性的行为</p>
        </ul>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> 规范符合性</span><a
            class="self-link" href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> 文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>规范要求通过描述性断言和RFC 2119术语的组合进行表达。关键词“必须(MUST)”、“禁止(MUST NOT)”、
        “必要(REQUIRED)”、“应当(SHALL)”、“不得(SHALL NOT)”、“应该(SHOULD)”、
        “不应该(SHOULD NOT)”、“推荐(RECOMMENDED)”、“可以(MAY)”和“可选(OPTIONAL)”在本文件的规范性部分中按照RFC 2119的定义解释。
        然而，为了易于阅读，这些词语在本规范中不会全部大写。</p>
    <p>本规范的所有文本都是规范性的，除非明确标注为非规范部分、示例或注释。<a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>
    <p>本规范中的示例以“例如(for example)”开头，或通过使用<code>class="example"</code>从规范文本中分开，如下所示：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个信息性示例。</p>
    </div>
    <p>信息性注释以“注：”开头，并通过<code>class="note"</code>从规范文本中分开，如下所示：</p>
    <p class="note" role="note">注：这是一个信息性注释。</p>
    <p>建议性内容是规范性部分，使用 <code>&lt;strong class="advisement"></code> 样式来突出显示，如下所示：
        <strong class="advisement"> 用户代理必须(MUST)提供无障碍的替代方案。</strong>
    </p>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> 符合性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范的符合性定义为三种符合性类别：</p>
    <dl>
        <dt>样式表
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS样式表</a>。
        <dt>渲染器
        <dd>解释样式表语义并渲染使用它们的文档的<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理</a>(UA)。
        <dt>创作工具
        <dd>编写样式表的<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理</a>(UA)。
    </dl>
    <p>样式表符合本规范的条件是，如果其所有使用本模块定义的语法的声明，均符合通用CSS语法以及本模块每个功能定义的语法。</p>
    <p>渲染器符合本规范的条件是，除了按照相关规范解释样式表外，还必须正确解析并支持本规范定义的所有功能，并相应地渲染文档。
        然而，因设备限制导致的用户代理无法正确渲染文档并不会使其不符合规范。（例如，用户代理并不需要在单色显示器上渲染颜色。）</p>
    <p>创作工具符合本规范的条件是，它编写的样式表在语法上必须符合通用CSS语法以及本模块中每个功能的语法，
        并满足本模块中描述的样式表的其他符合性要求。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> 部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为了让作者能够利用向前兼容的解析规则来指定后备值，CSS渲染器<strong>必须</strong>将任何没有可用支持级别的
        at规则、属性、属性值、关键字和其他语法结构视为无效，并且<a href="https://www.w3.org/TR/CSS21/conform.html#ignore">适当忽略</a>它们。
        特别是，用户代理<strong>不得</strong>选择性地忽略不支持的组件值而保留支持的值在同一个多值属性声明中：
        如果任何值被视为无效（因为不支持的值必须如此），CSS要求整个声明被忽略。</p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> 不稳定和专有功能的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为了避免与未来稳定的CSS功能冲突，CSS工作组建议在实现<a href="https://www.w3.org/TR/CSS/#unstable">不稳定</a>功能和<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>时，遵循<a
            href="https://www.w3.org/TR/CSS/#future-proofing">最佳实践</a>。</p>

    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> 非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>一旦规范达到候选推荐(CR)阶段，便可以进行非实验性实现，开发者应发布符合规范且经过验证的无前缀实现。</p>
    <p>为了建立和维护CSS在不同实现之间的互操作性，CSS工作组请求非实验性CSS渲染器在发布任何无前缀的CSS功能实现之前，向W3C提交实现报告（以及必要时提供实现报告中使用的测试案例）。提交给W3C的测试案例需经过CSS工作组的审查和修改。
    </p>
    <p>关于提交测试案例和实现报告的更多信息，请参阅CSS工作组网站：<a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。问题可发送至 <a
            href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>。</p>

    <h3 class="no-ref heading settled" id="w3c-cr-exit-criteria"><span class="content"> CR退出标准</span><a
            class="self-link" href="#w3c-cr-exit-criteria"></a></h3>
    <p>本规范要推进到提案推荐(Proposed
        Recommendation)阶段，必须至少有两个独立的、互操作性良好的实现，并且每个功能至少有两套独立实现。每个功能可以由不同的产品实现，不要求所有功能由单个产品实现。以下是相关术语的定义：</p>
    <dl>
        <dt>独立
        <dd>每个实现必须由不同的开发方开发，且不能共享、重用或基于其他合格实现的代码。与本规范实现无关的代码部分可不受此要求限制。</dd>
        <dt>互操作性
        <dd>在官方CSS测试套件中通过相应的测试，或者如果实现不是网页浏览器，则通过等效测试。所有相关测试应有等效测试，以便声称互操作性时使用。如果某用户代理(UA)声称互操作性，则必须有一个或多个其他UA通过相同测试来证明互操作性。这些等效测试必须公开，以便同行评审。
        </dd>
        <dt>实现
        <dd>用户代理（UA），符合以下条件：
            <ol class="inline">
                <li>实现了本规范。
                <li>对公众开放，可能是正式发布的产品，也可能是其他公开发布的版本（例如测试版、预览版或“夜间构建”）。
                <li>不应是专门为通过测试套件而设计的实验版本，且该版本不应用于正常使用。
            </ol>
        </dd>
    </dl>
    <p>本规范将保持候选推荐(CR)状态至少六个月。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>

    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">由本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#typedef-animateable-feature">&lt;animateable-feature></a><span>, 在 § 2</span></li>
        <li><a href="#valdef-will-change-auto">auto</a><span>, 在 § 2</span></li>
        <li><a href="#valdef-will-change-contents">contents</a><span>, 在 § 2</span></li>
        <li><a href="#valdef-will-change-custom-ident">&lt;custom-ident></a><span>, 在 § 2</span></li>
        <li><a href="#valdef-will-change-scroll-position">scroll-position</a><span>, 在 § 2</span></li>
        <li><a href="#propdef-will-change">will-change</a><span>, 在 § 2</span></li>
    </ul>
    <aside class="dfn-panel" data-for="term-for-propdef-background">
        <a
            href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background">https://www.w3.org/TR/css-backgrounds-3/#propdef-background</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-background">2.
                    Hinting at Future Behavior: the will-change property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-opacity">
        <a
            href="https://www.w3.org/TR/css-color-4/#propdef-opacity">https://www.w3.org/TR/css-color-4/#propdef-opacity</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-opacity">2.
                    Hinting at Future Behavior: the will-change property</a> <a href="#ref-for-propdef-opacity①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-propdef-transform">
        <a
            href="https://www.w3.org/TR/css-transforms-1/#propdef-transform">https://www.w3.org/TR/css-transforms-1/#propdef-transform</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-propdef-transform">1.
                    Introduction</a>
            <li><a href="#ref-for-propdef-transform①">2.
                    Hinting at Future Behavior: the will-change property</a> <a
                    href="#ref-for-propdef-transform②">(2)</a> <a href="#ref-for-propdef-transform③">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-mult-comma">
        <a href="https://www.w3.org/TR/css-values-4/#mult-comma">https://www.w3.org/TR/css-values-4/#mult-comma</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-mult-comma">2.
                    Hinting at Future Behavior: the will-change property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-identifier-value">
        <a
            href="https://www.w3.org/TR/css-values-4/#identifier-value">https://www.w3.org/TR/css-values-4/#identifier-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-identifier-value">2.
                    Hinting at Future Behavior: the will-change property</a> <a
                    href="#ref-for-identifier-value①">(2)</a> <a href="#ref-for-identifier-value②">(3)</a> <a
                    href="#ref-for-identifier-value③">(4)</a> <a href="#ref-for-identifier-value④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-css-wide-keywords">
        <a
            href="https://www.w3.org/TR/css-values-4/#css-wide-keywords">https://www.w3.org/TR/css-values-4/#css-wide-keywords</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-css-wide-keywords">1.1.
                    Value Definitions</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-comb-one">
        <a href="https://www.w3.org/TR/css-values-4/#comb-one">https://www.w3.org/TR/css-values-4/#comb-one</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-comb-one">2.
                    Hinting at Future Behavior: the will-change property</a> <a href="#ref-for-comb-one①">(2)</a> <a
                    href="#ref-for-comb-one②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-ascii-case-insensitive">
        <a
            href="https://infra.spec.whatwg.org/#ascii-case-insensitive">https://infra.spec.whatwg.org/#ascii-case-insensitive</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-ascii-case-insensitive">2.
                    Hinting at Future Behavior: the will-change property</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参考文献中定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[css-backgrounds-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-background">background</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[css-color-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-opacity">opacity</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[css-transforms-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-propdef-transform">transform</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[css-values-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-mult-comma">#</span></li>
                <li><span class="dfn-paneled" id="term-for-identifier-value">&lt;custom-ident></span></li>
                <li><span class="dfn-paneled" id="term-for-css-wide-keywords">css-wide keywords</span></li>
                <li><span class="dfn-paneled" id="term-for-comb-one">|</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-ascii-case-insensitive">ascii case-insensitive</span></li>
            </ul>
        </li>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-values-3">[CSS-VALUES-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-3/"><cite>CSS Values and Units
                    Module Level 3</cite></a>. 2019年6月6日. CR. URL: <a
                href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>. 2021年12月16日. WD. URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS21/"><cite>层叠样式表第2级修订版 (CSS 2.1) 规范</cite></a>.
            2011年6月7日. REC. URL: <a href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra 标准</cite></a>.
            现行标准. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>在RFC中使用的关键词表示要求等级</cite></a>.
            1997年3月. 最佳现行做法. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性参考文献</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
        <dd>Bert Bos; Elika Etemad; Brad Kemper. <a href="https://www.w3.org/TR/css-backgrounds-3/"><cite>CSS
                    背景和边框模块第3级</cite></a>. 2021年7月26日. CR. URL: <a
                href="https://www.w3.org/TR/css-backgrounds-3/">https://www.w3.org/TR/css-backgrounds-3/</a>
        <dt id="biblio-css-color-4">[CSS-COLOR-4]
        <dd>Tab Atkins Jr.; Chris Lilley; Lea Verou. <a href="https://www.w3.org/TR/css-color-4/"><cite>CSS
                    颜色模块第4级</cite></a>. 2021年12月15日. WD. URL: <a
                href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
        <dt id="biblio-css-transforms-1">[CSS-TRANSFORMS-1]
        <dd>Simon Fraser; 等. <a href="https://www.w3.org/TR/css-transforms-1/"><cite>CSS 变换模块第1级</cite></a>. 2019年2月14日.
            CR. URL: <a href="https://www.w3.org/TR/css-transforms-1/">https://www.w3.org/TR/css-transforms-1/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">属性索引</span><a class="self-link"
            href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    <th scope="col">值
                    <th scope="col">初始值
                    <th scope="col">应用于
                    <th scope="col">继承性
                    <th scope="col">百分比
                    <th scope="col">动画类型
                    <th scope="col">语法顺序
                    <th scope="col">计算值
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-will-change"
                            id="ref-for-propdef-will-change③⑤">will-change</a>
                    <td>auto | &lt;animateable-feature>#
                    <td>auto
                    <td>所有元素
                    <td>否
                    <td>不适用
                    <td>不可动画
                    <td>按语法顺序
                    <td>指定值
        </table>
    </div>
    <aside class="dfn-panel" data-for="propdef-will-change">
        <b><a href="#propdef-will-change">#propdef-will-change</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-propdef-will-change①">1.
                    Introduction</a>
            <li><a href="#ref-for-propdef-will-change②">1.2.
                    Using will-change Well</a> <a href="#ref-for-propdef-will-change③">(2)</a> <a
                    href="#ref-for-propdef-will-change④">(3)</a>
            <li><a href="#ref-for-propdef-will-change⑤"> Don’t Spam will-change Across Too Many Properties or
                    Elements</a> <a href="#ref-for-propdef-will-change⑥">(2)</a> <a
                    href="#ref-for-propdef-will-change⑦">(3)</a> <a href="#ref-for-propdef-will-change⑧">(4)</a>
            <li><a href="#ref-for-propdef-will-change⑨"> Use will-change Sparingly In Stylesheets</a> <a
                    href="#ref-for-propdef-will-change①⓪">(2)</a> <a href="#ref-for-propdef-will-change①①">(3)</a> <a
                    href="#ref-for-propdef-will-change①②">(4)</a> <a href="#ref-for-propdef-will-change①③">(5)</a> <a
                    href="#ref-for-propdef-will-change①④">(6)</a>
            <li><a href="#ref-for-propdef-will-change①⑤"> Give will-change Sufficient Time To Work</a> <a
                    href="#ref-for-propdef-will-change①⑥">(2)</a> <a href="#ref-for-propdef-will-change①⑦">(3)</a> <a
                    href="#ref-for-propdef-will-change①⑧">(4)</a> <a href="#ref-for-propdef-will-change①⑨">(5)</a>
            <li><a href="#ref-for-propdef-will-change②⓪"> Don’t Waste Resources On Elements That Have Stopped
                    Changing</a> <a href="#ref-for-propdef-will-change②①">(2)</a>
            <li><a href="#ref-for-propdef-will-change②②">2.
                    Hinting at Future Behavior: the will-change property</a> <a
                    href="#ref-for-propdef-will-change②③">(2)</a> <a href="#ref-for-propdef-will-change②④">(3)</a> <a
                    href="#ref-for-propdef-will-change②⑤">(4)</a> <a href="#ref-for-propdef-will-change②⑥">(5)</a> <a
                    href="#ref-for-propdef-will-change②⑦">(6)</a> <a href="#ref-for-propdef-will-change②⑧">(7)</a> <a
                    href="#ref-for-propdef-will-change②⑨">(8)</a> <a href="#ref-for-propdef-will-change③⓪">(9)</a> <a
                    href="#ref-for-propdef-will-change③①">(10)</a> <a href="#ref-for-propdef-will-change③②">(11)</a> <a
                    href="#ref-for-propdef-will-change③③">(12)</a>
            <li><a href="#ref-for-propdef-will-change③④">6. Changes</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="typedef-animateable-feature">
        <b><a href="#typedef-animateable-feature">#typedef-animateable-feature</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-typedef-animateable-feature">2.
                    Hinting at Future Behavior: the will-change property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-will-change-auto">
        <b><a href="#valdef-will-change-auto">#valdef-will-change-auto</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-will-change-auto">2.
                    Hinting at Future Behavior: the will-change property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-will-change-scroll-position">
        <b><a href="#valdef-will-change-scroll-position">#valdef-will-change-scroll-position</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-valdef-will-change-scroll-position">2.
                    Hinting at Future Behavior: the will-change property</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="valdef-will-change-contents">
        <b><a href="#valdef-will-change-contents">#valdef-will-change-contents</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-valdef-will-change-contents">2.
                    Hinting at Future Behavior: the will-change property</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script src="/dropdown.js"></script>