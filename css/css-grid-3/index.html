<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 网格布局模块 三级</title>
    <meta content="WD" name="w3c-status">
    <!-- <meta content="Bikeshed version a6f7e1a35, updated Thu May 15 08:27:38 2025 -0700" name="generator"> -->
    <link href="https://www.w3.org/TR/css-grid-3/" rel="canonical">
    <!-- <meta content="d2183ee5ac0f12e5842ed6b1d15e38c421a9e9c6" name="revision"> -->
    <meta content="dark light" name="color-scheme">
    <style>
        :is(section, p).option {
            border-right: 1em double;
            padding-right: 1em;
        }

        :is(section, p).option.grid {
            border-right-color: #be2596;
        }

        :is(section, p).option.masonry {
            border-right-color: #96be25;
        }

        :is(span, a).option {
            font-weight: bold;
        }

        :is(span, a).option * {
            color: inherit;
        }

        :is(span, a).option.grid {
            color: #be2596;
        }

        :is(span, a).option.masonry {
            color: #658118
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS 网格布局模块 三级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#WD">W3C 工作草案</a>，<time class="dt-updated"
                datetime="2025-09-17">2025年9月17日</time></p>
        <details open>
            <summary>关于本文档的更多信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本：
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2025/WD-css-grid-3-20250917/">https://www.w3.org/TR/2025/WD-css-grid-3-20250917/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/css-grid-3/">https://www.w3.org/TR/css-grid-3/</a>
                    <dt>编辑草稿：
                    <dd><a href="https://drafts.csswg.org/css-grid-3/">https://drafts.csswg.org/css-grid-3/</a>
                    <dt>历史记录：
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-grid-3/">https://www.w3.org/standards/history/css-grid-3/</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-grid-3">CSSWG 问题仓库</a>
                    <dd><a href="#issues-index">规范内反馈</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url"
                            href="http://www.xanthir.com/contact/">Tab Atkins Jr.</a> (<span
                            class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url"
                            href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span
                            class="p-org org">Apple</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="52801"><a class="p-name fn u-url url"
                            href="http://jensimmons.com/">Jen Simmons</a> (<span class="p-org org">Apple</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="138640"><a class="p-name fn u-url url"
                            href="https://brandonstewart.net">Brandon Stewart</a> (<span class="p-org org">Apple</span>)
                    <dt class="editor">前编辑：
                    <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                            href="mailto:mailto:mats@mozilla.com">Mats Palmgren</a> (<span
                            class="p-org org">Mozilla</span>)
                    <dt>建议修改本规范：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-grid-3/Overview.bs">GitHub 编辑器</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本模块为 <a href="https://www.w3.org/TR/css-grid-2/">CSS 网格</a> 容器引入了瀑布流布局作为一种额外的布局模式。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种用于描述结构化文档（如 HTML 和 XML）在屏幕、纸张等介质上的渲染的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。当前 W3C 出版物列表以及该技术报告的最新版本可在 <a href="https://www.w3.org/TR/">W3C 标准与草案索引</a> 中查阅。</em>
        </p>
        <p> 本文档由 <a href="https://www.w3.org/groups/wg/css">CSS 工作组</a> 作为 <strong>工作草案</strong> 发布，采用了 <a
                href="https://www.w3.org/policies/process/20250818/#recs-and-notes">推荐规范流程</a>。
            发布为工作草案并不意味着 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。 </p>
        <p> 这是一个草稿文件，可能随时被更新、替换或被其他文件取代。除作为正在进行中的工作之外，不适宜引用本文件。 </p>
        <p>请通过 <a href="https://github.com/w3c/csswg-drafts/issues">在 GitHub 提交 issue</a>（推荐）反馈意见，标题中请包含规范代码
            “css-grid”，格式如下：
            “[css-grid] <i>…评论摘要…</i>”。
            所有问题与评论均已 <a href="https://lists.w3.org/Archives/Public/public-css-archive/">存档</a>。
            或者，也可发送反馈至（<a href="https://lists.w3.org/Archives/Public/www-style/">已存档</a>）公共邮件列表 <a
                href="mailto:www-style@w3.org?Subject=%5Bcss-grid%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。</p>
        <p>本文件受 <a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">2025年8月18日 W3C
                流程文件</a> 管辖。</p>
        <p>本文件由遵循 <a href="https://www.w3.org/policies/patent-policy/20200915/">W3C 专利政策</a> 的工作组制作。
            W3C 维护着一个<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">公开的专利披露列表</a>，用于记录与本组成果相关的专利披露；
            该页面还包含专利披露的说明。
            任何个人若知悉某专利且认为其包含<a href="https://www.w3.org/policies/patent-policy/20200915/#def-essential">必要权利要求</a>，必须根据
            <a href="https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure">W3C 专利政策第6节</a> 披露相关信息。
        </p>
        <p><strong>本规范包含瀑布流布局的两种方案，欢迎对这两种方案提出反馈。</strong></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#intro"><span class="secno">1</span> <span class="content"> 引言</span></a>
                <ol class="toc">
                    <li>
                        <a href="#background"><span class="secno">1.1</span> <span class="content"> 背景与动机</span></a>
                        <ol class="toc">
                            <li><a href="#waterfall"><span class="secno">1.1.1</span> <span class="content">
                                        自动放置项的瀑布流布局</span></a>
                            <li><a href="#collapse"><span class="secno">1.1.2</span> <span class="content">
                                        一维网格布局</span></a>
                        </ol>
                    <li><a href="#values"><span class="secno">1.2</span> <span class="content"> 值定义</span></a>
                </ol>
            <li>
                <a href="#masonry-model"><span class="secno">2</span> <span class="content"> 瀑布流布局模型</span></a>
                <ol class="toc">
                    <li><a href="#order-accessibility"><span class="secno">2.1</span> <span class="content">
                                重排序与可访问性</span></a>
                    <li><a href="#masonry-switch"><span class="secno">2.2</span> <span class="content">
                                建立瀑布流布局</span></a>
                </ol>
            <li>
                <a href="#masonry-track-templates"><span class="secno">3</span> <span class="content">
                        瀑布流轨道规范</span></a>
                <ol class="toc">
                    <li>
                        <a href="#masonry-track-grid-option"><span class="secno">3.1</span> <span class="content">
                                声明瀑布流轨道模板：<span class="css">grid-template-*</span> 属性</span></a>
                        <ol class="toc">
                            <li><a href="#masonry-intrinsic-repeat"><span class="secno">3.1.1</span> <span
                                        class="content"> 内在轨道与 repeat()</span></a>
                        </ol>
                    <li><a href="#subgrids"><span class="secno">3.2</span> <span class="content"> 子网格</span></a>
                    <li>
                        <a href="#repeat-notation"><span class="secno">3.3</span> <span class="content"> 轨道重复：<span
                                    class="css">repeat()</span> 记法</span></a>
                        <ol class="toc">
                            <li><a href="#repeat-auto-areas"><span class="secno">3.3.1</span> <span class="content">
                                        repeat(auto-areas)</span></a>
                            <li><a href="#repeat-auto-fit"><span class="secno">3.3.2</span> <span class="content">
                                        repeat(auto-fit)</span></a>
                        </ol>
                    <li>
                        <a href="#track-sizing"><span class="secno">3.4</span> <span class="content"> 网格轴轨道尺寸</span></a>
                        <ol class="toc">
                            <li><a href="#track-sizing-subgrid"><span class="secno">3.4.1</span> <span class="content">
                                        子网格项目尺寸贡献</span></a>
                            <li><a href="#track-sizing-performance"><span class="secno">3.4.2</span> <span
                                        class="content"> 轨道尺寸优化</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#masonry-track-placement"><span class="secno">4</span> <span class="content"> 瀑布流放置</span></a>
                <ol class="toc">
                    <li><a href="#masonry-placement-grid-option"><span class="secno">4.1</span> <span class="content">
                                指定瀑布流项位置：<span class="css">grid-column-*</span> 与 <span class="css">grid-row-*</span>
                                属性</span></a>
                    <li><a href="#placement-tolerance"><span class="secno">4.2</span> <span class="content"> 放置精度：<span
                                    class="property">item-tolerance</span> 属性</span></a>
                    <li><a href="#masonry-dense-packing"><span class="secno">4.3</span> <span class="content">
                                密集放置：<span class="css">dense</span> 关键字</span></a>
                    <li>
                        <a href="#masonry-layout-algorithm"><span class="secno">4.4</span> <span class="content">
                                瀑布流布局与放置算法</span></a>
                        <ol class="toc">
                            <li><a href="#containing-block"><span class="secno">4.4.1</span> <span class="content">
                                        包含块</span></a>
                            <li><a href="#rtl-example"><span class="secno">4.4.2</span> <span class="content">
                                        放置与书写模式</span></a>
                        </ol>
                </ol>
            <li><a href="#intrinsic-sizes"><span class="secno">5</span> <span class="content"> 网格容器尺寸</span></a>
            <li>
                <a href="#alignment"><span class="secno">6</span> <span class="content"> 对齐与间距</span></a>
                <ol class="toc">
                    <li><a href="#masonry-baseline-alignment"><span class="secno">6.1</span> <span class="content">
                                基线对齐</span></a>
                </ol>
            <li>
                <a href="#pagination"><span class="secno">7</span> <span class="content"> 分页</span></a>
                <ol class="toc">
                    <li><a href="#masonry-axis-pagination"><span class="secno">7.1</span> <span class="content">
                                堆叠轴分页</span></a>
                    <li><a href="#grid-axis-pagination"><span class="secno">7.2</span> <span class="content">
                                网格轴分页</span></a>
                </ol>
            <li><a href="#abspos"><span class="secno">8</span> <span class="content"> 绝对定位</span></a>
            <li><a href="#graceful-degradation"><span class="secno">9</span> <span class="content"> 优雅降级</span></a>
            <li>
                <a href="#flow-control"><span class="secno"></span> <span class="content"> 附录 A：通用布局项流控制：<span
                            class="css">item-*</span> 属性</span></a>
                <ol class="toc">
                    <li><a href="#item-primary-axis"><span class="secno"></span> <span class="content"> 项流主轴：<span
                                    class="property">item-track</span>/<span
                                    class="property">item-direction</span></span></a>
                    <li><a href="#item-secondary-axis"><span class="secno"></span> <span class="content">
                                项目交叉轴放置模式：<span class="property">item-cross</span>/<span
                                    class="property">item-wrap</span></span></a>
                    <li><a href="#item-pack-options"><span class="secno"></span> <span class="content"> 项目放置打包模式：<span
                                    class="property">item-pack</span> 属性</span></a>
                    <li><a href="#item-flow"><span class="secno"></span> <span class="content"> 项目放置速记：<span
                                    class="property">item-flow</span> 速记属性</span></a>
                </ol>
            <li><a href="#acknowledgements"><span class="secno">10</span> <span class="content"> 致谢</span></a>
            <li><a href="#security"><span class="secno">11</span> <span class="content"> 安全注意事项</span></a>
            <li><a href="#privacy"><span class="secno">12</span> <span class="content"> 隐私注意事项</span></a>
            <li>
                <a href="#changes"><span class="secno"></span> <span class="content"> 变更记录</span></a>
                <ol class="toc">
                    <li><a href="#changes-3"><span class="secno"></span> <span class="content"> 第2级之后的新增内容</span></a>
                    <li><a href="#recent-changes"><span class="secno"></span> <span class="content"> 近期变更</span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> 一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> 文档约定</span></a>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                一致性类别</span></a>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content"> 部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content"> 不稳定和专有特性的实现</span></a>
                        </ol>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> 非实验性实现</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">补充性引用</span></a>
                </ol>
            <li><a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">
                引言</span><a class="self-link" href="#intro"></a></h2>
        <p><em>本节不具备规范性。</em></p>
        <p>网格布局是一种 CSS 的布局模型，具有强大的控制盒子及其内容的尺寸和定位的能力。
            网格布局专为二维布局优化：即在两个方向都需要内容对齐的布局场景。</p>
        <figure>
            <img alt="网格布局示例：
		     两行项目，
		     第一行为四个项目——最后一个项目跨越了两行，
		     第二行为两个项目——第一个项目跨越了前两列——
		     以及第一行的跨列项目。" height="70" src="https://www.w3.org/TR/css-grid-3/images/grid-layout.png" width="486">
            <figcaption>典型网格布局示例</figcaption>
        </figure>
        <p>虽然许多布局都可以用常规网格布局实现，
            但在两个轴上都将项目限制在网格中，也会导致无法表达一些 Web 上常见的布局。</p>
        <p>本模块定义了一种布局系统，去除了这种限制，
            使得项目可以仅在一个轴上放入类似网格的轨道，
            而在另一轴上则顺序堆叠。
            项目会根据已放置项目的布局尺寸，放入剩余空间最多的列（或行）。
            本模块还扩展了 <a href="https://www.w3.org/TR/css-grid-2/">CSS 网格</a> 的网格项目放置策略，
            并为 <a href="https://drafts.csswg.org/css-align">CSS 盒对齐</a>加入了新的对齐特性。</p>
        <h3 class="heading settled" data-level="1.1" id="background"><span class="secno">1.1. </span><span
                class="content"> 背景与动机</span><a class="self-link" href="#background"></a></h3>
        <h4 class="heading settled" data-level="1.1.1" id="waterfall"><span class="secno">1.1.1. </span><span
                class="content"> 自动放置项的瀑布流布局</span><a class="self-link" href="#waterfall"></a></h4>
        <p><a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout">瀑布流布局</a>，有时也称为“水流布局”，
            是一种常见的网页设计模式，其中许多项目（通常是图片或文章摘要）
            被一个个地放入各个列中，其排列方式类似于石墙砌筑。
            不同于 <a data-link-type="biblio" href="#biblio-css-multicol-1" title="CSS 多栏布局模块">多栏布局</a>，
            后者会把内容垂直填满第一列，直到溢出到第二列，
            <span id="ref-for-masonry-layout①">瀑布流布局</span>会为每个新项目选择一个列，
            使其通常比后放置的项目更靠近布局顶部。
        </p>
        <div class="example" id="example-38d5cc14">
            <a class="self-link" href="#example-38d5cc14"></a> Pinterest 搜索结果页就是这种布局的典范：
            <figure>
                <img alt="瀑布流布局示例：
			          四列项目，
			          每个项目都被放入当前高度最小的列中。" height="867" src="https://www.w3.org/TR/css-grid-3/images/pinterest.png" width="1105">
                <figcaption>典型瀑布流布局示例</figcaption>
            </figure>
            <p>在这里，每个项目的高度不同
                （取决于内容和列宽），
                检查 DOM 会发现
                （因为视觉内容并未体现顺序）
                每个项目都被放入当前高度最小的列中。</p>
        </div>
        <p>这种布局表面上看与多栏布局类似，
            但它的优势在于向下滚动时，
            会自然出现布局中的“后续”项目
            （即搜索结果中相关性较低的项目）。</p>
        <p>用早期的 CSS 布局模型无法实现这种布局，
            除非事先知道每个项目的高度，
            或借助 JavaScript 测量或定位内容。</p>
        <p>将 <a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container">瀑布流容器</a>与 <span
                class="css">auto</span> 自动定位项目结合，
            就能实现这种瀑布流布局。</p>
        <h4 class="heading settled" data-level="1.1.2" id="collapse"><span class="secno">1.1.2. </span><span
                class="content"> 一维网格布局</span><a class="self-link" href="#collapse"></a></h4>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout">网格布局</a>支持强大的轨道尺寸控制和双轴上的显式定位，
            但有时布局只需要在一个维度上对齐项目。</p>
        <p>将 <a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①">瀑布流容器</a>与显式定位项目结合，
            可以实现这种一维网格布局。</p>
        <div class="example" id="example-a1b07c6f">
            <a class="self-link" href="#example-a1b07c6f"></a> 下面这个 <a
                href="https://github.com/w3c/csswg-drafts/issues/10233#issuecomment-2071279204">Douglas Graham 的例子</a>
            使用了显式定位，将每个项目放入指定的列；
            但没有行，
            每列中的项目则依次堆叠。
            这种布局无法用 <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout①">网格布局</a>复制，
            因为相邻列项目的“跨越”关系并不固定：它取决于它们的相对高度，
            以及是否包含可选的横幅或广告项。
            在 <a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                id="ref-for-flex-layout">弹性布局</a>中也无法复制，
            因为项目的源顺序
            （用于阅读、顺序导航及单栏手机布局时）
            会在两列之间来回切换。
            <figure>
                <img alt="单栏布局下：
			          头部，接着可选横幅、二级导航、主内容区、广告块、和页脚。
			          双栏布局下：
			          头部和页脚分别跨越两列，
			          宽左列放横幅与主内容区，
			          窄右列放二级导航与广告块。" height="492" src="https://www.w3.org/TR/css-grid-3/images/masonry-page-layout.png"
                    width="731">
                <figcaption>一维网格布局的单栏与双栏变体对比。
                </figcaption>
            </figure>
        </div>
        <h3 class="heading settled" data-level="1.2" id="values"><span class="secno">1.2. </span><span class="content">
                值定义</span><a class="self-link" href="#values"></a></h3>
        <p>本规范遵循 <a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS 属性定义约定</a>，并采用 <a
                href="https://www.w3.org/TR/css-values-3/#value-defs">值定义语法</a>。
            未在本规范中定义的值类型在 CSS Values &amp; Units <span title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</span>
            中定义。
            与其他 CSS 模块结合后，这些值类型的定义可能会扩展。</p>
        <p>除了各属性定义中列举的特定值，
            本规范定义的所有属性也都接受 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#css-wide-keywords"
                id="ref-for-css-wide-keywords">CSS 全局关键字</a>作为属性值。
            为便于阅读，未重复列出。</p>
        <h2 class="heading settled" data-level="2" id="masonry-model"><span class="secno">2. </span><span
                class="content">瀑布流布局模型</span><a class="self-link" href="#masonry-model"></a></h2>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="masonry-layout">瀑布流布局</dfn>会将项目沿一个轴（称为<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-local-lt="grid-axis" data-noexport
                id="grid-axis">网格轴</dfn>）排入预定义的轨道，类似于<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-layout" id="ref-for-grid-layout②">网格布局</a>，
            但在另一个轴（称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="stacking-axis" data-noexport
                id="stacking-axis">堆叠轴</dfn>）则像<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-flexbox-1/#flex-layout" id="ref-for-flex-layout①">弹性布局</a>那样自由流动。
            与 <span id="ref-for-grid-layout③">网格布局</span>类似，但不同于 <span id="ref-for-flex-layout②">弹性布局</span>，<a
                data-link-type="dfn" href="#masonry-layout"
                id="ref-for-masonry-layout②">瀑布流布局</a>的自动放置会将项目分布到各轨道上，使这些轨道的长度尽量接近。</p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item">网格项目</a>的形成与<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-4/#blockify" id="ref-for-blockify">块级化</a>，与常规<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container">网格容器</a>完全一致。</p>
        <p>（为方便理解，<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item①">网格项目</a>和<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-track" id="ref-for-grid-track">网格轨道</a>在<a
                data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container②">瀑布流容器</a>中可分别称为<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="masonry item"
                id="masonry-item">瀑布流项目</dfn>和<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="masonry track" id="masonry-track">瀑布流轨道</dfn>。）</p>
        <p>除非本规范另有说明，所有 CSS 属性的行为都与常规<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container①">网格容器</a>一致。
            例如，可使用<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-flexbox-1/#propdef-order" id="ref-for-propdef-order">order</a>指定项目的布局顺序。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>支持子网格项目，但子网格仅发生在<a data-link-type="dfn"
                href="#grid-axis" id="ref-for-grid-axis">网格轴</a>上；
            详见<a href="#subgrids">§ 3.2 子网格</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="masonry-container">瀑布流容器</dfn>是一个其内容参与<a
                data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout③">瀑布流布局</a>的盒子。
            若其<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis">堆叠轴</a>为<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis">块轴</a>，则为<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="column-masonry-container">列瀑布流容器</dfn>；
            若其<span id="ref-for-stacking-axis①">堆叠轴</span>为<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis">行轴</a>，则为<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="row-masonry-container">行瀑布流容器</dfn>。</p>
        <table class="data">
            <caption>瀑布流容器对比</caption>
            <tbody>
                <tr>
                    <th style="writing-mode: vertical-rl; writing-mode: sideways-lr"> 列瀑布流
                    <td>
                        <pre>grid-template-columns: 1fr 2fr 3fr;
</pre>
                    <td> <img alt="列瀑布流将项目沿列排列，
					     但在各列间依次分布，
					     每个项目都放入当前最短的列。" height="146" src="https://www.w3.org/TR/css-grid-3/images/masonry-columns.png" width="216">
                <tr>
                    <th style="writing-mode: vertical-rl; writing-mode: sideways-lr"> 行瀑布流
                    <td>
                        <pre>grid-template-rows: 1fr 2fr 3fr;
</pre>
                    <td> <img alt="行瀑布流将项目沿行排列，
					     但在各行间纵向分布，
					     每个项目都放入当前最短的行。" height="214" src="https://www.w3.org/TR/css-grid-3/images/masonry-rows.png" width="143">
        </table>
        <h3 class="heading settled" data-level="2.1" id="order-accessibility"><span class="secno">2.1. </span><span
                class="content">重排序与可访问性</span><a class="self-link" href="#order-accessibility"></a></h3>
        <p>虽然<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout④">瀑布流布局</a>通常是向前推进的
            （下一个项目会放在当前项目的下方或末端，
            与自然“阅读顺序”一致），
            但它也可能在这二者之间随意切换。
            在简单场景下，<a class="property css" data-link-type="property" href="#propdef-item-tolerance"
                id="ref-for-propdef-item-tolerance">item-tolerance</a>属性可以帮助减少由于块轴上的微小尺寸差异导致的回溯感，
            但当<a href="#masonry-layout-algorithm">自动放置</a>与<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#definite-grid-position"
                id="ref-for-definite-grid-position">显式定位</a>或跨越项目混合时，
            一定程度的回溯可能会发生。</p>
        <div class="example" id="example-05d681ab">
            <a class="self-link" href="#example-05d681ab"></a> 例如，下面的标记示例中，
            第四项是一个跨列项目，无法放入第一行剩余的空列。
            它最终被放在第一列，
            这是它可以放入的最高可用空间。
            接下来的几个项目，跨度为1，
            会排在它“上方”的空列中，
            违背了自然阅读顺序。
            <pre class="highlight"><c- p>&lt;</c-><c- f>section</c-> <c- e>class</c-><c- o>=</c-><c- s>masonry</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"item tall"</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"item wide"</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->6<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->7<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- p>.</c-><c- nc>masonry</c-> <c- p>{</c->
  //FIXME <c- k>display</c-><c- p>:</c-> <c- n>something</c-><c- p>;</c->
  <c- k>grid-template-columns</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- mi>5</c-><c- p>,</c-> <c- kc>auto</c-><c- p>);</c->
<c- p>}</c->
<c- p>.</c-><c- nc>item</c-> <c- p>{</c-> <c- k>height</c-><c- p>:</c-> <c- mi>50</c-><c- b>px</c-><c- p>;</c-> <c- p>}</c->
<c- p>.</c-><c- nc>item</c-><c- p>.</c-><c- nc>wide</c-> <c- p>{</c-> <c- k>grid-column</c-><c- p>:</c-> <c- n>span</c-> <c- mi>3</c-><c- p>;</c-> <c- p>}</c->
<c- p>.</c-><c- nc>item</c-><c- p>.</c-><c- nc>tall</c-> <c- p>{</c-> <c- k>height</c-><c- p>:</c-> <c- mi>90</c-><c- b>px</c-><c- p>;</c-> <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
</pre>
            <figure>
                <img alt="此例中，第一行为项目 1、2、3、5、6，
			          其中项目 3 比其他项目稍高。
			          项目 4 跨越前三列，被放在项目 3 下方，项目 7 则嵌在项目 5 下方。" height="214"
                    src="https://www.w3.org/TR/css-grid-3/images/masonry-reorder-span.png" width="514">
                <figcaption>自动放置的瀑布流布局，项目高度与跨度混合</figcaption>
            </figure>
            同样，显式放入特定轨道的项目会留下空隙，
            后续自动放置的项目可能会被视觉上放在顺序之外的位置中。
        </div>
        <p>作者应注意这些情况，
            并设计尽量减少回溯的布局，
            以便更好地跟随焦点和阅读顺序。
            或者，如果项目没有固有顺序，
            可使用<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-display-4/#propdef-reading-flow"
                id="ref-for-propdef-reading-flow">reading-flow</a>属性让 UA 对项目进行重排序，
            便于阅读和线性导航。</p>
        <p class="issue" id="issue-f3901e05"><a class="self-link" href="#issue-f3901e05"></a> 或者对于自动放置项，这里默认应该重排序吗？</p>
        <div class="note" role="note">
            减少回溯的技巧包括：
            <ul>
                <li data-md>
                    <p>合理设置<a class="property css" data-link-type="property" href="#propdef-item-tolerance"
                            id="ref-for-propdef-item-tolerance①">item-tolerance</a>属性的值，
                        即设置足够大的值以避免对类似尺寸的轨道进行无意义区分，
                        但不要大到忽略有意义的差异。</p>
                <li data-md>
                    <p>通过显式定位将相关项目分组，
                        而不是打乱项目的自然顺序。</p>
                <li data-md>
                    <p>避免在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①">网格轴</a>混合跨度，和在<a
                            data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②">堆叠轴</a>出现项目尺寸差异，
                        这会导致项目被拉出顺序（见上面示例）。</p>
            </ul>
        </div>
        <p>与<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout④">网格布局</a>和<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-flexbox-1/#flex-layout" id="ref-for-flex-layout③">弹性布局</a>一样，
            作者可使用<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-flexbox-1/#propdef-order"
                id="ref-for-propdef-order①">order</a>属性对项目进行重排序；
            同样需注意相关问题。
            详见<a href="https://www.w3.org/TR/css-grid-2/#order-accessibility"><cite>CSS 网格布局 2</cite> § 4
                重排序与可访问性</a>及<a href="https://www.w3.org/TR/css-flexbox-1/#order-accessibility"><cite>CSS 弹性盒 1</cite>
                § 5.4.1 重排序与可访问性</a>。</p>
        <h3 class="heading settled" data-level="2.2" id="masonry-switch"><span class="secno">2.2. </span><span
                class="content">建立瀑布流布局</span><a class="self-link" href="#masonry-switch"></a></h3>
        <div class="informative">
            <table class="def propdef partial" data-link-for-hint="display">
                <tbody>
                    <tr>
                        <th>名称:
                        <td><a class="css" data-link-type="property"
                                href="https://www.w3.org/TR/css-display-4/#propdef-display"
                                id="ref-for-propdef-display">display</a>
                    <tr class="value">
                        <th><a href="https://www.w3.org/TR/css-values/#value-defs">新值：</a>
                        <td class="prod">something
            </table>
        </div>
        <dl>
            <dt><dfn class="dfn-paneled css" data-dfn-for="display" data-dfn-type="value" data-export
                    id="valdef-display-something">something</dfn>
            <dd> 此值会让元素生成一个<a data-link-type="dfn" href="#masonry-container"
                    id="ref-for-masonry-container④">瀑布流容器</a>盒子。
        </dl>
        <p>未在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#subgrid"
                id="ref-for-subgrid">网格轴</a>上启用子网格的<a data-link-type="dfn" href="#masonry-container"
                id="ref-for-masonry-container⑤">瀑布流容器</a>，
            会为其内容建立一个<a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#independent-formatting-context"
                id="ref-for-independent-formatting-context">独立格式化上下文</a>。</p>
        <div class="issue" id="issue-1224e16e"><a class="self-link" href="#issue-1224e16e"></a>
            ISSUE(12022)：我们正在寻找一个合理的<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-display-4/#propdef-display"
                id="ref-for-propdef-display①">display</a>值（需包含 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-display-4/#valdef-display-grid"
                id="ref-for-valdef-display-grid">grid</a> 关键词），用以表示<a data-link-type="dfn" href="#masonry-layout"
                id="ref-for-masonry-layout⑤">瀑布流布局</a>。
            比如 <span class="css">something-grid</span>、<span class="css">grid-something</span>、
            <span class="css">grid something</span> 或 <span class="css">something grid</span>。
            欢迎在 issue 中提出建议。
        </div>
        <div class="issue" id="issue-3be4bca6"><a class="self-link" href="#issue-3be4bca6"></a> ISSUE(12820)：需要更正式地写出
            grid/masonry 格式化上下文的工作方式？ </div>
        <h2 class="heading settled" data-level="3" id="masonry-track-templates"><span class="secno">3. </span><span
                class="content">瀑布流轨道规范</span><a class="self-link" href="#masonry-track-templates"></a></h2>
        <p>在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③">网格轴</a>上，
            可充分使用<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout⑤">网格布局</a>的轨道声明能力：</p>
        <ul>
            <li data-md>
                <p>轨道尺寸、线名称和区域可以在<a data-link-type="dfn" href="#masonry-container"
                        id="ref-for-masonry-container⑥">瀑布流容器</a>的<a data-link-type="dfn" href="#grid-axis"
                        id="ref-for-grid-axis④">网格轴</a>上声明，
                    就像<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout⑥">网格布局</a>一样。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#explicit-grid"
                        id="ref-for-explicit-grid">显式网格</a>和<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#implicit-grid"
                        id="ref-for-implicit-grid">隐式网格</a>的形成方式，与常规<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container②">网格容器</a>一致。
                </p>
            <li data-md>
                <p>项目可以像<a href="#masonry-track-placement">放置</a>在这些网格模板上一样，完全类似<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#grid-layout" id="ref-for-grid-layout⑦">网格布局</a>。</p>
        </ul>
        <p>但是，
            自动放置的项目会对所有轨道参与尺寸分配，
            不仅仅是它最终被放置的轨道；
            详见<a href="#track-sizing">§ 3.4 网格轴轨道尺寸</a>。</p>
        <p class="note" role="note"><span class="marker">注意：</span>这是因为自动放置项目必须在放置时布局，
            以便每个轨道都能知道自身的“填充度”
            （从而决定下一个自动放置项目应放入哪个轨道）；
            所以轨道自身必须已经有确定尺寸，
            这样项目在布局时才能知道它们的<a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#available"
                id="ref-for-available">可用空间</a>。
        </p>
        <h3 class="heading settled" data-level="3.1" id="masonry-track-grid-option"><span class="secno">3.1.
            </span><span class="content">声明瀑布流轨道模板：<span class="css">grid-template-*</span> 属性</span><a
                class="self-link" href="#masonry-track-grid-option"></a></h3>
        <p><span class="css">grid-template-*</span> 和 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows"
                id="ref-for-propdef-grid-auto-rows">grid-auto-rows</a>/<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns"
                id="ref-for-propdef-grid-auto-columns">grid-auto-columns</a> 属性
            （及其简写形式）
            适用于 <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑤">瀑布流容器</a> 的 <a data-link-type="dfn"
                href="#masonry-container" id="ref-for-masonry-container⑦">网格轴</a>，
            并像普通 <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container③">网格容器</a> 一样建立轨道。
            （在 <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis③">堆叠轴</a> 上会被忽略。）
        </p>
        <h4 class="heading settled" data-level="3.1.1" id="masonry-intrinsic-repeat"><span class="secno">3.1.1.
            </span><span class="content">内在轨道与 repeat()</span><a class="self-link" href="#masonry-intrinsic-repeat"></a>
        </h4>
        <p class="issue" id="issue-b1e94dcd"><a class="self-link" href="#issue-b1e94dcd"></a> 是否允许内容驱动自动重复的轨道？
            这样的定义是否合理？
            是否也应该在网格布局中工作？<a href="https://github.com/w3c/csswg-drafts/issues/10915">[Issue #10915]</a></p>
        <p>在网格布局中，
            所有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item②">网格项目</a>会在轨道尺寸确定之前被放入网格中。
            这意味着<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill"
                id="ref-for-valdef-repeat-auto-fill">auto-fill</a>/<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit">auto-fit</a>重复
            不能包含内在尺寸轨道（如<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto"
                id="ref-for-valdef-grid-template-columns-auto">auto</a>，无论是在<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat"
                id="ref-for-funcdef-repeat-line-color-repeat">repeat()</a>函数中还是作为轨道列表的固定部分），
            因为这需要布局算法已知哪些项目会分布在这些轨道上，
            以确定轨道尺寸，
            再决定可用空间中能容纳多少重复。</p>
        <p>在瀑布流布局中，
            由于<a data-link-type="dfn" href="#masonry-item" id="ref-for-masonry-item">瀑布流项目</a>的放置与布局紧密结合且更简化，
            此限制不再绝对要求。
            这需要对尺寸做一点启发式定义，
            但自动重复<em>可以</em>包含内在尺寸的轨道，
            用于<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container⑧">瀑布流容器</a>。</p>
        <div class="algorithm" data-algorithm="determine intrinsic repetitions">
            要确定<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat"
                id="ref-for-funcdef-repeat-line-color-repeat①">repeat()</a>函数的重复次数，
            需通过初始化轨道尺寸（参考<a href="https://www.w3.org/TR/css-grid-2/#algo-init"><cite>CSS 网格布局 2</cite> § 12.4
                初始化轨道尺寸</a>）
            并解析内在轨道尺寸（参考<a href="https://www.w3.org/TR/css-grid-2/#algo-content"><cite>CSS 网格布局 2</cite> § 12.5
                解析内在轨道尺寸</a>），
            结合<a href="#track-sizing">§ 3.4 网格轴轨道尺寸</a>，按如下假设进行：
            <ul>
                <li data-md>
                    <p>将<a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill"
                            id="ref-for-valdef-repeat-auto-fill①">auto-fill</a>/<a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                            id="ref-for-valdef-repeat-auto-fit①">auto-fit</a>重复函数展开一次。</p>
                <li data-md>
                    <p>忽略显式项目放置。
                        （即假定所有项目都有<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                            id="ref-for-automatic-grid-position">自动位置</a>。）</p>
                <li data-md>
                    <p>不<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#collapsed-grid-track"
                            id="ref-for-collapsed-grid-track">折叠</a>任何轨道。</p>
                <li data-md>
                    <p>如果某个<a data-link-type="dfn" href="#masonry-item" id="ref-for-masonry-item①">瀑布流项目</a>的跨度大于 1，
                        那么对其每个内在尺寸贡献，
                        先减去它跨越的所有间隙尺寸之和，
                        再除以其跨度，
                        然后视为跨度为 1 的项目，采用这些修改后的内在尺寸贡献。</p>
            </ul>
            <p>所有轨道都以此简化布局计算出的尺寸（包括在<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat"
                    id="ref-for-funcdef-repeat-line-color-repeat②">repeat()</a>参数中的，取自各自单次重复）
                用于确定<span class="css" id="ref-for-funcdef-repeat-line-color-repeat③">repeat()</span>函数的重复次数。</p>
        </div>
        <details class="note">
            <summary>动机</summary>
            <p>此简化布局启发式定义为“足够好”，同时保持快速且一致。</p>
            <p>忽略项目放置仅为让概念自洽；
                在未得知所需重复数之前，
                无法确定带有明确放置的项目最终会落在哪条轨道上。</p>
            <p>将跨越项目拆分为跨度为 1 的项目，
                可避免需要多次展开 repeat()，
                以及同一关键字在各重复中出现不同尺寸的不合理情况。</p>
            <p>这也让整体布局成本显著降低，
                仅需考虑每种唯一轨道尺寸；
                实际上甚至无需真正做任何 repeat() 展开。
                例如，在 <span class="css">auto repeat(auto-fill, min-content auto)</span> 中，
                两个<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto"
                    id="ref-for-valdef-grid-template-columns-auto①">auto</a>关键字
                会在此启发式布局下解析为相同尺寸；
                只需计算出
                <span class="css" id="ref-for-valdef-grid-template-columns-auto②">auto</span>和<a class="css"
                    data-link-type="maybe"
                    href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-min-content"
                    id="ref-for-valdef-grid-template-columns-min-content">min-content</a>轨道尺寸，
                并使用这些尺寸即可。
            </p>
        </details>
        <h3 class="heading settled" data-level="3.2" id="subgrids"><span class="secno">3.2. </span><span
                class="content">子网格</span><a class="self-link" href="#subgrids"></a></h3>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#subgrid"
                id="ref-for-subgrid①">子网格化</a>允许嵌套的<a data-link-type="dfn" href="#masonry-container"
                id="ref-for-masonry-container⑨">瀑布流容器</a>（以及<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container④">网格容器</a>）
            共享轨道尺寸。
            如果父容器的相应轴为<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑥">网格轴</a>，
            子网格轴将按<a href="https://www.w3.org/TR/css-grid-2/#subgrids">网格容器规范</a>从父容器获得；
            如果父容器的相应轴为<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis④">堆叠轴</a>，
            子网格轴则表现为 <span class="css">masonry</span>。</p>
        <p class="note" role="note"><span class="marker">注意：</span>如果结果导致两个轴都是 <span class="css">masonry</span>，
            则按<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①⓪">瀑布流容器</a>的双轴 <span
                class="css">masonry</span> 模板常规解析，
            即如 <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns"
                id="ref-for-propdef-grid-template-columns">grid-template-columns: none; grid-template-rows: masonry</a>。
        </p>
        <p>在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout⑥">瀑布流布局</a>中，
            自动放置的<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#subgrid"
                id="ref-for-subgrid②">子网格</a>不会继承其父网格的线名称，
            因为那会使项目的放置依赖于布局结果；
            但子网格的轨道仍会与父轨道对齐。</p>
        <div class="example" id="example-7e57996b">
            <a class="self-link" href="#example-7e57996b"></a> 下面是一个子网格<a href="examples/subgrid-example-1.html">示例</a>：
            <pre class="language-css highlight">&lt;style>
.grid <c- p>{</c->
  //FIXME: display: inline something<c- p>;</c->
  <c- k>grid-template-rows</c-><c- p>:</c-> auto auto <c- m>100</c-><c- k>px</c-><c- p>;</c->
  <c- k>align-content</c-><c- p>:</c-> center<c- p>;</c->
  <c- k>height</c-><c- p>:</c-> <c- m>300</c-><c- k>px</c-><c- p>;</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
<c- p>}</c->

.grid > * <c- p>{</c->
  <c- k>margin</c-><c- p>:</c-> <c- m>5</c-><c- k>px</c-><c- p>;</c->
  <c- k>background</c-><c- p>:</c-> silver<c- p>;</c->
<c- p>}</c->
.grid > <c- nf>:nth-child</c-><c- p>(</c-><c- m>2</c-><c- k>n</c-><c- p>)</c-> <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
<c- p>}</c->

.grid subgrid <c- p>{</c->
  <c- k>display</c-><c- p>:</c-> grid<c- p>;</c->
  <c- k>grid</c-><c- p>:</c-> subgrid / subgrid<c- p>;</c->
  <c- k>grid-row</c-><c- p>:</c-> <c- m>2</c-> / span <c- m>2</c-><c- p>;</c->
  <c- k>grid-gap</c-><c- p>:</c-> <c- m>30</c-><c- k>px</c-><c- p>;</c->
<c- p>}</c->
.grid subgrid > * <c- p>{</c-> <c- k>background</c-><c- p>:</c-> cyan<c- p>;</c-> <c- p>}</c->
&lt;/style>
</pre>
            <pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>subgrid</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"height:100px"</c-><c- p>></c->subgrid.1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->sub.2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->s.3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>subgrid</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"width: 80px"</c-><c- p>></c->6<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->7<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <figure>
                <img height="315" src="https://www.w3.org/TR/css-grid-3/images/subgrid-example-1.png" width="162">
                <figcaption>上述子网格示例的渲染效果。</figcaption>
            </figure>
            <p>注意子网格的首项（"subgrid.1"）对父网格第二行的内在尺寸有贡献。
                这是因为子网格指定了明确位置，所以我们知道它会占用哪些轨道。
                同时注意，尝试对子网格父容器的<a data-link-type="dfn" href="#stacking-axis"
                    id="ref-for-stacking-axis⑤">堆叠轴</a>应用子网格，会使子网格在其<a data-link-type="dfn" href="#masonry-layout"
                    id="ref-for-masonry-layout⑦">瀑布流布局</a>的<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis"
                    id="ref-for-inline-axis①">行轴</a>采用瀑布流布局。</p>
        </div>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#subgrid" id="ref-for-subgrid③">子网格</a>
            若为<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①①">瀑布流容器</a>，可称为<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="submasonry">子瀑布流</dfn>。</p>
        <h3 class="heading settled" data-level="3.3" id="repeat-notation"><span class="secno">3.3. </span><span
                class="content">轨道重复：<a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat"
                    id="ref-for-funcdef-repeat-line-color-repeat④">repeat()</a>记法</span><a class="self-link"
                href="#repeat-notation"></a></h3>
        <p>本规范为<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat"
                id="ref-for-funcdef-repeat-line-color-repeat⑤">repeat()</a>记法引入了新关键字和瀑布流专属行为。</p>
        <h4 class="heading settled" data-level="3.3.1" id="repeat-auto-areas"><span class="secno">3.3.1. </span><span
                class="content">repeat(auto-areas)</span><a class="self-link" href="#repeat-auto-areas"></a></h4>
        <p>新的<a class="dfn-paneled css" data-dfn-for="repeat()" data-dfn-type="value" data-export
                id="valdef-repeat-auto-areas">auto-areas</a>值，
            用于<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat"
                id="ref-for-funcdef-repeat-line-color-repeat⑥">repeat()</a>记法，
            表示需要重复的次数，以使所有显式轨道总数与相应轴上的<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas"
                id="ref-for-propdef-grid-template-areas">grid-template-areas</a>值一致。
            若重复项有多个轨道，则最后一次重复会被截断以得到正确数量的轨道。</p>
        <p class="note" role="note"><span class="marker">注意：</span>与<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit②">auto-fit</a>不同——后者总会至少重复一次并总是完整重复轨道列表——<a class="css"
                data-link-type="maybe" href="#valdef-repeat-auto-areas"
                id="ref-for-valdef-repeat-auto-areas">auto-areas</a>的重复次数可以为零
            （如果已有足够的显式轨道），且最后一次重复可为部分。</p>
        <p>如果<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas"
                id="ref-for-propdef-grid-template-areas①">grid-template-areas</a>为<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-areas-none"
                id="ref-for-valdef-grid-template-areas-none">none</a>，
            此值表现如<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit③">auto-fit</a>。</p>
        <p class="note" role="note"><span class="marker">注意：</span>此值适用于常规<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container⑤">网格容器</a>和<a
                data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①②">瀑布流容器</a>。</p>
        <p class="issue" id="issue-b2bb9b46"><a class="self-link" href="#issue-b2bb9b46"></a> 尚不清楚是否真的需要此值。
            注意显式网格已经可根据<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns"
                id="ref-for-propdef-grid-auto-columns①">grid-auto-columns</a>/<a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows"
                id="ref-for-propdef-grid-auto-rows①">grid-auto-rows</a>值灵活补齐模板区域数量。
            <a href="https://github.com/w3c/csswg-drafts/issues/10854">[Issue #10854]</a>
        </p>
        <h4 class="heading settled" data-level="3.3.2" id="repeat-auto-fit"><span class="secno">3.3.2. </span><span
                class="content">repeat(auto-fit)</span><a class="self-link" href="#repeat-auto-fit"></a></h4>
        <p>在<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①③">瀑布流容器</a>（以及常规<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container⑥">网格容器</a>）中，<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit④">auto-fit</a>表现如<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill"
                id="ref-for-valdef-repeat-auto-fill②">auto-fill</a>，
            但空轨道会被<a data-link-type="dfn">折叠</a>。
            由于放置发生在轨道尺寸确定之后，<span id="ref-for-masonry-container①④">瀑布流容器</span>会用启发式方法判断轨道是否被占用：</p>
        <ul>
            <li data-md>
                <p>所有被显式定位项目占用的轨道均视为已占用。</p>
            <li data-md>
                <p>将所有自动放置项目的跨度和记为 <var>N</var>，
                    所有未占用轨道中前 <var>N</var> 个轨道也视为已占用。</p>
        </ul>
        <p>所有由<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit⑤">auto-fit</a>重复产生且按此启发式视为未占用的轨道，
            都视为“空”并<a data-link-type="dfn">折叠</a>。
            <span>折叠轨道</span>不能再接受自动放置项目的定位。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>当使用<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill"
                id="ref-for-valdef-repeat-auto-fill③">auto-fill</a>时，
            如果有自动放置项目跨度大于 1，
            且与显式定位项目混合，出现空隙小于自动放置项所需跨度，
            则自动放置项有可能被放到一个使用<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit⑥">auto-fit</a>时会被折叠的轨道上。</p>
        <h3 class="heading settled" data-level="3.4" id="track-sizing"><span class="secno">3.4. </span><span
                class="content">网格轴轨道尺寸</span><a class="self-link" href="#track-sizing"></a></h3>
        <p>轨道尺寸与<a href="https://www.w3.org/TR/css-grid-2/#algo-track-sizing">CSS 网格</a>中的工作方式相同，
            唯一区别在于确定哪些项目参与内在尺寸时：</p>
        <ul>
            <li data-md>
                <p>所有显式放置在该轨道上的项目都参与计算，且</p>
            <li data-md>
                <p>所有具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                        id="ref-for-automatic-grid-position①">自动网格位置</a>的项目也参与计算
                    （无论最终是否放置在该轨道上）。</p>
        </ul>
        <div class="example" id="example-6d22f73d">
            <a class="self-link" href="#example-6d22f73d"></a> 例如，假设网格轴上有两列：
            <ul>
                <li data-md>
                    <p>项目 A、B、C 没有显式位置。</p>
                <li data-md>
                    <p>项目 D 显式放置在第一列。</p>
            </ul>
            <p>在这种情况下，A、B、C、D 都参与第一列的尺寸计算，
                而第二列只有 A、B、C（没有 D）参与计算。</p>
        </div>
        <p>对于具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                id="ref-for-automatic-grid-position②">自动网格位置</a>的跨越项目，
            视作在每一个可能的起始位置都被放置，并据此参与尺寸计算。</p>
        <div class="example" id="example-f3e866aa">
            <a class="self-link" href="#example-f3e866aa"></a> 举例，假设网格轴有 5 列，
            中间一列为固定尺寸 <span class="css">100px</span>，其他两列为 <span class="css">auto</span> 尺寸。
            在轨道尺寸计算时，
            一个跨越 2 个轨道、内在尺寸贡献为 220px 的项目，本质上会被复制并假设存在于：
            <ul>
                <li data-md>
                    <p>网格线 1，向前两个轨道各贡献 110px。</p>
                <li data-md>
                    <p>网格线 2，向第二个轨道贡献 120px。</p>
                <li data-md>
                    <p>网格线 3，向第四个轨道贡献 120px。</p>
                <li data-md>
                    <p>网格线 4，向第四和第五轨道各贡献 110px。</p>
            </ul>
        </div>
        <p class="note" role="note"><span class="marker">注意：</span>该算法确保每个轨道至少足够大，
            能容纳最终放置其上的所有项目，
            且不会在放置与轨道尺寸间产生依赖循环。
            但根据尺寸变化，
            轨道可能比实际需求更大：
            只有所有项目都在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑨">网格轴</a>显式放置或所有项目尺寸相同
            （或跨越项目为相同尺寸的倍数）时才能保证完全适配。</p>
        <h4 class="heading settled" data-level="3.4.1" id="track-sizing-subgrid"><span class="secno">3.4.1. </span><span
                class="content">子网格项目尺寸贡献</span><a class="self-link" href="#track-sizing-subgrid"></a>
        </h4>
        <p>在为常规<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container⑦">网格容器</a>
            或<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①⑤">瀑布流容器</a>计算轨道尺寸时，
            <a data-link-type="dfn" href="#submasonry" id="ref-for-submasonry">子瀑布流</a>对具有<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                id="ref-for-automatic-grid-position③">自动网格位置</a>的项目有特殊处理：
        </p>
        <ul>
            <li data-md>
                <p>此类项目会被视作放置在子瀑布流可能跨越的所有网格轨道上。
                    （若子瀑布流具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#definite-grid-position"
                        id="ref-for-definite-grid-position①">明确网格位置</a>，则仅限实际跨越的轨道；
                    若为<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                        id="ref-for-automatic-grid-position④">自动网格位置</a>，则为父网格的所有轨道。）</p>
            <li data-md>
                <p>此类项目会取其可能放置的每个边缘上的最大外边距/边框/内边距贡献。
                    若项目跨越整个子网格，则两边都取最大值。
                    （详见<a href="https://www.w3.org/TR/css-grid-2/#subgrid-item-contribution">CSS 网格布局 §9</a>。）</p>
        </ul>
        <h4 class="heading settled" data-level="3.4.2" id="track-sizing-performance"><span class="secno">3.4.2.
            </span><span class="content">轨道尺寸优化</span><a class="self-link" href="#track-sizing-performance"></a></h4>
        <p>可以通过将具有相同跨度和放置方式的项目聚合为一个虚拟项目来优化轨道尺寸：</p>
        <ol>
            <li>
                按以下属性将所有<a data-link-type="dfn" href="#masonry-item" id="ref-for-masonry-item②">瀑布流项目</a>分组为<dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-noexport id="item-groups">项目组</dfn>：
                <ul>
                    <li data-md>
                        <p>项目的跨度</p>
                    <li data-md>
                        <p>项目的放置方式，即允许在哪些轨道放置</p>
                    <li data-md>
                        <p>项目的<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-sharing-group"
                                id="ref-for-baseline-sharing-group">基线共享组</a></p>
                </ul>
                <p class="note" role="note"><span class="marker">注意：</span>例如，跨度为 2 且放置在第二个轨道的项目，
                    与跨度为 2 且具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                        id="ref-for-automatic-grid-position⑤">自动网格位置</a>的项目分属不同组。</p>
            <li>
                对每个<a data-link-type="dfn" href="#item-groups" id="ref-for-item-groups">项目组</a>，合成一个<dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-noexport id="virtual-masonry-item">虚拟瀑布流项目</dfn>，
                其内在尺寸贡献取该组所有项目贡献的最大值。
                <p>若项目应用了<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-alignment"
                        id="ref-for-baseline-alignment">基线对齐</a>，
                    则将所有项目放入一个假设网格轨道，找出其共享基线和 shim，
                    并相应增加组的内在尺寸贡献。</p>
            <li> 将每个<a data-link-type="dfn" href="#virtual-masonry-item"
                    id="ref-for-virtual-masonry-item①">虚拟瀑布流项目</a>的假设副本放置在<a data-link-type="dfn" href="#grid-axis"
                    id="ref-for-grid-axis①⓪">网格轴</a>轨道的每个可能位置，
                并用这些项目运行<a href="https://www.w3.org/TR/css-grid-2/#algo-track-sizing">轨道尺寸算法</a>。
                得到的轨道尺寸即为<a data-link-type="dfn" href="#masonry-container"
                    id="ref-for-masonry-container①⑥">瀑布流容器</a>的轨道尺寸。
        </ol>
        <p class="note" role="note"><span class="marker">注意：</span>此优化应与上述轨道尺寸描述得到相同结果；
            如有不同即为错误，请<a href="https://github.com/w3c/csswg-drafts/issues">向 CSSWG 报告</a>。</p>
        <h2 class="heading settled" data-level="4" id="masonry-track-placement"><span class="secno">4. </span><span
                class="content">瀑布流放置</span><a class="self-link" href="#masonry-track-placement"></a></h2>
        <p>在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①①">网格轴</a>上，
            项目可使用熟悉的<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-placement-property"
                id="ref-for-grid-placement-property">网格定位属性</a>语法<em>显式放置</em>于轨道并跨越，
            自动放置则使用<a href="#masonry-layout-algorithm">§ 4.4 瀑布流布局与放置算法</a>，
            将每个具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                id="ref-for-automatic-grid-position⑥">自动网格位置</a>的项目放入当前最“短”的瀑布流轨道。</p>
        <div class="example" id="example-26ddc5f7">
            <a class="self-link" href="#example-26ddc5f7"></a> 这是一个 <a
                href="examples/pinterest-with-span.html">瀑布流布局示例</a>，演示了定位和跨越项目：
            <figure>
                <img height="885" src="https://www.w3.org/TR/css-grid-3/images/example-pinterest-with-span.png"
                    width="902">
                <figcaption>上述示例的渲染效果。</figcaption>
            </figure>
            <p class="issue" id="issue-33788d66"><a class="self-link" href="#issue-33788d66"></a> 需要更好的示例！！！</p>
        </div>
        <h3 class="heading settled" data-level="4.1" id="masonry-placement-grid-option"><span class="secno">4.1.
            </span><span class="content">指定瀑布流项目位置：<span class="css">grid-column-*</span>
                和 <span class="css">grid-row-*</span> 属性</span><a class="self-link"
                href="#masonry-placement-grid-option"></a></h3>
        <p><span class="css">grid-column-*</span> 和 <span class="css">grid-row-*</span> 属性
            （及其简写方式）
            适用于项目的<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①②">网格轴</a>，
            并像常规<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout⑧">网格布局</a>一样实现定位。</p>
        <h3 class="heading settled" data-level="4.2" id="placement-tolerance"><span class="secno">4.2. </span><span
                class="bs-old-id" id="item-slack"></span><span class="content">放置精度：<a class="property css"
                    data-link-type="property" href="#propdef-item-tolerance"
                    id="ref-for-propdef-item-tolerance②">item-tolerance</a> 属性</span><a class="self-link"
                href="#placement-tolerance"></a></h3>
        <table class="def propdef" data-link-for-hint="item-tolerance">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-tolerance">item-tolerance</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值:</a>
                    <td class="prod">normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> <a
                            class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage"
                            id="ref-for-typedef-length-percentage">&lt;length-percentage></a> <span
                            id="ref-for-comb-one①">|</span> infinite
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值:</a>
                    <td>normal
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用对象:</a>
                    <td><a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①⑦">瀑布流容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">是否继承:</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比:</a>
                    <td>相对于 <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①③">网格轴</a>
                        <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#content-box"
                            id="ref-for-content-box">内容盒</a>尺寸的<a data-link-type="dfn" href="#masonry-container"
                            id="ref-for-masonry-container①⑧">瀑布流容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值:</a>
                    <td>一个计算后的 <a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage"
                            id="ref-for-typedef-length-percentage①">&lt;length-percentage></a> 值
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序:</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型:</a>
                    <td>按长度
        </table>
        <p><a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①⑨">瀑布流容器</a>通过将每个<a
                data-link-type="dfn" href="#masonry-item" id="ref-for-masonry-item③">瀑布流项目</a>放入当前最少填充的<a
                data-link-type="dfn" href="#masonry-track" id="ref-for-masonry-track">瀑布流轨道</a>来填充。
            当多个轨道同为最少填充时，按顺序放置项目效果较好。
            但如果轨道仅有<em>微小</em>高差，
            不按顺序填充会显得奇怪，
            因为高度差异未被认为<em>有意义</em>。</p>
        <p><a class="property css" data-link-type="property" href="#propdef-item-tolerance"
                id="ref-for-propdef-item-tolerance③">item-tolerance</a>属性用于指定将轨道视为“等高”的阈值，
            导致按顺序填充。</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-slack" data-dfn-type="value" data-export
                    id="valdef-item-slack-length-percentage"><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage"
                        id="ref-for-typedef-length-percentage②">&lt;length-percentage></a></dfn>
            <dd data-md>
                <p>为<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container②⓪">瀑布流容器</a>指定<dfn
                        class="dfn-paneled" data-dfn-for="masonry" data-dfn-type="dfn" data-noexport
                        id="masonry-tie-threshold">并列阈值</dfn>。
                    如果可选位置与最短位置距离在指定范围内，则视为“并列”同好位置。</p>
                <p class="note" role="note"><span class="marker">注意：</span>初始值为“较小”距离（<span class="css">1em</span>），
                    通常可代表“足够接近”。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-slack" data-dfn-type="value" data-export
                    id="valdef-item-slack-normal">normal</dfn>
            <dd data-md>
                <p>在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout⑧">瀑布流布局</a>中解析为<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value"
                        id="ref-for-used-value">使用值</a><span class="css">1em</span>，在其他布局模式下为 <span
                        id="ref-for-used-value①">0</span>。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-slack" data-dfn-type="value" data-export
                    id="valdef-item-slack-infinite">infinite</dfn>
            <dd data-md>
                <p>指定无限<a data-link-type="dfn" href="#masonry-tie-threshold"
                        id="ref-for-masonry-tie-threshold">并列阈值</a>。
                    项目将严格按顺序分布，
                    完全不考虑轨道长度。</p>
                <p class="note" role="note"><span class="marker">注意：</span>此值可能导致连续项目在<a data-link-type="dfn"
                        href="#stacking-axis" id="ref-for-stacking-axis⑥">堆叠轴</a>上位置相差很大，
                    可能让读者困惑。
                    若初始值（`1em`）太小，
                    可考虑更大值（如 `10em` 或 `50vh`）而不是 `infinite`。</p>
        </dl>
        <p class="issue" id="issue-7bbfe9d5"><a class="self-link" href="#issue-7bbfe9d5"></a> <span
                class="css">1em</span> 是合适的默认值吗？</p>
        <p class="issue" id="issue-050f1375"><a class="self-link" href="#issue-050f1375"></a> CSSWG 欢迎对此属性更好的命名建议。<a
                href="https://github.com/w3c/csswg-drafts/issues/10884">[Issue
                #10884]</a></p>
        <p class="note" role="note"><span class="marker">注意：</span>我们预计未来会将此属性应用于<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-flexbox-1/#flex-layout" id="ref-for-flex-layout④">弹性布局</a>，
            参见<a href="https://github.com/w3c/csswg-drafts/issues/3071">相关讨论</a>。</p>
        <h3 class="heading settled" data-level="4.3" id="masonry-dense-packing"><span class="secno">4.3. </span><span
                class="content">密集放置：<a class="css" data-link-type="maybe" href="#valdef-item-pack-dense"
                    id="ref-for-valdef-item-pack-dense">dense</a> 关键字</span><a class="self-link"
                href="#masonry-dense-packing"></a></h3>
        <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout⑨">网格布局</a>中，<a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-flow"
                id="ref-for-propdef-grid-auto-flow">grid-auto-flow: dense</a>允许在<a
                href="https://www.w3.org/TR/css-grid-2/#auto-placement-algo">网格项目放置算法</a>期间回溯。
            <a class="css" data-link-type="maybe" href="#valdef-item-pack-dense"
                id="ref-for-valdef-item-pack-dense①">dense</a>关键字同样允许在<a
                href="#masonry-layout-algorithm">瀑布流放置算法</a>期间回溯。
            但由于瀑布流放置与尺寸计算紧密相关，
            项目只有当目标空槽的轨道总已用尺寸与正常放置轨道一致时，
            才能回溯进入兼容空位。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>此限制避免项目多次布局。</p>
        <h3 class="heading settled" data-level="4.4" id="masonry-layout-algorithm"><span class="secno">4.4. </span><span
                class="content">瀑布流布局与放置算法</span><a class="self-link" href="#masonry-layout-algorithm"></a></h3>
        <p>对于<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①④">网格轴</a>上的每个轨道，
            维护一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="running-position">运行位置</dfn>，初始为零。
            还要维护一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="auto-placement-cursor">自动放置光标</dfn>，初始指向第一条线。
        </p>
        <p>对于<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order"
                id="ref-for-order-modified-document-order">顺序调整后的文档顺序</a>中的每个项目：</p>
        <ol>
            <li>
                如果该项目在 <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#definite-grid-position"
                    id="ref-for-definite-grid-position②">网格轴</a> 上有明确网格位置，
                则使用该定位。
                <p class="issue" id="issue-9c647ef6"><a class="self-link" href="#issue-9c647ef6"></a> 是否也应更新放置光标？</p>
                <p>否则，按以下子步骤解析其 <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑥">网格轴</a>定位：</p>
                <ol>
                    <li>从 <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑦">网格轴</a>隐式网格的第一条线开始，
                        找出如果项目放在该线时会跨越的所有 <span id="ref-for-grid-axis①⑧">网格轴</span>轨道的最大 <a data-link-type="dfn"
                            href="#running-position" id="ref-for-running-position">运行位置</a>，并记为 <var>max_pos</var>。
                    <li>对每个连续线号重复前一步，
                        直到项目无法再放入网格。
                    <li>令 <var>possible lines</var> 为所有产生最小 <var>max_pos</var> 的线，
                        以及所有 <var>max_pos</var> 在该值<a data-link-type="dfn" href="#masonry-tie-threshold"
                            id="ref-for-masonry-tie-threshold①">并列阈值</a>范围内的线。
                    <li>选择 <var>possible lines</var> 中大于等于 <a data-link-type="dfn" href="#auto-placement-cursor"
                            id="ref-for-auto-placement-cursor">自动放置光标</a>的第一条线作为项目在
                        <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑨">网格轴</a>上的位置；
                        若没有，则选第一个。
                    <li>将 <a data-link-type="dfn" href="#auto-placement-cursor"
                            id="ref-for-auto-placement-cursor①">自动放置光标</a>更新为该项目的最后一条线。
                </ol>
            <li>将项目放在其<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⓪">网格轴</a>轨道的所有被跨越轨道的最大<a
                    data-link-type="dfn" href="#running-position" id="ref-for-running-position①">运行位置</a>处。
            <li>计算该项目的<a href="#containing-block">包含块</a>尺寸并布局项目。
                将所有被跨越<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②①">网格轴</a>轨道的<a
                    data-link-type="dfn" href="#running-position" id="ref-for-running-position②">运行位置</a>设为
                <code><var>max_pos</var> + <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#outer-size" id="ref-for-outer-size">outer size</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-align-3/#propdef-grid-gap" id="ref-for-propdef-grid-gap">grid-gap</a></code>。
            <li>
                如果<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container②①">瀑布流容器</a>使用了<a
                    class="css" data-link-type="maybe" href="#valdef-item-pack-dense"
                    id="ref-for-valdef-item-pack-dense②">dense</a>密集打包，
                且布局中存在被跳过的空隙（例如因为跨越项目导致），
                当前项目的尺寸若提前放置可以适配这些空隙，
                并且所跨轨道的总已用尺寸与当前放置轨道一致，
                则将项目放在最高的此类空隙中。
                若有多个有效空隙在<a data-link-type="dfn" href="#masonry-tie-threshold"
                    id="ref-for-masonry-tie-threshold②">并列阈值</a>范围内，
                则放在最“起始”（start）的一项。
                将<a data-link-type="dfn" href="#auto-placement-cursor" id="ref-for-auto-placement-cursor②">自动放置光标</a>和<a
                    data-link-type="dfn" href="#running-position" id="ref-for-running-position③">运行位置</a>回退到该项目放置前的状态。
                <p class="note" role="note"><span class="marker">注意：</span>密集打包回填时会忽略<a data-link-type="dfn"
                        href="#auto-placement-cursor" id="ref-for-auto-placement-cursor③">自动放置光标</a>，
                    且放置后不更新光标。
                    如果没有合适的回填空隙，则放置方式与未指定 <a class="css" data-link-type="maybe" href="#valdef-item-pack-dense"
                        id="ref-for-valdef-item-pack-dense③">dense</a> 时完全一样。</p>
        </ol>
        <p class="note" role="note"><span class="marker">注意：</span>该算法会选择使项目尽量靠上放置的轨道。
            若有并列，则优先选最早的轨道，<em>在</em>最近放置项目之后（如有可能），以确保即使有并列也总是“向前移动”。
        </p>
        <h4 class="heading settled" data-level="4.4.1" id="containing-block"><span class="secno">4.4.1. </span><span
                class="content">包含块</span><a class="self-link" href="#containing-block"></a></h4>
        <p>参与<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout⑨">瀑布流布局</a>的<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item③">网格项目</a>的<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block">包含块</a>，
            由其在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②②">网格轴</a>上的<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-area" id="ref-for-grid-area">网格区域</a>和<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container⑧">网格容器</a>在<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-box-4/#content-box" id="ref-for-content-box①">堆叠轴</a>上的内容盒共同形成。</p>
        <h4 class="heading settled" data-level="4.4.2" id="rtl-example"><span class="secno">4.4.2. </span><span
                class="content">放置与书写模式</span><a class="self-link" href="#rtl-example"></a></h4>
        <p class="note" role="note"><span class="marker">注意：</span>与所有<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-layout" id="ref-for-grid-layout①⓪">网格布局</a>一样，
            瀑布流布局与放置会受<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode"
                id="ref-for-writing-mode">书写模式</a>影响。
            例如，使用 <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                id="ref-for-propdef-direction">direction: rtl</a> 时，
            项目会从右至左放置，
            无论内联轴是<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②③">网格轴</a>还是<a data-link-type="dfn"
                href="#stacking-axis" id="ref-for-stacking-axis⑧">堆叠轴</a>。</p>
        <div class="example" id="example-ce46f507">
            <a class="self-link" href="#example-ce46f507"></a> 下面是一个在<a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                id="ref-for-propdef-direction①">网格轴</a>上使用 <a href="examples/rtl-grid-axis.html">direction: rtl</a>
            的简单示例：
            <pre class="language-css highlight">&lt;style>
  .grid <c- p>{</c->
    //FIXME display: inline something<c- p>;</c->
    <c- k>direction</c-><c- p>:</c-> rtl<c- p>;</c->
    <c- k>grid-template-columns</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- m>4</c-><c- p>,</c-> <c- m>2</c-><c- k>ch</c-><c- p>);</c->
    <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
  <c- p>}</c->

  item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver <c- p>}</c->
  item<c- nf>:nth-child</c-><c- p>(</c-><c- m>2</c-><c- k>n</c-><c- m>+1</c-><c- p>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- m>4</c-><c- k>em</c-><c- p>;</c->
  <c- p>}</c->
  &lt;/style>
</pre>
            <pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"grid-column:span 2"</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <figure>
                <img height="107" src="https://www.w3.org/TR/css-grid-3/images/rtl-grid-axis.png" width="128">
                <figcaption>上述 <a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                        id="ref-for-propdef-direction②">direction: rtl</a> 示例的渲染效果。</figcaption>
            </figure>
        </div>
        <div class="example" id="example-f00df74f">
            <a class="self-link" href="#example-f00df74f"></a> 下面是一个在<a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                id="ref-for-propdef-direction③">堆叠轴</a>上使用 <a href="examples/rtl-masonry-axis.html">direction: rtl</a>
            的简单示例：
            <pre class="language-css highlight">&lt;style>
.grid <c- p>{</c->
  //FIXME display: inline something<c- p>;</c->
  <c- k>direction</c-><c- p>:</c-> rtl<c- p>;</c->
  <c- k>width</c-><c- p>:</c-> <c- m>10</c-><c- k>ch</c-><c- p>;</c->
  <c- k>column-gap</c-><c- p>:</c-> <c- m>1</c-><c- k>ch</c-><c- p>;</c->
  <c- k>grid-template-rows</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- m>4</c-><c- p>,</c-> <c- m>2</c-><c- k>em</c-><c- p>);</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
<c- p>}</c->

item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver <c- p>}</c->
item<c- nf>:nth-child</c-><c- p>(</c-><c- m>2</c-><c- k>n</c-><c- m>+1</c-><c- p>)</c-> <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
  <c- k>width</c-><c- p>:</c-> <c- m>4</c-><c- k>ch</c-><c- p>;</c->
<c- p>}</c->
&lt;/style>
</pre>
            <pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"grid-row:span 2"</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <figure>
                <img height="203" src="https://www.w3.org/TR/css-grid-3/images/rtl-masonry-axis.png" width="161">
                <figcaption>上述 <a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                        id="ref-for-propdef-direction④">direction: rtl</a> 示例的渲染效果。</figcaption>
            </figure>
        </div>
        <h2 class="heading settled" data-level="5" id="intrinsic-sizes"><span class="secno">5. </span><span
                class="content">网格容器尺寸</span><a class="self-link" href="#intrinsic-sizes"></a></h2>
        <p><a href="https://www.w3.org/TR/css-grid-2/#intrinsic-sizes">网格容器尺寸</a>的工作方式与普通<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container⑨">网格容器</a>一致，但在<a
                data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①⓪">堆叠轴</a>有如下补充：
            <span id="ref-for-grid-container①⓪">网格容器</span>在<span id="ref-for-stacking-axis①①">堆叠轴</span>上的<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#max-content"
                id="ref-for-max-content">max-content 尺寸</a>（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-sizing-3/#min-content" id="ref-for-min-content">min-content 尺寸</a>），
            是该轴下<a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box">瀑布流盒</a>的尺寸，
            以<a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#max-content-constraint"
                id="ref-for-max-content-constraint">max-content 约束</a>（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-sizing-3/#min-content-constraint"
                id="ref-for-min-content-constraint">min-content 约束</a>）计算。
        </p>
        <div class="example" id="example-4685d358">
            <a class="self-link" href="#example-4685d358"></a> 这是一个简单<a
                href="examples/grid-intrinsic-sizing-example-1.html">示例</a>：
            <pre class="language-css highlight">&lt;style>
.grid <c- p>{</c->
  //FIXME display: inline something<c- p>;</c->
  <c- k>grid-template-columns</c-><c- p>:</c-> <c- m>50</c-><c- k>px</c-> <c- m>100</c-><c- k>px</c-> auto<c- p>;</c->
  <c- k>grid-gap</c-><c- p>:</c-> <c- m>10</c-><c- k>px</c-><c- p>;</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
<c- p>}</c->
item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver<c- p>;</c-> <c- k>margin</c-><c- p>:</c-> <c- m>5</c-><c- k>px</c-><c- p>;</c-> <c- p>}</c->
&lt;/style>
</pre>
            <pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"border:10px solid"</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"height:50px"</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->6<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <figure>
                <img height="158" src="https://www.w3.org/TR/css-grid-3/images/grid-intrinsic-sizing-example-1.png"
                    width="294">
                <figcaption>上述<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                        id="ref-for-grid-container①①">网格容器</a>内在尺寸示例的渲染效果。</figcaption>
            </figure>
        </div>
        <h2 class="heading settled" data-level="6" id="alignment"><span class="secno">6. </span><span class="content">
                对齐与间距</span><a class="self-link" href="#alignment"></a></h2>
        <p><a href="https://www.w3.org/TR/css-grid-2/#gutters">间距（gutters）</a>在两个轴上都支持。
            在<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①②">堆叠轴</a>，
            间距应用于每对相邻项目的外边距盒之间。
            两个轴上的外边距不会折叠。</p>
        <p>在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑤">网格轴</a>上，<a
                href="https://www.w3.org/TR/css-grid-2/#alignment">对齐</a>与普通<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container①②">网格容器</a>完全一致。</p>
        <p>在<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①③">堆叠轴</a>，
            <a href="https://www.w3.org/TR/css-align-3/#content-distribution">内容分布</a>作用于整体内容，类似块容器的行为。
            更具体地说，<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#alignment-subject"
                id="ref-for-alignment-subject">对齐对象</a>是<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="masonry-box">瀑布流盒</dfn>，
            即包裹所有<a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin-box"
                id="ref-for-margin-box">外边距盒</a>的最小矩形。
        </p>
        <figure>
            <img height="136" src="https://www.w3.org/TR/css-grid-3/images/masonry-box.png" width="166">
            <figcaption><a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box①">瀑布流盒</a>的范围由虚线边框标示。
                （注意项目1这里有5px底边距。）</figcaption>
        </figure>
        <p class="note" role="note"><span class="marker">注意：</span>这些属性在<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-align-3/#alignment-subject"
                id="ref-for-alignment-subject①">堆叠轴</a>上只有一个唯一的<a data-link-type="dfn" href="#stacking-axis"
                id="ref-for-stacking-axis①④">对齐对象</a>，
            所以<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-align-3/#propdef-align-content"
                id="ref-for-propdef-align-content">align-content</a> / <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-align-3/#propdef-justify-content"
                id="ref-for-propdef-justify-content">justify-content</a>值最终都归结为<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-self-position-start"
                id="ref-for-valdef-self-position-start">start</a>、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-self-position-center"
                id="ref-for-valdef-self-position-center">center</a>、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-self-position-end"
                id="ref-for-valdef-self-position-end">end</a>、
            和<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-alignment"
                id="ref-for-baseline-alignment①">基线对齐</a>。
            （<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal"
                id="ref-for-valdef-justify-content-normal">normal</a>和<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch"
                id="ref-for-valdef-align-content-stretch">stretch</a>的行为与<span class="css"
                id="ref-for-valdef-self-position-start①">start</span>一样，
            而<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#distributed-alignment"
                id="ref-for-distributed-alignment">分布式对齐</a>值按其<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-align-3/#fallback-alignment"
                id="ref-for-fallback-alignment">回退对齐</a>处理。）
            如果<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item⑤">网格项目</a>在<span id="ref-for-stacking-axis①⑤">堆叠轴</span>上溢出
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container①③">网格容器</a>的<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-box-4/#content-box" id="ref-for-content-box②">内容盒</a>，
            那么<a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box②">瀑布流盒</a>会比<span
                id="ref-for-grid-container①④">网格容器</span>的<span id="ref-for-content-box③">内容盒</span>更大。
        </p>
        <p class="issue" id="issue-491b71c9"><a class="self-link" href="#issue-491b71c9"></a> 堆叠轴上的对齐是否应该更复杂？具体应该如何？</p>
        <h3 class="heading settled" data-level="6.1" id="masonry-baseline-alignment"><span class="secno">6.1.
            </span><span class="content">基线对齐</span><a class="self-link" href="#masonry-baseline-alignment"></a></h3>
        <p>项目在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑥">网格轴</a>轨道内的<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-align-3/#baseline-alignment"
                id="ref-for-baseline-alignment②">基线对齐</a>与普通<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container①⑤">网格容器</a>一致，
            <span id="ref-for-grid-container①⑥">网格容器</span>的基线也按该轴下普通<span
                id="ref-for-grid-container①⑦">网格容器</span>方式确定。
        </p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-alignment"
                id="ref-for-baseline-alignment③">基线对齐</a>在<a data-link-type="dfn" href="#stacking-axis"
                id="ref-for-stacking-axis①⑥">堆叠轴</a>不支持。
            该轴下<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container①⑧">网格容器</a>的首个基线集合取每个轨道首项中的最高<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-align-3/#alignment-baseline" id="ref-for-alignment-baseline">对齐基线</a>，
            最后一个基线集合取各轨道末项中的最低<span id="ref-for-alignment-baseline①">对齐基线</span>。</p>
        <p class="issue" id="issue-4a2d589c"><a class="self-link" href="#issue-4a2d589c"></a> 我们可以支持首行基线对齐。需要吗？</p>
        <p class="issue" id="issue-f1320409"><a class="self-link" href="#issue-f1320409"></a> 最后一个基线是否应该取自最后最低的项目？</p>
        <h2 class="heading settled" data-level="7" id="pagination"><span class="secno">7. </span><span class="content">
                分页</span><a class="self-link" href="#pagination"></a></h2>
        <h3 class="heading settled" data-level="7.1" id="masonry-axis-pagination"><span class="secno">7.1. </span><span
                class="content">堆叠轴分页</span><a class="self-link" href="#masonry-axis-pagination"></a></h3>
        <p>每个<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑦">网格轴</a>轨道在<a data-link-type="dfn"
                href="#stacking-axis" id="ref-for-stacking-axis①⑦">堆叠轴</a>上独立分页。
            如果<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item⑧">网格项目</a>被分页，
            或其前/后有<a data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#forced-break"
                id="ref-for-forced-break">强制断页</a>，
            则其所跨<a data-link-type="dfn" href="#running-position" id="ref-for-running-position④">运行位置</a>的轨道会被设为<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#fragmentainer"
                id="ref-for-fragmentainer">分页容器</a>的尺寸，不再放其他项目。
            被分割为多个片段的项目会在所有片段中保留其在<span id="ref-for-grid-axis②⑨">网格轴</span>上的放置。
            被推送的网格项目，则会在下一个<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container①⑨">网格容器</a>片段中重新放置。
            放置会一直持续直到所有项目被放置或被推至新片段。</p>
        <div class="example" id="example-d9ac598c">
            <a class="self-link" href="#example-d9ac598c"></a> 这是一个<a
                href="examples/fragmentation-block-axis-example.html">示例</a>，演示了在<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                id="ref-for-block-axis②">块轴</a>采用瀑布流布局的网格分页。
            渲染如下：
            <figure style="max-width:100%">
                <video controls src="https://www.w3.org/TR/css-grid-3/images/fragmentation-block-axis-example.mp4"
                    style="max-width:100%"></video>
                <figcaption>块轴瀑布流布局中的分页可视化。</figcaption>
            </figure>
        </div>
        <h3 class="heading settled" data-level="7.2" id="grid-axis-pagination"><span class="secno">7.2. </span><span
                class="content">网格轴分页</span><a class="self-link" href="#grid-axis-pagination"></a></h3>
        <p>在另一轴采用<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①①">瀑布流布局</a>时，<a
                data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③⓪">网格轴</a>的分页也支持。
            此时分页行为更像普通<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container②⓪">网格容器</a>；
            但分页前会有一步，确定每个项目被放入哪个<span id="ref-for-grid-axis③①">网格轴</span>轨道。</p>
        <div class="example" id="example-62d55948">
            <a class="self-link" href="#example-62d55948"></a> 这是一个<a
                href="examples/fragmentation-inline-axis-example.html">示例</a>，演示了在<a data-link-type="dfn"
                href="#masonry-layout" id="ref-for-masonry-layout①②">瀑布流布局</a>行轴上的网格分页。
            此时断页发生在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③②">网格轴</a>的行之间。
            渲染如下：
            <figure style="max-width:100%">
                <video controls src="https://www.w3.org/TR/css-grid-3/images/fragmentation-inline-axis-example.mp4"
                    style="max-width:100%"></video>
                <figcaption>块轴与行轴瀑布流布局下的分页可视化。</figcaption>
            </figure>
        </div>
        <h2 class="heading settled" data-level="8" id="abspos"><span class="secno">8. </span><span class="content">
                绝对定位</span><a class="self-link" href="#abspos"></a></h2>
        <p><a href="https://www.w3.org/TR/css-grid-1/#abspos-items">网格对齐绝对定位后代</a>在<a data-link-type="dfn"
                href="#masonry-container" id="ref-for-masonry-container②②">瀑布流容器</a>中同样支持，
            与普通<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container②①">网格容器</a>一致；
            但在<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①⑧">堆叠轴</a>上，定位只存在两条线（加上<span
                class="css">auto</span>线）：</p>
        <ul>
            <li data-md>
                <p>第1线（-2线）对应<a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box③">瀑布流盒</a>的起始边</p>
            <li data-md>
                <p>第2线（-1线）对应<a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box④">瀑布流盒</a>的结束边</p>
        </ul>
        <p class="issue" id="issue-4007c2e6"><a class="self-link" href="#issue-4007c2e6"></a> 在<a data-link-type="dfn"
                href="#stacking-axis" id="ref-for-stacking-axis①⑨">堆叠轴</a>定义静态定位可能有用。
            也许可以定义为该点所有<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③③">网格轴</a>轨道当前最大（或最小？）<a
                data-link-type="dfn" href="#running-position" id="ref-for-running-position⑤">运行位置</a>，或前一个项目结束处？</p>
        <h2 class="heading settled" data-level="9" id="graceful-degradation"><span class="secno">9. </span><span
                class="content">优雅降级</span><a class="self-link" href="#graceful-degradation"></a></h2>
        <p>通常，瀑布流设计在仅支持网格布局但不支持瀑布流布局的 UA 下也能较好降级。</p>
        <div class="example" id="example-bf95f578">
            <a class="self-link" href="#example-bf95f578"></a>
            <p>这是一个<a href="examples/graceful-degradation-example.html">示例</a>，说明这一点。</p>
            <pre class="language-css highlight"><c- k>display</c-><c- p>:</c-> grid<c- p>;</c->
<c- k>display</c-><c- p>:</c-> something<c- p>;</c-> <c- c>/* 在不支持瀑布流布局的 UA 中会被忽略 */</c->
grid-template-columns: <c- m>150</c-><c- k>px</c-> <c- m>100</c-><c- k>px</c-> <c- m>50</c-><c- k>px</c-><c- p>;</c->
</pre>
            <p>这将创建一个三列布局，
                但如果 UA 不支持瀑布流布局，
                在<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                    id="ref-for-block-axis⑤">块轴</a>上会有“更多空隙”。
                下图为支持瀑布流时的效果：</p>
            <figure>
                <video controls src="https://www.w3.org/TR/css-grid-3/images/graceful-degradation-example.mp4"></video>
                <figcaption>支持瀑布流的 UA 下的渲染效果。</figcaption>
            </figure>
        </div>
        <h2 class="heading settled" id="flow-control"><span class="content">附录A：通用布局项流控制：<span
                    class="css">item-*</span>属性</span><a class="self-link" href="#flow-control"></a></h2>
        <p class="issue" id="issue-fd53eff2"><a class="self-link" href="#issue-fd53eff2"></a> 此节可能会移至其他规范，
            如<a data-link-type="biblio" href="#biblio-css-display-4"
                title="CSS Display Module Level 4">[css-display-4]</a>，
            因为它影响多个 display 类型。</p>
        <p>CSS 中的多种布局模式会将子元素作为原子“项目”组织成容器内的行和/或列，
            并允许作者配置它们的顺序和放置方式。
            <span class="css">item-*</span>属性为这些排序和放置选项提供通用控制，
            封装了布局专属的<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow"
                id="ref-for-propdef-flex-flow">flex-flow</a>和<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-flow"
                id="ref-for-propdef-grid-auto-flow①">grid-auto-flow</a>属性。
        </p>
        <table class="data">
            <caption>项流控制概览</caption>
            <thead>
                <tr>
                    <th>流向方案
                    <th>轨道方案
                    <th>值空间
                    <th>描述
                    <th>现有 flex 属性
                    <th>现有 grid 属性
            <tbody>
                <tr>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-direction"
                            id="ref-for-propdef-item-direction">item-direction</a>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-track"
                            id="ref-for-propdef-item-track">item-track</a>
                    <td>auto | row | column | row-reverse | column-reverse
                    <td> 控制项目是按行还是按列放置，以及轨道内是起始到末尾还是末尾到起始排序。
                    <td>flex-direction
                    <td>grid-auto-flow
                <tr>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-wrap"
                            id="ref-for-propdef-item-wrap">item-wrap</a>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-cross"
                            id="ref-for-propdef-item-cross">item-cross</a>
                    <td>[ auto | nowrap | wrap ] || [ normal | reverse ] | wrap-reverse
                    <td> 控制项目在由行/列属性控制的主轴以外的轴上是否换行，如换行则规定顺序。
                    <td>flex-wrap
                    <td>本级引入到<a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-flow"
                            id="ref-for-propdef-grid-auto-flow②">grid-auto-flow</a>属性。
                <tr>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack">item-pack</a>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack①">item-pack</a>
                    <td>normal | dense || balance
                    <td> 配置项目如何填充轨道。
                    <td>
                    <td><a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-flow"
                            id="ref-for-propdef-grid-auto-flow③">grid-auto-flow</a>
                <tr>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-tolerance"
                            id="ref-for-propdef-item-tolerance④">item-tolerance</a>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-tolerance"
                            id="ref-for-propdef-item-tolerance⑤">item-tolerance</a>
                    <td>normal | <a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage"
                            id="ref-for-typedef-length-percentage③">&lt;length-percentage></a> | infinite
                    <td> 定义放置决策中的布局“容差”量。
                    <td>
                    <td>
        </table>
        <p class="issue" id="issue-c971c9c1"><a class="self-link" href="#issue-c971c9c1"></a> CSSWG 仍在讨论这些属性的命名和关系。<a
                href="https://github.com/w3c/csswg-drafts/issues/11480">[Issue #11480]</a></p>
        <h3 class="heading settled" id="item-primary-axis"><span class="content">项流主轴：<a class="property css"
                    data-link-type="property" href="#propdef-item-track"
                    id="ref-for-propdef-item-track①">item-track</a>/<a class="property css" data-link-type="property"
                    href="#propdef-item-direction" id="ref-for-propdef-item-direction①">item-direction</a></span><a
                class="self-link" href="#item-primary-axis"></a></h3>
        <table class="def propdef" data-link-for-hint="item-direction">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-direction">item-direction</dfn>, <dfn class="dfn-paneled css"
                            data-dfn-type="property" data-export id="propdef-item-track">item-track</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值:</a>
                    <td class="prod">auto <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> row <span
                            id="ref-for-comb-one③">|</span> column <span id="ref-for-comb-one④">|</span> row-reverse
                        <span id="ref-for-comb-one⑤">|</span> column-reverse
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值:</a>
                    <td>auto
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用对象:</a>
                    <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                            id="ref-for-flex-container">弹性容器</a>, <a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#grid-container"
                            id="ref-for-grid-container②②">网格容器</a>, <a data-link-type="dfn" href="#masonry-container"
                            id="ref-for-masonry-container②③">瀑布流容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">是否继承:</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比:</a>
                    <td>N/A
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值:</a>
                    <td>按指定
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序:</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型:</a>
                    <td>离散
        </table>
        <p>该属性控制项目是按行还是按列放置，以及轨道内是起始到末尾还是末尾到起始排序。</p>
        <p class="issue" id="issue-80d7796e"><a class="self-link" href="#issue-80d7796e"></a> 此属性有两个未决问题：
            a) 应叫什么，b) 它描述的是放置的主方向还是项目所在轨道的方向；
            换句话说，此属性定义的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary-axis">主轴</dfn>
            是<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary-placement-axis">主放置轴</dfn>还是<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary-track-axis">主轨道轴</dfn>。
            对<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                id="ref-for-flex-layout⑤">弹性布局</a>和<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-layout" id="ref-for-grid-layout①①">网格布局</a>这两者是一样的，
            但对于<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①④">瀑布流布局</a>，主放置方向是跨其轨道的。<a
                href="https://github.com/w3c/csswg-drafts/issues/11480">[Issue #11480]</a></p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-auto">auto</dfn>
            <dd data-md>
                <p>根据布局模式，计算为<a class="css" data-link-type="maybe" href="#valdef-item-direction-row"
                        id="ref-for-valdef-item-direction-row">row</a>或<a class="css" data-link-type="maybe"
                        href="#valdef-item-direction-column" id="ref-for-valdef-item-direction-column">column</a>：</p>
                <ul>
                    <li data-md>
                        <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                                id="ref-for-flex-container①">弹性容器</a>和<a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-grid-2/#grid-container"
                                id="ref-for-grid-container②③">网格容器</a>中，
                            计算为<a class="css" data-link-type="maybe" href="#valdef-item-direction-row"
                                id="ref-for-valdef-item-direction-row①">row</a>。</p>
                    <li data-md>
                        <p>在<a data-link-type="dfn" href="#masonry-container"
                                id="ref-for-masonry-container②④">瀑布流容器</a>中，
                            若<a class="property css" data-link-type="property"
                                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows"
                                id="ref-for-propdef-grid-template-rows">grid-template-rows</a>不是<a class="css"
                                data-link-type="maybe"
                                href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-rows-none"
                                id="ref-for-valdef-grid-template-rows-none">none</a>且<a class="property css"
                                data-link-type="property"
                                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns"
                                id="ref-for-propdef-grid-template-columns①">grid-template-columns</a>为<span class="css"
                                id="ref-for-valdef-grid-template-rows-none①">none</span>，
                            计算为表示行轨道的值；
                            否则计算为表示列轨道的值。</p>
                </ul>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-row">row</dfn>
            <dd data-md>
                <p><span class="option masonry">轨道方案</span> 代表放入行（即与<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis"
                        id="ref-for-inline-axis④">行轴</a>平行的轨道/线）。
                    项目按起始到末尾顺序填充这些行。</p>
                <p><span class="option grid">流向方案</span> 代表以行为主的项目放置，
                    即项目按起始到末尾放在<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis"
                        id="ref-for-inline-axis⑤">行轴</a>，
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑥">弹性布局</a>中产生弹性行，
                    在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑤">瀑布流布局</a>中为列网格轨道。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-column">column</dfn>
            <dd data-md>
                <p><span class="option masonry">轨道方案</span> 代表放入列（即与<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                        id="ref-for-block-axis⑥">块轴</a>平行的轨道/线）。
                    项目按起始到末尾顺序填充这些列。</p>
                <p><span class="option grid">流向方案</span> 代表以列为主的项目放置，
                    即项目按起始到末尾放在<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                        id="ref-for-block-axis⑦">块轴</a>，
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑦">弹性布局</a>中产生弹性列，
                    在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑥">瀑布流布局</a>中为行网格轨道。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-row-reverse">row-reverse</dfn>
            <dd data-md>
                <p>与<a class="css" data-link-type="maybe" href="#valdef-item-direction-row"
                        id="ref-for-valdef-item-direction-row②">row</a>相同，但顺序为末尾到起始。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-column-reverse">column-reverse</dfn>
            <dd data-md>
                <p>与<a class="css" data-link-type="maybe" href="#valdef-item-direction-column"
                        id="ref-for-valdef-item-direction-column①">column</a>相同，但顺序为末尾到起始。</p>
        </dl>
        <h3 class="heading settled" id="item-secondary-axis"><span class="content"> 项目交叉轴放置模式：<a class="property css"
                    data-link-type="property" href="#propdef-item-cross"
                    id="ref-for-propdef-item-cross①">item-cross</a>/<a class="property css" data-link-type="property"
                    href="#propdef-item-wrap" id="ref-for-propdef-item-wrap①">item-wrap</a></span><a class="self-link"
                href="#item-secondary-axis"></a></h3>
        <table class="def propdef" data-link-for-hint="item-wrap">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-wrap">item-wrap</dfn>, <dfn class="dfn-paneled css"
                            data-dfn-type="property" data-export id="propdef-item-cross">item-cross</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值:</a>
                    <td class="prod">[ auto <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> nowrap
                        <span id="ref-for-comb-one⑦">|</span> wrap ] <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any">||</a> [ normal
                        <span id="ref-for-comb-one⑧">|</span> reverse ] <span id="ref-for-comb-one⑨">|</span>
                        wrap-reverse
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值:</a>
                    <td>auto
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用对象:</a>
                    <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                            id="ref-for-flex-container②">弹性容器</a>, <a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#grid-container"
                            id="ref-for-grid-container②④">网格容器</a>, <a data-link-type="dfn" href="#masonry-container"
                            id="ref-for-masonry-container②⑤">瀑布流容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">是否继承:</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比:</a>
                    <td>N/A
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值:</a>
                    <td>按指定
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序:</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型:</a>
                    <td>离散
        </table>
        <p>用于控制与<a data-link-type="dfn" href="#primary-axis" id="ref-for-primary-axis">主轴</a>相反方向上的项目放置。</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-auto">auto</dfn>
            <dd data-md>
                <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                        id="ref-for-flex-container③">弹性容器</a>上计算为<a class="css" data-link-type="maybe"
                        href="#valdef-item-wrap-nowrap" id="ref-for-valdef-item-wrap-nowrap">nowrap</a>，
                    其他情况计算为<a class="css" data-link-type="maybe" href="#valdef-item-wrap-wrap"
                        id="ref-for-valdef-item-wrap-wrap">wrap</a>。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-nowrap">nowrap</dfn>
            <dd data-md>
                <p>项目始终在<a data-link-type="dfn" href="#primary-placement-axis"
                        id="ref-for-primary-placement-axis">主放置轴</a>上排列，
                    即使空间不足也不换行。
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑧">弹性布局</a>中形成<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-flexbox-1/#single-line-flex-container"
                        id="ref-for-single-line-flex-container">单行弹性容器</a>；
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout①②">网格布局</a>中会在<span
                        id="ref-for-primary-placement-axis①">主放置轴</span>上按需生成<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#implicit-grid-track"
                        id="ref-for-implicit-grid-track">隐式轨道</a>。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-wrap">wrap</dfn>
            <dd data-md>
                <p>当<a data-link-type="dfn" href="#primary-placement-axis"
                        id="ref-for-primary-placement-axis②">主放置轴</a>空间用尽时项目换行。
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑨">弹性布局</a>中形成<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-flexbox-1/#multi-line-flex-container"
                        id="ref-for-multi-line-flex-container">多行弹性容器</a>；
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout①③">网格布局</a>中自动放置算法在<span
                        id="ref-for-primary-placement-axis③">主放置轴</span>无显式轨道时移至下一行/列。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-normal">normal</dfn>
            <dd data-md>
                <p>项目在与<a data-link-type="dfn" href="#primary-track-axis"
                        id="ref-for-primary-track-axis">主轨道轴</a>相反方向上按起始到末尾排列。</p>
                <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout①⓪">弹性布局</a>和<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#grid-layout" id="ref-for-grid-layout①④">网格布局</a>中，
                    此属性控制新轨道（弹性行或网格轨道）的放置方向。</p>
                <p>在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑦">瀑布流布局</a>中，
                    <span class="option masonry">对轨道语法控制并列（高度相同）时选哪个轨道</span>；<span
                        class="option grid">对流向语法控制项目在轨道内填充方向。</span>
                </p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-reverse">reverse</dfn>
            <dd data-md>
                <p>项目在与<a data-link-type="dfn" href="#primary-track-axis"
                        id="ref-for-primary-track-axis①">主轨道轴</a>相反方向上按末尾到起始排列。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-wrap-reverse">wrap-reverse</dfn>
            <dd data-md>
                <p>计算为 <span class="css">wrap reverse</span>。</p>
                <p class="note" role="note"><span class="marker">注意：</span>此值为与已有<a class="property css"
                        data-link-type="property" href="https://www.w3.org/TR/css-flexbox-1/#propdef-flex-wrap"
                        id="ref-for-propdef-flex-wrap">flex-wrap</a>值保持一致而设。</p>
        </dl>
        <p class="issue" id="issue-b3c639a9"><a class="self-link" href="#issue-b3c639a9"></a> 此属性的解释和命名依赖于<a
                class="property css" data-link-type="property" href="#propdef-item-direction"
                id="ref-for-propdef-item-direction②">item-direction</a>/<a class="property css"
                data-link-type="property" href="#propdef-item-track"
                id="ref-for-propdef-item-track②">item-track</a>对轴的解释。<a
                href="https://github.com/w3c/csswg-drafts/issues/11480">[Issue #11480]</a></p>
        <h3 class="heading settled" id="item-pack-options"><span class="content"> 项目放置打包模式：<a class="property css"
                    data-link-type="property" href="#propdef-item-pack" id="ref-for-propdef-item-pack②">item-pack</a>
                属性</span><a class="self-link" href="#item-pack-options"></a></h3>
        <table class="def propdef" data-link-for-hint="item-pack">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-pack">item-pack</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值:</a>
                    <td class="prod">normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a> dense <a
                            data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-any"
                            id="ref-for-comb-any①">||</a> balance
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值:</a>
                    <td>normal
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用对象:</a>
                    <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                            id="ref-for-flex-container④">弹性容器</a>, <a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#grid-container"
                            id="ref-for-grid-container②⑤">网格容器</a>, <a data-link-type="dfn" href="#masonry-container"
                            id="ref-for-masonry-container②⑥">瀑布流容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">是否继承:</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比:</a>
                    <td>N/A
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值:</a>
                    <td>按指定
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序:</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型:</a>
                    <td>离散
        </table>
        <p>该属性控制项目在各轨道间的分布方式，具体取决于布局模式。</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-pack" data-dfn-type="value" data-export
                    id="valdef-item-pack-normal">normal</dfn>
            <dd data-md>
                <p>使用当前布局模式的默认打包策略。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-pack" data-dfn-type="value" data-export
                    id="valdef-item-pack-dense">dense</dfn>
            <dd data-md>
                <p>允许回溯，将项目放入之前跳过的空位。
                    （这些空位可能因为前面的项目太大而未能放入。）</p>
                <p>例如，
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout①①">弹性布局</a>中，可以将项目放入前面仍有足够空余空间的行。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-pack" data-dfn-type="value" data-export
                    id="valdef-item-pack-balance">balance</dfn>
            <dd data-md>
                <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout①②">弹性布局</a>中，
                    此值会平衡各行（包括最后一行）的内容量，
                    类似<a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-text-4/#propdef-text-wrap-style"
                        id="ref-for-propdef-text-wrap-style">text-wrap-style: balance</a>。</p>
        </dl>
        <p class="issue" id="issue-1efcc181"><a class="self-link" href="#issue-1efcc181"></a> 关于切换到<a
                data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑧">瀑布流布局</a>的一种提案是为<a
                class="property css" data-link-type="property" href="#propdef-item-pack"
                id="ref-for-propdef-item-pack③">item-pack</a>属性添加一个<dfn class="dfn-paneled css" data-dfn-for="item-pack"
                data-dfn-type="value" data-export id="valdef-item-pack-collapse">collapse</dfn>值。<a
                href="https://github.com/w3c/csswg-drafts/issues/11243">[Issue #11243]</a></p>
        <p class="issue" id="issue-152d283d"><a class="self-link" href="#issue-152d283d"></a> <span
                class="css">dense</span>打包应适用于瀑布流吗？
            在瀑布流中成本更高，
            因为需要在每个可能的空隙处布局元素以判断能否放下；
            网格只需处理整数即可。<a href="https://github.com/w3c/csswg-drafts/issues/9326">[Issue #9326]</a></p>
        <h3 class="heading settled" id="item-flow"><span class="content"> 项目放置速记：<a class="property css"
                    data-link-type="property" href="#propdef-item-flow" id="ref-for-propdef-item-flow">item-flow</a>
                速记属性</span><a class="self-link" href="#item-flow"></a></h3>
        <table class="def propdef" data-link-for-hint="item-flow">
            <tbody>
                <tr>
                    <th>名称:
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-flow">item-flow</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">值:</a>
                    <td class="prod"><a class="production css" data-link-type="property" href="#propdef-item-direction"
                            id="ref-for-propdef-item-direction③">&lt;'item-direction'></a> <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any②">||</a> <a
                            class="production css" data-link-type="property" href="#propdef-item-wrap"
                            id="ref-for-propdef-item-wrap②">&lt;'item-wrap'></a> <span id="ref-for-comb-any③">||</span>
                        <a class="production css" data-link-type="property" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack④">&lt;'item-pack'></a> <span id="ref-for-comb-any④">||</span>
                        <a class="production css" data-link-type="property" href="#propdef-item-tolerance"
                            id="ref-for-propdef-item-tolerance⑥">&lt;'item-tolerance'></a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值:</a>
                    <td>见各属性
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用对象:</a>
                    <td>见各属性
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">是否继承:</a>
                    <td>见各属性
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比:</a>
                    <td>见各属性
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值:</a>
                    <td>见各属性
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型:</a>
                    <td>见各属性
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序:</a>
                    <td>按语法
        </table>
        <p>该<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#shorthand-property"
                id="ref-for-shorthand-property">速记属性</a>可在单条声明中设置所有<span class="css">item-*</span><a
                data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#longhand" id="ref-for-longhand">长属性</a>。
        </p>
        <h2 class="heading settled" data-level="10" id="acknowledgements"><span class="secno">10. </span><span
                class="content">致谢</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>感谢 Cameron McCormack 编写了瀑布流布局说明文档（其中的背景章节被引用），并向 CSSWG 做了演示，
            以及 Mats Palmgren 开发了本规范的最初版本。
            还要感谢所有对该特性<a href="https://github.com/w3c/csswg-drafts/issues/4650">初始提案</a>提供反馈的人。</p>
        <h2 class="heading settled" data-level="11" id="security"><span class="secno">11. </span><span class="content">
                安全注意事项</span><a class="self-link" href="#security"></a></h2>
        <p>作为布局规范，
            本规范未引入除一般 CSS 布局外的任何新安全注意事项。</p>
        <h2 class="heading settled" data-level="12" id="privacy"><span class="secno">12. </span><span class="content">
                隐私注意事项</span><a class="self-link" href="#privacy"></a></h2>
        <p>作为布局规范，
            本规范未引入除一般 CSS 布局外的任何新隐私注意事项。</p>
        <h2 class="no-num heading settled" id="changes"><span class="content">变更记录</span><a class="self-link"
                href="#changes"></a></h2>
        <h3 class="heading settled" id="changes-3"><span class="content">第2级之后的新增内容</span><a class="self-link"
                href="#changes-3"></a></h3>
        <p>自<a href="https://www.w3.org/TR/css-grid-2/">第2级</a>以来新增如下功能：</p>
        <ul>
            <li>新增<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑨">瀑布流布局</a>。
            <li>新增<a class="property css" data-link-type="property" href="#propdef-item-flow"
                    id="ref-for-propdef-item-flow①">item-flow</a>属性及其长属性，
                用于通用项目排序与放置控制。
                详见<a href="#flow-control">附录A：通用布局项流控制：item-*属性</a>。
                (<a href="https://github.com/w3c/csswg-drafts/issues/11480">Issue 11480</a>)
        </ul>
        <h3 class="no-num heading settled" id="recent-changes"><span class="content">近期变更</span><a class="self-link"
                href="#recent-changes"></a></h3>
        <p>自<a href="https://www.w3.org/TR/2024/WD-css-grid-3-20241003/">2024年10月3日工作草案</a>以来变更如下：</p>
        <ul>
            <li data-md>
                <p>移除了瀑布流专用轨道模板和放置属性。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/11243">Issue 11243</a>)</p>
            <li data-md>
                <p>引入<a class="property css" data-link-type="property" href="#propdef-item-flow"
                        id="ref-for-propdef-item-flow②">item-flow</a>及<span class="css">item-*</span>长属性，
                    替代<span class="css">masonry-flow</span>及相关属性。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/11480">Issue 11480</a>)</p>
            <li data-md>
                <p>将<span class="css">masonry-slack</span>重命名为<a class="property css" data-link-type="property"
                        href="#propdef-item-tolerance" id="ref-for-propdef-item-tolerance⑦">item-tolerance</a>，
                    初始值设为<span class="css">normal</span>。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/10884">Issue 10884</a>, <a
                        href="https://github.com/w3c/csswg-drafts/issues/12111">Issue 12111</a>)</p>
            <li data-md>
                <p>为<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout②⓪">瀑布流布局</a>添加<a
                        class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-display-4/#propdef-display"
                        id="ref-for-propdef-display②">display</a>值占位。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/12022">Issue 12022</a>)</p>
            <li data-md>
                <p>为<a href="#masonry-dense-packing">密集打包</a>定义了<a data-link-type="dfn" href="#masonry-layout"
                        id="ref-for-masonry-layout②①">瀑布流布局</a>的行为。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/9326">Issue 9326</a>)</p>
            <li data-md>
                <p>调整基线对齐，导出每个轨道首/末项的最高/最低基线。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/9530">Issue 9530</a>)</p>
        </ul>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>一致性要求由描述性断言和 RFC 2119 术语共同表达。规范性部分中的关键字 “MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD
        NOT”、“RECOMMENDED”、“MAY”、“OPTIONAL” 按 RFC 2119 解释。
        为便于阅读，规范中这些词不会全部大写。 </p>
    <p>本规范所有内容均为规范性，除非明确标注为非规范性、示例或注释。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
    <p>本规范中的示例以 “例如” 开头或用 <code>class="example"</code> 单独标示，如下：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个说明性示例。</p>
    </div>
    <p>说明性注释以 “注意” 开头并用 <code>class="note"</code> 单独标示，如下：</p>
    <p class="note" role="note">注意，这是一个说明性注释。</p>
    <p>通知性建议为规范性内容，采用 <code>&lt;strong class="advisement"></code> 特别样式标示，如下：<strong class="advisement"> UA 必须提供可访问替代方案。
        </strong></p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>测试</summary>
        <p>与本规范内容相关的测试可用 “Tests” 块标示，如本例。
            任何此类测试块均为非规范性。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">一致性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>本规范定义三类兼容对象：</p>
    <dl>
        <dt>样式表
        <dd><a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
                样式表</a>。
        <dt>渲染器
        <dd>解释样式表语义并渲染使用样式表的文档的<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。
        <dt>编辑工具
        <dd>编写样式表的<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>。
    </dl>
    <p>样式表符合本规范，
        需其使用本模块定义语法的所有语句均有效，
        且符合通用 CSS 语法和本模块中每项特性的语法。</p>
    <p>渲染器符合本规范，
        需其除按相关规范解释样式表外，还应正确解析并渲染本规范定义的所有特性。
        但因设备限制无法正确渲染文档不视为不兼容 UA。（如 UA 不要求在单色显示器上渲染颜色。）</p>
    <p>编辑工具符合本规范，
        需其编写的样式表在语法上符合通用 CSS 语法和本模块所有特性语法，
        并满足本模块样式表的所有其他一致性要求。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为便于作者利用向前兼容的解析规则指定回退值，
        CSS 渲染器<strong>必须</strong>将所有不支持的 at-规则、属性、属性值、关键字及其他语法结构视为无效（并<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">按需忽略</a>）。
        特别是，UA<strong>不得</strong>在对多值属性声明进行解析时，仅忽略不支持的组件值而保留支持值：任何值被视为无效时，CSS 要求整个声明被忽略。</p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">不稳定与专有特性的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为避免与未来稳定 CSS 特性冲突，
        CSSWG 推荐<a href="https://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>实现<a
            href="https://www.w3.org/TR/CSS/#unstable">不稳定</a>和<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>特性。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>当规范进入候选推荐阶段（CR），
        可进行非实验性实现，且实现者应发布任何 CR 级特性的无前缀实现，
        前提是可证明其按规范正确实现。</p>
    <p>为确保 CSS 在各实现间的互操作性，
        CSS 工作组要求非实验性 CSS 渲染器在发布无前缀实现前向 W3C 提交实现报告（如有需要还应提交用于该报告的测试用例）。
        向 W3C 提交的测试用例需经 CSS 工作组审核与修正。</p>
    <p>有关提交测试用例和实现报告的更多信息，请参见 CSS 工作组网站 <a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。
        如有问题请联系 <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
        邮件列表。</p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li>
            auto
            <ul>
                <li><a href="#valdef-item-direction-auto">item-direction, item-track的值</a><span>，见未编号章节</span>
                <li><a href="#valdef-item-wrap-auto">item-wrap, item-cross的值</a><span>，见未编号章节</span>
            </ul>
        <li><a href="#valdef-repeat-auto-areas">auto-areas</a><span>，见 § 3.3.1</span>
        <li><a href="#auto-placement-cursor">auto-placement cursor</a><span>，见 § 4.4</span>
        <li><a href="#valdef-item-pack-balance">balance</a><span>，见未编号章节</span>
        <li><a href="#valdef-item-pack-collapse">collapse</a><span>，见未编号章节</span>
        <li><a href="#valdef-item-direction-column">column</a><span>，见未编号章节</span>
        <li><a href="#column-masonry-container">列瀑布流容器</a><span>，见 § 2</span>
        <li><a href="#valdef-item-direction-column-reverse">column-reverse</a><span>，见未编号章节</span>
        <li><a href="#valdef-item-pack-dense">dense</a><span>，见未编号章节</span>
        <li><a href="#grid-axis">grid axis</a><span>，见 § 2</span>
        <li><a href="#grid-axis">grid-axis</a><span>，见 § 2</span>
        <li><a href="#valdef-item-slack-infinite">infinite</a><span>，见 § 4.2</span>
        <li><a href="#propdef-item-cross">item-cross</a><span>，见未编号章节</span>
        <li><a href="#propdef-item-direction">item-direction</a><span>，见未编号章节</span>
        <li><a href="#propdef-item-flow">item-flow</a><span>，见未编号章节</span>
        <li><a href="#item-groups">item groups</a><span>，见 § 3.4.2</span>
        <li><a href="#propdef-item-pack">item-pack</a><span>，见未编号章节</span>
        <li><a href="#propdef-item-tolerance">item-tolerance</a><span>，见 § 4.2</span>
        <li><a href="#propdef-item-track">item-track</a><span>，见未编号章节</span>
        <li><a href="#propdef-item-wrap">item-wrap</a><span>，见未编号章节</span>
        <li><a href="#valdef-item-slack-length-percentage">&lt;length-percentage></a><span>，见 § 4.2</span>
        <li><a href="#masonry-box">瀑布流盒</a><span>，见 § 6</span>
        <li><a href="#masonry-container">瀑布流容器</a><span>，见 § 2</span>
        <li><a href="#masonry-item">瀑布流项目</a><span>，见 § 2</span>
        <li><a href="#masonry-layout">瀑布流布局</a><span>，见 § 2</span>
        <li><a href="#masonry-track">瀑布流轨道</a><span>，见 § 2</span>
        <li>
            normal
            <ul>
                <li><a href="#valdef-item-pack-normal">item-pack的值</a><span>，见未编号章节</span>
                <li><a href="#valdef-item-slack-normal">item-slack的值</a><span>，见 § 4.2</span>
                <li><a href="#valdef-item-wrap-normal">item-wrap, item-cross的值</a><span>，见未编号章节</span>
            </ul>
        <li><a href="#valdef-item-wrap-nowrap">nowrap</a><span>，见未编号章节</span>
        <li><a href="#primary-axis">主轴</a><span>，见未编号章节</span>
        <li><a href="#primary-placement-axis">主放置轴</a><span>，见未编号章节</span>
        <li><a href="#primary-track-axis">主轨道轴</a><span>，见未编号章节</span>
        <li><a href="#valdef-item-wrap-reverse">reverse</a><span>，见未编号章节</span>
        <li><a href="#valdef-item-direction-row">row</a><span>，见未编号章节</span>
        <li><a href="#row-masonry-container">行瀑布流容器</a><span>，见 § 2</span>
        <li><a href="#valdef-item-direction-row-reverse">row-reverse</a><span>，见未编号章节</span>
        <li><a href="#running-position">运行位置</a><span>，见 § 4.4</span>
        <li><a href="#valdef-display-something">something</a><span>，见 § 2.2</span>
        <li><a href="#stacking-axis">堆叠轴</a><span>，见 § 2</span>
        <li><a href="#stacking-axis">stacking-axis</a><span>，见 § 2</span>
        <li><a href="#submasonry">子瀑布流</a><span>，见 § 3.2</span>
        <li><a href="#masonry-tie-threshold">并列阈值</a><span>，见 § 4.2</span>
        <li><a href="#virtual-masonry-item">虚拟瀑布流项目</a><span>，见 § 3.4.2</span>
        <li><a href="#valdef-item-wrap-wrap">wrap</a><span>，见未编号章节</span>
        <li><a href="#valdef-item-wrap-wrap-reverse">wrap-reverse</a><span>，见未编号章节</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-ALIGN-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="fde954ee">align-content</span>
                <li><span class="dfn-paneled" id="73f86444">alignment baseline</span>
                <li><span class="dfn-paneled" id="dc2ecc7a">alignment subject</span>
                <li><span class="dfn-paneled" id="4d2cf2cf">baseline alignment</span>
                <li><span class="dfn-paneled" id="207a83d3">baseline-sharing group</span>
                <li><span class="dfn-paneled" id="515ec31f">center</span>
                <li><span class="dfn-paneled" id="da7c24e2">distributed alignment</span>
                <li><span class="dfn-paneled" id="020c3333">end</span>
                <li><span class="dfn-paneled" id="3c3b0bc2">fallback alignment</span>
                <li><span class="dfn-paneled" id="6f9416f0">grid-gap</span>
                <li><span class="dfn-paneled" id="de6bd31b">justify-content</span>
                <li><span class="dfn-paneled" id="50284573">normal</span>
                <li><span class="dfn-paneled" id="35e80fd9">start</span>
                <li><span class="dfn-paneled" id="ec67a9e7">stretch</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BOX-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="f72f5cb4">content box</span>
                <li><span class="dfn-paneled" id="0778a939">margin box</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BREAK-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="2218854e">forced break</span>
                <li><span class="dfn-paneled" id="872c3891">fragmentainer</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="8f27be0f">长属性</span>
                <li><span class="dfn-paneled" id="980ac56a">速记属性</span>
                <li><span class="dfn-paneled" id="1a2b1083">使用值</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="431a9cad">块级化</span>
                <li><span class="dfn-paneled" id="0923db9e">包含块</span>
                <li><span class="dfn-paneled" id="e8c16097">display</span>
                <li><span class="dfn-paneled" id="413bf6de">grid</span>
                <li><span class="dfn-paneled" id="57aa8824">独立格式化上下文</span>
                <li><span class="dfn-paneled" id="4edc72b0">reading-flow</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-FLEXBOX-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="cc7f0a64">弹性容器</span>
                <li><span class="dfn-paneled" id="07e702cf">弹性布局</span>
                <li><span class="dfn-paneled" id="546f7867">flex-flow</span>
                <li><span class="dfn-paneled" id="b70fab87">flex-wrap</span>
                <li><span class="dfn-paneled" id="97651ccf">多行弹性容器</span>
                <li><span class="dfn-paneled" id="7a8d5db2">order</span>
                <li><span class="dfn-paneled" id="11b7dd33">顺序调整后的文档顺序</span>
                <li><span class="dfn-paneled" id="b55ea3dd">单行弹性容器</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-GAPS-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="4894a76b">repeat()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-GRID-2]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="5b3e1fb0">auto</span>
                <li><span class="dfn-paneled" id="da3291f7">auto-fill</span>
                <li><span class="dfn-paneled" id="7b233769">auto-fit</span>
                <li><span class="dfn-paneled" id="bdee6ddc">automatic grid position</span>
                <li><span class="dfn-paneled" id="b48e63f1">automatic position</span>
                <li><span class="dfn-paneled" id="a6553ee0">collapsed grid track</span>
                <li><span class="dfn-paneled" id="d911d74f">definite grid position</span>
                <li><span class="dfn-paneled" id="fdfd719c">definite position</span>
                <li><span class="dfn-paneled" id="57b234bc">explicit grid</span>
                <li><span class="dfn-paneled" id="7086fc61">grid area</span>
                <li><span class="dfn-paneled" id="df72a52c">grid container</span>
                <li><span class="dfn-paneled" id="ba30fc9a">grid item</span>
                <li><span class="dfn-paneled" id="db4ae04f">grid layout</span>
                <li><span class="dfn-paneled" id="b4a14210">grid track</span>
                <li><span class="dfn-paneled" id="228fb890">grid-auto-columns</span>
                <li><span class="dfn-paneled" id="4ab05c66">grid-auto-flow</span>
                <li><span class="dfn-paneled" id="6cc286fe">grid-auto-rows</span>
                <li><span class="dfn-paneled" id="88fad469">grid-placement property</span>
                <li><span class="dfn-paneled" id="a9860e91">grid-template-areas</span>
                <li><span class="dfn-paneled" id="354cf3be">grid-template-columns</span>
                <li><span class="dfn-paneled" id="25d528b6">grid-template-rows</span>
                <li><span class="dfn-paneled" id="3208cbb5">implicit grid</span>
                <li><span class="dfn-paneled" id="564e922b">implicit grid track</span>
                <li><span class="dfn-paneled" id="f9ff3d86">min-content</span>
                <li><span class="dfn-paneled" id="6540f072">none <small>(用于grid-template-areas)</small></span>
                <li><span class="dfn-paneled" id="9edcd4ef">none <small>(用于grid-template-rows)</small></span>
                <li><span class="dfn-paneled" id="bbc693a1">subgrid</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SIZING-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c1c732b9">可用空间</span>
                <li><span class="dfn-paneled" id="a47902ec">max-content约束</span>
                <li><span class="dfn-paneled" id="8a39af7f">max-content尺寸</span>
                <li><span class="dfn-paneled" id="451a41ae">min-content约束</span>
                <li><span class="dfn-paneled" id="6a444fd6">min-content尺寸</span>
                <li><span class="dfn-paneled" id="47ea2436">outer size</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-TEXT-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="7801e50a">text-wrap-style</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="4fd7e54f">&lt;length-percentage></span>
                <li><span class="dfn-paneled" id="8a110a7b">CSS宽泛关键字</span>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
                <li><span class="dfn-paneled" id="a0336d84">||</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="fb688f4f">direction</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="b8dade0f">块轴</span>
                <li><span class="dfn-paneled" id="599428b5">block-axis</span>
                <li><span class="dfn-paneled" id="a6eb24bb">行轴</span>
                <li><span class="dfn-paneled" id="82ddda8c">inline-axis</span>
                <li><span class="dfn-paneled" id="90c7548c">start</span>
                <li><span class="dfn-paneled" id="eb6008ce">书写模式</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-align-3">[CSS-ALIGN-3]
        <dd>Elika Etemad; Tab Atkins Jr.. <a
                href="https://www.w3.org/TR/css-align-3/"><cite>CSS盒对齐模块3级</cite></a>。2025年3月11日。WD。URL: <a
                href="https://www.w3.org/TR/css-align-3/">https://www.w3.org/TR/css-align-3/</a>
        <dt id="biblio-css-box-4">[CSS-BOX-4]
        <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-box-4/"><cite>CSS盒模型模块4级</cite></a>。2024年8月4日。WD。URL: <a
                href="https://www.w3.org/TR/css-box-4/">https://www.w3.org/TR/css-box-4/</a>
        <dt id="biblio-css-break-4">[CSS-BREAK-4]
        <dd>Rossen Atanassov; Elika Etemad. <a
                href="https://www.w3.org/TR/css-break-4/"><cite>CSS分页模块4级</cite></a>。2018年12月18日。FPWD。URL: <a
                href="https://www.w3.org/TR/css-break-4/">https://www.w3.org/TR/css-break-4/</a>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a
                href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS层叠与继承5级</cite></a>。2022年1月13日。CR。URL: <a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
        <dd>Elika Etemad; Tab Atkins Jr.. <a
                href="https://www.w3.org/TR/css-display-4/"><cite>CSS显示模块4级</cite></a>。2024年12月19日。FPWD。URL: <a
                href="https://www.w3.org/TR/css-display-4/">https://www.w3.org/TR/css-display-4/</a>
        <dt id="biblio-css-flexbox-1">[CSS-FLEXBOX-1]
        <dd>Tab Atkins Jr.; 等。<a
                href="https://www.w3.org/TR/css-flexbox-1/"><cite>CSS弹性盒布局模块1级</cite></a>。2018年11月19日。CR。URL: <a
                href="https://www.w3.org/TR/css-flexbox-1/">https://www.w3.org/TR/css-flexbox-1/</a>
        <dt id="biblio-css-gaps-1">[CSS-GAPS-1]
        <dd>Kevin Babbitt. <a href="https://www.w3.org/TR/css-gaps-1/"><cite>CSS间隙装饰模块1级</cite></a>。2025年4月17日。FPWD。URL:
            <a href="https://www.w3.org/TR/css-gaps-1/">https://www.w3.org/TR/css-gaps-1/</a>
        <dt id="biblio-css-grid-1">[CSS-GRID-1]
        <dd>Tab Atkins Jr.; 等。<a
                href="https://www.w3.org/TR/css-grid-1/"><cite>CSS网格布局模块1级</cite></a>。2025年3月26日。CRD。URL: <a
                href="https://www.w3.org/TR/css-grid-1/">https://www.w3.org/TR/css-grid-1/</a>
        <dt id="biblio-css-grid-2">[CSS-GRID-2]
        <dd>Tab Atkins Jr.; 等。<a
                href="https://www.w3.org/TR/css-grid-2/"><cite>CSS网格布局模块2级</cite></a>。2025年3月26日。CRD。URL: <a
                href="https://www.w3.org/TR/css-grid-2/">https://www.w3.org/TR/css-grid-2/</a>
        <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a
                href="https://www.w3.org/TR/css-sizing-3/"><cite>CSS盒尺寸模块3级</cite></a>。2021年12月17日。WD。URL: <a
                href="https://www.w3.org/TR/css-sizing-3/">https://www.w3.org/TR/css-sizing-3/</a>
        <dt id="biblio-css-text-4">[CSS-TEXT-4]
        <dd>Elika Etemad; 等。<a href="https://www.w3.org/TR/css-text-4/"><cite>CSS文本模块4级</cite></a>。2024年5月29日。WD。URL: <a
                href="https://www.w3.org/TR/css-text-4/">https://www.w3.org/TR/css-text-4/</a>
        <dt id="biblio-css-values-3">[CSS-VALUES-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a
                href="https://www.w3.org/TR/css-values-3/"><cite>CSS值与单位模块3级</cite></a>。2024年3月22日。CRD。URL: <a
                href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a
                href="https://www.w3.org/TR/css-values-4/"><cite>CSS值与单位模块4级</cite></a>。2024年3月12日。WD。URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        <dd>Elika Etemad; Koji Ishii. <a
                href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS书写模式4级</cite></a>。2019年7月30日。CR。URL: <a
                href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
        <dt id="biblio-css2">[CSS2]
        <dd>Bert Bos; 等。<a href="https://www.w3.org/TR/CSS2/"><cite>层叠样式表2级修订1 (CSS 2.1)
                    规范</cite></a>。2011年6月7日。REC。URL: <a
                href="https://www.w3.org/TR/CSS2/">https://www.w3.org/TR/CSS2/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a
                href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>RFC中用于指示需求级别的关键词</cite></a>。1997年3月。最佳当前实践。URL:
            <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">补充性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
        <dd>Florian Rivoal; Rachel Andrew. <a
                href="https://www.w3.org/TR/css-multicol-1/"><cite>CSS多栏布局模块1级</cite></a>。2024年5月16日。CR。URL: <a
                href="https://www.w3.org/TR/css-multicol-1/">https://www.w3.org/TR/css-multicol-1/</a>
        <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
        <dd>Elika Etemad; Koji Ishii. <a
                href="https://www.w3.org/TR/css-writing-modes-3/"><cite>CSS书写模式3级</cite></a>。2019年12月10日。REC。URL: <a
                href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">属性索引</span><a class="self-link"
            href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    <th scope="col">值
                    <th scope="col">初始值
                    <th scope="col">适用对象
                    <th scope="col">继承
                    <th scope="col">百分比
                    <th scope="col">动画类型
                    <th scope="col">规范顺序
                    <th scope="col">计算值
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-cross"
                            id="ref-for-propdef-item-cross②">item-cross</a>
                    <td>[ auto | nowrap | wrap ] || [ normal | reverse ] | wrap-reverse
                    <td>auto
                    <td>弹性容器，网格容器，瀑布流容器
                    <td>否
                    <td>N/A
                    <td>离散
                    <td>按语法
                    <td>按指定
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-direction"
                            id="ref-for-propdef-item-direction④">item-direction</a>
                    <td>auto | row | column | row-reverse | column-reverse
                    <td>auto
                    <td>弹性容器，网格容器，瀑布流容器
                    <td>否
                    <td>N/A
                    <td>离散
                    <td>按语法
                    <td>按指定
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-flow"
                            id="ref-for-propdef-item-flow③">item-flow</a>
                    <td>&lt;'item-direction'> || &lt;'item-wrap'> || &lt;'item-pack'> || &lt;'item-tolerance'>
                    <td>见各属性
                    <td>见各属性
                    <td>见各属性
                    <td>见各属性
                    <td>见各属性
                    <td>按语法
                    <td>见各属性
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack⑤">item-pack</a>
                    <td>normal | dense || balance
                    <td>normal
                    <td>弹性容器，网格容器，瀑布流容器
                    <td>否
                    <td>N/A
                    <td>离散
                    <td>按语法
                    <td>按指定
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-tolerance"
                            id="ref-for-propdef-item-tolerance⑧">item-tolerance</a>
                    <td>normal | &lt;length-percentage> | infinite
                    <td>normal
                    <td>瀑布流容器
                    <td>否
                    <td>相对于瀑布流容器的网格轴内容盒尺寸
                    <td>按长度
                    <td>按语法
                    <td>计算后的 &lt;length-percentage> 值
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-track"
                            id="ref-for-propdef-item-track③">item-track</a>
                    <td>auto | row | column | row-reverse | column-reverse
                    <td>auto
                    <td>弹性容器，网格容器，瀑布流容器
                    <td>否
                    <td>N/A
                    <td>离散
                    <td>按语法
                    <td>按指定
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-wrap"
                            id="ref-for-propdef-item-wrap③">item-wrap</a>
                    <td>[ auto | nowrap | wrap ] || [ normal | reverse ] | wrap-reverse
                    <td>auto
                    <td>弹性容器，网格容器，瀑布流容器
                    <td>否
                    <td>N/A
                    <td>离散
                    <td>按语法
                    <td>按指定
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue">自动放置项这里是否应默认重排序？<a class="issue-return" href="#issue-f3901e05" title="跳转到章节">↵</a></div>
        <div class="issue">ISSUE(12022)：我们正在寻找一个合理的<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-display-4/#propdef-display">display</a>值（需包含 <a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/css-display-4/#valdef-display-grid">grid</a>
            关键词），用以表示<a data-link-type="dfn" href="#masonry-layout">瀑布流布局</a>。
            比如 <span class="css">something-grid</span>、<span class="css">grid-something</span>、
            <span class="css">grid something</span> 或 <span class="css">something grid</span>。
            欢迎在 issue 中提出建议。<a class="issue-return" href="#issue-1224e16e" title="跳转到章节">↵</a>
        </div>
        <div class="issue">ISSUE(12820)：需要更正式地写出 grid/masonry 格式化上下文的工作方式？<a class="issue-return" href="#issue-3be4bca6"
                title="跳转到章节">↵</a></div>
        <div class="issue">是否允许内容驱动自动重复的轨道？
            这样的定义是否合理？
            是否也应该在网格布局中工作？<a href="https://github.com/w3c/csswg-drafts/issues/10915">[Issue #10915]</a><a
                class="issue-return" href="#issue-b1e94dcd" title="跳转到章节">↵</a></div>
        <div class="issue">尚不清楚是否真的需要此值。
            注意显式网格已经可根据<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns">grid-auto-columns</a>/<a
                class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows">grid-auto-rows</a>值灵活补齐模板区域数量。<a
                href="https://github.com/w3c/csswg-drafts/issues/10854">[Issue #10854]</a>
            <a class="issue-return" href="#issue-b2bb9b46" title="跳转到章节">↵</a>
        </div>
        <div class="issue">需要更好的示例！！！<a class="issue-return" href="#issue-33788d66" title="跳转到章节">↵</a></div>
        <div class="issue"><span class="css">1em</span> 是合适的默认值吗？<a class="issue-return" href="#issue-7bbfe9d5"
                title="跳转到章节">↵</a></div>
        <div class="issue">CSSWG 欢迎对此属性更好的命名建议。<a href="https://github.com/w3c/csswg-drafts/issues/10884">[Issue
                #10884]</a><a class="issue-return" href="#issue-050f1375" title="跳转到章节">↵</a></div>
        <div class="issue">放置光标也该更新吗？<a class="issue-return" href="#issue-9c647ef6" title="跳转到章节">↵</a></div>
        <div class="issue">堆叠轴上的对齐是否应该更复杂？具体应该如何？<a class="issue-return" href="#issue-491b71c9" title="跳转到章节">↵</a>
        </div>
        <div class="issue">我们可以支持首行基线对齐。需要吗？<a class="issue-return" href="#issue-4a2d589c" title="跳转到章节">↵</a></div>
        <div class="issue">最后一个基线是否应该取自最后最低的项目？<a class="issue-return" href="#issue-f1320409" title="跳转到章节">↵</a></div>
        <div class="issue">在<a data-link-type="dfn" href="#stacking-axis">堆叠轴</a>定义静态定位可能有用。
            也许可以定义为该点所有<a data-link-type="dfn" href="#grid-axis">网格轴</a>轨道当前最大（或最小？）<a data-link-type="dfn"
                href="#running-position">运行位置</a>，或前一个项目结束处？<a class="issue-return" href="#issue-4007c2e6"
                title="跳转到章节">↵</a>
        </div>
        <div class="issue">此节可能会移至其他规范，
            如<a data-link-type="biblio" href="#biblio-css-display-4"
                title="CSS Display Module Level 4">[css-display-4]</a>，
            因为它影响多个display类型。<a class="issue-return" href="#issue-fd53eff2" title="跳转到章节">↵</a></div>
        <div class="issue">CSSWG 仍在讨论这些属性的命名和关系。<a href="https://github.com/w3c/csswg-drafts/issues/11480">[Issue
                #11480]</a><a class="issue-return" href="#issue-c971c9c1" title="跳转到章节">↵</a></div>
        <div class="issue">此属性有两个未决问题：
            a) 应叫什么，b) 它描述的是放置的主方向还是项目所在轨道的方向；
            换句话说，此属性定义的<span>主轴</span>
            是<span>主放置轴</span>还是<span>主轨道轴</span>。
            对<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout">弹性布局</a>和<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout">网格布局</a>这两者是一样的，
            但对于<a data-link-type="dfn" href="#masonry-layout">瀑布流布局</a>，主放置方向是跨其轨道的。<a
                href="https://github.com/w3c/csswg-drafts/issues/11480">[Issue #11480]</a><a class="issue-return"
                href="#issue-80d7796e" title="跳转到章节">↵</a></div>
        <div class="issue">此属性的解释和命名依赖于<a class="property css" data-link-type="property"
                href="#propdef-item-direction">item-direction</a>/<a class="property css" data-link-type="property"
                href="#propdef-item-track">item-track</a>对轴的解释。<a
                href="https://github.com/w3c/csswg-drafts/issues/11480">[Issue #11480]</a><a class="issue-return"
                href="#issue-b3c639a9" title="跳转到章节">↵</a></div>
        <div class="issue">关于切换到<a data-link-type="dfn" href="#masonry-layout">瀑布流布局</a>的一种提案是为<a class="property css"
                data-link-type="property" href="#propdef-item-pack">item-pack</a>属性添加一个<span>collapse</span>值。<a
                href="https://github.com/w3c/csswg-drafts/issues/11243">[Issue #11243]</a><a class="issue-return"
                href="#issue-1efcc181" title="跳转到章节">↵</a>
        </div>
        <div class="issue"><span class="css">dense</span>打包应适用于瀑布流吗？
            在瀑布流中成本更高，
            因为需要在每个可能的空隙处布局元素以判断能否放下；
            网格只需处理整数即可。<a href="https://github.com/w3c/csswg-drafts/issues/9326">[Issue #9326]</a><a
                class="issue-return" href="#issue-152d283d" title="跳转到章节">↵</a></div>
    </div>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "020c3333": { "dfnID": "020c3333", "dfnText": "end", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-self-position-end" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-end" },
                "0778a939": { "dfnID": "0778a939", "dfnText": "margin box", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-margin-box" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-box-4/#margin-box" },
                "07e702cf": { "dfnID": "07e702cf", "dfnText": "flex layout", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-flex-layout" }], "title": "1.1.2. \nOne-dimensional Grid Layout" }, { "refs": [{ "id": "ref-for-flex-layout\u2460" }, { "id": "ref-for-flex-layout\u2461" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-flex-layout\u2462" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-flex-layout\u2463" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-flex-layout\u2464" }, { "id": "ref-for-flex-layout\u2465" }, { "id": "ref-for-flex-layout\u2466" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-flex-layout\u2467" }, { "id": "ref-for-flex-layout\u2468" }, { "id": "ref-for-flex-layout\u2460\u24ea" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-flex-layout\u2460\u2460" }, { "id": "ref-for-flex-layout\u2460\u2461" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-flexbox-1/#flex-layout" },
                "0923db9e": { "dfnID": "0923db9e", "dfnText": "containing block", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-containing-block" }], "title": "4.4.1. \nContaining Block" }], "url": "https://www.w3.org/TR/css-display-4/#containing-block" },
                "11b7dd33": { "dfnID": "11b7dd33", "dfnText": "order-modified document order", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-order-modified-document-order" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order" },
                "1a2b1083": { "dfnID": "1a2b1083", "dfnText": "used value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-used-value" }, { "id": "ref-for-used-value\u2460" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }], "url": "https://www.w3.org/TR/css-cascade-5/#used-value" },
                "207a83d3": { "dfnID": "207a83d3", "dfnText": "baseline-sharing group", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-baseline-sharing-group" }], "title": "3.4.2. \nOptimized Track Sizing" }], "url": "https://www.w3.org/TR/css-align-3/#baseline-sharing-group" },
                "2218854e": { "dfnID": "2218854e", "dfnText": "forced break", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-forced-break" }], "title": "7.1. \nFragmentation in the stacking axis" }], "url": "https://www.w3.org/TR/css-break-4/#forced-break" },
                "228fb890": { "dfnID": "228fb890", "dfnText": "grid-auto-columns", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-auto-columns" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-propdef-grid-auto-columns\u2460" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns" },
                "25d528b6": { "dfnID": "25d528b6", "dfnText": "grid-template-rows", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-template-rows" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows" },
                "3208cbb5": { "dfnID": "3208cbb5", "dfnText": "implicit grid", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implicit-grid" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-implicit-grid\u2460" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-grid-2/#implicit-grid" },
                "354cf3be": { "dfnID": "354cf3be", "dfnText": "grid-template-columns", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-template-columns" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-propdef-grid-template-columns\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns" },
                "35e80fd9": { "dfnID": "35e80fd9", "dfnText": "start", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-self-position-start" }, { "id": "ref-for-valdef-self-position-start\u2460" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-start" },
                "3c3b0bc2": { "dfnID": "3c3b0bc2", "dfnText": "fallback alignment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fallback-alignment" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#fallback-alignment" },
                "413bf6de": { "dfnID": "413bf6de", "dfnText": "grid", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-display-grid" }], "title": "2.2. \nEstablishing Masonry Layout" }], "url": "https://www.w3.org/TR/css-display-4/#valdef-display-grid" },
                "431a9cad": { "dfnID": "431a9cad", "dfnText": "blockify", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-blockify" }], "title": "2. \nMasonry Layout Model" }], "url": "https://www.w3.org/TR/css-display-4/#blockify" },
                "451a41ae": { "dfnID": "451a41ae", "dfnText": "min-content constraint", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-min-content-constraint" }], "title": "5. \nSizing Grid Containers" }], "url": "https://www.w3.org/TR/css-sizing-3/#min-content-constraint" },
                "47ea2436": { "dfnID": "47ea2436", "dfnText": "outer size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-outer-size" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-sizing-3/#outer-size" },
                "4894a76b": { "dfnID": "4894a76b", "dfnText": "repeat()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-repeat-line-color-repeat" }, { "id": "ref-for-funcdef-repeat-line-color-repeat\u2460" }, { "id": "ref-for-funcdef-repeat-line-color-repeat\u2461" }, { "id": "ref-for-funcdef-repeat-line-color-repeat\u2462" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-funcdef-repeat-line-color-repeat\u2463" }, { "id": "ref-for-funcdef-repeat-line-color-repeat\u2464" }], "title": "3.3. \nTrack Repetition: the repeat() notation" }, { "refs": [{ "id": "ref-for-funcdef-repeat-line-color-repeat\u2465" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat" },
                "4ab05c66": { "dfnID": "4ab05c66", "dfnText": "grid-auto-flow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-auto-flow" }], "title": "4.3. \nDense Placement: the dense keyword" }, { "refs": [{ "id": "ref-for-propdef-grid-auto-flow\u2460" }, { "id": "ref-for-propdef-grid-auto-flow\u2461" }, { "id": "ref-for-propdef-grid-auto-flow\u2462" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-flow" },
                "4d2cf2cf": { "dfnID": "4d2cf2cf", "dfnText": "baseline alignment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-baseline-alignment" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-baseline-alignment\u2460" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-baseline-alignment\u2461" }, { "id": "ref-for-baseline-alignment\u2462" }], "title": "6.1. \nBaseline Alignment" }], "url": "https://www.w3.org/TR/css-align-3/#baseline-alignment" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }, { "id": "ref-for-comb-one\u2460" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }, { "id": "ref-for-comb-one\u2463" }, { "id": "ref-for-comb-one\u2464" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-comb-one\u2465" }, { "id": "ref-for-comb-one\u2466" }, { "id": "ref-for-comb-one\u2467" }, { "id": "ref-for-comb-one\u2468" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-comb-one\u2460\u24ea" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "4edc72b0": { "dfnID": "4edc72b0", "dfnText": "reading-flow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-reading-flow" }], "title": "2.1. \nReordering and Accessibility" }], "url": "https://www.w3.org/TR/css-display-4/#propdef-reading-flow" },
                "4fd7e54f": { "dfnID": "4fd7e54f", "dfnText": "<length-percentage>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-length-percentage" }, { "id": "ref-for-typedef-length-percentage\u2460" }, { "id": "ref-for-typedef-length-percentage\u2461" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-typedef-length-percentage\u2462" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-length-percentage" },
                "50284573": { "dfnID": "50284573", "dfnText": "normal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-justify-content-normal" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal" },
                "515ec31f": { "dfnID": "515ec31f", "dfnText": "center", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-self-position-center" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-center" },
                "546f7867": { "dfnID": "546f7867", "dfnText": "flex-flow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-flex-flow" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }], "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow" },
                "564e922b": { "dfnID": "564e922b", "dfnText": "implicit grid track", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implicit-grid-track" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-grid-2/#implicit-grid-track" },
                "57aa8824": { "dfnID": "57aa8824", "dfnText": "independent formatting context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-independent-formatting-context" }], "title": "2.2. \nEstablishing Masonry Layout" }], "url": "https://www.w3.org/TR/css-display-4/#independent-formatting-context" },
                "57b234bc": { "dfnID": "57b234bc", "dfnText": "explicit grid", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-explicit-grid" }], "title": "3. \nMasonry Track Specification" }], "url": "https://www.w3.org/TR/css-grid-2/#explicit-grid" },
                "599428b5": { "dfnID": "599428b5", "dfnText": "block-axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-block-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-block-axis\u2460" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-block-axis\u2461" }, { "id": "ref-for-block-axis\u2462" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-block-axis\u2463" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-block-axis\u2464" }], "title": "9. \nGraceful Degradation" }, { "refs": [{ "id": "ref-for-block-axis\u2465" }, { "id": "ref-for-block-axis\u2466" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#block-axis" },
                "5b3e1fb0": { "dfnID": "5b3e1fb0", "dfnText": "auto", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-grid-template-columns-auto" }, { "id": "ref-for-valdef-grid-template-columns-auto\u2460" }, { "id": "ref-for-valdef-grid-template-columns-auto\u2461" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto" },
                "6540f072": { "dfnID": "6540f072", "dfnText": "none (for grid-template-areas)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-grid-template-areas-none" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-areas-none" },
                "6a444fd6": { "dfnID": "6a444fd6", "dfnText": "min-content size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-min-content" }], "title": "5. \nSizing Grid Containers" }], "url": "https://www.w3.org/TR/css-sizing-3/#min-content" },
                "6cc286fe": { "dfnID": "6cc286fe", "dfnText": "grid-auto-rows", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-auto-rows" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-propdef-grid-auto-rows\u2460" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows" },
                "6f9416f0": { "dfnID": "6f9416f0", "dfnText": "grid-gap", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-gap" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-align-3/#propdef-grid-gap" },
                "7086fc61": { "dfnID": "7086fc61", "dfnText": "grid area", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-area" }], "title": "4.4.1. \nContaining Block" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-area" },
                "73f86444": { "dfnID": "73f86444", "dfnText": "alignment baseline", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-alignment-baseline" }, { "id": "ref-for-alignment-baseline\u2460" }], "title": "6.1. \nBaseline Alignment" }], "url": "https://www.w3.org/TR/css-align-3/#alignment-baseline" },
                "7801e50a": { "dfnID": "7801e50a", "dfnText": "text-wrap-style", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-text-wrap-style" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-text-4/#propdef-text-wrap-style" },
                "7a8d5db2": { "dfnID": "7a8d5db2", "dfnText": "order", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-order" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-propdef-order\u2460" }], "title": "2.1. \nReordering and Accessibility" }], "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-order" },
                "7b233769": { "dfnID": "7b233769", "dfnText": "auto-fit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-repeat-auto-fit" }, { "id": "ref-for-valdef-repeat-auto-fit\u2460" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-valdef-repeat-auto-fit\u2461" }, { "id": "ref-for-valdef-repeat-auto-fit\u2462" }], "title": "3.3.1. \nrepeat(auto-areas)" }, { "refs": [{ "id": "ref-for-valdef-repeat-auto-fit\u2463" }, { "id": "ref-for-valdef-repeat-auto-fit\u2464" }, { "id": "ref-for-valdef-repeat-auto-fit\u2465" }], "title": "3.3.2. \nrepeat(auto-fit)" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit" },
                "82ddda8c": { "dfnID": "82ddda8c", "dfnText": "inline-axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inline-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-inline-axis\u2460" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-inline-axis\u2461" }, { "id": "ref-for-inline-axis\u2462" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-inline-axis\u2463" }, { "id": "ref-for-inline-axis\u2464" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-axis" },
                "872c3891": { "dfnID": "872c3891", "dfnText": "fragmentainer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fragmentainer" }], "title": "7.1. \nFragmentation in the stacking axis" }], "url": "https://www.w3.org/TR/css-break-4/#fragmentainer" },
                "88fad469": { "dfnID": "88fad469", "dfnText": "grid-placement property", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-placement-property" }], "title": "4. \nMasonry Placement" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-placement-property" },
                "8a110a7b": { "dfnID": "8a110a7b", "dfnText": "CSS-wide keywords", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-wide-keywords" }], "title": "1.2. \nValue Definitions" }], "url": "https://www.w3.org/TR/css-values-4/#css-wide-keywords" },
                "8a39af7f": { "dfnID": "8a39af7f", "dfnText": "max-content size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-max-content" }], "title": "5. \nSizing Grid Containers" }], "url": "https://www.w3.org/TR/css-sizing-3/#max-content" },
                "8f27be0f": { "dfnID": "8f27be0f", "dfnText": "longhand property", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-longhand" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "https://www.w3.org/TR/css-cascade-5/#longhand" },
                "90c7548c": { "dfnID": "90c7548c", "dfnText": "start", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-start" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#start" },
                "97651ccf": { "dfnID": "97651ccf", "dfnText": "multi-line flex container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-multi-line-flex-container" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-flexbox-1/#multi-line-flex-container" },
                "980ac56a": { "dfnID": "980ac56a", "dfnText": "shorthand property", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-shorthand-property" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "https://www.w3.org/TR/css-cascade-5/#shorthand-property" },
                "9edcd4ef": { "dfnID": "9edcd4ef", "dfnText": "none (for grid-template-rows)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-grid-template-rows-none" }, { "id": "ref-for-valdef-grid-template-rows-none\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-rows-none" },
                "a0336d84": { "dfnID": "a0336d84", "dfnText": "||", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-any" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-comb-any\u2460" }], "title": "\nItem Placement Packing Mode: the item-pack property" }, { "refs": [{ "id": "ref-for-comb-any\u2461" }, { "id": "ref-for-comb-any\u2462" }, { "id": "ref-for-comb-any\u2463" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "https://www.w3.org/TR/css-values-4/#comb-any" },
                "a47902ec": { "dfnID": "a47902ec", "dfnText": "max-content constraint", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-max-content-constraint" }], "title": "5. \nSizing Grid Containers" }], "url": "https://www.w3.org/TR/css-sizing-3/#max-content-constraint" },
                "a6553ee0": { "dfnID": "a6553ee0", "dfnText": "collapsed grid track", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-collapsed-grid-track" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }], "url": "https://www.w3.org/TR/css-grid-2/#collapsed-grid-track" },
                "a6eb24bb": { "dfnID": "a6eb24bb", "dfnText": "inline axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inline-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-inline-axis\u2460" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-inline-axis\u2461" }, { "id": "ref-for-inline-axis\u2462" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-inline-axis\u2463" }, { "id": "ref-for-inline-axis\u2464" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-axis" },
                "a9860e91": { "dfnID": "a9860e91", "dfnText": "grid-template-areas", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-template-areas" }, { "id": "ref-for-propdef-grid-template-areas\u2460" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas" },
                "auto-placement-cursor": { "dfnID": "auto-placement-cursor", "dfnText": "auto-placement cursor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-auto-placement-cursor" }, { "id": "ref-for-auto-placement-cursor\u2460" }, { "id": "ref-for-auto-placement-cursor\u2461" }, { "id": "ref-for-auto-placement-cursor\u2462" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "#auto-placement-cursor" },
                "b48e63f1": { "dfnID": "b48e63f1", "dfnText": "automatic position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-automatic-grid-position" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2460" }, { "id": "ref-for-automatic-grid-position\u2461" }], "title": "3.4. \nGrid Axis Track Sizing" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2462" }, { "id": "ref-for-automatic-grid-position\u2463" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2464" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2465" }], "title": "4. \nMasonry Placement" }], "url": "https://www.w3.org/TR/css-grid-2/#automatic-grid-position" },
                "b4a14210": { "dfnID": "b4a14210", "dfnText": "grid track", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-track" }], "title": "2. \nMasonry Layout Model" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-track" },
                "b55ea3dd": { "dfnID": "b55ea3dd", "dfnText": "single-line flex container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-single-line-flex-container" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-flexbox-1/#single-line-flex-container" },
                "b70fab87": { "dfnID": "b70fab87", "dfnText": "flex-wrap", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-flex-wrap" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-wrap" },
                "b8dade0f": { "dfnID": "b8dade0f", "dfnText": "block axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-block-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-block-axis\u2460" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-block-axis\u2461" }, { "id": "ref-for-block-axis\u2462" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-block-axis\u2463" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-block-axis\u2464" }], "title": "9. \nGraceful Degradation" }, { "refs": [{ "id": "ref-for-block-axis\u2465" }, { "id": "ref-for-block-axis\u2466" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#block-axis" },
                "ba30fc9a": { "dfnID": "ba30fc9a", "dfnText": "grid item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-item" }, { "id": "ref-for-grid-item\u2460" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-grid-item\u2461" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-grid-item\u2462" }], "title": "4.4.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-grid-item\u2463" }, { "id": "ref-for-grid-item\u2464" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-grid-item\u2465" }, { "id": "ref-for-grid-item\u2466" }], "title": "6.1. \nBaseline Alignment" }, { "refs": [{ "id": "ref-for-grid-item\u2467" }], "title": "7.1. \nFragmentation in the stacking axis" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-item" },
                "bbc693a1": { "dfnID": "bbc693a1", "dfnText": "subgrid", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-subgrid" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-subgrid\u2460" }, { "id": "ref-for-subgrid\u2461" }, { "id": "ref-for-subgrid\u2462" }], "title": "3.2. \nSubgrids" }], "url": "https://www.w3.org/TR/css-grid-2/#subgrid" },
                "bdee6ddc": { "dfnID": "bdee6ddc", "dfnText": "automatic grid position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-automatic-grid-position" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2460" }, { "id": "ref-for-automatic-grid-position\u2461" }], "title": "3.4. \nGrid Axis Track Sizing" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2462" }, { "id": "ref-for-automatic-grid-position\u2463" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2464" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2465" }], "title": "4. \nMasonry Placement" }], "url": "https://www.w3.org/TR/css-grid-2/#automatic-grid-position" },
                "c1c732b9": { "dfnID": "c1c732b9", "dfnText": "available space", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-available" }], "title": "3. \nMasonry Track Specification" }], "url": "https://www.w3.org/TR/css-sizing-3/#available" },
                "cc7f0a64": { "dfnID": "cc7f0a64", "dfnText": "flex container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-flex-container" }, { "id": "ref-for-flex-container\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-flex-container\u2461" }, { "id": "ref-for-flex-container\u2462" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-flex-container\u2463" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-flexbox-1/#flex-container" },
                "column-masonry-container": { "dfnID": "column-masonry-container", "dfnText": "column masonry container", "external": false, "refSections": [], "url": "#column-masonry-container" },
                "d911d74f": { "dfnID": "d911d74f", "dfnText": "definite grid position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-definite-grid-position" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-definite-grid-position\u2460" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-definite-grid-position\u2461" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-grid-2/#definite-grid-position" },
                "da3291f7": { "dfnID": "da3291f7", "dfnText": "auto-fill", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-repeat-auto-fill" }, { "id": "ref-for-valdef-repeat-auto-fill\u2460" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-valdef-repeat-auto-fill\u2461" }, { "id": "ref-for-valdef-repeat-auto-fill\u2462" }], "title": "3.3.2. \nrepeat(auto-fit)" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill" },
                "da7c24e2": { "dfnID": "da7c24e2", "dfnText": "distributed alignment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-distributed-alignment" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#distributed-alignment" },
                "db4ae04f": { "dfnID": "db4ae04f", "dfnText": "grid layout", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-layout" }, { "id": "ref-for-grid-layout\u2460" }], "title": "1.1.2. \nOne-dimensional Grid Layout" }, { "refs": [{ "id": "ref-for-grid-layout\u2461" }, { "id": "ref-for-grid-layout\u2462" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-grid-layout\u2463" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-grid-layout\u2464" }, { "id": "ref-for-grid-layout\u2465" }, { "id": "ref-for-grid-layout\u2466" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-grid-layout\u2467" }], "title": "4.1. \nSpecifying Masonry Item Placement: the grid-column-* and grid-row-* properties" }, { "refs": [{ "id": "ref-for-grid-layout\u2468" }], "title": "4.3. \nDense Placement: the dense keyword" }, { "refs": [{ "id": "ref-for-grid-layout\u2460\u24ea" }], "title": "4.4.2. \nPlacement and Writing Modes" }, { "refs": [{ "id": "ref-for-grid-layout\u2460\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-grid-layout\u2460\u2461" }, { "id": "ref-for-grid-layout\u2460\u2462" }, { "id": "ref-for-grid-layout\u2460\u2463" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-layout" },
                "dc2ecc7a": { "dfnID": "dc2ecc7a", "dfnText": "alignment subject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-alignment-subject" }, { "id": "ref-for-alignment-subject\u2460" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#alignment-subject" },
                "de6bd31b": { "dfnID": "de6bd31b", "dfnText": "justify-content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-justify-content" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#propdef-justify-content" },
                "df72a52c": { "dfnID": "df72a52c", "dfnText": "grid container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-container" }, { "id": "ref-for-grid-container\u2460" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-grid-container\u2461" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-grid-container\u2462" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-grid-container\u2463" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-grid-container\u2464" }], "title": "3.3.1. \nrepeat(auto-areas)" }, { "refs": [{ "id": "ref-for-grid-container\u2465" }], "title": "3.3.2. \nrepeat(auto-fit)" }, { "refs": [{ "id": "ref-for-grid-container\u2466" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-grid-container\u2467" }], "title": "4.4.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-grid-container\u2468" }, { "id": "ref-for-grid-container\u2460\u24ea" }, { "id": "ref-for-grid-container\u2460\u2460" }], "title": "5. \nSizing Grid Containers" }, { "refs": [{ "id": "ref-for-grid-container\u2460\u2461" }, { "id": "ref-for-grid-container\u2460\u2462" }, { "id": "ref-for-grid-container\u2460\u2463" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-grid-container\u2460\u2464" }, { "id": "ref-for-grid-container\u2460\u2465" }, { "id": "ref-for-grid-container\u2460\u2466" }, { "id": "ref-for-grid-container\u2460\u2467" }], "title": "6.1. \nBaseline Alignment" }, { "refs": [{ "id": "ref-for-grid-container\u2460\u2468" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u24ea" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2460" }], "title": "8. \nAbsolute Positioning" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2461" }, { "id": "ref-for-grid-container\u2461\u2462" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2463" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2464" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-container" },
                "e8c16097": { "dfnID": "e8c16097", "dfnText": "display", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-display" }, { "id": "ref-for-propdef-display\u2460" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-propdef-display\u2461" }], "title": "\nRecent Changes" }], "url": "https://www.w3.org/TR/css-display-4/#propdef-display" },
                "eb6008ce": { "dfnID": "eb6008ce", "dfnText": "writing mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writing-mode" }], "title": "4.4.2. \nPlacement and Writing Modes" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#writing-mode" },
                "ec67a9e7": { "dfnID": "ec67a9e7", "dfnText": "stretch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-align-content-stretch" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch" },
                "f72f5cb4": { "dfnID": "f72f5cb4", "dfnText": "content box", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-content-box" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-content-box\u2460" }], "title": "4.4.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-content-box\u2461" }, { "id": "ref-for-content-box\u2462" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-box-4/#content-box" },
                "f9ff3d86": { "dfnID": "f9ff3d86", "dfnText": "min-content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-grid-template-columns-min-content" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-min-content" },
                "fb688f4f": { "dfnID": "fb688f4f", "dfnText": "direction", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-direction" }, { "id": "ref-for-propdef-direction\u2460" }, { "id": "ref-for-propdef-direction\u2461" }, { "id": "ref-for-propdef-direction\u2462" }, { "id": "ref-for-propdef-direction\u2463" }], "title": "4.4.2. \nPlacement and Writing Modes" }], "url": "https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" },
                "fde954ee": { "dfnID": "fde954ee", "dfnText": "align-content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-align-content" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#propdef-align-content" },
                "fdfd719c": { "dfnID": "fdfd719c", "dfnText": "definite position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-definite-grid-position" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-definite-grid-position\u2460" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-definite-grid-position\u2461" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-grid-2/#definite-grid-position" },
                "grid-axis": { "dfnID": "grid-axis", "dfnText": "grid axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-grid-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-grid-axis\u2460" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-grid-axis\u2461" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-grid-axis\u2462" }, { "id": "ref-for-grid-axis\u2463" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-grid-axis\u2464" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-grid-axis\u2465" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-grid-axis\u2466" }, { "id": "ref-for-grid-axis\u2467" }, { "id": "ref-for-grid-axis\u2468" }], "title": "3.4. \nGrid Axis Track Sizing" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u24ea" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u2460" }], "title": "4. \nMasonry Placement" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u2461" }], "title": "4.1. \nSpecifying Masonry Item Placement: the grid-column-* and grid-row-* properties" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u2462" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u2463" }, { "id": "ref-for-grid-axis\u2460\u2464" }, { "id": "ref-for-grid-axis\u2460\u2465" }, { "id": "ref-for-grid-axis\u2460\u2466" }, { "id": "ref-for-grid-axis\u2460\u2467" }, { "id": "ref-for-grid-axis\u2460\u2468" }, { "id": "ref-for-grid-axis\u2461\u24ea" }, { "id": "ref-for-grid-axis\u2461\u2460" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2461" }], "title": "4.4.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2462" }, { "id": "ref-for-grid-axis\u2461\u2463" }], "title": "4.4.2. \nPlacement and Writing Modes" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2464" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2465" }], "title": "6.1. \nBaseline Alignment" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2466" }, { "id": "ref-for-grid-axis\u2461\u2467" }, { "id": "ref-for-grid-axis\u2461\u2468" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-grid-axis\u2462\u24ea" }, { "id": "ref-for-grid-axis\u2462\u2460" }, { "id": "ref-for-grid-axis\u2462\u2461" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-grid-axis\u2462\u2462" }], "title": "8. \nAbsolute Positioning" }], "url": "#grid-axis" },
                "item-groups": { "dfnID": "item-groups", "dfnText": "item groups", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-item-groups" }], "title": "3.4.2. \nOptimized Track Sizing" }], "url": "#item-groups" },
                "masonry-box": { "dfnID": "masonry-box", "dfnText": "masonry box", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-box" }], "title": "5. \nSizing Grid Containers" }, { "refs": [{ "id": "ref-for-masonry-box\u2460" }, { "id": "ref-for-masonry-box\u2461" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-masonry-box\u2462" }, { "id": "ref-for-masonry-box\u2463" }], "title": "8. \nAbsolute Positioning" }], "url": "#masonry-box" },
                "masonry-container": { "dfnID": "masonry-container", "dfnText": "masonry container", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-container" }], "title": "1.1.1. \nWaterfall Layout with Auto-placed Items" }, { "refs": [{ "id": "ref-for-masonry-container\u2460" }], "title": "1.1.2. \nOne-dimensional Grid Layout" }, { "refs": [{ "id": "ref-for-masonry-container\u2461" }, { "id": "ref-for-masonry-container\u2462" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-masonry-container\u2463" }, { "id": "ref-for-masonry-container\u2464" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-masonry-container\u2465" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-masonry-container\u2466" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-masonry-container\u2467" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-masonry-container\u2468" }, { "id": "ref-for-masonry-container\u2460\u24ea" }, { "id": "ref-for-masonry-container\u2460\u2460" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2461" }], "title": "3.3.1. \nrepeat(auto-areas)" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2462" }, { "id": "ref-for-masonry-container\u2460\u2463" }], "title": "3.3.2. \nrepeat(auto-fit)" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2464" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2465" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2466" }, { "id": "ref-for-masonry-container\u2460\u2467" }, { "id": "ref-for-masonry-container\u2460\u2468" }, { "id": "ref-for-masonry-container\u2461\u24ea" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-masonry-container\u2461\u2460" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }, { "refs": [{ "id": "ref-for-masonry-container\u2461\u2461" }], "title": "8. \nAbsolute Positioning" }, { "refs": [{ "id": "ref-for-masonry-container\u2461\u2462" }, { "id": "ref-for-masonry-container\u2461\u2463" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-masonry-container\u2461\u2464" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-masonry-container\u2461\u2465" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "#masonry-container" },
                "masonry-item": { "dfnID": "masonry-item", "dfnText": "masonry items", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-item" }, { "id": "ref-for-masonry-item\u2460" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-masonry-item\u2461" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-masonry-item\u2462" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }], "url": "#masonry-item" },
                "masonry-layout": { "dfnID": "masonry-layout", "dfnText": "Masonry layout", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-layout" }, { "id": "ref-for-masonry-layout\u2460" }], "title": "1.1.1. \nWaterfall Layout with Auto-placed Items" }, { "refs": [{ "id": "ref-for-masonry-layout\u2461" }, { "id": "ref-for-masonry-layout\u2462" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-masonry-layout\u2463" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-masonry-layout\u2464" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-masonry-layout\u2465" }, { "id": "ref-for-masonry-layout\u2466" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-masonry-layout\u2467" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-masonry-layout\u2468" }], "title": "4.4.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u24ea" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u2460" }, { "id": "ref-for-masonry-layout\u2460\u2461" }, { "id": "ref-for-masonry-layout\u2460\u2462" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u2463" }, { "id": "ref-for-masonry-layout\u2460\u2464" }, { "id": "ref-for-masonry-layout\u2460\u2465" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u2466" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u2467" }], "title": "\nItem Placement Packing Mode: the item-pack property" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u2468" }], "title": "\nAdditions Since Level 2" }, { "refs": [{ "id": "ref-for-masonry-layout\u2461\u24ea" }, { "id": "ref-for-masonry-layout\u2461\u2460" }], "title": "\nRecent Changes" }], "url": "#masonry-layout" },
                "masonry-tie-threshold": { "dfnID": "masonry-tie-threshold", "dfnText": "tie threshold", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-tie-threshold" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-masonry-tie-threshold\u2460" }, { "id": "ref-for-masonry-tie-threshold\u2461" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "#masonry-tie-threshold" },
                "masonry-track": { "dfnID": "masonry-track", "dfnText": "masonry tracks", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-track" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }], "url": "#masonry-track" },
                "primary-axis": { "dfnID": "primary-axis", "dfnText": "primary axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-primary-axis" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#primary-axis" },
                "primary-placement-axis": { "dfnID": "primary-placement-axis", "dfnText": "primary placement axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-primary-placement-axis" }, { "id": "ref-for-primary-placement-axis\u2460" }, { "id": "ref-for-primary-placement-axis\u2461" }, { "id": "ref-for-primary-placement-axis\u2462" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#primary-placement-axis" },
                "primary-track-axis": { "dfnID": "primary-track-axis", "dfnText": "primary track axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-primary-track-axis" }, { "id": "ref-for-primary-track-axis\u2460" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#primary-track-axis" },
                "propdef-item-cross": { "dfnID": "propdef-item-cross", "dfnText": "item-cross", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-cross" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-cross\u2460" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#propdef-item-cross" },
                "propdef-item-direction": { "dfnID": "propdef-item-direction", "dfnText": "item-direction", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-direction" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-direction\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-propdef-item-direction\u2461" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-propdef-item-direction\u2462" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "#propdef-item-direction" },
                "propdef-item-flow": { "dfnID": "propdef-item-flow", "dfnText": "item-flow", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-flow" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }, { "refs": [{ "id": "ref-for-propdef-item-flow\u2460" }], "title": "\nAdditions Since Level 2" }, { "refs": [{ "id": "ref-for-propdef-item-flow\u2461" }], "title": "\nRecent Changes" }], "url": "#propdef-item-flow" },
                "propdef-item-pack": { "dfnID": "propdef-item-pack", "dfnText": "item-pack", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-pack" }, { "id": "ref-for-propdef-item-pack\u2460" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-pack\u2461" }, { "id": "ref-for-propdef-item-pack\u2462" }], "title": "\nItem Placement Packing Mode: the item-pack property" }, { "refs": [{ "id": "ref-for-propdef-item-pack\u2463" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "#propdef-item-pack" },
                "propdef-item-tolerance": { "dfnID": "propdef-item-tolerance", "dfnText": "item-tolerance", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-tolerance" }, { "id": "ref-for-propdef-item-tolerance\u2460" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-propdef-item-tolerance\u2461" }, { "id": "ref-for-propdef-item-tolerance\u2462" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-propdef-item-tolerance\u2463" }, { "id": "ref-for-propdef-item-tolerance\u2464" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-tolerance\u2465" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }, { "refs": [{ "id": "ref-for-propdef-item-tolerance\u2466" }], "title": "\nRecent Changes" }], "url": "#propdef-item-tolerance" },
                "propdef-item-track": { "dfnID": "propdef-item-track", "dfnText": "item-track", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-track" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-track\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-propdef-item-track\u2461" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#propdef-item-track" },
                "propdef-item-wrap": { "dfnID": "propdef-item-wrap", "dfnText": "item-wrap", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-wrap" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-wrap\u2460" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-propdef-item-wrap\u2461" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "#propdef-item-wrap" },
                "row-masonry-container": { "dfnID": "row-masonry-container", "dfnText": "row masonry container", "external": false, "refSections": [], "url": "#row-masonry-container" },
                "running-position": { "dfnID": "running-position", "dfnText": "running position", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-running-position" }, { "id": "ref-for-running-position\u2460" }, { "id": "ref-for-running-position\u2461" }, { "id": "ref-for-running-position\u2462" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }, { "refs": [{ "id": "ref-for-running-position\u2463" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-running-position\u2464" }], "title": "8. \nAbsolute Positioning" }], "url": "#running-position" },
                "stacking-axis": { "dfnID": "stacking-axis", "dfnText": "stacking axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-stacking-axis" }, { "id": "ref-for-stacking-axis\u2460" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-stacking-axis\u2461" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-stacking-axis\u2462" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-stacking-axis\u2463" }, { "id": "ref-for-stacking-axis\u2464" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-stacking-axis\u2465" }], "title": "4.2. \nPlacement Precision: the item-tolerance property" }, { "refs": [{ "id": "ref-for-stacking-axis\u2466" }], "title": "4.4.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-stacking-axis\u2467" }, { "id": "ref-for-stacking-axis\u2468" }], "title": "4.4.2. \nPlacement and Writing Modes" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u24ea" }, { "id": "ref-for-stacking-axis\u2460\u2460" }], "title": "5. \nSizing Grid Containers" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2461" }, { "id": "ref-for-stacking-axis\u2460\u2462" }, { "id": "ref-for-stacking-axis\u2460\u2463" }, { "id": "ref-for-stacking-axis\u2460\u2464" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2465" }], "title": "6.1. \nBaseline Alignment" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2466" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2467" }, { "id": "ref-for-stacking-axis\u2460\u2468" }], "title": "8. \nAbsolute Positioning" }], "url": "#stacking-axis" },
                "submasonry": { "dfnID": "submasonry", "dfnText": "submasonry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-submasonry" }, { "id": "ref-for-submasonry\u2460" }], "title": "3.4.1. \nSubgrid Item Contributions" }], "url": "#submasonry" },
                "valdef-display-something": { "dfnID": "valdef-display-something", "dfnText": "something", "external": false, "refSections": [], "url": "#valdef-display-something" },
                "valdef-item-direction-auto": { "dfnID": "valdef-item-direction-auto", "dfnText": "auto", "external": false, "refSections": [], "url": "#valdef-item-direction-auto" },
                "valdef-item-direction-column": { "dfnID": "valdef-item-direction-column", "dfnText": "column", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-direction-column" }, { "id": "ref-for-valdef-item-direction-column\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "#valdef-item-direction-column" },
                "valdef-item-direction-column-reverse": { "dfnID": "valdef-item-direction-column-reverse", "dfnText": "column-reverse", "external": false, "refSections": [], "url": "#valdef-item-direction-column-reverse" },
                "valdef-item-direction-row": { "dfnID": "valdef-item-direction-row", "dfnText": "row", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-direction-row" }, { "id": "ref-for-valdef-item-direction-row\u2460" }, { "id": "ref-for-valdef-item-direction-row\u2461" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "#valdef-item-direction-row" },
                "valdef-item-direction-row-reverse": { "dfnID": "valdef-item-direction-row-reverse", "dfnText": "row-reverse", "external": false, "refSections": [], "url": "#valdef-item-direction-row-reverse" },
                "valdef-item-pack-balance": { "dfnID": "valdef-item-pack-balance", "dfnText": "balance", "external": false, "refSections": [], "url": "#valdef-item-pack-balance" },
                "valdef-item-pack-collapse": { "dfnID": "valdef-item-pack-collapse", "dfnText": "collapse", "external": false, "refSections": [], "url": "#valdef-item-pack-collapse" },
                "valdef-item-pack-dense": { "dfnID": "valdef-item-pack-dense", "dfnText": "dense", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-pack-dense" }, { "id": "ref-for-valdef-item-pack-dense\u2460" }], "title": "4.3. \nDense Placement: the dense keyword" }, { "refs": [{ "id": "ref-for-valdef-item-pack-dense\u2461" }, { "id": "ref-for-valdef-item-pack-dense\u2462" }], "title": "4.4. \nMasonry Layout and Placement Algorithm" }], "url": "#valdef-item-pack-dense" },
                "valdef-item-pack-normal": { "dfnID": "valdef-item-pack-normal", "dfnText": "normal", "external": false, "refSections": [], "url": "#valdef-item-pack-normal" },
                "valdef-item-slack-infinite": { "dfnID": "valdef-item-slack-infinite", "dfnText": "infinite", "external": false, "refSections": [], "url": "#valdef-item-slack-infinite" },
                "valdef-item-slack-length-percentage": { "dfnID": "valdef-item-slack-length-percentage", "dfnText": "<length-percentage>", "external": false, "refSections": [], "url": "#valdef-item-slack-length-percentage" },
                "valdef-item-slack-normal": { "dfnID": "valdef-item-slack-normal", "dfnText": "normal", "external": false, "refSections": [], "url": "#valdef-item-slack-normal" },
                "valdef-item-wrap-auto": { "dfnID": "valdef-item-wrap-auto", "dfnText": "auto", "external": false, "refSections": [], "url": "#valdef-item-wrap-auto" },
                "valdef-item-wrap-normal": { "dfnID": "valdef-item-wrap-normal", "dfnText": "normal", "external": false, "refSections": [], "url": "#valdef-item-wrap-normal" },
                "valdef-item-wrap-nowrap": { "dfnID": "valdef-item-wrap-nowrap", "dfnText": "nowrap", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-wrap-nowrap" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#valdef-item-wrap-nowrap" },
                "valdef-item-wrap-reverse": { "dfnID": "valdef-item-wrap-reverse", "dfnText": "reverse", "external": false, "refSections": [], "url": "#valdef-item-wrap-reverse" },
                "valdef-item-wrap-wrap": { "dfnID": "valdef-item-wrap-wrap", "dfnText": "wrap", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-wrap-wrap" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#valdef-item-wrap-wrap" },
                "valdef-item-wrap-wrap-reverse": { "dfnID": "valdef-item-wrap-wrap-reverse", "dfnText": "wrap-reverse", "external": false, "refSections": [], "url": "#valdef-item-wrap-wrap-reverse" },
                "valdef-repeat-auto-areas": { "dfnID": "valdef-repeat-auto-areas", "dfnText": "auto-areas", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-repeat-auto-areas" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "#valdef-repeat-auto-areas" },
                "virtual-masonry-item": { "dfnID": "virtual-masonry-item", "dfnText": "virtual masonry item", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-masonry-item" }, { "id": "ref-for-virtual-masonry-item\u2460" }], "title": "3.4.2. \nOptimized Track Sizing" }], "url": "#virtual-masonry-item" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#auto-placement-cursor": { "displayText": "auto-placement cursor", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "auto-placement cursor", "type": "dfn", "url": "#auto-placement-cursor" },
                "#grid-axis": { "displayText": "grid axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "grid axis", "type": "dfn", "url": "#grid-axis" },
                "#item-groups": { "displayText": "item groups", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item groups", "type": "dfn", "url": "#item-groups" },
                "#masonry-box": { "displayText": "masonry box", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry box", "type": "dfn", "url": "#masonry-box" },
                "#masonry-container": { "displayText": "masonry container", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry container", "type": "dfn", "url": "#masonry-container" },
                "#masonry-item": { "displayText": "masonry item", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry item", "type": "dfn", "url": "#masonry-item" },
                "#masonry-layout": { "displayText": "masonry layout", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry layout", "type": "dfn", "url": "#masonry-layout" },
                "#masonry-tie-threshold": { "displayText": "tie threshold", "export": true, "for_": ["masonry"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "tie threshold", "type": "dfn", "url": "#masonry-tie-threshold" },
                "#masonry-track": { "displayText": "masonry track", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry track", "type": "dfn", "url": "#masonry-track" },
                "#primary-axis": { "displayText": "primary axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "primary axis", "type": "dfn", "url": "#primary-axis" },
                "#primary-placement-axis": { "displayText": "primary placement axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "primary placement axis", "type": "dfn", "url": "#primary-placement-axis" },
                "#primary-track-axis": { "displayText": "primary track axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "primary track axis", "type": "dfn", "url": "#primary-track-axis" },
                "#propdef-item-cross": { "displayText": "item-cross", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-cross", "type": "property", "url": "#propdef-item-cross" },
                "#propdef-item-direction": { "displayText": "item-direction", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-direction", "type": "property", "url": "#propdef-item-direction" },
                "#propdef-item-flow": { "displayText": "item-flow", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-flow", "type": "property", "url": "#propdef-item-flow" },
                "#propdef-item-pack": { "displayText": "item-pack", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-pack", "type": "property", "url": "#propdef-item-pack" },
                "#propdef-item-tolerance": { "displayText": "item-tolerance", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-tolerance", "type": "property", "url": "#propdef-item-tolerance" },
                "#propdef-item-track": { "displayText": "item-track", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-track", "type": "property", "url": "#propdef-item-track" },
                "#propdef-item-wrap": { "displayText": "item-wrap", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-wrap", "type": "property", "url": "#propdef-item-wrap" },
                "#running-position": { "displayText": "running position", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "running position", "type": "dfn", "url": "#running-position" },
                "#stacking-axis": { "displayText": "stacking axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "stacking axis", "type": "dfn", "url": "#stacking-axis" },
                "#submasonry": { "displayText": "submasonry", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "submasonry", "type": "dfn", "url": "#submasonry" },
                "#valdef-item-direction-column": { "displayText": "column", "export": true, "for_": ["item-direction", "item-track"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "column", "type": "value", "url": "#valdef-item-direction-column" },
                "#valdef-item-direction-row": { "displayText": "row", "export": true, "for_": ["item-direction", "item-track"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "row", "type": "value", "url": "#valdef-item-direction-row" },
                "#valdef-item-pack-dense": { "displayText": "dense", "export": true, "for_": ["item-pack"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "dense", "type": "value", "url": "#valdef-item-pack-dense" },
                "#valdef-item-wrap-nowrap": { "displayText": "nowrap", "export": true, "for_": ["item-cross", "item-wrap"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "nowrap", "type": "value", "url": "#valdef-item-wrap-nowrap" },
                "#valdef-item-wrap-wrap": { "displayText": "wrap", "export": true, "for_": ["item-cross", "item-wrap"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "wrap", "type": "value", "url": "#valdef-item-wrap-wrap" },
                "#valdef-repeat-auto-areas": { "displayText": "auto-areas", "export": true, "for_": ["repeat()"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "auto-areas", "type": "value", "url": "#valdef-repeat-auto-areas" },
                "#virtual-masonry-item": { "displayText": "virtual masonry item", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "virtual masonry item", "type": "dfn", "url": "#virtual-masonry-item" },
                "https://www.w3.org/TR/css-align-3/#alignment-baseline": { "displayText": "alignment baseline", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "alignment baseline", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#alignment-baseline" },
                "https://www.w3.org/TR/css-align-3/#alignment-subject": { "displayText": "alignment subject", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "alignment subject", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#alignment-subject" },
                "https://www.w3.org/TR/css-align-3/#baseline-alignment": { "displayText": "baseline alignment", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "baseline alignment", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#baseline-alignment" },
                "https://www.w3.org/TR/css-align-3/#baseline-sharing-group": { "displayText": "baseline-sharing group", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "baseline-sharing group", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#baseline-sharing-group" },
                "https://www.w3.org/TR/css-align-3/#distributed-alignment": { "displayText": "distributed alignment", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "distributed alignment", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#distributed-alignment" },
                "https://www.w3.org/TR/css-align-3/#fallback-alignment": { "displayText": "fallback alignment", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "fallback alignment", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#fallback-alignment" },
                "https://www.w3.org/TR/css-align-3/#propdef-align-content": { "displayText": "align-content", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "align-content", "type": "property", "url": "https://www.w3.org/TR/css-align-3/#propdef-align-content" },
                "https://www.w3.org/TR/css-align-3/#propdef-grid-gap": { "displayText": "grid-gap", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "grid-gap", "type": "property", "url": "https://www.w3.org/TR/css-align-3/#propdef-grid-gap" },
                "https://www.w3.org/TR/css-align-3/#propdef-justify-content": { "displayText": "justify-content", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "justify-content", "type": "property", "url": "https://www.w3.org/TR/css-align-3/#propdef-justify-content" },
                "https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch": { "displayText": "stretch", "export": true, "for_": ["align-content", "justify-content", "<content-distribution>"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "stretch", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch" },
                "https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal": { "displayText": "normal", "export": true, "for_": ["justify-content", "align-content"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "normal", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal" },
                "https://www.w3.org/TR/css-align-3/#valdef-self-position-center": { "displayText": "center", "export": true, "for_": ["<self-position>", "<content-position>", "justify-self", "align-self", "justify-content", "align-content"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "center", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-center" },
                "https://www.w3.org/TR/css-align-3/#valdef-self-position-end": { "displayText": "end", "export": true, "for_": ["<self-position>", "<content-position>", "justify-self", "align-self", "justify-content", "align-content"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "end", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-end" },
                "https://www.w3.org/TR/css-align-3/#valdef-self-position-start": { "displayText": "start", "export": true, "for_": ["<self-position>", "<content-position>", "justify-self", "align-self", "justify-content", "align-content"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "start", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-start" },
                "https://www.w3.org/TR/css-box-4/#content-box": { "displayText": "content box", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-box", "spec": "css-box-4", "status": "snapshot", "text": "content box", "type": "dfn", "url": "https://www.w3.org/TR/css-box-4/#content-box" },
                "https://www.w3.org/TR/css-box-4/#margin-box": { "displayText": "margin box", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-box", "spec": "css-box-4", "status": "snapshot", "text": "margin box", "type": "dfn", "url": "https://www.w3.org/TR/css-box-4/#margin-box" },
                "https://www.w3.org/TR/css-break-4/#forced-break": { "displayText": "forced break", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-break", "spec": "css-break-4", "status": "snapshot", "text": "forced break", "type": "dfn", "url": "https://www.w3.org/TR/css-break-4/#forced-break" },
                "https://www.w3.org/TR/css-break-4/#fragmentainer": { "displayText": "fragmentainer", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-break", "spec": "css-break-4", "status": "snapshot", "text": "fragmentainer", "type": "dfn", "url": "https://www.w3.org/TR/css-break-4/#fragmentainer" },
                "https://www.w3.org/TR/css-cascade-5/#longhand": { "displayText": "longhand property", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "longhand property", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#longhand" },
                "https://www.w3.org/TR/css-cascade-5/#shorthand-property": { "displayText": "shorthand property", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "shorthand property", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#shorthand-property" },
                "https://www.w3.org/TR/css-cascade-5/#used-value": { "displayText": "used value", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "used value", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#used-value" },
                "https://www.w3.org/TR/css-display-4/#blockify": { "displayText": "blockify", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "snapshot", "text": "blockify", "type": "dfn", "url": "https://www.w3.org/TR/css-display-4/#blockify" },
                "https://www.w3.org/TR/css-display-4/#containing-block": { "displayText": "containing block", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "snapshot", "text": "containing block", "type": "dfn", "url": "https://www.w3.org/TR/css-display-4/#containing-block" },
                "https://www.w3.org/TR/css-display-4/#independent-formatting-context": { "displayText": "independent formatting context", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "snapshot", "text": "independent formatting context", "type": "dfn", "url": "https://www.w3.org/TR/css-display-4/#independent-formatting-context" },
                "https://www.w3.org/TR/css-display-4/#propdef-display": { "displayText": "display", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "snapshot", "text": "display", "type": "property", "url": "https://www.w3.org/TR/css-display-4/#propdef-display" },
                "https://www.w3.org/TR/css-display-4/#propdef-reading-flow": { "displayText": "reading-flow", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "snapshot", "text": "reading-flow", "type": "property", "url": "https://www.w3.org/TR/css-display-4/#propdef-reading-flow" },
                "https://www.w3.org/TR/css-display-4/#valdef-display-grid": { "displayText": "grid", "export": true, "for_": ["display", "<display-inside>"], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "snapshot", "text": "grid", "type": "value", "url": "https://www.w3.org/TR/css-display-4/#valdef-display-grid" },
                "https://www.w3.org/TR/css-flexbox-1/#flex-container": { "displayText": "flex container", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "flex container", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#flex-container" },
                "https://www.w3.org/TR/css-flexbox-1/#flex-layout": { "displayText": "flex layout", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "flex layout", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#flex-layout" },
                "https://www.w3.org/TR/css-flexbox-1/#multi-line-flex-container": { "displayText": "multi-line flex container", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "multi-line flex container", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#multi-line-flex-container" },
                "https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order": { "displayText": "order-modified document order", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "order-modified document order", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order" },
                "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow": { "displayText": "flex-flow", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "flex-flow", "type": "property", "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow" },
                "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-wrap": { "displayText": "flex-wrap", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "flex-wrap", "type": "property", "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-wrap" },
                "https://www.w3.org/TR/css-flexbox-1/#propdef-order": { "displayText": "order", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "order", "type": "property", "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-order" },
                "https://www.w3.org/TR/css-flexbox-1/#single-line-flex-container": { "displayText": "single-line flex container", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "single-line flex container", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#single-line-flex-container" },
                "https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat": { "displayText": "repeat()", "export": true, "for_": ["<repeat-line-color>", "<auto-repeat-line-color>", "<repeat-line-style>", "<auto-repeat-line-style>", "<repeat-line-width>", "<auto-repeat-line-width>"], "level": "1", "normative": true, "shortname": "css-gaps", "spec": "css-gaps-1", "status": "snapshot", "text": "repeat()", "type": "function", "url": "https://www.w3.org/TR/css-gaps-1/#funcdef-repeat-line-color-repeat" },
                "https://www.w3.org/TR/css-grid-2/#automatic-grid-position": { "displayText": "automatic position", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "automatic position", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#automatic-grid-position" },
                "https://www.w3.org/TR/css-grid-2/#collapsed-grid-track": { "displayText": "collapsed grid track", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "collapsed grid track", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#collapsed-grid-track" },
                "https://www.w3.org/TR/css-grid-2/#definite-grid-position": { "displayText": "definite position", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "definite position", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#definite-grid-position" },
                "https://www.w3.org/TR/css-grid-2/#explicit-grid": { "displayText": "explicit grid", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "explicit grid", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#explicit-grid" },
                "https://www.w3.org/TR/css-grid-2/#grid-area": { "displayText": "grid area", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid area", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-area" },
                "https://www.w3.org/TR/css-grid-2/#grid-container": { "displayText": "grid container", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid container", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-container" },
                "https://www.w3.org/TR/css-grid-2/#grid-item": { "displayText": "grid item", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid item", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-item" },
                "https://www.w3.org/TR/css-grid-2/#grid-layout": { "displayText": "grid layout", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid layout", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-layout" },
                "https://www.w3.org/TR/css-grid-2/#grid-placement-property": { "displayText": "grid-placement property", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-placement property", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-placement-property" },
                "https://www.w3.org/TR/css-grid-2/#grid-track": { "displayText": "grid track", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid track", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-track" },
                "https://www.w3.org/TR/css-grid-2/#implicit-grid": { "displayText": "implicit grid", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "implicit grid", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#implicit-grid" },
                "https://www.w3.org/TR/css-grid-2/#implicit-grid-track": { "displayText": "implicit grid track", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "implicit grid track", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#implicit-grid-track" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns": { "displayText": "grid-auto-columns", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-auto-columns", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-flow": { "displayText": "grid-auto-flow", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-auto-flow", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-flow" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows": { "displayText": "grid-auto-rows", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-auto-rows", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas": { "displayText": "grid-template-areas", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-template-areas", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns": { "displayText": "grid-template-columns", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-template-columns", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows": { "displayText": "grid-template-rows", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-template-rows", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows" },
                "https://www.w3.org/TR/css-grid-2/#subgrid": { "displayText": "subgrid", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "subgrid", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#subgrid" },
                "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-areas-none": { "displayText": "none", "export": true, "for_": ["grid-template-areas"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-areas-none" },
                "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto": { "displayText": "auto", "export": true, "for_": ["grid-template-columns", "grid-template-rows"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "auto", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto" },
                "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-min-content": { "displayText": "min-content", "export": true, "for_": ["grid-template-columns", "grid-template-rows"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "min-content", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-min-content" },
                "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-rows-none": { "displayText": "none", "export": true, "for_": ["grid-template-rows", "grid-template-columns"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-rows-none" },
                "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill": { "displayText": "auto-fill", "export": true, "for_": ["repeat()"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "auto-fill", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill" },
                "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit": { "displayText": "auto-fit", "export": true, "for_": ["repeat()"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "auto-fit", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit" },
                "https://www.w3.org/TR/css-sizing-3/#available": { "displayText": "available space", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "available space", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#available" },
                "https://www.w3.org/TR/css-sizing-3/#max-content": { "displayText": "max-content size", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "max-content size", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#max-content" },
                "https://www.w3.org/TR/css-sizing-3/#max-content-constraint": { "displayText": "max-content constraint", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "max-content constraint", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#max-content-constraint" },
                "https://www.w3.org/TR/css-sizing-3/#min-content": { "displayText": "min-content size", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "min-content size", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#min-content" },
                "https://www.w3.org/TR/css-sizing-3/#min-content-constraint": { "displayText": "min-content constraint", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "min-content constraint", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#min-content-constraint" },
                "https://www.w3.org/TR/css-sizing-3/#outer-size": { "displayText": "outer size", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "outer size", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#outer-size" },
                "https://www.w3.org/TR/css-text-4/#propdef-text-wrap-style": { "displayText": "text-wrap-style", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-text", "spec": "css-text-4", "status": "snapshot", "text": "text-wrap-style", "type": "property", "url": "https://www.w3.org/TR/css-text-4/#propdef-text-wrap-style" },
                "https://www.w3.org/TR/css-values-4/#comb-any": { "displayText": "||", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "||", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-any" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "displayText": "|", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-values-4/#css-wide-keywords": { "displayText": "CSS-wide keywords", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "css-wide keywords", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#css-wide-keywords" },
                "https://www.w3.org/TR/css-values-4/#typedef-length-percentage": { "displayText": "<length-percentage>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<length-percentage>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-length-percentage" },
                "https://www.w3.org/TR/css-writing-modes-3/#propdef-direction": { "displayText": "direction", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-3", "status": "snapshot", "text": "direction", "type": "property", "url": "https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" },
                "https://www.w3.org/TR/css-writing-modes-4/#block-axis": { "displayText": "block axis", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "block axis", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#block-axis" },
                "https://www.w3.org/TR/css-writing-modes-4/#inline-axis": { "displayText": "inline axis", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "inline axis", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-axis" },
                "https://www.w3.org/TR/css-writing-modes-4/#start": { "displayText": "start", "export": true, "for_": ["CSS"], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "start", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#start" },
                "https://www.w3.org/TR/css-writing-modes-4/#writing-mode": { "displayText": "writing mode", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "writing mode", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#writing-mode" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script src="/dropdown.js"></script>