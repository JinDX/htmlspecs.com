<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>CSS 网格布局模块第 3 级</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version 73459e519, updated Fri Feb 7 15:39:03 2025 -0800" name="generator">
    <link href="https://www.w3.org/TR/css-grid-3/" rel="canonical">
    <meta content="916308452cfa4b3f70d97ae16374fd23c232d1bc" name="revision">
    <meta content="dark light" name="color-scheme">
    <style>
        :is(section, p).option {
            border-right: 1em double;
            padding-right: 1em;
        }

        :is(section, p).option.grid {
            border-right-color: #be2596;
        }

        :is(section, p).option.masonry {
            border-right-color: #96be25;
        }

        :is(span, a).option {
            font-weight: bold;
        }

        :is(span, a).option * {
            color: inherit;
        }

        :is(span, a).option.grid {
            color: #be2596;
        }

        :is(span, a).option.masonry {
            color: #658118
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">CSS 网格布局模块第 3 级</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#WD">W3C 工作草案</a>，<time class="dt-updated"
                datetime="2025-02-07">2025 年 2 月 7 日</time></p>
        <details open>
            <summary>关于本文件的更多详细信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本：
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2025/WD-css-grid-3-20250207/">https://www.w3.org/TR/2025/WD-css-grid-3-20250207/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/css-grid-3/">https://www.w3.org/TR/css-grid-3/</a>
                    <dt>编辑草案：
                    <dd><a href="https://drafts.csswg.org/css-grid-3/">https://drafts.csswg.org/css-grid-3/</a>
                    <dt>历史：
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/css-grid-3/">https://www.w3.org/standards/history/css-grid-3/</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-grid-3">CSSWG 问题库</a>
                    <dd><a href="#issues-index">文档内的问题</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url"
                            href="http://www.xanthir.com/contact/">Tab Atkins Jr.</a> (<span
                            class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url"
                            href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span
                            class="p-org org">Apple</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="52801"><a class="p-name fn u-url url"
                            href="http://jensimmons.com/">Jen Simmons</a> (<span class="p-org org">Apple</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="138640"><a class="p-name fn u-url url"
                            href="https://brandonstewart.net">Brandon Stewart</a> (<span class="p-org org">Apple</span>)
                    <dt class="editor">前任编辑：
                    <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                            href="mailto:mailto:mats@mozilla.com">Mats Palmgren</a> (<span
                            class="p-org org">Mozilla</span>)
                    <dt>建议编辑此规范：
                    <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-grid-3/Overview.bs">GitHub 编辑器</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="头部分隔线">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本模块引入了 masonry 布局作为 <a href="https://www.w3.org/TR/css-grid-2/">CSS 网格</a>容器的附加布局模式。</p>
        <a href="https://www.w3.org/TR/CSS/">CSS</a> 是一种描述结构化文档（如 HTML 和 XML）在屏幕、纸张等上呈现的语言。
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文件的状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。
                当前的 W3C 出版物列表以及本技术报告的最新修订版
                可以在 <a href="https://www.w3.org/TR/">W3C 技术报告索引 https://www.w3.org/TR/</a> 中找到。</em> </p>
        <p> 本文档由 <a href="https://www.w3.org/groups/wg/css">CSS 工作组</a>作为<strong>工作草案</strong>发布，
            采用<a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">推荐标准制定流程</a>。
            作为工作草案发布
            并不意味着 <abbr title="万维网联盟">W3C</abbr> 及其成员的认可。 </p>
        <p> 这是一份草案文件，
            可能随时被其他文件更新、替换
            或废弃。
            将本文档作为正在进行的工作以外的任何形式引用都是不合适的。 </p>
        <p>请通过在 <a href="https://github.com/w3c/csswg-drafts/issues">GitHub 中提交问题</a>（首选）发送反馈，
            并在标题中包含规范代码“css-grid”，格式如下：
            “[css-grid] <i>…评论摘要…</i>”。
            所有问题和评论都已<a href="https://lists.w3.org/Archives/Public/public-css-archive/">存档</a>。
            或者，反馈也可以发送到（<a href="https://lists.w3.org/Archives/Public/www-style/">已存档的</a>）公共邮件列表 <a
                href="mailto:www-style@w3.org?Subject=%5Bcss-grid%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>。 </p>
        <p>本文档受 <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">2023 年 11 月 3 日 W3C
                流程文档</a>的约束。 </p>
        <p>本文档由一个在 <a href="https://www.w3.org/policies/patent-policy/20200915/">W3C 专利政策</a>下运作的小组制定。
            W3C 维护一份与该小组交付成果相关的<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">任何专利披露的公开列表</a>；
            该页面还包含披露专利的说明。
            任何实际知晓某项专利包含其认为是<a href="https://www.w3.org/policies/patent-policy/20200915/#def-essential">必要权利要求</a>的个人，
            必须根据 <a href="https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure">W3C 专利政策第 6 条</a>披露该信息。
        </p>
        <p><strong>本规范代表了砌体式布局提案的两种变体。欢迎对这些替代方案提供反馈。</strong></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#intro"><span class="secno">1</span> <span class="content"> 介绍</span></a>
                <ol class="toc">
                    <li>
                        <a href="#background"><span class="secno">1.1</span> <span class="content"> 背景和动机</span></a>
                        <ol class="toc">
                            <li><a href="#waterfall"><span class="secno">1.1.1</span> <span class="content">
                                        自动放置项目的瀑布流布局</span></a>
                            </li>
                            <li><a href="#collapse"><span class="secno">1.1.2</span> <span class="content">
                                        一维网格布局</span></a>
                            </li>
                        </ol>
                    </li>
                    <li><a href="#values"><span class="secno">1.2</span> <span class="content"> 值定义</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#masonry-model"><span class="secno">2</span> <span class="content"> 砌体布局模型</span></a>
                <ol class="toc">
                    <li><a href="#order-accessibility"><span class="secno">2.1</span> <span class="content">
                                重新排序与可访问性</span></a>
                    </li>
                    <li><a href="#masonry-switch"><span class="secno">2.2</span> <span class="content">
                                建立砌体式布局</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#masonry-track-templates"><span class="secno">3</span> <span class="content">
                        砌体轨道规范</span></a>
                <ol class="toc">
                    <li>
                        <a href="#masonry-track-grid-option"><span class="secno">3.1</span> <span class="content">
                                声明砌体式轨道模板：<span class="css">grid-template-*</span> 属性</span></a>
                        <ol class="toc">
                            <li><a href="#masonry-intrinsic-repeat"><span class="secno">3.1.1</span> <span
                                        class="content"> 固有轨道和 repeat()</span></a>
                            </li>
                        </ol>
                    </li>
                    <li><a href="#subgrids"><span class="secno">3.2</span> <span class="content"> 子网格</span></a>
                    </li>
                    <li>
                        <a href="#repeat-notation"><span class="secno">3.3</span> <span class="content"> 轨道重复：<span
                                    class="css">repeat()</span> 表示法</span></a>
                        <ol class="toc">
                            <li><a href="#repeat-auto-areas"><span class="secno">3.3.1</span> <span class="content">
                                        repeat(auto-areas)</span></a>
                            </li>
                            <li><a href="#repeat-auto-fit"><span class="secno">3.3.2</span> <span class="content">
                                        repeat(auto-fit)</span></a>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <a href="#track-sizing"><span class="secno">3.4</span> <span class="content">
                                网格轴轨道尺寸调整</span></a>
                        <ol class="toc">
                            <li><a href="#track-sizing-subgrid"><span class="secno">3.4.1</span> <span class="content">
                                        子网格项目贡献</span></a>
                            </li>
                            <li><a href="#track-sizing-performance"><span class="secno">3.4.2</span> <span
                                        class="content"> 优化的轨道尺寸调整</span></a>
                            </li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#masonry-track-placement"><span class="secno">4</span> <span class="content"> 瀑布流布局</span></a>
                <ol class="toc">
                    <li><a href="#masonry-placement-grid-option"><span class="secno">4.1</span> <span class="content">
                                指定砌体项目放置：<span class="css">grid-column-*</span> 和 <span class="css">grid-row-*</span>
                                属性</span></a>
                    </li>
                    <li><a href="#item-slack"><span class="secno">4.2</span> <span class="content"> 放置精度：<span
                                    class="property">item-slack</span> 属性</span></a>
                    </li>
                    <li>
                        <a href="#masonry-layout-algorithm"><span class="secno">4.3</span> <span class="content">
                                砌体布局和放置算法</span></a>
                        <ol class="toc">
                            <li><a href="#containing-block"><span class="secno">4.3.1</span> <span class="content">
                                        包含块</span></a>
                            </li>
                            <li><a href="#rtl-example"><span class="secno">4.3.2</span> <span class="content">
                                        放置与书写模式</span></a>
                            </li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li><a href="#intrinsic-sizes"><span class="secno">5</span> <span class="content"> 网格容器的尺寸设置</span></a>
            </li>
            <li>
                <a href="#alignment"><span class="secno">6</span> <span class="content"> 对齐与间距</span></a>
                <ol class="toc">
                    <li><a href="#masonry-axis-baseline-alignment"><span class="secno">6.1</span> <span class="content">
                                堆叠轴中的基线对齐</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#pagination"><span class="secno">7</span> <span class="content"> 片段化</span></a>
                <ol class="toc">
                    <li><a href="#masonry-axis-pagination"><span class="secno">7.1</span> <span class="content">
                                堆叠轴中的片段化</span></a>
                    </li>
                    <li><a href="#grid-axis-pagination"><span class="secno">7.2</span> <span class="content">
                                网格轴中的片段化</span></a>
                    </li>
                </ol>
            </li>
            <li><a href="#abspos"><span class="secno">8</span> <span class="content"> 绝对定位</span></a>
            </li>
            <li><a href="#graceful-degradation"><span class="secno">9</span> <span class="content"> 优雅降级</span></a>
            </li>
            <li>
                <a href="#flow-control"><span class="secno"></span> <span class="content"> 附录 A：通用布局项目流控制：<span
                            class="css">item-*</span> 属性</span></a>
                <ol class="toc">
                    <li><a href="#item-primary-axis"><span class="secno"></span> <span class="content"> 项目流轴：<span
                                    class="property">item-track</span>/<span
                                    class="property">item-direction</span></span></a>
                    </li>
                    <li><a href="#item-secondary-axis"><span class="secno"></span> <span class="content">
                                项目交叉轴放置模式：<span class="property">item-cross</span>/<span
                                    class="property">item-wrap</span></span></a>
                    </li>
                    <li><a href="#item-pack-options"><span class="secno"></span> <span class="content"> 项目放置打包模式：<span
                                    class="property">item-pack</span> 属性</span></a>
                    </li>
                    <li><a href="#item-flow"><span class="secno"></span> <span class="content"> 项目放置简写：<span
                                    class="property">item-flow</span> 简写</span></a>
                    </li>
                </ol>
            </li>
            <li><a href="#acknowledgements"><span class="secno">10</span> <span class="content"> 致谢</span></a>
            </li>
            <li><a href="#security"><span class="secno">11</span> <span class="content"> 安全注意事项</span></a>
            </li>
            <li><a href="#privacy"><span class="secno">12</span> <span class="content"> 隐私注意事项</span></a>
            </li>
            <li>
                <a href="#changes"><span class="secno"></span> <span class="content"> 变更</span></a>
                <ol class="toc">
                    <li><a href="#changes-3"><span class="secno"></span> <span class="content"> 自级别 2 以来的新增内容</span></a>
                    </li>
                    <li><a href="#recent-changes"><span class="secno"></span> <span class="content"> 近期变更</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> 一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> 文档约定</span></a>
                    </li>
                    <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
                                一致性类别</span></a>
                    </li>
                    <li>
                        <a href="#w3c-partial"><span class="secno"></span> <span class="content"> 部分实现</span></a>
                        <ol class="toc">
                            <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span
                                        class="content"> 不稳定和专有功能的实现</span></a>
                            </li>
                        </ol>
                    </li>
                    <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> 非实验性实现</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    </li>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a>
                    </li>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">信息性参考文献</span></a>
                    </li>
                </ol>
            </li>
            <li><a href="#property-index"><span class="secno"></span> <span class="content">属性索引</span></a>
            </li>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
            </li>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">
                介绍</span><a class="self-link" href="#intro"></a></h2>
        <p><em>本节不是规范性内容。</em></p>
        <p>网格布局是一个强大的 CSS 布局模型，能够控制盒子及其内容的大小和定位。
            网格布局针对二维布局进行了优化：
            这些布局在两个维度上都希望内容对齐。</p>
        <figure>
            <img alt="网格布局示例：
		     两行项目，
		     第一行为四个项目——最后一个跨越两行，
		     第二行为两个项目——
		     第一个跨越前两列——
		     加上来自第一行的跨越项目。" height="70" src="https://www.w3.org/TR/css-grid-3/images/grid-layout.png" width="486">
            <figcaption>代表性的网格布局示例</figcaption>
        </figure>
        <p>尽管许多布局可以通过常规的网格布局表示，
            但在两个轴上限制项目到网格中也使得
            一些常见的网页布局无法实现。</p>
        <p>本模块定义了一种布局系统，消除了这一限制，
            使得项目可以仅在一个轴上放置到类似网格的轨道中，
            同时在另一个轴上一个接一个地堆叠它们。
            项目根据已放置项目的布局大小，
            被放置到具有最多剩余空间的列（或行）中。
            本模块还扩展了 <a href="https://www.w3.org/TR/css-grid-2/">CSS 网格</a>，引入了这种新的网格项目
            放置策略
            和 <a href="https://drafts.csswg.org/css-align">CSS 盒子对齐</a>，提供了新的对齐特性。</p>
        <h3 class="heading settled" data-level="1.1" id="background"><span class="secno">1.1. </span><span
                class="content"> 背景和动机</span><a class="self-link" href="#background"></a></h3>
        <h4 class="heading settled" data-level="1.1.1" id="waterfall"><span class="secno">1.1.1. </span><span
                class="content"> 自动放置项目的瀑布流布局</span><a class="self-link" href="#waterfall"></a></h4>
        <p><a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout">砖石布局</a>，有时也称为“瀑布布局”，
            是一种常见的网页设计模式，多个项目——
            通常是图像或短文章摘要——
            以一种松散地类似于石砌的方式，
            一个接一个地放置到列中。
            与 <a data-link-type="biblio" href="#biblio-css-multicol-1" title="CSS 多列布局模块第 1 版">多列布局</a>不同，
            在该布局中，内容垂直放置在第一列，
            直到必须溢出到第二列，<span id="ref-for-masonry-layout①">砖石布局</span>
            为每个新项目选择一列，
            使得它通常更靠近布局的顶部，而不是稍后放置的项目。</p>
        <div class="example" id="example-38d5cc14">
            <a class="self-link" href="#example-38d5cc14"></a> Pinterest 搜索结果页面就是这一布局的示例：
            <figure>
                <img alt="砖石布局示例：
			          四列项目，
			          每个项目被放置到当前高度最小的列中。" height="867" src="https://www.w3.org/TR/css-grid-3/images/pinterest.png" width="1105">
                <figcaption>代表性的砖石布局示例</figcaption>
            </figure>
            <p>在这里，每个项目的高度不同
                （取决于内容和列的宽度），
                检查 DOM 可以揭示
                （因为视觉内容本身没有排序的指示）
                每个项目已被放置到当前高度最小的列中。</p>
        </div>
        <p>这种布局表面上看起来类似于多列布局；
            但它的优势在于向下滚动
            自然会导致布局中的“后面”项目
            （也就是在搜索结果中相关性较低的项目）出现。</p>
        <p>除非你预先知道每个项目的高度，
            否则无法使用早期的 CSS 布局模型实现这种布局，
            或使用 JavaScript 进行内容测量或放置。</p>

        <p>将<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container">砌体容器</a>与<span
                class="css">自动</span>定位的项目一起使用
            会产生这种类型的砌体布局。</p>
        <h4 class="heading settled" data-level="1.1.2" id="collapse"><span class="secno">1.1.2. </span><span
                class="content"> 一维网格布局</span><a class="self-link" href="#collapse"></a></h4>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout">网格布局</a>允许在两个轴上进行强大的轨道大小调整和显式放置，
            但有时布局只需要在一个维度上对齐其项目。</p>
        <p>将<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①">砌体容器</a>与显式定位的项目一起使用
            允许这种类型的一维网格布局。</p>
        <div class="example" id="example-a1b07c6f">
            <a class="self-link" href="#example-a1b07c6f"></a> Douglas Graham 的<a
                href="https://github.com/w3c/csswg-drafts/issues/10233#issuecomment-2071279204">这个例子</a>
            使用显式定位将每个项目放置到其分配的列中；
            但是没有行。
            相反，每列中的项目一个接一个地堆叠。
            这种布局无法在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout①">网格布局</a>中复制，因为相邻列中项目之间的“跨越”关系
            不是固定的：它取决于它们的相对高度
            以及是否包含可选的横幅或广告项目。
            它也无法在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                id="ref-for-flex-layout">弹性布局</a>中复制，因为项目的源顺序
            （用于阅读、顺序导航和单列手机布局）
            在两列之间来回切换。
            <figure>
                <img alt="在单列布局中：
                              页眉，后跟可选横幅、二级导航、
                              主要内容区域、广告块，最后是页脚。
                              在双列布局中：
                              页眉跨越顶部两列，
                              页脚跨越底部两列，
                              在较宽的左列中，可选横幅后跟主要内容区域，
                              在较窄的左列中，二级导航后跟广告块。" height="492"
                    src="https://www.w3.org/TR/css-grid-3/images/masonry-page-layout.png" width="731">
                <figcaption> 一维网格布局的单列和双列变体的比较。
                </figcaption>
            </figure>
        </div>
        <h3 class="heading settled" data-level="1.2" id="values"><span class="secno">1.2. </span><span class="content">
                值定义</span><a class="self-link" href="#values"></a></h3>
        <p>本规范遵循 <a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS 属性
                定义规范</a>，引用自 <a data-link-type="biblio" href="#biblio-css2"
                title="层叠样式表第 2 版修订版 1 (CSS 2.1) 规范">[CSS2]</a>，使用 <a
                href="https://www.w3.org/TR/css-values-3/#value-defs">值定义语法</a>，引用自 <a data-link-type="biblio"
                href="#biblio-css-values-3" title="CSS 值和单位模块第 3 版">[CSS-VALUES-3]</a>。
            本规范未定义的值类型在 CSS 值与单位中定义 <span title="CSS 值和单位模块第 3 版">[CSS-VALUES-3]</span>。
            与其他 CSS 模块的组合可能扩展这些值类型的定义。</p>
        <p>除了定义中的特定属性值外，
            本规范定义的所有属性
            还接受 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#css-wide-keywords"
                id="ref-for-css-wide-keywords">CSS 全局关键字</a> 作为其属性值。
            为了可读性，未明确重复这些关键字。</p>
        <h2 class="heading settled" data-level="2" id="masonry-model"><span class="secno">2. </span><span
                class="content"> 砌体布局模型</span><a class="self-link" href="#masonry-model"></a></h2>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="masonry-layout">砌体布局</dfn> 将项目布局到预定义的轨道中，类似于
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout②">网格布局</a> 在一个轴上
            （称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="grid-axis" data-noexport
                id="grid-axis">网格轴</dfn>），
            但在另一个轴上像 <a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                id="ref-for-flex-layout①">弹性布局</a> 一样自由流动
            （称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="stacking-axis" data-noexport
                id="stacking-axis">堆叠轴</dfn>）。
            类似于 <span id="ref-for-grid-layout③">网格布局</span>，与 <span id="ref-for-flex-layout②">弹性布局</span> 不同，<a
                data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout②">砌体布局</a> 的自动放置
            将项目分布在轨道上，以保持这些轨道的长度尽可能相似。
        </p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item" id="ref-for-grid-item">网格
                项目</a> 的形成和 <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#blockify"
                id="ref-for-blockify">块化</a> 与常规的 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container">网格容器</a> 完全相同。
        </p>
        <p>(为清晰起见，<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item①">网格项目</a> 和 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-track" id="ref-for-grid-track">网格轨道</a> 的 <a
                data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container②">砌体容器</a> 可以
            被称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="masonry item"
                id="masonry-item">砌体项目</dfn> 和 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="masonry track" id="masonry-track">砌体轨道</dfn>.)</p>
        <p>除非本规范另有说明，否则所有 CSS 属性的工作方式与常规的 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container①">网格容器</a>
            相同。
            例如，<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-flexbox-1/#propdef-order" id="ref-for-propdef-order">顺序</a> 可用于指定
            项目的不同布局顺序。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 支持子网格项目，
            但子网格仅在 <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis">网格
                轴</a> 中发生；
            有关详细信息，请参见 <a href="#subgrids">§ 3.2 子网格</a>。</p>
        <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="masonry-container">砌体容器</dfn>
            是一个其内容参与 <a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout③">砌体布局</a> 的框。
            如果其 <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis">堆叠轴</a> 是 <a
                data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                id="ref-for-block-axis">块轴</a>，则 <a data-link-type="dfn" href="#masonry-container"
                id="ref-for-masonry-container③">砌体容器</a> 是一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="column-masonry-container">列砌体容器</dfn>，
            或者如果其 <span id="ref-for-stacking-axis①">堆叠轴</span> 是 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis">行内轴</a>，则是一个 <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="row-masonry-container">行砌体容器</dfn>。</p>
        <table class="data">
            <caption>比较砌体容器</caption>
            <tbody>
                <tr>
                    <th style="writing-mode: vertical-rl; writing-mode: sideways-lr"> 列砌体
                    </th>
                    <td>
                        <pre>grid-template-columns: 1fr 2fr 3fr;
</pre>
                    </td>
                    <td> <img alt="列砌体将项目按列布局，但跨列排序，将每个项目放置在当时最短的列中。" height="146"
                            src="https://www.w3.org/TR/css-grid-3/images/masonry-columns.png" width="216">
                    </td>
                </tr>
                <tr>
                    <th style="writing-mode: vertical-rl; writing-mode: sideways-lr"> 行砌体
                    </th>
                    <td>
                        <pre>grid-template-rows: 1fr 2fr 3fr;
</pre>
                    </td>
                    <td> <img alt="行砌体将项目按行布局，但跨行向下排序，将每个项目放置在当时最短的行中。" height="214"
                            src="https://www.w3.org/TR/css-grid-3/images/masonry-rows.png" width="143">
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="heading settled" data-level="2.1" id="order-accessibility"><span class="secno">2.1. </span><span
                class="content"> 重新排序与可访问性</span><a class="self-link" href="#order-accessibility"></a></h3>
        <p>尽管<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout④">砌体布局</a>
            通常以向前的方向进行
            （将下一个项目放置在当前项目的下方或末尾，
            与自然的“阅读顺序”相匹配），
            但它可以在这两种方式之间以看似任意的方式切换。
            在简单情况下，<a class="property css" data-link-type="property" href="#propdef-item-slack"
                id="ref-for-propdef-item-slack">item-slack</a> 属性可以帮助减少
            在<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                id="ref-for-block-axis①">块轴</a>中由于微小的尺寸差异
            而在布局自动放置项目时产生的回溯感。
            但是当<a href="#masonry-layout-algorithm">自动放置</a>与<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#definite-grid-position"
                id="ref-for-definite-grid-position">显式放置</a>或跨越项目混合使用时，
            可能会发生一定程度的回溯。</p>
        <div class="example" id="example-81eafd45">
            <a class="self-link" href="#example-81eafd45"></a> 例如，在下面的标记示例中，
            第四个项目是一个跨栏项目，它不适合
            第一行剩余的空列。
            它最终被放置到第一列中，
            这是它能容纳的最高可用空间。
            接下来的几个跨度为 1 的项目，
            最终布局在空列中它的“上方”，
            违反了自然的阅读顺序。
            <pre class="highlight"><c- p>&lt;</c-><c- f>section</c-> <c- e>class</c-><c- o>=</c-><c- s>masonry</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"item tall"</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"item wide"</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->6/div>
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->7<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- p>.</c-><c- nc>masonry</c-> <c- p>{</c->
  //FIXME <c- k>display</c-><c- p>:</c-><c- n>masonry</c-> <c- n>or</c-> <c- n>something</c->
  <c- k>grid-template-columns</c-><c- o>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- mi>5</c-><c- p>,</c-> <c- kc>auto</c-><c- p>);</c->
<c- p>}</c->
<c- p>.</c-><c- nc>item</c-> <c- p>{</c-> <c- k>height</c-><c- p>:</c-> <c- mi>50</c-><c- b>px</c-><c- p>;</c-> <c- p>}</c->
<c- p>.</c-><c- nc>item</c-><c- p>.</c-><c- nc>wide</c-> <c- p>{</c-> <c- k>grid-column</c-><c- p>:</c-> <c- n>span</c-> <c- mi>3</c-><c- p>;</c-> <c- p>}</c->
<c- p>.</c-><c- nc>item</c-><c- p>.</c-><c- nc>tall</c-> <c- p>{</c-> <c- k>height</c-><c- p>:</c-> <c- mi>90</c-><c- b>px</c-><c- p>;</c-> <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
</pre>
            <figure>
                <img alt="在此示例中，第一行是项目1、2、3、5、6，
                  项目3稍微高于其他项目。
                  项目4跨越前三列，并放置
                  在项目3下方，而项目7则藏在项目5下方。" height="214"
                    src="https://www.w3.org/TR/css-grid-3/images/masonry-reorder-span.png" width="514">
                <figcaption>自动放置的砖石布局，具有不同高度的项目和不同跨度大小</figcaption>
            </figure>
            同样，显式放置在特定轨道中的项目可能会在它们后面留下空隙，
            随后自动放置的项目可以在视觉上不按顺序放置。
        </div>
        <p>作者应意识到这些可能性
            并设计布局，以便尽量减少此类回溯，
            以便更容易跟随焦点和阅读顺序。
            或者，如果项目没有固有顺序，
            使用 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-display-4/#propdef-reading-flow"
                id="ref-for-propdef-reading-flow">reading-flow</a> 属性，允许用户代理重新排序项目
            以便于阅读和线性导航。</p>
        <p class="issue" id="issue-f3901e05"><a class="self-link" href="#issue-f3901e05"></a> 或者，是否应该将重新排序
            作为自动放置项目的默认行为？</p>
        <div class="note" role="note">
            减少回溯的技术包括：
            <ul>
                <li data-md>
                    <p>为 <a class="property css" data-link-type="property" href="#propdef-item-slack"
                            id="ref-for-propdef-item-slack①">item-slack</a> 使用适当的值，
                        即值足够大以避免在大小相似的轨道之间进行不必要的区分，
                        但又不能太大以至于忽略有意义的差异。</p>
                </li>
                <li data-md>
                    <p>以有助于将相关项目组合在一起的方式使用显式放置，
                        而不是以破坏项目自然顺序的方式</p>
                </li>
                <li data-md>
                    <p>避免在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①">网格轴</a>中使用混合跨度大小和在<a
                            data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②">堆叠轴</a>中使用不同项目大小的组合，
                        这可能导致项目被打乱顺序（参见上面的示例）。</p>
                </li>
            </ul>
        </div>
        <p>与<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout④">网格布局</a>和<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-flexbox-1/#flex-layout" id="ref-for-flex-layout③">弹性布局</a>一样，
            作者可以使用 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-flexbox-1/#propdef-order" id="ref-for-propdef-order①">order</a> 属性
            来重新排序项目；
            同样的注意事项也适用。
            请参阅 <a href="https://www.w3.org/TR/css-grid-2/#order-accessibility"><cite>《CSS 网格布局 2》</cite> § 4
                重新排序与可访问性</a>和<a href="https://www.w3.org/TR/css-flexbox-1/#order-accessibility"><cite>《CSS 弹性盒模型
                    1》</cite> § 5.4.1 重新排序与可访问性</a>。</p>
        <h3 class="heading settled" data-level="2.2" id="masonry-switch"><span class="secno">2.2. </span><span
                class="content"> 建立砌体式布局</span><a class="self-link" href="#masonry-switch"></a></h3>
        <div class="issue" id="issue-65868180">
            <a class="self-link" href="#issue-65868180"></a> 问题(11593)：我们仍在讨论使用何种语法开关来建立<a data-link-type="dfn"
                href="#masonry-layout" id="ref-for-masonry-layout⑤">砌体式布局</a>。
            目前的提案包括：
            <ul>
                <li data-md>
                    <p><a class="css" data-link-type="propdesc"
                            href="https://www.w3.org/TR/CSS21/visuren.html#propdef-display"
                            id="ref-for-propdef-display">display: masonry</a>（或同义词，例如 <span class="css"
                            id="ref-for-propdef-display①">display: stack</span>）</p>
                </li>
                <li data-md>
                    <p><a class="css" data-link-type="propdesc" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack">item-pack: collapse</a>（参见 <span class="property"
                            id="ref-for-propdef-item-pack①">item-pack</span>）</p>
                </li>
                <li data-md>
                    <p><a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows"
                            id="ref-for-propdef-grid-template-rows">grid-template-rows</a>/<a class="property css"
                            data-link-type="property"
                            href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns"
                            id="ref-for-propdef-grid-template-columns">grid-template-columns</a> 的 <span
                            class="css">collapse</span> 值，
                        表示该轴作为<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                            id="ref-for-grid-container②">网格容器</a>的<a data-link-type="dfn" href="#stacking-axis"
                            id="ref-for-stacking-axis③">堆叠轴</a></p>
                </li>
            </ul>
        </div>
        <h2 class="heading settled" data-level="3" id="masonry-track-templates"><span class="secno">3. </span><span
                class="content"> 砌体轨道规范</span><a class="self-link" href="#masonry-track-templates"></a></h2>
        <p>在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②">网格轴</a>中，
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                id="ref-for-grid-layout⑤">网格布局</a>的全部功能都可用于轨道规范：
        </p>
        <ul>
            <li data-md>
                <p>轨道大小、线条名称和区域可以在<a data-link-type="dfn" href="#masonry-container"
                        id="ref-for-masonry-container④">砌体容器</a>的<a data-link-type="dfn" href="#grid-axis"
                        id="ref-for-grid-axis③">网格轴</a>上指定，
                    就像在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout⑥">网格布局</a>中一样。</p>
            </li>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#explicit-grid"
                        id="ref-for-explicit-grid">显式网格</a>和<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#implicit-grid"
                        id="ref-for-implicit-grid">隐式网格</a>的形成方式与常规<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container③">网格容器</a>相同。
                </p>
            </li>
            <li data-md>
                <p>项目可以像在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout⑦">网格布局</a>中一样<a href="#masonry-track-placement">放置</a>在这些网格模板上。</p>
            </li>
        </ul>
        <p>但是，
            自动放置的项目会为所有轨道贡献大小，
            而不仅仅是它们最终放置到的轨道；
            请参阅<a href="#track-sizing">§ 3.4 网格轴轨道大小调整</a>。</p>
        <p class="note" role="note"><span class="marker">注意：</span>这是因为自动放置的项目必须在放置时进行布局，
            以便每个轨道都知道它有多“满”
            （因此哪个轨道应该接收下一个自动放置的项目）；
            因此，轨道本身必须已经具有确定的大小，
            以便项目在布局期间知道它们的<a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#available"
                id="ref-for-available">可用空间</a>。
        </p>
        <h3 class="heading settled" data-level="3.1" id="masonry-track-grid-option"><span class="secno">3.1.
            </span><span class="content"> 声明砌体式轨道模板：<span class="css">grid-template-*</span> 属性</span><a
                class="self-link" href="#masonry-track-grid-option"></a></h3>
        <p><span class="css">grid-template-*</span> 和 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows"
                id="ref-for-propdef-grid-auto-rows">grid-auto-rows</a>/<a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns"
                id="ref-for-propdef-grid-auto-columns">grid-auto-columns</a> 属性
            （及其简写形式）
            应用于<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container⑤">砌体容器</a>的<a
                data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis④">网格轴</a>，并
            像在常规<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container④">网格容器</a>上一样建立轨道。
            （它们在<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis④">堆叠轴</a>中被忽略。）</p>
        <p class="issue" id="issue-f0b2f95f"><a class="self-link" href="#issue-f0b2f95f"></a> 初始轨道列表应该是什么？<a
                href="https://github.com/w3c/csswg-drafts/issues/10869">[问题 #10869]</a></p>
        <h4 class="heading settled" data-level="3.1.1" id="masonry-intrinsic-repeat"><span class="secno">3.1.1.
            </span><span class="content"> 固有轨道和 repeat()</span><a class="self-link"
                href="#masonry-intrinsic-repeat"></a></h4>
        <p class="issue" id="issue-b1e94dcd"><a class="self-link" href="#issue-b1e94dcd"></a> 我们是否应该允许基于内容的自动重复轨道？
            这对于它们来说是一个合理的定义吗？
            它们是否也应该以某种方式在网格布局中工作？<a href="https://github.com/w3c/csswg-drafts/issues/10915">[问题 #10915]</a></p>
        <p>在网格布局中，
            所有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item②">网格项目</a>都在网格轨道确定大小<em>之前</em>放置在网格中。
            这意味着 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill"
                id="ref-for-valdef-repeat-auto-fill">auto-fill</a>/<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit">auto-fit</a> 重复
            不能包含固有大小的轨道，例如 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto"
                id="ref-for-valdef-grid-template-columns-auto">auto</a>（无论是在 <a class="css" data-link-type="maybe"
                href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat" id="ref-for-funcdef-repeat">repeat()</a>
            函数中<em>还是</em>在轨道列表的固定部分中与它一起），
            因为这将需要布局算法
            已经确定哪些项目将进入这些轨道，
            以确定轨道有多大，
            以确定可用空间中适合多少次重复。</p>
        <p>在砌体式布局中，
            由于<a data-link-type="dfn" href="#masonry-item" id="ref-for-masonry-item">砌体式项目</a>的放置和布局是相互交织且有所简化的，
            因此不再严格要求此限制。
            它需要一个稍微启发式的大小定义，
            但是自动重复<em>可以</em>在<a data-link-type="dfn" href="#masonry-container"
                id="ref-for-masonry-container⑥">砌体式容器</a>中包含固有大小的轨道
            （并且 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-tracks"
                id="ref-for-propdef-masonry-template-tracks">masonry-template-tracks</a> 的初始值就使用了这个！）。</p>
        <div class="algorithm" data-algorithm="determine intrinsic repetitions">
            要确定 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat"
                id="ref-for-funcdef-repeat①">repeat()</a> 函数解析到的重复次数，
            请按照<a href="#track-sizing-performance">§ 3.4.2 优化的轨道大小调整</a>中的定义运行布局，
            并进行以下更改：
            <ul>
                <li data-md>
                    <p>将 <a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill"
                            id="ref-for-valdef-repeat-auto-fill①">auto-fill</a>/<a class="css" data-link-type="maybe"
                            href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                            id="ref-for-valdef-repeat-auto-fit①">auto-fit</a> 重复函数展开一次。</p>
                </li>
                <li data-md>
                    <p>忽略项目放置。
                        （也就是说，假设所有项目都具有 <a class="css" data-link-type="propdesc"
                            href="https://www.w3.org/TR/css-grid-3/#propdef-masonry-track"
                            id="ref-for-propdef-masonry-track">masonry-track: auto</a>。）</p>
                </li>
                <li data-md>
                    <p>如果一个<a data-link-type="dfn" href="#masonry-item" id="ref-for-masonry-item①">砌体式项目</a>的跨度大于 1，
                        那么对于它将贡献给<a data-link-type="dfn" href="#virtual-masonry-item"
                            id="ref-for-virtual-masonry-item">虚拟砌体式项目</a>的每个固有大小，
                        首先减去它将跨越的间隙的组合大小，
                        然后除以其跨度。
                        然后将其视为具有这些大小的跨度为 1 的项目。</p>
                </li>
            </ul>
            <p>然后，任何固有大小的轨道都被视为具有通过此简化布局计算的大小
                （包括 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat"
                    id="ref-for-funcdef-repeat②">repeat()</a>
                参数中的那些，
                从其对应的单个重复中获取）
                ，以便确定 <span class="css" id="ref-for-funcdef-repeat③">repeat()</span> 函数解析到的重复次数。</p>
        </div>
        <details class="note">
            <summary>动机</summary>
            <p>这种简化的布局启发式方法被定义为“足够好”，
                同时保持快速和一致。</p>
            <p>忽略放置只是为了使概念连贯；
                在知道需要多少次重复之前，
                无法判断具有确定放置的项目
                最终会进入哪个轨道。</p>
            <p>通过将跨越项目切成跨度为 1 的项目，
                可以避免多次展开 repeat() 的可能需要，
                以及在重复中获得相同关键字的不同大小的不连贯可能性。</p>
            <p>它还使整个布局的成本显着降低，
                因为只需要考虑每个唯一的轨道大小；
                甚至<em>实际上</em>不需要进行任何 repeat() 展开。
                也就是说，在 <span class="css">auto repeat(auto-fill, min-content auto)</span> 中，
                两个 <a class="css" data-link-type="maybe"
                    href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto"
                    id="ref-for-valdef-grid-template-columns-auto①">auto</a> 关键字
                在此启发式布局下都将解析为相同的大小；
                只需弄清楚
                <a class="css" data-link-type="propdesc"
                    href="https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-tracks"
                    id="ref-for-propdef-masonry-template-tracks①">masonry-template-tracks: auto</a> 和 <span class="css"
                    id="ref-for-propdef-masonry-template-tracks②">masonry-template-tracks:
                    min-content</span> 各自会产生什么结果，
                并使用这些大小。
            </p>
        </details>
        <h3 class="heading settled" data-level="3.2" id="subgrids"><span class="secno">3.2. </span><span
                class="content"> 子网格</span><a class="self-link" href="#subgrids"></a></h3>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#subgrid" id="ref-for-subgrid">子网格化</a>
            允许嵌套的<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container⑦">砌体式容器</a>（和<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container⑤">网格容器</a>）
            共享轨道大小。
            如果父容器的相应轴是<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑤">网格轴</a>，
            则子网格化的轴从父容器获取，<a href="https://www.w3.org/TR/css-grid-2/#subgrids">如网格容器所指定</a>；
            如果父容器的相应轴是<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis⑤">堆叠轴</a>，
            则子网格化的轴的行为类似于 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-3/#valdef-display-masonry"
                id="ref-for-valdef-display-masonry">masonry</a>。</p>
        <p class="note" role="note"><span class="marker">注意：</span>如果这导致两个轴都为 <span class="css">masonry</span>，
            则按照具有双轴 <span class="css">masonry</span> 模板的<a data-link-type="dfn" href="#masonry-container"
                id="ref-for-masonry-container⑧">砌体式容器</a>的常规方式进行解析，
            即其行为类似于 <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns"
                id="ref-for-propdef-grid-template-columns①">grid-template-columns: none; grid-template-rows:
                masonry</a>。</p>
        <p>在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout⑥">砌体式布局</a>中，
            自动放置的<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#subgrid"
                id="ref-for-subgrid①">子网格</a>不从其父网格继承任何行名称，
            因为这将使项目的放置
            依赖于布局结果；
            但是子网格的轨道仍然像往常一样与父网格的轨道对齐。</p>
        <div class="example" id="example-1cdd55da">
            <a class="self-link" href="#example-1cdd55da"></a> 这是一个子网格<a href="examples/subgrid-example-1.html">示例</a>：
            <pre class="language-css highlight">&lt;style>
.grid <c- p>{</c->
    //FIXME: display: inline-grid<c- p>;</c-> 或其他
    grid-template-rows: auto auto <c- m>100</c-><c- k>px</c-><c- p>;</c->
    <c- k>align-content</c-><c- p>:</c-> center<c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- m>300</c-><c- k>px</c-><c- p>;</c->
    <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
<c- p>}</c->

.grid > * <c- p>{</c->
    <c- k>margin</c-><c- p>:</c-> <c- m>5</c-><c- k>px</c-><c- p>;</c->
    <c- k>background</c-><c- p>:</c-> silver<c- p>;</c->
<c- p>}</c->
.grid > <c- nf>:nth-child</c-><c- p>(</c-><c- m>2</c-><c- k>n</c-><c- p>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
<c- p>}</c->

.grid subgrid <c- p>{</c->
    <c- k>display</c-><c- p>:</c-> grid<c- p>;</c->
    <c- k>grid</c-><c- p>:</c-> subgrid / subgrid<c- p>;</c->
    <c- k>grid-row</c-><c- p>:</c-> <c- m>2</c-> / span <c- m>2</c-><c- p>;</c->
    <c- k>grid-gap</c-><c- p>:</c-> <c- m>30</c-><c- k>px</c-><c- p>;</c->
<c- p>}</c->
.grid subgrid > * <c- p>{</c-> <c- k>background</c-><c- p>:</c-> cyan<c- p>;</c-> <c- p>}</c->
&lt;/style>
</pre>
            <pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>subgrid</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"height:100px"</c-><c- p>></c->subgrid.1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->sub.2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->s.3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>subgrid</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"width: 80px"</c-><c- p>></c->6<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->7<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <figure>
                <img height="315" src="https://www.w3.org/TR/css-grid-3/images/subgrid-example-1.png" width="162">
                <figcaption> 上面子网格示例的渲染。 </figcaption>
            </figure>
            <p>注意子网格的第一个项目 ("subgrid.1") 如何
                贡献父网格中第二行的固有大小。
                这是可能的，因为子网格指定了一个确定的位置，
                所以我们知道它将占据哪些轨道。
                另请注意，尝试对父网格的<a data-link-type="dfn" href="#stacking-axis"
                    id="ref-for-stacking-axis⑥">堆叠轴</a>进行子网格化会导致子网格在其<a data-link-type="dfn"
                    href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis①">内联轴</a>中获得<a
                    data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout⑦">砌体式布局</a>。</p>
        </div>
        <p>一个作为<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container⑨">砌体式容器</a>的<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#subgrid" id="ref-for-subgrid②">子网格</a>
            可以被称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="submasonry">子砌体</dfn>。</p>
        <h3 class="heading settled" data-level="3.3" id="repeat-notation"><span class="secno">3.3. </span><span
                class="content"> 轨道重复：<a class="css" data-link-type="maybe"
                    href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat" id="ref-for-funcdef-repeat④">repeat()</a>
                表示法</span><a class="self-link" href="#repeat-notation"></a></h3>
        <p>本规范为 <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat"
                id="ref-for-funcdef-repeat⑤">repeat()</a> 表示法引入了新的关键字和砌体特定的行为。</p>
        <h4 class="heading settled" data-level="3.3.1" id="repeat-auto-areas"><span class="secno">3.3.1. </span><span
                class="content"> repeat(auto-areas)</span><a class="self-link" href="#repeat-auto-areas"></a></h4>
        <p><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat"
                id="ref-for-funcdef-repeat⑥">repeat()</a>
            表示法的新 <dfn class="dfn-paneled css" data-dfn-for="repeat()" data-dfn-type="value" data-export
                id="valdef-repeat-auto-areas">auto-areas</dfn> 值表示显式轨道总数与相应轴上生效的 <a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas"
                id="ref-for-propdef-grid-template-areas">grid-template-areas</a> / <a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-areas"
                id="ref-for-propdef-masonry-template-areas">masonry-template-areas</a> 值匹配所需的重复次数。
            如果为重复列出了多个轨道，则最终重复将根据需要截断以产生正确的轨道数。</p>
        <p class="note" role="note"><span class="marker">注意：</span>与<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit②">auto-fit</a>不同——它总是至少重复一次并且总是完全重复轨道列表——<a class="css"
                data-link-type="maybe" href="#valdef-repeat-auto-areas"
                id="ref-for-valdef-repeat-auto-areas">auto-areas</a>的重复次数可以为零
            （如果已经有足够的显式轨道），
            并且最终的重复可以是部分的。</p>
        <p>如果 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas"
                id="ref-for-propdef-grid-template-areas①">grid-template-areas</a> / <a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-areas"
                id="ref-for-propdef-masonry-template-areas①">masonry-template-areas</a> 是 <a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-areas-none"
                id="ref-for-valdef-grid-template-areas-none">none</a>，
            则此值的行为类似于 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit③">auto-fit</a>。</p>
        <p class="note" role="note"><span class="marker">注意：</span>此值既适用于常规<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container⑥">网格容器</a>，也适用于<a
                data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①⓪">砌体容器</a>。</p>
        <p class="issue" id="issue-33a96346"><a class="self-link" href="#issue-33a96346"></a> 尚不清楚我们是否真的需要这个值。
            请注意，显式网格已经根据需要从 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns"
                id="ref-for-propdef-grid-auto-columns①">grid-auto-columns</a>/<a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows"
                id="ref-for-propdef-grid-auto-rows①">grid-auto-rows</a>/<a class="property css"
                data-link-type="property" href="https://www.w3.org/TR/css-grid-3/#propdef-masonry-auto-tracks"
                id="ref-for-propdef-masonry-auto-tracks">masonry-auto-tracks</a> 中获取值，以匹配模板区域的数量。<a
                href="https://github.com/w3c/csswg-drafts/issues/10854">[Issue #10854]</a></p>
        <h4 class="heading settled" data-level="3.3.2" id="repeat-auto-fit"><span class="secno">3.3.2. </span><span
                class="content"> repeat(auto-fit)</span><a class="self-link" href="#repeat-auto-fit"></a></h4>
        <p>在<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①①">砌体容器</a>中
            （与常规<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container⑦">网格容器</a>中一样）<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit④">auto-fit</a> 的行为类似于 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill"
                id="ref-for-valdef-repeat-auto-fill②">auto-fill</a>，
            但空轨道会<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#collapsed-track"
                id="ref-for-collapsed-track">折叠</a>。
            但是，由于放置发生在轨道大小调整之后，<span id="ref-for-masonry-container①②">砌体容器</span>使用启发式方法
            来确定轨道是否会被占用：</p>
        <ul>
            <li data-md>
                <p>所有由显式放置的项目占用的轨道都被认为是已占用的。</p>
            </li>
            <li data-md>
                <p>将所有自动放置项目的跨度总和设为 <var>N</var>，
                    则直到第 <var>N</var> 个此类轨道的未占用轨道都被认为是已占用的。</p>
            </li>
        </ul>
        <p>所有由 <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit⑤">auto-fit</a> 重复产生并被此启发式方法视为空闲的轨道都被假定为“空的”并被<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#collapsed-track" id="ref-for-collapsed-track①">折叠</a>。
            一个<span id="ref-for-collapsed-track②">折叠的轨道</span>不能接受自动放置项目的放置。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>如果存在跨度大于 1
            的自动放置项目与显式放置的项目混合，并且留下的间隙对于自动放置的项目来说太小，则当使用 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill"
                id="ref-for-valdef-repeat-auto-fill③">auto-fill</a> 时，自动放置的项目可能会被放置在某个轨道中，而如果使用 <a class="css"
                data-link-type="maybe" href="https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit"
                id="ref-for-valdef-repeat-auto-fit⑥">auto-fit</a>，该轨道将被折叠。</p>
        <h3 class="heading settled" data-level="3.4" id="track-sizing"><span class="secno">3.4. </span><span
                class="content"> 网格轴轨道尺寸调整</span><a class="self-link" href="#track-sizing"></a></h3>
        <p>轨道尺寸调整的工作方式与 <a href="https://www.w3.org/TR/css-grid-2/#algo-track-sizing">CSS 网格</a>中的相同，
            只是在考虑哪些项目对固有尺寸有贡献时：</p>
        <ul>
            <li data-md>
                <p>所有显式放置在该轨道中的项目都有贡献，并且</p>
            </li>
            <li data-md>
                <p>所有具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                        id="ref-for-automatic-grid-position">自动网格位置</a>的项目都有贡献
                    （无论它们最终是否放置在该轨道中）。</p>
            </li>
        </ul>
        <div class="example" id="example-6d22f73d">
            <a class="self-link" href="#example-6d22f73d"></a> 例如，假设在<a data-link-type="dfn" href="#grid-axis"
                id="ref-for-grid-axis⑥">网格轴</a>中有两列，并且
            <ul>
                <li data-md>
                    <p>项目 A、B 和 C 没有显式位置。</p>
                </li>
                <li data-md>
                    <p>项目 D 被显式放置到第一列中。</p>
                </li>
            </ul>
            <p>在这种情况下，项目 A、B、C 和 D 都对第一列的尺寸调整有贡献，
                而只有 A、B 和 C（不包括 D）对第二列有贡献。</p>
        </div>
        <p>对于具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                id="ref-for-automatic-grid-position①">自动网格位置</a>的跨越项目，
            假定它们被放置在每个可能的起始位置，并相应地做出贡献。</p>
        <div class="example" id="example-f3e866aa">
            <a class="self-link" href="#example-f3e866aa"></a> 例如，假设在<a data-link-type="dfn" href="#grid-axis"
                id="ref-for-grid-axis⑦">网格轴</a>中有 5 列，
            中间一列的固定大小为 <span class="css">100px</span>，另外两列的大小为 <span class="css">auto</span>。
            为了进行轨道尺寸调整，
            一个跨越 2 个轨道且固有贡献为 220px 的项目
            基本上被复制并假定存在于：
            <ul>
                <li data-md>
                    <p>在网格线 1 处，
                        为前两个轨道各贡献 110px。</p>
                </li>
                <li data-md>
                    <p>在网格线 2 处，
                        为第二个轨道贡献 120px。</p>
                </li>
                <li data-md>
                    <p>在网格线 3 处，
                        为第四个轨道贡献 120px。</p>
                </li>
                <li data-md>
                    <p>在网格线 4 处，
                        为第四和第五个轨道各贡献 110px。</p>
                </li>
            </ul>
        </div>
        <p class="note" role="note"><span class="marker">注意：</span>此算法确保每个轨道至少足够大
            以容纳最终放置在其中的每个项目，
            并且不会在放置和轨道尺寸调整之间产生依赖循环。
            但是，根据尺寸的变化，
            轨道可能会大于必要的尺寸：
            只有当所有项目都显式放置在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑧">网格轴</a>中，或者所有项目都具有相同的大小
            （或者在跨越项目的情况下是该大小的匹配倍数）时，才能保证精确匹配。</p>
        <h4 class="heading settled" data-level="3.4.1" id="track-sizing-subgrid"><span class="secno">3.4.1. </span><span
                class="content"> 子网格项目贡献</span><a class="self-link" href="#track-sizing-subgrid"></a>
        </h4>
        <p>在调整常规<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container⑧">网格容器</a>
            或<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①③">砌体容器</a>的轨道大小时，
            <a data-link-type="dfn" href="#submasonry" id="ref-for-submasonry">子砌体</a>对具有<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                id="ref-for-automatic-grid-position②">自动网格位置</a>的项目有特殊处理：
        </p>
        <ul>
            <li data-md>
                <p>任何此类项目都被放置到<a data-link-type="dfn" href="#submasonry"
                        id="ref-for-submasonry①">子砌体</a>可能跨越的每个可能的网格轨道中。
                    （如果子砌体具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#definite-grid-position"
                        id="ref-for-definite-grid-position①">确定的网格位置</a>，则仅放置在跨越的轨道中；
                    如果它具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                        id="ref-for-automatic-grid-position③">自动网格位置</a>，则放置在父网格中的所有轨道中。）</p>
            </li>
            <li data-md>
                <p>任何此类项目都会在其可能被放置的每个边缘接收最大的外边距/边框/内边距贡献。
                    如果项目跨越整个子网格，则它会接收两者。
                    （参见 <a href="https://www.w3.org/TR/css-grid-2/#subgrid-item-contribution">CSS 网格布局 §9</a>。）
                </p>
            </li>
        </ul>
        <h4 class="heading settled" data-level="3.4.2" id="track-sizing-performance"><span class="secno">3.4.2.
            </span><span class="content"> 优化的轨道尺寸调整</span><a class="self-link" href="#track-sizing-performance"></a>
        </h4>
        <p>轨道尺寸调整可以通过将具有相同跨度大小和放置的项目聚合到单个虚拟项目中来进行优化，
            如下所示：</p>
        <ol>
            <li>
                根据以下属性，将所有<a data-link-type="dfn" href="#masonry-item" id="ref-for-masonry-item②">砌体项目</a>分成<dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-noexport id="item-groups">项目组</dfn>：
                <ul>
                    <li data-md>
                        <p>项目的跨度</p>
                    </li>
                    <li data-md>
                        <p>项目的放置，
                            即允许将其放置在哪些轨道中</p>
                    </li>
                    <li data-md>
                        <p>项目的<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-sharing-group"
                                id="ref-for-baseline-sharing-group">基线共享组</a></p>
                    </li>
                </ul>
                <p class="note" role="note"><span class="marker">注意：</span>例如，一个跨度为 2 且放置在第二个轨道中的项目将与一个跨度为 2 且具有<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                        id="ref-for-automatic-grid-position④">自动网格位置</a>的项目位于不同的组中。</p>
            </li>
            <li>
                对于每个<a data-link-type="dfn" href="#item-groups" id="ref-for-item-groups">项目组</a>，合成一个<dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="virtual-masonry-item">虚拟砌体项目</dfn>，该项目具有该组中项目之间每个固有尺寸贡献的最大值。
                <p>如果项目应用<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-alignment"
                        id="ref-for-baseline-alignment">基线对齐</a>，
                    则通过将所有项目放置到单个假设的网格轨道中并找到它们的共享基线和垫片来确定<a data-link-type="dfn" href="#virtual-masonry-item"
                        id="ref-for-virtual-masonry-item①">虚拟砌体项目</a>的基线。
                    相应地增加组的固有尺寸贡献。</p>
            </li>
            <li> 将每个<a data-link-type="dfn" href="#virtual-masonry-item"
                    id="ref-for-virtual-masonry-item②">虚拟砌体项目</a>的假设副本放置到<a data-link-type="dfn" href="#grid-axis"
                    id="ref-for-grid-axis⑨">网格轴</a>轨道中项目可能占据的每个位置，
                并使用这些项目运行<a href="https://www.w3.org/TR/css-grid-2/#algo-track-sizing">轨道尺寸调整算法</a>。
                生成的轨道大小即为<a data-link-type="dfn" href="#masonry-container"
                    id="ref-for-masonry-container①④">砌体容器</a>的轨道大小。
            </li>
        </ol>
        <p class="note" role="note"><span class="marker">注意：</span>此优化应与<a href="#track-sizing">上面</a>的轨道尺寸调整描述给出相同的结果；
            如果不同，则这是一个错误，请<a href="https://github.com/w3c/csswg-drafts/issues">向 CSSWG 报告</a>。</p>
        <h2 class="heading settled" data-level="4" id="masonry-track-placement"><span class="secno">4. </span><span
                class="content"> 瀑布流布局</span><a class="self-link" href="#masonry-track-placement"></a></h2>
        <p>在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⓪">网格轴</a>中，
            项目可以<em>显式放置</em>到轨道中，并使用熟悉的<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-placement-property"
                id="ref-for-grid-placement-property">网格放置属性</a>的语法来跨越它们。
            然而，自动放置使用<a href="#masonry-layout-algorithm">§ 4.3 砌体布局和放置算法</a>，
            将每个具有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#automatic-grid-position"
                id="ref-for-automatic-grid-position⑤">自动网格位置</a>的项目放置到可用的“最短”砌体轨道中。</p>
        <div class="example" id="example-26ddc5f7">
            <a class="self-link" href="#example-26ddc5f7"></a> 这是一个砌体布局<a
                href="examples/pinterest-with-span.html">示例</a>，演示了放置和跨越项目：
            <figure>
                <img height="885" src="https://www.w3.org/TR/css-grid-3/images/example-pinterest-with-span.png"
                    width="902">
                <figcaption>上面示例的渲染。</figcaption>
            </figure>
            <p class="issue" id="issue-33788d66"><a class="self-link" href="#issue-33788d66"></a> 需要一个更好的例子！！！</p>
        </div>
        <h3 class="heading settled" data-level="4.1" id="masonry-placement-grid-option"><span class="secno">4.1.
            </span><span class="content"> 指定砌体项目放置：<span class="css">grid-column-*</span>
                和 <span class="css">grid-row-*</span> 属性</span><a class="self-link"
                href="#masonry-placement-grid-option"></a></h3>
        <p><span class="css">grid-column-*</span> 和 <span class="css">grid-row-*</span> 属性
            （及其简写）
            应用于项目的<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①①">网格轴</a>，并像常规<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-layout" id="ref-for-grid-layout⑧">网格布局</a>一样建立放置。</p>
        <h3 class="heading settled" data-level="4.2" id="item-slack"><span class="secno">4.2. </span><span
                class="content"> 放置精度：<a class="property css" data-link-type="property" href="#propdef-item-slack"
                    id="ref-for-propdef-item-slack②">item-slack</a> 属性</span><a class="self-link"
                href="#item-slack"></a></h3>
        <table class="def propdef" data-link-for-hint="item-slack">
            <tbody>
                <tr>
                    <th>Name:
                    </th>
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-slack">item-slack</dfn>
                    </td>
                </tr>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
                    </th>
                    <td class="prod"><a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage"
                            id="ref-for-typedef-length-percentage">&lt;length-percentage></a> <a
                            data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one"
                            id="ref-for-comb-one">|</a> infinite
                    </td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
                    </th>
                    <td>1em
                    </td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
                    </th>
                    <td><a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①⑤">砌体容器</a>
                    </td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
                    </th>
                    <td>no
                    </td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
                    </th>
                    <td>相对于<a data-link-type="dfn" href="#masonry-container"
                            id="ref-for-masonry-container①⑥">砌体容器</a>的<a data-link-type="dfn" href="#grid-axis"
                            id="ref-for-grid-axis①②">网格轴</a><a data-link-type="dfn"
                            href="https://www.w3.org/TR/CSS21/box.html#x10" id="ref-for-x10">内容框</a>大小
                    </td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
                    </th>
                    <td>计算后的 <a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage"
                            id="ref-for-typedef-length-percentage①">&lt;length-percentage></a> 值
                    </td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
                    </th>
                    <td>per grammar
                    </td>
                </tr>
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
                    </th>
                    <td>as length
                    </td>
                </tr>
            </tbody>
        </table>
        <p><a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①⑦">砌体容器</a>通过将每个<a
                data-link-type="dfn" href="#masonry-item" id="ref-for-masonry-item③">砌体项目</a>放置在当前填充最少的<a
                data-link-type="dfn" href="#masonry-track" id="ref-for-masonry-track">砌体轨道</a>中来进行填充。
            当多个轨道并列为填充最少时，
            按顺序放置项目看起来不错。
            但是如果轨道的高度差异<em>非常小</em>，
            让它们不按顺序填充可能会看起来很奇怪，
            因为高度差异不会被认为是<em>有意义的</em>不同。</p>
        <p><a class="property css" data-link-type="property" href="#propdef-item-slack"
                id="ref-for-propdef-item-slack③">item-slack</a> 属性指定了将轨道视为“相同高度”的阈值，
            从而使它们按顺序填充。</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-slack" data-dfn-type="value" data-export
                    id="valdef-item-slack-length-percentage"><a class="production css" data-link-type="type"
                        href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage"
                        id="ref-for-typedef-length-percentage②">&lt;length-percentage></a></dfn>
            </dt>
            <dd data-md>
                <p>指定<a data-link-type="dfn" href="#masonry-container" id="ref-for-masonry-container①⑧">砌体容器</a>的<dfn
                        class="dfn-paneled" data-dfn-for="masonry" data-dfn-type="dfn" data-noexport
                        id="masonry-tie-threshold">并列阈值</dfn>。
                    如果放置位置与最短位置之间的距离在指定距离之内，
                    则认为它们同样好（“并列”）。</p>
                <p class="note" role="note"><span class="marker">注意：</span>初始值是一个“小”距离
                    (<span class="css">1em</span>)，
                    它可能适合表示“足够接近”。</p>
            </dd>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-slack" data-dfn-type="value" data-export
                    id="valdef-item-slack-infinite">infinite</dfn>
            </dt>
            <dd data-md>
                <p>指定一个无限的<a data-link-type="dfn" href="#masonry-tie-threshold"
                        id="ref-for-masonry-tie-threshold">并列阈值</a>。
                    这使得项目严格按照顺序分布，
                    完全不考虑轨道的长度。</p>
                <p class="note" role="note"><span class="marker">注意：</span>此值可能导致连续的项目被放置在<a data-link-type="dfn"
                        href="#stacking-axis" id="ref-for-stacking-axis⑦">堆叠轴</a>中截然不同的位置，
                    这可能会让读者感到困惑。
                    如果初始值 (`1em`) 太小，
                    请考虑使用更大的值（例如 `10em` 或 `50vh`）
                    而不是 `infinite`。</p>
            </dd>
        </dl>
        <p class="issue" id="issue-7bbfe9d5"><a class="self-link" href="#issue-7bbfe9d5"></a> <span
                class="css">1em</span> 是正确的默认值吗？</p>
        <h3 class="heading settled" data-level="4.3" id="masonry-layout-algorithm"><span class="secno">4.3. </span><span
                class="content"> 砌体布局和放置算法</span><a class="self-link" href="#masonry-layout-algorithm"></a></h3>
        <p>对于<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①③">网格轴</a>中的每个轨道，
            保留一个初始化为零的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="running-position">运行位置</dfn>。
            同时维护一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="auto-placement-cursor">自动放置光标</dfn>，
            初始指向第一行。</p>
        <p>对于<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order"
                id="ref-for-order-modified-document-order">按顺序修改的文档顺序</a>中的每个项目：</p>
        <ol>
            <li>
                如果项目在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①④">网格轴</a>中具有<a
                    data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#definite-grid-position"
                    id="ref-for-definite-grid-position②">确定的网格位置</a>，
                则使用该放置。
                <p class="issue" id="issue-9c647ef6"><a class="self-link" href="#issue-9c647ef6"></a> 这是否也应该更新放置光标？</p>
                <p>否则，使用以下子步骤解析其<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑤">网格轴</a>放置：</p>
                <ol>
                    <li>从<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#implicit-grid"
                            id="ref-for-implicit-grid①">隐式网格</a>中的第一个<a data-link-type="dfn" href="#grid-axis"
                            id="ref-for-grid-axis①⑥">网格轴</a>线开始，
                        找到如果项目放置在此行，它将跨越的<span id="ref-for-grid-axis①⑦">网格轴</span>轨道的最大<a data-link-type="dfn"
                            href="#running-position" id="ref-for-running-position">运行位置</a>，
                        并将此位置称为 <var>max_pos</var>。
                    </li>
                    <li>对每个连续的行号重复上一步，
                        直到项目不再适合网格内部。
                    </li>
                    <li>令 <var>possible lines</var> 为导致最小 <var>max_pos</var> 的行，
                        以及所有导致 <var>max_pos</var> 在此 <var>max_pos</var> 的<a data-link-type="dfn"
                            href="#masonry-tie-threshold" id="ref-for-masonry-tie-threshold①">并列阈值</a>之内的行。
                    </li>
                    <li>选择 <var>possible lines</var> 中大于或等于<a data-link-type="dfn" href="#auto-placement-cursor"
                            id="ref-for-auto-placement-cursor">自动放置光标</a>的第一行作为项目在<a data-link-type="dfn"
                            href="#grid-axis" id="ref-for-grid-axis①⑧">网格轴</a>中的位置；
                        如果没有这样的行，则选择第一个。
                    </li>
                    <li>将<a data-link-type="dfn" href="#auto-placement-cursor"
                            id="ref-for-auto-placement-cursor①">自动放置光标</a>更新为指向项目的最后一行。
                    </li>
                </ol>
            </li>
            <li> 将项目放置在其<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑨">网格轴</a>轨道中，
                位于其跨越的轨道的<a data-link-type="dfn" href="#running-position" id="ref-for-running-position①">运行位置</a>的最大值处。
            </li>
            <li> 计算项目<a href="#containing-block">包含块</a>的大小，然后布局项目。
                将跨越的<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⓪">网格轴</a>轨道的<a data-link-type="dfn"
                    href="#running-position" id="ref-for-running-position②">运行位置</a>设置为
                <code><var>max_pos</var> + <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#outer-size" id="ref-for-outer-size">外部大小</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-align-3/#propdef-grid-gap" id="ref-for-propdef-grid-gap">grid-gap</a></code>。
            </li>
        </ol>
        <p class="note" role="note"><span class="marker">注意：</span>此算法选择的轨道
            将导致项目尽可能高地放置。
            如果出现平局，它会选择最早的此类轨道，<em>在</em>可能的情况下，在最近放置的项目之后
            （确保即使在出现平局的情况下它也始终“向前移动”）。</p>
        <h4 class="heading settled" data-level="4.3.1" id="containing-block"><span class="secno">4.3.1. </span><span
                class="content"> 包含块</span><a class="self-link" href="#containing-block"></a></h4>
        <p>参与<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout⑧">瀑布流布局</a>的<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item③">网格项</a>的<a data-link-type="dfn"
                href="https://www.w3.org/TR/CSS21/visuren.html#containing-block"
                id="ref-for-containing-block">包含块</a>由其在<a data-link-type="dfn" href="#grid-axis"
                id="ref-for-grid-axis②①">网格轴</a>中的<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-area" id="ref-for-grid-area">网格区域</a>和<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container⑨">网格容器</a>在<a data-link-type="dfn" href="#stacking-axis"
                id="ref-for-stacking-axis⑧">堆叠轴</a>中的<a data-link-type="dfn"
                href="https://www.w3.org/TR/CSS21/box.html#x10" id="ref-for-x10①">内容框</a>构成。</p>
        <h4 class="heading settled" data-level="4.3.2" id="rtl-example"><span class="secno">4.3.2. </span><span
                class="content"> 放置与书写模式</span><a class="self-link" href="#rtl-example"></a></h4>
        <p class="note" role="note"><span class="marker">注意：</span>与所有<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-layout" id="ref-for-grid-layout⑨">网格布局</a>一样，
            瀑布流布局和放置对<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode"
                id="ref-for-writing-mode">书写模式</a>敏感。
            例如，对于 <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                id="ref-for-propdef-direction">direction: rtl</a>（从右到左），
            项目是从右向左放置，而不是从左向右，
            无论内联轴是<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②②">网格轴</a>还是<a data-link-type="dfn"
                href="#stacking-axis" id="ref-for-stacking-axis⑨">堆叠轴</a>。</p>
        <div class="example" id="example-f7337db7">
            <a class="self-link" href="#example-f7337db7"></a> 这是一个在<a data-link-type="dfn" href="#grid-axis"
                id="ref-for-grid-axis②③">网格轴</a>中使用 <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                id="ref-for-propdef-direction①">direction: rtl</a> 的简单<a href="examples/rtl-grid-axis.html">示例</a>：
            <pre class="language-css highlight">&lt;style>
    .grid <c- p>{</c->
    //FIXME display: inline-grid<c- p>;</c-> or something
    direction: rtl<c- p>;</c->
    <c- k>grid-template-columns</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- m>4</c-><c- p>,</c-> <c- m>2</c-><c- k>ch</c-><c- p>);</c->
    <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
    <c- p>}</c->

    item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver <c- p>}</c->
    item<c- nf>:nth-child</c-><c- p>(</c-><c- m>2</c-><c- k>n</c-><c- m>+1</c-><c- p>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- m>4</c-><c- k>em</c-><c- p>;</c->
    <c- p>}</c->
    &lt;/style>
</pre>
            <pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"grid-column:span 2"</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <figure>
                <img height="107" src="https://www.w3.org/TR/css-grid-3/images/rtl-grid-axis.png" width="128">
                <figcaption>上述 <a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                        id="ref-for-propdef-direction②">direction: rtl</a> 示例的渲染结果。</figcaption>
            </figure>
        </div>
        <div class="example" id="example-e0fb18a7">
            <a class="self-link" href="#example-e0fb18a7"></a> 这是一个在<a data-link-type="dfn" href="#stacking-axis"
                id="ref-for-stacking-axis①⓪">堆叠轴</a>中使用 <a class="css" data-link-type="propdesc"
                href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                id="ref-for-propdef-direction③">direction: rtl</a> 的简单<a href="examples/rtl-masonry-axis.html">示例</a>：
            <pre class="language-css highlight">&lt;style>
.grid <c- p>{</c->
    //FIXME display: inline-grid<c- p>;</c-> or something
    direction: rtl<c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <c- m>10</c-><c- k>ch</c-><c- p>;</c->
    <c- k>column-gap</c-><c- p>:</c-> <c- m>1</c-><c- k>ch</c-><c- p>;</c->
    <c- k>grid-template-rows</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- m>4</c-><c- p>,</c-> <c- m>2</c-><c- k>em</c-><c- p>);</c->
    <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
<c- p>}</c->

item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver <c- p>}</c->
item<c- nf>:nth-child</c-><c- p>(</c-><c- m>2</c-><c- k>n</c-><c- m>+1</c-><c- p>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <c- m>4</c-><c- k>ch</c-><c- p>;</c->
<c- p>}</c->
&lt;/style>
</pre>
            <pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"grid-row:span 2"</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
            <figure>
                <img height="203" src="https://www.w3.org/TR/css-grid-3/images/rtl-masonry-axis.png" width="161">
                <figcaption>上述 <a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction"
                        id="ref-for-propdef-direction④">direction: rtl</a> 示例的渲染结果。</figcaption>
            </figure>
        </div>
        <h2 class="heading settled" data-level="5" id="intrinsic-sizes"><span class="secno">5. </span><span
                class="content"> 网格容器的尺寸设置</span><a class="self-link" href="#intrinsic-sizes"></a></h2>
        <p><a href="https://www.w3.org/TR/css-grid-2/#intrinsic-sizes">网格容器尺寸调整</a>与常规<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container①⓪">网格容器</a>的工作方式相同，但对<a data-link-type="dfn" href="#stacking-axis"
                id="ref-for-stacking-axis①①">堆叠轴</a>有以下补充：
            <span id="ref-for-grid-container①①">网格容器</span>在<span id="ref-for-stacking-axis①②">堆叠轴</span>中的<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#max-content"
                id="ref-for-max-content">最大内容尺寸</a>（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-sizing-3/#min-content" id="ref-for-min-content">最小内容尺寸</a>）是指在该轴向上，当<a
                data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box">瀑布流盒</a>在<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-sizing-3/#max-content-constraint"
                id="ref-for-max-content-constraint">最大内容约束</a>（<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-sizing-3/#min-content-constraint"
                id="ref-for-min-content-constraint">最小内容约束</a>）下确定尺寸时的大小。
        </p>
        <div class="example" id="example-867932d9">
            <a class="self-link" href="#example-867932d9"></a> 这是一个简单的<a
                href="examples/grid-intrinsic-sizing-example-1.html">示例</a>：
            <pre class="language-css highlight">&lt;style>
        .grid <c- p>{</c->
          //FIXME display: inline-grid<c- p>;</c-> or something
          grid-template-columns: <c- m>50</c-><c- k>px</c-> <c- m>100</c-><c- k>px</c-> auto<c- p>;</c->
          <c- k>grid-gap</c-><c- p>:</c-> <c- m>10</c-><c- k>px</c-><c- p>;</c->
          <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
        <c- p>}</c->
        item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver<c- p>;</c-> <c- k>margin</c-><c- p>:</c-> <c- m>5</c-><c- k>px</c-><c- p>;</c-> <c- p>}</c->
        &lt;/style>
        </pre>
            <pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"border:10px solid"</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"height:50px"</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>item</c-><c- p>></c->6<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
        <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
        </pre>
            <figure>
                <img height="158" src="https://www.w3.org/TR/css-grid-3/images/grid-intrinsic-sizing-example-1.png"
                    width="294">
                <figcaption>上述<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                        id="ref-for-grid-container①②">网格容器</a>固有尺寸调整示例的渲染结果。</figcaption>
            </figure>
        </div>
        <h2 class="heading settled" data-level="6" id="alignment"><span class="secno">6. </span><span class="content">
                对齐与间距</span><a class="self-link" href="#alignment"></a></h2>
        <p>两个轴都支持<a href="https://www.w3.org/TR/css-grid-2/#gutters">间距</a>。
            在<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①③">堆叠轴</a>中，
            间距应用于每对相邻项目的外边距盒之间。
            外边距在任一轴上都不会折叠。</p>
        <p>在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②④">网格轴</a>中，<a
                href="https://www.w3.org/TR/css-grid-2/#alignment">对齐</a>的工作方式与常规<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container①③">网格容器</a>中的相同。</p>
        <p>在<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①④">堆叠轴</a>中，<a
                href="https://www.w3.org/TR/css-align-3/#content-distribution">内容分布</a>应用于
            整个内容，类似于其在块容器中的行为。
            更具体地说，<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#alignment-subject"
                id="ref-for-alignment-subject">对齐主体</a>是<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="masonry-box">瀑布流盒</dfn>，
            它是包围所有<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item④">网格项</a>的<a data-link-type="dfn" href="https://www.w3.org/TR/CSS21/box.html#x17"
                id="ref-for-x17">外边距盒</a>的最小矩形。</p>
        <figure>
            <img height="136" src="https://www.w3.org/TR/css-grid-3/images/masonry-box.png" width="166">
            <figcaption> <a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box①">瀑布流盒</a>的范围由虚线边框指示。
                （请注意，此处项目 1 的底部外边距为 5px。） </figcaption>
        </figure>
        <p class="note" role="note"><span class="marker">注意：</span>在<a data-link-type="dfn" href="#stacking-axis"
                id="ref-for-stacking-axis①⑤">堆叠轴</a>中，这些属性始终只有一个<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-align-3/#alignment-subject" id="ref-for-alignment-subject①">对齐主体</a>，
            因此唯一的 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-align-3/#propdef-align-content"
                id="ref-for-propdef-align-content">align-content</a> / <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-align-3/#propdef-justify-content"
                id="ref-for-propdef-justify-content">justify-content</a> 值可归结为 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-self-position-start"
                id="ref-for-valdef-self-position-start">start</a>、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-self-position-center"
                id="ref-for-valdef-self-position-center">center</a>、<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-self-position-end"
                id="ref-for-valdef-self-position-end">end</a>
            和<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-alignment"
                id="ref-for-baseline-alignment①">基线对齐</a>。
            （<a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal"
                id="ref-for-valdef-justify-content-normal">normal</a> 和 <a class="css" data-link-type="maybe"
                href="https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch"
                id="ref-for-valdef-align-content-stretch">stretch</a> 的行为与 <span class="css"
                id="ref-for-valdef-self-position-start①">start</span> 相同，
            并且<a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#distributed-alignment"
                id="ref-for-distributed-alignment">分布式对齐</a>值的行为与其<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-align-3/#fallback-alignment"
                id="ref-for-fallback-alignment">回退对齐</a>相同。）
            如果<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item⑤">网格项</a>在<span id="ref-for-stacking-axis①⑥">堆叠轴</span>中溢出<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container①④">网格容器</a>的<a
                data-link-type="dfn" href="https://www.w3.org/TR/CSS21/box.html#x10" id="ref-for-x10②">内容框</a>，
            那么<a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box②">瀑布流盒</a>将
            大于<span id="ref-for-grid-container①⑤">网格容器</span>的<span id="ref-for-x10③">内容框</span>。</p>
        <p class="issue" id="issue-491b71c9"><a class="self-link" href="#issue-491b71c9"></a> 堆叠轴中的对齐是否应该更复杂一些？
            应该是什么样的？</p>
        <h3 class="heading settled" data-level="6.1" id="masonry-axis-baseline-alignment"><span class="secno">6.1.
            </span><span class="content"> 堆叠轴中的基线对齐</span><a class="self-link"
                href="#masonry-axis-baseline-alignment"></a></h3>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-alignment"
                id="ref-for-baseline-alignment②">项目基线对齐</a>在<a data-link-type="dfn" href="#grid-axis"
                id="ref-for-grid-axis②⑤">网格轴</a>轨道内的运作方式与常规<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container①⑥">网格容器</a>相同，
            并且<span id="ref-for-grid-container①⑦">网格容器</span>的基线在该轴上的确定方式与常规<span
                id="ref-for-grid-container①⑧">网格容器</span>相同。</p>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-alignment"
                id="ref-for-baseline-alignment③">基线对齐</a>在<a data-link-type="dfn" href="#stacking-axis"
                id="ref-for-stacking-axis①⑦">堆叠轴</a>中不受支持。
            <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container①⑨">网格容器</a>在此轴上的第一个基线集
            由第一个被占用轨道中第一个<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item⑥">网格项</a>的<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-align-3/#alignment-baseline" id="ref-for-alignment-baseline">对齐基线</a>生成，
            最后一个基线集由最后放置的<span id="ref-for-grid-item⑦">网格项</span>生成。
        </p>
        <p class="issue" id="issue-4a2d589c"><a class="self-link" href="#issue-4a2d589c"></a> 我们可以支持第一行中的基线
            对齐。我们想要这样做吗？</p>
        <p class="issue" id="issue-f1320409"><a class="self-link" href="#issue-f1320409"></a> 最后一个基线
            是否应该来自最后一个最低放置的项目？</p>
        <h2 class="heading settled" data-level="7" id="pagination"><span class="secno">7. </span><span class="content">
                片段化</span><a class="self-link" href="#pagination"></a></h2>
        <h3 class="heading settled" data-level="7.1" id="masonry-axis-pagination"><span class="secno">7.1. </span><span
                class="content"> 堆叠轴中的片段化</span><a class="self-link" href="#masonry-axis-pagination"></a></h3>
        <p>每个<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑥">网格轴</a>轨道在<a data-link-type="dfn"
                href="#stacking-axis" id="ref-for-stacking-axis①⑧">堆叠轴</a>中独立分片。
            如果一个<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-item"
                id="ref-for-grid-item⑧">网格项</a>被分片，
            或者在其之前/之后有<a data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#forced-break"
                id="ref-for-forced-break">强制中断</a>，
            那么它在<span id="ref-for-grid-axis②⑦">网格轴</span>中跨越的轨道的<a data-link-type="dfn" href="#running-position"
                id="ref-for-running-position③">运行位置</a>将被设置为<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-break-4/#fragmentainer"
                id="ref-for-fragmentainer">分片容器</a>的大小，以便不会在这些轨道中放置更多项目。
            一个被分割成多个分片的项目
            为其所有分片保留其在<span id="ref-for-grid-axis②⑧">网格轴</span>中的位置。
            然而，一个被推后的网格项，
            会被下一个<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container②⓪">网格容器</a>分片重新放置。
            放置将继续，直到所有项目都被放置或推送到新的分片。</p>
        <div class="example" id="example-d9ac598c">
            <a class="self-link" href="#example-d9ac598c"></a> 这是一个<a
                href="examples/fragmentation-block-axis-example.html">示例</a>，说明了在其<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                id="ref-for-block-axis②">块轴</a>中具有瀑布流布局的网格的分片。
            它渲染如下：
            <figure style="max-width:100%">
                <video controls src="https://www.w3.org/TR/css-grid-3/images/fragmentation-block-axis-example.mp4"
                    style="max-width:100%"></video>
                <figcaption> <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                        id="ref-for-block-axis③">块轴</a><a data-link-type="dfn" href="#masonry-layout"
                        id="ref-for-masonry-layout⑨">瀑布流布局</a>中分片的可视化。 </figcaption>
            </figure>
        </div>
        <h3 class="heading settled" data-level="7.2" id="grid-axis-pagination"><span class="secno">7.2. </span><span
                class="content"> 网格轴中的片段化</span><a class="self-link" href="#grid-axis-pagination"></a></h3>
        <p>在另一个轴上使用<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⓪">瀑布流布局</a>时，也支持在<a
                data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑨">网格轴</a>中进行分片。
            在这种情况下，分片的行为更像在常规的<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container"
                id="ref-for-grid-container②①">网格容器</a>中；
            然而，在发生分片之前，有一个单独的步骤来确定每个项目放置到哪个<span id="ref-for-grid-axis③⓪">网格轴</span>轨道中。</p>
        <div class="example" id="example-62d55948">
            <a class="self-link" href="#example-62d55948"></a> 这是一个<a
                href="examples/fragmentation-inline-axis-example.html">示例</a>，说明了在其<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis②">内联轴</a>中具有<a
                data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①①">瀑布流布局</a>的网格的分片。
            在这种情况下，中断发生在<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③①">网格轴</a>行之间。
            它渲染如下：
            <figure style="max-width:100%">
                <video controls src="https://www.w3.org/TR/css-grid-3/images/fragmentation-inline-axis-example.mp4"
                    style="max-width:100%"></video>
                <figcaption> 在<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                        id="ref-for-block-axis④">块轴</a>中使用<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis"
                        id="ref-for-inline-axis③">内联轴</a><a data-link-type="dfn" href="#masonry-layout"
                        id="ref-for-masonry-layout①②">瀑布流布局</a>的分片可视化。 </figcaption>
            </figure>
        </div>
        <h2 class="heading settled" data-level="8" id="abspos"><span class="secno">8. </span><span class="content">
                绝对定位</span><a class="self-link" href="#abspos"></a></h2>
        <p><a href="https://www.w3.org/TR/css-grid-1/#abspos-items">网格对齐的绝对定位后代</a>在<a data-link-type="dfn"
                href="#masonry-container" id="ref-for-masonry-container①⑨">瀑布流容器</a>中的支持方式与常规<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container②②">网格容器</a>相同；
            然而，在<a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①⑨">堆叠轴</a>中，（除了 <span
                class="css">auto</span> 线之外）仅存在两条线用于放置：</p>
        <ul>
            <li data-md>
                <p>线 1 (线 -2) 对应于<a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box③">瀑布流盒</a>的起始边缘</p>
            <li data-md>
                <p>线 2 (线 -1) 对应于<a data-link-type="dfn" href="#masonry-box" id="ref-for-masonry-box④">瀑布流盒</a>的结束边缘</p>
        </ul>
        <p class="issue" id="issue-4007c2e6"><a class="self-link" href="#issue-4007c2e6"></a> 在<a data-link-type="dfn"
                href="#stacking-axis" id="ref-for-stacking-axis②⓪">堆叠轴</a>中定义静态位置可能很有用。
            也许可以将其定义为该点<a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③②">网格轴</a>轨道的最大（或最小？）当前<a
                data-link-type="dfn" href="#running-position" id="ref-for-running-position④">运行位置</a>？或者是它前面项目的末尾？</p>
        <h2 class="heading settled" data-level="9" id="graceful-degradation"><span class="secno">9. </span><span
                class="content"> 优雅降级</span><a class="self-link" href="#graceful-degradation"></a></h2>
        <p>通常，在支持网格布局但不支持瀑布流布局的用户代理 (UA) 中，瀑布流设计可以很好地降级。</p>
        <div class="example" id="example-51b24037">
            <a class="self-link" href="#example-51b24037"></a>
            <p>这是一个<a href="examples/graceful-degradation-example.html">示例</a>来说明这一点。</p>
            <pre class="language-css highlight"><c- k>display</c-><c- p>:</c-> grid<c- p>;</c->
//FIXME item-flow: collapse<c- p>;</c-> <c- c>/* 在不支持瀑布流布局的 UA 中被忽略 */</c->
grid-template-columns: <c- m>150</c-><c- k>px</c-> <c- m>100</c-><c- k>px</c-> <c- m>50</c-><c- k>px</c-><c- p>;</c->
</pre>
            <p>这将创建一个包含三列的布局，
                但如果 UA 不支持瀑布流布局，则在<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                    id="ref-for-block-axis⑤">块轴</a>中会有“更多间隙”。
                作为比较，以下是支持瀑布流布局时的样子：</p>
            <figure>
                <video controls src="https://www.w3.org/TR/css-grid-3/images/graceful-degradation-example.mp4"></video>
                <figcaption> 在支持瀑布流布局的 UA 中渲染示例。 </figcaption>
            </figure>
        </div>
        <h2 class="heading settled" id="flow-control"><span class="content"> 附录 A：通用布局项目流控制：<span
                    class="css">item-*</span> 属性</span><a class="self-link" href="#flow-control"></a></h2>
        <p class="issue" id="issue-fd53eff2"><a class="self-link" href="#issue-fd53eff2"></a> 此部分可能会移至其他规范，
            例如 <a data-link-type="biblio" href="#biblio-css-display-4"
                title="CSS Display Module Level 4">[css-display-4]</a>，
            因为它影响多种显示类型。</p>
        <p>CSS 中的多种布局模式将其子元素放置为
            组织到其容器中的行和/或列中的原子“项目”，
            并允许作者配置其排序和放置。
            <span class="css">item-*</span> 属性为这些排序和放置选项提供了通用控件，
            封装了特定于布局的 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow"
                id="ref-for-propdef-flex-flow">flex-flow</a> 和 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-3/#propdef-grid-auto-flow"
                id="ref-for-propdef-grid-auto-flow">grid-auto-flow</a> 属性。
        </p>
        <table class="data">
            <caption>项目流控制概述</caption>
            <thead>
                <tr>
                    <th>面向流的提案
                    <th>面向轨道的提案
                    <th>取值空间
                    <th>描述
                    <th>现有 flex 属性
                    <th>现有 grid 属性
            <tbody>
                <tr>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-direction"
                            id="ref-for-propdef-item-direction">item-direction</a>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-track"
                            id="ref-for-propdef-item-track">item-track</a>
                    <td>auto | row | column | row-reverse | column-reverse
                    <td> 控制项目是放置到行还是列中，
                        以及在这些轨道内它们是按从头到尾还是从尾到头的顺序排列。
                    <td>flex-direction
                    <td>grid-auto-flow
                <tr>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-wrap"
                            id="ref-for-propdef-item-wrap">item-wrap</a>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-cross"
                            id="ref-for-propdef-item-cross">item-cross</a>
                    <td>[ auto | nowrap | wrap ] || [ normal | reverse ] | wrap-reverse
                    <td> 控制项目是否在与行/列属性控制的轴相反的轴上换行，
                        如果是，则它们是按从头到尾还是从尾到头的顺序放置。
                    <td>flex-wrap
                    <td>在此级别引入到 <a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-grid-3/#propdef-grid-auto-flow"
                            id="ref-for-propdef-grid-auto-flow①">grid-auto-flow</a> 中。
                <tr>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack②">item-pack</a>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack③">item-pack</a>
                    <td>normal | dense || balance
                    <td> 配置项目如何打包到其轨道中。
                    <td>
                    <td><a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-grid-3/#propdef-grid-auto-flow"
                            id="ref-for-propdef-grid-auto-flow②">grid-auto-flow</a>
                <tr>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-slack"
                            id="ref-for-propdef-item-slack④">item-slack</a>
                    <td><a class="property css" data-link-type="property" href="#propdef-item-slack"
                            id="ref-for-propdef-item-slack⑤">item-slack</a>
                    <td>normal | <a class="production css" data-link-type="type"
                            href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage"
                            id="ref-for-typedef-length-percentage③">&lt;length-percentage></a> | infinite
                    <td> 定义放置决策中特定于布局的“松弛”量。
                    <td>
                    <td>
        </table>
        <p class="issue" id="issue-c971c9c1"><a class="self-link" href="#issue-c971c9c1"></a> CSSWG 仍在研究这些属性应如何命名和组合在一起。
            <a href="https://github.com/w3c/csswg-drafts/issues/11480">[问题 #11480]</a>
        </p>
        <h3 class="heading settled" id="item-primary-axis"><span class="content"> 项目流轴：<a class="property css"
                    data-link-type="property" href="#propdef-item-track"
                    id="ref-for-propdef-item-track①">item-track</a>/<a class="property css" data-link-type="property"
                    href="#propdef-item-direction" id="ref-for-propdef-item-direction①">item-direction</a></span><a
                class="self-link" href="#item-primary-axis"></a></h3>
        <table class="def propdef" data-link-for-hint="item-direction">
            <tbody>
                <tr>
                    <th>名称：
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-direction">item-direction</dfn>，<dfn class="dfn-paneled css"
                            data-dfn-type="property" data-export id="propdef-item-track">item-track</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">取值：</a>
                    <td class="prod">auto <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> row <span
                            id="ref-for-comb-one②">|</span> column <span id="ref-for-comb-one③">|</span> row-reverse
                        <span id="ref-for-comb-one④">|</span> column-reverse
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值：</a>
                    <td>auto
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于：</a>
                    <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                            id="ref-for-flex-container">弹性容器</a>、<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#grid-container"
                            id="ref-for-grid-container②③">网格容器</a>、<a data-link-type="dfn" href="#masonry-container"
                            id="ref-for-masonry-container②⓪">瀑布流容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">继承性：</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比：</a>
                    <td>N/A
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值：</a>
                    <td>如指定
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序：</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型：</a>
                    <td>离散
        </table>
        <p>此属性控制项目是按行还是按列放置，
            以及在这些轨道内它们是按从头到尾还是从尾到头的顺序排列。</p>
        <p class="issue" id="issue-80d7796e"><a class="self-link" href="#issue-80d7796e"></a> 关于此属性有两个悬而未决的争论：
            a) 它应该叫什么名字以及
            b) 它描述的是主要放置方向，
            还是放置项目的轨道的方向；
            换句话说，此属性定义的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary-axis">主轴</dfn>
            是<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary-placement-axis">主放置轴</dfn>还是<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary-track-axis">主轨道轴</dfn>。
            这些对于<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                id="ref-for-flex-layout④">弹性布局</a>和<a data-link-type="dfn"
                href="https://www.w3.org/TR/css-grid-2/#grid-layout" id="ref-for-grid-layout①⓪">网格布局</a>是相同的，
            但对于<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①③">瀑布流布局</a>则不同，其主要放置方向
            是横跨其轨道。 <a href="https://github.com/w3c/csswg-drafts/issues/11480">[问题 #11480]</a></p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-auto">auto</dfn>
            <dd data-md>
                <p>根据布局模式计算为 <a class="css" data-link-type="maybe" href="#valdef-item-direction-row"
                        id="ref-for-valdef-item-direction-row">row</a> 或 <a class="css" data-link-type="maybe"
                        href="#valdef-item-direction-column" id="ref-for-valdef-item-direction-column">column</a>：</p>
                <ul>
                    <li data-md>
                        <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                                id="ref-for-flex-container①">弹性容器</a>和<a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-grid-2/#grid-container"
                                id="ref-for-grid-container②④">网格容器</a>上，
                            计算为 <a class="css" data-link-type="maybe" href="#valdef-item-direction-row"
                                id="ref-for-valdef-item-direction-row①">row</a>。</p>
                    <li data-md>
                        <p>在<a data-link-type="dfn" href="#masonry-container"
                                id="ref-for-masonry-container②①">瀑布流容器</a>上，
                            如果 <a class="property css" data-link-type="property"
                                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows"
                                id="ref-for-propdef-grid-template-rows①">grid-template-rows</a> 不为 <a class="css"
                                data-link-type="maybe"
                                href="https://www.w3.org/TR/css-grid-2/#valdef-grid-template-rows-none"
                                id="ref-for-valdef-grid-template-rows-none">none</a> 且 <a class="property css"
                                data-link-type="property"
                                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns"
                                id="ref-for-propdef-grid-template-columns②">grid-template-columns</a> 为 <span
                                class="css" id="ref-for-valdef-grid-template-rows-none①">none</span>，
                            则计算为表示行轨道的值；
                            否则计算为表示列轨道的值。</p>
                </ul>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-row">row</dfn>
            <dd data-md>
                <p><span class="option masonry">面向轨道的选项</span> 表示放置到行中，
                    即平行于<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis"
                        id="ref-for-inline-axis④">内联轴</a>的轨道或线。
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑤">弹性布局</a>和<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout①①">网格布局</a>中，项目按内联轴从头到尾的顺序放置，
                    在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①④">瀑布流布局</a>中，项目按<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                        id="ref-for-block-axis⑥">块轴</a>从头到尾的顺序放置。</p>
                <p><span class="option grid">面向流的选项</span> 表示行优先的项目放置，
                    即在<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis"
                        id="ref-for-inline-axis⑤">内联轴</a>中从头到尾放置项目，
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑥">弹性布局</a>中产生弹性行线，
                    在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑤">瀑布流布局</a>中产生列网格轨道。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-column">column</dfn>
            <dd data-md>
                <p><span class="option masonry">面向轨道的选项</span> 表示放置到列中，
                    即平行于<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis"
                        id="ref-for-block-axis⑦">块轴</a>的轨道或线。
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑦">弹性布局</a>和<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout①②">网格布局</a>中，项目按块轴从头到尾的顺序放置，
                    在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑥">瀑布流布局</a>中，项目按<a
                        data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis"
                        id="ref-for-inline-axis⑥">内联轴</a>从头到尾的顺序放置。</p>
                <p><span class="option grid">面向流的选项</span> 表示行优先的项目放置，
                    即在<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis"
                        id="ref-for-inline-axis⑦">内联轴</a>中从头到尾放置项目，
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑧">弹性布局</a>中产生弹性行线，
                    以及在<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑦">瀑布流布局</a>中的列网格轨道。
                </p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-row-reverse">row-reverse</dfn>
            <dd data-md>
                <p>与 <a class="css" data-link-type="maybe" href="#valdef-item-direction-row"
                        id="ref-for-valdef-item-direction-row②">row</a> 相同，
                    但使用从尾到头的放置顺序。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-direction, item-track" data-dfn-type="value"
                    data-export id="valdef-item-direction-column-reverse">column-reverse</dfn>
            <dd data-md>
                <p>与 <a class="css" data-link-type="maybe" href="#valdef-item-direction-column"
                        id="ref-for-valdef-item-direction-column①">column</a> 相同，
                    但使用从尾到头的放置顺序。</p>
        </dl>

        <h3 class="heading settled" id="item-secondary-axis"><span class="content"> 项目交叉轴放置模式：<a class="property css"
                    data-link-type="property" href="#propdef-item-cross"
                    id="ref-for-propdef-item-cross①">item-cross</a>/<a class="property css" data-link-type="property"
                    href="#propdef-item-wrap" id="ref-for-propdef-item-wrap①">item-wrap</a></span><a class="self-link"
                href="#item-secondary-axis"></a></h3>
        <table class="def propdef" data-link-for-hint="item-wrap">
            <tbody>
                <tr>
                    <th>名称：
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-wrap">item-wrap</dfn>，<dfn class="dfn-paneled css" data-dfn-type="property"
                            data-export id="propdef-item-cross">item-cross</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">取值：</a>
                    <td class="prod">[ auto <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> nowrap
                        <span id="ref-for-comb-one⑥">|</span> wrap ] <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any">||</a> [ normal
                        <span id="ref-for-comb-one⑦">|</span> reverse ] <span id="ref-for-comb-one⑧">|</span>
                        wrap-reverse
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值：</a>
                    <td>auto
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于：</a>
                    <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                            id="ref-for-flex-container②">弹性容器</a>、<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#grid-container"
                            id="ref-for-grid-container②⑤">网格容器</a>、<a data-link-type="dfn" href="#masonry-container"
                            id="ref-for-masonry-container②②">瀑布流容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">继承性：</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比：</a>
                    <td>不适用
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值：</a>
                    <td>如指定
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序：</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型：</a>
                    <td>离散
        </table>
        <p>控制与<a data-link-type="dfn" href="#primary-axis" id="ref-for-primary-axis">主轴</a>相反的轴上的放置。</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-auto">auto</dfn>
            <dd data-md>
                <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                        id="ref-for-flex-container③">弹性容器</a>上计算为 <a class="css" data-link-type="maybe"
                        href="#valdef-item-wrap-nowrap" id="ref-for-valdef-item-wrap-nowrap">nowrap</a>，
                    在其他所有元素上计算为 <a class="css" data-link-type="maybe" href="#valdef-item-wrap-wrap"
                        id="ref-for-valdef-item-wrap-wrap">wrap</a>。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-nowrap">nowrap</dfn>
            <dd data-md>
                <p>项目将永远放置在<a data-link-type="dfn" href="#primary-placement-axis"
                        id="ref-for-primary-placement-axis">主放置轴</a>中，
                    即使空间不足。
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout⑨">弹性布局</a>中，这会创建一个<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-flexbox-1/#single-line-flex-container"
                        id="ref-for-single-line-flex-container">单行弹性容器</a>；
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout①③">网格布局</a>中，这会在必要时在<span
                        id="ref-for-primary-placement-axis①">主放置轴</span>中创建<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-grid-2/#implicit-grid-track"
                        id="ref-for-implicit-grid-track">隐式轨道</a>。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-wrap">wrap</dfn>
            <dd data-md>
                <p>当<a data-link-type="dfn" href="#primary-placement-axis"
                        id="ref-for-primary-placement-axis②">主放置轴</a>空间不足时，项目会换行。
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout①⓪">弹性布局</a>中，这会创建一个<a data-link-type="dfn"
                        href="https://www.w3.org/TR/css-flexbox-1/#multi-line-flex-container"
                        id="ref-for-multi-line-flex-container">多行弹性容器</a>；
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout"
                        id="ref-for-grid-layout①④">网格布局</a>中，当<span
                        id="ref-for-primary-placement-axis③">主放置轴</span>中的显式轨道用尽时，自动放置算法会移动到下一行/列。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-normal">normal</dfn>
            <dd data-md>
                <p>项目在与<a data-link-type="dfn" href="#primary-track-axis"
                        id="ref-for-primary-track-axis">主轨道轴</a>相反的轴上按从头到尾的顺序放置。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-reverse">reverse</dfn>
            <dd data-md>
                <p>项目在与<a data-link-type="dfn" href="#primary-track-axis"
                        id="ref-for-primary-track-axis①">主轨道轴</a>相反的轴上按从尾到头的顺序放置。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-wrap,item-cross" data-dfn-type="value"
                    data-export id="valdef-item-wrap-wrap-reverse">wrap-reverse</dfn>
            <dd data-md>
                <p>计算为 <span class="css">wrap reverse</span>。</p>
                <p class="note" role="note"><span class="marker">注意：</span>此值的存在是为了与现有的 <a class="property css"
                        data-link-type="property" href="https://www.w3.org/TR/css-flexbox-1/#propdef-flex-wrap"
                        id="ref-for-propdef-flex-wrap">flex-wrap</a> 值保持一致。</p>
        </dl>
        <p class="issue" id="issue-b3c639a9"><a class="self-link" href="#issue-b3c639a9"></a> 此属性的解释和命名取决于
            <a class="property css" data-link-type="property" href="#propdef-item-direction"
                id="ref-for-propdef-item-direction②">item-direction</a>/<a class="property css"
                data-link-type="property" href="#propdef-item-track" id="ref-for-propdef-item-track②">item-track</a>
            的轴的解释。<a href="https://github.com/w3c/csswg-drafts/issues/11480">[问题 #11480]</a>
        </p>
        <h3 class="heading settled" id="item-pack-options"><span class="content"> 项目放置打包模式：<a class="property css"
                    data-link-type="property" href="#propdef-item-pack" id="ref-for-propdef-item-pack④">item-pack</a>
                属性</span><a class="self-link" href="#item-pack-options"></a></h3>
        <table class="def propdef" data-link-for-hint="item-pack">
            <tbody>
                <tr>
                    <th>名称：
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-pack">item-pack</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">取值：</a>
                    <td class="prod">normal <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> dense <a
                            data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-any"
                            id="ref-for-comb-any①">||</a> balance
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值：</a>
                    <td>normal
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于：</a>
                    <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container"
                            id="ref-for-flex-container④">弹性容器</a>、<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#grid-container"
                            id="ref-for-grid-container②⑥">网格容器</a>、<a data-link-type="dfn" href="#masonry-container"
                            id="ref-for-masonry-container②③">瀑布流容器</a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">继承性：</a>
                    <td>否
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比：</a>
                    <td>不适用
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值：</a>
                    <td>如指定
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序：</a>
                    <td>按语法
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型：</a>
                    <td>离散
        </table>
        <p>此属性以特定于布局的方式控制项目如何在轨道之间分布。</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-pack" data-dfn-type="value" data-export
                    id="valdef-item-pack-normal">normal</dfn>
            <dd data-md>
                <p>使用布局模式的默认打包策略。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-pack" data-dfn-type="value" data-export
                    id="valdef-item-pack-dense">dense</dfn>
            <dd data-md>
                <p>允许回溯以将项目放置在先前跳过的空间中。
                    （这些空间可能因为先前的项目对于这些空间来说太大了而存在。）</p>
                <p>例如，
                    在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout①①">弹性布局</a>中，这允许将项目放置在仍有足够剩余空间的先前行上。</p>
            <dt data-md><dfn class="dfn-paneled css" data-dfn-for="item-pack" data-dfn-type="value" data-export
                    id="valdef-item-pack-balance">balance</dfn>
            <dd data-md>
                <p>在<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout"
                        id="ref-for-flex-layout①②">弹性布局</a>中，
                    此值平衡每行（包括最后一行）的内容量，
                    类似于 <a class="css" data-link-type="propdesc"
                        href="https://www.w3.org/TR/css-text-4/#propdef-text-wrap-style"
                        id="ref-for-propdef-text-wrap-style">text-wrap-style: balance</a>。</p>
        </dl>
        <p class="issue" id="issue-1efcc181"><a class="self-link" href="#issue-1efcc181"></a> 切换到<a data-link-type="dfn"
                href="#masonry-layout" id="ref-for-masonry-layout①⑧">瀑布流布局</a>的提案之一是向此 <a class="property css"
                data-link-type="property" href="#propdef-item-pack" id="ref-for-propdef-item-pack⑤">item-pack</a> 属性添加一个
            <dfn class="dfn-paneled css" data-dfn-for="item-pack" data-dfn-type="value" data-export
                id="valdef-item-pack-collapse">collapse</dfn> 值。 <a
                href="https://github.com/w3c/csswg-drafts/issues/11243">[问题 #11243]</a>
        </p>
        <p class="issue" id="issue-152d283d"><a class="self-link" href="#issue-152d283d"></a> <span
                class="css">dense</span> 打包是否应适用于瀑布流？
            在瀑布流中，这要昂贵得多，
            因为您必须在每个可能的间隙位置布置元素，
            以查看它是否足够短以适合；
            而网格只需处理一些整数即可。<a href="https://github.com/w3c/csswg-drafts/issues/9326">[问题 #9326]</a></p>
        <h3 class="heading settled" id="item-flow"><span class="content"> 项目放置简写：<a class="property css"
                    data-link-type="property" href="#propdef-item-flow" id="ref-for-propdef-item-flow">item-flow</a>
                简写</span><a class="self-link" href="#item-flow"></a></h3>
        <table class="def propdef" data-link-for-hint="item-flow">
            <tbody>
                <tr>
                    <th>名称：
                    <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export
                            id="propdef-item-flow">item-flow</dfn>
                <tr class="value">
                    <th><a href="https://www.w3.org/TR/css-values/#value-defs">取值：</a>
                    <td class="prod"><a class="production css" data-link-type="property" href="#propdef-item-direction"
                            id="ref-for-propdef-item-direction③">&lt;'item-direction'></a> <a data-link-type="grammar"
                            href="https://www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any②">||</a> <a
                            class="production css" data-link-type="property" href="#propdef-item-wrap"
                            id="ref-for-propdef-item-wrap②">&lt;'item-wrap'></a> <span id="ref-for-comb-any③">||</span>
                        <a class="production css" data-link-type="property" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack⑥">&lt;'item-pack'></a> <span id="ref-for-comb-any④">||</span>
                        <a class="production css" data-link-type="property" href="#propdef-item-slack"
                            id="ref-for-propdef-item-slack⑥">&lt;'item-slack'></a>
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">初始值：</a>
                    <td>参见各个属性
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">适用于：</a>
                    <td>参见各个属性
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">继承性：</a>
                    <td>参见各个属性
                <tr>
                    <th><a href="https://www.w3.org/TR/css-values/#percentages">百分比：</a>
                    <td>参见各个属性
                <tr>
                    <th><a href="https://www.w3.org/TR/css-cascade/#computed">计算值：</a>
                    <td>参见各个属性
                <tr>
                    <th><a href="https://www.w3.org/TR/web-animations/#animation-type">动画类型：</a>
                    <td>参见各个属性
                <tr>
                    <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">规范顺序：</a>
                    <td>按语法
        </table>
        <p>此<a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#shorthand-property"
                id="ref-for-shorthand-property">速记属性</a>在单个声明中设置其所有 <span class="css">item-*</span> <a
                data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#longhand"
                id="ref-for-longhand">普通属性</a>。</p>
        <h2 class="heading settled" data-level="10" id="acknowledgements"><span class="secno">10. </span><span
                class="content"> 致谢</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>感谢 Cameron McCormack 编写了瀑布流布局解释器文档（背景章节即摘自该文档）并将其提交给 CSSWG，感谢 Mats Palmgren 开发了此规范的原始版本。还要感谢所有对<a
                href="https://github.com/w3c/csswg-drafts/issues/4650">此功能初始提案</a>提供反馈的人。</p>
        <h2 class="heading settled" data-level="11" id="security"><span class="secno">11. </span><span class="content">
                安全注意事项</span><a class="self-link" href="#security"></a></h2>
        <p>作为一项布局规范，
            本规范除 CSS 布局通常公开的安全注意事项外，
            未引入新的安全注意事项。</p>
        <h2 class="heading settled" data-level="12" id="privacy"><span class="secno">12. </span><span class="content">
                隐私注意事项</span><a class="self-link" href="#privacy"></a></h2>
        <p>作为一项布局规范，
            本规范除 CSS 布局通常公开的隐私注意事项外，
            未引入新的隐私注意事项。</p>
        <h2 class="no-num heading settled" id="changes"><span class="content"> 变更</span><a class="self-link"
                href="#changes"></a></h2>
        <h3 class="heading settled" id="changes-3"><span class="content"> 自 Level 2 以来的新增内容</span><a class="self-link"
                href="#changes-3"></a></h3>
        <p>自 <a href="https://www.w3.org/TR/css-grid-2/">Level 2</a> 以来，已添加以下功能：</p>
        <ul>
            <li>添加了<a data-link-type="dfn" href="#masonry-layout" id="ref-for-masonry-layout①⑨">瀑布流布局</a>。
            </li>
            <li>添加了 <a class="property css" data-link-type="property" href="#propdef-item-flow"
                    id="ref-for-propdef-item-flow①">item-flow</a> 属性及其普通属性，
                作为项目排序和放置的通用控件。
                请参阅<a href="#flow-control">附录 A：通用布局项目流控制：item-* 属性</a>。
                (<a href="https://github.com/w3c/csswg-drafts/issues/11480">问题 11480</a>)
            </li>
        </ul>
        <h3 class="no-num heading settled" id="recent-changes"><span class="content"> 近期变更</span><a class="self-link"
                href="#recent-changes"></a></h3>
        <p>自 <a href="https://www.w3.org/TR/2024/WD-css-grid-3-20241003/">10 月 3 日工作草案</a>以来，已进行以下更改：</p>
        <ul>
            <li data-md>
                <p>删除了特定于瀑布流的轨道模板和放置属性。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/11243">问题 11243</a>)</p>
            </li>
            <li data-md>
                <p>引入了 <a class="property css" data-link-type="property" href="#propdef-item-flow"
                        id="ref-for-propdef-item-flow②">item-flow</a> 和 <span class="css">item-*</span> 普通属性，
                    取代了 <span class="css">masonry-flow</span> 和相关属性。
                    (<a href="https://github.com/w3c/csswg-drafts/issues/11480">问题 11480</a>)</p>
            </li>
            <li data-md>
                <p>将 <span class="css">masonry-slack</span> 重命名为 <a class="property css" data-link-type="property"
                        href="#propdef-item-slack" id="ref-for-propdef-item-slack⑦">item-slack</a>。</p>
            </li>
        </ul>
    </main>
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> 一致性</span><a class="self-link"
            href="#w3c-conformance"></a></h2>
    <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> 文档约定</span><a class="self-link"
            href="#w3c-conventions"></a></h3>
    <p>符合性要求通过描述性断言和RFC 2119术语的结合来表达。关键字“MUST”、
        “MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD NOT”、
        “RECOMMENDED”、“MAY”和“OPTIONAL”在本文件的规范部分应按照RFC 2119中的描述进行解释。
        然而，为了可读性，这些词在本规范中并不全以大写字母出现。</p>
    <p>本规范的所有文本都是规范性的，除了明确标记为非规范性的部分、示例和注释。<a data-link-type="biblio" href="#biblio-rfc2119"
            title="RFC中指示要求级别的关键词">[RFC2119]</a></p>
    <p>本规范中的示例用“例如”引入，或通过<code>class="example"</code>与规范文本区分开，像这样：</p>
    <div class="example" id="w3c-example">
        <a class="self-link" href="#w3c-example"></a>
        <p>这是一个信息性示例。</p>
    </div>
    <p>信息性注释以“注释”开头，并通过<code>class="note"</code>与规范文本区分开，像这样：</p>
    <p class="note" role="note">注释，这是一个信息性注释。</p>
    <p>建议是规范性部分，样式上引起特别注意，并通过<code>&lt;strong class="advisement"></code>与其他规范文本区分开，像这样：<strong class="advisement">
            用户代理必须提供可访问的替代方案。</strong></p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
        <summary>测试</summary>
        <p>与本规范内容相关的测试可以在像这样的“测试”块中记录。
            任何这样的块都是非规范性的。</p>
        <ul class="wpt-tests-list"></ul>
        <hr>
    </details>
    <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> 一致性类别</span><a
            class="self-link" href="#w3c-conformance-classes"></a></h3>
    <p>对本规范的符合性定义为三个符合性类别：</p>
    <dl>
        <dt>样式表
        <dd>一个<a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS样式表</a>。
        <dt>渲染器
        <dd>一个<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理</a>，它解释样式表的语义并渲染使用它们的文档。
        <dt>创作工具
        <dd>一个<a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">用户代理</a>，它编写样式表。
    </dl>
    <p>如果样式表的所有语句使用本模块中定义的语法都是根据通用CSS语法和本模块中定义的每个特性的个别语法有效，则该样式表符合本规范。</p>
    <p>如果渲染器在解释样式表时符合适当的规范，并支持本规范定义的所有特性，正确解析它们并相应地渲染文档，则该渲染器符合本规范。然而，用户代理因设备限制而无法正确渲染文档并不意味着该用户代理不符合规范。（例如，用户代理不要求在单色显示器上渲染颜色。）
    </p>
    <p>如果创作工具编写的样式表根据通用CSS语法和本模块中每个特性的个别语法是语法正确的，并满足本模块中描述的样式表的所有其他符合性要求，则该创作工具符合本规范。</p>
    <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> 部分实现</span><a class="self-link"
            href="#w3c-partial"></a></h3>
    <p>为了使作者能够利用向前兼容的解析规则来分配回退值，CSS渲染器<strong>必须</strong>将任何没有可用支持级别的at-rules、属性、属性值、关键字和其他语法结构视为无效（并<a
            href="https://www.w3.org/TR/CSS21/conform.html#ignore">根据需要忽略</a>）。特别是，用户代理<strong>不得</strong>在单一多值属性声明中选择性忽略不支持的组件值，而只考虑支持的值：如果任何值被视为无效（如不支持的值必须），CSS要求整个声明被忽略。
    </p>
    <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> 不稳定和专有功能的实现</span><a
            class="self-link" href="#w3c-conform-future-proofing"></a></h4>
    <p>为了避免与未来稳定的CSS特性发生冲突，CSS工作组建议<a href="https://www.w3.org/TR/CSS/#future-proofing">遵循最佳实践</a>来实现<a
            href="https://www.w3.org/TR/CSS/#unstable">不稳定</a>特性和<a
            href="https://www.w3.org/TR/CSS/#proprietary-extension">专有扩展</a>。</p>
    <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> 非实验性实现</span><a class="self-link"
            href="#w3c-testing"></a></h3>
    <p>一旦规范达到候选推荐阶段，非实验性实现是可能的，实施者应发布任何他们能证明符合规范的CR级特性的无前缀实现。</p>
    <p>为了建立和维护CSS在不同实现之间的互操作性，CSS工作组要求非实验性的CSS渲染器在发布任何CSS特性的无前缀实现之前，向W3C提交实施报告（如有必要，提交用于该实施报告的测试用例）。提交给W3C的测试用例将接受CSS工作组的审查和更正。
    </p>
    <p>有关提交测试用例和实施报告的更多信息，请访问CSS工作组的网站<a
            href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>。
        问题应发送到<a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>邮件列表。
    </p>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content"> 索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content"> 本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li>
            auto
            <ul>
                <li><a href="#valdef-item-direction-auto">item-direction, item-track 的值</a><span>, 在 § 未编号章节中</span>
                </li>
                <li><a href="#valdef-item-wrap-auto">item-wrap, item-cross 的值</a><span>, 在 § 未编号章节中</span>
                </li>
            </ul>
        </li>
        <li><a href="#valdef-repeat-auto-areas">auto-areas</a><span>, 在 § 3.3.1 中</span></li>
        <li><a href="#auto-placement-cursor">自动放置光标</a><span>, 在 § 4.3 中</span></li>
        <li><a href="#valdef-item-pack-balance">balance</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#valdef-item-pack-collapse">collapse</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#valdef-item-direction-column">column</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#column-masonry-container">列式瀑布流容器</a><span>, 在 § 2 中</span></li>
        <li><a href="#valdef-item-direction-column-reverse">column-reverse</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#valdef-item-pack-dense">dense</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#grid-axis">网格轴</a><span>, 在 § 2 中</span></li>
        <li><a href="#grid-axis">grid-axis</a><span>, 在 § 2 中</span></li>
        <li><a href="#valdef-item-slack-infinite">infinite</a><span>, 在 § 4.2 中</span></li>
        <li><a href="#propdef-item-cross">item-cross</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#propdef-item-direction">item-direction</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#propdef-item-flow">item-flow</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#item-groups">项目组</a><span>, 在 § 3.4.2 中</span></li>
        <li><a href="#propdef-item-pack">item-pack</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#propdef-item-slack">item-slack</a><span>, 在 § 4.2 中</span></li>
        <li><a href="#propdef-item-track">item-track</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#propdef-item-wrap">item-wrap</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#valdef-item-slack-length-percentage">&lt;length-percentage&gt;</a><span>, 在 § 4.2 中</span></li>
        <li><a href="#masonry-box">瀑布流盒</a><span>, 在 § 6 中</span></li>
        <li><a href="#masonry-container">瀑布流容器</a><span>, 在 § 2 中</span></li>
        <li><a href="#masonry-item">瀑布流项目</a><span>, 在 § 2 中</span></li>
        <li><a href="#masonry-layout">瀑布流布局</a><span>, 在 § 2 中</span></li>
        <li><a href="#masonry-track">瀑布流轨道</a><span>, 在 § 2 中</span></li>
        <li>
            normal
            <ul>
                <li><a href="#valdef-item-pack-normal">item-pack 的值</a><span>, 在 § 未编号章节中</span></li>
                <li><a href="#valdef-item-wrap-normal">item-wrap, item-cross 的值</a><span>, 在 § 未编号章节中</span></li>
            </ul>
        </li>
        <li><a href="#valdef-item-wrap-nowrap">nowrap</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#primary-axis">主轴</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#primary-placement-axis">主放置轴</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#primary-track-axis">主轨道轴</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#valdef-item-wrap-reverse">reverse</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#valdef-item-direction-row">row</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#row-masonry-container">行式瀑布流容器</a><span>, 在 § 2 中</span></li>
        <li><a href="#valdef-item-direction-row-reverse">row-reverse</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#running-position">运行位置</a><span>, 在 § 4.3 中</span></li>
        <li><a href="#stacking-axis">堆叠轴</a><span>, 在 § 2 中</span></li>
        <li><a href="#stacking-axis">stacking-axis</a><span>, 在 § 2 中</span></li>
        <li><a href="#submasonry">子瀑布流</a><span>, 在 § 3.2 中</span></li>
        <li><a href="#masonry-tie-threshold">连接阈值</a><span>, 在 § 4.2 中</span></li>
        <li><a href="#virtual-masonry-item">虚拟瀑布流项目</a><span>, 在 § 3.4.2 中</span></li>
        <li><a href="#valdef-item-wrap-wrap">wrap</a><span>, 在 § 未编号章节中</span></li>
        <li><a href="#valdef-item-wrap-wrap-reverse">wrap-reverse</a><span>, 在 § 未编号章节中</span></li>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-ALIGN-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="fde954ee">align-content</span>
                </li>
                <li><span class="dfn-paneled" id="73f86444">对齐基线</span>
                </li>
                <li><span class="dfn-paneled" id="dc2ecc7a">对齐主体</span>
                </li>
                <li><span class="dfn-paneled" id="4d2cf2cf">基线对齐</span>
                </li>
                <li><span class="dfn-paneled" id="207a83d3">基线共享组</span>
                </li>
                <li><span class="dfn-paneled" id="515ec31f">center</span>
                </li>
                <li><span class="dfn-paneled" id="da7c24e2">分布式对齐</span>
                </li>
                <li><span class="dfn-paneled" id="020c3333">end</span>
                </li>
                <li><span class="dfn-paneled" id="3c3b0bc2">回退对齐</span>
                </li>
                <li><span class="dfn-paneled" id="6f9416f0">grid-gap</span>
                </li>
                <li><span class="dfn-paneled" id="de6bd31b">justify-content</span>
                </li>
                <li><span class="dfn-paneled" id="50284573">normal</span>
                </li>
                <li><span class="dfn-paneled" id="35e80fd9">start</span>
                </li>
                <li><span class="dfn-paneled" id="ec67a9e7">stretch</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-BREAK-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="2218854e">强制中断</span>
                </li>
                <li><span class="dfn-paneled" id="872c3891">分片容器</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-CASCADE-5]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="8f27be0f">普通属性</span>
                </li>
                <li><span class="dfn-paneled" id="980ac56a">速记属性</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-DISPLAY-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="431a9cad">块化</span>
                </li>
                <li><span class="dfn-paneled" id="4edc72b0">阅读流</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-FLEXBOX-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="cc7f0a64">弹性容器</span>
                </li>
                <li><span class="dfn-paneled" id="07e702cf">弹性布局</span>
                </li>
                <li><span class="dfn-paneled" id="546f7867">flex-flow</span>
                </li>
                <li><span class="dfn-paneled" id="b70fab87">flex-wrap</span>
                </li>
                <li><span class="dfn-paneled" id="97651ccf">多行弹性容器</span>
                </li>
                <li><span class="dfn-paneled" id="7a8d5db2">order</span>
                </li>
                <li><span class="dfn-paneled" id="11b7dd33">顺序修改的文档顺序</span>
                </li>
                <li><span class="dfn-paneled" id="b55ea3dd">单行弹性容器</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-GAPS-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="481f5c73">repeat()</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-GRID-2]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="5b3e1fb0">auto</span>
                </li>
                <li><span class="dfn-paneled" id="da3291f7">auto-fill</span>
                </li>
                <li><span class="dfn-paneled" id="7b233769">auto-fit</span>
                </li>
                <li><span class="dfn-paneled" id="bdee6ddc">自动网格位置</span>
                </li>
                <li><span class="dfn-paneled" id="17638765">折叠轨道</span>
                </li>
                <li><span class="dfn-paneled" id="d911d74f">确定网格位置</span>
                </li>
                <li><span class="dfn-paneled" id="fdfd719c">确定位置</span>
                </li>
                <li><span class="dfn-paneled" id="57b234bc">显式网格</span>
                </li>
                <li><span class="dfn-paneled" id="7086fc61">网格区域</span>
                </li>
                <li><span class="dfn-paneled" id="df72a52c">网格容器</span>
                </li>
                <li><span class="dfn-paneled" id="ba30fc9a">网格项</span>
                </li>
                <li><span class="dfn-paneled" id="db4ae04f">网格布局</span>
                </li>
                <li><span class="dfn-paneled" id="b4a14210">网格轨道</span>
                </li>
                <li><span class="dfn-paneled" id="228fb890">grid-auto-columns</span>
                </li>
                <li><span class="dfn-paneled" id="6cc286fe">grid-auto-rows</span>
                </li>
                <li><span class="dfn-paneled" id="88fad469">网格放置属性</span>
                </li>
                <li><span class="dfn-paneled" id="a9860e91">grid-template-areas</span>
                </li>
                <li><span class="dfn-paneled" id="354cf3be">grid-template-columns</span>
                </li>
                <li><span class="dfn-paneled" id="25d528b6">grid-template-rows</span>
                </li>
                <li><span class="dfn-paneled" id="3208cbb5">隐式网格</span>
                </li>
                <li><span class="dfn-paneled" id="564e922b">隐式网格轨道</span>
                </li>
                <li><span class="dfn-paneled" id="6540f072">none <small>（对于 grid-template-areas）</small></span>
                </li>
                <li><span class="dfn-paneled" id="9edcd4ef">none <small>（对于 grid-template-rows）</small></span>
                </li>
                <li><span class="dfn-paneled" id="bbc693a1">subgrid</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-GRID-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="d4d84650">grid-auto-flow</span>
                </li>
                <li><span class="dfn-paneled" id="d909e27a">masonry</span>
                </li>
                <li><span class="dfn-paneled" id="0b7a6d57">masonry-auto-tracks</span>
                </li>
                <li><span class="dfn-paneled" id="e1e1764e">masonry-template-areas</span>
                </li>
                <li><span class="dfn-paneled" id="edecaf14">masonry-template-tracks</span>
                </li>
                <li><span class="dfn-paneled" id="b93bc3b3">masonry-track</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-SIZING-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c1c732b9">可用空间</span>
                </li>
                <li><span class="dfn-paneled" id="a47902ec">最大内容约束</span>
                </li>
                <li><span class="dfn-paneled" id="8a39af7f">最大内容尺寸</span>
                </li>
                <li><span class="dfn-paneled" id="451a41ae">最小内容约束</span>
                </li>
                <li><span class="dfn-paneled" id="6a444fd6">最小内容尺寸</span>
                </li>
                <li><span class="dfn-paneled" id="47ea2436">外部尺寸</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-TEXT-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="7801e50a">text-wrap-style</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="4fd7e54f">&lt;length-percentage&gt;</span>
                </li>
                <li><span class="dfn-paneled" id="8a110a7b">CSS 范围关键字</span>
                </li>
                <li><span class="dfn-paneled" id="4eb9d37e">|</span>
                </li>
                <li><span class="dfn-paneled" id="a0336d84">||</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="fb688f4f">direction</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="b8dade0f">块轴</span>
                </li>
                <li><span class="dfn-paneled" id="599428b5">block-axis</span>
                </li>
                <li><span class="dfn-paneled" id="a6eb24bb">内联轴</span>
                </li>
                <li><span class="dfn-paneled" id="82ddda8c">inline-axis</span>
                </li>
                <li><span class="dfn-paneled" id="eb6008ce">书写模式</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[CSS2]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c16a1180">包含块</span>
                </li>
                <li><span class="dfn-paneled" id="088aa1a3">内容框</span>
                </li>
                <li><span class="dfn-paneled" id="ef9e6926">display</span>
                </li>
                <li><span class="dfn-paneled" id="197337f9">外边距盒</span>
                </li>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-align-3">[CSS-ALIGN-3]
        </dt>
        <dd>Elika Etemad；Tab Atkins Jr.。 <a href="https://www.w3.org/TR/css-align-3/"><cite>CSS 框对齐模块级别
                    3</cite></a>。2023 年 2 月 17 日。WD。URL：<a
                href="https://www.w3.org/TR/css-align-3/">https://www.w3.org/TR/css-align-3/</a>
        </dd>
        <dt id="biblio-css-break-4">[CSS-BREAK-4]
        </dt>
        <dd>Rossen Atanassov；Elika Etemad。 <a href="https://www.w3.org/TR/css-break-4/"><cite>CSS 分片模块级别
                    4</cite></a>。2018 年 12 月 18 日。FPWD。URL：<a
                href="https://www.w3.org/TR/css-break-4/">https://www.w3.org/TR/css-break-4/</a>
        </dd>
        <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
        </dt>
        <dd>Elika Etemad；Miriam Suzanne；Tab Atkins Jr.。 <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS 级联和继承级别
                    5</cite></a>。2022 年 1 月 13 日。CR。URL：<a
                href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
        </dd>
        <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
        </dt>
        <dd>Elika Etemad；Tab Atkins Jr.。 <a href="https://www.w3.org/TR/css-display-4/"><cite>CSS 显示模块级别
                    4</cite></a>。2024 年 12 月 19 日。FPWD。URL：<a
                href="https://www.w3.org/TR/css-display-4/">https://www.w3.org/TR/css-display-4/</a>
        </dd>
        <dt id="biblio-css-flexbox-1">[CSS-FLEXBOX-1]
        </dt>
        <dd>Tab Atkins Jr.；等。 <a href="https://www.w3.org/TR/css-flexbox-1/"><cite>CSS 弹性框布局模块级别 1</cite></a>。2018 年 11
            月 19 日。CR。URL：<a href="https://www.w3.org/TR/css-flexbox-1/">https://www.w3.org/TR/css-flexbox-1/</a>
        </dd>
        <dt id="biblio-css-gaps-1">[CSS-GAPS-1]
        </dt>
        <dd><a href="https://drafts.csswg.org/css-gaps-1/"><cite>CSS 间隙装饰模块级别 1</cite></a>。编辑草案。URL：<a
                href="https://drafts.csswg.org/css-gaps-1/">https://drafts.csswg.org/css-gaps-1/</a>
        </dd>
        <dt id="biblio-css-grid-1">[CSS-GRID-1]
        </dt>
        <dd>Tab Atkins Jr.；等。 <a href="https://www.w3.org/TR/css-grid-1/"><cite>CSS 网格布局模块级别 1</cite></a>。2020 年 12 月 18
            日。CRD。URL：<a href="https://www.w3.org/TR/css-grid-1/">https://www.w3.org/TR/css-grid-1/</a>
        </dd>
        <dt id="biblio-css-grid-2">[CSS-GRID-2]
        </dt>
        <dd>Tab Atkins Jr.；Elika Etemad；Rossen Atanassov。 <a href="https://www.w3.org/TR/css-grid-2/"><cite>CSS 网格布局模块级别
                    2</cite></a>。2020 年 12 月 18 日。CRD。URL：<a
                href="https://www.w3.org/TR/css-grid-2/">https://www.w3.org/TR/css-grid-2/</a>
        </dd>
        <dt id="biblio-css-grid-3">[CSS-GRID-3]
        </dt>
        <dd>Tab Atkins Jr.；等。 <a href="https://www.w3.org/TR/css-grid-3/"><cite>CSS 网格布局模块级别 3</cite></a>。2024 年 10 月 3
            日。WD。URL：<a href="https://www.w3.org/TR/css-grid-3/">https://www.w3.org/TR/css-grid-3/</a>
        </dd>
        <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
        </dt>
        <dd>Tab Atkins Jr.；Elika Etemad。 <a href="https://www.w3.org/TR/css-sizing-3/"><cite>CSS 框大小调整模块级别
                    3</cite></a>。2021 年 12 月 17 日。WD。URL：<a
                href="https://www.w3.org/TR/css-sizing-3/">https://www.w3.org/TR/css-sizing-3/</a>
        </dd>
        <dt id="biblio-css-text-4">[CSS-TEXT-4]
        </dt>
        <dd>Elika Etemad；等。 <a href="https://www.w3.org/TR/css-text-4/"><cite>CSS 文本模块级别 4</cite></a>。2024 年 5 月 29
            日。WD。URL：<a href="https://www.w3.org/TR/css-text-4/">https://www.w3.org/TR/css-text-4/</a>
        </dd>
        <dt id="biblio-css-values-3">[CSS-VALUES-3]
        </dt>
        <dd>Tab Atkins Jr.；Elika Etemad。 <a href="https://www.w3.org/TR/css-values-3/"><cite>CSS 值和单位模块级别
                    3</cite></a>。2024 年 3 月 22 日。CRD。URL：<a
                href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
        </dd>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        </dt>
        <dd>Tab Atkins Jr.；Elika Etemad。 <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS 值和单位模块级别
                    4</cite></a>。2024 年 3 月 12 日。WD。URL：<a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        </dd>
        <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
        </dt>
        <dd>Elika Etemad；Koji Ishii。 <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS 书写模式级别
                    4</cite></a>。2019 年 7 月 30 日。CR。URL：<a
                href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
        </dd>
        <dt id="biblio-css2">[CSS2]
        </dt>
        <dd>Bert Bos；等。 <a href="https://www.w3.org/TR/CSS21/"><cite>层叠样式表级别 2 修订版 1 (CSS 2.1) 规范</cite></a>。2011 年 6 月
            7 日。REC。URL：<a href="https://www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
        </dd>
        <dt id="biblio-rfc2119">[RFC2119]
        </dt>
        <dd>S. Bradner。 <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>用于 RFC 中表示需求级别的关键字</cite></a>。1997
            年 3 月。最佳当前实践。URL：<a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        </dd>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">信息性参考文献</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
        <dd>Florian Rivoal; Rachel Andrew. <a href="https://www.w3.org/TR/css-multicol-1/"><cite>CSS
                    多列布局模块第1级</cite></a>. 2024年5月16日. CR. URL: <a
                href="https://www.w3.org/TR/css-multicol-1/">https://www.w3.org/TR/css-multicol-1/</a>
        <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
        <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-3/"><cite>CSS 写作模式第3级</cite></a>.
            2019年12月10日. REC. URL: <a
                href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">属性索引</span><a class="self-link"
            href="#property-index"></a></h2>
    <div class="big-element-wrapper">
        <table class="index">
            <thead>
                <tr>
                    <th scope="col">名称
                    </th>
                    <th scope="col">值
                    </th>
                    <th scope="col">初始值
                    </th>
                    <th scope="col">适用于
                    </th>
                    <th scope="col">继承性
                    </th>
                    <th scope="col">百分比
                    </th>
                    <th scope="col">动画类型
                    </th>
                    <th scope="col">规范顺序
                    </th>
                    <th scope="col">计算值
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-cross"
                            id="ref-for-propdef-item-cross②">item-cross</a>
                    </th>
                    <td>[ auto | nowrap | wrap ] || [ normal | reverse ] | wrap-reverse
                    </td>
                    <td>auto
                    </td>
                    <td>弹性容器、网格容器、瀑布流容器
                    </td>
                    <td>否
                    </td>
                    <td>不适用
                    </td>
                    <td>离散
                    </td>
                    <td>按语法
                    </td>
                    <td>如指定
                    </td>
                </tr>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-direction"
                            id="ref-for-propdef-item-direction④">item-direction</a>
                    </th>
                    <td>auto | row | column | row-reverse | column-reverse
                    </td>
                    <td>auto
                    </td>
                    <td>弹性容器、网格容器、瀑布流容器
                    </td>
                    <td>否
                    </td>
                    <td>不适用
                    </td>
                    <td>离散
                    </td>
                    <td>按语法
                    </td>
                    <td>如指定
                    </td>
                </tr>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-flow"
                            id="ref-for-propdef-item-flow③">item-flow</a>
                    </th>
                    <td>&lt;'item-direction'&gt; || &lt;'item-wrap'&gt; || &lt;'item-pack'&gt; || &lt;'item-slack'&gt;
                    </td>
                    <td>参见各个属性
                    </td>
                    <td>参见各个属性
                    </td>
                    <td>参见各个属性
                    </td>
                    <td>参见各个属性
                    </td>
                    <td>参见各个属性
                    </td>
                    <td>按语法
                    </td>
                    <td>参见各个属性
                    </td>
                </tr>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-pack"
                            id="ref-for-propdef-item-pack⑦">item-pack</a>
                    </th>
                    <td>normal | dense || balance
                    </td>
                    <td>normal
                    </td>
                    <td>弹性容器、网格容器、瀑布流容器
                    </td>
                    <td>否
                    </td>
                    <td>不适用
                    </td>
                    <td>离散
                    </td>
                    <td>按语法
                    </td>
                    <td>如指定
                    </td>
                </tr>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-slack"
                            id="ref-for-propdef-item-slack⑧">item-slack</a>
                    </th>
                    <td>&lt;length-percentage&gt; | infinite
                    </td>
                    <td>1em
                    </td>
                    <td>瀑布流容器
                    </td>
                    <td>否
                    </td>
                    <td>相对于瀑布流容器的网格轴内容框大小
                    </td>
                    <td>作为长度
                    </td>
                    <td>按语法
                    </td>
                    <td>计算后的 &lt;length-percentage&gt; 值
                    </td>
                </tr>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-track"
                            id="ref-for-propdef-item-track③">item-track</a>
                    </th>
                    <td>auto | row | column | row-reverse | column-reverse
                    </td>
                    <td>auto
                    </td>
                    <td>弹性容器、网格容器、瀑布流容器
                    </td>
                    <td>否
                    </td>
                    <td>不适用
                    </td>
                    <td>离散
                    </td>
                    <td>按语法
                    </td>
                    <td>如指定
                    </td>
                </tr>
                <tr>
                    <th scope="row"><a class="css" data-link-type="property" href="#propdef-item-wrap"
                            id="ref-for-propdef-item-wrap③">item-wrap</a>
                    </th>
                    <td>[ auto | nowrap | wrap ] || [ normal | reverse ] | wrap-reverse
                    </td>
                    <td>auto
                    </td>
                    <td>弹性容器、网格容器、瀑布流容器
                    </td>
                    <td>否
                    </td>
                    <td>不适用
                    </td>
                    <td>离散
                    </td>
                    <td>按语法
                    </td>
                    <td>如指定
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> 或者，对于此处自动放置的项目，重新排序是否应该是默认行为？ <a class="issue-return" href="#issue-f3901e05"
                title="跳转到章节">↵</a></div>
        <div class="issue">
            问题(11593)：我们仍在讨论使用何种语法开关来建立<a data-link-type="dfn" href="#masonry-layout">瀑布流布局</a>。
            目前的提案包括：
            <ul>
                <li data-md>
                    <p><a class="css" data-link-type="propdesc"
                            href="https://www.w3.org/TR/CSS21/visuren.html#propdef-display">display: masonry</a>
                        (或同义词，例如 <span class="css">display: stack</span>)</p>
                </li>
                <li data-md>
                    <p><a class="css" data-link-type="propdesc" href="#propdef-item-pack">item-pack: collapse</a> (参见
                        <span class="property">item-pack</span>)
                    </p>
                </li>
                <li data-md>
                    <p><a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows">grid-template-rows</a>/<a
                            class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns">grid-template-columns</a>
                        的 <span class="css">collapse</span> 值，
                        指示该轴作为<a data-link-type="dfn"
                            href="https://www.w3.org/TR/css-grid-2/#grid-container">网格容器</a>的<a data-link-type="dfn"
                            href="#stacking-axis">堆叠轴</a>
                    </p>
                </li>
            </ul>
            <a class="issue-return" href="#issue-65868180" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 初始轨道列表应该是什么？ <a href="https://github.com/w3c/csswg-drafts/issues/10869">[问题 #10869]</a> <a
                class="issue-return" href="#issue-f0b2f95f" title="跳转到章节">↵</a></div>
        <div class="issue"> 我们是否应该允许自动重复基于内容的轨道？
            这对于它们来说是一个合理的定义吗？
            它们是否也应该以某种方式在网格布局中工作？ <a href="https://github.com/w3c/csswg-drafts/issues/10915">[问题 #10915]</a> <a
                class="issue-return" href="#issue-b1e94dcd" title="跳转到章节">↵</a></div>
        <div class="issue"> 目前尚不清楚我们是否真的需要这个值。
            请注意，显式网格已经根据需要从 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns">grid-auto-columns</a>/<a
                class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows">grid-auto-rows</a>/<a
                class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-grid-3/#propdef-masonry-auto-tracks">masonry-auto-tracks</a> 中获取值，
            以匹配模板区域的数量。 <a href="https://github.com/w3c/csswg-drafts/issues/10854">[问题 #10854]</a> <a
                class="issue-return" href="#issue-33a96346" title="跳转到章节">↵</a></div>
        <div class="issue"> 需要一个更好的例子！！！ <a class="issue-return" href="#issue-33788d66" title="跳转到章节">↵</a></div>
        <div class="issue"> <span class="css">1em</span> 是正确的默认值吗？ <a class="issue-return" href="#issue-7bbfe9d5"
                title="跳转到章节">↵</a></div>
        <div class="issue"> 这是否也应该更新放置光标？ <a class="issue-return" href="#issue-9c647ef6" title="跳转到章节">↵</a></div>
        <div class="issue"> 堆叠轴中的对齐方式是否应该做一些更复杂的事情？
            那应该是什么？ <a class="issue-return" href="#issue-491b71c9" title="跳转到章节">↵</a></div>
        <div class="issue"> 我们可以支持第一行的基线对齐。我们想要这样做吗？ <a class="issue-return" href="#issue-4a2d589c" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 最后一条基线是否应该来自最后放置的最低项目？ <a class="issue-return" href="#issue-f1320409" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 在<a data-link-type="dfn" href="#stacking-axis">堆叠轴</a>中定义静态位置可能很有用。
            也许它可以定义为该点<a data-link-type="dfn" href="#grid-axis">网格轴</a>轨道的最大（或最小？）当前<a data-link-type="dfn"
                href="#running-position">运行位置</a>？或者是它前面项目的末尾？ <a class="issue-return" href="#issue-4007c2e6"
                title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 此部分可能会移至其他规范，
            例如 <a data-link-type="biblio" href="#biblio-css-display-4"
                title="CSS Display Module Level 4">[css-display-4]</a>，
            因为它影响多种显示类型。 <a class="issue-return" href="#issue-fd53eff2" title="跳转到章节">↵</a></div>
        <div class="issue"> CSSWG 仍在研究这些属性应如何命名以及如何组合在一起。 <a href="https://github.com/w3c/csswg-drafts/issues/11480">[问题
                #11480]</a> <a class="issue-return" href="#issue-c971c9c1" title="跳转到章节">↵</a></div>
        <div class="issue"> 关于此属性有两个悬而未决的争论：
            a) 它应该叫什么名字以及
            b) 它描述的是主要放置方向，
            还是放置项目的轨道的方向；
            换句话说，此属性定义的<span>主轴</span>
            是<span>主放置轴</span>还是<span>主轨道轴</span>。
            这些对于<a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-layout">弹性布局</a>和<a
                data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-layout">网格布局</a>是相同的，
            但对于<a data-link-type="dfn" href="#masonry-layout">瀑布流布局</a>则不同，其主要放置方向
            是横跨其轨道。 <a href="https://github.com/w3c/csswg-drafts/issues/11480">[问题 #11480]</a> <a class="issue-return"
                href="#issue-80d7796e" title="跳转到章节">↵</a></div>
        <div class="issue"> 此属性的解释和命名取决于
            <a class="property css" data-link-type="property" href="#propdef-item-direction">item-direction</a>/<a
                class="property css" data-link-type="property" href="#propdef-item-track">item-track</a> 的轴的解释。 <a
                href="https://github.com/w3c/csswg-drafts/issues/11480">[问题 #11480]</a> <a class="issue-return"
                href="#issue-b3c639a9" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 切换到<a data-link-type="dfn" href="#masonry-layout">瀑布流布局</a>的提案之一是向此 <a class="property css"
                data-link-type="property" href="#propdef-item-pack">item-pack</a> 属性添加一个 <span>collapse</span> 值。
            <a href="https://github.com/w3c/csswg-drafts/issues/11243">[问题 #11243]</a> <a class="issue-return"
                href="#issue-1efcc181" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> <span class="css">dense</span> 打包是否应适用于瀑布流？
            在瀑布流中，这要昂贵得多，
            因为您必须在每个可能的间隙位置布置元素，
            以查看它是否足够短以适合；
            而网格只需处理一些整数即可。 <a href="https://github.com/w3c/csswg-drafts/issues/9326">[问题 #9326]</a> <a
                class="issue-return" href="#issue-152d283d" title="跳转到章节">↵</a></div>
    </div>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "020c3333": { "dfnID": "020c3333", "dfnText": "end", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-self-position-end" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-end" },
                "07e702cf": { "dfnID": "07e702cf", "dfnText": "flex layout", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-flex-layout" }], "title": "1.1.2. \nOne-dimensional Grid Layout" }, { "refs": [{ "id": "ref-for-flex-layout\u2460" }, { "id": "ref-for-flex-layout\u2461" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-flex-layout\u2462" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-flex-layout\u2463" }, { "id": "ref-for-flex-layout\u2464" }, { "id": "ref-for-flex-layout\u2465" }, { "id": "ref-for-flex-layout\u2466" }, { "id": "ref-for-flex-layout\u2467" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-flex-layout\u2468" }, { "id": "ref-for-flex-layout\u2460\u24ea" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-flex-layout\u2460\u2460" }, { "id": "ref-for-flex-layout\u2460\u2461" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-flexbox-1/#flex-layout" },
                "088aa1a3": { "dfnID": "088aa1a3", "dfnText": "content box", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-x10" }], "title": "4.2. \nPlacement Precision: the item-slack property" }, { "refs": [{ "id": "ref-for-x10\u2460" }], "title": "4.3.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-x10\u2461" }, { "id": "ref-for-x10\u2462" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/CSS21/box.html#x10" },
                "0b7a6d57": { "dfnID": "0b7a6d57", "dfnText": "masonry-auto-tracks", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-masonry-auto-tracks" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-3/#propdef-masonry-auto-tracks" },
                "11b7dd33": { "dfnID": "11b7dd33", "dfnText": "order-modified document order", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-order-modified-document-order" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order" },
                "17638765": { "dfnID": "17638765", "dfnText": "collapsed track", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-collapsed-track" }, { "id": "ref-for-collapsed-track\u2460" }, { "id": "ref-for-collapsed-track\u2461" }], "title": "3.3.2. \nrepeat(auto-fit)" }], "url": "https://www.w3.org/TR/css-grid-2/#collapsed-track" },
                "197337f9": { "dfnID": "197337f9", "dfnText": "margin box", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-x17" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/CSS21/box.html#x17" },
                "207a83d3": { "dfnID": "207a83d3", "dfnText": "baseline-sharing group", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-baseline-sharing-group" }], "title": "3.4.2. \nOptimized Track Sizing" }], "url": "https://www.w3.org/TR/css-align-3/#baseline-sharing-group" },
                "2218854e": { "dfnID": "2218854e", "dfnText": "forced break", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-forced-break" }], "title": "7.1. \nFragmentation in the stacking axis" }], "url": "https://www.w3.org/TR/css-break-4/#forced-break" },
                "228fb890": { "dfnID": "228fb890", "dfnText": "grid-auto-columns", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-auto-columns" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-propdef-grid-auto-columns\u2460" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns" },
                "25d528b6": { "dfnID": "25d528b6", "dfnText": "grid-template-rows", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-template-rows" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-propdef-grid-template-rows\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows" },
                "3208cbb5": { "dfnID": "3208cbb5", "dfnText": "implicit grid", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implicit-grid" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-implicit-grid\u2460" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-grid-2/#implicit-grid" },
                "354cf3be": { "dfnID": "354cf3be", "dfnText": "grid-template-columns", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-template-columns" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-propdef-grid-template-columns\u2460" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-propdef-grid-template-columns\u2461" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns" },
                "35e80fd9": { "dfnID": "35e80fd9", "dfnText": "start", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-self-position-start" }, { "id": "ref-for-valdef-self-position-start\u2460" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-start" },
                "3c3b0bc2": { "dfnID": "3c3b0bc2", "dfnText": "fallback alignment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fallback-alignment" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#fallback-alignment" },
                "431a9cad": { "dfnID": "431a9cad", "dfnText": "blockify", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-blockify" }], "title": "2. \nMasonry Layout Model" }], "url": "https://www.w3.org/TR/css-display-4/#blockify" },
                "451a41ae": { "dfnID": "451a41ae", "dfnText": "min-content constraint", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-min-content-constraint" }], "title": "5. \nSizing Grid Containers" }], "url": "https://www.w3.org/TR/css-sizing-3/#min-content-constraint" },
                "47ea2436": { "dfnID": "47ea2436", "dfnText": "outer size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-outer-size" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-sizing-3/#outer-size" },
                "481f5c73": { "dfnID": "481f5c73", "dfnText": "repeat()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-funcdef-repeat" }, { "id": "ref-for-funcdef-repeat\u2460" }, { "id": "ref-for-funcdef-repeat\u2461" }, { "id": "ref-for-funcdef-repeat\u2462" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-funcdef-repeat\u2463" }, { "id": "ref-for-funcdef-repeat\u2464" }], "title": "3.3. \nTrack Repetition: the repeat() notation" }, { "refs": [{ "id": "ref-for-funcdef-repeat\u2465" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://drafts.csswg.org/css-gaps-1/#funcdef-repeat" },
                "4d2cf2cf": { "dfnID": "4d2cf2cf", "dfnText": "baseline alignment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-baseline-alignment" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-baseline-alignment\u2460" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-baseline-alignment\u2461" }, { "id": "ref-for-baseline-alignment\u2462" }], "title": "6.1. \nBaseline Alignment in the stacking axis" }], "url": "https://www.w3.org/TR/css-align-3/#baseline-alignment" },
                "4eb9d37e": { "dfnID": "4eb9d37e", "dfnText": "|", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-one" }], "title": "4.2. \nPlacement Precision: the item-slack property" }, { "refs": [{ "id": "ref-for-comb-one\u2460" }, { "id": "ref-for-comb-one\u2461" }, { "id": "ref-for-comb-one\u2462" }, { "id": "ref-for-comb-one\u2463" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-comb-one\u2464" }, { "id": "ref-for-comb-one\u2465" }, { "id": "ref-for-comb-one\u2466" }, { "id": "ref-for-comb-one\u2467" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-comb-one\u2468" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "4edc72b0": { "dfnID": "4edc72b0", "dfnText": "reading-flow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-reading-flow" }], "title": "2.1. \nReordering and Accessibility" }], "url": "https://www.w3.org/TR/css-display-4/#propdef-reading-flow" },
                "4fd7e54f": { "dfnID": "4fd7e54f", "dfnText": "<length-percentage>", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedef-length-percentage" }, { "id": "ref-for-typedef-length-percentage\u2460" }, { "id": "ref-for-typedef-length-percentage\u2461" }], "title": "4.2. \nPlacement Precision: the item-slack property" }, { "refs": [{ "id": "ref-for-typedef-length-percentage\u2462" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }], "url": "https://www.w3.org/TR/css-values-4/#typedef-length-percentage" },
                "50284573": { "dfnID": "50284573", "dfnText": "normal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-justify-content-normal" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal" },
                "515ec31f": { "dfnID": "515ec31f", "dfnText": "center", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-self-position-center" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-center" },
                "546f7867": { "dfnID": "546f7867", "dfnText": "flex-flow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-flex-flow" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }], "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow" },
                "564e922b": { "dfnID": "564e922b", "dfnText": "implicit grid track", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implicit-grid-track" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-grid-2/#implicit-grid-track" },
                "57b234bc": { "dfnID": "57b234bc", "dfnText": "explicit grid", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-explicit-grid" }], "title": "3. \nMasonry Track Specification" }], "url": "https://www.w3.org/TR/css-grid-2/#explicit-grid" },
                "599428b5": { "dfnID": "599428b5", "dfnText": "block-axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-block-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-block-axis\u2460" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-block-axis\u2461" }, { "id": "ref-for-block-axis\u2462" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-block-axis\u2463" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-block-axis\u2464" }], "title": "9. \nGraceful Degradation" }, { "refs": [{ "id": "ref-for-block-axis\u2465" }, { "id": "ref-for-block-axis\u2466" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#block-axis" },
                "5b3e1fb0": { "dfnID": "5b3e1fb0", "dfnText": "auto", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-grid-template-columns-auto" }, { "id": "ref-for-valdef-grid-template-columns-auto\u2460" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto" },
                "6540f072": { "dfnID": "6540f072", "dfnText": "none (for grid-template-areas)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-grid-template-areas-none" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-areas-none" },
                "6a444fd6": { "dfnID": "6a444fd6", "dfnText": "min-content size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-min-content" }], "title": "5. \nSizing Grid Containers" }], "url": "https://www.w3.org/TR/css-sizing-3/#min-content" },
                "6cc286fe": { "dfnID": "6cc286fe", "dfnText": "grid-auto-rows", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-auto-rows" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-propdef-grid-auto-rows\u2460" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows" },
                "6f9416f0": { "dfnID": "6f9416f0", "dfnText": "grid-gap", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-gap" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-align-3/#propdef-grid-gap" },
                "7086fc61": { "dfnID": "7086fc61", "dfnText": "grid area", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-area" }], "title": "4.3.1. \nContaining Block" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-area" },
                "73f86444": { "dfnID": "73f86444", "dfnText": "alignment baseline", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-alignment-baseline" }], "title": "6.1. \nBaseline Alignment in the stacking axis" }], "url": "https://www.w3.org/TR/css-align-3/#alignment-baseline" },
                "7801e50a": { "dfnID": "7801e50a", "dfnText": "text-wrap-style", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-text-wrap-style" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-text-4/#propdef-text-wrap-style" },
                "7a8d5db2": { "dfnID": "7a8d5db2", "dfnText": "order", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-order" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-propdef-order\u2460" }], "title": "2.1. \nReordering and Accessibility" }], "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-order" },
                "7b233769": { "dfnID": "7b233769", "dfnText": "auto-fit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-repeat-auto-fit" }, { "id": "ref-for-valdef-repeat-auto-fit\u2460" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-valdef-repeat-auto-fit\u2461" }, { "id": "ref-for-valdef-repeat-auto-fit\u2462" }], "title": "3.3.1. \nrepeat(auto-areas)" }, { "refs": [{ "id": "ref-for-valdef-repeat-auto-fit\u2463" }, { "id": "ref-for-valdef-repeat-auto-fit\u2464" }, { "id": "ref-for-valdef-repeat-auto-fit\u2465" }], "title": "3.3.2. \nrepeat(auto-fit)" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit" },
                "82ddda8c": { "dfnID": "82ddda8c", "dfnText": "inline-axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inline-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-inline-axis\u2460" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-inline-axis\u2461" }, { "id": "ref-for-inline-axis\u2462" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-inline-axis\u2463" }, { "id": "ref-for-inline-axis\u2464" }, { "id": "ref-for-inline-axis\u2465" }, { "id": "ref-for-inline-axis\u2466" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-axis" },
                "872c3891": { "dfnID": "872c3891", "dfnText": "fragmentainer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fragmentainer" }], "title": "7.1. \nFragmentation in the stacking axis" }], "url": "https://www.w3.org/TR/css-break-4/#fragmentainer" },
                "88fad469": { "dfnID": "88fad469", "dfnText": "grid-placement property", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-placement-property" }], "title": "4. \nMasonry Placement" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-placement-property" },
                "8a110a7b": { "dfnID": "8a110a7b", "dfnText": "CSS-wide keywords", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-css-wide-keywords" }], "title": "1.2. \nValue Definitions" }], "url": "https://www.w3.org/TR/css-values-4/#css-wide-keywords" },
                "8a39af7f": { "dfnID": "8a39af7f", "dfnText": "max-content size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-max-content" }], "title": "5. \nSizing Grid Containers" }], "url": "https://www.w3.org/TR/css-sizing-3/#max-content" },
                "8f27be0f": { "dfnID": "8f27be0f", "dfnText": "longhand property", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-longhand" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "https://www.w3.org/TR/css-cascade-5/#longhand" },
                "97651ccf": { "dfnID": "97651ccf", "dfnText": "multi-line flex container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-multi-line-flex-container" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-flexbox-1/#multi-line-flex-container" },
                "980ac56a": { "dfnID": "980ac56a", "dfnText": "shorthand property", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-shorthand-property" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "https://www.w3.org/TR/css-cascade-5/#shorthand-property" },
                "9edcd4ef": { "dfnID": "9edcd4ef", "dfnText": "none (for grid-template-rows)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-grid-template-rows-none" }, { "id": "ref-for-valdef-grid-template-rows-none\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-rows-none" },
                "a0336d84": { "dfnID": "a0336d84", "dfnText": "||", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-comb-any" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-comb-any\u2460" }], "title": "\nItem Placement Packing Mode: the item-pack property" }, { "refs": [{ "id": "ref-for-comb-any\u2461" }, { "id": "ref-for-comb-any\u2462" }, { "id": "ref-for-comb-any\u2463" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "https://www.w3.org/TR/css-values-4/#comb-any" },
                "a47902ec": { "dfnID": "a47902ec", "dfnText": "max-content constraint", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-max-content-constraint" }], "title": "5. \nSizing Grid Containers" }], "url": "https://www.w3.org/TR/css-sizing-3/#max-content-constraint" },
                "a6eb24bb": { "dfnID": "a6eb24bb", "dfnText": "inline axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-inline-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-inline-axis\u2460" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-inline-axis\u2461" }, { "id": "ref-for-inline-axis\u2462" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-inline-axis\u2463" }, { "id": "ref-for-inline-axis\u2464" }, { "id": "ref-for-inline-axis\u2465" }, { "id": "ref-for-inline-axis\u2466" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-axis" },
                "a9860e91": { "dfnID": "a9860e91", "dfnText": "grid-template-areas", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-template-areas" }, { "id": "ref-for-propdef-grid-template-areas\u2460" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas" },
                "auto-placement-cursor": { "dfnID": "auto-placement-cursor", "dfnText": "auto-placement cursor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-auto-placement-cursor" }, { "id": "ref-for-auto-placement-cursor\u2460" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }], "url": "#auto-placement-cursor" },
                "b4a14210": { "dfnID": "b4a14210", "dfnText": "grid track", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-track" }], "title": "2. \nMasonry Layout Model" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-track" },
                "b55ea3dd": { "dfnID": "b55ea3dd", "dfnText": "single-line flex container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-single-line-flex-container" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-flexbox-1/#single-line-flex-container" },
                "b70fab87": { "dfnID": "b70fab87", "dfnText": "flex-wrap", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-flex-wrap" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-wrap" },
                "b8dade0f": { "dfnID": "b8dade0f", "dfnText": "block axis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-block-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-block-axis\u2460" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-block-axis\u2461" }, { "id": "ref-for-block-axis\u2462" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-block-axis\u2463" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-block-axis\u2464" }], "title": "9. \nGraceful Degradation" }, { "refs": [{ "id": "ref-for-block-axis\u2465" }, { "id": "ref-for-block-axis\u2466" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#block-axis" },
                "b93bc3b3": { "dfnID": "b93bc3b3", "dfnText": "masonry-track", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-masonry-track" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }], "url": "https://www.w3.org/TR/css-grid-3/#propdef-masonry-track" },
                "ba30fc9a": { "dfnID": "ba30fc9a", "dfnText": "grid item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-item" }, { "id": "ref-for-grid-item\u2460" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-grid-item\u2461" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-grid-item\u2462" }], "title": "4.3.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-grid-item\u2463" }, { "id": "ref-for-grid-item\u2464" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-grid-item\u2465" }, { "id": "ref-for-grid-item\u2466" }], "title": "6.1. \nBaseline Alignment in the stacking axis" }, { "refs": [{ "id": "ref-for-grid-item\u2467" }], "title": "7.1. \nFragmentation in the stacking axis" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-item" },
                "bbc693a1": { "dfnID": "bbc693a1", "dfnText": "subgrid", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-subgrid" }, { "id": "ref-for-subgrid\u2460" }, { "id": "ref-for-subgrid\u2461" }], "title": "3.2. \nSubgrids" }], "url": "https://www.w3.org/TR/css-grid-2/#subgrid" },
                "bdee6ddc": { "dfnID": "bdee6ddc", "dfnText": "automatic grid position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-automatic-grid-position" }, { "id": "ref-for-automatic-grid-position\u2460" }], "title": "3.4. \nGrid Axis Track Sizing" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2461" }, { "id": "ref-for-automatic-grid-position\u2462" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2463" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-automatic-grid-position\u2464" }], "title": "4. \nMasonry Placement" }], "url": "https://www.w3.org/TR/css-grid-2/#automatic-grid-position" },
                "c16a1180": { "dfnID": "c16a1180", "dfnText": "containing block", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-containing-block" }], "title": "4.3.1. \nContaining Block" }], "url": "https://www.w3.org/TR/CSS21/visuren.html#containing-block" },
                "c1c732b9": { "dfnID": "c1c732b9", "dfnText": "available space", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-available" }], "title": "3. \nMasonry Track Specification" }], "url": "https://www.w3.org/TR/css-sizing-3/#available" },
                "cc7f0a64": { "dfnID": "cc7f0a64", "dfnText": "flex container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-flex-container" }, { "id": "ref-for-flex-container\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-flex-container\u2461" }, { "id": "ref-for-flex-container\u2462" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-flex-container\u2463" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-flexbox-1/#flex-container" },
                "column-masonry-container": { "dfnID": "column-masonry-container", "dfnText": "column masonry container", "external": false, "refSections": [], "url": "#column-masonry-container" },
                "d4d84650": { "dfnID": "d4d84650", "dfnText": "grid-auto-flow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-grid-auto-flow" }, { "id": "ref-for-propdef-grid-auto-flow\u2460" }, { "id": "ref-for-propdef-grid-auto-flow\u2461" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }], "url": "https://www.w3.org/TR/css-grid-3/#propdef-grid-auto-flow" },
                "d909e27a": { "dfnID": "d909e27a", "dfnText": "masonry", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-display-masonry" }], "title": "3.2. \nSubgrids" }], "url": "https://www.w3.org/TR/css-grid-3/#valdef-display-masonry" },
                "d911d74f": { "dfnID": "d911d74f", "dfnText": "definite grid position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-definite-grid-position" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-definite-grid-position\u2460" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-definite-grid-position\u2461" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-grid-2/#definite-grid-position" },
                "da3291f7": { "dfnID": "da3291f7", "dfnText": "auto-fill", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-repeat-auto-fill" }, { "id": "ref-for-valdef-repeat-auto-fill\u2460" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-valdef-repeat-auto-fill\u2461" }, { "id": "ref-for-valdef-repeat-auto-fill\u2462" }], "title": "3.3.2. \nrepeat(auto-fit)" }], "url": "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill" },
                "da7c24e2": { "dfnID": "da7c24e2", "dfnText": "distributed alignment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-distributed-alignment" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#distributed-alignment" },
                "db4ae04f": { "dfnID": "db4ae04f", "dfnText": "grid layout", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-layout" }, { "id": "ref-for-grid-layout\u2460" }], "title": "1.1.2. \nOne-dimensional Grid Layout" }, { "refs": [{ "id": "ref-for-grid-layout\u2461" }, { "id": "ref-for-grid-layout\u2462" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-grid-layout\u2463" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-grid-layout\u2464" }, { "id": "ref-for-grid-layout\u2465" }, { "id": "ref-for-grid-layout\u2466" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-grid-layout\u2467" }], "title": "4.1. \nSpecifying Masonry Item Placement: the grid-column-* and grid-row-* properties" }, { "refs": [{ "id": "ref-for-grid-layout\u2468" }], "title": "4.3.2. \nPlacement and Writing Modes" }, { "refs": [{ "id": "ref-for-grid-layout\u2460\u24ea" }, { "id": "ref-for-grid-layout\u2460\u2460" }, { "id": "ref-for-grid-layout\u2460\u2461" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-grid-layout\u2460\u2462" }, { "id": "ref-for-grid-layout\u2460\u2463" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-layout" },
                "dc2ecc7a": { "dfnID": "dc2ecc7a", "dfnText": "alignment subject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-alignment-subject" }, { "id": "ref-for-alignment-subject\u2460" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#alignment-subject" },
                "de6bd31b": { "dfnID": "de6bd31b", "dfnText": "justify-content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-justify-content" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#propdef-justify-content" },
                "df72a52c": { "dfnID": "df72a52c", "dfnText": "grid container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-grid-container" }, { "id": "ref-for-grid-container\u2460" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-grid-container\u2461" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-grid-container\u2462" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-grid-container\u2463" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-grid-container\u2464" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-grid-container\u2465" }], "title": "3.3.1. \nrepeat(auto-areas)" }, { "refs": [{ "id": "ref-for-grid-container\u2466" }], "title": "3.3.2. \nrepeat(auto-fit)" }, { "refs": [{ "id": "ref-for-grid-container\u2467" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-grid-container\u2468" }], "title": "4.3.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-grid-container\u2460\u24ea" }, { "id": "ref-for-grid-container\u2460\u2460" }, { "id": "ref-for-grid-container\u2460\u2461" }], "title": "5. \nSizing Grid Containers" }, { "refs": [{ "id": "ref-for-grid-container\u2460\u2462" }, { "id": "ref-for-grid-container\u2460\u2463" }, { "id": "ref-for-grid-container\u2460\u2464" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-grid-container\u2460\u2465" }, { "id": "ref-for-grid-container\u2460\u2466" }, { "id": "ref-for-grid-container\u2460\u2467" }, { "id": "ref-for-grid-container\u2460\u2468" }], "title": "6.1. \nBaseline Alignment in the stacking axis" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u24ea" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2460" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2461" }], "title": "8. \nAbsolute Positioning" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2462" }, { "id": "ref-for-grid-container\u2461\u2463" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2464" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-grid-container\u2461\u2465" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "https://www.w3.org/TR/css-grid-2/#grid-container" },
                "e1e1764e": { "dfnID": "e1e1764e", "dfnText": "masonry-template-areas", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-masonry-template-areas" }, { "id": "ref-for-propdef-masonry-template-areas\u2460" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-areas" },
                "eb6008ce": { "dfnID": "eb6008ce", "dfnText": "writing mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writing-mode" }], "title": "4.3.2. \nPlacement and Writing Modes" }], "url": "https://www.w3.org/TR/css-writing-modes-4/#writing-mode" },
                "ec67a9e7": { "dfnID": "ec67a9e7", "dfnText": "stretch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-valdef-align-content-stretch" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch" },
                "edecaf14": { "dfnID": "edecaf14", "dfnText": "masonry-template-tracks", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-masonry-template-tracks" }, { "id": "ref-for-propdef-masonry-template-tracks\u2460" }, { "id": "ref-for-propdef-masonry-template-tracks\u2461" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }], "url": "https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-tracks" },
                "ef9e6926": { "dfnID": "ef9e6926", "dfnText": "display", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-display" }, { "id": "ref-for-propdef-display\u2460" }], "title": "2.2. \nEstablishing Masonry Layout" }], "url": "https://www.w3.org/TR/CSS21/visuren.html#propdef-display" },
                "fb688f4f": { "dfnID": "fb688f4f", "dfnText": "direction", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-direction" }, { "id": "ref-for-propdef-direction\u2460" }, { "id": "ref-for-propdef-direction\u2461" }, { "id": "ref-for-propdef-direction\u2462" }, { "id": "ref-for-propdef-direction\u2463" }], "title": "4.3.2. \nPlacement and Writing Modes" }], "url": "https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" },
                "fde954ee": { "dfnID": "fde954ee", "dfnText": "align-content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-propdef-align-content" }], "title": "6. \nAlignment and Spacing" }], "url": "https://www.w3.org/TR/css-align-3/#propdef-align-content" },
                "fdfd719c": { "dfnID": "fdfd719c", "dfnText": "definite position", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-definite-grid-position" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-definite-grid-position\u2460" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-definite-grid-position\u2461" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }], "url": "https://www.w3.org/TR/css-grid-2/#definite-grid-position" },
                "grid-axis": { "dfnID": "grid-axis", "dfnText": "grid axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-grid-axis" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-grid-axis\u2460" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-grid-axis\u2461" }, { "id": "ref-for-grid-axis\u2462" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-grid-axis\u2463" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-grid-axis\u2464" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-grid-axis\u2465" }, { "id": "ref-for-grid-axis\u2466" }, { "id": "ref-for-grid-axis\u2467" }], "title": "3.4. \nGrid Axis Track Sizing" }, { "refs": [{ "id": "ref-for-grid-axis\u2468" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u24ea" }], "title": "4. \nMasonry Placement" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u2460" }], "title": "4.1. \nSpecifying Masonry Item Placement: the grid-column-* and grid-row-* properties" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u2461" }], "title": "4.2. \nPlacement Precision: the item-slack property" }, { "refs": [{ "id": "ref-for-grid-axis\u2460\u2462" }, { "id": "ref-for-grid-axis\u2460\u2463" }, { "id": "ref-for-grid-axis\u2460\u2464" }, { "id": "ref-for-grid-axis\u2460\u2465" }, { "id": "ref-for-grid-axis\u2460\u2466" }, { "id": "ref-for-grid-axis\u2460\u2467" }, { "id": "ref-for-grid-axis\u2460\u2468" }, { "id": "ref-for-grid-axis\u2461\u24ea" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2460" }], "title": "4.3.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2461" }, { "id": "ref-for-grid-axis\u2461\u2462" }], "title": "4.3.2. \nPlacement and Writing Modes" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2463" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2464" }], "title": "6.1. \nBaseline Alignment in the stacking axis" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2465" }, { "id": "ref-for-grid-axis\u2461\u2466" }, { "id": "ref-for-grid-axis\u2461\u2467" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-grid-axis\u2461\u2468" }, { "id": "ref-for-grid-axis\u2462\u24ea" }, { "id": "ref-for-grid-axis\u2462\u2460" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-grid-axis\u2462\u2461" }], "title": "8. \nAbsolute Positioning" }], "url": "#grid-axis" },
                "item-groups": { "dfnID": "item-groups", "dfnText": "item groups", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-item-groups" }], "title": "3.4.2. \nOptimized Track Sizing" }], "url": "#item-groups" },
                "masonry-box": { "dfnID": "masonry-box", "dfnText": "masonry box", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-box" }], "title": "5. \nSizing Grid Containers" }, { "refs": [{ "id": "ref-for-masonry-box\u2460" }, { "id": "ref-for-masonry-box\u2461" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-masonry-box\u2462" }, { "id": "ref-for-masonry-box\u2463" }], "title": "8. \nAbsolute Positioning" }], "url": "#masonry-box" },
                "masonry-container": { "dfnID": "masonry-container", "dfnText": "masonry container", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-container" }], "title": "1.1.1. \nWaterfall Layout with Auto-placed Items" }, { "refs": [{ "id": "ref-for-masonry-container\u2460" }], "title": "1.1.2. \nOne-dimensional Grid Layout" }, { "refs": [{ "id": "ref-for-masonry-container\u2461" }, { "id": "ref-for-masonry-container\u2462" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-masonry-container\u2463" }], "title": "3. \nMasonry Track Specification" }, { "refs": [{ "id": "ref-for-masonry-container\u2464" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-masonry-container\u2465" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-masonry-container\u2466" }, { "id": "ref-for-masonry-container\u2467" }, { "id": "ref-for-masonry-container\u2468" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u24ea" }], "title": "3.3.1. \nrepeat(auto-areas)" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2460" }, { "id": "ref-for-masonry-container\u2460\u2461" }], "title": "3.3.2. \nrepeat(auto-fit)" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2462" }], "title": "3.4.1. \nSubgrid Item Contributions" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2463" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2464" }, { "id": "ref-for-masonry-container\u2460\u2465" }, { "id": "ref-for-masonry-container\u2460\u2466" }, { "id": "ref-for-masonry-container\u2460\u2467" }], "title": "4.2. \nPlacement Precision: the item-slack property" }, { "refs": [{ "id": "ref-for-masonry-container\u2460\u2468" }], "title": "8. \nAbsolute Positioning" }, { "refs": [{ "id": "ref-for-masonry-container\u2461\u24ea" }, { "id": "ref-for-masonry-container\u2461\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-masonry-container\u2461\u2461" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-masonry-container\u2461\u2462" }], "title": "\nItem Placement Packing Mode: the item-pack property" }], "url": "#masonry-container" },
                "masonry-item": { "dfnID": "masonry-item", "dfnText": "masonry items", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-item" }, { "id": "ref-for-masonry-item\u2460" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-masonry-item\u2461" }], "title": "3.4.2. \nOptimized Track Sizing" }, { "refs": [{ "id": "ref-for-masonry-item\u2462" }], "title": "4.2. \nPlacement Precision: the item-slack property" }], "url": "#masonry-item" },
                "masonry-layout": { "dfnID": "masonry-layout", "dfnText": "Masonry layout", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-layout" }, { "id": "ref-for-masonry-layout\u2460" }], "title": "1.1.1. \nWaterfall Layout with Auto-placed Items" }, { "refs": [{ "id": "ref-for-masonry-layout\u2461" }, { "id": "ref-for-masonry-layout\u2462" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-masonry-layout\u2463" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-masonry-layout\u2464" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-masonry-layout\u2465" }, { "id": "ref-for-masonry-layout\u2466" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-masonry-layout\u2467" }], "title": "4.3.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-masonry-layout\u2468" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u24ea" }, { "id": "ref-for-masonry-layout\u2460\u2460" }, { "id": "ref-for-masonry-layout\u2460\u2461" }], "title": "7.2. \nFragmentation in the Grid Axis" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u2462" }, { "id": "ref-for-masonry-layout\u2460\u2463" }, { "id": "ref-for-masonry-layout\u2460\u2464" }, { "id": "ref-for-masonry-layout\u2460\u2465" }, { "id": "ref-for-masonry-layout\u2460\u2466" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u2467" }], "title": "\nItem Placement Packing Mode: the item-pack property" }, { "refs": [{ "id": "ref-for-masonry-layout\u2460\u2468" }], "title": "\nAdditions Since Level 2" }], "url": "#masonry-layout" },
                "masonry-tie-threshold": { "dfnID": "masonry-tie-threshold", "dfnText": "tie threshold", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-tie-threshold" }], "title": "4.2. \nPlacement Precision: the item-slack property" }, { "refs": [{ "id": "ref-for-masonry-tie-threshold\u2460" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }], "url": "#masonry-tie-threshold" },
                "masonry-track": { "dfnID": "masonry-track", "dfnText": "masonry tracks", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-masonry-track" }], "title": "4.2. \nPlacement Precision: the item-slack property" }], "url": "#masonry-track" },
                "primary-axis": { "dfnID": "primary-axis", "dfnText": "primary axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-primary-axis" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#primary-axis" },
                "primary-placement-axis": { "dfnID": "primary-placement-axis", "dfnText": "primary placement axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-primary-placement-axis" }, { "id": "ref-for-primary-placement-axis\u2460" }, { "id": "ref-for-primary-placement-axis\u2461" }, { "id": "ref-for-primary-placement-axis\u2462" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#primary-placement-axis" },
                "primary-track-axis": { "dfnID": "primary-track-axis", "dfnText": "primary track axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-primary-track-axis" }, { "id": "ref-for-primary-track-axis\u2460" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#primary-track-axis" },
                "propdef-item-cross": { "dfnID": "propdef-item-cross", "dfnText": "item-cross", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-cross" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-cross\u2460" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#propdef-item-cross" },
                "propdef-item-direction": { "dfnID": "propdef-item-direction", "dfnText": "item-direction", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-direction" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-direction\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-propdef-item-direction\u2461" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-propdef-item-direction\u2462" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "#propdef-item-direction" },
                "propdef-item-flow": { "dfnID": "propdef-item-flow", "dfnText": "item-flow", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-flow" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }, { "refs": [{ "id": "ref-for-propdef-item-flow\u2460" }], "title": "\nAdditions Since Level 2" }, { "refs": [{ "id": "ref-for-propdef-item-flow\u2461" }], "title": "\nRecent Changes" }], "url": "#propdef-item-flow" },
                "propdef-item-pack": { "dfnID": "propdef-item-pack", "dfnText": "item-pack", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-pack" }, { "id": "ref-for-propdef-item-pack\u2460" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-propdef-item-pack\u2461" }, { "id": "ref-for-propdef-item-pack\u2462" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-pack\u2463" }, { "id": "ref-for-propdef-item-pack\u2464" }], "title": "\nItem Placement Packing Mode: the item-pack property" }, { "refs": [{ "id": "ref-for-propdef-item-pack\u2465" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "#propdef-item-pack" },
                "propdef-item-slack": { "dfnID": "propdef-item-slack", "dfnText": "item-slack", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-slack" }, { "id": "ref-for-propdef-item-slack\u2460" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-propdef-item-slack\u2461" }, { "id": "ref-for-propdef-item-slack\u2462" }], "title": "4.2. \nPlacement Precision: the item-slack property" }, { "refs": [{ "id": "ref-for-propdef-item-slack\u2463" }, { "id": "ref-for-propdef-item-slack\u2464" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-slack\u2465" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }, { "refs": [{ "id": "ref-for-propdef-item-slack\u2466" }], "title": "\nRecent Changes" }], "url": "#propdef-item-slack" },
                "propdef-item-track": { "dfnID": "propdef-item-track", "dfnText": "item-track", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-track" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-track\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }, { "refs": [{ "id": "ref-for-propdef-item-track\u2461" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#propdef-item-track" },
                "propdef-item-wrap": { "dfnID": "propdef-item-wrap", "dfnText": "item-wrap", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-propdef-item-wrap" }], "title": "\nAppendix A: Generic Layout Item Flow Controls: the item-* properties" }, { "refs": [{ "id": "ref-for-propdef-item-wrap\u2460" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }, { "refs": [{ "id": "ref-for-propdef-item-wrap\u2461" }], "title": "\nItem Placement Shorthand: the item-flow shorthand" }], "url": "#propdef-item-wrap" },
                "row-masonry-container": { "dfnID": "row-masonry-container", "dfnText": "row masonry container", "external": false, "refSections": [], "url": "#row-masonry-container" },
                "running-position": { "dfnID": "running-position", "dfnText": "running position", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-running-position" }, { "id": "ref-for-running-position\u2460" }, { "id": "ref-for-running-position\u2461" }], "title": "4.3. \nMasonry Layout and Placement Algorithm" }, { "refs": [{ "id": "ref-for-running-position\u2462" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-running-position\u2463" }], "title": "8. \nAbsolute Positioning" }], "url": "#running-position" },
                "stacking-axis": { "dfnID": "stacking-axis", "dfnText": "stacking axis", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-stacking-axis" }, { "id": "ref-for-stacking-axis\u2460" }], "title": "2. \nMasonry Layout Model" }, { "refs": [{ "id": "ref-for-stacking-axis\u2461" }], "title": "2.1. \nReordering and Accessibility" }, { "refs": [{ "id": "ref-for-stacking-axis\u2462" }], "title": "2.2. \nEstablishing Masonry Layout" }, { "refs": [{ "id": "ref-for-stacking-axis\u2463" }], "title": "3.1. \nDeclaring Masonry Track Templates: the grid-template-* properties" }, { "refs": [{ "id": "ref-for-stacking-axis\u2464" }, { "id": "ref-for-stacking-axis\u2465" }], "title": "3.2. \nSubgrids" }, { "refs": [{ "id": "ref-for-stacking-axis\u2466" }], "title": "4.2. \nPlacement Precision: the item-slack property" }, { "refs": [{ "id": "ref-for-stacking-axis\u2467" }], "title": "4.3.1. \nContaining Block" }, { "refs": [{ "id": "ref-for-stacking-axis\u2468" }, { "id": "ref-for-stacking-axis\u2460\u24ea" }], "title": "4.3.2. \nPlacement and Writing Modes" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2460" }, { "id": "ref-for-stacking-axis\u2460\u2461" }], "title": "5. \nSizing Grid Containers" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2462" }, { "id": "ref-for-stacking-axis\u2460\u2463" }, { "id": "ref-for-stacking-axis\u2460\u2464" }, { "id": "ref-for-stacking-axis\u2460\u2465" }], "title": "6. \nAlignment and Spacing" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2466" }], "title": "6.1. \nBaseline Alignment in the stacking axis" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2467" }], "title": "7.1. \nFragmentation in the stacking axis" }, { "refs": [{ "id": "ref-for-stacking-axis\u2460\u2468" }, { "id": "ref-for-stacking-axis\u2461\u24ea" }], "title": "8. \nAbsolute Positioning" }], "url": "#stacking-axis" },
                "submasonry": { "dfnID": "submasonry", "dfnText": "submasonry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-submasonry" }, { "id": "ref-for-submasonry\u2460" }], "title": "3.4.1. \nSubgrid Item Contributions" }], "url": "#submasonry" },
                "valdef-item-direction-auto": { "dfnID": "valdef-item-direction-auto", "dfnText": "auto", "external": false, "refSections": [], "url": "#valdef-item-direction-auto" },
                "valdef-item-direction-column": { "dfnID": "valdef-item-direction-column", "dfnText": "column", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-direction-column" }, { "id": "ref-for-valdef-item-direction-column\u2460" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "#valdef-item-direction-column" },
                "valdef-item-direction-column-reverse": { "dfnID": "valdef-item-direction-column-reverse", "dfnText": "column-reverse", "external": false, "refSections": [], "url": "#valdef-item-direction-column-reverse" },
                "valdef-item-direction-row": { "dfnID": "valdef-item-direction-row", "dfnText": "row", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-direction-row" }, { "id": "ref-for-valdef-item-direction-row\u2460" }, { "id": "ref-for-valdef-item-direction-row\u2461" }], "title": "\nItem Flow Axis: item-track/item-direction" }], "url": "#valdef-item-direction-row" },
                "valdef-item-direction-row-reverse": { "dfnID": "valdef-item-direction-row-reverse", "dfnText": "row-reverse", "external": false, "refSections": [], "url": "#valdef-item-direction-row-reverse" },
                "valdef-item-pack-balance": { "dfnID": "valdef-item-pack-balance", "dfnText": "balance", "external": false, "refSections": [], "url": "#valdef-item-pack-balance" },
                "valdef-item-pack-collapse": { "dfnID": "valdef-item-pack-collapse", "dfnText": "collapse", "external": false, "refSections": [], "url": "#valdef-item-pack-collapse" },
                "valdef-item-pack-dense": { "dfnID": "valdef-item-pack-dense", "dfnText": "dense", "external": false, "refSections": [], "url": "#valdef-item-pack-dense" },
                "valdef-item-pack-normal": { "dfnID": "valdef-item-pack-normal", "dfnText": "normal", "external": false, "refSections": [], "url": "#valdef-item-pack-normal" },
                "valdef-item-slack-infinite": { "dfnID": "valdef-item-slack-infinite", "dfnText": "infinite", "external": false, "refSections": [], "url": "#valdef-item-slack-infinite" },
                "valdef-item-slack-length-percentage": { "dfnID": "valdef-item-slack-length-percentage", "dfnText": "<length-percentage>", "external": false, "refSections": [], "url": "#valdef-item-slack-length-percentage" },
                "valdef-item-wrap-auto": { "dfnID": "valdef-item-wrap-auto", "dfnText": "auto", "external": false, "refSections": [], "url": "#valdef-item-wrap-auto" },
                "valdef-item-wrap-normal": { "dfnID": "valdef-item-wrap-normal", "dfnText": "normal", "external": false, "refSections": [], "url": "#valdef-item-wrap-normal" },
                "valdef-item-wrap-nowrap": { "dfnID": "valdef-item-wrap-nowrap", "dfnText": "nowrap", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-wrap-nowrap" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#valdef-item-wrap-nowrap" },
                "valdef-item-wrap-reverse": { "dfnID": "valdef-item-wrap-reverse", "dfnText": "reverse", "external": false, "refSections": [], "url": "#valdef-item-wrap-reverse" },
                "valdef-item-wrap-wrap": { "dfnID": "valdef-item-wrap-wrap", "dfnText": "wrap", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-item-wrap-wrap" }], "title": "\nItem Cross Axis Placement Mode: item-cross/item-wrap" }], "url": "#valdef-item-wrap-wrap" },
                "valdef-item-wrap-wrap-reverse": { "dfnID": "valdef-item-wrap-wrap-reverse", "dfnText": "wrap-reverse", "external": false, "refSections": [], "url": "#valdef-item-wrap-wrap-reverse" },
                "valdef-repeat-auto-areas": { "dfnID": "valdef-repeat-auto-areas", "dfnText": "auto-areas", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valdef-repeat-auto-areas" }], "title": "3.3.1. \nrepeat(auto-areas)" }], "url": "#valdef-repeat-auto-areas" },
                "virtual-masonry-item": { "dfnID": "virtual-masonry-item", "dfnText": "virtual masonry item", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-masonry-item" }], "title": "3.1.1. \nIntrinsic Tracks and repeat()" }, { "refs": [{ "id": "ref-for-virtual-masonry-item\u2460" }, { "id": "ref-for-virtual-masonry-item\u2461" }], "title": "3.4.2. \nOptimized Track Sizing" }], "url": "#virtual-masonry-item" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#auto-placement-cursor": { "displayText": "auto-placement cursor", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "auto-placement cursor", "type": "dfn", "url": "#auto-placement-cursor" },
                "#grid-axis": { "displayText": "grid axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "grid axis", "type": "dfn", "url": "#grid-axis" },
                "#item-groups": { "displayText": "item groups", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item groups", "type": "dfn", "url": "#item-groups" },
                "#masonry-box": { "displayText": "masonry box", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry box", "type": "dfn", "url": "#masonry-box" },
                "#masonry-container": { "displayText": "masonry container", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry container", "type": "dfn", "url": "#masonry-container" },
                "#masonry-item": { "displayText": "masonry item", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry item", "type": "dfn", "url": "#masonry-item" },
                "#masonry-layout": { "displayText": "masonry layout", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry layout", "type": "dfn", "url": "#masonry-layout" },
                "#masonry-tie-threshold": { "displayText": "tie threshold", "export": true, "for_": ["masonry"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "tie threshold", "type": "dfn", "url": "#masonry-tie-threshold" },
                "#masonry-track": { "displayText": "masonry track", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "masonry track", "type": "dfn", "url": "#masonry-track" },
                "#primary-axis": { "displayText": "primary axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "primary axis", "type": "dfn", "url": "#primary-axis" },
                "#primary-placement-axis": { "displayText": "primary placement axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "primary placement axis", "type": "dfn", "url": "#primary-placement-axis" },
                "#primary-track-axis": { "displayText": "primary track axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "primary track axis", "type": "dfn", "url": "#primary-track-axis" },
                "#propdef-item-cross": { "displayText": "item-cross", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-cross", "type": "property", "url": "#propdef-item-cross" },
                "#propdef-item-direction": { "displayText": "item-direction", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-direction", "type": "property", "url": "#propdef-item-direction" },
                "#propdef-item-flow": { "displayText": "item-flow", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-flow", "type": "property", "url": "#propdef-item-flow" },
                "#propdef-item-pack": { "displayText": "item-pack", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-pack", "type": "property", "url": "#propdef-item-pack" },
                "#propdef-item-slack": { "displayText": "item-slack", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-slack", "type": "property", "url": "#propdef-item-slack" },
                "#propdef-item-track": { "displayText": "item-track", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-track", "type": "property", "url": "#propdef-item-track" },
                "#propdef-item-wrap": { "displayText": "item-wrap", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "item-wrap", "type": "property", "url": "#propdef-item-wrap" },
                "#running-position": { "displayText": "running position", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "running position", "type": "dfn", "url": "#running-position" },
                "#stacking-axis": { "displayText": "stacking axis", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "stacking axis", "type": "dfn", "url": "#stacking-axis" },
                "#submasonry": { "displayText": "submasonry", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "submasonry", "type": "dfn", "url": "#submasonry" },
                "#valdef-item-direction-column": { "displayText": "column", "export": true, "for_": ["item-direction", "item-track"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "column", "type": "value", "url": "#valdef-item-direction-column" },
                "#valdef-item-direction-row": { "displayText": "row", "export": true, "for_": ["item-direction", "item-track"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "row", "type": "value", "url": "#valdef-item-direction-row" },
                "#valdef-item-wrap-nowrap": { "displayText": "nowrap", "export": true, "for_": ["item-cross", "item-wrap"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "nowrap", "type": "value", "url": "#valdef-item-wrap-nowrap" },
                "#valdef-item-wrap-wrap": { "displayText": "wrap", "export": true, "for_": ["item-cross", "item-wrap"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "wrap", "type": "value", "url": "#valdef-item-wrap-wrap" },
                "#valdef-repeat-auto-areas": { "displayText": "auto-areas", "export": true, "for_": ["repeat()"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "auto-areas", "type": "value", "url": "#valdef-repeat-auto-areas" },
                "#virtual-masonry-item": { "displayText": "virtual masonry item", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "local", "text": "virtual masonry item", "type": "dfn", "url": "#virtual-masonry-item" },
                "https://drafts.csswg.org/css-gaps-1/#funcdef-repeat": { "displayText": "repeat()", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-gaps", "spec": "css-gaps-1", "status": "current", "text": "repeat()", "type": "function", "url": "https://drafts.csswg.org/css-gaps-1/#funcdef-repeat" },
                "https://www.w3.org/TR/CSS21/box.html#x10": { "displayText": "content box", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css", "spec": "css21", "status": "snapshot", "text": "content box", "type": "dfn", "url": "https://www.w3.org/TR/CSS21/box.html#x10" },
                "https://www.w3.org/TR/CSS21/box.html#x17": { "displayText": "margin box", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css", "spec": "css21", "status": "snapshot", "text": "margin box", "type": "dfn", "url": "https://www.w3.org/TR/CSS21/box.html#x17" },
                "https://www.w3.org/TR/CSS21/visuren.html#containing-block": { "displayText": "containing block", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css", "spec": "css21", "status": "snapshot", "text": "containing block", "type": "dfn", "url": "https://www.w3.org/TR/CSS21/visuren.html#containing-block" },
                "https://www.w3.org/TR/CSS21/visuren.html#propdef-display": { "displayText": "display", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css", "spec": "css21", "status": "snapshot", "text": "display", "type": "property", "url": "https://www.w3.org/TR/CSS21/visuren.html#propdef-display" },
                "https://www.w3.org/TR/css-align-3/#alignment-baseline": { "displayText": "alignment baseline", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "alignment baseline", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#alignment-baseline" },
                "https://www.w3.org/TR/css-align-3/#alignment-subject": { "displayText": "alignment subject", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "alignment subject", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#alignment-subject" },
                "https://www.w3.org/TR/css-align-3/#baseline-alignment": { "displayText": "baseline alignment", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "baseline alignment", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#baseline-alignment" },
                "https://www.w3.org/TR/css-align-3/#baseline-sharing-group": { "displayText": "baseline-sharing group", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "baseline-sharing group", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#baseline-sharing-group" },
                "https://www.w3.org/TR/css-align-3/#distributed-alignment": { "displayText": "distributed alignment", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "distributed alignment", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#distributed-alignment" },
                "https://www.w3.org/TR/css-align-3/#fallback-alignment": { "displayText": "fallback alignment", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "fallback alignment", "type": "dfn", "url": "https://www.w3.org/TR/css-align-3/#fallback-alignment" },
                "https://www.w3.org/TR/css-align-3/#propdef-align-content": { "displayText": "align-content", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "align-content", "type": "property", "url": "https://www.w3.org/TR/css-align-3/#propdef-align-content" },
                "https://www.w3.org/TR/css-align-3/#propdef-grid-gap": { "displayText": "grid-gap", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "grid-gap", "type": "property", "url": "https://www.w3.org/TR/css-align-3/#propdef-grid-gap" },
                "https://www.w3.org/TR/css-align-3/#propdef-justify-content": { "displayText": "justify-content", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "justify-content", "type": "property", "url": "https://www.w3.org/TR/css-align-3/#propdef-justify-content" },
                "https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch": { "displayText": "stretch", "export": true, "for_": ["align-content", "justify-content", "<content-distribution>"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "stretch", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch" },
                "https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal": { "displayText": "normal", "export": true, "for_": ["justify-content", "align-content"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "normal", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal" },
                "https://www.w3.org/TR/css-align-3/#valdef-self-position-center": { "displayText": "center", "export": true, "for_": ["<self-position>", "<content-position>", "justify-self", "align-self", "justify-content", "align-content"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "center", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-center" },
                "https://www.w3.org/TR/css-align-3/#valdef-self-position-end": { "displayText": "end", "export": true, "for_": ["<self-position>", "<content-position>", "justify-self", "align-self", "justify-content", "align-content"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "end", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-end" },
                "https://www.w3.org/TR/css-align-3/#valdef-self-position-start": { "displayText": "start", "export": true, "for_": ["<self-position>", "<content-position>", "justify-self", "align-self", "justify-content", "align-content"], "level": "3", "normative": true, "shortname": "css-align", "spec": "css-align-3", "status": "snapshot", "text": "start", "type": "value", "url": "https://www.w3.org/TR/css-align-3/#valdef-self-position-start" },
                "https://www.w3.org/TR/css-break-4/#forced-break": { "displayText": "forced break", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-break", "spec": "css-break-4", "status": "snapshot", "text": "forced break", "type": "dfn", "url": "https://www.w3.org/TR/css-break-4/#forced-break" },
                "https://www.w3.org/TR/css-break-4/#fragmentainer": { "displayText": "fragmentainer", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-break", "spec": "css-break-4", "status": "snapshot", "text": "fragmentainer", "type": "dfn", "url": "https://www.w3.org/TR/css-break-4/#fragmentainer" },
                "https://www.w3.org/TR/css-cascade-5/#longhand": { "displayText": "longhand property", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "longhand property", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#longhand" },
                "https://www.w3.org/TR/css-cascade-5/#shorthand-property": { "displayText": "shorthand property", "export": true, "for_": [], "level": "5", "normative": true, "shortname": "css-cascade", "spec": "css-cascade-5", "status": "snapshot", "text": "shorthand property", "type": "dfn", "url": "https://www.w3.org/TR/css-cascade-5/#shorthand-property" },
                "https://www.w3.org/TR/css-display-4/#blockify": { "displayText": "blockify", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "snapshot", "text": "blockify", "type": "dfn", "url": "https://www.w3.org/TR/css-display-4/#blockify" },
                "https://www.w3.org/TR/css-display-4/#propdef-reading-flow": { "displayText": "reading-flow", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-display", "spec": "css-display-4", "status": "snapshot", "text": "reading-flow", "type": "property", "url": "https://www.w3.org/TR/css-display-4/#propdef-reading-flow" },
                "https://www.w3.org/TR/css-flexbox-1/#flex-container": { "displayText": "flex container", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "flex container", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#flex-container" },
                "https://www.w3.org/TR/css-flexbox-1/#flex-layout": { "displayText": "flex layout", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "flex layout", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#flex-layout" },
                "https://www.w3.org/TR/css-flexbox-1/#multi-line-flex-container": { "displayText": "multi-line flex container", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "multi-line flex container", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#multi-line-flex-container" },
                "https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order": { "displayText": "order-modified document order", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "order-modified document order", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order" },
                "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow": { "displayText": "flex-flow", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "flex-flow", "type": "property", "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow" },
                "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-wrap": { "displayText": "flex-wrap", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "flex-wrap", "type": "property", "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-flex-wrap" },
                "https://www.w3.org/TR/css-flexbox-1/#propdef-order": { "displayText": "order", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "order", "type": "property", "url": "https://www.w3.org/TR/css-flexbox-1/#propdef-order" },
                "https://www.w3.org/TR/css-flexbox-1/#single-line-flex-container": { "displayText": "single-line flex container", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "css-flexbox", "spec": "css-flexbox-1", "status": "snapshot", "text": "single-line flex container", "type": "dfn", "url": "https://www.w3.org/TR/css-flexbox-1/#single-line-flex-container" },
                "https://www.w3.org/TR/css-grid-2/#automatic-grid-position": { "displayText": "automatic grid position", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "automatic grid position", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#automatic-grid-position" },
                "https://www.w3.org/TR/css-grid-2/#collapsed-track": { "displayText": "collapsed track", "export": false, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "collapsed track", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#collapsed-track" },
                "https://www.w3.org/TR/css-grid-2/#definite-grid-position": { "displayText": "definite position", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "definite position", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#definite-grid-position" },
                "https://www.w3.org/TR/css-grid-2/#explicit-grid": { "displayText": "explicit grid", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "explicit grid", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#explicit-grid" },
                "https://www.w3.org/TR/css-grid-2/#grid-area": { "displayText": "grid area", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid area", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-area" },
                "https://www.w3.org/TR/css-grid-2/#grid-container": { "displayText": "grid container", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid container", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-container" },
                "https://www.w3.org/TR/css-grid-2/#grid-item": { "displayText": "grid item", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid item", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-item" },
                "https://www.w3.org/TR/css-grid-2/#grid-layout": { "displayText": "grid layout", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid layout", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-layout" },
                "https://www.w3.org/TR/css-grid-2/#grid-placement-property": { "displayText": "grid-placement property", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-placement property", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-placement-property" },
                "https://www.w3.org/TR/css-grid-2/#grid-track": { "displayText": "grid track", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid track", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#grid-track" },
                "https://www.w3.org/TR/css-grid-2/#implicit-grid": { "displayText": "implicit grid", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "implicit grid", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#implicit-grid" },
                "https://www.w3.org/TR/css-grid-2/#implicit-grid-track": { "displayText": "implicit grid track", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "implicit grid track", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#implicit-grid-track" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns": { "displayText": "grid-auto-columns", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-auto-columns", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-columns" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows": { "displayText": "grid-auto-rows", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-auto-rows", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-auto-rows" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas": { "displayText": "grid-template-areas", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-template-areas", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-areas" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns": { "displayText": "grid-template-columns", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-template-columns", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-columns" },
                "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows": { "displayText": "grid-template-rows", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "grid-template-rows", "type": "property", "url": "https://www.w3.org/TR/css-grid-2/#propdef-grid-template-rows" },
                "https://www.w3.org/TR/css-grid-2/#subgrid": { "displayText": "subgrid", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "subgrid", "type": "dfn", "url": "https://www.w3.org/TR/css-grid-2/#subgrid" },
                "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-areas-none": { "displayText": "none", "export": true, "for_": ["grid-template-areas"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-areas-none" },
                "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto": { "displayText": "auto", "export": true, "for_": ["grid-template-columns", "grid-template-rows"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "auto", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-columns-auto" },
                "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-rows-none": { "displayText": "none", "export": true, "for_": ["grid-template-rows", "grid-template-columns"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "none", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-grid-template-rows-none" },
                "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill": { "displayText": "auto-fill", "export": true, "for_": ["repeat()"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "auto-fill", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fill" },
                "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit": { "displayText": "auto-fit", "export": true, "for_": ["repeat()"], "level": "2", "normative": true, "shortname": "css-grid", "spec": "css-grid-2", "status": "snapshot", "text": "auto-fit", "type": "value", "url": "https://www.w3.org/TR/css-grid-2/#valdef-repeat-auto-fit" },
                "https://www.w3.org/TR/css-grid-3/#propdef-grid-auto-flow": { "displayText": "grid-auto-flow", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "snapshot", "text": "grid-auto-flow", "type": "property", "url": "https://www.w3.org/TR/css-grid-3/#propdef-grid-auto-flow" },
                "https://www.w3.org/TR/css-grid-3/#propdef-masonry-auto-tracks": { "displayText": "masonry-auto-tracks", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "snapshot", "text": "masonry-auto-tracks", "type": "property", "url": "https://www.w3.org/TR/css-grid-3/#propdef-masonry-auto-tracks" },
                "https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-areas": { "displayText": "masonry-template-areas", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "snapshot", "text": "masonry-template-areas", "type": "property", "url": "https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-areas" },
                "https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-tracks": { "displayText": "masonry-template-tracks", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "snapshot", "text": "masonry-template-tracks", "type": "property", "url": "https://www.w3.org/TR/css-grid-3/#propdef-masonry-template-tracks" },
                "https://www.w3.org/TR/css-grid-3/#propdef-masonry-track": { "displayText": "masonry-track", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "snapshot", "text": "masonry-track", "type": "property", "url": "https://www.w3.org/TR/css-grid-3/#propdef-masonry-track" },
                "https://www.w3.org/TR/css-grid-3/#valdef-display-masonry": { "displayText": "masonry", "export": true, "for_": ["display"], "level": "3", "normative": true, "shortname": "css-grid", "spec": "css-grid-3", "status": "snapshot", "text": "masonry", "type": "value", "url": "https://www.w3.org/TR/css-grid-3/#valdef-display-masonry" },
                "https://www.w3.org/TR/css-sizing-3/#available": { "displayText": "available space", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "available space", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#available" },
                "https://www.w3.org/TR/css-sizing-3/#max-content": { "displayText": "max-content size", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "max-content size", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#max-content" },
                "https://www.w3.org/TR/css-sizing-3/#max-content-constraint": { "displayText": "max-content constraint", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "max-content constraint", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#max-content-constraint" },
                "https://www.w3.org/TR/css-sizing-3/#min-content": { "displayText": "min-content size", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "min-content size", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#min-content" },
                "https://www.w3.org/TR/css-sizing-3/#min-content-constraint": { "displayText": "min-content constraint", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "min-content constraint", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#min-content-constraint" },
                "https://www.w3.org/TR/css-sizing-3/#outer-size": { "displayText": "outer size", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-sizing", "spec": "css-sizing-3", "status": "snapshot", "text": "outer size", "type": "dfn", "url": "https://www.w3.org/TR/css-sizing-3/#outer-size" },
                "https://www.w3.org/TR/css-text-4/#propdef-text-wrap-style": { "displayText": "text-wrap-style", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-text", "spec": "css-text-4", "status": "snapshot", "text": "text-wrap-style", "type": "property", "url": "https://www.w3.org/TR/css-text-4/#propdef-text-wrap-style" },
                "https://www.w3.org/TR/css-values-4/#comb-any": { "displayText": "||", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "||", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-any" },
                "https://www.w3.org/TR/css-values-4/#comb-one": { "displayText": "|", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "|", "type": "grammar", "url": "https://www.w3.org/TR/css-values-4/#comb-one" },
                "https://www.w3.org/TR/css-values-4/#css-wide-keywords": { "displayText": "CSS-wide keywords", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "css-wide keywords", "type": "dfn", "url": "https://www.w3.org/TR/css-values-4/#css-wide-keywords" },
                "https://www.w3.org/TR/css-values-4/#typedef-length-percentage": { "displayText": "<length-percentage>", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "snapshot", "text": "<length-percentage>", "type": "type", "url": "https://www.w3.org/TR/css-values-4/#typedef-length-percentage" },
                "https://www.w3.org/TR/css-writing-modes-3/#propdef-direction": { "displayText": "direction", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-3", "status": "snapshot", "text": "direction", "type": "property", "url": "https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" },
                "https://www.w3.org/TR/css-writing-modes-4/#block-axis": { "displayText": "block axis", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "block axis", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#block-axis" },
                "https://www.w3.org/TR/css-writing-modes-4/#inline-axis": { "displayText": "inline axis", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "inline axis", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#inline-axis" },
                "https://www.w3.org/TR/css-writing-modes-4/#writing-mode": { "displayText": "writing mode", "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-writing-modes", "spec": "css-writing-modes-4", "status": "snapshot", "text": "writing mode", "type": "dfn", "url": "https://www.w3.org/TR/css-writing-modes-4/#writing-mode" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const ref = refsData[url];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script src="/dropdown.js"></script>