<!doctype html>
<html lang="zh-hans">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="#3c790a" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <title>基础设施标准（Infra Standard）</title>
    <link crossorigin href="https://resources.whatwg.org/standard-shared-with-dev.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/standard.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/spec.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/logo-infra.svg" rel="icon">
    <script crossorigin defer src="https://resources.whatwg.org/commit-snapshot-shortcut-key.js"></script>
    <!-- <meta content="Bikeshed version b25686b9f, updated Fri Mar 14 14:15:20 2025 -0700" name="generator">
    <meta content="d86cb0e0e7d27441549d1216963c714fae67bc14" name="revision"> -->
    <style>
        /* Used for normative exemplars of how to write algorithms, as distinct from .example */
        .exemplary-prose {
            margin-left: 2em;
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>

<body class="h-entry status-LS">
    <div class="head">
        <a class="logo" href="https://whatwg.org/"> <img alt="WHATWG" class="darkmode-aware" crossorigin height="100"
                src="https://resources.whatwg.org/logo-infra.svg"> </a>
        <hgroup>
            <h1 class="p-name no-ref" id="title">基础设施（Infra）</h1>
            <p id="subtitle">Living Standard — 最后更新 <time class="dt-updated" datetime="2025-07-16">2025年7月16日</time>
            </p>
        </hgroup>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>参与：
                <dd><a href="https://github.com/whatwg/infra">GitHub whatwg/infra</a>（<a
                        href="https://github.com/whatwg/infra/issues/new/choose">新建议</a>，<a
                        href="https://github.com/whatwg/infra/issues">公开议题</a>）
                <dd><a href="https://whatwg.org/chat">在 Matrix 聊天</a>
                <dt>提交：
                <dd><a href="https://github.com/whatwg/infra/commits">GitHub whatwg/infra/commits</a>
                <dd><a href="https://infra.spec.whatwg.org/commit-snapshots/92293b7d9e770b6df3547848b10c5fc921bc4556/"
                        id="commit-snapshot-link">此提交的快照</a>
                <dd><a href="https://twitter.com/infrastandard">@infrastandard</a>
                <dt>测试：
                <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/infra">web-platform-tests infra/</a>
                    （<a href="https://github.com/web-platform-tests/wpt/labels/infra">持续工作</a>）
                <dt>翻译 <small>（非规范性）</small>：
                <dd><span title="Japanese"><a href="https://triple-underscore.github.io/infra-ja.html" hreflang="ja"
                            lang="ja" rel="alternate">日本語</a></span>
                <dd><span title="Simplified Chinese"><a href="https://htmlspecs.com/infra/" hreflang="zh-hans"
                            lang="zh-hans" rel="alternate">简体中文</a></span>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>基础设施标准（Infra Standard）旨在定义标准制定所依赖的基础性概念。</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#goals"><span class="secno"></span> <span class="content">目标</span></a>
            <li><a href="#usage"><span class="secno">1</span> <span class="content">用法</span></a>
            <li>
                <a href="#conventions"><span class="secno">2</span> <span class="content">约定</span></a>
                <ol class="toc">
                    <li><a href="#conformance"><span class="secno">2.1</span> <span class="content">一致性</span></a>
                    <li><a href="#other-specs"><span class="secno">2.2</span> <span class="content">与其他规范的一致性</span></a>
                    <li><a href="#terminology"><span class="secno">2.3</span> <span class="content">术语</span></a>
                    <li><a href="#privacy"><span class="secno">2.4</span> <span class="content">隐私问题</span></a>
                </ol>
            <li>
                <a href="#algorithms"><span class="secno">3</span> <span class="content">算法</span></a>
                <ol class="toc">
                    <li><a href="#algorithm-conformance"><span class="secno">3.1</span> <span
                                class="content">一致性</span></a>
                    <li><a href="#algorithm-limits"><span class="secno">3.2</span> <span
                                class="content">避免对算法输入的限制</span></a>
                    <li><a href="#algorithm-declaration"><span class="secno">3.3</span> <span
                                class="content">声明</span></a>
                    <li><a href="#algorithm-params"><span class="secno">3.4</span> <span class="content">参数</span></a>
                    <li><a href="#variables"><span class="secno">3.5</span> <span class="content">变量</span></a>
                    <li><a href="#algorithm-control-flow"><span class="secno">3.6</span> <span
                                class="content">控制流</span></a>
                    <li><a href="#algorithm-conditional-abort"><span class="secno">3.7</span> <span
                                class="content">条件中止</span></a>
                    <li><a href="#algorithm-conditional-statements"><span class="secno">3.8</span> <span
                                class="content">条件语句</span></a>
                    <li><a href="#algorithm-iteration"><span class="secno">3.9</span> <span
                                class="content">循环</span></a>
                    <li><a href="#assertions"><span class="secno">3.10</span> <span class="content">断言</span></a>
                </ol>
            <li>
                <a href="#primitive-data-types"><span class="secno">4</span> <span class="content">基本数据类型</span></a>
                <ol class="toc">
                    <li><a href="#nulls"><span class="secno">4.1</span> <span class="content">空值</span></a>
                    <li><a href="#booleans"><span class="secno">4.2</span> <span class="content">布尔值</span></a>
                    <li><a href="#numbers"><span class="secno">4.3</span> <span class="content">数字</span></a>
                    <li><a href="#bytes"><span class="secno">4.4</span> <span class="content">字节</span></a>
                    <li><a href="#byte-sequences"><span class="secno">4.5</span> <span class="content">字节序列</span></a>
                    <li><a href="#code-points"><span class="secno">4.6</span> <span class="content">码点</span></a>
                    <li><a href="#strings"><span class="secno">4.7</span> <span class="content">字符串</span></a>
                    <li><a href="#time"><span class="secno">4.8</span> <span class="content">时间</span></a>
                </ol>
            <li>
                <a href="#data-structures"><span class="secno">5</span> <span class="content">数据结构</span></a>
                <ol class="toc">
                    <li>
                        <a href="#lists"><span class="secno">5.1</span> <span class="content">列表</span></a>
                        <ol class="toc">
                            <li><a href="#stacks"><span class="secno">5.1.1</span> <span class="content">栈</span></a>
                            <li><a href="#queues"><span class="secno">5.1.2</span> <span class="content">队列</span></a>
                            <li><a href="#sets"><span class="secno">5.1.3</span> <span class="content">集合</span></a>
                        </ol>
                    <li><a href="#maps"><span class="secno">5.2</span> <span class="content">映射</span></a>
                    <li>
                        <a href="#structs"><span class="secno">5.3</span> <span class="content">结构体</span></a>
                        <ol class="toc">
                            <li><a href="#tuples"><span class="secno">5.3.1</span> <span class="content">元组</span></a>
                        </ol>
                </ol>
            <li><a href="#json"><span class="secno">6</span> <span class="content">JSON</span></a>
            <li><a href="#forgiving-base64"><span class="secno">7</span> <span class="content">宽容 base64</span></a>
            <li><a href="#namespaces"><span class="secno">8</span> <span class="content">命名空间</span></a>
            <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">致谢</span></a>
            <li><a href="#ipr"><span class="secno"></span> <span class="content">知识产权声明</span></a>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用自其他规范的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">补充性参考文献</span></a>
                </ol>
        </ol>
    </nav>
    <main>
        <h2 class="no-num heading settled" id="goals"><span class="content">目标</span></h2>
        <ul>
            <li>
                <p>消除标准中的重复样板内容。</p>
            <li>
                <p>在标准之间对约定、术语和数据结构达成一致。</p>
            <li>
                <p>作为多个标准共用但尚无归属的概念的归宿。</p>
            <li>
                <p>通过澄清本可能含糊的概念，帮助撰写清晰易读的算法性文本。</p>
        </ul>
        <p>欢迎提出更多目标建议。</p>
        <h2 class="heading settled" data-level="1" id="usage"><span class="secno">1. </span><span
                class="content">用法</span><a class="self-link" href="#usage"></a></h2>
        <p>要在标题为 <var>X</var> 的文档中使用本标准，请写：</p>
        <p><samp><var>X</var> 依赖于 <cite>Infra</cite>。<a data-link-type="biblio" href="#biblio-infra"
                    title="Infra Standard">[Infra]</a></samp></p>
        <p>此外，强烈建议交叉引用所有相关术语，以避免歧义。</p>
        <h2 class="heading settled" data-level="2" id="conventions"><span class="secno">2. </span><span
                class="content">约定</span><a class="self-link" href="#conventions"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="conformance"><span class="secno">2.1. </span><span
                class="content">一致性</span><a class="self-link" href="#conformance"></a></h3>
        <p>所有断言、图示、示例和注释均为非规范性内容，所有明确标记为非规范性的章节也是非规范性的。其他所有内容均为规范性内容。</p>
        <p>关键词 "MUST"、"MUST NOT"、"REQUIRED"、"SHALL"、"SHALL NOT"、"SHOULD"、"SHOULD NOT"、"RECOMMENDED"、"NOT
            RECOMMENDED"、"MAY" 和 "OPTIONAL" 的解释方式见 RFC 2119。<a data-link-type="biblio" href="#biblio-rfc2119"
                title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
        <p>这些关键词在小写时等价，并且不得出现在非规范性内容中。</p>
        <p class="note" role="note">这对 RFC 8174 属于<a data-link-type="dfn" href="#willful-violation"
                id="ref-for-willful-violation">有意违规</a>，目的是提高可读性，并延续许多非 IETF 发布的 RFC 8174 之前文档中的长期做法。<a
                data-link-type="biblio" href="#biblio-rfc8174"
                title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">[RFC8174]</a></p>
        <p>上述内容适用于本标准及所有使用本标准的文档。鼓励使用本标准的文档仅使用 "must"、"must not"、"should" 和 "may"，并采用小写形式，因为这样通常更易读。</p>
        <p>对于非规范性内容，可以使用 "strongly encouraged"、"strongly
            discouraged"、"encouraged"、"discouraged"、"can"、"cannot"、"could"、"could not"、"might" 和 "might not" 等表达。</p>
        <h3 class="heading settled" data-level="2.2" id="other-specs"><span class="secno">2.2. </span><span
                class="content">与其他规范的一致性</span><a class="self-link" href="#other-specs"></a>
        </h3>
        <p>一般来说，规范会与多种其他规范交互并依赖于它们。在某些情况下，不同规范之间的冲突需求可能导致某一规范不得不违反其他规范的要求。当发生这种情况时，使用 Infra 标准的文档应将此类违规标注为<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="willful-violation">有意违规</dfn>，并说明违规原因。</p>
        <p class="example" id="example-willful-violation"><a class="self-link" href="#example-willful-violation"></a>上一节
            <a href="#conformance">§ 2.1 一致性</a> 记录了 <cite>Infra</cite> 针对 RFC 8174 的一次<a data-link-type="dfn"
                href="#willful-violation" id="ref-for-willful-violation①">有意违规</a>。
        </p>
        <h3 class="heading settled" data-level="2.3" id="terminology"><span class="secno">2.3. </span><span
                class="content">术语</span><a class="self-link" href="#terminology"></a></h3>
        <p>当 "或"（or）一词既可能为包含“或”又可能为排他“或”时（例如，“if either width or height is
            zero”，如果宽或高有一个为零），其含义为包含“或”（即“或两者皆是”），除非特别指出为排他“或”（如“但不能两者都为真”）。</p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="user-agent">用户代理</dfn>是指代表用户行动的任何软件实体，例如获取和呈现
            Web 内容、协助最终用户与内容交互的浏览器等。在使用 Infra 标准的规范中，用户代理通常指实现该规范的客户端软件的一个实例。该客户端软件本身称为<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="implementation">实现</dfn>。
            一个人在日常生活中可以使用许多不同的<a data-link-type="dfn" href="#user-agent" id="ref-for-user-agent">用户代理</a>，例如通过配置一个<a
                data-link-type="dfn" href="#implementation" id="ref-for-implementation">实现</a>来同时作为多个<a
                data-link-type="dfn" href="#user-agent" id="ref-for-user-agent①">用户代理</a>，如使用多个用户配置文件或实现的隐私浏览模式等。</p>
        <p>如果某事被声明为<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="implementation-defined">实现自定义</dfn>（implementation-defined），则具体细节由<a data-link-type="dfn"
                href="#implementation-defined" id="ref-for-implementation-defined">实现自定义</a>的内容由<a data-link-type="dfn"
                href="#implementation" id="ref-for-implementation①">实现</a>决定。如无此类声明，则反之：<a data-link-type="dfn"
                href="#implementation" id="ref-for-implementation②">实现</a>必须遵循使用本标准的文档所规定的规则。</p>
        <p class="example" id="example-implementation-defined"><a class="self-link"
                href="#example-implementation-defined"></a>以<a data-link-type="dfn" href="#implementation-defined"
                id="ref-for-implementation-defined①">实现自定义</a>的方式在 <var>input</var> 中插入 U+000A（LF）码点，以使每一行不超过
            <var>width</var> 个码点。对于此要求，行由 <var>input</var> 的起始、末尾以及 U+000A（LF）分隔。
        </p>
        <h3 class="heading settled" data-level="2.4" id="privacy"><span class="secno">2.4. </span><span
                class="content">隐私问题</span><a class="self-link" href="#privacy"></a></h3>
        <p>使用 Infra 标准的文档中定义的某些功能，可能会以牺牲部分用户隐私换取用户便利。</p>
        <p>通常，由于互联网的架构，用户可以通过其 IP 地址与其他用户区分开。IP 地址并不能完全对应某个用户；当用户在不同设备或网络间切换时，IP 地址会变化；同样，NAT 路由、代理服务器和共享计算机等也会导致表面上来自同一
            IP 的数据包实际对应多个用户。洋葱路由（onion routing）等技术还能进一步匿名化请求，使一个用户在网络某节点的请求表现为来自网络的多个不同位置。<a data-link-type="biblio"
                href="#biblio-rfc791" title="Internet Protocol">[RFC791]</a></p>
        <p>然而，用户请求所用的 IP 地址并不是唯一可能将这些请求相关联的机制。例如，Cookie 就是为此而设计的，也是 Web
            上大多数会话功能的基础，这些功能使你可以登录拥有账号的网站。更广泛地说，任何缓存机制或共享状态（包括但不限于 HSTS、HTTP 缓存、连接分组、存储 API 等）都可能被滥用。<a
                data-link-type="biblio" href="#biblio-cookies" title="HTTP State Management Mechanism">[COOKIES]</a> <a
                data-link-type="biblio" href="#biblio-rfc6797"
                title="HTTP Strict Transport Security (HSTS)">[RFC6797]</a> <a data-link-type="biblio"
                href="#biblio-storage" title="Storage Standard">[STORAGE]</a></p>
        <p>还有一些更隐蔽的机制。用户系统的某些特征可用于将不同用户群体区分开。收集足够多的信息后，可以计算出用户浏览器的“数字指纹”，这比 IP 地址更能判断哪些请求来自同一用户。</p>
        <p>以这种方式关联请求，尤其跨站点时，可能被用于恶意目的，例如政府将某人使用某站点获取驾车导航时的家庭住址与其在某些论坛的参与情况结合起来，以确定该人是否应该被剥夺投票权。</p>
        <p>由于恶意目的可能极其恶劣，强烈建议用户代理实现者和规范作者尽量减少可能被用于指纹识别或跟踪用户的信息泄露。</p>
        <p>不幸的是，正如本节第一段所述，有时出于功能考虑需要开放某些 API，这些 API
            也容易被用于指纹识别和跟踪，所以不能一概封堵。例如，允许登录网站以特定身份发帖，必然要求可以识别来自同一用户的所有请求。更微妙的是，比如文本宽度信息对于许多涉及 canvas
            绘制文本效果（如加边框等）都必不可少，但这也可能泄露可用于分组请求的信息（例如通过暴力枚举推测用户安装了哪些字体，而字体信息因人而异）。</p>
        <p><a class="tracking-vector" href="https://infra.spec.whatwg.org/#tracking-vector"
                style="color: currentcolor"><img alt="(This is a tracking vector.)" class="darkmode-aware" crossorigin
                    height="64" src="https://resources.whatwg.org/tracking-vector.svg"
                    title="There is a tracking vector here." width="46"></a> 在使用 Infra 标准的文档中，能被用作<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="tracking-vector">跟踪向量</dfn>的功能会像本段一样标注。</p>
        <p>平台上的其他特性也可能被用于同样目的，包括但不限于：</p>
        <ul>
            <li>用户代理支持的功能列表。
            <li>脚本递归最大允许栈深度。
            <li>描述用户环境的功能。
            <li>用户的时区。
            <li>HTTP 请求头。
        </ul>
        <h2 class="heading settled" data-level="3" id="algorithms"><span class="secno">3. </span><span
                class="content">算法</span><a class="self-link" href="#algorithms"></a></h2>
        <h3 class="heading settled" data-level="3.1" id="algorithm-conformance"><span class="secno">3.1. </span><span
                class="content">一致性</span><a class="self-link" href="#algorithm-conformance"></a></h3>
        <p>算法及其步骤中以祈使句表达的要求（如“去除所有前导空格”或“返回 false”），应根据引入该算法或步骤时所用关键词（如“must”）来理解其含义。如果未使用此类关键词，则默认视为 must。</p>
        <div class="example" id="example-algorithms">
            <a class="self-link" href="#example-algorithms"></a>
            <p>例如，若规范写道：</p>
            <div class="exemplary-prose">
                <p class="allow-2119">要<dfn data-var-ignore>吃一个橙子</dfn>，用户必须：</p>
                <ol class="brief">
                    <li>剥橙子的皮。
                    <li>将橙子分成一片片。
                    <li>吃掉橙子片。
                </ol>
            </div>
            <p>这等价于：</p>
            <div class="exemplary-prose">
                <p>要<dfn data-var-ignore>吃一个橙子</dfn>：</p>
                <ol class="brief">
                    <li class="allow-2119">用户必须剥橙子的皮。
                    <li class="allow-2119">用户必须将橙子分成一片片。
                    <li class="allow-2119">用户必须吃掉橙子片。
                </ol>
            </div>
            <p class="allow-2119">这里的关键词是“must”。</p>
            <p class="allow-2119">如果上述算法仅以“要吃一个橙子：”引入，含义不变，因默认即为 must。</p>
        </div>
        <p>以算法或具体步骤表达的一致性要求，可以以任何方式实现，只要最终结果等价即可。（这些算法本意是易于理解，而非高性能。）</p>
        <p class="note" role="note">性能很难做到绝对正确，因为它受用户感知、计算机架构以及随时间变化的输入类型影响。例如，JavaScript
            引擎通常会针对标准化为单一算法的内容实现多种代码路径，以优化速度或内存消耗。将所有这些代码路径标准化几乎不可能，也无益于标准的长期生命力，因此性能应作为业界竞争领域。</p>
        <h3 class="heading settled" data-level="3.2" id="algorithm-limits"><span class="secno">3.2. </span><span
                class="content">避免对算法输入的限制</span><a class="self-link" href="#algorithm-limits"></a></h3>
        <p>使用 Infra 标准的文档通常不应对算法输入的大小、资源使用等施加具体限制。这有助于用户代理间的竞争，也避免限制未来的计算需求。</p>
        <p><a class="tracking-vector" href="https://infra.spec.whatwg.org/#tracking-vector"
                style="color: currentcolor"><img alt="(This is a tracking vector.)" class="darkmode-aware" crossorigin
                    height="64" src="https://resources.whatwg.org/tracking-vector.svg"
                    title="There is a tracking vector here." width="46"></a> 但用户代理可对本应不受约束的输入施加<a data-link-type="dfn"
                href="#implementation-defined"
                id="ref-for-implementation-defined②">实现自定义</a>限制。例如防止拒绝服务攻击、防止内存耗尽或绕过平台特定限制等。</p>
        <p class="note" role="note">全局资源限制可被用作资源耗尽攻击的侧信道，攻击者可通过观察受害应用是否达到全局限制来推断。若资源限制因硬件差异而显著不同，也可用于指纹识别用户代理。</p>
        <p class="example" id="example-algorithm-limits"><a class="self-link"
                href="#example-algorithm-limits"></a>一个允许创建内存位图的 API 可以规范为允许任意尺寸，或允许尺寸不超过 JavaScript 的
            <code>Number.MAX_SAFE_INTEGER</code>。但实现可以选择对尺寸加以<a data-link-type="dfn" href="#implementation-defined"
                id="ref-for-implementation-defined③">实现自定义</a>（未规范）限制，而不是尝试分配巨量内存。
        </p>
        <p class="example" id="example-algorithm-limits-language"><a class="self-link"
                href="#example-algorithm-limits-language"></a>某编程语言可能未规定最大调用栈深度。但实现可以出于实际需要加以限制。</p>
        <p>由于某些代码可能依赖具体的限制，为了互操作性，有时规定一个下限是有益的。这对未来发展无碍，也能让代码在更多用户代理下运行。</p>
        <p>对<a data-link-type="dfn" href="#implementation-defined"
                id="ref-for-implementation-defined④">实现自定义</a>的限制规定一个下限也有助于互操作性，即确保所有实现都能处理至少某个规模的输入。</p>
        <h3 class="heading settled" data-level="3.3" id="algorithm-declaration"><span class="secno">3.3. </span><span
                class="content">声明</span><a class="self-link" href="#algorithm-declaration"></a></h3>
        <p>算法名通常为动词短语，但有时会采用强调其独立性的名称，便于标准和读者更习惯地引用该算法。</p>
        <p class="example" id="example-algorithm-declaration-names"><a class="self-link"
                href="#example-algorithm-declaration-names"></a>后一类算法名称的例子包括“属性变更步骤”、“内部模块脚本图获取过程”和“重载决议算法”。</p>
        <p>声明算法时应写明其名称、参数和返回类型，格式如下：</p>
        <p class="exemplary-prose">要<dfn data-var-ignore>【算法名】</dfn>，给定一个[type1] <var>参数1</var>、一个[type2]
            <var>参数2</var>，……，执行以下步骤。返回值为[返回类型]。
        </p>
        <p>（对于非动词短语算法名，使用“要执行<dfn data-var-ignore>【算法名】</dfn>……”。更复杂的参数声明格式见<a href="#algorithm-params">§ 3.4 参数</a>。）
        </p>
        <p class="example" id="example-algorithm-declaration"><a class="self-link"
                href="#example-algorithm-declaration"></a>要<dfn data-var-ignore>解析一个很棒的格式</dfn>，给定一个<a
                data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence">字节序列</a>
            <var>bytes</var>，执行以下步骤。返回<a data-link-type="dfn" href="#string" id="ref-for-string">字符串</a>或 null。
        </p>
        <p>不返回值的算法可用更简洁的格式声明。即使有返回值，若返回类型易于从步骤推断，也可采用该格式：</p>
        <p class="exemplary-prose">要<dfn data-var-ignore>【算法名】</dfn>，给定[type1] <var>参数1</var>、[type2] <var>参数2</var>，……：
        </p>
        <p class="example" id="example-algorithm-declaration-no-return"><a class="self-link"
                href="#example-algorithm-declaration-no-return"></a>要<dfn data-var-ignore>解析一个很棒的格式</dfn>，给定<a
                data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①">字节序列</a> <var>bytes</var>：</p>
        <p>极短的算法可以用一句话声明和描述：</p>
        <p class="example" id="example-algorithm-declaration-short"><a class="self-link"
                href="#example-algorithm-declaration-short"></a>要<dfn data-var-ignore>解析一个很棒的格式</dfn>，给定<a
                data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence②">字节序列</a>
            <var>bytes</var>，返回<var>bytes</var>经<a data-link-type="dfn" href="#isomorphic-decode"
                id="ref-for-isomorphic-decode">同构解码</a>后再<a data-link-type="dfn" href="#ascii-uppercase"
                id="ref-for-ascii-uppercase">ASCII 大写化</a>的结果。
        </p>
        <p>算法声明应包含参数类型，但若参数名足够明确，或上下文足够清楚，也可省略类型（如只对其他算法简单包装时）。</p>
        <p class="example" id="example-algorithm-declaration-no-types"><a class="self-link"
                href="#example-algorithm-declaration-no-types"></a>要<dfn data-var-ignore>加载经典脚本</dfn>，给定
            <var>url</var>，返回用 <var>url</var> 和 "<code>classic</code>" 调用内部脚本加载算法的结果。
        </p>
        <h3 class="heading settled" data-level="3.4" id="algorithm-params"><span class="secno">3.4. </span><span
                class="content">参数</span><a class="self-link" href="#algorithm-params"></a></h3>
        <p>算法参数一般按<a href="#algorithm-declaration">§ 3.3 声明</a>所述顺序列出。但也有更复杂的情况。</p>
        <p>算法参数可以是可选的，声明算法时须予以说明，并置于所有必选参数之后。可选参数可设默认值，也可在算法体内判断参数是否给出。具体格式如下：</p>
        <p class="exemplary-prose">……一个可选[type] <var>参数</var>……</p>
        <p class="exemplary-prose">……一个可选[type] <var>参数</var>（默认值为[默认值]）……</p>
        <p>可选<a data-link-type="dfn" href="#boolean" id="ref-for-boolean">布尔</a>参数必须指定默认值，且默认为 false。</p>
        <div class="example" id="example-algorithm-optional-positional-params">
            <a class="self-link" href="#example-algorithm-optional-positional-params"></a>
            <p class="allow-2119">要<dfn data-var-ignore id="example-navigate-algo-positional">导航</dfn>至资源
                <var>resource</var>，可选字符串 <var>navigationType</var>，可选布尔 <var>exceptionsEnabled</var>（默认为 false）：
            </p>
            <ol class="brief">
                <li>……
                <li>如果给定 <var>navigationType</var>，则对其进行相关操作。
                <li>……
            </ol>
        </div>
        <p>调用带可选位置参数的算法时，可省略尾部可选参数。</p>
        <div class="example" id="example-algorithm-optional-positional-params-calling">
            <a class="self-link" href="#example-algorithm-optional-positional-params-calling"></a>
            <p>对上述算法的调用形式如：</p>
            <ul class="brief">
                <li><a href="#example-navigate-algo-positional">导航</a>至 <var>resource</var>。
                <li><a href="#example-navigate-algo-positional">导航</a>至 <var>resource</var>，并给定
                    "<code>form submission</code>"。
                <li><a href="#example-navigate-algo-positional">导航</a>至 <var>resource</var>，并给定
                    "<code>form submission</code>" 和 true。
            </ul>
            <p>但无法仅为第三个（<var>exceptionsEnabled</var>）参数赋非默认值而不传第二个（<var>navigationType</var>）；且最后一种调用对读者不直观，因为需要追溯参数顺序。请继续阅读下文解决办法！
            </p>
        </div>
        <p>可选命名参数（非位置参数）可提升调用处的清晰度和灵活性。这类参数应同时标记为变量和定义，并在调用处链接。</p>
        <div class="example" id="example-algorithm-optional-named-params">
            <a class="self-link" href="#example-algorithm-optional-named-params"></a>
            <p class="allow-2119">要<dfn data-var-ignore id="example-navigate-algo-named">导航</dfn>至资源
                <var>resource</var>，可选字符串 <dfn data-var-ignore
                    id="example-navigate-algo-navigationType"><var>navigationType</var></dfn>，可选布尔 <dfn data-var-ignore
                    id="example-navigate-algo-exceptionsEnabled"><var>exceptionsEnabled</var></dfn>（默认为 false）：
            </p>
            <ol class="brief">
                <li>……
                <li>如给定 <var>navigationType</var>，则对其进行相关操作。
                <li>……
            </ol>
            <p>调用形式如：</p>
            <ul class="brief">
                <li><a href="#example-navigate-algo-named">导航</a>至 <var>resource</var>。
                <li><a href="#example-navigate-algo-named">导航</a>至 <var>resource</var>，并将 <a
                        href="#example-navigate-algo-navigationType"><i>navigationType</i></a> 设为
                    "<code>form-submission</code>"。
                <li><a href="#example-navigate-algo-named">导航</a>至 <var>resource</var>，并将 <a
                        href="#example-navigate-algo-exceptionsEnabled"><i>exceptionsEnabled</i></a> 设为 true。
                <li><a href="#example-navigate-algo-named">导航</a>至 <var>resource</var>，<a
                        href="#example-navigate-algo-navigationType"><i>navigationType</i></a> 设为
                    "<code>form-submission</code>"，<a
                        href="#example-navigate-algo-exceptionsEnabled"><i>exceptionsEnabled</i></a> 设为 true。
            </ul>
        </div>
        <p class="note" role="note">注意，在算法步骤中，参数值只是变量引用，不链接到参数声明；只有调用处才链接参数声明。</p>
        <p>非可选的命名参数同样可以用上述方式标记并在调用处链接，有助于提升调用处的清晰度。</p>
        <p class="example allow-2119" id="example-algorithm-non-optional-named-params"><a class="self-link"
                href="#example-algorithm-non-optional-named-params"></a><a data-link-type="dfn" href="#boolean"
                id="ref-for-boolean①">布尔</a>参数无论是否可选，均建议使用命名参数，详见 <a
                href="https://ariya.io/2011/08/hall-of-api-shame-boolean-trap"><cite>The Pitfalls of Boolean
                    Trap</cite></a>。</p>
        <p>另一种提升清晰度的方法是将相关值打包为<a data-link-type="dfn" href="#struct"
                id="ref-for-struct">结构体（struct）</a>，并作为参数传递，尤其适用于多算法共用同一组相关值的场景。</p>
        <h3 class="heading settled" data-level="3.5" id="variables"><span class="secno">3.5. </span><span
                class="content">变量</span><a class="self-link" href="#variables"></a></h3>
        <p>变量使用 “let” 声明，使用 “set” 修改。</p>
        <p class="example" id="example-variable"><a class="self-link" href="#example-variable"></a>令 <var>list</var>
            为新的<a data-link-type="dfn" href="#list" id="ref-for-list">列表</a>。</p>
        <div class="example" id="example-variable-null">
            <a class="self-link" href="#example-variable-null"></a>
            <ol>
                <li>
                    <p>令 <var>value</var> 为 null。</p>
                <li>
                    <p>如果 <var>input</var> 是<a data-link-type="dfn" href="#string" id="ref-for-string①">字符串</a>，则将
                        <var>value</var> 设为 <var>input</var>。
                    </p>
                <li>
                    <p>否则，将 <var>value</var> 设为 <var>input</var> 经<a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode">UTF-8
                            解码</a>后所得。</p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert">断言</a>：<var>value</var> 是<a
                            data-link-type="dfn" href="#string" id="ref-for-string②">字符串</a>。</p>
            </ol>
        </div>
        <p class="example" id="example-variable-ternary"><a class="self-link" href="#example-variable-ternary"></a>令
            <var>activationTarget</var> 为 <var>isActivationEvent</var> 为 true 且 <var>target</var> 具有激活行为时的
            <var>target</var>，否则为 null。
        </p>
        <p>变量在声明前不得使用。变量具有<a
                href="https://en.wikipedia.org/wiki/Scope_(computer_science)#Block_scope">块作用域</a>。每个算法中变量不得重复声明。</p>
        <p>可用多重赋值语法，将多个变量赋值为<a data-link-type="dfn" href="#tuple" id="ref-for-tuple">元组</a>的<a data-link-type="dfn"
                href="#struct-item" id="ref-for-struct-item">各项</a>，即变量名用括号包裹并用逗号分隔。变量个数必须与<a data-link-type="dfn"
                href="#tuple" id="ref-for-tuple①">元组</a>的<a data-link-type="dfn" href="#struct-item"
                id="ref-for-struct-item①">项数</a>一致。</p>
        <div class="example" id="example-tuple-multiple-assignment">
            <a class="self-link" href="#example-tuple-multiple-assignment"></a>
            <ol>
                <li>
                    <p>令 <var>statusInstance</var> 为状态（200，`<code>OK</code>`）。</p>
                <li>
                    <p>令 (<var>status</var>, <var>statusMessage</var>) 为 <var>statusInstance</var>。</p>
            </ol>
            <p>将 <var>status</var> 和 <var>statusMessage</var> 赋值也可分为两步，分别用索引或<a data-link-type="dfn" href="#struct-name"
                    id="ref-for-struct-name">名称</a>访问<a data-link-type="dfn" href="#tuple" id="ref-for-tuple②">元组</a>的<a
                    data-link-type="dfn" href="#struct-item" id="ref-for-struct-item②">项</a>。</p>
        </div>
        <h3 class="heading settled" data-level="3.6" id="algorithm-control-flow"><span class="secno">3.6. </span><span
                class="content">控制流</span><a class="self-link" href="#algorithm-control-flow"></a></h3>
        <p>算法的控制流中，"return" 或 "throw" 的要求会终止当前语句所在的算法。"return" 可将给定值返回给调用者。"throw"
            会让调用者自动重新抛出给定值，并终止调用者算法。调用者可用叙述捕获异常并执行其他操作。</p>
        <h3 class="heading settled" data-level="3.7" id="algorithm-conditional-abort"><span class="secno">3.7.
            </span><span class="content">条件中止</span><a class="self-link" href="#algorithm-conditional-abort"></a></h3>
        <p>有时需要在某个条件变为真时停止执行一系列步骤。</p>
        <p>此时，应声明该系列步骤将在特定 <var>condition</var> 满足时<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="abort-when">中止（abort when）</dfn>。这表明这些步骤应在每一步前插入一条判断 <var>condition</var> 的语句，若其为真，则跳过剩余步骤。</p>
        <p>若算法如此设计，则后续步骤可标注为<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="if-aborted">中止时（if
                aborted）</dfn>，即若前面某步因 <a data-link-type="dfn" href="#abort-when" id="ref-for-abort-when">abort when</a>
            条件为真而被跳过，则该步必须执行。</p>
        <div class="example" id="example-conditional-abort">
            <a class="self-link" href="#example-conditional-abort"></a>
            <p>如下算法：</p>
            <ol>
                <li>
                    <p>令 <var>result</var> 为空<a data-link-type="dfn" href="#list" id="ref-for-list①">列表</a>。</p>
                <li>
                    <p>执行以下步骤，<a data-link-type="dfn" href="#abort-when" id="ref-for-abort-when①">中止条件</a>为用户点击“取消”按钮：
                    </p>
                    <ol>
                        <li>
                            <p>计算 <var>π</var> 的前一百万位，并<a data-link-type="dfn" href="#list-append"
                                    id="ref-for-list-append">追加</a>到 <var>result</var>。</p>
                        <li>
                            <p>计算 <var>e</var> 的前一百万位，并<a data-link-type="dfn" href="#list-append"
                                    id="ref-for-list-append①">追加</a>到 <var>result</var>。</p>
                        <li>
                            <p>计算 <var>φ</var> 的前一百万位，并<a data-link-type="dfn" href="#list-append"
                                    id="ref-for-list-append②">追加</a>到 <var>result</var>。</p>
                    </ol>
                <li>
                    <p><a data-link-type="dfn" href="#if-aborted" id="ref-for-if-aborted">如中止</a>，<a
                            data-link-type="dfn" href="#list-append" id="ref-for-list-append③">追加</a>
                        "<code>未完成！</code>" 到 <var>result</var>。</p>
            </ol>
            <p>等价于如下更冗长写法：</p>
            <ol>
                <li>
                    <p>令 <var>result</var> 为空<a data-link-type="dfn" href="#list" id="ref-for-list②">列表</a>。</p>
                <li>
                    <p>若用户未点击“取消”按钮：</p>
                    <ol>
                        <li>
                            <p>计算 <var>π</var> 的前一百万位，并<a data-link-type="dfn" href="#list-append"
                                    id="ref-for-list-append④">追加</a>到 <var>result</var>。</p>
                        <li>
                            <p>若用户未点击“取消”按钮：</p>
                            <ol>
                                <li>
                                    <p>计算 <var>e</var> 的前一百万位，并<a data-link-type="dfn" href="#list-append"
                                            id="ref-for-list-append⑤">追加</a>到 <var>result</var>。</p>
                                <li>
                                    <p>若用户未点击“取消”按钮，则计算 <var>φ</var> 的前一百万位，并<a data-link-type="dfn" href="#list-append"
                                            id="ref-for-list-append⑥">追加</a>到 <var>result</var>。</p>
                            </ol>
                    </ol>
                <li>
                    <p>若用户点击了“取消”按钮，则<a data-link-type="dfn" href="#list-append"
                            id="ref-for-list-append⑦">追加</a>"<code>未完成！</code>"到 <var>result</var>。</p>
            </ol>
        </div>
        <p class="note" role="note">使用该结构时，实现允许在指定步骤期间而非每步前后检查 <var>condition</var>，只要最终结果不变即可。例如，上述例子中只要
            <var>result</var> 在运算期间未被修改，用户代理可中断计算。
        </p>
        <h3 class="heading settled" data-level="3.8" id="algorithm-conditional-statements"><span class="secno">3.8.
            </span><span class="content">条件语句</span><a class="self-link" href="#algorithm-conditional-statements"></a>
        </h3>
        <p>带条件语句的算法应使用 "if"、"then" 和 "otherwise" 关键词。</p>
        <div class="example" id="example-conditional-statement">
            <a class="self-link" href="#example-conditional-statement"></a>
            <ol>
                <li>
                    <p>令 <var>value</var> 为 null。</p>
                <li>
                    <p>如果 <var>input</var> 是<a data-link-type="dfn" href="#string" id="ref-for-string③">字符串</a>，则将
                        <var>value</var> 设为 <var>input</var>。
                    </p>
                <li>
                    <p>返回 <var>value</var>。</p>
            </ol>
        </div>
        <p>一旦使用 "otherwise"，就不再用 "then"。</p>
        <div class="example" id="example-conditional-statement-no-then-1">
            <a class="self-link" href="#example-conditional-statement-no-then-1"></a>
            <ol>
                <li>
                    <p>令 <var>value</var> 为 null。</p>
                <li>
                    <p>如果 <var>input</var> 是<a data-link-type="dfn" href="#string" id="ref-for-string④">字符串</a>，则将
                        <var>value</var> 设为 <var>input</var>。
                    </p>
                <li>
                    <p>否则，将 <var>value</var> 设为失败。</p>
                <li>
                    <p>返回 <var>value</var>。</p>
            </ol>
        </div>
        <div class="example" id="example-conditional-statement-no-then-2">
            <a class="self-link" href="#example-conditional-statement-no-then-2"></a>
            <ol>
                <li>
                    <p>令 <var>value</var> 为 null。</p>
                <li>
                    <p>如果 <var>input</var> 是<a data-link-type="dfn" href="#string" id="ref-for-string⑤">字符串</a>，则将
                        <var>value</var> 设为 <var>input</var>。
                    </p>
                <li>
                    <p>否则，若 <var>input</var> 是<a data-link-type="dfn" href="#list" id="ref-for-list③">字符串</a>列表，则将
                        <var>value</var> 设为 <var>input</var>[0]。
                    </p>
                <li>
                    <p>否则，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>。
                    </p>
                <li>
                    <p>返回 <var>value</var>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.9" id="algorithm-iteration"><span class="secno">3.9. </span><span
                class="content">循环</span><a class="self-link" href="#algorithm-iteration"></a></h3>
        <p>可用多种方式重复执行一组步骤直到满足某条件。</p>
        <p class="note" role="note">Infra 标准尚未穷尽所有迭代写法，如有需要请提 issue。</p>
        <dl>
            <dt>For each
            <dd>
                <p>如<a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate">列表</a>（及其衍生物）和<a
                        data-link-type="dfn" href="#map-iterate" id="ref-for-map-iterate">映射</a>中定义。</p>
            <dt><dfn class="dfn-paneled" data-dfn-for="iteration" data-dfn-type="dfn" data-export data-lt="while"
                    id="iteration-while">While</dfn>
            <dd>
                <p>指令在条件满足时重复执行一组步骤。</p>
                <div class="example" id="example-while">
                    <a class="self-link" href="#example-while"></a>
                    <p>当 <var>condition</var> 为 "<code>met</code>" 时：</p>
                    <ol>
                        <li>
                            <p>……</p>
                    </ol>
                </div>
        </dl>
        <p>迭代流程可用 <dfn class="dfn-paneled" data-dfn-for="iteration" data-dfn-type="dfn" data-export
                id="iteration-continue">continue</dfn>（继续）或 <dfn class="dfn-paneled" data-dfn-for="iteration"
                data-dfn-type="dfn" data-export id="iteration-break">break</dfn>（中断）控制。<a data-link-type="dfn"
                href="#iteration-continue" id="ref-for-iteration-continue">continue</a> 会跳过本次迭代剩余步骤进入下一个元素，如无剩余元素则终止。<a
                data-link-type="dfn" href="#iteration-break" id="ref-for-iteration-break">break</a> 则跳过本次及后续所有元素，终止迭代。
        </p>
        <div class="example" id="example-break-continue">
            <a class="self-link" href="#example-break-continue"></a>
            <p>令 <var>example</var> 为<a data-link-type="dfn" href="#list" id="ref-for-list④">列表</a> « 1, 2, 3, 4
                »。下述叙述会对 1、2、3、4 依次执行 <var>operation</var>：</p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①">对于每个</a>
                        <var>item</var> 属于 <var>example</var>：
                    </p>
                    <ol>
                        <li>对 <var>item</var> 执行 <var>operation</var>。
                    </ol>
            </ol>
            <p>下述叙述会对 1、2、4 执行 <var>operation</var>，跳过 3。</p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate②">对于每个</a>
                        <var>item</var> 属于 <var>example</var>：
                    </p>
                    <ol>
                        <li>若 <var>item</var> 为 3，则<a data-link-type="dfn" href="#iteration-continue"
                                id="ref-for-iteration-continue①">continue</a>。
                        <li>对 <var>item</var> 执行 <var>operation</var>。
                    </ol>
            </ol>
            <p>下述叙述会对 1、2 执行 <var>operation</var>，跳过 3、4。</p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate③">对于每个</a>
                        <var>item</var> 属于 <var>example</var>：
                    </p>
                    <ol>
                        <li>若 <var>item</var> 为 3，则<a data-link-type="dfn" href="#iteration-break"
                                id="ref-for-iteration-break①">break</a>。
                        <li>对 <var>item</var> 执行 <var>operation</var>。
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.10" id="assertions"><span class="secno">3.10. </span><span
                class="content">断言</span><a class="self-link" href="#assertions"></a></h3>
        <p>为提升可读性，可在算法中添加断言，用于表达不变量。写法为“<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="assert">断言</dfn>：”，后接必须为真的语句。若该语句为假，则表明使用 Infra 标准的文档存在问题，应予以报告和修正。</p>
        <p class="note" role="note">因断言永远为真，对实现无要求。</p>
        <div class="example" id="example-assert">
            <a class="self-link" href="#example-assert"></a>
            <ol>
                <li>
                    <p>令 <var>x</var> 为 "<code>Aperture Science</code>"。</p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①">断言</a>：<var>x</var> 等于
                        "<code>Aperture Science</code>"。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="4" id="primitive-data-types"><span class="secno">4. </span><span
                class="content">基本数据类型</span><a class="self-link" href="#primitive-data-types"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="nulls"><span class="secno">4.1. </span><span
                class="content">空值（Nulls）</span><a class="self-link" href="#nulls"></a></h3>
        <p>值 null 用于表示没有值。它可与 JavaScript 的 <b>null</b> 值互换使用。<a data-link-type="biblio" href="#biblio-ecma-262"
                title="ECMAScript Language Specification">[ECMA-262]</a></p>
        <p class="example" id="example-null"><a class="self-link" href="#example-null"></a>令 <var>element</var> 为 null。
        </p>
        <p class="example" id="example-null-return"><a class="self-link" href="#example-null-return"></a>如果
            <var>input</var> 是空字符串，则返回 null。
        </p>
        <h3 class="heading settled" data-level="4.2" id="booleans"><span class="secno">4.2. </span><span
                class="content">布尔值（Booleans）</span><a class="self-link" href="#booleans"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="boolean">布尔值</dfn>只能为 true 或 false。</p>
        <p class="example" id="example-boolean"><a class="self-link" href="#example-boolean"></a>令
            <var>elementSeen</var> 为 false。
        </p>
        <h3 class="heading settled" data-level="4.3" id="numbers"><span class="secno">4.3. </span><span
                class="content">数字</span><a class="self-link" href="#numbers"></a></h3>
        <p class="XXX">数字很复杂，请参见 <a href="https://github.com/whatwg/infra/issues/87">issue
                #87</a>。我们希望将来能够为类型和数学运算提供更多指导，欢迎贡献！</p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="8-bit-unsigned-integer">8位无符号整数</dfn>是范围为 0 到
            255（0 到 2<sup>8</sup> − 1，包括端点）的整数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="16-bit-unsigned-integer">16位无符号整数</dfn>是范围为 0 到
            65535（0 到 2<sup>16</sup> − 1，包括端点）的整数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="32-bit-unsigned-integer">32位无符号整数</dfn>是范围为 0 到
            4294967295（0 到 2<sup>32</sup> − 1，包括端点）的整数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="64-bit-unsigned-integer">64位无符号整数</dfn>是范围为 0 到
            18446744073709551615（0 到 2<sup>64</sup> − 1，包括端点）的整数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="128-bit-unsigned-integer">128位无符号整数</dfn>是范围为 0
            到 340282366920938463463374607431768211455（0 到 2<sup>128</sup> − 1，包括端点）的整数。</p>
        <p class="example" id="example-128-bit-unsigned-integer"><a class="self-link"
                href="#example-128-bit-unsigned-integer"></a>IPv6 地址是<a data-link-type="dfn"
                href="#128-bit-unsigned-integer" id="ref-for-128-bit-unsigned-integer">128位无符号整数</a>。</p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="8-bit-signed-integer">8位有符号整数</dfn>是范围为 −128 到
            127（−2<sup>7</sup> 到 2<sup>7</sup> − 1，包括端点）的整数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="16-bit-signed-integer">16位有符号整数</dfn>是范围为 −32768
            到 32767（−2<sup>15</sup> 到 2<sup>15</sup> − 1，包括端点）的整数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="32-bit-signed-integer">32位有符号整数</dfn>是范围为
            −2147483648 到 2147483647（−2<sup>31</sup> 到 2<sup>31</sup> − 1，包括端点）的整数。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="64-bit-signed-integer">64位有符号整数</dfn>是范围为
            −9223372036854775808 到 9223372036854775807（−2<sup>63</sup> 到 2<sup>63</sup> − 1，包括端点）的整数。</p>
        <h3 class="heading settled" data-level="4.4" id="bytes"><span class="secno">4.4. </span><span
                class="content">字节（Bytes）</span><a class="self-link" href="#bytes"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="byte">字节（byte）</dfn>是一组八位比特，表示为“<code>0x</code>”加两个<a data-link-type="dfn"
                href="#ascii-upper-hex-digit" id="ref-for-ascii-upper-hex-digit">ASCII 大写十六进制数字</a>，范围为 0x00 到
            0xFF，包括端点。<a data-link-type="dfn" href="#byte" id="ref-for-byte">字节</a>的<dfn class="dfn-paneled"
                data-dfn-for="byte" data-dfn-type="dfn" data-export id="byte-value">值（value）</dfn>就是其底层数字值。</p>
        <p class="example" id="example-byte-value"><a class="self-link" href="#example-byte-value"></a>0x40 是一个<a
                data-link-type="dfn" href="#byte" id="ref-for-byte①">字节</a>，其<a data-link-type="dfn" href="#byte-value"
                id="ref-for-byte-value">值</a>为 64。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-byte">ASCII 字节</dfn>是指在 0x00（NUL）到
            0x7F（DEL）范围内的<a data-link-type="dfn" href="#byte" id="ref-for-byte②">字节</a>。如示例所示，除 0x28 和 0x29 外，ASCII
            字节可在括号中附带 <cite>ASCII format for Network Interchange</cite> <a
                href="https://tools.ietf.org/html/rfc20#section-2">标准码表</a>中的描述。<a data-link-type="biblio"
                href="#biblio-rfc20" title="ASCII format for network interchange">[RFC20]</a></p>
        <p>0x28 可写作 "(left parenthesis)"，0x29 可写作 "(right parenthesis)"。</p>
        <p class="example" id="example-byte-notation"><a class="self-link" href="#example-byte-notation"></a>0x49 (I)
            经<a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode"
                id="ref-for-utf-8-decode①">UTF-8 解码</a>后为<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point">码点</a> U+0049 (I)。</p>
        <h3 class="heading settled" data-level="4.5" id="byte-sequences"><span class="secno">4.5. </span><span
                class="content">字节序列（Byte sequences）</span><a class="self-link" href="#byte-sequences"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="byte-sequence">字节序列</dfn>是由<a
                data-link-type="dfn" href="#byte" id="ref-for-byte③">字节</a>组成的序列，表示为空格分隔的一串字节。若字节在 0x20（空格）到
            0x7E（~）范围内，也可写作字符串，但需用反引号而非引号，避免与实际<a data-link-type="dfn" href="#string" id="ref-for-string⑦">字符串</a>混淆。
        </p>
        <div class="example" id="example-byte-sequence-notation">
            <a class="self-link" href="#example-byte-sequence-notation"></a>
            <p>0x48 0x49 也可写作 `<code>HI</code>`。</p>
            <p>如 `<code>Content-Type</code>` 这样的头字段就是<a data-link-type="dfn" href="#byte-sequence"
                    id="ref-for-byte-sequence③">字节序列</a>。</p>
        </div>
        <p class="note" role="note">若需将<a data-link-type="dfn" href="#string" id="ref-for-string⑧">字符串</a>转为<a
                data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence④">字节序列</a>，建议使用
            <cite>Encoding</cite> 中的<a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode"
                id="ref-for-utf-8-encode">UTF-8 编码</a>；极少数情况下可用<a data-link-type="dfn" href="#isomorphic-encode"
                id="ref-for-isomorphic-encode">同构编码</a>。<a data-link-type="biblio" href="#biblio-encoding"
                title="Encoding Standard">[ENCODING]</a>
        </p>
        <p><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence⑤">字节序列</a>的<dfn class="dfn-paneled"
                data-dfn-for="byte sequence" data-dfn-type="dfn" data-export id="byte-sequence-length">长度</dfn>即其所含<a
                data-link-type="dfn" href="#byte" id="ref-for-byte④">字节</a>数。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="byte-lowercase">字节序列转小写（byte-lowercase）</dfn>，把<a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence⑥">字节序列</a>中范围 0x41（A）到 0x5A（Z）的每个<a data-link-type="dfn" href="#byte"
                id="ref-for-byte⑤">字节</a>加 0x20。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="byte-uppercase">字节序列转大写（byte-uppercase）</dfn>，把<a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence⑦">字节序列</a>中范围 0x61（a）到 0x7A（z）的每个<a data-link-type="dfn" href="#byte"
                id="ref-for-byte⑥">字节</a>减 0x20。</p>
        <p>如<a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence⑧">字节序列</a> <var>A</var> 的<a
                data-link-type="dfn" href="#byte-lowercase" id="ref-for-byte-lowercase">字节序列转小写</a>与 <var>B</var> 的<a
                data-link-type="dfn" href="#byte-lowercase" id="ref-for-byte-lowercase①">字节序列转小写</a>一致，则 <var>A</var> 与
            <var>B</var> 为<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="byte-case-insensitive">大小写不敏感（byte-case-insensitive）</dfn>匹配。
        </p>
        <hr>
        <p>若下述步骤返回 true，则<a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence①⓪">字节序列</a><var>potentialPrefix</var>为<a data-link-type="dfn"
                href="#byte-sequence" id="ref-for-byte-sequence①①">字节序列</a><var>input</var>的<dfn class="dfn-paneled"
                data-dfn-for="byte sequence" data-dfn-type="dfn" data-export id="byte-sequence-prefix">前缀（prefix）</dfn>：
        </p>
        <ol>
            <li>
                <p>令 <var>i</var> 为 0。</p>
            <li>
                <p><a data-link-type="dfn" href="#iteration-while" id="ref-for-iteration-while">当</a> true：</p>
                <ol>
                    <li>
                        <p>如果 <var>i</var> 大于等于 <var>potentialPrefix</var> 的<a data-link-type="dfn"
                                href="#byte-sequence-length" id="ref-for-byte-sequence-length">长度</a>，则返回 true。</p>
                    <li>
                        <p>如果 <var>i</var> 大于等于 <var>input</var> 的<a data-link-type="dfn" href="#byte-sequence-length"
                                id="ref-for-byte-sequence-length①">长度</a>，则返回 false。</p>
                    <li>
                        <p>令 <var>potentialPrefixByte</var> 为 <var>potentialPrefix</var> 的第 <var>i</var> 个<a
                                data-link-type="dfn" href="#byte" id="ref-for-byte⑦">字节</a>。</p>
                    <li>
                        <p>令 <var>inputByte</var> 为 <var>input</var> 的第 <var>i</var> 个<a data-link-type="dfn"
                                href="#byte" id="ref-for-byte⑧">字节</a>。</p>
                    <li>
                        <p>如 <var>potentialPrefixByte</var> 不等于 <var>inputByte</var>，则返回 false。</p>
                    <li>
                        <p>令 <var>i</var> 为 <var>i</var> + 1。</p>
                </ol>
        </ol>
        <p>"<var>input</var> <dfn class="dfn-paneled" data-dfn-for="byte sequence" data-dfn-type="dfn" data-export
                data-lt="starts with|start with" id="byte-sequence-starts-with">以……为前缀（starts with）</dfn>
            <var>potentialPrefix</var>" 可作为 "<var>potentialPrefix</var> 是 <var>input</var> 的<a data-link-type="dfn"
                href="#byte-sequence-prefix" id="ref-for-byte-sequence-prefix">前缀</a>" 的同义写法。
        </p>
        <p><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①②">字节序列</a> <var>a</var> <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="byte-less-than">小于（byte less than）</dfn> <a
                data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①③">字节序列</a> <var>b</var>，当且仅当如下步骤返回
            true：</p>
        <ol>
            <li>
                <p>如 <var>b</var> 是 <var>a</var> 的<a data-link-type="dfn" href="#byte-sequence-prefix"
                        id="ref-for-byte-sequence-prefix①">前缀</a>，返回 false。</p>
            <li>
                <p>如 <var>a</var> 是 <var>b</var> 的<a data-link-type="dfn" href="#byte-sequence-prefix"
                        id="ref-for-byte-sequence-prefix②">前缀</a>，返回 true。</p>
            <li>
                <p>令 <var>n</var> 为 <var>a</var> 与 <var>b</var> 第一个不同字节的最小索引。（必有此索引，因为两者互不为前缀。）</p>
            <li>
                <p>如 <var>a</var> 的第 <var>n</var> 个字节小于 <var>b</var> 的第 <var>n</var> 个字节，返回 true。</p>
            <li>
                <p>返回 false。</p>
        </ol>
        <hr>
        <div class="algorithm" data-algorithm="isomorphic decode">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="isomorphic-decode">同构解码</dfn><a
                    data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①④">字节序列</a>
                <var>input</var>，返回一个<a data-link-type="dfn" href="#string" id="ref-for-string⑨">字符串</a>，其<a
                    data-link-type="dfn" href="#string-code-point-length"
                    id="ref-for-string-code-point-length">码点长度</a>等于 <var>input</var> 的<a data-link-type="dfn"
                    href="#byte-sequence-length" id="ref-for-byte-sequence-length②">长度</a>，且每个码点的<a data-link-type="dfn"
                    href="#code-point-value" id="ref-for-code-point-value">值</a>等于 <var>input</var> 的各<a
                    data-link-type="dfn" href="#byte-value" id="ref-for-byte-value①">字节值</a>，顺序一致。
            </p>
        </div>
        <h3 class="heading settled" data-level="4.6" id="code-points"><span class="secno">4.6. </span><span
                class="content">码点（Code points）</span><a class="self-link" href="#code-points"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="code point|character"
                id="code-point">码点</dfn>指 Unicode 码点，表示为 "U+" 后跟四到六个<a data-link-type="dfn"
                href="#ascii-upper-hex-digit" id="ref-for-ascii-upper-hex-digit①">ASCII 大写十六进制数字</a>，范围是 U+0000 到
            U+10FFFF（包括端点）。<a data-link-type="dfn" href="#code-point" id="ref-for-code-point②">码点</a>的<dfn
                class="dfn-paneled" data-dfn-for="code point" data-dfn-type="dfn" data-export
                id="code-point-value">值</dfn>即其底层数字。</p>
        <p><a data-link-type="dfn" href="#code-point" id="ref-for-code-point③">码点</a>后可以跟其名称、在括号中的显示形式（如不是 U+0028 或
            U+0029），或两者都跟。建议使用 Infra 标准的文档，在无法显示或为 U+0028/U+0029 时用其名称，否则为提升可读性用括号内的显示形式。</p>
        <p><a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑤">码点</a>的名称定义在 <cite>Unicode</cite> 中，用<a
                data-link-type="dfn" href="#ascii-uppercase" id="ref-for-ascii-uppercase①">ASCII 大写字母</a>表示。<a
                data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a>
        </p>
        <div class="example" id="example-code-point-notation">
            <a class="self-link" href="#example-code-point-notation"></a>
            <p>渲染为 🤔 的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑥">码点</a>表示为 U+1F914。</p>
            <p>引用该<a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑦">码点</a>时，可写作 "U+1F914 (🤔)"
                以提供额外信息。文档也可写作 "U+1F914 THINKING FACE (🤔)"，但略显冗长。</p>
        </div>
        <p class="example" id="example-code-point-notation-hard-to-render"><a class="self-link"
                href="#example-code-point-notation-hard-to-render"></a>难以明确显示的<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point⑧">码点</a>，如 U+000A，可写作 "U+000A LF"。U+0029 可写作 "U+0029 RIGHT
            PARENTHESIS"，即使能显示，以避免括号不匹配。</p>
        <p><a data-link-type="dfn" href="#code-point" id="ref-for-code-point⑨">码点</a>有时也被称为<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point①⓪">字符（character）</a>，有些场合前缀会用 "0x" 而非 "U+"。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="leading-surrogate">前导代理项（leading
                surrogate）</dfn>是指范围在 U+D800 至 U+DBFF（包括端点）的<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point①①">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="trailing-surrogate">尾随代理项（trailing
                surrogate）</dfn>是范围在 U+DC00 至 U+DFFF（包括端点）的<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point①②">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="surrogate">代理项（surrogate）</dfn>即<a
                data-link-type="dfn" href="#leading-surrogate" id="ref-for-leading-surrogate">前导代理项</a>或<a
                data-link-type="dfn" href="#trailing-surrogate" id="ref-for-trailing-surrogate">尾随代理项</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="scalar-value">标量值（scalar value）</dfn>是指不是<a
                data-link-type="dfn" href="#surrogate" id="ref-for-surrogate">代理项</a>的<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point①③">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="noncharacter">非字符（noncharacter）</dfn>是指在 U+FDD0
            至 U+FDEF（包括端点），或等于
            U+FFFE、U+FFFF、U+1FFFE、U+1FFFF、U+2FFFE、U+2FFFF、U+3FFFE、U+3FFFF、U+4FFFE、U+4FFFF、U+5FFFE、U+5FFFF、U+6FFFE、U+6FFFF、U+7FFFE、U+7FFFF、U+8FFFE、U+8FFFF、U+9FFFE、U+9FFFF、U+AFFFE、U+AFFFF、U+BFFFE、U+BFFFF、U+CFFFE、U+CFFFF、U+DFFFE、U+DFFFF、U+EFFFE、U+EFFFF、U+FFFFE、U+FFFFF、U+10FFFE
            或 U+10FFFF 的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point①④">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-code-point">ASCII 码点</dfn>是指范围 U+0000 NULL
            到 U+007F DELETE（包括端点）的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point①⑤">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="ASCII tab or newline|ASCII tabs or newlines" id="ascii-tab-or-newline">ASCII 制表符或换行符</dfn>为
            U+0009 TAB、U+000A LF 或 U+000D CR。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-whitespace">ASCII 空白符</dfn>为 U+0009
            TAB、U+000A LF、U+000C FF、U+000D CR 或 U+0020 SPACE。</p>
        <p class="note" role="note">"Whitespace" 是物质名词。</p>
        <div class="note" role="note">
            <p>XML、JSON 和部分 HTTP 规范在其空白符定义中排除了 U+000C FF：</p>
            <ul class="brief">
                <li><a href="https://www.w3.org/TR/xml/#NT-S">XML 的 S 产生式</a>
                <li><a href="https://www.rfc-editor.org/rfc/rfc8259#section-2">JSON 的 ws 产生式</a>
                <li><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#http-whitespace"
                        id="ref-for-http-whitespace">HTTP 空白符</a>
            </ul>
            <p>除非规范仅涉及 XML/JSON/HTTP，否则为新特性建议使用 Infra 的<a data-link-type="dfn" href="#ascii-whitespace"
                    id="ref-for-ascii-whitespace">ASCII 空白符</a>定义。</p>
        </div>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="c0-control">C0 控制符</dfn>是指范围 U+0000 NULL 到
            U+001F INFORMATION SEPARATOR ONE（包括端点）的<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point①⑥">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="C0 control or space|C0 controls or spaces"
                id="c0-control-or-space">C0 控制符或空格</dfn>是<a data-link-type="dfn" href="#c0-control"
                id="ref-for-c0-control">C0 控制符</a>或 U+0020 SPACE。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="control">控制符</dfn>指<a data-link-type="dfn"
                href="#c0-control" id="ref-for-c0-control①">C0 控制符</a>或范围 U+007F DELETE 到 U+009F APPLICATION PROGRAM
            COMMAND（包括端点）的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point①⑦">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-digit">ASCII 数字</dfn>是指范围 U+0030 (0) 到
            U+0039 (9)（包括端点）的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point①⑧">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-upper-hex-digit">ASCII 大写十六进制数字</dfn>是<a
                data-link-type="dfn" href="#ascii-digit" id="ref-for-ascii-digit">ASCII 数字</a>或范围 U+0041 (A) 到 U+0046
            (F)（包括端点）的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point①⑨">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-lower-hex-digit">ASCII 小写十六进制数字</dfn>是<a
                data-link-type="dfn" href="#ascii-digit" id="ref-for-ascii-digit①">ASCII 数字</a>或范围 U+0061 (a) 到 U+0066
            (f)（包括端点）的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point②⓪">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-hex-digit">ASCII 十六进制数字</dfn>是<a
                data-link-type="dfn" href="#ascii-upper-hex-digit" id="ref-for-ascii-upper-hex-digit②">ASCII
                大写十六进制数字</a>或<a data-link-type="dfn" href="#ascii-lower-hex-digit"
                id="ref-for-ascii-lower-hex-digit">ASCII 小写十六进制数字</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-upper-alpha">ASCII 大写字母</dfn>是范围 U+0041
            (A) 到 U+005A (Z)（包括端点）的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point②①">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-lower-alpha">ASCII 小写字母</dfn>是范围 U+0061
            (a) 到 U+007A (z)（包括端点）的<a data-link-type="dfn" href="#code-point" id="ref-for-code-point②②">码点</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-alpha">ASCII 字母</dfn>是<a
                data-link-type="dfn" href="#ascii-upper-alpha" id="ref-for-ascii-upper-alpha">ASCII 大写字母</a>或<a
                data-link-type="dfn" href="#ascii-lower-alpha" id="ref-for-ascii-lower-alpha">ASCII 小写字母</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-alphanumeric">ASCII 字母数字</dfn>是<a
                data-link-type="dfn" href="#ascii-digit" id="ref-for-ascii-digit②">ASCII 数字</a>或<a data-link-type="dfn"
                href="#ascii-alpha" id="ref-for-ascii-alpha">ASCII 字母</a>。</p>
        <h3 class="heading settled" data-level="4.7" id="strings"><span class="secno">4.7. </span><span
                class="content">字符串（Strings）</span><a class="self-link" href="#strings"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="string|JavaScript string"
                id="string">字符串</dfn>是一组<a data-link-type="dfn" href="#16-bit-unsigned-integer"
                id="ref-for-16-bit-unsigned-integer">16 位无符号整数</a>，也称为<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-export data-lt="code unit" id="code-unit">码元（code unit）</dfn>。
            <a data-link-type="dfn" href="#string" id="ref-for-string①⓪">字符串</a>也称为<a data-link-type="dfn"
                href="#string" id="javascript-string">JavaScript 字符串</a>。<a data-link-type="dfn" href="#string"
                id="ref-for-string①①">字符串</a>使用双引号与等宽字体表示。
        </p>
        <p class="example" id="example-string-notation"><a class="self-link"
                href="#example-string-notation"></a>"<code>Hello, world!</code>" 是一个字符串。</p>
        <p class="note" role="note">这与<cite>Unicode</cite>中“码元”的定义不同，本规范特指 Unicode 16 位字符串的定义。<a data-link-type="biblio"
                href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a></p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string①②">字符串</a>也可按 JavaScript 规范 <a data-link-type="dfn"
                href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type"
                id="ref-for-sec-ecmascript-language-types-string-type">The String Type</a> 一节的定义，解释为包含<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point②③">码点</a>。<a data-link-type="biblio"
                href="#biblio-ecma-262" title="ECMAScript Language Specification">[ECMA-262]</a></p>
        <p class="note" role="note">该转换过程会将代理对（surrogate pair）转换为对应的<a data-link-type="dfn" href="#scalar-value"
                id="ref-for-scalar-value">标量值</a>，并将剩余的代理项映射为对应<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point②④">码点</a>，即保持原样。</p>
        <p class="example" id="example-javascript-string-in-code-points"><a class="self-link"
                href="#example-javascript-string-in-code-points"></a>由码元 0xD83D、0xDCA9 和 0xD800 组成的<a
                data-link-type="dfn" href="#string" id="ref-for-string①③">字符串</a>，按码点解释后为 U+1F4A9 和 U+D800 两个<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point②⑤">码点</a>。</p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string①④">字符串</a>的<dfn class="dfn-paneled"
                data-dfn-for="string,JavaScript string,ASCII string,isomorphic string,scalar value string"
                data-dfn-type="dfn" data-export id="string-length"><span class="bs-old-id"
                    id="javascript-string-length"></span>长度（length）</dfn>是其包含的<a data-link-type="dfn" href="#code-unit"
                id="ref-for-code-unit①">码元</a>数。</p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string①⑤">字符串</a>的<dfn class="dfn-paneled"
                data-dfn-for="string,JavaScript string,ASCII string,isomorphic string,scalar value string"
                data-dfn-type="dfn" data-export id="string-code-point-length">码点长度（code point length）</dfn>是其包含的<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point②⑦">码点</a>数。</p>
        <hr>
        <p>为表达<a data-link-type="dfn" href="#string" id="ref-for-string①⑥">字符串</a>对所含<a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point②⑧">码点</a>的特殊限制，本规范定义了<a data-link-type="dfn"
                href="#ascii-string" id="ref-for-ascii-string">ASCII 字符串</a>、<a data-link-type="dfn"
                href="#isomorphic-string" id="ref-for-isomorphic-string">同构字符串</a>和<a data-link-type="dfn"
                href="#scalar-value-string" id="ref-for-scalar-value-string">标量值字符串</a>。在规范中使用这些类型有助于提升清晰性。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-string">ASCII 字符串</dfn>是所有<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point②⑨">码点</a>均为<a data-link-type="dfn"
                href="#ascii-code-point" id="ref-for-ascii-code-point">ASCII 码点</a>的<a data-link-type="dfn"
                href="#string" id="ref-for-string①⑦">字符串</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="isomorphic-string">同构字符串</dfn>是所有<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point③⓪">码点</a>均在 U+0000 NULL 至 U+00FF（ÿ）范围内的<a
                data-link-type="dfn" href="#string" id="ref-for-string①⑧">字符串</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="scalar-value-string">标量值字符串</dfn>是所有<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point③①">码点</a>均为<a data-link-type="dfn"
                href="#scalar-value" id="ref-for-scalar-value①">标量值</a>的<a data-link-type="dfn" href="#string"
                id="ref-for-string①⑨">字符串</a>。</p>
        <p class="note" role="note"><a data-link-type="dfn" href="#scalar-value-string"
                id="ref-for-scalar-value-string①">标量值字符串</a>适用于所有涉及 I/O 或需要<a data-link-type="dfn"
                href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode①">UTF-8 编码</a>的操作。</p>
        <hr>
        <p>要将 <a data-link-type="dfn" href="#string" id="ref-for-string②⓪">字符串</a> <dfn class="dfn-paneled"
                data-dfn-for="string,JavaScript string" data-dfn-type="dfn" data-export
                id="javascript-string-convert">转换</dfn>为 <a data-link-type="dfn" href="#scalar-value-string"
                id="ref-for-scalar-value-string②">标量值字符串</a>，需将其中的任何 <a data-link-type="dfn" href="#surrogate"
                id="ref-for-surrogate①">代理项（surrogates）</a> 替换为 U+FFFD（�）。</p>
        <div class="note" role="note">
            <p>被替换的代理项不会是代理对，因为解释为码点时已将代理对转为<a data-link-type="dfn" href="#scalar-value"
                    id="ref-for-scalar-value②">标量值</a>。</p>
            <p><a data-link-type="dfn" href="#scalar-value-string" id="ref-for-scalar-value-string③">标量值字符串</a>可隐式作为<a
                    data-link-type="dfn" href="#string" id="ref-for-string②①">字符串</a>使用，因为每个<a data-link-type="dfn"
                    href="#scalar-value-string" id="ref-for-scalar-value-string④">标量值字符串</a>都是<a data-link-type="dfn"
                    href="#string" id="ref-for-string②②">字符串</a>。而<a data-link-type="dfn" href="#string"
                    id="ref-for-string②③">字符串</a>仅当不含<a data-link-type="dfn" href="#surrogate"
                    id="ref-for-surrogate②">代理项</a>时可隐式用作<a data-link-type="dfn" href="#scalar-value-string"
                    id="ref-for-scalar-value-string⑤">标量值字符串</a>，否则需执行<a data-link-type="dfn"
                    href="#javascript-string-convert" id="ref-for-javascript-string-convert">转换</a>。</p>
            <p>实现可能需根据实际字符串和<a data-link-type="dfn" href="#scalar-value-string"
                    id="ref-for-scalar-value-string⑥">标量值字符串</a>的表示方式执行显式转换。出于性能和内存原因，实现通常会为<a data-link-type="dfn"
                    href="#string" id="ref-for-string②④">字符串</a>提供多种实现。</p>
        </div>
        <hr>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string②⑥">字符串</a> <var>a</var> <dfn class="dfn-paneled"
                data-dfn-for="string" data-dfn-type="dfn" data-export data-lt="is|identical to"
                id="string-is">等于（is/identical to）</dfn> <a data-link-type="dfn" href="#string"
                id="ref-for-string②⑦">字符串</a> <var>b</var>，当且仅当二者码元序列完全一致。</p>
        <p>除非另有说明，所有字符串比较均用<a data-link-type="dfn" href="#string-is" id="ref-for-string-is①">is</a>。</p>
        <p class="note" role="note">这种<a data-link-type="dfn" href="#string" id="ref-for-string②⑧">字符串</a>比较方式在
            <cite>HTML</cite> 中曾称为“区分大小写”比较。<a data-link-type="dfn" href="#string-is" id="ref-for-string-is②">is</a>
            比较不仅区分大小写，还区分码点的各种编码方式，如规范化形式或组合符顺序。即使在 <cite>Unicode</cite> 意义下视觉或规范等价的两字符串也可能不<a data-link-type="dfn"
                href="#string-is" id="ref-for-string-is③">is</a>。
        </p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string②⑨">字符串</a> <var>potentialPrefix</var> 是<a
                data-link-type="dfn" data-dfn-type="dfn" data-export id="code-unit-prefix">码元前缀（code unit
                prefix）</dfn>，当且仅当如下步骤返回 true：</p>
        <ol>
            <li>
                <p>令 <var>i</var> 为 0。</p>
            <li>
                <p><a data-link-type="dfn" href="#iteration-while" id="ref-for-iteration-while①">当</a> true：</p>
                <ol>
                    <li>
                        <p>如果 <var>i</var> 大于等于 <var>potentialPrefix</var> 的<a data-link-type="dfn"
                                href="#string-length" id="ref-for-string-length">长度</a>，则返回 true。</p>
                    <li>
                        <p>如果 <var>i</var> 大于等于 <var>input</var> 的<a data-link-type="dfn" href="#string-length"
                                id="ref-for-string-length①">长度</a>，则返回 false。</p>
                    <li>
                        <p>令 <var>potentialPrefixCodeUnit</var> 为 <var>potentialPrefix</var> 的第 <var>i</var> 个<a
                                data-link-type="dfn" href="#code-unit" id="ref-for-code-unit③">码元</a>。</p>
                    <li>
                        <p>令 <var>inputCodeUnit</var> 为 <var>input</var> 的第 <var>i</var> 个<a data-link-type="dfn"
                                href="#code-unit" id="ref-for-code-unit④">码元</a>。</p>
                    <li>
                        <p>如 <var>potentialPrefixCodeUnit</var> 不等于 <var>inputCodeUnit</var>，则返回 false。</p>
                    <li>
                        <p>令 <var>i</var> 为 <var>i</var> + 1。</p>
                </ol>
        </ol>
        <p>若上下文明确是码元（如字符串字面量只含 U+0020 SPACE 到 U+007E (~)），则 "<var>input</var> <dfn class="dfn-paneled"
                data-dfn-for="string" data-dfn-type="dfn" data-export id="string-starts-with">以……为前缀（starts with）</dfn>
            <var>potentialPrefix</var>" 可视为 "<var>potentialPrefix</var> 为 <var>input</var> 的<a data-link-type="dfn"
                href="#code-unit-prefix" id="ref-for-code-unit-prefix">码元前缀</a>" 的同义说法。
        </p>
        <p class="example" id="code-unit-prefix-example"><a class="self-link"
                href="#code-unit-prefix-example"></a>若取值未知，建议显式表达：<var>targetString</var> 是 <var>userInput</var> 的<a
                data-link-type="dfn" href="#code-unit-prefix"
                id="ref-for-code-unit-prefix①">码元前缀</a>。若为字面量，则可直接说：<var>userInput</var> <a data-link-type="dfn"
                href="#string-starts-with" id="ref-for-string-starts-with">以</a> "<code>!</code>" 开头。</p>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string③①">字符串</a> <var>potentialSuffix</var> 是<a
                data-link-type="dfn" data-dfn-type="dfn" data-export id="code-unit-suffix">码元后缀（code unit
                suffix）</dfn>，当且仅当如下步骤返回 true：</p>
        <ol>
            <li>
                <p>令 <var>i</var> 为 1。</p>
            <li>
                <p><a data-link-type="dfn" href="#iteration-while" id="ref-for-iteration-while②">当</a> true：</p>
                <ol>
                    <li>
                        <p>令 <var>potentialSuffixIndex</var> 为 <var>potentialSuffix</var> 的<a data-link-type="dfn"
                                href="#string-length" id="ref-for-string-length②">长度</a> − <var>i</var>。</p>
                    <li>
                        <p>令 <var>inputIndex</var> 为 <var>input</var> 的<a data-link-type="dfn" href="#string-length"
                                id="ref-for-string-length③">长度</a> − <var>i</var>。</p>
                    <li>
                        <p>如 <var>potentialSuffixIndex</var> &lt; 0，则返回 true。</p>
                    <li>
                        <p>如 <var>inputIndex</var> &lt; 0，则返回 false。</p>
                    <li>
                        <p>令 <var>potentialSuffixCodeUnit</var> 为 <var>potentialSuffixIndex</var> 处的<a
                                data-link-type="dfn" href="#code-unit" id="ref-for-code-unit⑥">码元</a>。</p>
                    <li>
                        <p>令 <var>inputCodeUnit</var> 为 <var>inputIndex</var> 处的<a data-link-type="dfn"
                                href="#code-unit" id="ref-for-code-unit⑦">码元</a>。</p>
                    <li>
                        <p>如 <var>potentialSuffixCodeUnit</var> 不等于 <var>inputCodeUnit</var>，则返回 false。</p>
                    <li>
                        <p>令 <var>i</var> 为 <var>i</var> + 1。</p>
                </ol>
        </ol>
        <p>若上下文明确为码元（如字符串字面量只含 U+0020 SPACE 到 U+007E (~)），则 "<var>input</var> <dfn class="dfn-paneled"
                data-dfn-for="string" data-dfn-type="dfn" data-export id="string-ends-with">以……为后缀（ends with）</dfn>
            <var>potentialSuffix</var>" 可用作 "<var>potentialSuffix</var> 为 <var>input</var> 的<a data-link-type="dfn"
                href="#code-unit-suffix" id="ref-for-code-unit-suffix">码元后缀</a>" 的同义说法。
        </p>
        <p class="example" id="code-unit-suffix-example"><a class="self-link"
                href="#code-unit-suffix-example"></a>若取值未知，建议显式表达：<var>targetString</var> 是 <var>domain</var> 的<a
                data-link-type="dfn" href="#code-unit-suffix"
                id="ref-for-code-unit-suffix①">码元后缀</a>。若为字面量，则可直接说：<var>domain</var> <a data-link-type="dfn"
                href="#string-ends-with" id="ref-for-string-ends-with">以</a> "<code>.</code>" 结尾。</p>
        <hr>
        <p><a data-link-type="dfn" href="#string" id="ref-for-string③③">字符串</a> <var>a</var> <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="code-unit-less-than">码元小于（code unit less than）</dfn>
            <a data-link-type="dfn" href="#string" id="ref-for-string③④">字符串</a> <var>b</var>，当且仅当如下步骤返回 true：
        </p>
        <ol>
            <li>
                <p>如 <var>b</var> 是 <var>a</var> 的<a data-link-type="dfn" href="#code-unit-prefix"
                        id="ref-for-code-unit-prefix②">码元前缀</a>，则返回 false。</p>
            <li>
                <p>如 <var>a</var> 是 <var>b</var> 的<a data-link-type="dfn" href="#code-unit-prefix"
                        id="ref-for-code-unit-prefix③">码元前缀</a>，则返回 true。</p>
            <li>
                <p>令 <var>n</var> 为 <var>a</var> 与 <var>b</var> 第一个码元不同的最小索引。（必有此索引，因为两者互不为前缀。）</p>
            <li>
                <p>如 <var>a</var> 的第 <var>n</var> 个码元小于 <var>b</var> 的第 <var>n</var> 个码元，则返回 true。</p>
            <li>
                <p>返回 false。</p>
        </ol>
        <p class="note" role="note">此与 JavaScript 的 <code>&lt;</code> 运算符和其 <code
                class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array.prototype.sort" id="ref-for-sec-array.prototype.sort">sort()</a></code>
            方法在字符串数组上的排序顺序一致。该顺序直接比较每个字符串的 16 位码元，因而高效且确定，但对由代理对组成的<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point③③">码点</a>不符合任何实际字母表或字典顺序。<a data-link-type="biblio" href="#biblio-ecma-262"
                title="ECMAScript Language Specification">[ECMA-262]</a>
        </p>
        <p class="example" id="example-code-unit-less-than"><a class="self-link"
                href="#example-code-unit-less-than"></a>例如，U+FF5E FULLWIDTH TILDE (～) 的码点显然小于 U+1F600 (😀)，但波浪号为单一码元
            0xFF5E，笑脸为两个码元 0xD83D 和 0XDE00，因此笑脸 <a data-link-type="dfn" href="#code-unit-less-than"
                id="ref-for-code-unit-less-than">码元小于</a> 波浪号。</p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="code-unit-substring">码元子串（code unit
                substring）</dfn>，即 <a data-link-type="dfn" href="#string" id="ref-for-string③⑤">字符串</a>
            <var>string</var> 中从 <var>start</var> 起长度为 <var>length</var> 的子串，按如下步骤确定：
        </p>
        <ol>
            <li>
                <p><a data-link-type="dfn" href="#assert" id="ref-for-assert②">断言</a>：<var>start</var> 和
                    <var>length</var> 为非负数。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#assert" id="ref-for-assert③">断言</a>：<var>start</var> +
                    <var>length</var> 不大于 <var>string</var> 的<a data-link-type="dfn" href="#string-length"
                        id="ref-for-string-length④">长度</a>。
                </p>
            <li>
                <p>令 <var>result</var> 为空字符串。</p>
            <li>
                <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate④">对于</a> <var>i</var> 属于 <a
                        data-link-type="dfn" href="#the-exclusive-range" id="ref-for-the-exclusive-range">区间</a>
                    [<var>start</var>, <var>start</var> + <var>length</var>)，将 <var>string</var> 的第 <var>i</var> 个<a
                        data-link-type="dfn" href="#code-unit" id="ref-for-code-unit①⓪">码元</a>追加到 <var>result</var>。</p>
            <li>
                <p>返回 <var>result</var>。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="code unit substring by positions"
                id="code-unit-substring-by-positions">按位置取码元子串（code unit substring by positions）</dfn>，即 <a
                data-link-type="dfn" href="#string" id="ref-for-string③⑥">字符串</a> <var>string</var> 从 <var>start</var> 到
            <var>end</var>，等价于 <var>start</var> 起长度 <var>end</var> − <var>start</var> 的<a data-link-type="dfn"
                href="#code-unit-substring" id="ref-for-code-unit-substring">码元子串</a>。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="code unit substring to the end of the string"
                id="code-unit-substring-to-the-end-of-the-string">至字符串结尾的码元子串</dfn>，即 <a data-link-type="dfn"
                href="#string" id="ref-for-string③⑦">字符串</a> <var>string</var> 从 <var>start</var> 到结尾，等价于从
            <var>start</var> 到 <var>string</var> 的<a data-link-type="dfn" href="#string-length"
                id="ref-for-string-length⑤">长度</a>的<a data-link-type="dfn" href="#code-unit-substring-by-positions"
                id="ref-for-code-unit-substring-by-positions">码元子串</a>。
        </p>
        <p class="example" id="example-code-unit-substring"><a class="self-link"
                href="#example-code-unit-substring"></a>在 "<code>Hello world</code>" 中，从 1 起长度为 3 的<a
                data-link-type="dfn" href="#code-unit-substring" id="ref-for-code-unit-substring①">码元子串</a>为
            "<code>ell</code>"，也可表示为从 1 到 4 的<a data-link-type="dfn" href="#code-unit-substring-by-positions"
                id="ref-for-code-unit-substring-by-positions①">码元子串</a>。</p>
        <p class="note" role="note">这些算法中的数字应理解为<em>码元之间的位置</em>，而不是码元的索引。返回的子串是这两个位置间的码元。例如，空字符串内从 0 到 0 的<a
                data-link-type="dfn" href="#code-unit-substring-by-positions"
                id="ref-for-code-unit-substring-by-positions②">码元子串</a>仍为空字符串，即使该字符串并无索引 0 的码元。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="code-point-substring">码点子串（code point
                substring）</dfn>，即在<a data-link-type="dfn" href="#string" id="ref-for-string③⑧">字符串</a>
            <var>string</var> 中从 <var>start</var> 起长度为 <var>length</var> 的码点子串，按如下步骤确定：
        </p>
        <ol>
            <li>
                <p><a data-link-type="dfn" href="#assert" id="ref-for-assert④">断言</a>：<var>start</var> 和
                    <var>length</var> 为非负数。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#assert" id="ref-for-assert⑤">断言</a>：<var>start</var> +
                    <var>length</var> 不大于 <var>string</var> 的<a data-link-type="dfn" href="#string-code-point-length"
                        id="ref-for-string-code-point-length①">码点长度</a>。
                </p>
            <li>
                <p>令 <var>result</var> 为空字符串。</p>
            <li>
                <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate⑤">对于</a> <var>i</var> 属于 <a
                        data-link-type="dfn" href="#the-exclusive-range" id="ref-for-the-exclusive-range①">区间</a>
                    [<var>start</var>, <var>start</var> + <var>length</var>)，将 <var>string</var> 的第 <var>i</var> 个<a
                        data-link-type="dfn" href="#code-point" id="ref-for-code-point③④">码点</a>追加到 <var>result</var>。
                </p>
            <li>
                <p>返回 <var>result</var>。</p>
        </ol>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="code point substring by positions"
                id="code-point-substring-by-positions">按位置取码点子串（code point substring by positions）</dfn>，即 <a
                data-link-type="dfn" href="#string" id="ref-for-string③⑨">字符串</a> <var>string</var> 从 <var>start</var> 到
            <var>end</var>，等价于 <var>start</var> 起长度 <var>end</var> − <var>start</var> 的<a data-link-type="dfn"
                href="#code-point-substring" id="ref-for-code-point-substring">码点子串</a>。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="code point substring to the end of the string"
                id="code-point-substring-to-the-end-of-the-string">至字符串结尾的码点子串</dfn>，即 <a data-link-type="dfn"
                href="#string" id="ref-for-string④⓪">字符串</a> <var>string</var> 从 <var>start</var> 到结尾，等价于从
            <var>start</var> 到 <var>string</var> 的<a data-link-type="dfn" href="#string-code-point-length"
                id="ref-for-string-code-point-length②">码点长度</a>的<a data-link-type="dfn"
                href="#code-point-substring-by-positions" id="ref-for-code-point-substring-by-positions">码点子串</a>。
        </p>
        <div class="example" id="example-code-unit-vs-point-substring">
            <a class="self-link" href="#example-code-unit-vs-point-substring"></a>
            <p>一般情况下，开发者传入位置或长度时用<a data-link-type="dfn" href="#code-unit-substring"
                    id="ref-for-code-unit-substring②">码元子串</a>，与 JavaScript 字符串索引方式一致。如 <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#characterdata" id="ref-for-characterdata">CharacterData</a></code>
                类的方法。<a data-link-type="biblio" href="#biblio-dom" title="DOM Standard">[DOM]</a></p>
            <p>其他场合更适合用<a data-link-type="dfn" href="#code-point-substring"
                    id="ref-for-code-point-substring①">码点子串</a>。例如 "<code>👽</code>" 中从 0 起长度 1 的<a data-link-type="dfn"
                    href="#code-point-substring" id="ref-for-code-point-substring②">码点子串</a>为 "<code>👽</code>"，而同样位置的<a
                    data-link-type="dfn" href="#code-unit-substring" id="ref-for-code-unit-substring③">码元子串</a>为只含单个<a
                    data-link-type="dfn" href="#surrogate" id="ref-for-surrogate③">代理项</a> U+D83B 的字符串。</p>
        </div>
        <hr>
        <div class="algorithm" data-algorithm="isomorphic encode">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="isomorphic-encode">同构编码（isomorphic
                    encode）</dfn><a data-link-type="dfn" href="#isomorphic-string"
                    id="ref-for-isomorphic-string①">同构字符串</a> <var>input</var>：返回一个<a data-link-type="dfn"
                    href="#byte-sequence" id="ref-for-byte-sequence①⑤">字节序列</a>，其<a data-link-type="dfn"
                    href="#byte-sequence-length" id="ref-for-byte-sequence-length③">长度</a>等于 <var>input</var> 的<a
                    data-link-type="dfn" href="#string-code-point-length"
                    id="ref-for-string-code-point-length③">码点长度</a>，各<a data-link-type="dfn" href="#byte"
                    id="ref-for-byte①①">字节</a>的<a data-link-type="dfn" href="#byte-value"
                    id="ref-for-byte-value②">值</a>等于 <var>input</var> 的各<a data-link-type="dfn" href="#code-point-value"
                    id="ref-for-code-point-value①">码点值</a>，顺序一致。</p>
        </div>
        <hr>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-lowercase">ASCII 小写化</dfn><a
                data-link-type="dfn" href="#string" id="ref-for-string④②">字符串</a>，将该<a data-link-type="dfn"
                href="#string" id="ref-for-string④③">字符串</a>中的所有<a data-link-type="dfn" href="#ascii-upper-alpha"
                id="ref-for-ascii-upper-alpha①">ASCII 大写字母</a>替换为对应的<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point③⑥">码点</a>的<a data-link-type="dfn" href="#ascii-lower-alpha"
                id="ref-for-ascii-lower-alpha①">ASCII 小写字母</a>。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-uppercase">ASCII 大写化</dfn><a
                data-link-type="dfn" href="#string" id="ref-for-string④④">字符串</a>，将该<a data-link-type="dfn"
                href="#string" id="ref-for-string④⑤">字符串</a>中的所有<a data-link-type="dfn" href="#ascii-lower-alpha"
                id="ref-for-ascii-lower-alpha②">ASCII 小写字母</a>替换为对应的<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point③⑦">码点</a>的<a data-link-type="dfn" href="#ascii-upper-alpha"
                id="ref-for-ascii-upper-alpha②">ASCII 大写字母</a>。</p>
        <p>如<a data-link-type="dfn" href="#string" id="ref-for-string④⑥">字符串</a> <var>A</var> 的<a data-link-type="dfn"
                href="#ascii-lowercase" id="ref-for-ascii-lowercase">ASCII 小写化</a>与 <var>B</var> 的<a
                data-link-type="dfn" href="#ascii-lowercase" id="ref-for-ascii-lowercase①">ASCII 小写化</a>一致，则
            <var>A</var> 与 <var>B</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="ascii-case-insensitive">ASCII 不区分大小写（ASCII case-insensitive）</dfn>匹配。
        </p>
        <div class="algorithm" data-algorithm="ASCII encode">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-encode">ASCII 编码（ASCII
                    encode）</dfn><a data-link-type="dfn" href="#ascii-string" id="ref-for-ascii-string①">ASCII 字符串</a>
                <var>input</var>：返回 <var>input</var> 的<a data-link-type="dfn" href="#isomorphic-encode"
                    id="ref-for-isomorphic-encode①">同构编码</a>。
            </p>
            <p class="note" role="note"><a data-link-type="dfn" href="#isomorphic-encode"
                    id="ref-for-isomorphic-encode②">同构编码</a>与<a data-link-type="dfn"
                    href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode②">UTF-8 编码</a>对
                <var>input</var> 返回相同的<a data-link-type="dfn" href="#byte-sequence"
                    id="ref-for-byte-sequence①⑥">字节序列</a>。
            </p>
        </div>
        <div class="algorithm" data-algorithm="ASCII decode">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ascii-decode">ASCII 解码（ASCII
                    decode）</dfn><a data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①⑦">字节序列</a>
                <var>input</var>，执行以下步骤：
            </p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert⑥">断言</a>：<var>input</var> 内所有字节均为<a
                            data-link-type="dfn" href="#ascii-byte" id="ref-for-ascii-byte①">ASCII 字节</a>。</p>
                    <p class="note" role="note">注：此前置条件确保<a data-link-type="dfn" href="#isomorphic-decode"
                            id="ref-for-isomorphic-decode①">同构解码</a>与<a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode②">UTF-8
                            解码</a>对该输入返回同一<a data-link-type="dfn" href="#string" id="ref-for-string④⑧">字符串</a>。</p>
                <li>
                    <p>返回 <var>input</var> 的<a data-link-type="dfn" href="#isomorphic-decode"
                            id="ref-for-isomorphic-decode②">同构解码</a>。</p>
            </ol>
        </div>
        <hr>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="strip-newlines">去除换行符（strip newlines）</dfn> <a
                data-link-type="dfn" href="#string" id="ref-for-string④⑨">字符串</a>中的 U+000A LF 和 U+000D CR <a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point③⑧">码点</a>。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="normalize-newlines">规范化换行符（normalize
                newlines）</dfn>，将<a data-link-type="dfn" href="#string" id="ref-for-string⑤①">字符串</a>中的每对 U+000D CR
            U+000A LF <a data-link-type="dfn" href="#code-point" id="ref-for-code-point③⑨">码点</a>替换为单个 U+000A LF <a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point④⓪">码点</a>，再将剩余的 U+000D CR <a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point④①">码点</a>替换为 U+000A LF <a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point④②">码点</a>。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="strip-leading-and-trailing-ascii-whitespace">去除首尾 ASCII 空白符</dfn>，从<a data-link-type="dfn"
                href="#string" id="ref-for-string⑤②">字符串</a>开头和结尾删除所有<a data-link-type="dfn" href="#ascii-whitespace"
                id="ref-for-ascii-whitespace①">ASCII 空白符</a>。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="strip-and-collapse-ascii-whitespace">去除并合并
                ASCII 空白符</dfn>，将<a data-link-type="dfn" href="#string" id="ref-for-string⑤④">字符串</a>中任意连续多个<a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point④③">ASCII 空白符</a>替换为单个 U+0020 SPACE <a
                data-link-type="dfn" href="#code-point" id="ref-for-code-point④④">码点</a>，再去除首尾<a data-link-type="dfn"
                href="#ascii-whitespace" id="ref-for-ascii-whitespace③">ASCII 空白符</a>。</p>
        <hr>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="collect a sequence of code points|collecting a sequence of code
points" id="collect-a-sequence-of-code-points">收集一串满足条件的<a data-link-type="dfn" href="#code-point"
                    id="ref-for-code-point④⑤">码点</a></dfn>，从<a data-link-type="dfn" href="#string"
                id="ref-for-string⑤⑥">字符串</a> <var>input</var> 给定追踪算法位置的<dfn class="dfn-paneled" data-dfn-for="string"
                data-dfn-type="dfn" data-export id="string-position-variable">位置变量</dfn> <var>position</var>，重复如下：</p>
        <ol>
            <li>
                <p>令 <var>result</var> 为空<a data-link-type="dfn" href="#string" id="ref-for-string⑤⑦">字符串</a>。</p>
            <li>
                <p>当 <var>position</var> 未越过 <var>input</var> 结尾，且 <var>position</var> 处 <a data-link-type="dfn"
                        href="#code-point" id="ref-for-code-point④⑥">码点</a>满足 <var>condition</var> 时：</p>
                <ol>
                    <li>
                        <p>将该<a data-link-type="dfn" href="#code-point" id="ref-for-code-point④⑦">码点</a>追加到
                            <var>result</var>。
                        </p>
                    <li>
                        <p><var>position</var> 加 1。</p>
                </ol>
            <li>
                <p>返回 <var>result</var>。</p>
        </ol>
        <p class="note" role="note">该算法除返回收集到的<a data-link-type="dfn" href="#code-point"
                id="ref-for-code-point④⑧">码点</a>外，还会更新调用算法的<a data-link-type="dfn" href="#string-position-variable"
                id="ref-for-string-position-variable">位置变量</a>。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="skip-ascii-whitespace">跳过 ASCII 空白符</dfn>，在<a
                data-link-type="dfn" href="#string" id="ref-for-string⑤⑧">字符串</a> <var>input</var> 中，给定<a
                data-link-type="dfn" href="#string-position-variable" id="ref-for-string-position-variable①">位置变量</a>
            <var>position</var>，<a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                id="ref-for-collect-a-sequence-of-code-points">收集</a>所有<a data-link-type="dfn" href="#ascii-whitespace"
                id="ref-for-ascii-whitespace④">ASCII 空白符</a>（结果丢弃，仅更新 <var>position</var>）。
        </p>
        <hr>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="strictly split|strictly split a string"
                id="strictly-split">严格分割字符串（strictly split a string）</dfn> <var>input</var>，以 <a data-link-type="dfn"
                href="#code-point" id="ref-for-code-point⑤⓪">码点</a> <var>delimiter</var> 为分隔符：</p>
        <ol>
            <li>
                <p>令 <var>position</var> 为 <var>input</var> 的<a data-link-type="dfn" href="#string-position-variable"
                        id="ref-for-string-position-variable②">位置变量</a>，初始指向开头。</p>
            <li>
                <p>令 <var>tokens</var> 为<a data-link-type="dfn" href="#list" id="ref-for-list⑤">字符串</a>的<a
                        data-link-type="dfn" href="#list" id="ref-for-list⑧">列表</a>，初始为空。</p>
            <li>
                <p>令 <var>token</var> 为<a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                        id="ref-for-collect-a-sequence-of-code-points①">收集</a>所有不等于 <var>delimiter</var> 的码点所得的字符串，给定
                    <var>position</var>。
                </p>
            <li>
                <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append⑧">追加</a> <var>token</var> 到
                    <var>tokens</var>。
                </p>
            <li>
                <p>当 <var>position</var> 未越过 <var>input</var> 结尾：</p>
                <ol>
                    <li>
                        <p><a data-link-type="dfn" href="#assert" id="ref-for-assert⑦">断言</a>：<var>position</var> 处的<a
                                data-link-type="dfn" href="#code-point" id="ref-for-code-point⑤①">码点</a>为
                            <var>delimiter</var>。
                        </p>
                    <li>
                        <p><var>position</var> 加 1。</p>
                    <li>
                        <p>令 <var>token</var> 为<a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                                id="ref-for-collect-a-sequence-of-code-points②">收集</a>所有不等于 <var>delimiter</var>
                            的码点所得的字符串，给定 <var>position</var>。</p>
                    <li>
                        <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append⑨">追加</a> <var>token</var>
                            到 <var>tokens</var>。</p>
                </ol>
            <li>
                <p>返回 <var>tokens</var>。</p>
        </ol>
        <p class="note" role="note">此算法为“严格分割”，而后文的<a data-link-type="dfn" href="#split-on-ascii-whitespace"
                id="ref-for-split-on-ascii-whitespace">按 ASCII 空白符分割</a>和<a data-link-type="dfn" href="#split-on-commas"
                id="ref-for-split-on-commas">按逗号分割</a>更宽松（对分隔符间空白符有特殊处理）。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="split on ASCII whitespace|split a string on ASCII whitespace" id="split-on-ascii-whitespace">按
                ASCII 空白符分割字符串（split a string on ASCII whitespace）</dfn> <var>input</var>：</p>
        <ol>
            <li>
                <p>令 <var>position</var> 为 <var>input</var> 的<a data-link-type="dfn" href="#string-position-variable"
                        id="ref-for-string-position-variable③">位置变量</a>，初始指向开头。</p>
            <li>
                <p>令 <var>tokens</var> 为<a data-link-type="dfn" href="#list" id="ref-for-list⑥">字符串</a>的列表，初始为空。</p>
            <li>
                <p><a data-link-type="dfn" href="#skip-ascii-whitespace" id="ref-for-skip-ascii-whitespace">跳过 ASCII
                        空白符</a>。</p>
            <li>
                <p>当 <var>position</var> 未越过 <var>input</var> 结尾：</p>
                <ol>
                    <li>
                        <p>令 <var>token</var> 为<a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                                id="ref-for-collect-a-sequence-of-code-points③">收集</a>所有非<a data-link-type="dfn"
                                href="#ascii-whitespace" id="ref-for-ascii-whitespace⑥">ASCII 空白符</a>码点所得字符串。</p>
                    <li>
                        <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append①⓪">追加</a>
                            <var>token</var> 到 <var>tokens</var>。
                        </p>
                    <li>
                        <p><a data-link-type="dfn" href="#skip-ascii-whitespace" id="ref-for-skip-ascii-whitespace①">跳过
                                ASCII 空白符</a>。</p>
                </ol>
            <li>
                <p>返回 <var>tokens</var>。</p>
        </ol>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="split on commas|split a string on commas"
                id="split-on-commas">按逗号分割字符串（split a string on commas）</dfn> <var>input</var>：</p>
        <ol>
            <li>
                <p>令 <var>position</var> 为 <var>input</var> 的<a data-link-type="dfn" href="#string-position-variable"
                        id="ref-for-string-position-variable④">位置变量</a>，初始指向开头。</p>
            <li>
                <p>令 <var>tokens</var> 为<a data-link-type="dfn" href="#list" id="ref-for-list⑦">字符串</a>的列表，初始为空。</p>
            <li>
                <p>当 <var>position</var> 未越过 <var>input</var> 结尾：</p>
                <ol>
                    <li>
                        <p>令 <var>token</var> 为<a data-link-type="dfn" href="#collect-a-sequence-of-code-points"
                                id="ref-for-collect-a-sequence-of-code-points④">收集</a>所有非 U+002C (,) 码点所得字符串。</p>
                        <p class="note" role="note"><var>token</var> 可能为空字符串。</p>
                    <li><a data-link-type="dfn" href="#strip-leading-and-trailing-ascii-whitespace"
                            id="ref-for-strip-leading-and-trailing-ascii-whitespace">去除首尾 ASCII 空白符</a>。
                    <li>
                        <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append①①">追加</a>
                            <var>token</var> 到 <var>tokens</var>。
                        </p>
                    <li>
                        <p>如 <var>position</var> 未越过 <var>input</var> 结尾：</p>
                        <ol>
                            <li>
                                <p><a data-link-type="dfn" href="#assert"
                                        id="ref-for-assert⑧">断言</a>：<var>position</var> 处的<a data-link-type="dfn"
                                        href="#code-point" id="ref-for-code-point⑤②">码点</a>为 U+002C (,)</p>
                            <li>
                                <p><var>position</var> 加 1。</p>
                        </ol>
                </ol>
            <li>
                <p>返回 <var>tokens</var>。</p>
        </ol>
        <p>要<dfn class="dfn-paneled" data-dfn-for="string" data-dfn-type="dfn" data-export
                data-lt="concatenate|concatenation" id="string-concatenate">串联（concatenate）</dfn><a data-link-type="dfn"
                href="#list" id="ref-for-list⑧">字符串列表</a> <var>list</var>，可选分隔符 <var>separator</var>，执行如下步骤：</p>
        <ol>
            <li>
                <p>如 <var>list</var> <a data-link-type="dfn" href="#list-is-empty"
                        id="ref-for-list-is-empty">为空</a>，则返回空字符串。</p>
            <li>
                <p>如未给出 <var>separator</var>，则设为""。</p>
            <li>
                <p>返回一个<a data-link-type="dfn" href="#string" id="ref-for-string⑥⑥">字符串</a>，其内容为 <var>list</var> 的<a
                        data-link-type="dfn" href="#list-item" id="ref-for-list-item">各项</a>，用 <var>separator</var>
                    依次分隔。</p>
        </ol>
        <p class="example" id="example-string-concatenate"><a class="self-link"
                href="#example-string-concatenate"></a>要序列化集合 <var>set</var>，返回其用 U+0020 SPACE 串联的结果。</p>
        <h3 class="heading settled" data-level="4.8" id="time"><span class="secno">4.8. </span><span
                class="content">时间（Time）</span><a class="self-link" href="#time"></a></h3>
        <p>表示时间时，使用 <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment"
                id="ref-for-dfn-moment">时刻（moment）</a>和<a data-link-type="dfn"
                href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration">时间段（duration）</a>规范类型。创建和与
            JavaScript 交换这些类型时，请遵循 <a href="https://w3c.github.io/hr-time/#sec-tools"><cite>High Resolution
                    Time</cite> § 3 规范作者工具</a>中的建议。<a data-link-type="biblio" href="#biblio-hr-time"
                title="High Resolution Time">[HR-TIME]</a>
        </p>
        <h2 class="heading settled" data-level="5" id="data-structures"><span class="secno">5. </span><span
                class="content">数据结构（Data structures）</span><a class="self-link" href="#data-structures"></a></h2>
        <p>传统上，规范常用一些语义共识的、但具体边界模糊的规范层数据结构。这通常效果良好，但在边界情况（如迭代顺序、或向<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set">有序集合</a>追加已包含的<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item①">项</a>时）会引发歧义。对更复杂数据结构（如<a data-link-type="dfn" href="#ordered-map"
                id="ref-for-ordered-map">映射</a>）的记法和表达也因此不统一。</p>
        <p>本标准定义了一小组通用数据结构及其操作与表述方式，以便规范间统一表述。</p>
        <h3 class="heading settled" data-level="5.1" id="lists"><span class="secno">5.1. </span><span
                class="content">列表（Lists）</span><a class="self-link" href="#lists"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="list">列表（list）</dfn>是一种规范类型，包含一组有限且有序的<dfn
                class="dfn-paneled" data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export data-lt="item"
                id="list-item">项（item）</dfn>。</p>
        <p>为方便记法，可用 « » 括起，逗号分隔各<a data-link-type="dfn" href="#list-item" id="ref-for-list-item②">项</a>，表示<a
                data-link-type="dfn" href="#list" id="ref-for-list⑨">列表</a>。索引用方括号，基于0。除用于<a data-link-type="dfn"
                href="#list-contain" id="ref-for-list-contain">exists</a>外，索引不可越界。</p>
        <p class="example" id="example-list-notation"><a class="self-link" href="#example-list-notation"></a>令
            <var>example</var> 为<a data-link-type="dfn" href="#list" id="ref-for-list①⓪">列表</a> « "<code>a</code>",
            "<code>b</code>", "<code>c</code>", "<code>a</code>" »。则 <var>example</var>[1] 是<a data-link-type="dfn"
                href="#string" id="ref-for-string⑥⑦">字符串</a> "<code>b</code>"。
        </p>
        <p>为记法方便，可用多重赋值，将多个变量赋为<a data-link-type="dfn" href="#list" id="ref-for-list①①">列表</a>各<a data-link-type="dfn"
                href="#list-item" id="ref-for-list-item③">项</a>，形式为 « 变量1, 变量2, … »。变量数须等于<a data-link-type="dfn"
                href="#list" id="ref-for-list①②">列表</a>的<a data-link-type="dfn" href="#list-size"
                id="ref-for-list-size">长度</a>，各变量赋值为对应项。</p>
        <div class="example" id="example-list-multiple-assignment">
            <a class="self-link" href="#example-list-multiple-assignment"></a>
            <ol>
                <li>
                    <p>令 <var>value</var> 为<a data-link-type="dfn" href="#list" id="ref-for-list①④">列表</a> «
                        "<code>a</code>", "<code>b</code>", "<code>c</code>" »。</p>
                <li>
                    <p>令 « <var>a</var>, <var>b</var>, <var>c</var> » 为 <var>value</var>。</p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert⑨">断言</a>：<var>a</var> 为
                        "<code>a</code>"。</p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①⓪">断言</a>：<var>b</var> 为
                        "<code>b</code>"。</p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①①">断言</a>：<var>c</var> 为
                        "<code>c</code>"。</p>
            </ol>
        </div>
        <p>当<a data-link-type="dfn" href="#list" id="ref-for-list①⑤">列表</a>内容不完全可控（如源自用户输入），多重赋值前应检查<a
                data-link-type="dfn" href="#list" id="ref-for-list①⑥">长度</a>。</p>
        <div class="example" id="example-list-multiple-assignment-size">
            <a class="self-link" href="#example-list-multiple-assignment-size"></a>
            <ol>
                <li>
                    <p>若 <var>list</var> 的<a data-link-type="dfn" href="#list-size" id="ref-for-list-size②">长度</a>不为
                        <code>3</code>，则返回失败。
                    </p>
                <li>
                    <p>令 « <var>a</var>, <var>b</var>, <var>c</var> » 为 <var>list</var>。</p>
            </ol>
        </div>
        <hr>
        <p>向非<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①">有序集合</a>的<a data-link-type="dfn"
                href="#list" id="ref-for-list①⑦">列表</a><dfn class="dfn-paneled" data-dfn-for="list" data-dfn-type="dfn"
                data-export id="list-append">追加（append）</dfn>即将给定<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item⑤">项</a>加到结尾。</p>
        <p>向非<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set②">有序集合</a>的<a data-link-type="dfn"
                href="#list" id="ref-for-list①⑧">列表</a> <var>A</var> <dfn class="dfn-paneled" data-dfn-for="list"
                data-dfn-type="dfn" data-export id="list-extend">扩展（extend）</dfn> <var>B</var>，等价于对 <var>B</var> 的每个<a
                data-link-type="dfn" href="#list-item" id="ref-for-list-item⑤">项</a>，<a data-link-type="dfn"
                href="#list-append" id="ref-for-list-append①②">追加</a>到 <var>A</var>。</p>
        <div class="example" id="example-list-extend">
            <a class="self-link" href="#example-list-extend"></a>
            <ol>
                <li>
                    <p>令 <var>ghostbusters</var> 为 « "<code>Erin Gilbert</code>", "<code>Abby Yates</code>" »。</p>
                <li>
                    <p><a data-link-type="dfn" href="#list-extend" id="ref-for-list-extend">扩展</a>
                        <var>ghostbusters</var>，追加 « "<code>Jillian Holtzmann</code>", "<code>Patty Tolan</code>" »。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①②">断言</a>：<var>ghostbusters</var> 的<a
                            data-link-type="dfn" href="#list-size" id="ref-for-list-size③">长度</a>为 4。</p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①③">断言</a>：<var>ghostbusters</var>[2] 为
                        "<code>Jillian Holtzmann</code>"。</p>
            </ol>
        </div>
        <p>向非<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set③">有序集合</a>的<a data-link-type="dfn"
                href="#list" id="ref-for-list②⓪">列表</a><dfn class="dfn-paneled" data-dfn-for="list" data-dfn-type="dfn"
                data-export id="list-prepend">前置（prepend）</dfn>即将给定<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item⑥">项</a>加到开头。</p>
        <p>对非<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set④">有序集合</a>的<a data-link-type="dfn"
                href="#list" id="ref-for-list②①">列表</a>，<dfn class="dfn-paneled" data-dfn-for="list" data-dfn-type="dfn"
                data-export id="list-replace">替换（replace）</dfn>所有满足条件的项为指定<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item⑦">项</a>，否则不操作。</p>
        <p class="note" role="note">如为<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set⑤">有序集合</a>，上述定义有调整，详见下文<a data-link-type="dfn" href="#set-append"
                id="ref-for-set-append①">有序集合追加</a>、<a data-link-type="dfn" href="#set-prepend"
                id="ref-for-set-prepend">前置</a>和<a data-link-type="dfn" href="#set-replace"
                id="ref-for-set-replace">替换</a>。</p>
        <p>对<a data-link-type="dfn" href="#list" id="ref-for-list②③">列表</a>或集合，<dfn class="dfn-paneled"
                data-dfn-for="list,set" data-dfn-type="dfn" data-export
                id="list-insert">插入（insert）</dfn>项于指定索引前，若索引为0则为<a data-link-type="dfn" href="#list-prepend"
                id="ref-for-list-prepend">前置</a>。</p>
        <p>对<a data-link-type="dfn" href="#list" id="ref-for-list②④">列表</a>或集合，<dfn class="dfn-paneled"
                data-dfn-for="list,set" data-dfn-type="dfn" data-export id="list-remove">移除（remove）</dfn>所有满足条件的项，否则不操作。
        </p>
        <div class="example" id="example-list-remove">
            <a class="self-link" href="#example-list-remove"></a>
            <p><a data-link-type="dfn" href="#list-remove" id="ref-for-list-remove">移除</a> <var>x</var> 自<a
                    data-link-type="dfn" href="#list" id="ref-for-list②⑤">列表</a> « <var>x</var>, <var>y</var>,
                <var>z</var>, <var>x</var> » 后，所得列表为 « <var>y</var>, <var>z</var> »。
            </p>
            <p>移除所有以 "<code>a</code>" 开头的<a data-link-type="dfn" href="#string" id="ref-for-string⑥⑧">字符串</a>，如列表 «
                "<code>a</code>", "<code>b</code>", "<code>ab</code>", "<code>ba</code>" »，结果为 « "<code>b</code>",
                "<code>ba</code>" »。</p>
        </div>
        <p>对<a data-link-type="dfn" href="#list" id="ref-for-list②⑦">列表</a>，<dfn class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export id="list-empty">清空（empty）</dfn>即<a
                data-link-type="dfn" href="#list-remove" id="ref-for-list-remove②">移除</a>全部<a data-link-type="dfn"
                href="#list-item" id="ref-for-list-item①⓪">项</a>。</p>
        <p><a data-link-type="dfn" href="#list" id="ref-for-list②⑧">列表</a>若包含某<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item①①">项</a>，则称其<dfn class="dfn-paneled" data-dfn-for="list,stack,queue,set"
                data-dfn-type="dfn" data-export data-lt="contain|exist" id="list-contain">包含（contain）</dfn>该项。也可说
            <var>list</var>[<var>index</var>] <a data-link-type="dfn" href="#list-contain"
                id="ref-for-list-contain②">存在（exists）</a>。
        </p>
        <p><a data-link-type="dfn" href="#list" id="ref-for-list③⓪">列表</a>的<dfn class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export id="list-size">长度（size）</dfn>为其中<a
                data-link-type="dfn" href="#list-item" id="ref-for-list-item①②">项</a>数。</p>
        <p><a data-link-type="dfn" href="#list" id="ref-for-list③①">列表</a><dfn class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export data-lt="is empty|is not empty"
                id="list-is-empty">为空</dfn>当其<a data-link-type="dfn" href="#list-size" id="ref-for-list-size④">长度</a>为0。
        </p>
        <p>对<a data-link-type="dfn" href="#list" id="ref-for-list③②">列表</a>，<dfn class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export data-lt="get the indices|indices"
                id="list-get-the-indices">取索引（get the indices）</dfn>即返回区间 [0, <a data-link-type="dfn" href="#list-size"
                id="ref-for-list-size⑤">长度</a>)。</p>
        <p>对<a data-link-type="dfn" href="#list" id="ref-for-list③③">列表</a>或集合，<dfn class="dfn-paneled"
                data-dfn-for="list,set" data-dfn-type="dfn" data-export data-lt="iterate|for each"
                id="list-iterate">迭代（iterate/for each）</dfn>每项，写作 "对于 <var>item</var> 属于 <var>list</var>"，随后对
            <var>item</var> 操作。
        </p>
        <p>对<a data-link-type="dfn" href="#list" id="ref-for-list③④">列表</a>，<dfn class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export id="list-clone">克隆（clone）</dfn>
            <var>list</var>，即新建同类型<a data-link-type="dfn" href="#list" id="ref-for-list③⑤">列表</a> <var>clone</var>，对
            <var>list</var> 每<a data-link-type="dfn" href="#list-item" id="ref-for-list-item①④">项</a> <a
                data-link-type="dfn" href="#list-append" id="ref-for-list-append①③">追加</a>到 <var>clone</var>，顺序一致。
        </p>
        <p class="note" role="note">这为“浅克隆”，各<a data-link-type="dfn" href="#list-item"
                id="ref-for-list-item①⑤">项</a>本身不复制。</p>
        <p class="example" id="example-list-clone"><a class="self-link" href="#example-list-clone"></a>令
            <var>original</var> 为<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set⑥">有序集合</a> «
            "<code>a</code>", "<code>b</code>", "<code>c</code>" »。<a data-link-type="dfn" href="#list-clone"
                id="ref-for-list-clone">克隆</a> <var>original</var> 得新<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set⑦">有序集合</a> <var>clone</var>，如在 <var>clone</var> 中用<a data-link-type="dfn"
                href="#set-replace" id="ref-for-set-replace①">替换</a>将 "<code>a</code>" 换为 "<code>foo</code>"，结果为 «
            "<code>foo</code>", "<code>b</code>", "<code>c</code>" »，而 <var>original</var>[0] 仍为 "<code>a</code>"。
        </p>
        <p>对<a data-link-type="dfn" href="#list" id="ref-for-list③⑥">列表</a>，<dfn class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export
                data-lt="sort in ascending order|sorting in ascending order|sort|sorting"
                id="list-sort-in-ascending-order">升序排序（sort in ascending order）</dfn>，给定小于算法
            <var>lessThanAlgo</var>，新建<a data-link-type="dfn" href="#list" id="ref-for-list③⑦">列表</a>
            <var>sorted</var>，内容按 <var>lessThanAlgo</var> 升序。相等项保持原顺序。
        </p>
        <p>对<a data-link-type="dfn" href="#list" id="ref-for-list③⑧">列表</a>，<dfn class="dfn-paneled"
                data-dfn-for="list,stack,queue,set" data-dfn-type="dfn" data-export
                data-lt="sort in descending order|sorting in descending order"
                id="list-sort-in-descending-order">降序排序（sort in descending order）</dfn>同理，但为降序。</p>
        <p class="example" id="example-list-sort"><a class="self-link" href="#example-list-sort"></a>令
            <var>original</var> 为<a data-link-type="dfn" href="#list" id="ref-for-list④⓪">列表</a> « (200,
            "<code>OK</code>"), (404, "<code>Not Found</code>"), (null, "<code>OK</code>") »。若比较规则为第二项<a
                data-link-type="dfn" href="#struct-item" id="ref-for-struct-item③">项</a><a data-link-type="dfn"
                href="#code-unit-less-than" id="ref-for-code-unit-less-than①">码元小于</a>，升序结果为 « (404,
            "<code>Not Found</code>"), (200, "<code>OK</code>"), (null, "<code>OK</code>") »。
        </p>
        <hr>
        <p><a data-link-type="dfn" href="#list" id="ref-for-list④①">列表</a>类型源自 JavaScript 规范（大写为 <a data-link-type="dfn"
                href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type"
                id="ref-for-sec-list-and-record-specification-type">List</a>）；此处简化描述并扩展了操作词汇。JavaScript 需 <a
                data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type"
                id="ref-for-sec-list-and-record-specification-type①">List</a> 时可用此定义。<a data-link-type="biblio"
                href="#biblio-ecma-262" title="ECMAScript Language Specification">[ECMA-262]</a>
        </p>
        <h4 class="heading settled" data-level="5.1.1" id="stacks"><span class="secno">5.1.1. </span><span
                class="content">栈（Stacks）</span><a class="self-link" href="#stacks"></a></h4>
        <p>部分<a data-link-type="dfn" href="#list" id="ref-for-list④④">列表</a>被指定为<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-lt="stack" id="stack">栈（stack）</dfn>。栈本质上是<a data-link-type="dfn"
                href="#list" id="ref-for-list④⑤">列表</a>，但操作时通常使用下列专用操作，而不用<a data-link-type="dfn" href="#list-append"
                id="ref-for-list-append①④">追加</a>、<a data-link-type="dfn" href="#list-prepend"
                id="ref-for-list-prepend①">前置</a>或<a data-link-type="dfn" href="#list-remove"
                id="ref-for-list-remove③">移除</a>。</p>
        <p>向<a data-link-type="dfn" href="#stack" id="ref-for-stack">栈</a><dfn class="dfn-paneled" data-dfn-for="stack"
                data-dfn-type="dfn" data-export id="stack-push">压栈（push）</dfn>即对其<a data-link-type="dfn"
                href="#list-append" id="ref-for-list-append①⑤">追加</a>。</p>
        <p>从<a data-link-type="dfn" href="#stack" id="ref-for-stack①">栈</a><dfn class="dfn-paneled" data-dfn-for="stack"
                data-dfn-type="dfn" data-export id="stack-pop">弹栈（pop）</dfn>：若<a data-link-type="dfn" href="#stack"
                id="ref-for-stack②">栈</a><a data-link-type="dfn" href="#list-is-empty"
                id="ref-for-list-is-empty①">非空</a>，则<a data-link-type="dfn" href="#list-remove"
                id="ref-for-list-remove④">移除</a>其最后一项并返回，否则返回空。</p>
        <p>对<a data-link-type="dfn" href="#stack" id="ref-for-stack③">栈</a><dfn class="dfn-paneled" data-dfn-for="stack"
                data-dfn-type="dfn" data-export id="stack-peek">窥栈（peek）</dfn>：若<a data-link-type="dfn" href="#stack"
                id="ref-for-stack④">栈</a><a data-link-type="dfn" href="#list-is-empty"
                id="ref-for-list-is-empty②">非空</a>，则返回其最后一项，否则返回空。</p>
        <p>虽然<a data-link-type="dfn" href="#stack" id="ref-for-stack⑤">栈</a>是<a data-link-type="dfn" href="#list"
                id="ref-for-list④⑥">列表</a>，但不应对其使用<a data-link-type="dfn" href="#list-iterate"
                id="ref-for-list-iterate⑨">for each</a>，而应结合<a data-link-type="dfn" href="#iteration-while"
                id="ref-for-iteration-while③">while</a>与<a data-link-type="dfn" href="#stack-pop"
                id="ref-for-stack-pop">pop</a>。</p>
        <h4 class="heading settled" data-level="5.1.2" id="queues"><span class="secno">5.1.2. </span><span
                class="content">队列（Queues）</span><a class="self-link" href="#queues"></a></h4>
        <p>部分<a data-link-type="dfn" href="#list" id="ref-for-list④⑦">列表</a>被指定为<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-lt="queue" id="queue">队列（queue）</dfn>。队列本质上是<a data-link-type="dfn"
                href="#list" id="ref-for-list④⑧">列表</a>，但操作时通常使用下列专用操作，而不用<a data-link-type="dfn" href="#list-append"
                id="ref-for-list-append①⑥">追加</a>、<a data-link-type="dfn" href="#list-prepend"
                id="ref-for-list-prepend②">前置</a>或<a data-link-type="dfn" href="#list-remove"
                id="ref-for-list-remove⑤">移除</a>。</p>
        <p>向<a data-link-type="dfn" href="#queue" id="ref-for-queue">队列</a><dfn class="dfn-paneled" data-dfn-for="queue"
                data-dfn-type="dfn" data-export id="queue-enqueue">入队（enqueue）</dfn>即对其<a data-link-type="dfn"
                href="#list-append" id="ref-for-list-append①⑦">追加</a>。</p>
        <p>从<a data-link-type="dfn" href="#queue" id="ref-for-queue①">队列</a><dfn class="dfn-paneled"
                data-dfn-for="queue" data-dfn-type="dfn" data-export id="queue-dequeue">出队（dequeue）</dfn>：若<a
                data-link-type="dfn" href="#queue" id="ref-for-queue②">队列</a><a data-link-type="dfn"
                href="#list-is-empty" id="ref-for-list-is-empty③">非空</a>，则<a data-link-type="dfn" href="#list-remove"
                id="ref-for-list-remove⑥">移除</a>其第一项并返回，否则返回空。</p>
        <p>虽然<a data-link-type="dfn" href="#queue" id="ref-for-queue③">队列</a>是<a data-link-type="dfn" href="#list"
                id="ref-for-list④⑨">列表</a>，但不应对其使用<a data-link-type="dfn" href="#list-iterate"
                id="ref-for-list-iterate①⓪">for each</a>，而应结合<a data-link-type="dfn" href="#iteration-while"
                id="ref-for-iteration-while④">while</a>与<a data-link-type="dfn" href="#queue-dequeue"
                id="ref-for-queue-dequeue">dequeue</a>。</p>
        <h4 class="heading settled" data-level="5.1.3" id="sets"><span class="secno">5.1.3. </span><span
                class="content">集合（Sets）</span><a class="self-link" href="#sets"></a></h4>
        <p>部分<a data-link-type="dfn" href="#list" id="ref-for-list⑤⓪">列表</a>被指定为<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export data-lt="ordered set|set" id="ordered-set">有序集合（ordered
                set）</dfn>。有序集合是<a data-link-type="dfn" href="#list" id="ref-for-list⑤①">列表</a>，但其语义要求不含重复<a
                data-link-type="dfn" href="#list-item" id="ref-for-list-item②①">项</a>。</p>
        <p class="note" role="note">Web 平台几乎总要求<em>有序</em>集合，以保证不同浏览器间枚举顺序一致。即使无须关注顺序，也仍用有序集合，实现可因顺序不可见而优化。</p>
        <div class="algorithm" data-algorithm="create" data-algorithm-for="set">
            <p>要<dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                    id="set-create">创建（create）</dfn>一个<a data-link-type="dfn" href="#ordered-set"
                    id="ref-for-ordered-set⑧">集合</a>，给定<a data-link-type="dfn" href="#list" id="ref-for-list⑤②">列表</a>
                <var>input</var>：
            </p>
            <ol>
                <li>
                    <p>令 <var>result</var> 为空<a data-link-type="dfn" href="#ordered-set"
                            id="ref-for-ordered-set⑨">集合</a>。</p>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①①">遍历</a> <var>input</var>
                        各项 <var>item</var>，<a data-link-type="dfn" href="#set-append" id="ref-for-set-append②">追加</a>到
                        <var>result</var>。
                    </p>
                <li>
                    <p>返回 <var>result</var>。</p>
            </ol>
        </div>
        <p>向<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⓪">有序集合</a><dfn class="dfn-paneled"
                data-dfn-for="set" data-dfn-type="dfn" data-export id="set-append">追加（append）</dfn>：若集合已<a
                data-link-type="dfn" href="#list-contain" id="ref-for-list-contain⑤">包含</a>该项，则无操作，否则执行<a
                data-link-type="dfn" href="#list" id="ref-for-list⑤③">列表</a>的<a data-link-type="dfn" href="#list-append"
                id="ref-for-list-append①⑧">追加</a>。</p>
        <p>向<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①①">有序集合</a> <var>A</var><dfn
                class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export id="set-extend">扩展（extend）</dfn>
            <var>B</var>，即遍历 <var>B</var> 各项 <var>item</var>，<a data-link-type="dfn" href="#set-append"
                id="ref-for-set-append③">追加</a>到 <var>A</var>。
        </p>
        <p>向<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①②">有序集合</a><dfn class="dfn-paneled"
                data-dfn-for="set" data-dfn-type="dfn" data-export id="set-prepend">前置（prepend）</dfn>：若集合已<a
                data-link-type="dfn" href="#list-contain" id="ref-for-list-contain⑥">包含</a>该项，则无操作，否则执行<a
                data-link-type="dfn" href="#list" id="ref-for-list⑤⑤">列表</a>的<a data-link-type="dfn"
                href="#list-prepend" id="ref-for-list-prepend③">前置</a>。</p>
        <p>在<a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①③">有序集合</a> <var>set</var> 内<dfn
                class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export data-lt="replace|replacing"
                id="set-replace">替换（replace）</dfn> <var>item</var> 为 <var>replacement</var>：如 <var>set</var> <a
                data-link-type="dfn" href="#list-contain" id="ref-for-list-contain⑦">包含</a> <var>item</var> 或
            <var>replacement</var>，则用 <var>replacement</var> 替换首个出现，并<a data-link-type="dfn" href="#list-remove"
                id="ref-for-list-remove⑦">移除</a>其它所有实例。
        </p>
        <p class="example" id="example-set-replace"><a class="self-link" href="#example-set-replace"></a>在<a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①④">有序集合</a> « "a", "b", "c" » 中<a
                data-link-type="dfn" href="#set-replace" id="ref-for-set-replace②">替换</a> "a" 为 "c"，结果为 « "c", "b" »；在 «
            "c", "b", "a" » 中结果也为 « "c", "b" »。</p>
        <p><a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⑤">有序集合</a> <var>set</var> 是另一<a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⑥">有序集合</a> <var>superset</var> 的<dfn
                class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-subset">子集（subset）</dfn>（<var>superset</var> 相应是<dfn class="dfn-paneled" data-dfn-for="set"
                data-dfn-type="dfn" data-export id="set-superset">超集（superset）</dfn>），当且仅当 <var>set</var> 的每项
            <var>item</var> 均被 <var>superset</var> <a data-link-type="dfn" href="#list-contain"
                id="ref-for-list-contain⑧">包含</a>。
        </p>
        <p class="note" role="note">这意味着每个<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set①⑦">有序集合</a>既是自身的 <a data-link-type="dfn" href="#set-subset"
                id="ref-for-set-subset">子集</a>，也是 <a data-link-type="dfn" href="#set-superset"
                id="ref-for-set-superset">超集</a>。</p>
        <p><a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set①⑧">集合</a> <var>A</var> <dfn
                class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export id="set-equal">等于（equal）</dfn>集合
            <var>B</var>，当且仅当 <var>A</var> 是 <a data-link-type="dfn" href="#set-subset" id="ref-for-set-subset①">B
                的子集</a>且 <var>A</var> 是 <a data-link-type="dfn" href="#set-superset" id="ref-for-set-superset①">B
                的超集</a>。
        </p>
        <p><a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set②⓪">集合</a> <var>A</var> 与 <var>B</var>
            的<dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-intersection">交集（intersection）</dfn>，为新建集合 <var>set</var>，遍历 <var>A</var> 各项 <var>item</var>，如
            <var>B</var> <a data-link-type="dfn" href="#list-contain" id="ref-for-list-contain⑨">包含</a>
            <var>item</var>，则<a data-link-type="dfn" href="#set-append" id="ref-for-set-append④">追加</a>至 <var>set</var>。
        </p>
        <p><a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set②②">集合</a> <var>A</var> 与 <var>B</var>
            的<dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-union">并集（union）</dfn>，为克隆 <var>A</var> 得 <var>set</var>，再遍历 <var>B</var> 各项 <var>item</var>，<a
                data-link-type="dfn" href="#set-append" id="ref-for-set-append⑤">追加</a>至 <var>set</var>。</p>
        <p><a data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set②③">集合</a> <var>A</var> 与 <var>B</var>
            的<dfn class="dfn-paneled" data-dfn-for="set" data-dfn-type="dfn" data-export
                id="set-difference">差集（difference）</dfn>，为新建集合 <var>set</var>，遍历 <var>A</var> 各项 <var>item</var>，如
            <var>B</var> 不包含 <var>item</var>，<a data-link-type="dfn" href="#set-append" id="ref-for-set-append⑥">追加</a>至
            <var>set</var>。
        </p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="the range|the inclusive range"
                id="the-range">区间（the range）</dfn> <var>n</var> 到 <var>m</var>（含端点），新建<a data-link-type="dfn"
                href="#ordered-set" id="ref-for-ordered-set②⑤">有序集合</a>，含 n 至 m 的所有整数，递增排序，前提是 <var>m</var> ≥
            <var>n</var>。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="the exclusive range"
                id="the-exclusive-range">区间（the exclusive range）</dfn> <var>n</var> 到 <var>m</var>（不含 m），新建<a
                data-link-type="dfn" href="#ordered-set" id="ref-for-ordered-set②⑥">有序集合</a>，含 n 至 m-1 的所有整数，递增排序，前提是
            <var>m</var> > <var>n</var>。若 <var>m</var> = <var>n</var>，则为新建空集合。
        </p>
        <p class="example" id="example-the-range"><a class="self-link" href="#example-the-range"></a>对于 <a
                data-link-type="dfn" href="#the-range" id="ref-for-the-range">区间</a> 1 到 4，遍历 <var>n</var> …</p>
        <h3 class="heading settled" data-level="5.2" id="maps"><span class="secno">5.2. </span><span
                class="content">映射（Maps）</span><a class="self-link" href="#maps"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="ordered map|map"
                id="ordered-map">有序映射（ordered map）</dfn>，有时简称“映射（map）”，是一种规范类型，包含有限个有序的<a data-link-type="dfn"
                href="#tuple" id="ref-for-tuple③">元组</a>，每个元组由<dfn class="dfn-paneled" data-dfn-for="map"
                data-dfn-type="dfn" data-export id="map-key">键（key）</dfn>和<dfn class="dfn-paneled" data-dfn-for="map"
                data-dfn-type="dfn" data-export id="map-value">值（value）</dfn>组成，且每个键唯一。每个这样的元组称为<dfn class="dfn-paneled"
                data-dfn-for="map" data-dfn-type="dfn" data-export id="map-entry">条目（entry）</dfn>。</p>
        <p class="note" role="note">与<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set②⑧">有序集合</a>一样，默认假定映射有序以确保实现之间的互操作性。</p>
        <p>可用字面量记法表示<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①">有序映射</a>，用 «[ ]» 括起，条目以
            <var>key</var> → <var>value</var> 记法表示，条目间用逗号分隔。
        </p>
        <p class="example" id="example-map-notation"><a class="self-link" href="#example-map-notation"></a>令
            <var>example</var> 为<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map②">有序映射</a> «[
            "<code>a</code>" → `<code>x</code>`, "<code>b</code>" → `<code>y</code>` ]»，则
            <var>example</var>["<code>a</code>"] 为<a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence①⑧">字节序列</a> `<code>x</code>`。
        </p>
        <hr>
        <p>要在<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map③">有序映射</a> <var>map</var> 中，给定 <a
                data-link-type="dfn" href="#map-key" id="ref-for-map-key">键</a> <var>key</var> 及可选
            <var>default</var>，<dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                data-lt="get|get the value" id="map-get">获取条目值（get the value of an entry）</dfn>：
        </p>
        <ol>
            <li>
                <p>如 <var>map</var> 不<a data-link-type="dfn" href="#map-exists" id="ref-for-map-exists">含</a>
                    <var>key</var> 且给定 <var>default</var>，则返回 <var>default</var>。
                </p>
            <li>
                <p>断言：<var>map</var><a data-link-type="dfn" href="#map-exists" id="ref-for-map-exists①">含</a>
                    <var>key</var>。
                </p>
            <li>
                <p>返回 <var>map</var> 中键为 <var>key</var> 的<a data-link-type="dfn" href="#map-value"
                        id="ref-for-map-value">值</a>。</p>
        </ol>
        <p>也可用下标符号直接写 <var>map</var>[<var>key</var>] 获取值。若需默认值，可加短语 <dfn class="dfn-paneled" data-dfn-for="map"
                data-dfn-type="dfn" data-export id="map-with-default">with default</dfn> 及默认值。</p>
        <p class="example" id="example-map-get"><a class="self-link" href="#example-map-get"></a>如
            <var>map</var>["<code>test</code>"]<a data-link-type="dfn" href="#map-exists"
                id="ref-for-map-exists②">存在</a>，则返回 <var>map</var>["<code>test</code>"]。
        </p>
        <p class="example" id="example-map-get-with-default"><a class="self-link"
                href="#example-map-get-with-default"></a>令 <var>example</var> 为<a data-link-type="dfn"
                href="#ordered-map" id="ref-for-ordered-map⑤">有序映射</a> «[ "<code>a</code>" → "<code>x</code>",
            "<code>b</code>" → "<code>y</code>" ]»，则 <var>example</var>["<code>a</code>"] 等价于
            <var>example</var>["<code>a</code>"] <a data-link-type="dfn" href="#map-with-default"
                id="ref-for-map-with-default">with default</a> "<code>z</code>"，即
            "<code>x</code>"。<var>example</var>["<code>c</code>"] 会触发断言；<var>example</var>["<code>c</code>"] <a
                data-link-type="dfn" href="#map-with-default" id="ref-for-map-with-default①">with default</a>
            "<code>z</code>" 为 "<code>z</code>"。
        </p>
        <p>要在<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map⑥">有序映射</a>中<dfn class="dfn-paneled"
                data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="set|set the value" id="map-set">设定条目值（set
                the value of an entry）</dfn>，若已含指定<a data-link-type="dfn" href="#map-key"
                id="ref-for-map-key③">键</a>则更新，否则加到末尾。可直接写“设 <var>map</var>[<var>key</var>] 为 <var>value</var>”。</p>
        <p>要在<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map⑧">有序映射</a><dfn class="dfn-paneled"
                data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="remove" id="map-remove">移除条目（remove an
                entry）</dfn>，即移除所有满足条件的条目，无则不操作。若条件为某键，亦可写“移除 <var>map</var>[<var>key</var>]”。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export id="map-clear">清空（clear）</dfn><a
                data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⓪">有序映射</a>，即移除其所有条目。</p>
        <p><a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①①">有序映射</a>若<dfn class="dfn-paneled"
                data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="exist|contain"
                id="map-exists">含有指定键条目</dfn>，即存在该键的条目。亦可写 <var>map</var>[<var>key</var>] <a data-link-type="dfn"
                href="#map-exists" id="ref-for-map-exists④">exists</a>。</p>
        <p>要获取<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①③">有序映射</a>的<dfn class="dfn-paneled"
                data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="getting the keys|get the keys|keys"
                id="map-getting-the-keys">键（get the keys）</dfn>，返回其所有键组成的新<a data-link-type="dfn" href="#ordered-set"
                id="ref-for-ordered-set②⑨">有序集合</a>。</p>
        <p>要获取<a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①④">有序映射</a>的<dfn class="dfn-paneled"
                data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="getting the values|get the values|values"
                id="map-getting-the-values">值（get the values）</dfn>，返回其所有值组成的新<a data-link-type="dfn" href="#list"
                id="ref-for-list⑤⑥">列表</a>。</p>
        <p><a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⑤">有序映射</a>的<dfn class="dfn-paneled"
                data-dfn-for="map" data-dfn-type="dfn" data-export id="map-size">长度（size）</dfn>为其键集合的<a
                data-link-type="dfn" href="#list-size" id="ref-for-list-size⑥">长度</a>。</p>
        <p><a data-link-type="dfn" href="#ordered-map" id="ref-for-ordered-map①⑥">有序映射</a><dfn class="dfn-paneled"
                data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="is empty|is not empty"
                id="map-is-empty">为空（is empty）</dfn>当其<a data-link-type="dfn" href="#map-size"
                id="ref-for-map-size">长度</a>为0。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export data-lt="iterate|for each"
                id="map-iterate">遍历（iterate/for each）</dfn>有序映射 <var>map</var>，可写“对于 <var>key</var> → <var>value</var>
            属于 <var>map</var>”，随后对 <var>key</var> 和 <var>value</var> 操作。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                id="map-clone">克隆（clone）</dfn>有序映射 <var>map</var>，新建有序映射 <var>clone</var>，对每对 <var>key</var> →
            <var>value</var>，<a data-link-type="dfn" href="#map-set" id="ref-for-map-set①">设</a>
            <var>clone</var>[<var>key</var>] 为 <var>value</var>。
        </p>
        <p class="note" role="note">这是“浅克隆”，键和值本身不克隆。</p>
        <p class="example" id="example-map-clone"><a class="self-link" href="#example-map-clone"></a>令
            <var>original</var> 为有序映射 «[ "<code>a</code>" → «1, 2, 3», "<code>b</code>" → «» ]»。<a data-link-type="dfn"
                href="#list-clone" id="ref-for-list-clone②">克隆</a> <var>original</var> 得新映射 <var>clone</var>，如设
            <var>clone</var>["<code>a</code>"] 为 «-1, -2, -3»，则为 «[ "<code>a</code>" → «-1, -2, -3», "<code>b</code>" →
            «» ]»，<var>original</var> 不变。但对 <var>clone</var>["<code>b</code>"] 追加 4，会同时影响 <var>original</var>。
        </p>
        <p>要<dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                data-lt="sort in ascending order|sorting in ascending order|sort|sorting"
                id="map-sort-in-ascending-order">升序排序（sort in ascending order）</dfn>映射 <var>map</var>，给定小于算法
            <var>lessThanAlgo</var>，新建映射 <var>sorted</var>，按 <var>lessThanAlgo</var> 比较条目升序。相等者保持原顺序。
        </p>
        <p>要<dfn class="dfn-paneled" data-dfn-for="map" data-dfn-type="dfn" data-export
                data-lt="sort in descending order|sorting in descending order"
                id="map-sort-in-descending-order">降序排序（sort in descending order）</dfn>映射 <var>map</var>，同理为降序。</p>
        <h3 class="heading settled" data-level="5.3" id="structs"><span class="secno">5.3. </span><span
                class="content">结构体（Structs）</span><a class="self-link" href="#structs"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="struct">结构体（struct）</dfn>是一种规范类型，包含有限组<dfn
                class="dfn-paneled" data-dfn-for="struct,tuple" data-dfn-type="dfn" data-export data-lt="item"
                id="struct-item">项（item）</dfn>，每项有唯一且不可变的<dfn class="dfn-paneled" data-dfn-for="struct,tuple"
                data-dfn-type="dfn" data-export id="struct-name">名称（name）</dfn>。每个<a data-link-type="dfn"
                href="#struct-item" id="ref-for-struct-item⑤">项</a>持有特定类型的值。</p>
        <div class="example" id="example-struct">
            <a class="self-link" href="#example-struct"></a>
            <p>一个 <dfn data-var-ignore>email</dfn> 是结构体（<a data-link-type="dfn" href="#struct"
                    id="ref-for-struct①">struct</a>）示例，包含 <dfn data-var-ignore>local part</dfn>（字符串）和 <dfn
                    data-var-ignore>host</dfn>（<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-host"
                    id="ref-for-concept-host">主机</a>）。</p>
            <p>伪算法示例：</p>
            <ol>
                <li>令 <var>email</var> 为 local part 为 "<code>hostmaster</code>" 且 host 为 <code>infra.example</code> 的
                    email。
                <li>…
            </ol>
        </div>
        <h4 class="heading settled" data-level="5.3.1" id="tuples"><span class="secno">5.3.1. </span><span
                class="content">元组（Tuples）</span><a class="self-link" href="#tuples"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="tuple">元组（tuple）</dfn>是<a data-link-type="dfn"
                href="#struct" id="ref-for-struct②">结构体</a>，其<a data-link-type="dfn" href="#struct-item"
                id="ref-for-struct-item⑥">项</a>有顺序。为方便记法，可用括号括起、逗号分隔各<a data-link-type="dfn" href="#struct-item"
                id="ref-for-struct-item⑦">项</a>的字面量写法。需上下文能推断各项<dfn data-link-type="dfn" href="#struct-name"
                id="ref-for-struct-name①">名称</dfn>，可在首次出现前说明元组名称。可用下标（0 起）访问某项，索引不得越界。</p>
        <div class="example" id="example-tuple">
            <a class="self-link" href="#example-tuple"></a>
            <p><dfn data-var-ignore>status</dfn> 是元组（<a data-link-type="dfn" href="#tuple"
                    id="ref-for-tuple⑦">tuple</a>）示例，包含 <dfn data-var-ignore>code</dfn>（数字）和 <dfn
                    data-var-ignore>text</dfn>（字节序列）。</p>
            <p>伪算法示例：</p>
            <ol>
                <li>令 <var>statusInstance</var> 为 status (200, `<code>OK</code>`)。
                <li>将 <var>statusInstance</var> 设为 (301, `<code>FOO BAR</code>`)。
                <li>如果 <var>statusInstance</var> 的 code 为 404，则……
            </ol>
            <p>最后一步也可写作“如果 <var>statusInstance</var>[0] 为 404，则……”。若元组项无显式定义，可能更适合此写法。</p>
        </div>
        <p class="note" role="note">并非所有<a data-link-type="dfn" href="#struct" id="ref-for-struct③">结构体</a>都是<a
                data-link-type="dfn" href="#tuple" id="ref-for-tuple⑨">元组</a>是有意为之。Infra 用户可能需在不破坏依赖的字面量写法下增加新<a
                data-link-type="dfn" href="#struct-name" id="ref-for-struct-name③">项名</a>，此时不宜用元组。</p>
        <h2 class="heading settled" data-level="6" id="json"><span class="secno">6. </span><span
                class="content">JSON</span><a class="self-link" href="#json"></a></h2>
        <p class="note" role="note">本节算法采用 JavaScript 规范的约定。<a data-link-type="biblio" href="#biblio-ecma-262"
                title="ECMAScript Language Specification">[ECMA-262]</a></p>
        <div class="algorithm" data-algorithm="parse a JSON string to a JavaScript value">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="parse-a-json-string-to-a-javascript-value">将 JSON 字符串解析为 JavaScript 值</dfn>，给定<a
                    data-link-type="dfn" href="#string" id="ref-for-string⑦⓪">字符串</a> <var>string</var>：</p>
            <ol>
                <li>
                    <p>返回 ? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-call"
                            id="ref-for-sec-call">Call</a>(<a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-json.parse"
                            id="ref-for-sec-json.parse">%JSON.parse%</a>, undefined, « <var>string</var> »)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="parse JSON bytes to a JavaScript value">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    data-lt="parse JSON bytes to a JavaScript value|parse JSON from bytes"
                    id="parse-json-bytes-to-a-javascript-value">将 JSON 字节解析为 JavaScript 值</dfn>，给定<a
                    data-link-type="dfn" href="#byte-sequence" id="ref-for-byte-sequence①⑨">字节序列</a> <var>bytes</var>：
            </p>
            <ol>
                <li>
                    <p>令 <var>string</var> 为对 <var>bytes</var> 执行 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode③">UTF-8
                            解码</a> 的结果。<a data-link-type="biblio" href="#biblio-encoding"
                            title="Encoding Standard">[ENCODING]</a></p>
                <li>
                    <p>返回 <a data-link-type="dfn" href="#parse-a-json-string-to-a-javascript-value"
                            id="ref-for-parse-a-json-string-to-a-javascript-value">将 JSON 字符串解析为 JavaScript 值</a>给定
                        <var>string</var> 的结果。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="serialize a JavaScript value to a JSON string">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="serialize-a-javascript-value-to-a-json-string">将 JavaScript 值序列化为 JSON 字符串</dfn>，给定 JavaScript 值
                <var>value</var>：
            </p>
            <ol>
                <li>
                    <p>令 <var>result</var> 为 ? <a data-link-type="abstract-op"
                            href="https://tc39.github.io/ecma262/#sec-call" id="ref-for-sec-call①">Call</a>(<a
                            data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-json.stringify"
                            id="ref-for-sec-json.stringify">%JSON.stringify%</a>, undefined, « <var>value</var> »)。</p>
                    <p class="note" role="note">未传递额外参数给 <a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-json.stringify"
                            id="ref-for-sec-json.stringify①">%JSON.stringify%</a>，结果字符串无多余空白。</p>
                <li>
                    <p>如 <var>result</var> 为 undefined，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>。
                    </p>
                    <p class="note" role="note">若 <var>value</var> 不可表示为 JSON（如 undefined 或函数），会发生此情况。</p>
                <li>
                    <p><a data-link-type="dfn" href="#assert" id="ref-for-assert①④">断言</a>：<var>result</var> 为<a
                            data-link-type="dfn" href="#string" id="ref-for-string⑦①">字符串</a>。</p>
                <li>
                    <p>返回 <var>result</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="serialize a JavaScript value to JSON bytes">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    data-lt="serialize a JavaScript value to JSON bytes|serialize JSON to bytes"
                    id="serialize-a-javascript-value-to-json-bytes">将 JavaScript 值序列化为 JSON 字节</dfn>，给定 JavaScript 值
                <var>value</var>：
            </p>
            <ol>
                <li>
                    <p>令 <var>string</var> 为 <a data-link-type="dfn"
                            href="#serialize-a-javascript-value-to-a-json-string"
                            id="ref-for-serialize-a-javascript-value-to-a-json-string">将 JavaScript 值序列化为 JSON 字符串</a>给定
                        <var>value</var> 的结果。
                    </p>
                <li>
                    <p>返回对 <var>string</var> 执行 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode③">UTF-8
                            编码</a> 的结果。<a data-link-type="biblio" href="#biblio-encoding"
                            title="Encoding Standard">[ENCODING]</a></p>
            </ol>
        </div>
        <hr>
        <p>上述操作直接作用于 JavaScript 值；因此对象或数组依赖于特定<a data-link-type="dfn" href="https://tc39.github.io/ecma262/#realm"
                id="ref-for-realm">JavaScript realm</a>。标准中通常更便于在 JSON 与无 realm 依赖的<a data-link-type="dfn"
                href="#ordered-map" id="ref-for-ordered-map②⑥">映射</a>、<a data-link-type="dfn" href="#list"
                id="ref-for-list⑤⑧">列表</a>、<a data-link-type="dfn" href="#string" id="ref-for-string⑦②">字符串</a>、<a
                data-link-type="dfn" href="#boolean" id="ref-for-boolean②">布尔</a>、数字和 null 间转换。</p>
        <div class="algorithm" data-algorithm="parse a JSON string to an Infra value">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    data-lt="parse a JSON string to an Infra value|parse JSON into Infra values"
                    id="parse-a-json-string-to-an-infra-value">将 JSON 字符串解析为 Infra 值</dfn>，给定<a data-link-type="dfn"
                    href="#string" id="ref-for-string⑦③">字符串</a> <var>string</var>：</p>
            <ol>
                <li>
                    <p>令 <var>jsValue</var> 为 ? <a data-link-type="abstract-op"
                            href="https://tc39.github.io/ecma262/#sec-call" id="ref-for-sec-call②">Call</a>(<a
                            data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-json.parse"
                            id="ref-for-sec-json.parse①">%JSON.parse%</a>, undefined, « <var>string</var> »)。</p>
                <li>
                    <p>返回 <a data-link-type="dfn" href="#convert-a-json-derived-javascript-value-to-an-infra-value"
                            id="ref-for-convert-a-json-derived-javascript-value-to-an-infra-value">将 JSON 派生 JavaScript
                            值转换为 Infra 值</a>给定 <var>jsValue</var> 的结果。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="parse JSON bytes to an Infra value">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="parse-json-bytes-to-an-infra-value">将 JSON
                    字节解析为 Infra 值</dfn>，给定<a data-link-type="dfn" href="#byte-sequence"
                    id="ref-for-byte-sequence②⓪">字节序列</a> <var>bytes</var>：</p>
            <ol>
                <li>
                    <p>令 <var>string</var> 为对 <var>bytes</var> 执行 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode④">UTF-8
                            解码</a> 的结果。<a data-link-type="biblio" href="#biblio-encoding"
                            title="Encoding Standard">[ENCODING]</a></p>
                <li>
                    <p>返回 <a data-link-type="dfn" href="#parse-a-json-string-to-an-infra-value"
                            id="ref-for-parse-a-json-string-to-an-infra-value">将 JSON 字符串解析为 Infra 值</a>给定
                        <var>string</var> 的结果。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="convert a JSON-derived JavaScript value to an Infra value">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="convert-a-json-derived-javascript-value-to-an-infra-value">将 JSON 派生 JavaScript 值转换为 Infra
                    值</dfn>，给定 JavaScript 值 <var>jsValue</var>：</p>
            <ol>
                <li>
                    <p>如 <var>jsValue</var> 为 <emu-val>null</emu-val>，或 <a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-boolean-type"
                            id="ref-for-sec-ecmascript-language-types-boolean-type">布尔</a>、<a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type"
                            id="ref-for-sec-ecmascript-language-types-string-type①">字符串</a>、<a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type"
                            id="ref-for-sec-ecmascript-language-types-number-type">数字</a>，则返回 <var>jsValue</var>。</p>
                <li>
                    <p>如 <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-isarray"
                            id="ref-for-sec-isarray">IsArray</a>(<var>jsValue</var>) 为 true：</p>
                    <ol>
                        <li>
                            <p>令 <var>result</var> 为空<a data-link-type="dfn" href="#list" id="ref-for-list⑤⑨">列表</a>。
                            </p>
                        <li>
                            <p>令 <var>length</var> 为 ! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-tolength"
                                    id="ref-for-sec-tolength">ToLength</a>(! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-get-o-p"
                                    id="ref-for-sec-get-o-p">Get</a>(<var>jsValue</var>, "<code>length</code>"))。</p>
                        <li>
                            <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①⑧">遍历</a> <a
                                    data-link-type="dfn" href="#the-range" id="ref-for-the-range①">区间</a> 0 到
                                <var>length</var> − 1 的每个 <var>index</var>：
                            </p>
                            <ol>
                                <li>
                                    <p>令 <var>indexName</var> 为 ! <a data-link-type="abstract-op"
                                            href="https://tc39.github.io/ecma262/#sec-tostring"
                                            id="ref-for-sec-tostring">ToString</a>(<var>index</var>)。</p>
                                <li>
                                    <p>令 <var>jsValueAtIndex</var> 为 ! <a data-link-type="abstract-op"
                                            href="https://tc39.github.io/ecma262/#sec-get-o-p"
                                            id="ref-for-sec-get-o-p①">Get</a>(<var>jsValue</var>, <var>indexName</var>)。
                                    </p>
                                <li>
                                    <p>令 <var>infraValueAtIndex</var> 为 <a data-link-type="dfn"
                                            href="#convert-a-json-derived-javascript-value-to-an-infra-value"
                                            id="ref-for-convert-a-json-derived-javascript-value-to-an-infra-value①">将
                                            JSON 派生 JavaScript 值转换为 Infra 值</a>给定 <var>jsValueAtIndex</var> 的结果。</p>
                                <li>
                                    <p><a data-link-type="dfn" href="#list-append" id="ref-for-list-append②⓪">追加</a>
                                        <var>infraValueAtIndex</var> 到 <var>result</var>。
                                    </p>
                            </ol>
                        <li>
                            <p>返回 <var>result</var>。</p>
                    </ol>
                <li>
                    <p>令 <var>result</var> 为空<a data-link-type="dfn" href="#ordered-map"
                            id="ref-for-ordered-map②⑦">有序映射</a>。</p>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate①⑨">遍历</a> !
                        <var>jsValue</var>.[[OwnPropertyKeys]]() 的每个 <var>key</var>：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>jsValueAtKey</var> 为 ! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-get-o-p"
                                    id="ref-for-sec-get-o-p②">Get</a>(<var>jsValue</var>, <var>key</var>)。</p>
                        <li>
                            <p>令 <var>infraValueAtKey</var> 为 <a data-link-type="dfn"
                                    href="#convert-a-json-derived-javascript-value-to-an-infra-value"
                                    id="ref-for-convert-a-json-derived-javascript-value-to-an-infra-value②">将 JSON 派生
                                    JavaScript 值转换为 Infra 值</a>给定 <var>jsValueAtKey</var> 的结果。</p>
                        <li>
                            <p><a data-link-type="dfn" href="#map-set" id="ref-for-map-set③">设</a>
                                <var>result</var>[<var>key</var>] 为 <var>infraValueAtKey</var>。
                            </p>
                    </ol>
                <li>
                    <p>返回 <var>result</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="serialize an Infra value to a JSON string">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="serialize-an-infra-value-to-a-json-string">将 Infra 值序列化为 JSON 字符串</dfn>，给定<a
                    data-link-type="dfn" href="#string" id="ref-for-string⑦④">字符串</a>、<a data-link-type="dfn"
                    href="#boolean" id="ref-for-boolean③">布尔</a>、数字、null、<a data-link-type="dfn" href="#list"
                    id="ref-for-list⑥⓪">列表</a>或以<a data-link-type="dfn" href="#string"
                    id="ref-for-string⑦⑤">字符串</a>为键的<a data-link-type="dfn" href="#ordered-map"
                    id="ref-for-ordered-map②⑧">映射</a> <var>value</var>：</p>
            <ol>
                <li>
                    <p>令 <var>jsValue</var> 为 <a data-link-type="dfn"
                            href="#convert-an-infra-value-to-a-json-compatible-javascript-value"
                            id="ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value">将 Infra 值转换为 JSON
                            兼容的 JavaScript 值</a>给定 <var>value</var> 的结果。</p>
                <li>
                    <p>返回 ! <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-call"
                            id="ref-for-sec-call③">Call</a>(<a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-json.stringify"
                            id="ref-for-sec-json.stringify②">%JSON.stringify%</a>, undefined, « <var>jsValue</var> »)。
                    </p>
                    <p class="note" role="note">未传递额外参数给 <a data-link-type="dfn"
                            href="https://tc39.github.io/ecma262/#sec-json.stringify"
                            id="ref-for-sec-json.stringify③">%JSON.stringify%</a>，结果无多余空白。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="serialize an Infra value to JSON bytes">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="serialize-an-infra-value-to-json-bytes">将
                    Infra 值序列化为 JSON 字节</dfn>，给定<a data-link-type="dfn" href="#string" id="ref-for-string⑦⑥">字符串</a>、<a
                    data-link-type="dfn" href="#boolean" id="ref-for-boolean④">布尔</a>、数字、null、<a data-link-type="dfn"
                    href="#list" id="ref-for-list⑥①">列表</a>或以<a data-link-type="dfn" href="#string"
                    id="ref-for-string⑦⑦">字符串</a>为键的<a data-link-type="dfn" href="#ordered-map"
                    id="ref-for-ordered-map②⑨">映射</a> <var>value</var>：</p>
            <ol>
                <li>
                    <p>令 <var>string</var> 为 <a data-link-type="dfn" href="#serialize-an-infra-value-to-a-json-string"
                            id="ref-for-serialize-an-infra-value-to-a-json-string">将 Infra 值序列化为 JSON 字符串</a>给定
                        <var>value</var> 的结果。
                    </p>
                <li>
                    <p>返回对 <var>string</var> 执行 <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode④">UTF-8
                            编码</a> 的结果。<a data-link-type="biblio" href="#biblio-encoding"
                            title="Encoding Standard">[ENCODING]</a></p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="convert an Infra value to a JSON-compatible JavaScript value">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="convert-an-infra-value-to-a-json-compatible-javascript-value">将 Infra 值转换为 JSON 兼容的 JavaScript
                    值</dfn>，给定 <var>value</var>：</p>
            <ol>
                <li>
                    <p>如 <var>value</var> 为<a data-link-type="dfn" href="#string" id="ref-for-string⑦⑧">字符串</a>、<a
                            data-link-type="dfn" href="#boolean" id="ref-for-boolean⑤">布尔</a>、数字或 null，则返回
                        <var>value</var>。
                    </p>
                <li>
                    <p>如 <var>value</var> 为<a data-link-type="dfn" href="#list" id="ref-for-list⑥②">列表</a>：</p>
                    <ol>
                        <li>
                            <p>令 <var>jsValue</var> 为 ! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-arraycreate"
                                    id="ref-for-sec-arraycreate">ArrayCreate</a>(0)。</p>
                        <li>
                            <p>令 <var>i</var> 为 0。</p>
                        <li>
                            <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate②⓪">遍历</a>
                                <var>value</var> 的每个 <var>listItem</var>：
                            </p>
                            <ol>
                                <li>
                                    <p>令 <var>listItemJSValue</var> 为 <a data-link-type="dfn"
                                            href="#convert-an-infra-value-to-a-json-compatible-javascript-value"
                                            id="ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value①">将
                                            Infra 值转换为 JSON 兼容的 JavaScript 值</a> 给定 <var>listItem</var> 的结果。</p>
                                <li>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow"
                                            id="ref-for-sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a>(<var>jsValue</var>,
                                        ! <a data-link-type="abstract-op"
                                            href="https://tc39.github.io/ecma262/#sec-tostring"
                                            id="ref-for-sec-tostring①">ToString</a>(<var>i</var>),
                                        <var>listItemJSValue</var>)。
                                    </p>
                                <li>
                                    <p>令 <var>i</var> = <var>i</var> + 1。</p>
                            </ol>
                        <li>
                            <p>返回 <var>jsValue</var>。</p>
                    </ol>
                <li>
                    <p>断言：<var>value</var> 为<a data-link-type="dfn" href="#ordered-map"
                            id="ref-for-ordered-map③⓪">映射</a>。</p>
                <li>
                    <p>令 <var>jsValue</var> 为 ! <a data-link-type="abstract-op"
                            href="https://tc39.github.io/ecma262/#sec-ordinaryobjectcreate"
                            id="ref-for-sec-ordinaryobjectcreate">OrdinaryObjectCreate</a>(null)。</p>
                <li>
                    <p><a data-link-type="dfn" href="#list-iterate" id="ref-for-list-iterate②①">遍历</a> <var>value</var>
                        的每组 <var>mapKey</var> → <var>mapValue</var>：</p>
                    <ol>
                        <li>
                            <p>断言：<var>mapKey</var> 为<a data-link-type="dfn" href="#string"
                                    id="ref-for-string⑦⑨">字符串</a>。</p>
                        <li>
                            <p>令 <var>mapValueJSValue</var> 为 <a data-link-type="dfn"
                                    href="#convert-an-infra-value-to-a-json-compatible-javascript-value"
                                    id="ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value②">将 Infra
                                    值转换为 JSON 兼容的 JavaScript 值</a> 给定 <var>mapValue</var> 的结果。</p>
                        <li>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow"
                                    id="ref-for-sec-createdatapropertyorthrow①">CreateDataPropertyOrThrow</a>(<var>jsValue</var>,
                                <var>mapKey</var>, <var>mapValueJSValue</var>)。
                            </p>
                    </ol>
                <li>
                    <p>返回 <var>jsValue</var>。</p>
            </ol>
            <p class="warning">规范中通常不宜直接操作 JavaScript 值，应优先用<a data-link-type="dfn"
                    href="#serialize-an-infra-value-to-a-json-string"
                    id="ref-for-serialize-an-infra-value-to-a-json-string①">将 Infra 值序列化为 JSON 字符串</a>或<a
                    data-link-type="dfn" href="#serialize-an-infra-value-to-json-bytes"
                    id="ref-for-serialize-an-infra-value-to-json-bytes">将 Infra 值序列化为 JSON 字节</a>。如有特殊需求，请<a
                    href="https://github.com/whatwg/infra/issues/new">提交 issue</a>讨论。</p>
        </div>
        <h2 class="heading settled" data-level="7" id="forgiving-base64"><span class="secno">7. </span><span
                class="content">宽容 base64（Forgiving base64）</span><a class="self-link" href="#forgiving-base64"></a>
        </h2>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="forgiving-base64-encode">宽容 base64
                编码（forgiving-base64 encode）</dfn>给定<a data-link-type="dfn" href="#byte-sequence"
                id="ref-for-byte-sequence②①">字节序列</a> <var>data</var>，对 <var>data</var> 应用 RFC 4648 第 4 节定义的 base64
            算法并返回结果。<a data-link-type="biblio" href="#biblio-rfc4648"
                title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</a></p>
        <p class="note no-backref" role="note">该操作之所以命名为 <a data-link-type="dfn" href="#forgiving-base64-encode"
                id="ref-for-forgiving-base64-encode">宽容 base64 编码</a>，是为与<a data-link-type="dfn"
                href="#forgiving-base64-decode" id="ref-for-forgiving-base64-decode">宽容 base64 解码</a>对称；后者与 RFC
            有区别，定义了某些输入的错误处理。</p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="forgiving-base64-decode">宽容 base64
                解码（forgiving-base64 decode）</dfn>给定字符串 <var>data</var>，执行如下步骤：</p>
        <ol>
            <li>
                <p>移除 <var>data</var> 中所有<a data-link-type="dfn" href="#ascii-whitespace"
                        id="ref-for-ascii-whitespace⑦">ASCII 空白符</a>。</p>
            <li>
                <p>若 <var>data</var> 的<a data-link-type="dfn" href="#string-code-point-length"
                        id="ref-for-string-code-point-length④">码点长度</a>能被 4 整除：</p>
                <ol>
                    <li>
                        <p>如 <var>data</var> 以一个或两个 U+003D (=) <a data-link-type="dfn" href="#code-point"
                                id="ref-for-code-point⑤③">码点</a>结尾，则将其移除。</p>
                </ol>
            <li>
                <p>若 <var>data</var> 的<a data-link-type="dfn" href="#string-code-point-length"
                        id="ref-for-string-code-point-length⑤">码点长度</a>除以 4 余 1，则返回失败。</p>
            <li>
                <p>若 <var>data</var> 包含不属于下列之一的<a data-link-type="dfn" href="#code-point"
                        id="ref-for-code-point⑤④">码点</a>：</p>
                <ul class="brief">
                    <li>U+002B (+)
                    <li>U+002F (/)
                    <li><a data-link-type="dfn" href="#ascii-alphanumeric" id="ref-for-ascii-alphanumeric">ASCII
                            字母数字</a>
                </ul>
                <p>则返回失败。</p>
            <li>
                <p>令 <var>output</var> 为空<a data-link-type="dfn" href="#byte-sequence"
                        id="ref-for-byte-sequence②②">字节序列</a>。</p>
            <li>
                <p>令 <var>buffer</var> 为可追加比特的空缓冲区。</p>
            <li>
                <p>令 <var>position</var> 为 <var>data</var> 的<a data-link-type="dfn" href="#string-position-variable"
                        id="ref-for-string-position-variable⑤">位置变量</a>，初始指向开头。</p>
            <li>
                <p>当 <var>position</var> 未越过 <var>data</var> 结尾时，重复：</p>
                <ol>
                    <li>
                        <p>在 RFC 4648 Table 1: The Base 64 Alphabet 的第二列中找到 <var>position</var> 指向的<a
                                data-link-type="dfn" href="#code-point" id="ref-for-code-point⑤⑤">码点</a>。令 <var>n</var>
                            为该行第一格的数字。<a data-link-type="biblio" href="#biblio-rfc4648"
                                title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</a></p>
                    <li>
                        <p>将 <var>n</var> 的六个比特（高位在前）追加到 <var>buffer</var>。</p>
                    <li>
                        <p>如 <var>buffer</var> 已积累 24 比特，则将其解释为 3 个 8 位大端整数。将这 3 个字节依次追加到 <var>output</var>，然后清空
                            <var>buffer</var>。
                        </p>
                    <li>
                        <p><var>position</var> 加 1。</p>
                </ol>
            <li>
                <p>如 <var>buffer</var> 非空，其长度为 12 或 18 比特。若为 12 比特，丢弃后 4 位，余下 8 位按大端解释为一个 8 位整数；若为 18 比特，丢弃后 2 位，余下 16
                    位按大端解释为两个 8 位整数。将所得 1 或 2 字节依次追加到 <var>output</var>。</p>
                <p class="note" role="note">丢弃比特意味着如 "<code>YQ</code>" 和 "<code>YR</code>" 都还原为 `<code>a</code>`。</p>
            <li>
                <p>返回 <var>output</var>。</p>
        </ol>
        <h2 class="heading settled" data-level="8" id="namespaces"><span class="secno">8. </span><span
                class="content">命名空间（Namespaces）</span><a class="self-link" href="#namespaces"></a></h2>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="html-namespace">HTML 命名空间</dfn>为
            "<code>http://www.w3.org/1999/xhtml</code>"。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="mathml-namespace">MathML 命名空间</dfn>为
            "<code>http://www.w3.org/1998/Math/MathML</code>"。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="svg-namespace">SVG 命名空间</dfn>为
            "<code>http://www.w3.org/2000/svg</code>"。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="xlink-namespace">XLink 命名空间</dfn>为
            "<code>http://www.w3.org/1999/xlink</code>"。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="xml-namespace">XML 命名空间</dfn>为
            "<code>http://www.w3.org/XML/1998/namespace</code>"。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="xmlns-namespace">XMLNS 命名空间</dfn>为
            "<code>http://www.w3.org/2000/xmlns/</code>"。</p>
        <h2 class="no-num heading settled" id="acknowledgments"><span class="content">致谢（Acknowledgments）</span><a
                class="self-link" href="#acknowledgments"></a></h2>
        <p>特别感谢
            Addison Phillips,
            Andreu Botella,
            Aryeh Gregor,
            Ben Kelly,
            Chris Rebert,
            Daniel Ehrenberg,
            Dominic Farolino,
            Gabriel Pivovarov,
            Ian Hickson,
            Jakob Ackermann,
            Jake Archibald,
            Jeff Hodges,
            Jeffrey Yasskin,
            Jungkee Song,
            Leonid Vasilyev,
            Maciej Stachowiak,
            Malika Aubakirova,
            Martin Thomson,
            Michael™ Smith,
            Mike West,
            Mike Taylor,
            Ms2ger,
            Pavel "Al Arz" Kurochkin,
            Philip Jägenstedt,
            Rashaun "Snuggs" Stovall,
            Sergey Shekyan,
            Simon Pieters,
            Tab Atkins,
            Tobie Langel,
            triple-underscore,
            Wolf Lammen,
            以及薛富侨
            的支持！
        </p>
        <p>本标准由 <a href="https://annevankesteren.nl/" lang="nl">Anne van Kesteren</a>（<a
                href="https://www.apple.com/">Apple</a>, <a href="mailto:annevk@annevk.nl">annevk@annevk.nl</a>）和 <a
                href="https://domenic.me/">Domenic Denicola</a>（<a href="https://www.google.com/">Google</a>, <a
                href="mailto:d@domenic.me">d@domenic.me</a>）编写。</p>
        <h2 class="no-num heading settled" id="ipr"><span class="content">知识产权声明（Intellectual property rights）</span><a
                class="self-link" href="#ipr"></a></h2>
        <p>版权所有 © WHATWG (Apple, Google, Mozilla, Microsoft)。本作品采用 <a
                href="https://creativecommons.org/licenses/by/4.0/" rel="license">知识共享署名 4.0
                国际许可协议</a>。如本标准部分内容被纳入源代码，则该部分按 <a href="https://opensource.org/licenses/BSD-3-Clause" rel="license">BSD
                3-Clause License</a> 许可。</p>
        <p>本标准为 Living Standard。如需专利审查版本，请参阅 <a href="/review-drafts/2025-01/">Living Standard Review Draft</a>。</p>
    </main>
    <script>
        // "use strict";
        // if ("serviceWorker" in navigator) {
        //     navigator.serviceWorker.register("/service-worker.js");
        // }
    </script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引（Index）</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语（Terms defined by
            this
            specification）</span><a class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#128-bit-unsigned-integer">128位无符号整数</a><span>，见 § 4.3</span>
        <li><a href="#16-bit-signed-integer">16位有符号整数</a><span>，见 § 4.3</span>
        <li><a href="#16-bit-unsigned-integer">16位无符号整数</a><span>，见 § 4.3</span>
        <li><a href="#32-bit-signed-integer">32位有符号整数</a><span>，见 § 4.3</span>
        <li><a href="#32-bit-unsigned-integer">32位无符号整数</a><span>，见 § 4.3</span>
        <li><a href="#64-bit-signed-integer">64位有符号整数</a><span>，见 § 4.3</span>
        <li><a href="#64-bit-unsigned-integer">64位无符号整数</a><span>，见 § 4.3</span>
        <li><a href="#8-bit-signed-integer">8位有符号整数</a><span>，见 § 4.3</span>
        <li><a href="#8-bit-unsigned-integer">8位无符号整数</a><span>，见 § 4.3</span>
        <li><a href="#abort-when">中止条件（abort when）</a><span>，见 § 3.7</span>
        <li>
            追加（append）
            <ul>
                <li><a href="#list-append">列表定义</a><span>，见 § 5.1</span>
                <li><a href="#set-append">集合定义</a><span>，见 § 5.1.3</span>
            </ul>
        <li><a href="#ascii-alpha">ASCII 字母（ASCII alpha）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-alphanumeric">ASCII 字母数字（ASCII alphanumeric）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-byte">ASCII 字节（ASCII byte）</a><span>，见 § 4.4</span>
        <li><a href="#ascii-case-insensitive">ASCII 不区分大小写（ASCII case-insensitive）</a><span>，见 § 4.7</span>
        <li><a href="#ascii-code-point">ASCII 码点（ASCII code point）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-decode">ASCII 解码（ASCII decode）</a><span>，见 § 4.7</span>
        <li><a href="#ascii-digit">ASCII 数字（ASCII digit）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-encode">ASCII 编码（ASCII encode）</a><span>，见 § 4.7</span>
        <li><a href="#ascii-hex-digit">ASCII 十六进制数字（ASCII hex digit）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-lower-alpha">ASCII 小写字母（ASCII lower alpha）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-lowercase">ASCII 小写化（ASCII lowercase）</a><span>，见 § 4.7</span>
        <li><a href="#ascii-lower-hex-digit">ASCII 小写十六进制数字（ASCII lower hex digit）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-string">ASCII 字符串（ASCII string）</a><span>，见 § 4.7</span>
        <li><a href="#ascii-tab-or-newline">ASCII 制表符或换行符（ASCII tab or newline）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-tab-or-newline">ASCII 制表符或换行符（复数）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-upper-alpha">ASCII 大写字母（ASCII upper alpha）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-uppercase">ASCII 大写化（ASCII uppercase）</a><span>，见 § 4.7</span>
        <li><a href="#ascii-upper-hex-digit">ASCII 大写十六进制数字（ASCII upper hex digit）</a><span>，见 § 4.6</span>
        <li><a href="#ascii-whitespace">ASCII 空白符（ASCII whitespace）</a><span>，见 § 4.6</span>
        <li><a href="#assert">断言（Assert）</a><span>，见 § 3.10</span>
        <li><a href="#boolean">布尔（boolean）</a><span>，见 § 4.2</span>
        <li><a href="#iteration-break">break</a><span>，见 § 3.9</span>
        <li><a href="#byte">字节（byte）</a><span>，见 § 4.4</span>
        <li><a href="#byte-case-insensitive">字节不区分大小写（byte-case-insensitive）</a><span>，见 § 4.5</span>
        <li><a href="#byte-less-than">字节小于（byte less than）</a><span>，见 § 4.5</span>
        <li><a href="#byte-lowercase">字节小写化（byte-lowercase）</a><span>，见 § 4.5</span>
        <li><a href="#byte-sequence">字节序列（byte sequence）</a><span>，见 § 4.5</span>
        <li><a href="#byte-uppercase">字节大写化（byte-uppercase）</a><span>，见 § 4.5</span>
        <li><a href="#c0-control">C0 控制符（C0 control）</a><span>，见 § 4.6</span>
        <li><a href="#c0-control-or-space">C0 控制符或空格（C0 control or space）</a><span>，见 § 4.6</span>
        <li><a href="#c0-control-or-space">C0 控制符或空格（复数）</a><span>，见 § 4.6</span>
        <li><a href="#code-point">字符（character）</a><span>，见 § 4.6</span>
        <li><a href="#map-clear">清空（clear）</a><span>，见 § 5.2</span>
        <li>
            克隆（clone）
            <ul>
                <li><a href="#list-clone">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-clone">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#code-point">码点（code point）</a><span>，见 § 4.6</span>
        <li><a href="#string-code-point-length">码点长度（code point length）</a><span>，见 § 4.7</span>
        <li><a href="#code-point-substring">码点子串（code point substring）</a><span>，见 § 4.7</span>
        <li><a href="#code-point-substring-by-positions">按位置取码点子串</a><span>，见 § 4.7</span>
        <li><a href="#code-point-substring-to-the-end-of-the-string">至结尾的码点子串</a><span>，见 § 4.7</span>
        <li><a href="#code-unit">码元（code unit）</a><span>，见 § 4.7</span>
        <li><a href="#code-unit-less-than">码元小于（code unit less than）</a><span>，见 § 4.7</span>
        <li><a href="#code-unit-prefix">码元前缀（code unit prefix）</a><span>，见 § 4.7</span>
        <li><a href="#code-unit-substring">码元子串（code unit substring）</a><span>，见 § 4.7</span>
        <li><a href="#code-unit-substring-by-positions">按位置取码元子串</a><span>，见 § 4.7</span>
        <li><a href="#code-unit-substring-to-the-end-of-the-string">至结尾的码元子串</a><span>，见 § 4.7</span>
        <li><a href="#code-unit-suffix">码元后缀（code unit suffix）</a><span>，见 § 4.7</span>
        <li><a href="#collect-a-sequence-of-code-points">收集码点序列（collect a sequence of code points）</a><span>，见
                § 4.7</span>
        <li><a href="#collect-a-sequence-of-code-points">收集码点序列（collecting a sequence of code points）</a><span>，见
                § 4.7</span>
        <li><a href="#string-concatenate">串联（concatenate）</a><span>，见 § 4.7</span>
        <li><a href="#string-concatenate">串联（concatenation）</a><span>，见 § 4.7</span>
        <li>
            包含（contain）
            <ul>
                <li><a href="#list-contain">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-exists">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#iteration-continue">continue</a><span>，见 § 3.9</span>
        <li><a href="#control">控制符（control）</a><span>，见 § 4.6</span>
        <li><a href="#javascript-string-convert">转换（convert）</a><span>，见 § 4.7</span>
        <li><a href="#convert-a-json-derived-javascript-value-to-an-infra-value">将 JSON 派生 JavaScript 值转换为 Infra
                值</a><span>，见 § 6</span>
        <li><a href="#convert-an-infra-value-to-a-json-compatible-javascript-value">将 Infra 值转换为 JSON 兼容的 JavaScript
                值</a><span>，见 § 6</span>
        <li><a href="#set-create">创建（create）</a><span>，见 § 5.1.3</span>
        <li><a href="#queue-dequeue">出队（dequeue）</a><span>，见 § 5.1.2</span>
        <li><a href="#set-difference">差集（difference）</a><span>，见 § 5.1.3</span>
        <li><a href="#list-empty">清空（empty）</a><span>，见 § 5.1</span>
        <li><a href="#string-ends-with">以...结尾（ends with）</a><span>，见 § 4.7</span>
        <li><a href="#queue-enqueue">入队（enqueue）</a><span>，见 § 5.1.2</span>
        <li><a href="#map-entry">条目（entry）</a><span>，见 § 5.2</span>
        <li><a href="#set-equal">等于（equal）</a><span>，见 § 5.1.3</span>
        <li>
            存在（exist）
            <ul>
                <li><a href="#list-contain">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-exists">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li>
            扩展（extend）
            <ul>
                <li><a href="#list-extend">列表定义</a><span>，见 § 5.1</span>
                <li><a href="#set-extend">集合定义</a><span>，见 § 5.1.3</span>
            </ul>
        <li>
            for each（遍历）
            <ul>
                <li><a href="#list-iterate">列表、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-iterate">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#forgiving-base64-decode">宽容 base64 解码（forgiving-base64 decode）</a><span>，见 § 7</span>
        <li><a href="#forgiving-base64-encode">宽容 base64 编码（forgiving-base64 encode）</a><span>，见 § 7</span>
        <li><a href="#map-get">获取（get）</a><span>，见 § 5.2</span>
        <li><a href="#list-get-the-indices">取索引（get the indices）</a><span>，见 § 5.1</span>
        <li><a href="#map-getting-the-keys">取键（get the keys）</a><span>，见 § 5.2</span>
        <li><a href="#map-get">取值（get the value）</a><span>，见 § 5.2</span>
        <li><a href="#map-getting-the-values">取值（get the values）</a><span>，见 § 5.2</span>
        <li><a href="#map-getting-the-keys">取键（getting the keys）</a><span>，见 § 5.2</span>
        <li><a href="#map-getting-the-values">取值（getting the values）</a><span>，见 § 5.2</span>
        <li><a href="#html-namespace">HTML 命名空间</a><span>，见 § 8</span>
        <li><a href="#string-is">完全等同于（identical to）</a><span>，见 § 4.7</span>
        <li><a href="#if-aborted">如被中止（if aborted）</a><span>，见 § 3.7</span>
        <li><a href="#implementation">实现（implementation）</a><span>，见 § 2.3</span>
        <li><a href="#implementation-defined">实现自定义（implementation-defined）</a><span>，见 § 2.3</span>
        <li><a href="#list-get-the-indices">索引（indices）</a><span>，见 § 5.1</span>
        <li><a href="#list-insert">插入（insert）</a><span>，见 § 5.1</span>
        <li><a href="#set-intersection">交集（intersection）</a><span>，见 § 5.1.3</span>
        <li><a href="#string-is">等于（is）</a><span>，见 § 4.7</span>
        <li>
            为空（is empty）
            <ul>
                <li><a href="#list-is-empty">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-is-empty">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li>
            非空（is not empty）
            <ul>
                <li><a href="#list-is-empty">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-is-empty">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#isomorphic-decode">同构解码（isomorphic decode）</a><span>，见 § 4.5</span>
        <li><a href="#isomorphic-encode">同构编码（isomorphic encode）</a><span>，见 § 4.7</span>
        <li><a href="#isomorphic-string">同构字符串（isomorphic string）</a><span>，见 § 4.7</span>
        <li>
            项（item）
            <ul>
                <li><a href="#list-item">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#struct-item">结构体、元组定义</a><span>，见 § 5.3</span>
            </ul>
        <li>
            遍历（iterate）
            <ul>
                <li><a href="#list-iterate">列表、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-iterate">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#string">JavaScript 字符串</a><span>，见 § 4.7</span>
        <li><a href="#map-key">键（key）</a><span>，见 § 5.2</span>
        <li><a href="#map-getting-the-keys">键（keys）</a><span>，见 § 5.2</span>
        <li><a href="#leading-surrogate">前导代理项（leading surrogate）</a><span>，见 § 4.6</span>
        <li>
            长度（length）
            <ul>
                <li><a href="#byte-sequence-length">字节序列定义</a><span>，见 § 4.5</span>
                <li><a href="#string-length">字符串、JavaScript 字符串、ASCII 字符串、同构字符串、标量值字符串定义</a><span>，见 § 4.7</span>
            </ul>
        <li><a href="#list">列表（list）</a><span>，见 § 5.1</span>
        <li><a href="#ordered-map">映射（map）</a><span>，见 § 5.2</span>
        <li><a href="#mathml-namespace">MathML 命名空间</a><span>，见 § 8</span>
        <li><a href="#struct-name">名称（name）</a><span>，见 § 5.3</span>
        <li><a href="#noncharacter">非字符（noncharacter）</a><span>，见 § 4.6</span>
        <li><a href="#normalize-newlines">规范化换行符（normalize newlines）</a><span>，见 § 4.7</span>
        <li><a href="#ordered-map">有序映射（ordered map）</a><span>，见 § 5.2</span>
        <li><a href="#ordered-set">有序集合（ordered set）</a><span>，见 § 5.1.3</span>
        <li><a href="#parse-a-json-string-to-a-javascript-value">将 JSON 字符串解析为 JavaScript 值</a><span>，见 § 6</span>
        <li><a href="#parse-a-json-string-to-an-infra-value">将 JSON 字符串解析为 Infra 值</a><span>，见 § 6</span>
        <li><a href="#parse-json-bytes-to-a-javascript-value">将 JSON 字节解析为 JavaScript 值</a><span>，见 § 6</span>
        <li><a href="#parse-json-bytes-to-an-infra-value">将 JSON 字节解析为 Infra 值</a><span>，见 § 6</span>
        <li><a href="#parse-json-bytes-to-a-javascript-value">从字节解析 JSON（parse JSON from bytes）</a><span>，见 § 6</span>
        <li><a href="#parse-a-json-string-to-an-infra-value">解析 JSON 为 Infra 值（parse JSON into Infra values）</a><span>，见
                § 6</span>
        <li><a href="#stack-peek">窥栈（peek）</a><span>，见 § 5.1.1</span>
        <li><a href="#stack-pop">弹栈（pop）</a><span>，见 § 5.1.1</span>
        <li><a href="#string-position-variable">位置变量（position variable）</a><span>，见 § 4.7</span>
        <li><a href="#byte-sequence-prefix">前缀（prefix）</a><span>，见 § 4.5</span>
        <li>
            前置（prepend）
            <ul>
                <li><a href="#list-prepend">列表定义</a><span>，见 § 5.1</span>
                <li><a href="#set-prepend">集合定义</a><span>，见 § 5.1.3</span>
            </ul>
        <li><a href="#stack-push">压栈（push）</a><span>，见 § 5.1.1</span>
        <li><a href="#queue">队列（queue）</a><span>，见 § 5.1.2</span>
        <li>
            移除（remove）
            <ul>
                <li><a href="#list-remove">列表、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-remove">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li>
            替换（replace）
            <ul>
                <li><a href="#list-replace">列表定义</a><span>，见 § 5.1</span>
                <li><a href="#set-replace">集合定义</a><span>，见 § 5.1.3</span>
            </ul>
        <li><a href="#set-replace">替换为（replacing）</a><span>，见 § 5.1.3</span>
        <li><a href="#scalar-value">标量值（scalar value）</a><span>，见 § 4.6</span>
        <li><a href="#scalar-value-string">标量值字符串（scalar value string）</a><span>，见 § 4.7</span>
        <li><a href="#serialize-a-javascript-value-to-a-json-string">将 JavaScript 值序列化为 JSON 字符串</a><span>，见 § 6</span>
        <li><a href="#serialize-a-javascript-value-to-json-bytes">将 JavaScript 值序列化为 JSON 字节</a><span>，见 § 6</span>
        <li><a href="#serialize-an-infra-value-to-a-json-string">将 Infra 值序列化为 JSON 字符串</a><span>，见 § 6</span>
        <li><a href="#serialize-an-infra-value-to-json-bytes">将 Infra 值序列化为 JSON 字节</a><span>，见 § 6</span>
        <li><a href="#serialize-a-javascript-value-to-json-bytes">序列化 JSON 到字节（serialize JSON to bytes）</a><span>，见
                § 6</span>
        <li>
            集合（set）
            <ul>
                <li><a href="#ordered-set">定义</a><span>，见 § 5.1.3</span>
                <li><a href="#map-set">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#map-set">设定值（set the value）</a><span>，见 § 5.2</span>
        <li>
            长度（size）
            <ul>
                <li><a href="#list-size">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-size">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#skip-ascii-whitespace">跳过 ASCII 空白符</a><span>，见 § 4.7</span>
        <li>
            排序（sort）
            <ul>
                <li><a href="#list-sort-in-ascending-order">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-sort-in-ascending-order">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li>
            升序排序（sort in ascending order）
            <ul>
                <li><a href="#list-sort-in-ascending-order">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-sort-in-ascending-order">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li>
            降序排序（sort in descending order）
            <ul>
                <li><a href="#list-sort-in-descending-order">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-sort-in-descending-order">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li>
            排序（sorting）
            <ul>
                <li><a href="#list-sort-in-ascending-order">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-sort-in-ascending-order">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li>
            升序排序（sorting in ascending order）
            <ul>
                <li><a href="#list-sort-in-ascending-order">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-sort-in-ascending-order">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li>
            降序排序（sorting in descending order）
            <ul>
                <li><a href="#list-sort-in-descending-order">列表、栈、队列、集合定义</a><span>，见 § 5.1</span>
                <li><a href="#map-sort-in-descending-order">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#split-on-ascii-whitespace">按 ASCII 空白符分割字符串</a><span>，见 § 4.7</span>
        <li><a href="#split-on-commas">按逗号分割字符串</a><span>，见 § 4.7</span>
        <li><a href="#split-on-ascii-whitespace">按 ASCII 空白符分割</a><span>，见 § 4.7</span>
        <li><a href="#split-on-commas">按逗号分割</a><span>，见 § 4.7</span>
        <li><a href="#stack">栈（stack）</a><span>，见 § 5.1.1</span>
        <li>
            以...开头（starts with）
            <ul>
                <li><a href="#byte-sequence-starts-with">字节序列定义</a><span>，见 § 4.5</span>
                <li><a href="#string-starts-with">字符串定义</a><span>，见 § 4.7</span>
            </ul>
        <li><a href="#byte-sequence-starts-with">以...开头（start with）</a><span>，见 § 4.5</span>
        <li><a href="#strictly-split">严格分割（strictly split）</a><span>，见 § 4.7</span>
        <li><a href="#strictly-split">严格分割字符串（strictly split a string）</a><span>，见 § 4.7</span>
        <li><a href="#string">字符串（string）</a><span>，见 § 4.7</span>
        <li><a href="#strip-and-collapse-ascii-whitespace">去除并合并 ASCII 空白符</a><span>，见 § 4.7</span>
        <li><a href="#strip-leading-and-trailing-ascii-whitespace">去除首尾 ASCII 空白符</a><span>，见 § 4.7</span>
        <li><a href="#strip-newlines">去除换行符（strip newlines）</a><span>，见 § 4.7</span>
        <li><a href="#struct">结构体（struct）</a><span>，见 § 5.3</span>
        <li><a href="#set-subset">子集（subset）</a><span>，见 § 5.1.3</span>
        <li><a href="#set-superset">超集（superset）</a><span>，见 § 5.1.3</span>
        <li><a href="#surrogate">代理项（surrogate）</a><span>，见 § 4.6</span>
        <li><a href="#svg-namespace">SVG 命名空间</a><span>，见 § 8</span>
        <li><a href="#the-exclusive-range">不含右端点区间（the exclusive range）</a><span>，见 § 5.1.3</span>
        <li><a href="#the-range">含端点区间（the inclusive range）</a><span>，见 § 5.1.3</span>
        <li><a href="#the-range">区间（the range）</a><span>，见 § 5.1.3</span>
        <li><a href="#tracking-vector">跟踪向量（tracking vector）</a><span>，见 § 2.4</span>
        <li><a href="#trailing-surrogate">后导代理项（trailing surrogate）</a><span>，见 § 4.6</span>
        <li><a href="#tuple">元组（tuple）</a><span>，见 § 5.3.1</span>
        <li><a href="#set-union">并集（union）</a><span>，见 § 5.1.3</span>
        <li><a href="#user-agent">用户代理（user agent）</a><span>，见 § 2.3</span>
        <li>
            值（value）
            <ul>
                <li><a href="#byte-value">字节定义</a><span>，见 § 4.4</span>
                <li><a href="#code-point-value">码点定义</a><span>，见 § 4.6</span>
                <li><a href="#map-value">映射定义</a><span>，见 § 5.2</span>
            </ul>
        <li><a href="#map-getting-the-values">值（values）</a><span>，见 § 5.2</span>
        <li><a href="#iteration-while">while</a><span>，见 § 3.9</span>
        <li><a href="#willful-violation">有意违例（willful violation）</a><span>，见 § 2.2</span>
        <li><a href="#map-with-default">带默认值（with default）</a><span>，见 § 5.2</span>
        <li><a href="#xlink-namespace">XLink 命名空间</a><span>，见 § 8</span>
        <li><a href="#xml-namespace">XML 命名空间</a><span>，见 § 8</span>
        <li><a href="#xmlns-namespace">XMLNS 命名空间</a><span>，见 § 8</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用自其他规范的术语（Terms
            defined by reference）</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[DOM]</a>（DOM 标准）定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="a8fc7c38">CharacterData</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMA-262]</a>（ECMAScript 语言规范）定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="8b3dfc64">%JSON.parse%</span>
                <li><span class="dfn-paneled" id="ca4a8997">%JSON.stringify%</span>
                <li><span class="dfn-paneled" id="437d21ea">ArrayCreate</span>
                <li><span class="dfn-paneled" id="1010768b">Call</span>
                <li><span class="dfn-paneled" id="cef3e940">CreateDataPropertyOrThrow</span>
                <li><span class="dfn-paneled" id="0d804898">Get</span>
                <li><span class="dfn-paneled" id="41110b4b">IsArray</span>
                <li><span class="dfn-paneled" id="cb213548">OrdinaryObjectCreate</span>
                <li><span class="dfn-paneled" id="d8530df1">ToLength</span>
                <li><span class="dfn-paneled" id="d5bd3770">ToString</span>
                <li><span class="dfn-paneled" id="d19654fd">is a Boolean</span>
                <li><span class="dfn-paneled" id="921f1639">is a Number</span>
                <li><span class="dfn-paneled" id="31f77191">is a String</span>
                <li><span class="dfn-paneled" id="66553159">List</span>
                <li><span class="dfn-paneled" id="db6dbae4">realm</span>
                <li><span class="dfn-paneled" id="b7ef7f32">sort()</span>
                <li><span class="dfn-paneled" id="1d2f9726">The String Type</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ENCODING]</a>（编码标准）定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="b0fcb8d7">UTF-8 decode</span>
                <li><span class="dfn-paneled" id="0303e8e5">UTF-8 encode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a>（Fetch 标准）定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="5fe4ff5e">HTTP whitespace</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HR-TIME]</a>（高分辨率时间）定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="4b2c8c72">duration</span>
                <li><span class="dfn-paneled" id="1e2edd5b">moment</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a>（URL 标准）定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="752d140b">host</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a>（Web IDL 标准）定义如下术语：
            <ul>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献（References）</span><a
            class="self-link" href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用（Normative References）</span><a
            class="self-link" href="#normative"></a></h3>
    <dl>
        <dt id="biblio-ecma-262">[ECMA-262]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>（ECMAScript
            语言规范）。URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding
                    Standard</cite></a>（编码标准）。Living
            Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-hr-time">[HR-TIME]
        <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>（高分辨率时间）。URL: <a
                href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
        <dt id="biblio-infra">[Infra]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>（Infra 标准）。Living Standard. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc20">[RFC20]
        <dd>V.G. Cerf. <a href="https://www.rfc-editor.org/rfc/rfc20"><cite>ASCII format for network
                    interchange</cite></a>（ASCII 网络交换格式）。October 1969. Internet Standard. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc20">https://www.rfc-editor.org/rfc/rfc20</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>（规范性用词）。March 1997. Best Current Practice. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-rfc4648">[RFC4648]
        <dd>S. Josefsson. <a href="https://www.rfc-editor.org/rfc/rfc4648"><cite>The Base16, Base32, and Base64 Data
                    Encodings</cite></a>（Base16、Base32 和 Base64 数据编码）。October 2006. Proposed Standard. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>
        <dt id="biblio-unicode">[UNICODE]
        <dd><a href="https://www.unicode.org/versions/latest/"><cite>The Unicode Standard</cite></a>（Unicode 标准）。URL: <a
                href="https://www.unicode.org/versions/latest/">https://www.unicode.org/versions/latest/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>（Web IDL
            标准）。Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">补充性参考文献（Informative
            References）</span><a class="self-link" href="#informative"></a></h3>
    <dl>
        <dt id="biblio-cookies">[COOKIES]
        <dd>A. Barth. <a href="https://httpwg.org/specs/rfc6265.html"><cite>HTTP State Management
                    Mechanism</cite></a>（HTTP 状态管理机制）。
            April 2011. Proposed Standard. URL: <a
                href="https://httpwg.org/specs/rfc6265.html">https://httpwg.org/specs/rfc6265.html</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>（DOM 标准）。Living
            Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>（Fetch 标准）。Living
            Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML
                    Standard</cite></a>（HTML 标准）。
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-rfc6797">[RFC6797]
        <dd>J. Hodges; C. Jackson; A. Barth. <a href="https://www.rfc-editor.org/rfc/rfc6797"><cite>HTTP Strict
                    Transport Security (HSTS)</cite></a>（HTTP 严格传输安全）。November 2012. Proposed Standard. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc6797">https://www.rfc-editor.org/rfc/rfc6797</a>
        <dt id="biblio-rfc791">[RFC791]
        <dd>J. Postel. <a href="https://www.rfc-editor.org/rfc/rfc791"><cite>Internet
                    Protocol</cite></a>（互联网协议）。September
            1981. Internet Standard. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc791">https://www.rfc-editor.org/rfc/rfc791</a>
        <dt id="biblio-rfc8174">[RFC8174]
        <dd>B. Leiba. <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                    2119 Key Words</cite></a>（RFC2119 关键字大小写歧义）。May 2017. Best Current Practice. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
        <dt id="biblio-rfc8259">[RFC8259]
        <dd>T. Bray, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc8259"><cite>The JavaScript Object Notation (JSON)
                    Data Interchange Format</cite></a>（JavaScript 对象表示法（JSON）数据交换格式）。December 2017. Internet Standard.
            URL: <a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>
        <dt id="biblio-storage">[STORAGE]
        <dd>Anne van Kesteren. <a href="https://storage.spec.whatwg.org/"><cite>Storage Standard</cite></a>（Storage
            标准）。Living
            Standard. URL: <a href="https://storage.spec.whatwg.org/">https://storage.spec.whatwg.org/</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>（URL 标准）。Living
            Standard.
            URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-xml">[XML]
        <dd>Tim Bray; et al. <a href="https://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth
                    Edition)</cite></a>（可扩展标记语言（XML）1.0（第五版））。2008年11月26日. REC. URL: <a
                href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a>
    </dl>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "0303e8e5": { "dfnID": "0303e8e5", "dfnText": "UTF-8 encode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2460" }, { "id": "ref-for-utf-8-encode\u2461" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2462" }, { "id": "ref-for-utf-8-encode\u2463" }], "title": "6. JSON" }], "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "0d804898": { "dfnID": "0d804898", "dfnText": "Get", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-get-o-p" }, { "id": "ref-for-sec-get-o-p\u2460" }, { "id": "ref-for-sec-get-o-p\u2461" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-get-o-p" },
                "1010768b": { "dfnID": "1010768b", "dfnText": "Call", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-call" }, { "id": "ref-for-sec-call\u2460" }, { "id": "ref-for-sec-call\u2461" }, { "id": "ref-for-sec-call\u2462" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-call" },
                "128-bit-unsigned-integer": { "dfnID": "128-bit-unsigned-integer", "dfnText": "128-bit unsigned integer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-128-bit-unsigned-integer" }], "title": "4.3. Numbers" }], "url": "#128-bit-unsigned-integer" },
                "16-bit-signed-integer": { "dfnID": "16-bit-signed-integer", "dfnText": "16-bit signed integer", "external": false, "refSections": [], "url": "#16-bit-signed-integer" },
                "16-bit-unsigned-integer": { "dfnID": "16-bit-unsigned-integer", "dfnText": "16-bit unsigned integer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-16-bit-unsigned-integer" }], "title": "4.7. Strings" }], "url": "#16-bit-unsigned-integer" },
                "1d2f9726": { "dfnID": "1d2f9726", "dfnText": "The String Type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type" },
                "1e2edd5b": { "dfnID": "1e2edd5b", "dfnText": "moment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-moment" }], "title": "4.8. Time" }], "url": "https://w3c.github.io/hr-time/#dfn-moment" },
                "31f77191": { "dfnID": "31f77191", "dfnText": "is a String", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type" },
                "32-bit-signed-integer": { "dfnID": "32-bit-signed-integer", "dfnText": "32-bit signed integer", "external": false, "refSections": [], "url": "#32-bit-signed-integer" },
                "32-bit-unsigned-integer": { "dfnID": "32-bit-unsigned-integer", "dfnText": "32-bit unsigned integer", "external": false, "refSections": [], "url": "#32-bit-unsigned-integer" },
                "41110b4b": { "dfnID": "41110b4b", "dfnText": "IsArray", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-isarray" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-isarray" },
                "437d21ea": { "dfnID": "437d21ea", "dfnText": "ArrayCreate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-arraycreate" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-arraycreate" },
                "4b2c8c72": { "dfnID": "4b2c8c72", "dfnText": "duration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-duration" }], "title": "4.8. Time" }], "url": "https://w3c.github.io/hr-time/#dfn-duration" },
                "5fe4ff5e": { "dfnID": "5fe4ff5e", "dfnText": "HTTP whitespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-http-whitespace" }], "title": "4.6. Code points" }], "url": "https://fetch.spec.whatwg.org/#http-whitespace" },
                "64-bit-signed-integer": { "dfnID": "64-bit-signed-integer", "dfnText": "64-bit signed integer", "external": false, "refSections": [], "url": "#64-bit-signed-integer" },
                "64-bit-unsigned-integer": { "dfnID": "64-bit-unsigned-integer", "dfnText": "64-bit unsigned integer", "external": false, "refSections": [], "url": "#64-bit-unsigned-integer" },
                "66553159": { "dfnID": "66553159", "dfnText": "List", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-list-and-record-specification-type" }, { "id": "ref-for-sec-list-and-record-specification-type\u2460" }], "title": "5.1. Lists" }], "url": "https://tc39.github.io/ecma262/#sec-list-and-record-specification-type" },
                "752d140b": { "dfnID": "752d140b", "dfnText": "host", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-host" }], "title": "5.3. Structs" }], "url": "https://url.spec.whatwg.org/#concept-host" },
                "8-bit-signed-integer": { "dfnID": "8-bit-signed-integer", "dfnText": "8-bit signed integer", "external": false, "refSections": [], "url": "#8-bit-signed-integer" },
                "8-bit-unsigned-integer": { "dfnID": "8-bit-unsigned-integer", "dfnText": "8-bit unsigned integer", "external": false, "refSections": [], "url": "#8-bit-unsigned-integer" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }], "title": "3.8. Conditional statements" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460" }], "title": "6. JSON" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "8b3dfc64": { "dfnID": "8b3dfc64", "dfnText": "%JSON.parse%", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-json.parse" }, { "id": "ref-for-sec-json.parse\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-json.parse" },
                "921f1639": { "dfnID": "921f1639", "dfnText": "is a Number", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-number-type" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type" },
                "a8fc7c38": { "dfnID": "a8fc7c38", "dfnText": "CharacterData", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-characterdata" }], "title": "4.7. Strings" }], "url": "https://dom.spec.whatwg.org/#characterdata" },
                "abort-when": { "dfnID": "abort-when", "dfnText": "abort when", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abort-when" }, { "id": "ref-for-abort-when\u2460" }], "title": "3.7. Conditional abort" }], "url": "#abort-when" },
                "ascii-alpha": { "dfnID": "ascii-alpha", "dfnText": "ASCII alpha", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-alpha" }], "title": "4.6. Code points" }], "url": "#ascii-alpha" },
                "ascii-alphanumeric": { "dfnID": "ascii-alphanumeric", "dfnText": "ASCII alphanumeric", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-alphanumeric" }], "title": "7. Forgiving base64" }], "url": "#ascii-alphanumeric" },
                "ascii-byte": { "dfnID": "ascii-byte", "dfnText": "ASCII byte", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-byte" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-ascii-byte\u2460" }], "title": "4.7. Strings" }], "url": "#ascii-byte" },
                "ascii-case-insensitive": { "dfnID": "ascii-case-insensitive", "dfnText": "ASCII case-insensitive", "external": false, "refSections": [], "url": "#ascii-case-insensitive" },
                "ascii-code-point": { "dfnID": "ascii-code-point", "dfnText": "ASCII code point", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-code-point" }], "title": "4.7. Strings" }], "url": "#ascii-code-point" },
                "ascii-decode": { "dfnID": "ascii-decode", "dfnText": "ASCII decode", "external": false, "refSections": [], "url": "#ascii-decode" },
                "ascii-digit": { "dfnID": "ascii-digit", "dfnText": "ASCII digit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-digit" }, { "id": "ref-for-ascii-digit\u2460" }, { "id": "ref-for-ascii-digit\u2461" }], "title": "4.6. Code points" }], "url": "#ascii-digit" },
                "ascii-encode": { "dfnID": "ascii-encode", "dfnText": "ASCII encode", "external": false, "refSections": [], "url": "#ascii-encode" },
                "ascii-hex-digit": { "dfnID": "ascii-hex-digit", "dfnText": "ASCII hex digit", "external": false, "refSections": [], "url": "#ascii-hex-digit" },
                "ascii-lower-alpha": { "dfnID": "ascii-lower-alpha", "dfnText": "ASCII lower alpha", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-lower-alpha" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-ascii-lower-alpha\u2460" }, { "id": "ref-for-ascii-lower-alpha\u2461" }], "title": "4.7. Strings" }], "url": "#ascii-lower-alpha" },
                "ascii-lower-hex-digit": { "dfnID": "ascii-lower-hex-digit", "dfnText": "ASCII lower hex digit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-lower-hex-digit" }], "title": "4.6. Code points" }], "url": "#ascii-lower-hex-digit" },
                "ascii-lowercase": { "dfnID": "ascii-lowercase", "dfnText": "ASCII lowercase", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-lowercase" }, { "id": "ref-for-ascii-lowercase\u2460" }], "title": "4.7. Strings" }], "url": "#ascii-lowercase" },
                "ascii-string": { "dfnID": "ascii-string", "dfnText": "ASCII string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-string" }, { "id": "ref-for-ascii-string\u2460" }], "title": "4.7. Strings" }], "url": "#ascii-string" },
                "ascii-tab-or-newline": { "dfnID": "ascii-tab-or-newline", "dfnText": "ASCII tab or newline", "external": false, "refSections": [], "url": "#ascii-tab-or-newline" },
                "ascii-upper-alpha": { "dfnID": "ascii-upper-alpha", "dfnText": "ASCII upper alpha", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-upper-alpha" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-ascii-upper-alpha\u2460" }, { "id": "ref-for-ascii-upper-alpha\u2461" }], "title": "4.7. Strings" }], "url": "#ascii-upper-alpha" },
                "ascii-upper-hex-digit": { "dfnID": "ascii-upper-hex-digit", "dfnText": "ASCII upper hex digit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-upper-hex-digit" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-ascii-upper-hex-digit\u2460" }, { "id": "ref-for-ascii-upper-hex-digit\u2461" }], "title": "4.6. Code points" }], "url": "#ascii-upper-hex-digit" },
                "ascii-uppercase": { "dfnID": "ascii-uppercase", "dfnText": "ASCII uppercase", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-uppercase" }], "title": "3.3. Declaration" }, { "refs": [{ "id": "ref-for-ascii-uppercase\u2460" }], "title": "4.6. Code points" }], "url": "#ascii-uppercase" },
                "ascii-whitespace": { "dfnID": "ascii-whitespace", "dfnText": "ASCII whitespace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ascii-whitespace" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-ascii-whitespace\u2460" }, { "id": "ref-for-ascii-whitespace\u2461" }, { "id": "ref-for-ascii-whitespace\u2462" }, { "id": "ref-for-ascii-whitespace\u2463" }, { "id": "ref-for-ascii-whitespace\u2464" }, { "id": "ref-for-ascii-whitespace\u2465" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-ascii-whitespace\u2466" }], "title": "7. Forgiving base64" }], "url": "#ascii-whitespace" },
                "assert": { "dfnID": "assert", "dfnText": "Assert", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-assert" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-assert\u2460" }], "title": "3.10. Assertions" }, { "refs": [{ "id": "ref-for-assert\u2461" }, { "id": "ref-for-assert\u2462" }, { "id": "ref-for-assert\u2463" }, { "id": "ref-for-assert\u2464" }, { "id": "ref-for-assert\u2465" }, { "id": "ref-for-assert\u2466" }, { "id": "ref-for-assert\u2467" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-assert\u2468" }, { "id": "ref-for-assert\u2460\u24ea" }, { "id": "ref-for-assert\u2460\u2460" }, { "id": "ref-for-assert\u2460\u2461" }, { "id": "ref-for-assert\u2460\u2462" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-assert\u2460\u2463" }], "title": "6. JSON" }], "url": "#assert" },
                "b0fcb8d7": { "dfnID": "b0fcb8d7", "dfnText": "UTF-8 decode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2460" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2461" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2462" }, { "id": "ref-for-utf-8-decode\u2463" }], "title": "6. JSON" }], "url": "https://encoding.spec.whatwg.org/#utf-8-decode" },
                "b7ef7f32": { "dfnID": "b7ef7f32", "dfnText": "sort()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-array.prototype.sort" }], "title": "4.7. Strings" }], "url": "https://tc39.github.io/ecma262/#sec-array.prototype.sort" },
                "boolean": { "dfnID": "boolean", "dfnText": "boolean", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-boolean" }, { "id": "ref-for-boolean\u2460" }], "title": "3.4. Parameters" }, { "refs": [{ "id": "ref-for-boolean\u2461" }, { "id": "ref-for-boolean\u2462" }, { "id": "ref-for-boolean\u2463" }, { "id": "ref-for-boolean\u2464" }], "title": "6. JSON" }], "url": "#boolean" },
                "byte": { "dfnID": "byte", "dfnText": "byte", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte" }, { "id": "ref-for-byte\u2460" }, { "id": "ref-for-byte\u2461" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-byte\u2462" }, { "id": "ref-for-byte\u2463" }, { "id": "ref-for-byte\u2464" }, { "id": "ref-for-byte\u2465" }, { "id": "ref-for-byte\u2466" }, { "id": "ref-for-byte\u2467" }, { "id": "ref-for-byte\u2468" }, { "id": "ref-for-byte\u2460\u24ea" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-byte\u2460\u2460" }], "title": "4.7. Strings" }], "url": "#byte" },
                "byte-case-insensitive": { "dfnID": "byte-case-insensitive", "dfnText": "byte-case-insensitive", "external": false, "refSections": [], "url": "#byte-case-insensitive" },
                "byte-less-than": { "dfnID": "byte-less-than", "dfnText": "byte less than", "external": false, "refSections": [], "url": "#byte-less-than" },
                "byte-lowercase": { "dfnID": "byte-lowercase", "dfnText": "byte-lowercase", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-lowercase" }, { "id": "ref-for-byte-lowercase\u2460" }], "title": "4.5. Byte sequences" }], "url": "#byte-lowercase" },
                "byte-sequence": { "dfnID": "byte-sequence", "dfnText": "byte sequence", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }, { "id": "ref-for-byte-sequence\u2460" }, { "id": "ref-for-byte-sequence\u2461" }], "title": "3.3. Declaration" }, { "refs": [{ "id": "ref-for-byte-sequence\u2462" }, { "id": "ref-for-byte-sequence\u2463" }, { "id": "ref-for-byte-sequence\u2464" }, { "id": "ref-for-byte-sequence\u2465" }, { "id": "ref-for-byte-sequence\u2466" }, { "id": "ref-for-byte-sequence\u2467" }, { "id": "ref-for-byte-sequence\u2468" }, { "id": "ref-for-byte-sequence\u2460\u24ea" }, { "id": "ref-for-byte-sequence\u2460\u2460" }, { "id": "ref-for-byte-sequence\u2460\u2461" }, { "id": "ref-for-byte-sequence\u2460\u2462" }, { "id": "ref-for-byte-sequence\u2460\u2463" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u2464" }, { "id": "ref-for-byte-sequence\u2460\u2465" }, { "id": "ref-for-byte-sequence\u2460\u2466" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u2467" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u2468" }, { "id": "ref-for-byte-sequence\u2461\u24ea" }], "title": "6. JSON" }, { "refs": [{ "id": "ref-for-byte-sequence\u2461\u2460" }, { "id": "ref-for-byte-sequence\u2461\u2461" }], "title": "7. Forgiving base64" }], "url": "#byte-sequence" },
                "byte-sequence-length": { "dfnID": "byte-sequence-length", "dfnText": "length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-length" }, { "id": "ref-for-byte-sequence-length\u2460" }, { "id": "ref-for-byte-sequence-length\u2461" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2462" }], "title": "4.7. Strings" }], "url": "#byte-sequence-length" },
                "byte-sequence-prefix": { "dfnID": "byte-sequence-prefix", "dfnText": "prefix", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-prefix" }, { "id": "ref-for-byte-sequence-prefix\u2460" }, { "id": "ref-for-byte-sequence-prefix\u2461" }], "title": "4.5. Byte sequences" }], "url": "#byte-sequence-prefix" },
                "byte-sequence-starts-with": { "dfnID": "byte-sequence-starts-with", "dfnText": "starts with", "external": false, "refSections": [], "url": "#byte-sequence-starts-with" },
                "byte-uppercase": { "dfnID": "byte-uppercase", "dfnText": "byte-uppercase", "external": false, "refSections": [], "url": "#byte-uppercase" },
                "byte-value": { "dfnID": "byte-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-value" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-byte-value\u2460" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-byte-value\u2461" }], "title": "4.7. Strings" }], "url": "#byte-value" },
                "c0-control": { "dfnID": "c0-control", "dfnText": "C0 control", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-c0-control" }, { "id": "ref-for-c0-control\u2460" }], "title": "4.6. Code points" }], "url": "#c0-control" },
                "c0-control-or-space": { "dfnID": "c0-control-or-space", "dfnText": "C0 control or space", "external": false, "refSections": [], "url": "#c0-control-or-space" },
                "ca4a8997": { "dfnID": "ca4a8997", "dfnText": "%JSON.stringify%", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-json.stringify" }, { "id": "ref-for-sec-json.stringify\u2460" }, { "id": "ref-for-sec-json.stringify\u2461" }, { "id": "ref-for-sec-json.stringify\u2462" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-json.stringify" },
                "cb213548": { "dfnID": "cb213548", "dfnText": "OrdinaryObjectCreate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ordinaryobjectcreate" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ordinaryobjectcreate" },
                "cef3e940": { "dfnID": "cef3e940", "dfnText": "CreateDataPropertyOrThrow", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-createdatapropertyorthrow" }, { "id": "ref-for-sec-createdatapropertyorthrow\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow" },
                "code-point": { "dfnID": "code-point", "dfnText": "code point", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-point" }], "title": "4.4. Bytes" }, { "refs": [{ "id": "ref-for-code-point\u2460" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-code-point\u2461" }, { "id": "ref-for-code-point\u2462" }, { "id": "ref-for-code-point\u2463" }, { "id": "ref-for-code-point\u2464" }, { "id": "ref-for-code-point\u2465" }, { "id": "ref-for-code-point\u2466" }, { "id": "ref-for-code-point\u2467" }, { "id": "ref-for-code-point\u2468" }, { "id": "ref-for-code-point\u2460\u24ea" }, { "id": "ref-for-code-point\u2460\u2460" }, { "id": "ref-for-code-point\u2460\u2461" }, { "id": "ref-for-code-point\u2460\u2462" }, { "id": "ref-for-code-point\u2460\u2463" }, { "id": "ref-for-code-point\u2460\u2464" }, { "id": "ref-for-code-point\u2460\u2465" }, { "id": "ref-for-code-point\u2460\u2466" }, { "id": "ref-for-code-point\u2460\u2467" }, { "id": "ref-for-code-point\u2460\u2468" }, { "id": "ref-for-code-point\u2461\u24ea" }, { "id": "ref-for-code-point\u2461\u2460" }, { "id": "ref-for-code-point\u2461\u2461" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-code-point\u2461\u2462" }, { "id": "ref-for-code-point\u2461\u2463" }, { "id": "ref-for-code-point\u2461\u2464" }, { "id": "ref-for-code-point\u2461\u2465" }, { "id": "ref-for-code-point\u2461\u2466" }, { "id": "ref-for-code-point\u2461\u2467" }, { "id": "ref-for-code-point\u2461\u2468" }, { "id": "ref-for-code-point\u2462\u24ea" }, { "id": "ref-for-code-point\u2462\u2460" }, { "id": "ref-for-code-point\u2462\u2461" }, { "id": "ref-for-code-point\u2462\u2462" }, { "id": "ref-for-code-point\u2462\u2463" }, { "id": "ref-for-code-point\u2462\u2464" }, { "id": "ref-for-code-point\u2462\u2465" }, { "id": "ref-for-code-point\u2462\u2466" }, { "id": "ref-for-code-point\u2462\u2467" }, { "id": "ref-for-code-point\u2462\u2468" }, { "id": "ref-for-code-point\u2463\u24ea" }, { "id": "ref-for-code-point\u2463\u2460" }, { "id": "ref-for-code-point\u2463\u2461" }, { "id": "ref-for-code-point\u2463\u2462" }, { "id": "ref-for-code-point\u2463\u2463" }, { "id": "ref-for-code-point\u2463\u2464" }, { "id": "ref-for-code-point\u2463\u2465" }, { "id": "ref-for-code-point\u2463\u2466" }, { "id": "ref-for-code-point\u2463\u2467" }, { "id": "ref-for-code-point\u2463\u2468" }, { "id": "ref-for-code-point\u2464\u24ea" }, { "id": "ref-for-code-point\u2464\u2460" }, { "id": "ref-for-code-point\u2464\u2461" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-code-point\u2464\u2462" }, { "id": "ref-for-code-point\u2464\u2463" }, { "id": "ref-for-code-point\u2464\u2464" }], "title": "7. Forgiving base64" }], "url": "#code-point" },
                "code-point-substring": { "dfnID": "code-point-substring", "dfnText": "code point substring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-point-substring" }, { "id": "ref-for-code-point-substring\u2460" }, { "id": "ref-for-code-point-substring\u2461" }], "title": "4.7. Strings" }], "url": "#code-point-substring" },
                "code-point-substring-by-positions": { "dfnID": "code-point-substring-by-positions", "dfnText": "code point substring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-point-substring-by-positions" }], "title": "4.7. Strings" }], "url": "#code-point-substring-by-positions" },
                "code-point-substring-to-the-end-of-the-string": { "dfnID": "code-point-substring-to-the-end-of-the-string", "dfnText": "code point substring", "external": false, "refSections": [], "url": "#code-point-substring-to-the-end-of-the-string" },
                "code-point-value": { "dfnID": "code-point-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-point-value" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-code-point-value\u2460" }], "title": "4.7. Strings" }], "url": "#code-point-value" },
                "code-unit": { "dfnID": "code-unit", "dfnText": "code units", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit" }, { "id": "ref-for-code-unit\u2460" }, { "id": "ref-for-code-unit\u2461" }, { "id": "ref-for-code-unit\u2462" }, { "id": "ref-for-code-unit\u2463" }, { "id": "ref-for-code-unit\u2464" }, { "id": "ref-for-code-unit\u2465" }, { "id": "ref-for-code-unit\u2466" }, { "id": "ref-for-code-unit\u2467" }, { "id": "ref-for-code-unit\u2468" }, { "id": "ref-for-code-unit\u2460\u24ea" }, { "id": "ref-for-code-unit\u2460\u2460" }], "title": "4.7. Strings" }], "url": "#code-unit" },
                "code-unit-less-than": { "dfnID": "code-unit-less-than", "dfnText": "code unit less than", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-less-than" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-code-unit-less-than\u2460" }], "title": "5.1. Lists" }], "url": "#code-unit-less-than" },
                "code-unit-prefix": { "dfnID": "code-unit-prefix", "dfnText": "code unit prefix", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-prefix" }, { "id": "ref-for-code-unit-prefix\u2460" }, { "id": "ref-for-code-unit-prefix\u2461" }, { "id": "ref-for-code-unit-prefix\u2462" }], "title": "4.7. Strings" }], "url": "#code-unit-prefix" },
                "code-unit-substring": { "dfnID": "code-unit-substring", "dfnText": "code unit substring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-substring" }, { "id": "ref-for-code-unit-substring\u2460" }, { "id": "ref-for-code-unit-substring\u2461" }, { "id": "ref-for-code-unit-substring\u2462" }], "title": "4.7. Strings" }], "url": "#code-unit-substring" },
                "code-unit-substring-by-positions": { "dfnID": "code-unit-substring-by-positions", "dfnText": "code unit substring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-substring-by-positions" }, { "id": "ref-for-code-unit-substring-by-positions\u2460" }, { "id": "ref-for-code-unit-substring-by-positions\u2461" }], "title": "4.7. Strings" }], "url": "#code-unit-substring-by-positions" },
                "code-unit-substring-to-the-end-of-the-string": { "dfnID": "code-unit-substring-to-the-end-of-the-string", "dfnText": "code unit substring", "external": false, "refSections": [], "url": "#code-unit-substring-to-the-end-of-the-string" },
                "code-unit-suffix": { "dfnID": "code-unit-suffix", "dfnText": "code unit suffix", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-code-unit-suffix" }, { "id": "ref-for-code-unit-suffix\u2460" }], "title": "4.7. Strings" }], "url": "#code-unit-suffix" },
                "collect-a-sequence-of-code-points": { "dfnID": "collect-a-sequence-of-code-points", "dfnText": "collect a sequence of code points", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-collect-a-sequence-of-code-points" }, { "id": "ref-for-collect-a-sequence-of-code-points\u2460" }, { "id": "ref-for-collect-a-sequence-of-code-points\u2461" }, { "id": "ref-for-collect-a-sequence-of-code-points\u2462" }, { "id": "ref-for-collect-a-sequence-of-code-points\u2463" }], "title": "4.7. Strings" }], "url": "#collect-a-sequence-of-code-points" },
                "control": { "dfnID": "control", "dfnText": "control", "external": false, "refSections": [], "url": "#control" },
                "convert-a-json-derived-javascript-value-to-an-infra-value": { "dfnID": "convert-a-json-derived-javascript-value-to-an-infra-value", "dfnText": "convert a JSON-derived JavaScript value to an Infra value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-convert-a-json-derived-javascript-value-to-an-infra-value" }, { "id": "ref-for-convert-a-json-derived-javascript-value-to-an-infra-value\u2460" }, { "id": "ref-for-convert-a-json-derived-javascript-value-to-an-infra-value\u2461" }], "title": "6. JSON" }], "url": "#convert-a-json-derived-javascript-value-to-an-infra-value" },
                "convert-an-infra-value-to-a-json-compatible-javascript-value": { "dfnID": "convert-an-infra-value-to-a-json-compatible-javascript-value", "dfnText": "convert an Infra value to a JSON-compatible JavaScript value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value" }, { "id": "ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value\u2460" }, { "id": "ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value\u2461" }, { "id": "ref-for-convert-an-infra-value-to-a-json-compatible-javascript-value\u2462" }], "title": "6. JSON" }], "url": "#convert-an-infra-value-to-a-json-compatible-javascript-value" },
                "d19654fd": { "dfnID": "d19654fd", "dfnText": "is a Boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-boolean-type" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-boolean-type" },
                "d5bd3770": { "dfnID": "d5bd3770", "dfnText": "ToString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-tostring" }, { "id": "ref-for-sec-tostring\u2460" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-tostring" },
                "d8530df1": { "dfnID": "d8530df1", "dfnText": "ToLength", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-tolength" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#sec-tolength" },
                "db6dbae4": { "dfnID": "db6dbae4", "dfnText": "realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-realm" }], "title": "6. JSON" }], "url": "https://tc39.github.io/ecma262/#realm" },
                "forgiving-base64-decode": { "dfnID": "forgiving-base64-decode", "dfnText": "forgiving-base64 decode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-forgiving-base64-decode" }], "title": "7. Forgiving base64" }], "url": "#forgiving-base64-decode" },
                "forgiving-base64-encode": { "dfnID": "forgiving-base64-encode", "dfnText": "forgiving-base64 encode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-forgiving-base64-encode" }], "title": "7. Forgiving base64" }], "url": "#forgiving-base64-encode" },
                "html-namespace": { "dfnID": "html-namespace", "dfnText": "HTML namespace", "external": false, "refSections": [], "url": "#html-namespace" },
                "if-aborted": { "dfnID": "if-aborted", "dfnText": "if aborted", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-if-aborted" }], "title": "3.7. Conditional abort" }], "url": "#if-aborted" },
                "implementation": { "dfnID": "implementation", "dfnText": "implementation", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-implementation" }, { "id": "ref-for-implementation\u2460" }, { "id": "ref-for-implementation\u2461" }], "title": "2.3. Terminology" }], "url": "#implementation" },
                "implementation-defined": { "dfnID": "implementation-defined", "dfnText": "implementation-defined", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }, { "id": "ref-for-implementation-defined\u2460" }], "title": "2.3. Terminology" }, { "refs": [{ "id": "ref-for-implementation-defined\u2461" }, { "id": "ref-for-implementation-defined\u2462" }, { "id": "ref-for-implementation-defined\u2463" }], "title": "3.2. Avoid limits on algorithm inputs" }], "url": "#implementation-defined" },
                "isomorphic-decode": { "dfnID": "isomorphic-decode", "dfnText": "isomorphic decode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-isomorphic-decode" }], "title": "3.3. Declaration" }, { "refs": [{ "id": "ref-for-isomorphic-decode\u2460" }, { "id": "ref-for-isomorphic-decode\u2461" }], "title": "4.7. Strings" }], "url": "#isomorphic-decode" },
                "isomorphic-encode": { "dfnID": "isomorphic-encode", "dfnText": "isomorphic encode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-isomorphic-encode" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-isomorphic-encode\u2460" }, { "id": "ref-for-isomorphic-encode\u2461" }], "title": "4.7. Strings" }], "url": "#isomorphic-encode" },
                "isomorphic-string": { "dfnID": "isomorphic-string", "dfnText": "isomorphic string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-isomorphic-string" }, { "id": "ref-for-isomorphic-string\u2460" }], "title": "4.7. Strings" }], "url": "#isomorphic-string" },
                "iteration-break": { "dfnID": "iteration-break", "dfnText": "break", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iteration-break" }, { "id": "ref-for-iteration-break\u2460" }], "title": "3.9. Iteration" }], "url": "#iteration-break" },
                "iteration-continue": { "dfnID": "iteration-continue", "dfnText": "continue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }, { "id": "ref-for-iteration-continue\u2460" }], "title": "3.9. Iteration" }], "url": "#iteration-continue" },
                "iteration-while": { "dfnID": "iteration-while", "dfnText": "While", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iteration-while" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-iteration-while\u2460" }, { "id": "ref-for-iteration-while\u2461" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-iteration-while\u2462" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-iteration-while\u2463" }], "title": "5.1.2. Queues" }], "url": "#iteration-while" },
                "javascript-string-convert": { "dfnID": "javascript-string-convert", "dfnText": "convert", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-javascript-string-convert" }], "title": "4.7. Strings" }], "url": "#javascript-string-convert" },
                "leading-surrogate": { "dfnID": "leading-surrogate", "dfnText": "leading surrogate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-leading-surrogate" }], "title": "4.6. Code points" }], "url": "#leading-surrogate" },
                "list": { "dfnID": "list", "dfnText": "list", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-list\u2460" }, { "id": "ref-for-list\u2461" }], "title": "3.7. Conditional abort" }, { "refs": [{ "id": "ref-for-list\u2462" }], "title": "3.8. Conditional statements" }, { "refs": [{ "id": "ref-for-list\u2463" }], "title": "3.9. Iteration" }, { "refs": [{ "id": "ref-for-list\u2464" }, { "id": "ref-for-list\u2465" }, { "id": "ref-for-list\u2466" }, { "id": "ref-for-list\u2467" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list\u2468" }, { "id": "ref-for-list\u2460\u24ea" }, { "id": "ref-for-list\u2460\u2460" }, { "id": "ref-for-list\u2460\u2461" }, { "id": "ref-for-list\u2460\u2462" }, { "id": "ref-for-list\u2460\u2463" }, { "id": "ref-for-list\u2460\u2464" }, { "id": "ref-for-list\u2460\u2465" }, { "id": "ref-for-list\u2460\u2466" }, { "id": "ref-for-list\u2460\u2467" }, { "id": "ref-for-list\u2460\u2468" }, { "id": "ref-for-list\u2461\u24ea" }, { "id": "ref-for-list\u2461\u2460" }, { "id": "ref-for-list\u2461\u2461" }, { "id": "ref-for-list\u2461\u2462" }, { "id": "ref-for-list\u2461\u2463" }, { "id": "ref-for-list\u2461\u2464" }, { "id": "ref-for-list\u2461\u2465" }, { "id": "ref-for-list\u2461\u2466" }, { "id": "ref-for-list\u2461\u2467" }, { "id": "ref-for-list\u2461\u2468" }, { "id": "ref-for-list\u2462\u24ea" }, { "id": "ref-for-list\u2462\u2460" }, { "id": "ref-for-list\u2462\u2461" }, { "id": "ref-for-list\u2462\u2462" }, { "id": "ref-for-list\u2462\u2463" }, { "id": "ref-for-list\u2462\u2464" }, { "id": "ref-for-list\u2462\u2465" }, { "id": "ref-for-list\u2462\u2466" }, { "id": "ref-for-list\u2462\u2467" }, { "id": "ref-for-list\u2462\u2468" }, { "id": "ref-for-list\u2463\u24ea" }, { "id": "ref-for-list\u2463\u2460" }, { "id": "ref-for-list\u2463\u2461" }, { "id": "ref-for-list\u2463\u2462" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list\u2463\u2463" }, { "id": "ref-for-list\u2463\u2464" }, { "id": "ref-for-list\u2463\u2465" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list\u2463\u2466" }, { "id": "ref-for-list\u2463\u2467" }, { "id": "ref-for-list\u2463\u2468" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list\u2464\u24ea" }, { "id": "ref-for-list\u2464\u2460" }, { "id": "ref-for-list\u2464\u2461" }, { "id": "ref-for-list\u2464\u2462" }, { "id": "ref-for-list\u2464\u2463" }, { "id": "ref-for-list\u2464\u2464" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list\u2464\u2465" }, { "id": "ref-for-list\u2464\u2466" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-list\u2464\u2467" }, { "id": "ref-for-list\u2464\u2468" }, { "id": "ref-for-list\u2465\u24ea" }, { "id": "ref-for-list\u2465\u2460" }, { "id": "ref-for-list\u2465\u2461" }], "title": "6. JSON" }], "url": "#list" },
                "list-append": { "dfnID": "list-append", "dfnText": "append", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }, { "id": "ref-for-list-append\u2460" }, { "id": "ref-for-list-append\u2461" }, { "id": "ref-for-list-append\u2462" }, { "id": "ref-for-list-append\u2463" }, { "id": "ref-for-list-append\u2464" }, { "id": "ref-for-list-append\u2465" }, { "id": "ref-for-list-append\u2466" }], "title": "3.7. Conditional abort" }, { "refs": [{ "id": "ref-for-list-append\u2467" }, { "id": "ref-for-list-append\u2468" }, { "id": "ref-for-list-append\u2460\u24ea" }, { "id": "ref-for-list-append\u2460\u2460" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2461" }, { "id": "ref-for-list-append\u2460\u2462" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2463" }, { "id": "ref-for-list-append\u2460\u2464" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2465" }, { "id": "ref-for-list-append\u2460\u2466" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2467" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2468" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-list-append\u2461\u24ea" }], "title": "6. JSON" }], "url": "#list-append" },
                "list-clone": { "dfnID": "list-clone", "dfnText": "clone", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-clone" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-clone\u2460" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list-clone\u2461" }], "title": "5.2. Maps" }], "url": "#list-clone" },
                "list-contain": { "dfnID": "list-contain", "dfnText": "contains", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }, { "id": "ref-for-list-contain\u2461" }, { "id": "ref-for-list-contain\u2462" }, { "id": "ref-for-list-contain\u2463" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-contain\u2464" }, { "id": "ref-for-list-contain\u2465" }, { "id": "ref-for-list-contain\u2466" }, { "id": "ref-for-list-contain\u2467" }, { "id": "ref-for-list-contain\u2468" }, { "id": "ref-for-list-contain\u2460\u24ea" }], "title": "5.1.3. Sets" }], "url": "#list-contain" },
                "list-empty": { "dfnID": "list-empty", "dfnText": "empty", "external": false, "refSections": [], "url": "#list-empty" },
                "list-extend": { "dfnID": "list-extend", "dfnText": "extend", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-extend" }], "title": "5.1. Lists" }], "url": "#list-extend" },
                "list-get-the-indices": { "dfnID": "list-get-the-indices", "dfnText": "get the indices", "external": false, "refSections": [], "url": "#list-get-the-indices" },
                "list-insert": { "dfnID": "list-insert", "dfnText": "insert", "external": false, "refSections": [], "url": "#list-insert" },
                "list-is-empty": { "dfnID": "list-is-empty", "dfnText": "is empty", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list-is-empty\u2460" }, { "id": "ref-for-list-is-empty\u2461" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-is-empty\u2462" }], "title": "5.1.2. Queues" }], "url": "#list-is-empty" },
                "list-item": { "dfnID": "list-item", "dfnText": "items", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list-item\u2460" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-list-item\u2461" }, { "id": "ref-for-list-item\u2462" }, { "id": "ref-for-list-item\u2463" }, { "id": "ref-for-list-item\u2464" }, { "id": "ref-for-list-item\u2465" }, { "id": "ref-for-list-item\u2466" }, { "id": "ref-for-list-item\u2467" }, { "id": "ref-for-list-item\u2468" }, { "id": "ref-for-list-item\u2460\u24ea" }, { "id": "ref-for-list-item\u2460\u2460" }, { "id": "ref-for-list-item\u2460\u2461" }, { "id": "ref-for-list-item\u2460\u2462" }, { "id": "ref-for-list-item\u2460\u2463" }, { "id": "ref-for-list-item\u2460\u2464" }, { "id": "ref-for-list-item\u2460\u2465" }, { "id": "ref-for-list-item\u2460\u2466" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-item\u2460\u2467" }, { "id": "ref-for-list-item\u2460\u2468" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-item\u2461\u24ea" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-item\u2461\u2460" }, { "id": "ref-for-list-item\u2461\u2461" }, { "id": "ref-for-list-item\u2461\u2462" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list-item\u2461\u2463" }, { "id": "ref-for-list-item\u2461\u2464" }], "title": "5.2. Maps" }], "url": "#list-item" },
                "list-iterate": { "dfnID": "list-iterate", "dfnText": "iterate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }, { "id": "ref-for-list-iterate\u2460" }, { "id": "ref-for-list-iterate\u2461" }, { "id": "ref-for-list-iterate\u2462" }], "title": "3.9. Iteration" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }, { "id": "ref-for-list-iterate\u2464" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-list-iterate\u2465" }, { "id": "ref-for-list-iterate\u2466" }, { "id": "ref-for-list-iterate\u2467" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-iterate\u2468" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u24ea" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2460" }, { "id": "ref-for-list-iterate\u2460\u2461" }, { "id": "ref-for-list-iterate\u2460\u2462" }, { "id": "ref-for-list-iterate\u2460\u2463" }, { "id": "ref-for-list-iterate\u2460\u2464" }, { "id": "ref-for-list-iterate\u2460\u2465" }, { "id": "ref-for-list-iterate\u2460\u2466" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2467" }, { "id": "ref-for-list-iterate\u2460\u2468" }, { "id": "ref-for-list-iterate\u2461\u24ea" }, { "id": "ref-for-list-iterate\u2461\u2460" }], "title": "6. JSON" }], "url": "#list-iterate" },
                "list-prepend": { "dfnID": "list-prepend", "dfnText": "prepend", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-prepend" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-prepend\u2460" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-prepend\u2461" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-prepend\u2462" }], "title": "5.1.3. Sets" }], "url": "#list-prepend" },
                "list-remove": { "dfnID": "list-remove", "dfnText": "remove", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }, { "id": "ref-for-list-remove\u2460" }, { "id": "ref-for-list-remove\u2461" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-remove\u2462" }, { "id": "ref-for-list-remove\u2463" }], "title": "5.1.1. Stacks" }, { "refs": [{ "id": "ref-for-list-remove\u2464" }, { "id": "ref-for-list-remove\u2465" }], "title": "5.1.2. Queues" }, { "refs": [{ "id": "ref-for-list-remove\u2466" }], "title": "5.1.3. Sets" }], "url": "#list-remove" },
                "list-replace": { "dfnID": "list-replace", "dfnText": "replace", "external": false, "refSections": [], "url": "#list-replace" },
                "list-size": { "dfnID": "list-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-size" }, { "id": "ref-for-list-size\u2460" }, { "id": "ref-for-list-size\u2461" }, { "id": "ref-for-list-size\u2462" }, { "id": "ref-for-list-size\u2463" }, { "id": "ref-for-list-size\u2464" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-list-size\u2465" }], "title": "5.2. Maps" }], "url": "#list-size" },
                "list-sort-in-ascending-order": { "dfnID": "list-sort-in-ascending-order", "dfnText": "sort in ascending order", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-sort-in-ascending-order" }], "title": "5.1. Lists" }], "url": "#list-sort-in-ascending-order" },
                "list-sort-in-descending-order": { "dfnID": "list-sort-in-descending-order", "dfnText": "sort in descending order", "external": false, "refSections": [], "url": "#list-sort-in-descending-order" },
                "map-clear": { "dfnID": "map-clear", "dfnText": "clear", "external": false, "refSections": [], "url": "#map-clear" },
                "map-clone": { "dfnID": "map-clone", "dfnText": "clone", "external": false, "refSections": [], "url": "#map-clone" },
                "map-entry": { "dfnID": "map-entry", "dfnText": "entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-entry" }, { "id": "ref-for-map-entry\u2460" }, { "id": "ref-for-map-entry\u2461" }, { "id": "ref-for-map-entry\u2462" }, { "id": "ref-for-map-entry\u2463" }, { "id": "ref-for-map-entry\u2464" }, { "id": "ref-for-map-entry\u2465" }, { "id": "ref-for-map-entry\u2466" }, { "id": "ref-for-map-entry\u2467" }, { "id": "ref-for-map-entry\u2468" }, { "id": "ref-for-map-entry\u2460\u24ea" }], "title": "5.2. Maps" }], "url": "#map-entry" },
                "map-exists": { "dfnID": "map-exists", "dfnText": "contains an\nentry with a given key", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }, { "id": "ref-for-map-exists\u2460" }, { "id": "ref-for-map-exists\u2461" }, { "id": "ref-for-map-exists\u2462" }, { "id": "ref-for-map-exists\u2463" }], "title": "5.2. Maps" }], "url": "#map-exists" },
                "map-get": { "dfnID": "map-get", "dfnText": "get the value of an entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-get" }], "title": "5.2. Maps" }], "url": "#map-get" },
                "map-getting-the-keys": { "dfnID": "map-getting-the-keys", "dfnText": "get the keys", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-keys" }, { "id": "ref-for-map-getting-the-keys\u2460" }, { "id": "ref-for-map-getting-the-keys\u2461" }], "title": "5.2. Maps" }], "url": "#map-getting-the-keys" },
                "map-getting-the-values": { "dfnID": "map-getting-the-values", "dfnText": "get the values", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-values" }, { "id": "ref-for-map-getting-the-values\u2460" }], "title": "5.2. Maps" }], "url": "#map-getting-the-values" },
                "map-is-empty": { "dfnID": "map-is-empty", "dfnText": "is empty", "external": false, "refSections": [], "url": "#map-is-empty" },
                "map-iterate": { "dfnID": "map-iterate", "dfnText": "iterate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-iterate" }], "title": "3.9. Iteration" }, { "refs": [{ "id": "ref-for-map-iterate\u2460" }, { "id": "ref-for-map-iterate\u2461" }], "title": "5.2. Maps" }], "url": "#map-iterate" },
                "map-key": { "dfnID": "map-key", "dfnText": "key", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-key" }, { "id": "ref-for-map-key\u2460" }, { "id": "ref-for-map-key\u2461" }, { "id": "ref-for-map-key\u2462" }, { "id": "ref-for-map-key\u2463" }, { "id": "ref-for-map-key\u2464" }], "title": "5.2. Maps" }], "url": "#map-key" },
                "map-remove": { "dfnID": "map-remove", "dfnText": "remove an entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-remove" }], "title": "5.2. Maps" }], "url": "#map-remove" },
                "map-set": { "dfnID": "map-set", "dfnText": "set the value of an entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-set" }, { "id": "ref-for-map-set\u2460" }, { "id": "ref-for-map-set\u2461" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-map-set\u2462" }], "title": "6. JSON" }], "url": "#map-set" },
                "map-size": { "dfnID": "map-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-size" }], "title": "5.2. Maps" }], "url": "#map-size" },
                "map-sort-in-ascending-order": { "dfnID": "map-sort-in-ascending-order", "dfnText": "sort in ascending order", "external": false, "refSections": [], "url": "#map-sort-in-ascending-order" },
                "map-sort-in-descending-order": { "dfnID": "map-sort-in-descending-order", "dfnText": "sort in descending order", "external": false, "refSections": [], "url": "#map-sort-in-descending-order" },
                "map-value": { "dfnID": "map-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-value" }, { "id": "ref-for-map-value\u2460" }, { "id": "ref-for-map-value\u2461" }], "title": "5.2. Maps" }], "url": "#map-value" },
                "map-with-default": { "dfnID": "map-with-default", "dfnText": "with default", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-map-with-default" }, { "id": "ref-for-map-with-default\u2460" }], "title": "5.2. Maps" }], "url": "#map-with-default" },
                "mathml-namespace": { "dfnID": "mathml-namespace", "dfnText": "MathML namespace", "external": false, "refSections": [], "url": "#mathml-namespace" },
                "noncharacter": { "dfnID": "noncharacter", "dfnText": "noncharacter", "external": false, "refSections": [], "url": "#noncharacter" },
                "normalize-newlines": { "dfnID": "normalize-newlines", "dfnText": "normalize newlines", "external": false, "refSections": [], "url": "#normalize-newlines" },
                "ordered-map": { "dfnID": "ordered-map", "dfnText": "ordered map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-ordered-map\u2460" }, { "id": "ref-for-ordered-map\u2461" }, { "id": "ref-for-ordered-map\u2462" }, { "id": "ref-for-ordered-map\u2463" }, { "id": "ref-for-ordered-map\u2464" }, { "id": "ref-for-ordered-map\u2465" }, { "id": "ref-for-ordered-map\u2466" }, { "id": "ref-for-ordered-map\u2467" }, { "id": "ref-for-ordered-map\u2468" }, { "id": "ref-for-ordered-map\u2460\u24ea" }, { "id": "ref-for-ordered-map\u2460\u2460" }, { "id": "ref-for-ordered-map\u2460\u2461" }, { "id": "ref-for-ordered-map\u2460\u2462" }, { "id": "ref-for-ordered-map\u2460\u2463" }, { "id": "ref-for-ordered-map\u2460\u2464" }, { "id": "ref-for-ordered-map\u2460\u2465" }, { "id": "ref-for-ordered-map\u2460\u2466" }, { "id": "ref-for-ordered-map\u2460\u2467" }, { "id": "ref-for-ordered-map\u2460\u2468" }, { "id": "ref-for-ordered-map\u2461\u24ea" }, { "id": "ref-for-ordered-map\u2461\u2460" }, { "id": "ref-for-ordered-map\u2461\u2461" }, { "id": "ref-for-ordered-map\u2461\u2462" }, { "id": "ref-for-ordered-map\u2461\u2463" }, { "id": "ref-for-ordered-map\u2461\u2464" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-ordered-map\u2461\u2465" }, { "id": "ref-for-ordered-map\u2461\u2466" }, { "id": "ref-for-ordered-map\u2461\u2467" }, { "id": "ref-for-ordered-map\u2461\u2468" }, { "id": "ref-for-ordered-map\u2462\u24ea" }], "title": "6. JSON" }], "url": "#ordered-map" },
                "ordered-set": { "dfnID": "ordered-set", "dfnText": "ordered sets", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-ordered-set\u2460" }, { "id": "ref-for-ordered-set\u2461" }, { "id": "ref-for-ordered-set\u2462" }, { "id": "ref-for-ordered-set\u2463" }, { "id": "ref-for-ordered-set\u2464" }, { "id": "ref-for-ordered-set\u2465" }, { "id": "ref-for-ordered-set\u2466" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-ordered-set\u2467" }, { "id": "ref-for-ordered-set\u2468" }, { "id": "ref-for-ordered-set\u2460\u24ea" }, { "id": "ref-for-ordered-set\u2460\u2460" }, { "id": "ref-for-ordered-set\u2460\u2461" }, { "id": "ref-for-ordered-set\u2460\u2462" }, { "id": "ref-for-ordered-set\u2460\u2463" }, { "id": "ref-for-ordered-set\u2460\u2464" }, { "id": "ref-for-ordered-set\u2460\u2465" }, { "id": "ref-for-ordered-set\u2460\u2466" }, { "id": "ref-for-ordered-set\u2460\u2467" }, { "id": "ref-for-ordered-set\u2460\u2468" }, { "id": "ref-for-ordered-set\u2461\u24ea" }, { "id": "ref-for-ordered-set\u2461\u2460" }, { "id": "ref-for-ordered-set\u2461\u2461" }, { "id": "ref-for-ordered-set\u2461\u2462" }, { "id": "ref-for-ordered-set\u2461\u2463" }, { "id": "ref-for-ordered-set\u2461\u2464" }, { "id": "ref-for-ordered-set\u2461\u2465" }, { "id": "ref-for-ordered-set\u2461\u2466" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-ordered-set\u2461\u2467" }, { "id": "ref-for-ordered-set\u2461\u2468" }], "title": "5.2. Maps" }], "url": "#ordered-set" },
                "parse-a-json-string-to-a-javascript-value": { "dfnID": "parse-a-json-string-to-a-javascript-value", "dfnText": "parse a JSON string to a JavaScript value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-parse-a-json-string-to-a-javascript-value" }], "title": "6. JSON" }], "url": "#parse-a-json-string-to-a-javascript-value" },
                "parse-a-json-string-to-an-infra-value": { "dfnID": "parse-a-json-string-to-an-infra-value", "dfnText": "parse a JSON string to an Infra value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-parse-a-json-string-to-an-infra-value" }], "title": "6. JSON" }], "url": "#parse-a-json-string-to-an-infra-value" },
                "parse-json-bytes-to-a-javascript-value": { "dfnID": "parse-json-bytes-to-a-javascript-value", "dfnText": "parse JSON bytes to a JavaScript value", "external": false, "refSections": [], "url": "#parse-json-bytes-to-a-javascript-value" },
                "parse-json-bytes-to-an-infra-value": { "dfnID": "parse-json-bytes-to-an-infra-value", "dfnText": "parse JSON bytes to an Infra value", "external": false, "refSections": [], "url": "#parse-json-bytes-to-an-infra-value" },
                "queue": { "dfnID": "queue", "dfnText": "queues", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-queue" }, { "id": "ref-for-queue\u2460" }, { "id": "ref-for-queue\u2461" }, { "id": "ref-for-queue\u2462" }], "title": "5.1.2. Queues" }], "url": "#queue" },
                "queue-dequeue": { "dfnID": "queue-dequeue", "dfnText": "dequeue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-queue-dequeue" }], "title": "5.1.2. Queues" }], "url": "#queue-dequeue" },
                "queue-enqueue": { "dfnID": "queue-enqueue", "dfnText": "enqueue", "external": false, "refSections": [], "url": "#queue-enqueue" },
                "scalar-value": { "dfnID": "scalar-value", "dfnText": "scalar value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value" }, { "id": "ref-for-scalar-value\u2460" }, { "id": "ref-for-scalar-value\u2461" }], "title": "4.7. Strings" }], "url": "#scalar-value" },
                "scalar-value-string": { "dfnID": "scalar-value-string", "dfnText": "scalar value string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value-string" }, { "id": "ref-for-scalar-value-string\u2460" }, { "id": "ref-for-scalar-value-string\u2461" }, { "id": "ref-for-scalar-value-string\u2462" }, { "id": "ref-for-scalar-value-string\u2463" }, { "id": "ref-for-scalar-value-string\u2464" }, { "id": "ref-for-scalar-value-string\u2465" }], "title": "4.7. Strings" }], "url": "#scalar-value-string" },
                "serialize-a-javascript-value-to-a-json-string": { "dfnID": "serialize-a-javascript-value-to-a-json-string", "dfnText": "serialize a JavaScript value to a JSON string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serialize-a-javascript-value-to-a-json-string" }], "title": "6. JSON" }], "url": "#serialize-a-javascript-value-to-a-json-string" },
                "serialize-a-javascript-value-to-json-bytes": { "dfnID": "serialize-a-javascript-value-to-json-bytes", "dfnText": "serialize a JavaScript value to JSON bytes", "external": false, "refSections": [], "url": "#serialize-a-javascript-value-to-json-bytes" },
                "serialize-an-infra-value-to-a-json-string": { "dfnID": "serialize-an-infra-value-to-a-json-string", "dfnText": "serialize an Infra value to a JSON string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serialize-an-infra-value-to-a-json-string" }, { "id": "ref-for-serialize-an-infra-value-to-a-json-string\u2460" }], "title": "6. JSON" }], "url": "#serialize-an-infra-value-to-a-json-string" },
                "serialize-an-infra-value-to-json-bytes": { "dfnID": "serialize-an-infra-value-to-json-bytes", "dfnText": "serialize an Infra value to JSON bytes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serialize-an-infra-value-to-json-bytes" }], "title": "6. JSON" }], "url": "#serialize-an-infra-value-to-json-bytes" },
                "set-append": { "dfnID": "set-append", "dfnText": "append", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "5. Data structures" }, { "refs": [{ "id": "ref-for-set-append\u2460" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-set-append\u2461" }, { "id": "ref-for-set-append\u2462" }, { "id": "ref-for-set-append\u2463" }, { "id": "ref-for-set-append\u2464" }, { "id": "ref-for-set-append\u2465" }], "title": "5.1.3. Sets" }], "url": "#set-append" },
                "set-create": { "dfnID": "set-create", "dfnText": "create", "external": false, "refSections": [], "url": "#set-create" },
                "set-difference": { "dfnID": "set-difference", "dfnText": "difference", "external": false, "refSections": [], "url": "#set-difference" },
                "set-equal": { "dfnID": "set-equal", "dfnText": "equal", "external": false, "refSections": [], "url": "#set-equal" },
                "set-extend": { "dfnID": "set-extend", "dfnText": "extend", "external": false, "refSections": [], "url": "#set-extend" },
                "set-intersection": { "dfnID": "set-intersection", "dfnText": "intersection", "external": false, "refSections": [], "url": "#set-intersection" },
                "set-prepend": { "dfnID": "set-prepend", "dfnText": "prepend", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-prepend" }], "title": "5.1. Lists" }], "url": "#set-prepend" },
                "set-replace": { "dfnID": "set-replace", "dfnText": "replace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-replace" }, { "id": "ref-for-set-replace\u2460" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-set-replace\u2461" }], "title": "5.1.3. Sets" }], "url": "#set-replace" },
                "set-subset": { "dfnID": "set-subset", "dfnText": "subset", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-subset" }, { "id": "ref-for-set-subset\u2460" }], "title": "5.1.3. Sets" }], "url": "#set-subset" },
                "set-superset": { "dfnID": "set-superset", "dfnText": "superset", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-superset" }, { "id": "ref-for-set-superset\u2460" }], "title": "5.1.3. Sets" }], "url": "#set-superset" },
                "set-union": { "dfnID": "set-union", "dfnText": "union", "external": false, "refSections": [], "url": "#set-union" },
                "skip-ascii-whitespace": { "dfnID": "skip-ascii-whitespace", "dfnText": "skip ASCII whitespace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-skip-ascii-whitespace" }, { "id": "ref-for-skip-ascii-whitespace\u2460" }], "title": "4.7. Strings" }], "url": "#skip-ascii-whitespace" },
                "split-on-ascii-whitespace": { "dfnID": "split-on-ascii-whitespace", "dfnText": "split a\nstring input on ASCII whitespace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-split-on-ascii-whitespace" }], "title": "4.7. Strings" }], "url": "#split-on-ascii-whitespace" },
                "split-on-commas": { "dfnID": "split-on-commas", "dfnText": "split a string\ninput on commas", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-split-on-commas" }], "title": "4.7. Strings" }], "url": "#split-on-commas" },
                "stack": { "dfnID": "stack", "dfnText": "stacks", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-stack" }, { "id": "ref-for-stack\u2460" }, { "id": "ref-for-stack\u2461" }, { "id": "ref-for-stack\u2462" }, { "id": "ref-for-stack\u2463" }, { "id": "ref-for-stack\u2464" }], "title": "5.1.1. Stacks" }], "url": "#stack" },
                "stack-peek": { "dfnID": "stack-peek", "dfnText": "peek", "external": false, "refSections": [], "url": "#stack-peek" },
                "stack-pop": { "dfnID": "stack-pop", "dfnText": "pop", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-stack-pop" }], "title": "5.1.1. Stacks" }], "url": "#stack-pop" },
                "stack-push": { "dfnID": "stack-push", "dfnText": "push", "external": false, "refSections": [], "url": "#stack-push" },
                "strictly-split": { "dfnID": "strictly-split", "dfnText": "strictly split a string", "external": false, "refSections": [], "url": "#strictly-split" },
                "string": { "dfnID": "string", "dfnText": "string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string" }], "title": "3.3. Declaration" }, { "refs": [{ "id": "ref-for-string\u2460" }, { "id": "ref-for-string\u2461" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-string\u2462" }, { "id": "ref-for-string\u2463" }, { "id": "ref-for-string\u2464" }, { "id": "ref-for-string\u2465" }], "title": "3.8. Conditional statements" }, { "refs": [{ "id": "ref-for-string\u2466" }, { "id": "ref-for-string\u2467" }, { "id": "ref-for-string\u2468" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-string\u2460\u24ea" }, { "id": "javascript-string" }, { "id": "ref-for-string\u2460\u2460" }, { "id": "ref-for-string\u2460\u2461" }, { "id": "ref-for-string\u2460\u2462" }, { "id": "ref-for-string\u2460\u2463" }, { "id": "ref-for-string\u2460\u2464" }, { "id": "ref-for-string\u2460\u2465" }, { "id": "ref-for-string\u2460\u2466" }, { "id": "ref-for-string\u2460\u2467" }, { "id": "ref-for-string\u2460\u2468" }, { "id": "ref-for-string\u2461\u24ea" }, { "id": "ref-for-string\u2461\u2460" }, { "id": "ref-for-string\u2461\u2461" }, { "id": "ref-for-string\u2461\u2462" }, { "id": "ref-for-string\u2461\u2463" }, { "id": "ref-for-string\u2461\u2464" }, { "id": "ref-for-string\u2461\u2465" }, { "id": "ref-for-string\u2461\u2466" }, { "id": "ref-for-string\u2461\u2467" }, { "id": "ref-for-string\u2461\u2468" }, { "id": "ref-for-string\u2462\u24ea" }, { "id": "ref-for-string\u2462\u2460" }, { "id": "ref-for-string\u2462\u2461" }, { "id": "ref-for-string\u2462\u2462" }, { "id": "ref-for-string\u2462\u2463" }, { "id": "ref-for-string\u2462\u2464" }, { "id": "ref-for-string\u2462\u2465" }, { "id": "ref-for-string\u2462\u2466" }, { "id": "ref-for-string\u2462\u2467" }, { "id": "ref-for-string\u2462\u2468" }, { "id": "ref-for-string\u2463\u24ea" }, { "id": "ref-for-string\u2463\u2460" }, { "id": "ref-for-string\u2463\u2461" }, { "id": "ref-for-string\u2463\u2462" }, { "id": "ref-for-string\u2463\u2463" }, { "id": "ref-for-string\u2463\u2464" }, { "id": "ref-for-string\u2463\u2465" }, { "id": "ref-for-string\u2463\u2466" }, { "id": "ref-for-string\u2463\u2467" }, { "id": "ref-for-string\u2463\u2468" }, { "id": "ref-for-string\u2464\u24ea" }, { "id": "ref-for-string\u2464\u2460" }, { "id": "ref-for-string\u2464\u2461" }, { "id": "ref-for-string\u2464\u2462" }, { "id": "ref-for-string\u2464\u2463" }, { "id": "ref-for-string\u2464\u2464" }, { "id": "ref-for-string\u2464\u2465" }, { "id": "ref-for-string\u2464\u2466" }, { "id": "ref-for-string\u2464\u2467" }, { "id": "ref-for-string\u2464\u2468" }, { "id": "ref-for-string\u2465\u24ea" }, { "id": "ref-for-string\u2465\u2460" }, { "id": "ref-for-string\u2465\u2461" }, { "id": "ref-for-string\u2465\u2462" }, { "id": "ref-for-string\u2465\u2463" }, { "id": "ref-for-string\u2465\u2464" }, { "id": "ref-for-string\u2465\u2465" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-string\u2465\u2466" }, { "id": "ref-for-string\u2465\u2467" }, { "id": "ref-for-string\u2465\u2468" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-string\u2466\u24ea" }, { "id": "ref-for-string\u2466\u2460" }, { "id": "ref-for-string\u2466\u2461" }, { "id": "ref-for-string\u2466\u2462" }, { "id": "ref-for-string\u2466\u2463" }, { "id": "ref-for-string\u2466\u2464" }, { "id": "ref-for-string\u2466\u2465" }, { "id": "ref-for-string\u2466\u2466" }, { "id": "ref-for-string\u2466\u2467" }, { "id": "ref-for-string\u2466\u2468" }], "title": "6. JSON" }], "url": "#string" },
                "string-code-point-length": { "dfnID": "string-code-point-length", "dfnText": "code point length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-code-point-length" }], "title": "4.5. Byte sequences" }, { "refs": [{ "id": "ref-for-string-code-point-length\u2460" }, { "id": "ref-for-string-code-point-length\u2461" }, { "id": "ref-for-string-code-point-length\u2462" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-string-code-point-length\u2463" }, { "id": "ref-for-string-code-point-length\u2464" }], "title": "7. Forgiving base64" }], "url": "#string-code-point-length" },
                "string-concatenate": { "dfnID": "string-concatenate", "dfnText": "concatenate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-concatenate" }], "title": "4.7. Strings" }], "url": "#string-concatenate" },
                "string-ends-with": { "dfnID": "string-ends-with", "dfnText": "ends with", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-ends-with" }], "title": "4.7. Strings" }], "url": "#string-ends-with" },
                "string-is": { "dfnID": "string-is", "dfnText": "is", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-is" }, { "id": "ref-for-string-is\u2460" }, { "id": "ref-for-string-is\u2461" }, { "id": "ref-for-string-is\u2462" }], "title": "4.7. Strings" }], "url": "#string-is" },
                "string-length": { "dfnID": "string-length", "dfnText": "length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-length" }, { "id": "ref-for-string-length\u2460" }, { "id": "ref-for-string-length\u2461" }, { "id": "ref-for-string-length\u2462" }, { "id": "ref-for-string-length\u2463" }, { "id": "ref-for-string-length\u2464" }], "title": "4.7. Strings" }], "url": "#string-length" },
                "string-position-variable": { "dfnID": "string-position-variable", "dfnText": "position variable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-position-variable" }, { "id": "ref-for-string-position-variable\u2460" }, { "id": "ref-for-string-position-variable\u2461" }, { "id": "ref-for-string-position-variable\u2462" }, { "id": "ref-for-string-position-variable\u2463" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-string-position-variable\u2464" }], "title": "7. Forgiving base64" }], "url": "#string-position-variable" },
                "string-starts-with": { "dfnID": "string-starts-with", "dfnText": "starts with", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-string-starts-with" }], "title": "4.7. Strings" }], "url": "#string-starts-with" },
                "strip-and-collapse-ascii-whitespace": { "dfnID": "strip-and-collapse-ascii-whitespace", "dfnText": "strip and collapse ASCII whitespace", "external": false, "refSections": [], "url": "#strip-and-collapse-ascii-whitespace" },
                "strip-leading-and-trailing-ascii-whitespace": { "dfnID": "strip-leading-and-trailing-ascii-whitespace", "dfnText": "strip leading and trailing ASCII whitespace", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-strip-leading-and-trailing-ascii-whitespace" }], "title": "4.7. Strings" }], "url": "#strip-leading-and-trailing-ascii-whitespace" },
                "strip-newlines": { "dfnID": "strip-newlines", "dfnText": "strip newlines", "external": false, "refSections": [], "url": "#strip-newlines" },
                "struct": { "dfnID": "struct", "dfnText": "struct", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-struct" }], "title": "3.4. Parameters" }, { "refs": [{ "id": "ref-for-struct\u2460" }], "title": "5.3. Structs" }, { "refs": [{ "id": "ref-for-struct\u2461" }, { "id": "ref-for-struct\u2462" }], "title": "5.3.1. Tuples" }], "url": "#struct" },
                "struct-item": { "dfnID": "struct-item", "dfnText": "items", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-struct-item" }, { "id": "ref-for-struct-item\u2460" }, { "id": "ref-for-struct-item\u2461" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-struct-item\u2462" }, { "id": "ref-for-struct-item\u2463" }], "title": "5.1. Lists" }, { "refs": [{ "id": "ref-for-struct-item\u2464" }], "title": "5.3. Structs" }, { "refs": [{ "id": "ref-for-struct-item\u2465" }, { "id": "ref-for-struct-item\u2466" }], "title": "5.3.1. Tuples" }], "url": "#struct-item" },
                "struct-name": { "dfnID": "struct-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-struct-name" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-struct-name\u2460" }, { "id": "ref-for-struct-name\u2461" }, { "id": "ref-for-struct-name\u2462" }], "title": "5.3.1. Tuples" }], "url": "#struct-name" },
                "surrogate": { "dfnID": "surrogate", "dfnText": "surrogate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-surrogate" }], "title": "4.6. Code points" }, { "refs": [{ "id": "ref-for-surrogate\u2460" }, { "id": "ref-for-surrogate\u2461" }, { "id": "ref-for-surrogate\u2462" }], "title": "4.7. Strings" }], "url": "#surrogate" },
                "svg-namespace": { "dfnID": "svg-namespace", "dfnText": "SVG namespace", "external": false, "refSections": [], "url": "#svg-namespace" },
                "the-exclusive-range": { "dfnID": "the-exclusive-range", "dfnText": "The range", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-the-exclusive-range" }, { "id": "ref-for-the-exclusive-range\u2460" }], "title": "4.7. Strings" }, { "refs": [{ "id": "ref-for-the-exclusive-range\u2461" }], "title": "5.1. Lists" }], "url": "#the-exclusive-range" },
                "the-range": { "dfnID": "the-range", "dfnText": "The range", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-the-range" }], "title": "5.1.3. Sets" }, { "refs": [{ "id": "ref-for-the-range\u2460" }], "title": "6. JSON" }], "url": "#the-range" },
                "tracking-vector": { "dfnID": "tracking-vector", "dfnText": "tracking vector", "external": false, "refSections": [], "url": "#tracking-vector" },
                "trailing-surrogate": { "dfnID": "trailing-surrogate", "dfnText": "trailing surrogate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trailing-surrogate" }], "title": "4.6. Code points" }], "url": "#trailing-surrogate" },
                "tuple": { "dfnID": "tuple", "dfnText": "tuple", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-tuple" }, { "id": "ref-for-tuple\u2460" }, { "id": "ref-for-tuple\u2461" }], "title": "3.5. Variables" }, { "refs": [{ "id": "ref-for-tuple\u2462" }], "title": "5.2. Maps" }, { "refs": [{ "id": "ref-for-tuple\u2463" }, { "id": "ref-for-tuple\u2464" }, { "id": "ref-for-tuple\u2465" }, { "id": "ref-for-tuple\u2466" }, { "id": "ref-for-tuple\u2467" }, { "id": "ref-for-tuple\u2468" }], "title": "5.3.1. Tuples" }], "url": "#tuple" },
                "user-agent": { "dfnID": "user-agent", "dfnText": "user agent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-user-agent" }, { "id": "ref-for-user-agent\u2460" }], "title": "2.3. Terminology" }], "url": "#user-agent" },
                "willful-violation": { "dfnID": "willful-violation", "dfnText": "willful violation", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-willful-violation" }], "title": "2.1. Conformance" }, { "refs": [{ "id": "ref-for-willful-violation\u2460" }], "title": "2.2. Compliance with other specifications" }], "url": "#willful-violation" },
                "xlink-namespace": { "dfnID": "xlink-namespace", "dfnText": "XLink namespace", "external": false, "refSections": [], "url": "#xlink-namespace" },
                "xml-namespace": { "dfnID": "xml-namespace", "dfnText": "XML namespace", "external": false, "refSections": [], "url": "#xml-namespace" },
                "xmlns-namespace": { "dfnID": "xmlns-namespace", "dfnText": "XMLNS namespace", "external": false, "refSections": [], "url": "#xmlns-namespace" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#128-bit-unsigned-integer": { "displayText": "128-bit unsigned integer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "128-bit unsigned integer", "type": "dfn", "url": "#128-bit-unsigned-integer" },
                "#16-bit-unsigned-integer": { "displayText": "16-bit unsigned integer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "16-bit unsigned integer", "type": "dfn", "url": "#16-bit-unsigned-integer" },
                "#abort-when": { "displayText": "abort when", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "abort when", "type": "dfn", "url": "#abort-when" },
                "#ascii-alpha": { "displayText": "ascii alpha", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii alpha", "type": "dfn", "url": "#ascii-alpha" },
                "#ascii-alphanumeric": { "displayText": "ascii alphanumeric", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii alphanumeric", "type": "dfn", "url": "#ascii-alphanumeric" },
                "#ascii-byte": { "displayText": "ascii byte", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii byte", "type": "dfn", "url": "#ascii-byte" },
                "#ascii-code-point": { "displayText": "ascii code point", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii code point", "type": "dfn", "url": "#ascii-code-point" },
                "#ascii-digit": { "displayText": "ascii digit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii digit", "type": "dfn", "url": "#ascii-digit" },
                "#ascii-lower-alpha": { "displayText": "ascii lower alpha", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii lower alpha", "type": "dfn", "url": "#ascii-lower-alpha" },
                "#ascii-lower-hex-digit": { "displayText": "ascii lower hex digit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii lower hex digit", "type": "dfn", "url": "#ascii-lower-hex-digit" },
                "#ascii-lowercase": { "displayText": "ascii lowercase", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii lowercase", "type": "dfn", "url": "#ascii-lowercase" },
                "#ascii-string": { "displayText": "ascii string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii string", "type": "dfn", "url": "#ascii-string" },
                "#ascii-upper-alpha": { "displayText": "ascii upper alpha", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii upper alpha", "type": "dfn", "url": "#ascii-upper-alpha" },
                "#ascii-upper-hex-digit": { "displayText": "ascii upper hex digit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii upper hex digit", "type": "dfn", "url": "#ascii-upper-hex-digit" },
                "#ascii-uppercase": { "displayText": "ascii uppercase", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii uppercase", "type": "dfn", "url": "#ascii-uppercase" },
                "#ascii-whitespace": { "displayText": "ascii whitespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ascii whitespace", "type": "dfn", "url": "#ascii-whitespace" },
                "#assert": { "displayText": "assert", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "assert", "type": "dfn", "url": "#assert" },
                "#boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "boolean", "type": "dfn", "url": "#boolean" },
                "#byte": { "displayText": "byte", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "byte", "type": "dfn", "url": "#byte" },
                "#byte-lowercase": { "displayText": "byte-lowercase", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "byte-lowercase", "type": "dfn", "url": "#byte-lowercase" },
                "#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "byte sequence", "type": "dfn", "url": "#byte-sequence" },
                "#byte-sequence-length": { "displayText": "length", "export": true, "for_": ["byte sequence"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "length", "type": "dfn", "url": "#byte-sequence-length" },
                "#byte-sequence-prefix": { "displayText": "prefix", "export": true, "for_": ["byte sequence"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "prefix", "type": "dfn", "url": "#byte-sequence-prefix" },
                "#byte-value": { "displayText": "value", "export": true, "for_": ["byte"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "value", "type": "dfn", "url": "#byte-value" },
                "#c0-control": { "displayText": "c0 control", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "c0 control", "type": "dfn", "url": "#c0-control" },
                "#code-point": { "displayText": "code point", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code point", "type": "dfn", "url": "#code-point" },
                "#code-point-substring": { "displayText": "code point substring", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code point substring", "type": "dfn", "url": "#code-point-substring" },
                "#code-point-substring-by-positions": { "displayText": "code point substring by positions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code point substring by positions", "type": "dfn", "url": "#code-point-substring-by-positions" },
                "#code-point-value": { "displayText": "value", "export": true, "for_": ["code point"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "value", "type": "dfn", "url": "#code-point-value" },
                "#code-unit": { "displayText": "code unit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit", "type": "dfn", "url": "#code-unit" },
                "#code-unit-less-than": { "displayText": "code unit less than", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit less than", "type": "dfn", "url": "#code-unit-less-than" },
                "#code-unit-prefix": { "displayText": "code unit prefix", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit prefix", "type": "dfn", "url": "#code-unit-prefix" },
                "#code-unit-substring": { "displayText": "code unit substring", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit substring", "type": "dfn", "url": "#code-unit-substring" },
                "#code-unit-substring-by-positions": { "displayText": "code unit substring by positions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit substring by positions", "type": "dfn", "url": "#code-unit-substring-by-positions" },
                "#code-unit-suffix": { "displayText": "code unit suffix", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code unit suffix", "type": "dfn", "url": "#code-unit-suffix" },
                "#collect-a-sequence-of-code-points": { "displayText": "collect a sequence of code points", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "collect a sequence of code points", "type": "dfn", "url": "#collect-a-sequence-of-code-points" },
                "#convert-a-json-derived-javascript-value-to-an-infra-value": { "displayText": "convert a json-derived javascript value to an infra value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "convert a json-derived javascript value to an infra value", "type": "dfn", "url": "#convert-a-json-derived-javascript-value-to-an-infra-value" },
                "#convert-an-infra-value-to-a-json-compatible-javascript-value": { "displayText": "convert an infra value to a json-compatible javascript value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "convert an infra value to a json-compatible javascript value", "type": "dfn", "url": "#convert-an-infra-value-to-a-json-compatible-javascript-value" },
                "#forgiving-base64-decode": { "displayText": "forgiving-base64 decode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "forgiving-base64 decode", "type": "dfn", "url": "#forgiving-base64-decode" },
                "#forgiving-base64-encode": { "displayText": "forgiving-base64 encode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "forgiving-base64 encode", "type": "dfn", "url": "#forgiving-base64-encode" },
                "#if-aborted": { "displayText": "if aborted", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "if aborted", "type": "dfn", "url": "#if-aborted" },
                "#implementation": { "displayText": "implementation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "implementation", "type": "dfn", "url": "#implementation" },
                "#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "implementation-defined", "type": "dfn", "url": "#implementation-defined" },
                "#isomorphic-decode": { "displayText": "isomorphic decode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "isomorphic decode", "type": "dfn", "url": "#isomorphic-decode" },
                "#isomorphic-encode": { "displayText": "isomorphic encode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "isomorphic encode", "type": "dfn", "url": "#isomorphic-encode" },
                "#isomorphic-string": { "displayText": "isomorphic string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "isomorphic string", "type": "dfn", "url": "#isomorphic-string" },
                "#iteration-break": { "displayText": "break", "export": true, "for_": ["iteration"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "break", "type": "dfn", "url": "#iteration-break" },
                "#iteration-continue": { "displayText": "continue", "export": true, "for_": ["iteration"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "continue", "type": "dfn", "url": "#iteration-continue" },
                "#iteration-while": { "displayText": "while", "export": true, "for_": ["iteration"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "while", "type": "dfn", "url": "#iteration-while" },
                "#javascript-string-convert": { "displayText": "convert", "export": true, "for_": ["JavaScript string", "string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "convert", "type": "dfn", "url": "#javascript-string-convert" },
                "#leading-surrogate": { "displayText": "leading surrogate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "leading surrogate", "type": "dfn", "url": "#leading-surrogate" },
                "#list": { "displayText": "list", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "list", "type": "dfn", "url": "#list" },
                "#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "append", "type": "dfn", "url": "#list-append" },
                "#list-clone": { "displayText": "clone", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "clone", "type": "dfn", "url": "#list-clone" },
                "#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "contain", "type": "dfn", "url": "#list-contain" },
                "#list-extend": { "displayText": "extend", "export": true, "for_": ["list"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "extend", "type": "dfn", "url": "#list-extend" },
                "#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "is empty", "type": "dfn", "url": "#list-is-empty" },
                "#list-item": { "displayText": "item", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "item", "type": "dfn", "url": "#list-item" },
                "#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "for each", "type": "dfn", "url": "#list-iterate" },
                "#list-prepend": { "displayText": "prepend", "export": true, "for_": ["list"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "prepend", "type": "dfn", "url": "#list-prepend" },
                "#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "remove", "type": "dfn", "url": "#list-remove" },
                "#list-size": { "displayText": "size", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "size", "type": "dfn", "url": "#list-size" },
                "#list-sort-in-ascending-order": { "displayText": "sorting", "export": true, "for_": ["list", "queue", "set", "stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "sorting", "type": "dfn", "url": "#list-sort-in-ascending-order" },
                "#map-entry": { "displayText": "entry", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "entry", "type": "dfn", "url": "#map-entry" },
                "#map-exists": { "displayText": "contain", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "contain", "type": "dfn", "url": "#map-exists" },
                "#map-get": { "displayText": "get", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "get", "type": "dfn", "url": "#map-get" },
                "#map-getting-the-keys": { "displayText": "keys", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "keys", "type": "dfn", "url": "#map-getting-the-keys" },
                "#map-getting-the-values": { "displayText": "values", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "values", "type": "dfn", "url": "#map-getting-the-values" },
                "#map-iterate": { "displayText": "for each", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "for each", "type": "dfn", "url": "#map-iterate" },
                "#map-key": { "displayText": "key", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "key", "type": "dfn", "url": "#map-key" },
                "#map-remove": { "displayText": "remove", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "remove", "type": "dfn", "url": "#map-remove" },
                "#map-set": { "displayText": "set", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "set", "type": "dfn", "url": "#map-set" },
                "#map-size": { "displayText": "size", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "size", "type": "dfn", "url": "#map-size" },
                "#map-value": { "displayText": "value", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "value", "type": "dfn", "url": "#map-value" },
                "#map-with-default": { "displayText": "with default", "export": true, "for_": ["map"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "with default", "type": "dfn", "url": "#map-with-default" },
                "#ordered-map": { "displayText": "ordered map", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ordered map", "type": "dfn", "url": "#ordered-map" },
                "#ordered-set": { "displayText": "ordered set", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ordered set", "type": "dfn", "url": "#ordered-set" },
                "#parse-a-json-string-to-a-javascript-value": { "displayText": "parse a json string to a javascript value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "parse a json string to a javascript value", "type": "dfn", "url": "#parse-a-json-string-to-a-javascript-value" },
                "#parse-a-json-string-to-an-infra-value": { "displayText": "parse a json string to an infra value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "parse a json string to an infra value", "type": "dfn", "url": "#parse-a-json-string-to-an-infra-value" },
                "#queue": { "displayText": "queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "queue", "type": "dfn", "url": "#queue" },
                "#queue-dequeue": { "displayText": "dequeue", "export": true, "for_": ["queue"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "dequeue", "type": "dfn", "url": "#queue-dequeue" },
                "#scalar-value": { "displayText": "scalar value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "scalar value", "type": "dfn", "url": "#scalar-value" },
                "#scalar-value-string": { "displayText": "scalar value string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "scalar value string", "type": "dfn", "url": "#scalar-value-string" },
                "#serialize-a-javascript-value-to-a-json-string": { "displayText": "serialize a javascript value to a json string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "serialize a javascript value to a json string", "type": "dfn", "url": "#serialize-a-javascript-value-to-a-json-string" },
                "#serialize-an-infra-value-to-a-json-string": { "displayText": "serialize an infra value to a json string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "serialize an infra value to a json string", "type": "dfn", "url": "#serialize-an-infra-value-to-a-json-string" },
                "#serialize-an-infra-value-to-json-bytes": { "displayText": "serialize an infra value to json bytes", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "serialize an infra value to json bytes", "type": "dfn", "url": "#serialize-an-infra-value-to-json-bytes" },
                "#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "append", "type": "dfn", "url": "#set-append" },
                "#set-prepend": { "displayText": "prepend", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "prepend", "type": "dfn", "url": "#set-prepend" },
                "#set-replace": { "displayText": "replace", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "replace", "type": "dfn", "url": "#set-replace" },
                "#set-subset": { "displayText": "subset", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "subset", "type": "dfn", "url": "#set-subset" },
                "#set-superset": { "displayText": "superset", "export": true, "for_": ["set"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "superset", "type": "dfn", "url": "#set-superset" },
                "#skip-ascii-whitespace": { "displayText": "skip ascii whitespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "skip ascii whitespace", "type": "dfn", "url": "#skip-ascii-whitespace" },
                "#split-on-ascii-whitespace": { "displayText": "split on ascii whitespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "split on ascii whitespace", "type": "dfn", "url": "#split-on-ascii-whitespace" },
                "#split-on-commas": { "displayText": "split on commas", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "split on commas", "type": "dfn", "url": "#split-on-commas" },
                "#stack": { "displayText": "stack", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "stack", "type": "dfn", "url": "#stack" },
                "#stack-pop": { "displayText": "pop", "export": true, "for_": ["stack"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "pop", "type": "dfn", "url": "#stack-pop" },
                "#string": { "displayText": "string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "string", "type": "dfn", "url": "#string" },
                "#string-code-point-length": { "displayText": "code point length", "export": true, "for_": ["ASCII string", "JavaScript string", "isomorphic string", "scalar value string", "string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "code point length", "type": "dfn", "url": "#string-code-point-length" },
                "#string-concatenate": { "displayText": "concatenation", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "concatenation", "type": "dfn", "url": "#string-concatenate" },
                "#string-ends-with": { "displayText": "ends with", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "ends with", "type": "dfn", "url": "#string-ends-with" },
                "#string-is": { "displayText": "identical to", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "identical to", "type": "dfn", "url": "#string-is" },
                "#string-length": { "displayText": "length", "export": true, "for_": ["ASCII string", "JavaScript string", "isomorphic string", "scalar value string", "string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "length", "type": "dfn", "url": "#string-length" },
                "#string-position-variable": { "displayText": "position variable", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "position variable", "type": "dfn", "url": "#string-position-variable" },
                "#string-starts-with": { "displayText": "starts with", "export": true, "for_": ["string"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "starts with", "type": "dfn", "url": "#string-starts-with" },
                "#strip-leading-and-trailing-ascii-whitespace": { "displayText": "strip leading and trailing ascii whitespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "strip leading and trailing ascii whitespace", "type": "dfn", "url": "#strip-leading-and-trailing-ascii-whitespace" },
                "#struct": { "displayText": "struct", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "struct", "type": "dfn", "url": "#struct" },
                "#struct-item": { "displayText": "item", "export": true, "for_": ["struct", "tuple"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "item", "type": "dfn", "url": "#struct-item" },
                "#struct-name": { "displayText": "name", "export": true, "for_": ["struct", "tuple"], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "name", "type": "dfn", "url": "#struct-name" },
                "#surrogate": { "displayText": "surrogate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "surrogate", "type": "dfn", "url": "#surrogate" },
                "#the-exclusive-range": { "displayText": "the exclusive range", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "the exclusive range", "type": "dfn", "url": "#the-exclusive-range" },
                "#the-range": { "displayText": "the range", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "the range", "type": "dfn", "url": "#the-range" },
                "#trailing-surrogate": { "displayText": "trailing surrogate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "trailing surrogate", "type": "dfn", "url": "#trailing-surrogate" },
                "#tuple": { "displayText": "tuple", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "tuple", "type": "dfn", "url": "#tuple" },
                "#user-agent": { "displayText": "user agent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "user agent", "type": "dfn", "url": "#user-agent" },
                "#willful-violation": { "displayText": "willful violation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "local", "text": "willful violation", "type": "dfn", "url": "#willful-violation" },
                "383964c1_https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type": { "displayText": "is a String", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "is a string", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type" },
                "https://dom.spec.whatwg.org/#characterdata": { "displayText": "CharacterData", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "CharacterData", "type": "interface", "url": "https://dom.spec.whatwg.org/#characterdata" },
                "https://encoding.spec.whatwg.org/#utf-8-decode": { "displayText": "UTF-8 decode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 decode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-decode" },
                "https://encoding.spec.whatwg.org/#utf-8-encode": { "displayText": "UTF-8 encode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 encode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "https://fetch.spec.whatwg.org/#http-whitespace": { "displayText": "HTTP whitespace", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "http whitespace", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#http-whitespace" },
                "https://tc39.github.io/ecma262/#realm": { "displayText": "realm", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "realm", "type": "dfn", "url": "https://tc39.github.io/ecma262/#realm" },
                "https://tc39.github.io/ecma262/#sec-array.prototype.sort": { "displayText": "sort()", "export": true, "for_": ["Array"], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "sort()", "type": "method", "url": "https://tc39.github.io/ecma262/#sec-array.prototype.sort" },
                "https://tc39.github.io/ecma262/#sec-arraycreate": { "displayText": "ArrayCreate", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "ArrayCreate", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-arraycreate" },
                "https://tc39.github.io/ecma262/#sec-call": { "displayText": "Call", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "Call", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-call" },
                "https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow": { "displayText": "CreateDataPropertyOrThrow", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "CreateDataPropertyOrThrow", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-createdatapropertyorthrow" },
                "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-boolean-type": { "displayText": "is a Boolean", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "is a boolean", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-boolean-type" },
                "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type": { "displayText": "is a Number", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "is a number", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type" },
                "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type": { "displayText": "The String Type", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "the string type", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type" },
                "https://tc39.github.io/ecma262/#sec-get-o-p": { "displayText": "Get", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "Get", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-get-o-p" },
                "https://tc39.github.io/ecma262/#sec-isarray": { "displayText": "IsArray", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "IsArray", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-isarray" },
                "https://tc39.github.io/ecma262/#sec-json.parse": { "displayText": "%JSON.parse%", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "%json.parse%", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-json.parse" },
                "https://tc39.github.io/ecma262/#sec-json.stringify": { "displayText": "%JSON.stringify%", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "%json.stringify%", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-json.stringify" },
                "https://tc39.github.io/ecma262/#sec-list-and-record-specification-type": { "displayText": "List", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "list", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-list-and-record-specification-type" },
                "https://tc39.github.io/ecma262/#sec-ordinaryobjectcreate": { "displayText": "OrdinaryObjectCreate", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "OrdinaryObjectCreate", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-ordinaryobjectcreate" },
                "https://tc39.github.io/ecma262/#sec-tolength": { "displayText": "ToLength", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "ToLength", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-tolength" },
                "https://tc39.github.io/ecma262/#sec-tostring": { "displayText": "ToString", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "ToString", "type": "abstract-op", "url": "https://tc39.github.io/ecma262/#sec-tostring" },
                "https://url.spec.whatwg.org/#concept-host": { "displayText": "host", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "host", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-host" },
                "https://w3c.github.io/hr-time/#dfn-duration": { "displayText": "duration", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "duration", "type": "dfn", "url": "https://w3c.github.io/hr-time/#dfn-duration" },
                "https://w3c.github.io/hr-time/#dfn-moment": { "displayText": "moment", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "moment", "type": "dfn", "url": "https://w3c.github.io/hr-time/#dfn-moment" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>