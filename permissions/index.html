<!DOCTYPE html>
<html lang="zh-hans" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.4.1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>Permissions</title>



    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: italic
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <style id="caniuse-stylesheet" class="">
        .caniuse-stats {
            display: flex;
            column-gap: 2em
        }

        .caniuse-group {
            display: flex;
            flex: 1;
            flex-direction: column;
            justify-content: flex-end;
            flex-basis: auto
        }

        .caniuse-browsers {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-top: .2em;
            column-gap: .4em;
            border-bottom: 1px solid #ccc;
            row-gap: .4em;
            padding-bottom: .4cm
        }

        .caniuse-type {
            align-self: center;
            border-top: none;
            text-transform: capitalize;
            font-size: .8em;
            margin-top: -.8em;
            font-weight: 700
        }

        .caniuse-type span {
            background-color: var(--bg, #fff);
            padding: 0 .4em
        }

        .caniuse-cell {
            align-items: center;
            border-radius: 1cm;
            color: #fff;
            display: flex;
            font-size: 90%;
            min-width: 1.5cm;
            padding: .3rem;
            justify-content: space-evenly;
            --supported: #2a8436dd;
            --no-support: #c44230dd;
            --no-support-alt: #b43b2bdd;
            --partial: #807301dd;
            --partial-alt: #746c00dd;
            --unknown: #757575;
            background: repeating-linear-gradient(var(--caniuse-angle, 45deg), var(--caniuse-bg) 0, var(--caniuse-bg-alt) 1px, var(--caniuse-bg-alt) .4em, var(--caniuse-bg) calc(.25em + 1px), var(--caniuse-bg) .75em)
        }

        img.caniuse-browser {
            filter: drop-shadow(0 0 .1cm #666);
            background: 0 0
        }

        .caniuse-cell span.browser-version {
            margin-left: .4em;
            text-shadow: 0 0 .1em #fff;
            font-weight: 100;
            font-size: .9em
        }

        .caniuse-stats a[href] {
            white-space: nowrap;
            align-self: flex-end
        }

        .caniuse-cell.y {
            background: var(--supported)
        }

        .caniuse-cell:is(.n, .d) {
            --caniuse-angle: 45deg;
            --caniuse-bg: var(--no-support);
            --caniuse-bg-alt: var(--no-support-alt)
        }

        .caniuse-cell.u {
            background: var(--unknown)
        }

        .caniuse-cell.d {
            --caniuse-angle: 180deg
        }

        .caniuse-cell:is(.a, .x, .p) {
            --caniuse-angle: 90deg;
            --caniuse-bg: var(--partial);
            --caniuse-bg-alt: var(--partial-alt)
        }

        @media print {
            .caniuse-cell.y::before {
                content: "✔️";
                padding: .5em
            }

            .caniuse-cell.n::before {
                content: "❌";
                padding: .5em
            }

            .caniuse-cell:is(.a, .d, .p, .x, .u)::before {
                content: "⚠️";
                padding: .5em
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--indextable-hover-text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            color: var(--bg, #fff);
            background-color: #000;
            background-color: var(--text, #000);
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="revision" content="4f2ccb0f8efc82476fdf2a19c49f6926a3daace9">
    <meta name="description" content="This specification defines common infrastructure that other specifications can use to
        interact with browser permissions. These permissions represent a user's choice to allow or
        deny access to &quot;powerful features&quot; of the platform. For developers, the specification
        standardizes an API to query the permission state of a powerful feature, and be notified if
        a permission to use a powerful feature changes state.">
    <link rel="canonical" href="https://www.w3.org/TR/permissions/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "shortName": "permissions",
  "group": "webappsec",
  "specStatus": "WD",
  "editors": [
    {
      "name": "Marcos Cáceres",
      "url": "https://marcosc.com",
      "company": "Apple Inc.",
      "companyURL": "https://www.apple.com/",
      "w3cid": "39125"
    },
    {
      "name": "Mike Taylor",
      "url": "https://miketaylr.com/posts/",
      "companyURL": "https://google.com/",
      "company": "Google LLC",
      "w3cid": "90704"
    }
  ],
  "formerEditors": [
    {
      "name": "Mounir Lamouri",
      "companyURL": "https://google.com/",
      "company": "Google LLC"
    },
    {
      "name": "Jeffrey Yasskin",
      "companyURL": "https://google.com/",
      "company": "Google LLC",
      "w3cid": "72192"
    }
  ],
  "github": {
    "branch": "main",
    "repoURL": "w3c/permissions"
  },
  "mdn": true,
  "xref": {
    "profile": "web-platform",
    "specs": [
      "permissions-policy",
      "w3c-process"
    ]
  },
  "caniuse": "permissions-api",
  "gitRevision": "4f2ccb0f8efc82476fdf2a19c49f6926a3daace9",
  "publishDate": "2025-06-24",
  "previousMaturity": "WD",
  "previousPublishDate": "2024-12-20",
  "publishISODate": "2025-06-24T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 24 June 2025"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body class="h-entry" data-cite="WEBIDL permissions-policy w3c-process HTML INFRA URL WEBIDL DOM FETCH">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">权限</h1>
        <h2 id="subtitle" class="subtitle">
            与强大功能的权限交互
        </h2>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 工作草案</a> <time class="dt-published"
                datetime="2025-06-24">2025年6月24日</time></p>
        <details open="">
            <summary>更多关于此文档的细节</summary>
            <dl>
                <dt>此版本：</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2025/WD-permissions-20250624/">https://www.w3.org/TR/2025/WD-permissions-20250624/</a>
                </dd>
                <dt>最新发布版本：</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
                </dd>
                <dt>最新编辑草案：</dt>
                <dd><a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a></dd>
                <dt>历史：</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/permissions/">https://www.w3.org/standards/history/permissions/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/permissions/commits/main">提交历史</a>
                </dd>

                <dt>编辑：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <a class="u-url url p-name fn" href="https://marcosc.com">Marcos Cáceres</a> (<a
                        class="p-org org h-org" href="https://www.apple.com/">苹果公司</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="90704">
                    <a class="u-url url p-name fn" href="https://miketaylr.com/posts/">Mike Taylor</a> (<a
                        class="p-org org h-org" href="https://google.com/">谷歌公司</a>)
                </dd>
                <dt>
                    前编辑：
                </dt>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Mounir Lamouri</span> (<a class="p-org org h-org"
                        href="https://google.com/">谷歌公司</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="72192">
                    <span class="p-name fn">Jeffrey Yasskin</span> (<a class="p-org org h-org"
                        href="https://google.com/">谷歌公司</a>)
                </dd>

                <dt>反馈：</dt>
                <dd>
                    <a href="https://github.com/w3c/permissions/">GitHub w3c/permissions</a>
                    (<a href="https://github.com/w3c/permissions/pulls/">拉取请求</a>，
                    <a href="https://github.com/w3c/permissions/issues/new/choose">新问题</a>，
                    <a href="https://github.com/w3c/permissions/issues/">开放问题</a>)
                </dd>


                <dt class="caniuse-title">浏览器支持：</dt>
                <dd class="caniuse-stats">
                    <div class="caniuse-group">
                        <div class="caniuse-browsers">
                            <div class="caniuse-cell y" title="自Chrome版本43开始默认支持。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg"
                                    alt="Chrome logo"><span class="browser-version">43</span>
                            </div>
                            <div class="caniuse-cell y" title="自Edge版本79开始默认支持。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/edge/edge.svg"
                                    alt="Edge logo"><span class="browser-version">79</span>
                            </div>
                            <div class="caniuse-cell y" title="自Firefox版本46开始默认支持。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg"
                                    alt="Firefox logo"><span class="browser-version">46</span>
                            </div>
                            <div class="caniuse-cell y" title="自Safari版本16.0开始默认支持。">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/safari/safari.svg"
                                    alt="Safari logo"><span class="browser-version">16.0</span>
                            </div>
                        </div>
                        <div class="caniuse-type"><span>桌面版</span></div>
                    </div>
                    <div class="caniuse-group">
                        <div class="caniuse-browsers">
                            <div class="caniuse-cell y" title="Supported by default since Android Chrome version 137."
                                aria-label="permissions-api is supported by default since Android Chrome version 137 on mobile.">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg"
                                    alt="Android Chrome logo"><span class="browser-version">137</span>
                            </div>
                            <div class="caniuse-cell y" title="Supported by default since Android Firefox version 139."
                                aria-label="permissions-api is supported by default since Android Firefox version 139 on mobile.">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg"
                                    alt="Android Firefox logo"><span class="browser-version">139</span>
                            </div>
                            <div class="caniuse-cell y" title="Supported by default since Android UC version 15.5."
                                aria-label="permissions-api is supported by default since Android UC version 15.5 on mobile.">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/uc/uc.svg"
                                    alt="Android UC logo"><span class="browser-version">15.5</span>
                            </div>
                            <div class="caniuse-cell y" title="Supported by default since iOS Safari version 16.0."
                                aria-label="permissions-api is supported by default since iOS Safari version 16.0 on mobile.">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg"
                                    alt="iOS Safari logo"><span class="browser-version">16.0</span>
                            </div>
                            <div class="caniuse-cell y" title="Supported by default since Samsung Internet version 4."
                                aria-label="permissions-api is supported by default since Samsung Internet version 4 on mobile.">
                                <img class="caniuse-browser" width="20" height="20"
                                    src="https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg"
                                    alt="Samsung Internet logo"><span class="browser-version">4</span>
                            </div>
                        </div>
                        <div class="caniuse-type"><span>mobile</span></div>
                    </div><a class="caniuse-cell" href="https://caniuse.com/permissions-api">More info</a>
                </dd>
            </dl>
        </details>

        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2025

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="页眉分隔符">
    </div>

    <section id="abstract" class="introductory">
        <h2>摘要</h2>
        <p>
            本规范定义了其他规范可以用来与浏览器权限交互的通用基础设施。这些权限代表用户对平台“强大功能”访问的允许或拒绝选择。对于开发人员来说，本规范标准化了一个API，用于查询强大功能的权限状态，并在使用强大功能的权限状态发生变化时接收通知。
        </p>
    </section>
    <section id="sotd" class="introductory">
        <h2>本文档的状态</h2>
        <p><em>本节描述了本文档在发布时的状态。
                <abbr title="World Wide Web Consortium">W3C</abbr>
                当前的出版物列表和本技术报告的最新修订版可以在
                <a href="https://www.w3.org/TR/">https://www.w3.org/TR/</a> 的 <abbr
                    title="World Wide Web Consortium">W3C</abbr> 标准和草案索引中找到。</em></p>
        <p>
            这是一项正在进行中的工作。
        </p>
        <p>
            本文档由 <a href="https://www.w3.org/groups/wg/webappsec">Web 应用程序安全工作组</a>作为工作草案发布，采用
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">推荐轨道</a>。
        </p>
        <p>作为工作草案发布并不意味着 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。</p>
        <p>
            这是一个草案文件，可能随时被其他文件更新、替换或废弃。将本文档引用为正在进行的工作以外的内容是不合适的。

        </p>
        <p>

            本文档由一个在
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                专利政策</a>下运作的小组制作。


            <abbr title="World Wide Web Consortium">W3C</abbr> 维护一个与该小组的可交付成果相关的任何专利披露的<a rel="disclosure"
                href="https://www.w3.org/groups/wg/webappsec/ipr">公开列表</a>；该页面还包括披露专利的说明。任何实际知晓某项专利并认为其包含
            <a href="https://www.w3.org/policies/patent-policy/#def-essential">基本权利要求</a>的个人必须根据
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure"><abbr
                    title="World Wide Web Consortium">W3C</abbr> 专利政策</a>第 6 节披露该信息。

        </p>
        <p>
            本文档受
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">2023 年 11 月 3 日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> 流程文档</a>的约束。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目录</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">摘要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">本文档的状态</a></li>
            <li class="tocline"><a class="tocxref" href="#intro"><bdi class="secno">1. </bdi>
                    介绍
                </a></li>
            <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">2. </bdi>
                    使用示例
                </a></li>
            <li class="tocline"><a class="tocxref" href="#model"><bdi class="secno">3. </bdi>
                    模型
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#permissions"><bdi class="secno">3.1 </bdi>
                            权限
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#permission-store"><bdi class="secno">3.2 </bdi>
                            权限存储
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#powerful-features"><bdi class="secno">3.3 </bdi>
                            强大功能
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#aspects"><bdi class="secno">3.3.1 </bdi>
                                    方面
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#permissions-task-source"><bdi class="secno">3.4 </bdi>
                            权限任务来源
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#specifying-a-powerful-feature"><bdi class="secno">4. </bdi>
                    指定强大功能
                </a></li>
            <li class="tocline"><a class="tocxref" href="#algorithms-to-interface-with-permissions"><bdi
                        class="secno">5. </bdi>
                    与权限交互的算法
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#reading-current-states"><bdi class="secno">5.1 </bdi>
                            读取当前权限状态
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#requesting-more-permission"><bdi class="secno">5.2
                            </bdi>
                            请求使用强大功能的权限
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#prompt-the-user-to-choose"><bdi class="secno">5.3
                            </bdi>
                            提示用户选择
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#reacting-to-revocation"><bdi class="secno">5.4 </bdi>
                            对用户撤销权限的反应
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-api"><bdi class="secno">6. </bdi>
                    权限API
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#navigator-and-workernavigator-extension"><bdi
                                class="secno">6.1 </bdi>
                            <code>Navigator</code>和<code>WorkerNavigator</code>接口的扩展
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#permissions-interface"><bdi class="secno">6.2 </bdi>
                            <code>Permissions</code>接口
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#query-method"><bdi class="secno">6.2.1 </bdi>
                                    <code>query()</code>方法
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#permissionstatus-interface"><bdi class="secno">6.3
                            </bdi>
                            <code>PermissionStatus</code>接口
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#creating-instances"><bdi class="secno">6.3.1
                                    </bdi>
                                    创建实例
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#name-attribute"><bdi class="secno">6.3.2
                                    </bdi>
                                    <code>name</code>属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#state-attribute"><bdi class="secno">6.3.3
                                    </bdi>
                                    <code>state</code>属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#onchange-attribute"><bdi class="secno">6.3.4
                                    </bdi>
                                    <code>onchange</code>属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#permissionstatus-gc"><bdi class="secno">6.3.5
                                    </bdi>
                                    垃圾回收
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">7. </bdi>一致性</a></li>
            <li class="tocline"><a class="tocxref" href="#relationship-to-permissions-policy"><bdi class="secno">A.
                    </bdi>
                    与权限政策规范的关系
                </a></li>
            <li class="tocline"><a class="tocxref" href="#automation"><bdi class="secno">B. </bdi>
                    自动化测试
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#automation-webdriver"><bdi class="secno">B.1 </bdi>
                            使用[<cite><span class="formerLink" data-link-type="biblio"
                                    title="WebDriver">WebDriver</span></cite>]进行自动化测试
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#webdriver-command-set-permission"><bdi
                                        class="secno">B.1.1 </bdi>
                                    设置权限
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#automation-webdriver-bidi"><bdi class="secno">B.2
                            </bdi>
                            使用[<cite><span class="formerLink" data-link-type="biblio"
                                    title="WebDriver BiDi">WebDriver-BiDi</span></cite>]进行自动化测试
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#webdriver-bidi-module-permissions"><bdi
                                        class="secno">B.2.1 </bdi>
                                    权限模块
                                </a>
                                <ol class="toc">
                                    <li class="tocline"><a class="tocxref"
                                            href="#webdriver-bidi-module-permissions-definition"><bdi
                                                class="secno">B.2.1.1 </bdi>
                                            定义
                                        </a></li>
                                    <li class="tocline"><a class="tocxref"
                                            href="#webdriver-bidi-module-permissions-types"><bdi class="secno">B.2.1.2
                                            </bdi>
                                            类型
                                        </a>
                                        <ol class="toc">
                                            <li class="tocline"><a class="tocxref"
                                                    href="#webdriver-bidi-type-permissions-PermissionDescriptor"><bdi
                                                        class="secno">B.2.1.2.1 </bdi>
                                                    权限.PermissionDescriptor类型
                                                </a></li>
                                            <li class="tocline"><a class="tocxref"
                                                    href="#webdriver-bidi-type-permissions-PermissionState"><bdi
                                                        class="secno">B.2.1.2.2 </bdi>
                                                    权限.PermissionState类型
                                                </a></li>
                                        </ol>
                                    </li>
                                    <li class="tocline"><a class="tocxref"
                                            href="#webdriver-bidi-module-permissions-commands"><bdi
                                                class="secno">B.2.1.3 </bdi>
                                            命令
                                        </a>
                                        <ol class="toc">
                                            <li class="tocline"><a class="tocxref"
                                                    href="#webdriver-bidi-command-permissions-setPermission"><bdi
                                                        class="secno">B.2.1.3.1 </bdi>
                                                    权限.setPermission命令
                                                </a></li>
                                        </ol>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-registry"><bdi class="secno">C. </bdi>
                    权限注册表
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#purpose"><bdi class="secno">C.1 </bdi>
                            目的
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#change-process"><bdi class="secno">C.2 </bdi>
                            更改过程
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#registry-table-of-standardized-permissions"><bdi
                                class="secno">C.3 </bdi>
                            标准化权限注册表
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#registry-table-of-provisional-permissions"><bdi
                                class="secno">C.4 </bdi>
                            临时权限注册表
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">D. </bdi>
                    隐私注意事项
                </a></li>
            <li class="tocline"><a class="tocxref" href="#security-considerations"><bdi class="secno">E. </bdi>
                    安全注意事项
                </a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">F. </bdi>IDL索引</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">G. </bdi>
                    致谢
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">H. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">H.1
                            </bdi>规范性参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">H.2
                            </bdi>参考性文献</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="introduction">
        <div class="header-wrapper">
            <h2 id="intro"><bdi class="secno">1. </bdi>
                介绍
            </h2><a class="self-link" href="#intro" aria-label="第1节的固定链接"></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            规范可以定义被明确标识为<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-1">强大功能</a>的特性。这些特性之所以被称为“强大”，是因为它们可能对隐私、安全性和性能产生重大影响。因此，用户依赖用户代理来拒绝网站使用这些特性，直到用户明确授予权限，并且通常仅限于授予一段有限的时间。允许网站使用强大功能的明确权限通常通过浏览器UI来授予和控制，如下图所示。
        </p>
        <figure id="fig-sketches-of-possible-permission-prompt-types">
            <img src="https://www.w3.org/TR/permissions/docs/assets/images/sample-prompts.png"
                alt="左侧是通知提示的模型，带有允许和不允许按钮，内容显示'网站example.com希望向您发送通知'。右侧是靠近URL栏的提示，要求授予网站对相机和麦克风的访问权限。">
            <figcaption><a class="self-link" href="#fig-sketches-of-possible-permission-prompt-types">图<bdi
                        class="figno">1</bdi></a> <span class="fig-title">
                    可能的权限提示类型示意图
                </span></figcaption>
        </figure>
        <p>
            从这个意义上说，权限表示用户对某些类型功能，尤其是“强大功能”的当前同意状态。最终，用户保留这些权限的控制权，并有能力通过用户偏好手动授予或拒绝权限。此外，用户代理帮助用户管理权限，例如，隐藏和自动拒绝某些可能造成麻烦的权限提示，并在用户长时间未访问某个网站时自动使已授予的权限过期。
        </p>
    </section>
    <figure id="fig-a-sketch-of-a-possible-site-specific-permissions-controls-ui">
        <img src="https://www.w3.org/TR/permissions/docs/assets/images/permission-settings.png"
            alt="一个设置页面的模型，允许用户为位置、相机、麦克风、运动传感器和通知权限设置或重置默认设置。">
        <figcaption><a class="self-link" href="#fig-a-sketch-of-a-possible-site-specific-permissions-controls-ui">图
                <bdi class="figno">2</bdi></a> <span class="fig-title">
                可能的站点特定权限控制UI示意图
            </span></figcaption>
    </figure>
    <section class="informative" id="examples-of-usage">
        <div class="header-wrapper">
            <h2 id="examples"><bdi class="secno">2. </bdi>
                使用示例
            </h2><a class="self-link" href="#examples" aria-label="第2节的固定链接"></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            本示例使用权限API决定是否通过地理位置API显示本地新闻，或提供一个按钮以添加该功能。
        </p>
        <div class="example" id="example-using-state-attribute">
            <div class="marker">
                <a class="self-link" href="#example-using-state-attribute">示例<bdi> 1</bdi></a><span
                    class="example-title">：使用.state属性</span>
            </div>

            <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> { state } = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"geolocation"</span>
});
<span class="hljs-keyword">switch</span> (state) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">"granted"</span>:
    <span class="hljs-title function_">showLocalNewsWithGeolocation</span>();
    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-string">"prompt"</span>:
    <span class="hljs-title function_">showButtonToEnableLocalNews</span>();
    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-string">"denied"</span>:
    <span class="hljs-title function_">showNationalNews</span>();
    <span class="hljs-keyword">break</span>;
}</code></pre>
        </div>
        <p>
            本示例同时检查<code>"geolocation"</code>和<code>"notifications"</code>
            <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-2">强大功能</a>的状态：
        </p>
        <div class="example" id="example-checking-the-state-of-multiple-permissions">
            <div class="marker">
                <a class="self-link" href="#example-checking-the-state-of-multiple-permissions">示例<bdi>
                        2</bdi></a><span class="example-title">：检查多个权限的状态</span>
            </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> queryPromises = [<span class="hljs-string">"geolocation"</span>, <span class="hljs-string">"notifications"</span>].<span class="hljs-title function_">map</span>(
  <span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({ name })
);
<span class="hljs-keyword">for</span> <span class="hljs-title function_">await</span> (<span class="hljs-keyword">const</span> status <span class="hljs-keyword">of</span> queryPromises) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${status.name}</span>: <span class="hljs-subst">${status.state}</span>`</span>);
}</code></pre>
        </div>
        <p>
            本示例正在检查可用摄像头的权限状态。
        </p>
        <div class="example" id="example-checking-permission-state-of-multiple-cameras">
            <div class="marker">
                <a class="self-link" href="#example-checking-permission-state-of-multiple-cameras">示例<bdi>
                        3</bdi></a><span class="example-title">：检查多个摄像头的权限状态</span>
            </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> devices = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">enumerateDevices</span>();

<span class="hljs-comment">// filter on video inputs, and map to query object</span>
<span class="hljs-keyword">const</span> queries = devices
  .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">{ kind }</span>) =&gt;</span> kind === <span class="hljs-string">"videoinput"</span>)
  .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">{ deviceId }</span>) =&gt;</span> ({ <span class="hljs-attr">name</span>: <span class="hljs-string">"camera"</span>, deviceId }));

<span class="hljs-keyword">const</span> promises = queries.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">queryObj</span>) =&gt;</span>
  navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>(queryObj)
);

<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
  <span class="hljs-comment">// log the state of each camera</span>
  results.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">{ state }, i</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Camera"</span>, i, state));
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
}</code></pre>
        </div>
    </section>
    <section id="model">
        <div class="header-wrapper">
            <h2 id="x3-model"><bdi class="secno">3. </bdi>
                模型
            </h2><a class="self-link" href="#model" aria-label="第3节的固定链接"></a>
        </div>

        <p>
            本节为<a data-link-type="dfn|abstract-op" href="#dfn-permissions" class="internalDFN"
                id="ref-for-dfn-permissions-1">权限</a>在Web平台上使用<a data-link-type="dfn|abstract-op"
                href="#dfn-powerful-feature" class="internalDFN" id="ref-for-dfn-powerful-feature-3">强大功能</a>指定了一个模型。
        </p>
        <section id="permissions">
            <div class="header-wrapper">
                <h3 id="x3-1-permissions"><bdi class="secno">3.1 </bdi>
                    权限
                </h3><a class="self-link" href="#permissions" aria-label="第3.1节的固定链接"></a>
            </div>

            <p>
                <dfn class="export" data-export="" id="dfn-permission" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">权限</dfn>表示用户允许Web应用程序使用<a data-link-type="dfn|abstract-op"
                    href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-4">强大功能</a>的决策。该决策以权限<a data-link-type="dfn|abstract-op"
                    href="#dfn-states" class="internalDFN" id="ref-for-dfn-states-1">状态</a>表示。
            </p>
            <p>
                <dfn class="export" data-export="" id="dfn-express-permission" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">明确权限</dfn>指用户<a data-link-type="dfn|abstract-op" data-lt="grants"
                    href="#dfn-granted" class="internalDFN" id="ref-for-dfn-granted-1">授予</a>Web应用程序使用<a
                    data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-5">强大功能</a>的能力。
            </p>
            <div class="note" role="note" id="issue-container-generatedID">
                <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>注意</span><span
                        class="issue-label">：限制和可扩展性</span></div>
                <aside class="">
                    <p>
                        现有的Web API在处理权限方面有不同的方式。例如，<cite><a data-matched-text="[[[notifications]]]"
                                href="https://notifications.spec.whatwg.org/">通知API标准</a></cite>
                        允许开发者请求权限并显式检查权限状态。其他API则仅在尝试使用API时向网页暴露状态，例如，<cite><a data-matched-text="[[[Geolocation]]]"
                                href="https://www.w3.org/TR/geolocation/">地理位置</a></cite>，如果权限未被授予，调用将失败，开发者无法预先检查。
                    </p>
                    <p>
                        本文档中描述的解决方案旨在具备可扩展性，但不期望适用于Web平台上当前和未来的所有权限。工作组在创建其权限模型不符合本文档中描述模型的规范时，应通过<a
                            href="https://github.com/w3c/permissions/issues">提交问题</a>联系编辑。
                    </p>
                </aside>
            </div>
            <p>
                从概念上讲，<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                    id="ref-for-dfn-permission-1">强大功能的权限</a>可以处于以下<a data-link-type="dfn|abstract-op"
                    href="#dfn-states" class="internalDFN" id="ref-for-dfn-states-2">状态</a>之一：
            </p>
            <dl data-sort="">
                <dt>
                    <dfn class="export" data-lt="denied|&quot;denied&quot;" data-dfn-for="permission" data-export=""
                        id="dfn-denied" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">"拒绝"</dfn>：
                </dt>
                <dd>
                    用户或代表用户的用户代理已拒绝访问此<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                        class="internalDFN" id="ref-for-dfn-powerful-feature-7">强大功能</a>。调用者将无法使用该功能。
                </dd>
                <dt>
                    <dfn class="export" data-lt="granted|&quot;granted&quot;|grant" data-local-lt="grant"
                        data-dfn-for="permission" data-export="" data-plurals="grants" id="dfn-granted" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">"授予"</dfn>：
                </dt>
                <dd>
                    用户或代表用户的用户代理已授予<a data-link-type="dfn|abstract-op" href="#dfn-express-permission"
                        class="internalDFN" id="ref-for-dfn-express-permission-1">明确许可</a>来使用<a
                        data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-8">强大功能</a>。调用者将能够使用该功能，可能无需<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#user-agent">用户代理</a>询问用户许可。
                </dd>
                <dt>
                    <dfn class="export" data-lt="prompt|&quot;prompt&quot;" data-dfn-for="permission" data-export=""
                        id="dfn-prompt" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">"提示"</dfn>：
                </dt>
                <dd>
                    用户尚未授予使用该功能的<a data-link-type="dfn|abstract-op" href="#dfn-express-permission" class="internalDFN"
                        id="ref-for-dfn-express-permission-2">明确许可</a>（即，与<a data-link-type="dfn|abstract-op"
                        href="#dfn-denied" class="internalDFN"
                        id="ref-for-dfn-denied-1">“拒绝”</a>相同）。这也意味着，如果调用者尝试使用该功能，<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#user-agent">用户代理</a>要么会提示用户授予权限，要么对该功能的访问将被<a
                        data-link-type="dfn|abstract-op" href="#dfn-denied" class="internalDFN"
                        id="ref-for-dfn-denied-2">“拒绝”</a>。
                </dd>
            </dl>
            <p>
                为了获取用户意图的<a data-link-type="dfn|abstract-op" href="#dfn-new-information-about-the-user-s-intent"
                    class="internalDFN" id="dfn-new-information-about-the-user-s-intent">新信息</a>，用户代理<em
                    class="rfc2119">可以</em>收集并解释用户意图的信息。这些信息可以来自用户的明确操作、相关用户和其他用户的汇总行为，或本文档未预见的<a
                    id="dfn-implicit-signals" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">隐式信号</a>。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-0">
                <div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>注意</span><span
                        class="issue-label">: 什么构成隐式信号？</span></div>
                <aside class="" data-cite="appmanifest">
                    <p>
                        <a data-link-type="dfn|abstract-op" href="#dfn-implicit-signals" class="internalDFN"
                            id="ref-for-dfn-implicit-signals-1">隐式信号</a>可以是，例如，Web 应用程序的<a data-link-type="dfn"
                            data-lt="installed web application"
                            href="https://www.w3.org/TR/appmanifest/#dfn-installed-web-application">安装</a>状态或访问的频率和新近度。
                        安装了 Web 应用程序并经常和最近使用它的用户更有可能信任它。建议实现在依赖隐式信号时谨慎行事。
                    </p>
                </aside>
            </div>
            <p data-cite="ECMAScript">
                每个<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                    id="ref-for-dfn-permission-2">权限</a>都有一个<dfn class="export" data-dfn-for="permission" data-export=""
                    data-plurals="lifetimes" id="dfn-lifetime" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">生命周期</dfn>，
                指的是特定权限在恢复到其<a data-link-type="dfn|abstract-op" href="#dfn-default-state" class="internalDFN"
                    id="ref-for-dfn-default-state-1">默认状态</a>之前保持<a data-link-type="dfn|abstract-op" href="#dfn-granted"
                    class="internalDFN" id="ref-for-dfn-granted-2">“授予”</a>状态的持续时间。一个<a data-link-type="dfn|abstract-op"
                    href="#dfn-lifetime" class="internalDFN" id="ref-for-dfn-lifetime-1">生命周期</a>
                可能持续到特定的<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm">领域
                    (Realm)</a>
                被销毁，直到特定的
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">顶级浏览上下文</a>被销毁，一段特定的时间，或者是无限的。
                当用户通过权限用户界面或用户代理定义的策略授予使用某个<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                    class="internalDFN" id="ref-for-dfn-powerful-feature-9">功能</a>的<a data-link-type="dfn|abstract-op"
                    href="#dfn-express-permission" class="internalDFN"
                    id="ref-for-dfn-express-permission-3">明确许可</a>时，生命周期由最终用户和<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#user-agent">用户代理</a>协商确定。
            </p>
            <p>
                每个权限都有一个<dfn data-for="permission" id="dfn-default-state" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">默认状态</dfn>（通常是<a data-link-type="dfn|abstract-op" href="#dfn-prompt"
                    class="internalDFN" id="ref-for-dfn-prompt-1">"提示"</a>），这是指用户尚未授予<a data-link-type="dfn|abstract-op"
                    href="#dfn-express-permission" class="internalDFN"
                    id="ref-for-dfn-express-permission-4">明确权限</a>使用该<a data-link-type="dfn|abstract-op"
                    href="#dfn-powerful-feature" class="internalDFN" id="ref-for-dfn-powerful-feature-10">功能</a>或由于其<a
                    data-link-type="dfn|abstract-op" href="#dfn-lifetime" class="internalDFN"
                    id="ref-for-dfn-lifetime-2">生命周期</a>到期而被重置时的状态。
            </p>
        </section>
        <section id="permission-store">
            <div class="header-wrapper">
                <h3 id="x3-2-permission-store"><bdi class="secno">3.2 </bdi>
                    权限存储
                </h3><a class="self-link" href="#permission-store" aria-label="第3.2节的固定链接"></a>
            </div>

            <p>
                用户代理维护一个单一的<dfn class="export" data-export="" id="dfn-permission-store" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">权限存储</dfn>，它是一个<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-store-entry" class="internalDFN"
                    id="ref-for-dfn-permission-store-entry-1">权限存储条目</a>的<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list">列表</a>。每个由其<a data-link-type="dfn|abstract-op"
                    href="#dfn-descriptor" class="internalDFN" id="ref-for-dfn-descriptor-1">描述符</a>和<a
                    data-link-type="dfn|abstract-op" href="#dfn-key" class="internalDFN"
                    id="ref-for-dfn-key-1">键</a>表示的特定<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-store-entry" class="internalDFN"
                    id="ref-for-dfn-permission-store-entry-2">条目</a>在此列表中最多只能出现一次。
            </p>
            <p>
                当相应<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                    id="ref-for-dfn-permission-3">权限</a>的<a data-link-type="dfn|abstract-op" href="#dfn-lifetime"
                    class="internalDFN" id="ref-for-dfn-lifetime-3">生命周期</a>已过期时，用户代理<em class="rfc2119">可以</em>从<a
                    data-link-type="dfn|abstract-op" href="#dfn-permission-store" class="internalDFN"
                    id="ref-for-dfn-permission-store-1">权限存储</a>中移除<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-store-entry" class="internalDFN"
                    id="ref-for-dfn-permission-store-entry-3">条目</a>。
            </p>
            <p>
                一个<dfn class="export" data-local-lt="entry" data-export="" data-lt="permission store entry|entry"
                    data-plurals="permission store entries|entries" id="dfn-permission-store-entry" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">权限存储条目</dfn>是一个由<a data-link-type="idl"
                    data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-1"><code>PermissionDescriptor</code></a>
                <dfn class="export" data-dfn-for="permission store entry" data-export="" id="dfn-descriptor"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">描述符</dfn>、<a
                    data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                    id="ref-for-dfn-permission-key-1">权限键</a> <dfn class="export" data-dfn-for="permission store entry"
                    data-export="" id="dfn-key" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">键</dfn>和<a
                    data-link-type="dfn|abstract-op" href="#dfn-states" class="internalDFN"
                    id="ref-for-dfn-states-3">状态</a> <dfn class="export" data-dfn-for="permission store entry"
                    data-export="" id="dfn-state" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">状态</dfn>组成的<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple">元组</a>。
            </p>
            <div class="algorithm">
                <p>
                    给定一个<a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-2"><code>PermissionDescriptor</code></a> <var
                        data-type="PermissionDescriptor">描述符</var>和一个<a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-key" class="internalDFN" id="ref-for-dfn-permission-key-2">权限键</a>
                    <var>键</var>，要<dfn class="export" data-export="" id="dfn-get-a-permission-store-entry" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">获取权限存储条目</dfn>：
                </p>
                <ol>
                    <li>

                        如果用户代理的<a data-link-type="dfn|abstract-op" href="#dfn-permission-store" class="internalDFN"
                            id="ref-for-dfn-permission-store-2">权限存储</a><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-contain">包含</a>一个<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-permission-store-entry-4">条目</a>，其<a data-link-type="dfn|abstract-op"
                            href="#dfn-descriptor" class="internalDFN" id="ref-for-dfn-descriptor-2">描述符</a>是<var
                            data-type="PermissionDescriptor">描述符</var>，并且其<a data-link-type="dfn|abstract-op"
                            href="#dfn-key" class="internalDFN" id="ref-for-dfn-key-2">键</a>在给定<var
                            data-type="PermissionDescriptor">描述符</var>的情况下<a data-link-type="dfn|abstract-op"
                            href="#dfn-is-equal-to" class="internalDFN"
                            id="ref-for-dfn-is-equal-to-1">等于</a><var>键</var>，则返回该条目。
                    </li>
                    <li>返回 null。
                    </li>
                </ol>
            </div>
            <div class="algorithm">
                <p>
                    给定一个<a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-3"><code>PermissionDescriptor</code></a> <var
                        data-type="PermissionDescriptor">描述符</var>、一个<a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-key" class="internalDFN" id="ref-for-dfn-permission-key-3">权限键</a>
                    <var>键</var>
                    和一个<a data-link-type="dfn|abstract-op" href="#dfn-states" class="internalDFN"
                        id="ref-for-dfn-states-4">状态</a> <var>状态</var>，要<dfn class="export" data-export=""
                        id="dfn-set-a-permission-store-entry" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">设置权限存储条目</dfn>，请执行以下步骤：
                </p>
                <ol>
                    <li>令 <var>newEntry</var> 为一个新的<a data-link-type="dfn|abstract-op"
                            href="#dfn-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-permission-store-entry-5">权限存储条目</a>，其<a data-link-type="dfn|abstract-op"
                            href="#dfn-descriptor" class="internalDFN" id="ref-for-dfn-descriptor-3">描述符</a>是<var
                            data-type="PermissionDescriptor">描述符</var>，其<a data-link-type="dfn|abstract-op"
                            href="#dfn-key" class="internalDFN" id="ref-for-dfn-key-3">键</a>是<var>键</var>，
                        其<a data-link-type="dfn|abstract-op" href="#dfn-state" class="internalDFN"
                            id="ref-for-dfn-state-1">状态</a>是<var>状态</var>。
                    </li>
                    <li>如果用户代理的<a data-link-type="dfn|abstract-op" href="#dfn-permission-store" class="internalDFN"
                            id="ref-for-dfn-permission-store-3">权限存储</a><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-contain">包含</a>一个<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-permission-store-entry-6">条目</a>，其<a data-link-type="dfn|abstract-op"
                            href="#dfn-descriptor" class="internalDFN" id="ref-for-dfn-descriptor-4">描述符</a>是<var
                            data-type="PermissionDescriptor">描述符</var>，并且其<a data-link-type="dfn|abstract-op"
                            href="#dfn-key" class="internalDFN" id="ref-for-dfn-key-4">键</a>在给定<var
                            data-type="PermissionDescriptor">描述符</var>的情况下<a data-link-type="dfn|abstract-op"
                            href="#dfn-is-equal-to" class="internalDFN"
                            id="ref-for-dfn-is-equal-to-2">等于</a><var>键</var>，则<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-replace">替换</a>该条目为<var>newEntry</var>并中止这些步骤。
                    </li>
                    <li>将<var>newEntry</var><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append">附加</a>到用户代理的<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-store" class="internalDFN"
                            id="ref-for-dfn-permission-store-4">权限存储</a>。
                    </li>
                </ol>
            </div>
            <div class="algorithm">
                <p>
                    给定一个<a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-4"><code>PermissionDescriptor</code></a> <var
                        data-type="PermissionDescriptor">描述符</var>和一个<a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-key" class="internalDFN" id="ref-for-dfn-permission-key-4">权限键</a>
                    <var>键</var>，要<dfn class="export" data-export="" id="dfn-remove-a-permission-store-entry"
                        tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">移除权限存储条目</dfn>，请执行以下步骤：
                </p>
                <ol>
                    <li>从用户代理的<a data-link-type="dfn|abstract-op" href="#dfn-permission-store" class="internalDFN"
                            id="ref-for-dfn-permission-store-5">权限存储</a>中<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-remove">移除</a>其<a data-link-type="dfn|abstract-op"
                            href="#dfn-descriptor" class="internalDFN" id="ref-for-dfn-descriptor-5">描述符</a>是<var
                            data-type="PermissionDescriptor">描述符</var>，并且其<a data-link-type="dfn|abstract-op"
                            href="#dfn-key" class="internalDFN" id="ref-for-dfn-key-5">键</a>在给定<var
                            data-type="PermissionDescriptor">描述符</var>的情况下<a data-link-type="dfn|abstract-op"
                            href="#dfn-is-equal-to" class="internalDFN"
                            id="ref-for-dfn-is-equal-to-3">等于</a><var>键</var>的<a data-link-type="dfn|abstract-op"
                            href="#dfn-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-permission-store-entry-7">条目</a>。
                    </li>
                </ol>
            </div>
            <p>
                <dfn class="export" data-export="" data-plurals="permission keys" id="dfn-permission-key" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">权限键</dfn>的类型由功能的<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-key-type" class="internalDFN"
                    id="ref-for-dfn-permission-key-type-1">权限键类型</a>定义。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-1">
                <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>注意</span></div>
                <aside class="">
                    权限键定义了权限授予的范围，通常是按来源的。强大功能可能会覆盖<a data-link-type="dfn|abstract-op" href="#dfn-permission-key-type"
                        class="internalDFN"
                        id="ref-for-dfn-permission-key-type-2">权限键类型</a>以指定自定义权限键。这对于想根据附加上下文（例如，基于嵌入源和顶层源的双重键）更改权限粒度的功能非常有用。
                </aside>
            </div>
            <div class="algorithm">
                <p>
                    要确定权限键<var>key1</var>是否与权限键<var>key2</var> <a id="dfn-is-equal-to" class="export"
                        data-dfn-for="permission key" data-export="" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">相等</a>，在给定<a data-link-type="idl" data-lt="PermissionDescriptor"
                        href="#dom-permissiondescriptor" class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-5"><code>PermissionDescriptor</code></a> <var
                        data-type="PermissionDescriptor">描述符</var>的情况下，请执行以下步骤：
                </p>
                <ol>
                    <li>如果<var>key1</var>不是<var data-type="PermissionDescriptor">描述符</var>的<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-key-type" class="internalDFN"
                            id="ref-for-dfn-permission-key-type-3">权限键类型</a>，或者<var>key2</var>不是<var
                            data-type="PermissionDescriptor">描述符</var>的<a data-link-type="dfn|abstract-op"
                            href="#dfn-permission-key-type" class="internalDFN"
                            id="ref-for-dfn-permission-key-type-4">权限键类型</a>，则返回false。
                    </li>
                    <li>返回为由<var data-type="PermissionDescriptor">描述符</var>的<a data-link-type="idl"
                            href="#dom-permissiondescriptor-name" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-1"><code>name</code></a>命名的功能运行<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-key-comparison-algorithm"
                            class="internalDFN"
                            id="ref-for-dfn-permission-key-comparison-algorithm-1">权限键比较算法</a>的结果，传递<var>key1</var>和<var>key2</var>。
                    </li>
                </ol>
            </div>
        </section>
        <section id="powerful-features">
            <div class="header-wrapper">
                <h3 id="x3-3-powerful-features"><bdi class="secno">3.3 </bdi>
                    强大功能
                </h3><a class="self-link" href="#powerful-features" aria-label="第3.3节的固定链接"></a>
            </div>

            <p data-cite="permissions-policy">
                <dfn class="export" data-local-lt="feature" data-export="" data-lt="powerful feature|feature"
                    data-plurals="powerful features|features" id="dfn-powerful-feature" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">强大功能</dfn>是指用户在使用前需要给予<a data-link-type="dfn|abstract-op"
                    href="#dfn-express-permission" class="internalDFN" id="ref-for-dfn-express-permission-5">明确许可</a>的
                Web 平台功能（通常是 API）。
                除少数显著例外（例如，<cite><a data-matched-text="[[[Notifications]]]"
                        href="https://notifications.spec.whatwg.org/">通知 API 标准</a></cite>），大多数强大功能也是<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>。对于同时也是<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>的强大功能，[<cite><a
                        class="bibref" data-link-type="biblio" href="#bib-permissions-policy"
                        title="Permissions Policy">权限策略</a></cite>] 控制<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-document">文档</a>是否<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">允许使用</a>给定的功能。
                也就是说，只有当<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document">文档</a>通过相应的<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>获得了权限委派时，强大功能才能向用户请求<a
                    data-link-type="dfn|abstract-op" href="#dfn-express-permission" class="internalDFN"
                    id="ref-for-dfn-express-permission-6">明确许可</a>（参见下面的示例）。
                后续对该功能的访问取决于用户是否已<a data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                    id="ref-for-dfn-granted-3">“授予”</a>权限，或者满足某些等同于权限<a data-link-type="dfn|abstract-op"
                    href="#dfn-granted" class="internalDFN" id="ref-for-dfn-granted-4">授予</a>的标准。
            </p>
            <aside class="example" id="example-powerful-features-are-policy-controlled-features">
                <div class="marker">
                    <a class="self-link" href="#example-powerful-features-are-policy-controlled-features">示例<bdi>
                            4</bdi></a><span class="example-title">: 强大功能是策略控制的功能</span>
                </div>
                <p>
                    此示例显示了通过
                    <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                    属性设置的权限策略如何控制
                    <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                    是否<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">允许使用</a>强大功能。
                    因为允许 <code>"geolocation"</code>，所以
                    <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                    的文档可以向用户请求使用<cite><a data-matched-text="[[[Geolocation]]]"
                            href="https://www.w3.org/TR/geolocation/">地理位置</a></cite>的权限（即，它将提示用户明确许可访问其位置信息）。但是，请求使用任何其他功能的权限都将被自动拒绝，因为它们未在
                    <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                    属性中列出。
                </p>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://example.com/"</span> <span class="hljs-attr">allow</span>=<span class="hljs-string">"geolocation"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
                <p>
                    有关更多信息，请参见<a href="#relationship-to-permissions-policy"
                        data-matched-text="[[[#relationship-to-permissions-policy]]]" class="sec-ref"><bdi
                            class="secno">A. </bdi>
                        与权限策略规范的关系</a>。
                </p>
            </aside>
            <p>
                <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-11">强大功能</a>由其<dfn class="export" data-dfn-for="powerful feature"
                    data-export="" id="dfn-name" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">名称</dfn>标识，该名称是一个字符串字面量（例如，“geolocation”）。
            </p>
            <p>
                用户代理通过<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">环境设置对象</a>跟踪用户拥有使用哪些<a
                    data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-12">强大功能</a>的<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission" class="internalDFN" id="ref-for-dfn-permission-4">权限</a>。
            </p>
            <section id="aspects">
                <div class="header-wrapper">
                    <h4 id="x3-3-1-aspects"><bdi class="secno">3.3.1 </bdi>
                        方面
                    </h4><a class="self-link" href="#aspects" aria-label="Permalink for Section 3.3.1"></a>
                </div>

                <p>
                    每个<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-13">强大功能</a>可以定义零个或多个额外的<dfn data-dfn-for="powerful feature"
                        id="dfn-aspects" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">方面</dfn>。方面定义为 WebIDL
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary">字典</a>，它<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-inherit-dictionary">继承</a>自 <a
                        data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-6"><code>PermissionDescriptor</code></a> 并用作 WebIDL
                    接口的<a data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type" class="internalDFN"
                        id="ref-for-dfn-permission-descriptor-type-1">权限描述符类型</a>。
                </p>
                <aside class="example" id="example-defining-your-own-permission-descriptor-type">
                    <div class="marker">
                        <a class="self-link" href="#example-defining-your-own-permission-descriptor-type">示例<bdi>
                                5</bdi></a><span class="example-title">: 定义您自己的权限描述符类型</span>
                    </div>
                    <p>
                        一个假设的<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-14">强大功能</a>“食物探测器 API”具有两个<a
                            data-link-type="dfn|abstract-op" href="#dfn-aspects" class="internalDFN"
                            id="ref-for-dfn-aspects-1">方面</a>，允许感知味觉和嗅觉。因此，规范将定义一个新的 WebIDL 接口，该接口<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-inherit-dictionary">继承</a> <a
                            data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                            class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-7"><code>PermissionDescriptor</code></a>：
                    </p>
                    <pre aria-busy="false"><code class="hljs yaml"><span class="hljs-attr">dictionary SensesPermissionDescriptor :</span> <span class="hljs-string">PermissionDescriptor</span> {
  <span class="hljs-string">boolean</span> <span class="hljs-string">canSmell</span> <span class="hljs-string">=</span> <span class="hljs-literal">false</span><span class="hljs-string">;</span>
  <span class="hljs-string">boolean</span> <span class="hljs-string">canTaste</span> <span class="hljs-string">=</span> <span class="hljs-literal">false</span><span class="hljs-string">;</span>
}<span class="hljs-string">;</span></code></pre>
                    <p>
                        然后将通过 API 以下列方式查询：
                    </p>
                    <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// 检查“感官”强大功能是否允许闻东西</span>
<span class="hljs-keyword">const</span> status = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">"senses"</span>,
    <span class="hljs-attr">canSmell</span>: <span class="hljs-literal">true</span>,
});
<span class="hljs-comment">// 用状态做一些有趣的事情。</span></code></pre>
                    <p>
                        用户可以将“感官”强大功能限制为仅“味觉”，在这种情况下，上述 <a data-link-type="idl" data-lt="PermissionStatus"
                            href="#dom-permissionstatus" class="internalDFN"
                            id="ref-for-dom-permissionstatus-1"><code>PermissionStatus</code></a> 的 <a
                            data-link-type="idl" href="#dom-permissionstatus-state" class="internalDFN"
                            id="ref-for-dom-permissionstatus-state-1"><code>state</code></a> 将是“<a data-link-type="idl"
                            href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-1"><code>denied</code></a>”。
                    </p>
                </aside>
            </section>
        </section>
        <section id="permissions-task-source">
            <div class="header-wrapper">
                <h3 id="x3-4-permissions-task-source"><bdi class="secno">3.4 </bdi>
                    权限任务来源
                </h3><a class="self-link" href="#permissions-task-source" aria-label="第3.4节的固定链接"></a>
            </div>

            <p>
                <dfn id="dfn-permissions-task-source" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">权限任务源</dfn>是一个<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">任务源</a>，用于在本规范中执行与权限相关的<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task">任务</a>。
            </p>
        </section>
    </section>
    <section id="specifying-a-powerful-feature">
        <div class="header-wrapper">
            <h2 id="x4-specifying-a-powerful-feature"><bdi class="secno">4. </bdi>
                指定强大功能
            </h2><a class="self-link" href="#specifying-a-powerful-feature" aria-label="第4节的固定链接"></a>
        </div>

        <p>
            当符合<a data-link-type="dfn|abstract-op" href="#dfn-specifications" class="internalDFN"
                id="ref-for-dfn-specifications-1">规范</a><dfn class="export" data-export=""
                id="dfn-specifies-a-powerful-feature" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">指定强大功能</dfn>时，它：
        </p>
        <ol>
            <li><em class="rfc2119">必须</em>为<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                    class="internalDFN" id="ref-for-dfn-powerful-feature-15">强大功能</a>提供一个<a
                    data-link-type="dfn|abstract-op" href="#dfn-name" class="internalDFN"
                    id="ref-for-dfn-name-1">名称</a>，其形式为<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#ascii-lowercase">ASCII 小写</a>字符串。
            </li>
            <li><em class="rfc2119">可以</em>定义一个<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-descriptor-type" class="internalDFN"
                    id="ref-for-dfn-permission-descriptor-type-2">权限描述符类型</a>，该类型继承自<a data-link-type="idl"
                    data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-8"><code>PermissionDescriptor</code></a>。
            </li>
            <li><em class="rfc2119">可以</em>定义零个或多个<a data-link-type="dfn|abstract-op" href="#dfn-aspects"
                    class="internalDFN" id="ref-for-dfn-aspects-2">方面</a>。
            </li>
            <li><em class="rfc2119">可以</em>在默认值不适用于特定<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                    class="internalDFN" id="ref-for-dfn-powerful-feature-16">强大功能</a>的情况下，覆盖以下算法和类型。
            </li>
            <li><em class="rfc2119">必须</em>在<cite><a data-matched-text="[[[permissions-registry]]]"
                        href="https://w3c.github.io/permissions-registry/">权限注册表</a></cite>中注册<a
                    data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-17">强大功能</a>。
            </li>
        </ol>
        <p class="advisement">
            在<cite><a data-matched-text="[[[permissions-registry]]]"
                    href="https://w3c.github.io/permissions-registry/">权限注册表</a></cite>中注册新指定的<a
                data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-18">强大功能</a>，为该工作组提供了反馈机会，并检查与本规范的集成是否有效。
        </p>
        <dl>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-descriptor-type"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">权限描述符类型</dfn>：
            </dt>
            <dd>
                <p>
                    <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-9"><code>PermissionDescriptor</code></a>或其子类型。如果未指定，默认值为<a
                        data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-10"><code>PermissionDescriptor</code></a>。
                </p>
                <p>
                    该功能可以定义描述符实例的<a
                        href="https://en.wikipedia.org/wiki/Partially_ordered_set">部分顺序</a>。如果<var>descriptorA</var><dfn
                        class="export" data-dfn-for="PermissionDescriptor" data-export="" id="dfn-stronger-than"
                        tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">强于</dfn><var>descriptorB</var>，则如果<var>descriptorA</var>的<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-1">权限状态</a>为"<a data-link-type="idl"
                        href="#dom-permissionstate-granted" class="internalDFN"
                        id="ref-for-dom-permissionstate-granted-1"><code>granted</code></a>"，则<var>descriptorB</var>的<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-2">权限状态</a>也必须为"<a data-link-type="idl"
                        href="#dom-permissionstate-granted" class="internalDFN"
                        id="ref-for-dom-permissionstate-granted-2"><code>granted</code></a>"，如果<var>descriptorB</var>的<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-3">权限状态</a>为"<a data-link-type="idl"
                        href="#dom-permissionstate-denied" class="internalDFN"
                        id="ref-for-dom-permissionstate-denied-2"><code>denied</code></a>"，则<var>descriptorA</var>的<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-4">权限状态</a>也必须为"<a data-link-type="idl"
                        href="#dom-permissionstate-denied" class="internalDFN"
                        id="ref-for-dom-permissionstate-denied-3"><code>denied</code></a>"。
                </p>
                <aside class="example" id="example-stronger-than">
                    <div class="marker">
                        <a class="self-link" href="#example-stronger-than">示例<bdi> 6</bdi></a><span
                            class="example-title">：定义部分顺序的权限描述符</span>
                    </div>
                    <p>
                        <code>{name: "midi", sysex: true}</code>（“带sysex的midi”）<a data-link-type="dfn|abstract-op"
                            href="#dfn-stronger-than" class="internalDFN"
                            id="ref-for-dfn-stronger-than-1">强于</a><code>{name: "midi", sysex: false}</code>（“不带sysex的midi”），因此如果用户拒绝访问不带sysex的midi，UA也必须拒绝访问带sysex的midi，类似地，如果用户授予了访问带sysex的midi的权限，用户代理也必须授予不带sysex的midi的访问权限。
                    </p>
                </aside>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-state-constraints"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">权限状态约束</dfn>：
            </dt>
            <dd>
                限制用户代理可以作为描述符的<a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                    id="ref-for-dfn-permission-state-5">权限状态</a>返回的值。默认情况下，除了用户意图之外没有其他约束。
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-extra-permission-data-type"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">额外权限数据类型</dfn>：
            </dt>
            <dd>
                <p>
                    某些<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-19">强大功能</a>比仅仅提供一个<a data-link-type="idl"
                        data-lt="PermissionState" href="#dom-permissionstate" class="internalDFN"
                        id="ref-for-dom-permissionstate-1"><code>PermissionState</code></a>关联了更多信息。这些功能中的每一个都定义了一个<a
                        data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data-type" class="internalDFN"
                        id="ref-for-dfn-extra-permission-data-type-1">额外权限数据类型</a>。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-2">
                    <div role="heading" class="note-title marker" id="h-note-2" aria-level="3"><span>注意</span></div>
                    <p class="" data-cite="mediacapture-streams ECMAScript">
                        例如，<a data-link-type="method" data-lt="getUserMedia()"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
                        需要确定用户已授予访问权限的<em>哪些</em>摄像头。
                    </p>
                </div>
                <div class="algorithm">
                    <p>
                        如果 <a data-link-type="interface" data-lt="DOMString"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                        <var>name</var> 命名了这些功能之一，那么 <var>name</var> 的
                        <dfn data-dfn-for="powerful feature" class="export" data-export=""
                            id="dfn-extra-permission-data" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">额外权限数据</dfn>（对于一个可选的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">环境设置对象</a>
                        <var>settings</var>）是以下算法的结果：
                    </p>
                    <ol>
                        <li>如果未传递 <var>settings</var>，则将其设置为<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">当前设置对象</a>。
                        </li>
                        <li>如果先前曾使用相同的 <var>name</var> 和 <var>settings</var> 调用此算法并返回了
                            <var>previousResult</var>，并且自该调用以来用户代理未收到关于用户意图的<a
                                href="#dfn-new-information-about-the-user-s-intent" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-new-information-about-the-user-s-intent-1">新信息</a>，则返回
                            <var>previousResult</var>。
                        </li>
                        <li>返回与用户代理对用户意图的印象相匹配的 <var>name</var> 的<a data-link-type="dfn|abstract-op"
                                href="#dfn-extra-permission-data-type" class="internalDFN"
                                id="ref-for-dfn-extra-permission-data-type-2">额外权限数据类型</a>的实例，同时考虑 <var>name</var> 的任何<a
                                data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data-constraints"
                                class="internalDFN" id="ref-for-dfn-extra-permission-data-constraints-1">额外权限数据约束</a>。
                        </li>
                    </ol>
                </div>
                <p>
                    如果指定，则该<a data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data" class="internalDFN"
                        id="ref-for-dfn-extra-permission-data-1">额外权限数据</a>算法可用于此功能。
                </p>
            </dd>
            <dt>
                可选的<dfn data-dfn-for="powerful feature" class="export" data-export=""
                    id="dfn-extra-permission-data-constraints" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">额外权限数据约束</dfn>：
            </dt>
            <dd>
                限制用户代理可以作为<a data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data" class="internalDFN"
                    id="ref-for-dfn-extra-permission-data-2">额外权限数据</a>返回的<a data-link-type="dfn|abstract-op"
                    href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-20">强大功能</a>的值。默认情况下，除了用户意图之外没有其他约束。
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-result-type"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">权限结果类型</dfn>：
            </dt>
            <dd>
                <a data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus" class="internalDFN"
                    id="ref-for-dom-permissionstatus-2"><code>PermissionStatus</code></a>或其子类型。如果未指定，默认值为<a
                    data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus" class="internalDFN"
                    id="ref-for-dom-permissionstatus-3"><code>PermissionStatus</code></a>。
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-query-algorithm"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">权限查询算法</dfn>：
            </dt>
            <dd>
                <p>
                    接收一个<a data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type" class="internalDFN"
                        id="ref-for-dfn-permission-descriptor-type-3">权限描述符类型</a>实例和一个新的或现有的<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-result-type" class="internalDFN"
                        id="ref-for-dfn-permission-result-type-1">权限结果类型</a>实例，并更新<a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-result-type" class="internalDFN"
                        id="ref-for-dfn-permission-result-type-2">权限结果类型</a>实例的查询结果。由<a data-link-type="idl"
                        data-lt="Permissions" href="#dom-permissions" class="internalDFN"
                        id="ref-for-dom-permissions-1"><code>Permissions</code></a>的<a data-link-type="idl"
                        data-lt="query(permissionDesc)" href="#dom-permissions-query" class="internalDFN"
                        id="ref-for-dom-permissions-query-1"><code>query</code></a><code>(<var>permissionDesc</var>)</code>方法和<a
                        data-link-type="dfn|abstract-op" href="#dfn-permissionstatus-update-steps" class="internalDFN"
                        id="ref-for-dfn-permissionstatus-update-steps-1"><code>PermissionStatus</code>更新步骤</a>使用。如果未指定，默认使用<a
                        data-link-type="dfn|abstract-op" href="#dfn-default-permission-query-algorithm"
                        class="internalDFN" id="ref-for-dfn-default-permission-query-algorithm-1">默认权限查询算法</a>。
                </p>
                <div class="algorithm">
                    <p>
                        <dfn data-export="" id="dfn-default-permission-query-algorithm" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn">默认权限查询算法</dfn>，给定一个<a data-link-type="idl"
                            data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-11"><code>PermissionDescriptor</code></a><var>permissionDesc</var>和一个<a
                            data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus"
                            class="internalDFN"
                            id="ref-for-dom-permissionstatus-4"><code>PermissionStatus</code></a><var>status</var>，运行以下步骤：
                    </p>
                    <ol>
                        <li>设置<code><var>status</var></code>的<a data-link-type="idl" href="#dom-permissionstatus-state"
                                class="internalDFN"
                                id="ref-for-dom-permissionstatus-state-2"><code>state</code></a>为<var>permissionDesc</var>的<a
                                href="#dfn-permission-state" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-permission-state-6">权限状态</a>。
                        </li>
                    </ol>
                </div>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export="" id="dfn-permission-key-type"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">权限键类型</dfn>：
            </dt>
            <dd>
                <p>
                    该功能使用的<a data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                        id="ref-for-dfn-permission-key-7">权限密钥</a>的类型。默认为<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">源
                        (origin)</a>。指定自定义<a data-link-type="dfn|abstract-op" href="#dfn-permission-key-type"
                        class="internalDFN" id="ref-for-dfn-permission-key-type-5">权限密钥类型</a>的功能<em
                        class="rfc2119">必须</em>同时指定一个<a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-key-generation-algorithm" class="internalDFN"
                        id="ref-for-dfn-permission-key-generation-algorithm-1">权限密钥生成算法</a>。
                </p>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export=""
                    id="dfn-permission-key-generation-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">权限键生成算法</dfn>：
            </dt>
            <dd>
                <p>
                    接受一个<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">环境设置对象</a>，并返回一个新的<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                        id="ref-for-dfn-permission-key-8">权限密钥</a>。如果未指定，则默认为<a data-link-type="dfn|abstract-op"
                        href="#dfn-default-permission-key-generation-algorithm" class="internalDFN"
                        id="ref-for-dfn-default-permission-key-generation-algorithm-1">默认权限密钥生成算法</a>。
                    指定自定义<a data-link-type="dfn|abstract-op" href="#dfn-permission-key-generation-algorithm"
                        class="internalDFN" id="ref-for-dfn-permission-key-generation-algorithm-2">权限密钥生成算法</a>的功能<em
                        class="rfc2119">必须</em>同时指定一个<a data-link-type="dfn|abstract-op"
                        href="#dfn-permission-key-comparison-algorithm" class="internalDFN"
                        id="ref-for-dfn-permission-key-comparison-algorithm-2">权限密钥比较算法</a>。
                </p>
                <div class="algorithm">
                    <p>
                        <dfn class="export" data-export="" id="dfn-default-permission-key-generation-algorithm"
                            tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">默认权限密钥生成算法</dfn>，给定一个<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">环境设置对象</a>
                        <var>settings</var>，运行以下步骤：
                    </p>
                    <ol>
                        <li>返回 <var>settings</var> 的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin">顶级源</a>。
                        </li>
                    </ol>
                </div>
                <div class="note" role="note" id="issue-container-generatedID-3">
                    <div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>注意</span><span
                            class="issue-label">：权限委托</span></div>
                    <aside class="">
                        大多数强大功能将权限授予顶级来源，并通过<cite><a data-matched-text="[[[Permissions-Policy]]]"
                                href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>将访问权限委托给请求文档。这被称为权限委托。
                    </aside>
                </div>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export=""
                    id="dfn-permission-key-comparison-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">权限键比较算法</dfn>：
            </dt>
            <dd>
                <p>
                    接受两个<a data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                        id="ref-for-dfn-permission-key-9">权限密钥</a>并返回一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#boolean">布尔值</a>，该布尔值显示两个密钥是否相等。如果未指定，则默认为<a
                        data-link-type="dfn|abstract-op" href="#dfn-default-permission-key-comparison-algorithm"
                        class="internalDFN"
                        id="ref-for-dfn-default-permission-key-comparison-algorithm-1">默认权限密钥比较算法</a>。
                </p>
                <div class="algorithm">
                    <p>
                        <dfn class="export" data-export="" id="dfn-default-permission-key-comparison-algorithm"
                            tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">默认权限密钥比较算法</dfn>，给定<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-key" class="internalDFN"
                            id="ref-for-dfn-permission-key-10">权限密钥</a> <var>key1</var> 和 <var>key2</var>，运行以下步骤：
                    </p>
                    <ol>
                        <li>如果 <var>key1</var> 与 <var>key2</var> <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin">同源</a>，则返回 true。
                        </li>
                    </ol>
                </div>
            </dd>
            <dt>
                <dfn data-dfn-for="powerful feature" class="export" data-export=""
                    id="dfn-permission-revocation-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">权限撤销算法</dfn>：
            </dt>
            <dd>
                <p>
                    不接收任何参数。更新实现中的其他部分，使其与<a data-link-type="dfn|abstract-op" href="#dfn-permission-state"
                        class="internalDFN" id="ref-for-dfn-permission-state-7">权限状态</a>或<a
                        data-link-type="dfn|abstract-op" href="#dfn-extra-permission-data" class="internalDFN"
                        id="ref-for-dfn-extra-permission-data-3">额外权限数据</a>的变化保持同步。
                </p>
                <p>
                    如果未指定，默认运行<a data-link-type="dfn|abstract-op" href="#dfn-react-to-the-user-revoking-permission"
                        class="internalDFN" id="ref-for-dfn-react-to-the-user-revoking-permission-1">响应用户撤销权限</a>。
                </p>
            </dd>
            <dt>
                <a data-link-type="dfn|abstract-op" href="#dfn-lifetime" class="internalDFN"
                    id="ref-for-dfn-lifetime-4">权限生命周期</a>：
            </dt>
            <dd>
                <p>
                    定义一个或多个<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-21">强大功能</a>的规范<em class="rfc2119">应该</em>建议最适合特定功能的<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                        id="ref-for-dfn-permission-5">权限</a><a data-link-type="dfn|abstract-op" href="#dfn-lifetime"
                        class="internalDFN" id="ref-for-dfn-lifetime-5">生命周期</a>。
                    以下提供了一些确定权限生命周期的指南，重点是用户隐私。如果未指定<a data-link-type="dfn|abstract-op" href="#dfn-lifetime"
                        class="internalDFN" id="ref-for-dfn-lifetime-6">生命周期</a>，则由用户代理提供。
                </p>
                <p>
                    当来源的权限<a data-link-type="dfn|abstract-op" href="#dfn-lifetime" class="internalDFN"
                        id="ref-for-dfn-lifetime-7">生命周期</a>到期时：
                </p>
                <ol>
                    <li>将权限设置回其默认的<a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                            id="ref-for-dfn-permission-state-8">权限状态</a>（例如，通过将其设置回<a data-link-type="dfn|abstract-op"
                            href="#dfn-prompt" class="internalDFN" id="ref-for-dfn-prompt-2">“提示”</a>）。
                    </li>
                    <li>对于与源关联的每个<var>浏览上下文</var>（如果有），在<a data-link-type="dfn|abstract-op"
                            href="#dfn-permissions-task-source" class="internalDFN"
                            id="ref-for-dfn-permissions-task-source-1">权限任务源</a>上使用<var>浏览上下文</var>的<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object">全局对象</a><a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">排队一个全局任务</a>，以运行<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-revocation-algorithm"
                            class="internalDFN" id="ref-for-dfn-permission-revocation-algorithm-1">权限撤销算法</a>。
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-4">
                    <div role="heading" class="note-title marker" id="h-note-4" aria-level="3"><span>注意</span><span
                            class="issue-label">：确定权限生命周期</span></div>
                    <aside class="">
                        <p>
                            对于特别注重隐私的<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                                class="internalDFN" id="ref-for-dfn-powerful-feature-22">强大功能</a>，例如<cite><a
                                    data-matched-text="[[[GETUSERMEDIA]]]"
                                    href="https://www.w3.org/TR/mediacapture-streams/">媒体捕获和流</a></cite>（它允许 Web
                            应用程序访问用户的摄像头和麦克风），一些用户代理会在浏览器选项卡关闭或<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate">导航</a>后立即终止权限<a
                                data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                                id="ref-for-dfn-granted-5">授予</a>。
                            对于其他功能，例如<cite><a data-matched-text="[[[Geolocation]]]"
                                    href="https://www.w3.org/TR/geolocation/">地理位置</a></cite>，已知用户代理会提供仅在会话期间或一天内授予权限的选项。
                            其他功能，例如<cite><a data-matched-text="[[[Notifications]]]"
                                    href="https://notifications.spec.whatwg.org/">通知 API 标准</a></cite>和<cite><a
                                    data-matched-text="[[[push-api]]]" href="https://www.w3.org/TR/push-api/">推送
                                    API</a></cite>，会无限期地记住用户的决定，或者直到用户手动撤销权限。请注意，权限<a data-link-type="dfn|abstract-op"
                                href="#dfn-lifetime" class="internalDFN"
                                id="ref-for-dfn-lifetime-8">生命周期</a>在不同的用户代理之间可能存在显著差异。
                        </p>
                        <p>
                            为权限的生命周期找到合适的平衡点需要大量的思考和实验，并且通常会经过多年的演变。鼓励实现者与其 UX 安全团队合作，在轻松访问<a
                                data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-23">强大功能</a>（即减少权限提示的数量）、尊重用户隐私以及让用户了解 Web
                            应用程序何时使用特定的强大功能（例如，通过某些视觉或听觉 UI 指示器）之间找到合适的平衡点。
                        </p>
                        <p>
                            如果您不确定为<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-24">强大功能</a>建议什么样的<a data-link-type="dfn|abstract-op"
                                href="#dfn-lifetime" class="internalDFN" id="ref-for-dfn-lifetime-9">生命周期</a>，请联系<a
                                href="https://www.w3.org/Privacy/IG/">隐私兴趣小组</a>以获取指导。
                        </p>
                    </aside>
                </div>
            </dd>
            <dt>
                <dfn class="export" data-dfn-for="powerful feature" data-export="" id="dfn-default-permission-state"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">默认权限状态</dfn>：
            </dt>
            <dd>
                <p>
                    一个<a data-link-type="idl" data-lt="PermissionState" href="#dom-permissionstate" class="internalDFN"
                        id="ref-for-dom-permissionstate-2"><code>PermissionState</code></a>值，用作<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                        id="ref-for-dfn-permission-6">权限</a>的<a data-link-type="dfn|abstract-op"
                        href="#dfn-default-state" class="internalDFN" id="ref-for-dfn-default-state-2">默认状态</a>，适用于<a
                        data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-25">强大功能</a>。
                </p>
                <p>
                    如果未指定，<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                        id="ref-for-dfn-permission-7">权限</a>的<a data-link-type="dfn|abstract-op"
                        href="#dfn-default-state" class="internalDFN" id="ref-for-dfn-default-state-3">默认状态</a>为
                    "<a data-link-type="idl" href="#dom-permissionstate-prompt" class="internalDFN"
                        id="ref-for-dom-permissionstate-prompt-1"><code>提示</code></a>"。
                </p>
            </dd>
        </dl>
        <p>
            一个<a class="export" data-export="" id="dfn-default-powerful-feature" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">默认强大功能</a>是一个<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature"
                class="internalDFN" id="ref-for-dfn-powerful-feature-26">强大功能</a>，其所有类型和算法都使用默认值。
        </p>
    </section>
    <section id="algorithms-to-interface-with-permissions">
        <div class="header-wrapper">
            <h2 id="x5-algorithms-to-interface-with-permissions"><bdi class="secno">5. </bdi>
                与权限交互的算法
            </h2><a class="self-link" href="#algorithms-to-interface-with-permissions" aria-label="第5节的永久链接"></a>
        </div>

        <section data-cite="permissions-policy" id="reading-the-current-permission-state">
            <div class="header-wrapper">
                <h3 id="reading-current-states"><bdi class="secno">5.1 </bdi>
                    读取当前权限状态
                </h3><a class="self-link" href="#reading-current-states" aria-label="第5.1节的永久链接"></a>
            </div>

            <div class="algorithm">
                <p>
                    要<dfn class="export" data-lt="getting the current permission state|get the current permission state"
                        data-export="" id="dfn-getting-the-current-permission-state" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">获取当前权限状态</dfn>，给定一个<a data-link-type="dfn|abstract-op" href="#dfn-name"
                        class="internalDFN" id="ref-for-dfn-name-2">名称</a> <var>name</var> 和一个可选的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">环境设置对象</a>
                    <var>settings</var>，请运行以下步骤。此算法返回一个 <a data-link-type="idl" data-lt="PermissionState"
                        href="#dom-permissionstate" class="internalDFN"
                        id="ref-for-dom-permissionstate-3"><code>PermissionState</code></a> 枚举值。
                </p>
                <ol>
                    <li>让 <var data-type="PermissionDescriptor">descriptor</var> 成为一个新创建的<a data-link-type="idl"
                            data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-12"><code>PermissionDescriptor</code></a>，其
                        <a data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-2"><code>name</code></a> 被初始化为
                        <var>name</var>。
                    </li>
                    <li>返回 <var data-type="PermissionDescriptor">descriptor</var> 的
                        <a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                            id="ref-for-dfn-permission-state-9">权限状态</a>，并带有<var>settings</var>。
                    </li>
                </ol>
            </div>
            <div class="algorithm">
                <p>
                    一个 <var data-type="PermissionDescriptor">描述符</var>的<dfn class="export" data-export=""
                        data-plurals="permission states" id="dfn-permission-state" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">权限状态</dfn>，给定一个可选的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">环境设置对象</a>
                    <var>settings</var>，是以下算法的结果。
                    它返回一个 <a data-link-type="idl" data-lt="PermissionState" href="#dom-permissionstate"
                        class="internalDFN" id="ref-for-dom-permissionstate-4"><code>PermissionState</code></a> 枚举值：
                </p>
                <ol>
                    <li>如果未传递 <var>settings</var>，则将其设置为<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">当前设置对象</a>。
                    </li>
                    <li>如果 <var>settings</var> 是一个<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context">非安全上下文</a>，则返回“<a
                            data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-4"><code>denied</code></a>”。
                    </li>
                    <li>令 <var>feature</var> 为 <var data-type="PermissionDescriptor">描述符</var>的<a data-link-type="idl"
                            href="#dom-permissiondescriptor-name" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-3"><code>name</code></a>。
                    </li>
                    <li class="algorithm">如果存在一个针对 <var>feature</var> 的<a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>，并且<var>settings</var>的<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>有一个<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联的<code>Document</code></a>，则运行以下步骤：
                        <ol>
                            <li>令 <var>document</var> 为 <var>settings</var>的<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的<a
                                    data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联的<code>Document</code></a>。
                            </li>
                            <li>如果 <var>document</var> 不<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">允许使用</a>
                                <var>feature</var>，则返回“<a data-link-type="idl" href="#dom-permissionstate-denied"
                                    class="internalDFN"
                                    id="ref-for-dom-permissionstate-denied-5"><code>denied</code></a>”。
                            </li>
                        </ol>
                    </li>
                    <li>令 <var>key</var> 为使用 <var>settings</var> 为 <var data-type="PermissionDescriptor">描述符</var> <a
                            data-link-type="dfn|abstract-op" data-lt="permission key generation algorithm"
                            href="#dfn-permission-key-generation-algorithm" class="internalDFN"
                            id="ref-for-dfn-permission-key-generation-algorithm-3">生成权限密钥</a>的结果。
                    </li>
                    <li>令 <var>entry</var> 为使用 <var data-type="PermissionDescriptor">描述符</var>和<var>key</var> <a
                            data-link-type="dfn|abstract-op" data-lt="get a permission store entry"
                            href="#dfn-get-a-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-get-a-permission-store-entry-1">获取权限存储条目</a>的结果。
                    </li>
                    <li>如果 <var>entry</var> 不为 null，则从 <var>entry</var>的<a data-link-type="dfn|abstract-op"
                            href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-2">状态</a>返回一个 <a
                            data-link-type="idl" data-lt="PermissionState" href="#dom-permissionstate"
                            class="internalDFN" id="ref-for-dom-permissionstate-5"><code>PermissionState</code></a> 枚举值。
                    </li>
                    <li>返回表示 <var>feature</var> 权限状态的 <a data-link-type="idl" data-lt="PermissionState"
                            href="#dom-permissionstate" class="internalDFN"
                            id="ref-for-dom-permissionstate-6"><code>PermissionState</code></a> 枚举值，同时考虑 <var
                            data-type="PermissionDescriptor">描述符</var>的<a data-link-type="idl"
                            href="#dom-permissiondescriptor-name" class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-name-4"><code>name</code></a> 的任何<a
                            data-link-type="dfn|abstract-op" href="#dfn-permission-state-constraints"
                            class="internalDFN" id="ref-for-dfn-permission-state-constraints-1">权限状态约束</a>。
                    </li>
                </ol>
            </div>
            <p>
                作为简写，一个 <a data-link-type="interface" data-lt="DOMString"
                    href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a> <var>name</var>的<a
                    data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                    id="ref-for-dfn-permission-state-10">权限状态</a>是<a data-link-type="dfn|abstract-op"
                    href="#dfn-permission-state" class="internalDFN" id="ref-for-dfn-permission-state-11">权限状态</a>，其<a
                    data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                    class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-13"><code>PermissionDescriptor</code></a>的<a
                    data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-name-5"><code>name</code></a> 成员设置为<var>name</var>。
            </p>
        </section>
        <section id="requesting-permission-to-use-a-powerful-feature">
            <div class="header-wrapper">
                <h3 id="requesting-more-permission"><bdi class="secno">5.2 </bdi>
                    请求使用强大功能的权限
                </h3><a class="self-link" href="#requesting-more-permission" aria-label="第5.2节的永久链接"></a>
            </div>

            <div class="algorithm">
                <p>
                    要<dfn data-lt="request permission to use|requesting permission to use" class="export" data-export=""
                        id="dfn-request-permission-to-use" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">请求使用权限</dfn>一个<var data-type="PermissionDescriptor">描述符</var>，用户代理必须执行以下步骤。
                    该算法返回"<a data-link-type="idl" href="#dom-permissionstate-granted" class="internalDFN"
                        id="ref-for-dom-permissionstate-granted-3"><code>granted</code></a>"或"<a data-link-type="idl"
                        href="#dom-permissionstate-denied" class="internalDFN"
                        id="ref-for-dom-permissionstate-denied-6"><code>denied</code></a>"。
                </p>
                <ol>
                    <li>让<var>current state</var>成为<var data-type="PermissionDescriptor">描述符</var>的
                        <a href="#dfn-permission-state" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-permission-state-12">权限状态</a>。
                    </li>
                    <li>如果<var>current state</var>不是"<a data-link-type="idl" href="#dom-permissionstate-prompt"
                            class="internalDFN" id="ref-for-dom-permissionstate-prompt-2"><code>prompt</code></a>"，
                        返回<var>current state</var>并中止这些步骤。
                    </li>
                    <li>请求用户提供<a href="#dfn-express-permission" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-express-permission-7">明确权限</a>，以允许调用算法使用
                        <a href="#dfn-powerful-feature" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-powerful-feature-27">强大功能</a>，该功能由<var
                            data-type="PermissionDescriptor">描述符</var>描述。
                    </li>
                    <li>如果用户授予使用强大功能的<a data-link-type="dfn|abstract-op" href="#dfn-express-permission"
                            class="internalDFN" id="ref-for-dfn-express-permission-8">明确许可</a>，则将 <var>current
                            state</var> 设置为“<a data-link-type="idl" href="#dom-permissionstate-granted"
                            class="internalDFN" id="ref-for-dom-permissionstate-granted-4"><code>granted</code></a>”；
                        否则设置为“<a data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-7"><code>denied</code></a>”。
                        用户的交互可能会为<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">源</a>提供关于用户意图的<a
                            href="#dfn-new-information-about-the-user-s-intent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-new-information-about-the-user-s-intent-2">新信息</a>。
                        <div class="note" role="note" id="issue-container-generatedID-5">
                            <div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>注意</span>
                            </div>
                            <p class="">
                                此处故意对权限用户界面的细节以及用户代理如何推断用户意图保持模糊。用户代理应该能够在此框架内探索许多用户界面。
                            </p>
                        </div>
                    </li>
                    <li>令 <var>key</var> 为使用<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">当前设置对象</a><a
                            data-link-type="dfn|abstract-op" data-lt="permission key generation algorithm"
                            href="#dfn-permission-key-generation-algorithm" class="internalDFN"
                            id="ref-for-dfn-permission-key-generation-algorithm-4">生成权限密钥</a>的结果。
                    </li>
                    <li>在<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">当前设置对象</a>的<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop">负责事件循环</a>上<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>，以使用
                        <var data-type="PermissionDescriptor">descriptor</var>、
                        <var>key</var> 和 <var>current state</var> <a data-link-type="dfn|abstract-op"
                            href="#dfn-set-a-permission-store-entry" class="internalDFN"
                            id="ref-for-dfn-set-a-permission-store-entry-1">设置权限存储条目</a>。
                    </li>
                    <li>返回<var>current state</var>。
                    </li>
                </ol>
            </div>
            <p>
                作为简写，<a data-link-type="dfn|abstract-op" href="#dfn-request-permission-to-use" class="internalDFN"
                    id="ref-for-dfn-request-permission-to-use-1">请求使用权限</a>一个<a data-link-type="interface"
                    data-lt="DOMString" href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                <var>name</var>，与<a data-link-type="dfn|abstract-op" href="#dfn-request-permission-to-use"
                    class="internalDFN" id="ref-for-dfn-request-permission-to-use-2">请求使用权限</a>一个<a data-link-type="idl"
                    data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-14"><code>PermissionDescriptor</code></a>（其<a
                    data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-name-6"><code>name</code></a>成员设置为<var>name</var>）相同。
            </p>
        </section>
        <section id="prompt-the-user-to-choose">
            <div class="header-wrapper">
                <h3 id="x5-3-prompt-the-user-to-choose"><bdi class="secno">5.3 </bdi>
                    提示用户选择
                </h3><a class="self-link" href="#prompt-the-user-to-choose" aria-label="第5.3节的永久链接"></a>
            </div>

            <div class="algorithm">
                <p>
                    要<dfn data-lt="prompt the user to choose|prompting the user to choose" class="export" data-export=""
                        id="dfn-prompt-the-user-to-choose" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">提示用户选择</dfn>与给定<var
                        data-type="PermissionDescriptor">描述符</var>关联的一个或多个<var>选项</var>，以及一个可选的<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#boolean">布尔值</a>
                    <var data-type="boolean">allowMultiple</var>（默认为 false），用户代理必须执行以下步骤。此算法返回“<a data-link-type="idl"
                        href="#dom-permissionstate-denied" class="internalDFN"
                        id="ref-for-dom-permissionstate-denied-8"><code>denied</code></a>”或用户的选择。
                </p>
                <ol>
                    <li>如果<var data-type="PermissionDescriptor">描述符</var>的<a href="#dfn-permission-state"
                            class="internalDFN" data-link-type="dfn" id="ref-for-dfn-permission-state-13">权限状态</a>为
                        "<a data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-9"><code>denied</code></a>"，
                        则返回"<a data-link-type="idl" href="#dom-permissionstate-denied" class="internalDFN"
                            id="ref-for-dom-permissionstate-denied-10"><code>denied</code></a>"并中止这些步骤。
                    </li>
                    <li>如果<var data-type="PermissionDescriptor">描述符</var>的<a href="#dfn-permission-state"
                            class="internalDFN" data-link-type="dfn" id="ref-for-dfn-permission-state-14">权限状态</a>为
                        "<a data-link-type="idl" href="#dom-permissionstate-granted" class="internalDFN"
                            id="ref-for-dom-permissionstate-granted-5"><code>granted</code></a>"，用户代理可以返回用户选择的一个（或多个，如果
                        <var data-type="boolean">allowMultiple</var>为true）<var>选项</var>，并中止这些步骤。如果用户代理在不提示的情况下返回，
                        则后续对相同<var data-type="PermissionDescriptor">描述符</var>和相同选项集的<a
                            data-lt="prompt the user to choose" href="#dfn-prompt-the-user-to-choose"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-prompt-the-user-to-choose-1">提示</a>必须返回相同的选项，
                        除非用户代理收到了有关用户意图的<a href="#dfn-new-information-about-the-user-s-intent" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-new-information-about-the-user-s-intent-3">新信息</a>。
                    </li>
                    <li>请求用户选择一个或多个<var>选项</var>或拒绝权限，并等待他们选择：
                        <ol>
                            <li>如果调用算法指定了要在提示中包含的额外信息，请包括它。
                            </li>
                            <li>如果<var data-type="boolean">allowMultiple</var>为false，则限制为从<var>选项</var>中选择一个项；
                                否则，用户可以选择任意数量的选项。
                            </li>
                        </ol>
                    </li>
                    <li>如果用户选择了一个或多个选项，则返回它们；否则返回"<a data-link-type="idl" href="#dom-permissionstate-denied"
                            class="internalDFN" id="ref-for-dom-permissionstate-denied-11"><code>denied</code></a>"。
                        <div class="note" role="note" id="issue-container-generatedID-6">
                            <div role="heading" class="note-title marker" id="h-note-6" aria-level="4"><span>注意</span>
                            </div>
                            <p class="">
                                该操作故意对权限UI的细节以及用户代理如何推断用户意图保持模糊。用户代理应能够在此框架内探索大量UI选项
                                （例如，权限提示可能会超时并自动返回"denied"，而无需用户明确选择）。
                            </p>
                        </div>
                    </li>
                </ol>
            </div>
            <p>
                作为简写，<a data-link-type="dfn|abstract-op" href="#dfn-prompt-the-user-to-choose" class="internalDFN"
                    id="ref-for-dfn-prompt-the-user-to-choose-2">提示用户从</a>与<a data-link-type="interface"
                    data-lt="DOMString" href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                <var>name</var> 关联的选项中进行选择，等同于<a data-link-type="dfn|abstract-op" href="#dfn-prompt-the-user-to-choose"
                    class="internalDFN" id="ref-for-dfn-prompt-the-user-to-choose-3">提示用户从</a>与<a data-link-type="idl"
                    data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-15"><code>PermissionDescriptor</code></a>（其 <a
                    data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                    id="ref-for-dom-permissiondescriptor-name-7"><code>name</code></a> 成员设置为
                <var>name</var>）关联的那些选项中进行选择。
            </p>
        </section>
        <section id="reacting-to-users-revoking-permission">
            <div class="header-wrapper">
                <h3 id="reacting-to-revocation"><bdi class="secno">5.4 </bdi>
                    对用户撤销权限的反应
                </h3><a class="self-link" href="#reacting-to-revocation" aria-label="第5.4节的永久链接"></a>
            </div>

            <div class="algorithm">
                <p>
                    当用户代理得知用户不再打算授予使用<var>描述符</var>中描述的功能的权限，并且该功能是在由
                    <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-16"><code>PermissionDescriptor</code></a>
                    中的<var>key</var>描述的上下文中时，通过执行以下步骤<dfn id="dfn-react-to-the-user-revoking-permission" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">对用户撤销权限的操作</dfn>：
                </p>
                <ol>
                    <li>执行<var>描述符</var>的<a data-link-type="idl" href="#dom-permissiondescriptor-name"
                            class="internalDFN" id="ref-for-dom-permissiondescriptor-name-8"><code>name</code></a>的
                        <a data-link-type="dfn|abstract-op" href="#dfn-permission-revocation-algorithm"
                            class="internalDFN" id="ref-for-dfn-permission-revocation-algorithm-2">权限撤销算法</a>。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-remove-a-permission-store-entry"
                            class="internalDFN"
                            id="ref-for-dfn-remove-a-permission-store-entry-1">删除权限存储条目</a>，包括<var>描述符</var>和<var>key</var>。
                    </li>
                </ol>
            </div>
        </section>
    </section>
    <section id="permissions-api">
        <div class="header-wrapper">
            <h2 id="x6-permissions-api"><bdi class="secno">6. </bdi>
                权限 API
            </h2><a class="self-link" href="#permissions-api" aria-label="第6节的永久链接"></a>
        </div>

        <aside class="mdn">
            <details>
                <summary aria-label="展开MDN的权限详细信息"><span>MDN</span><span title="此功能在所有主流引擎中可用。">✅</span></summary>
                <a title="Navigator.permissions 只读属性返回一个Permissions对象，可用于查询和更新Permissions API覆盖的API的权限状态。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/permissions">Navigator/permissions</a>
                <p class="engines-all">此功能在所有主流引擎中可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>43+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>46+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>16+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
            <details>
                <summary aria-label="展开MDN的权限详细信息"><span>MDN</span><span> </span></summary>
                <a title="WorkerNavigator.permissions 只读属性返回一个Permissions对象，可用于查询和更新Permissions API覆盖的API的权限状态。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/WorkerNavigator/permissions">WorkerNavigator/permissions</a>

                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>43+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox no">
                        <td>Firefox</td>
                        <td>No</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>16.4+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>

        <section id="extensions-to-the-navigator-and-workernavigator-interfaces">
            <div class="header-wrapper">
                <h3 id="navigator-and-workernavigator-extension"><bdi class="secno">6.1 </bdi>
                    <code>Navigator</code> 和 <code>WorkerNavigator</code> 接口的扩展
                </h3><a class="self-link" href="#navigator-and-workernavigator-extension" aria-label="第6.1节的永久链接"></a>
            </div>


            <pre class="idl def" id="webidl-2112232240"><span class="idlHeader"><a class="self-link" href="#webidl-2112232240">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-permissions" data-title="permissions" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissions" class="internalDFN" id="ref-for-dom-permissions-2"><code>Permissions</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-navigator-permissions" data-idl="attribute" data-title="permissions" data-dfn-for="Navigator" data-type="Permissions" data-lt="permissions" data-local-lt="Navigator.permissions" class="idlName" tabindex="0" aria-haspopup="dialog"><code>permissions</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-workernavigator-partial-1" data-title="WorkerNavigator">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Worker)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="WorkerNavigator" class="idlID" data-dfn-for="WorkerNavigator" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator">WorkerNavigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-workernavigator-permissions" data-title="permissions" data-dfn-for="WorkerNavigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissions" class="internalDFN" id="ref-for-dom-permissions-3"><code>Permissions</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-workernavigator-permissions" data-idl="attribute" data-title="permissions" data-dfn-for="WorkerNavigator" data-type="Permissions" data-lt="permissions" data-local-lt="WorkerNavigator.permissions" class="idlName" tabindex="0" aria-haspopup="dialog"><code>permissions</code></dfn>;</span>
};</span></code></pre>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开MDN的权限详细信息"><span>MDN</span><span title="此功能在所有主流引擎中可用。">✅</span></summary>
                <a title="Permissions API 的 Permissions 接口提供了核心权限API功能，例如查询和撤销权限的方法"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions">Permissions</a>
                <p class="engines-all">此功能在所有主流引擎中可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>43+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>46+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>16+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="Permissions" id="permissions-interface-0">
            <div class="header-wrapper">
                <h3 id="permissions-interface"><bdi class="secno">6.2 </bdi>
                    <code>Permissions</code> 接口
                </h3><a class="self-link" href="#permissions-interface" aria-label="第6.2节的永久链接"></a>
            </div>


            <pre class="idl def" id="webidl-285612776"><span class="idlHeader"><a class="self-link" href="#webidl-285612776">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-permissions" data-title="Permissions">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-permissions" data-idl="interface" data-title="Permissions" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>Permissions</code></dfn> {<span data-idl="" class="idlMethod" id="idl-def-permissions-query-permissiondesc" data-title="query" data-dfn-for="Permissions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-permissionstatus" class="internalDFN" id="ref-for-dom-permissionstatus-5"><code>PermissionStatus</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-permissions-query" id="ref-for-dom-permissions-query-2"><code>query</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <span class="idlParamName">permissionDesc</span>);</span>
};</span><span data-idl="" class="idlDictionary" id="idl-def-permissiondescriptor" data-title="PermissionDescriptor">

dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-permissiondescriptor" data-idl="dictionary" data-title="PermissionDescriptor" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PermissionDescriptor</code></dfn> {<span data-idl="" class="idlMember" id="idl-def-permissiondescriptor-name" data-title="name" data-dfn-for="PermissionDescriptor">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-permissiondescriptor-name" data-idl="field" data-title="name" data-dfn-for="PermissionDescriptor" data-type="DOMString" class="idlName" tabindex="0" aria-haspopup="dialog"><code>name</code></dfn>;</span>
};</span></code></pre>

            <aside class="mdn">
                <details>
                    <summary aria-label="展开MDN的查询详细信息"><span>MDN</span><span title="此功能在所有主流引擎中可用。">✅</span></summary>
                    <a title="Permissions 接口的 Permissions.query() 方法返回全局范围内用户权限的状态。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query">Permissions/query</a>
                    <p class="engines-all">此功能在所有主流引擎中可用。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>43+</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>46+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>16+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>No</td>
                        </tr>
                    </table>
                </details>
            </aside>

            <section id="query-method-0">
                <div class="header-wrapper">
                    <h4 id="query-method"><bdi class="secno">6.2.1 </bdi>
                        <code>query()</code> 方法
                    </h4><a class="self-link" href="#query-method" aria-label="第6.2.1节的永久链接"></a>
                </div>

                <div class="algorithm">
                    <p>
                        当调用 <dfn data-export="" data-dfn-type="method" id="dom-permissions-query" data-idl="operation"
                            data-title="query()" data-dfn-for="Permissions" data-type="Promise"
                            data-lt="query()|query(permissionDesc)"
                            data-local-lt="Permissions.query|Permissions.query()|query" tabindex="0"
                            aria-haspopup="dialog"><code>query()</code></dfn> 方法时，<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#user-agent">用户代理</a> <em
                            class="rfc2119">必须</em>运行以下<dfn class="export" data-export="" id="dfn-query-a-permission"
                            tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">查询权限</dfn>算法，并传递参数
                        <var>permissionDesc</var>：
                    </p>
                    <ol>
                        <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> 的<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>是一个
                            <a data-link-type="interface" data-lt="Window"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                            对象，则：
                            <ol>
                                <li>如果<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">当前设置对象</a>的<a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联
                                        <code>Document</code></a> 不是<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全激活</a>状态，则返回一个<a
                                        data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">被拒绝的
                                        promise</a>，并带有一个“<a data-link-type="exception"
                                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>”
                                    <a data-link-type="interface" data-lt="DOMException"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                </li>
                            </ol>
                        </li>
                        <li>令 <var>rootDesc</var> 为 <var>permissionDesc</var> 指向的对象，并将其<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为 IDL
                                值</a>，类型为 <a data-link-type="idl" data-lt="PermissionDescriptor"
                                href="#dom-permissiondescriptor" class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-17"><code>PermissionDescriptor</code></a>。
                        </li>
                        <li>如果转换<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>一个<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">异常</a>，则返回一个<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">被拒绝的
                                promise</a>，并带有该异常。
                        </li>
                        <li>如果 <var>rootDesc</var>["<a data-link-type="idl" href="#dom-permissiondescriptor-name"
                                class="internalDFN" id="ref-for-dom-permissiondescriptor-name-9"><code>name</code></a>"]
                            不受支持，则返回一个<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">被拒绝的 promise</a>，并带有一个 <a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>。
                            <div class="note" role="note" id="issue-container-generatedID-7">
                                <div role="heading" class="note-title marker" id="h-note-7" aria-level="5">
                                    <span>注意</span><span class="issue-label">: 为什么这不是一个枚举？</span>
                                </div>
                                <aside class="">
                                    <p>
                                        这被刻意设计成与 WebIDL 的<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-enumeration">枚举</a>
                                        (<code>enum</code>) 工作方式相同，并鼓励实现者在此处使用他们自己的自定义
                                        <code>enum</code>。
                                        规范中这不是一个枚举的原因是，浏览器在它们支持的强大功能方面差异很大。使用 <a data-link-type="interface"
                                            data-lt="DOMString"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>
                                        来标识一个强大功能，使实现者可以自由选择他们希望从<cite><a data-matched-text="[[[permissions-registry]]]"
                                                href="https://w3c.github.io/permissions-registry/">权限注册表</a></cite>中支持哪些强大功能。
                                    </p>
                                </aside>
                            </div>
                        </li>
                        <li>令 <var>typedDescriptor</var> 为 <var>permissionDesc</var> 指向的对象，并将其<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为 IDL
                                值</a>，类型为 <var>rootDesc</var> 的 <a data-link-type="idl"
                                href="#dom-permissiondescriptor-name" class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-name-10"><code>name</code></a> 的<a
                                data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type"
                                class="internalDFN" id="ref-for-dfn-permission-descriptor-type-4">权限描述符类型</a>。
                        </li>
                        <li>如果转换<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>一个<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">异常</a>，则返回一个<a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">被拒绝的
                                promise</a>，并带有该异常。
                        </li>
                        <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise">一个新的 promise</a>。
                        </li>
                        <li>返回 <var data-type="Promise">promise</var> 并<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>继续执行：
                            <ol>
                                <li>令 <var>status</var> 为使用 <var>typedDescriptor</var> <a
                                        href="#dfn-create-a-permissionstatus" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-create-a-permissionstatus-1">创建一个
                                        <code>PermissionStatus</code></a>。
                                </li>
                                <li>令 <var>query</var> 为 <var>status</var> 的<a data-link-type="attribute"
                                        data-lt="[[query]]" href="#dfn-query" class="internalDFN"
                                        id="ref-for-dfn-query-1"><code>[[query]]</code></a> 内部插槽。
                                </li>
                                <li>运行 <var>query</var> 的 <a data-link-type="idl" href="#dom-permissiondescriptor-name"
                                        class="internalDFN"
                                        id="ref-for-dom-permissiondescriptor-name-11"><code>name</code></a> 的<a
                                        data-link-type="dfn|abstract-op" href="#dfn-permission-query-algorithm"
                                        class="internalDFN" id="ref-for-dfn-permission-query-algorithm-1">权限查询算法</a>，并传递
                                    <var>query</var> 和 <var>status</var>。
                                </li>
                                <li>在<a data-link-type="dfn|abstract-op" href="#dfn-permissions-task-source"
                                        class="internalDFN" id="ref-for-dfn-permissions-task-source-2">权限任务源</a>上使用 <a
                                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> 的<a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a><a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">排队一个全局任务</a>，以使用
                                    <var>status</var> <a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#resolve">解决</a> <var
                                        data-type="Promise">promise</var>。
                                </li>
                            </ol>
                        </li>
                    </ol>
                </div>
            </section>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开MDN的PermissionStatus详细信息"><span>MDN</span><span title="此功能在所有主流引擎中可用。">✅</span>
                </summary>
                <a title="Permissions API 的 PermissionStatus 接口提供对象的状态和用于监控该状态变化的事件处理程序。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus">PermissionStatus</a>
                <p class="engines-all">此功能在所有主流引擎中可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>43+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>46+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>16+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PermissionStatus" id="permissionstatus-interface-0">
            <div class="header-wrapper">
                <h3 id="permissionstatus-interface"><bdi class="secno">6.3 </bdi>
                    <code>PermissionStatus</code> 接口
                </h3><a class="self-link" href="#permissionstatus-interface" aria-label="第6.3节的固定链接"></a>
            </div>

            <pre class="idl def" id="webidl-1212188233"><span class="idlHeader"><a class="self-link" href="#webidl-1212188233">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-permissionstatus" data-title="PermissionStatus">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-permissionstatus" data-idl="interface" data-title="PermissionStatus" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PermissionStatus</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-permissionstatus-state" data-title="state" data-dfn-for="PermissionStatus">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissionstate" class="internalDFN" id="ref-for-dom-permissionstate-7"><code>PermissionState</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-state" id="ref-for-dom-permissionstatus-state-3"><code>state</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-permissionstatus-name" data-title="name" data-dfn-for="PermissionStatus">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-name" id="ref-for-dom-permissionstatus-name-1"><code>name</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-permissionstatus-onchange" data-title="onchange" data-dfn-for="PermissionStatus">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-onchange" id="ref-for-dom-permissionstatus-onchange-1"><code>onchange</code></a>;</span>
};</span><span data-idl="" class="idlEnum" id="idl-def-permissionstate" data-title="PermissionState">

enum <dfn data-export="" data-dfn-type="enum" id="dom-permissionstate" data-idl="enum" data-title="PermissionState" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PermissionState</code></dfn> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted-6"><code>granted</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied-12"><code>denied</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-prompt" id="ref-for-dom-permissionstate-prompt-3"><code>prompt</code></a>"</span>,
};</span></code></pre>
            <p>
                <a data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus" class="internalDFN"
                    id="ref-for-dom-permissionstatus-6"><code>PermissionStatus</code></a> 实例会创建一个
                <dfn data-idl="" data-dfn-for="PermissionStatus" data-noexport="" data-dfn-type="attribute"
                    id="dfn-query" tabindex="0" aria-haspopup="dialog">[[query]]</dfn> 内部槽，
                它是某个特性的 <a data-link-type="dfn|abstract-op" href="#dfn-permission-descriptor-type" class="internalDFN"
                    id="ref-for-dfn-permission-descriptor-type-5">权限描述符类型</a> 的实例。
            </p>
            <p data-dfn-for="PermissionState">
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-permissionstate-granted" data-idl="enum-value"
                    data-title="granted" data-dfn-for="PermissionState" tabindex="0"
                    aria-haspopup="dialog"><code>granted</code></dfn>"、"<dfn data-export="" data-dfn-type="enum-value"
                    id="dom-permissionstate-denied" data-idl="enum-value" data-title="denied"
                    data-dfn-for="PermissionState" tabindex="0" aria-haspopup="dialog"><code>denied</code></dfn>" 和
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-permissionstate-prompt" data-idl="enum-value"
                    data-title="prompt" data-dfn-for="PermissionState" tabindex="0"
                    aria-haspopup="dialog"><code>prompt</code></dfn>" 枚举值分别表示 <a data-link-type="dfn|abstract-op"
                    href="#dfn-granted" class="internalDFN" id="ref-for-dfn-granted-6">"授予"</a>、<a
                    data-link-type="dfn|abstract-op" href="#dfn-denied" class="internalDFN"
                    id="ref-for-dfn-denied-3">"拒绝"</a> 和
                <a data-link-type="dfn|abstract-op" href="#dfn-prompt" class="internalDFN"
                    id="ref-for-dfn-prompt-3">"提示"</a> 的概念。
            </p>
            <section id="creating-instances">
                <div class="header-wrapper">
                    <h4 id="x6-3-1-creating-instances"><bdi class="secno">6.3.1 </bdi>
                        创建实例
                    </h4><a class="self-link" href="#creating-instances" aria-label="Permalink for Section 6.3.1"></a>
                </div>

                <div class="algorithm">
                    <p>
                        要为给定的 <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                            class="internalDFN"
                            id="ref-for-dom-permissiondescriptor-18"><code>PermissionDescriptor</code></a> <var
                            data-type="PermissionDescriptor">permissionDesc</var>
                        <dfn class="export" data-export="" id="dfn-create-a-permissionstatus" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn">创建一个 <code>PermissionStatus</code></dfn>：
                    </p>
                    <ol>
                        <li>令 <var data-type="DOMString">name</var> 为 <var
                                data-type="PermissionDescriptor">permissionDesc</var> 的 <a data-link-type="idl"
                                href="#dom-permissiondescriptor-name" class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-name-12"><code>name</code></a>。
                        </li>
                        <li>断言：由 <var data-type="DOMString">name</var> 标识的 <a data-link-type="dfn|abstract-op"
                                href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-28">特性</a> 由用户代理支持。
                        </li>
                        <li>令 <var data-type="PermissionStatus">status</var> 为由 <var data-type="DOMString">name</var>
                            标识的 <a data-link-type="dfn|abstract-op" href="#dfn-permission-result-type"
                                class="internalDFN" id="ref-for-dfn-permission-result-type-3">权限结果类型</a> 的新实例：
                            <ol>
                                <li>将 <var data-type="PermissionStatus">status</var> 的 <a data-link-type="attribute"
                                        data-lt="[[query]]" href="#dfn-query" class="internalDFN"
                                        id="ref-for-dfn-query-2"><code>[[query]]</code></a>
                                    内部槽初始化为 <var data-type="PermissionDescriptor">permissionDesc</var>。
                                </li>
                                <li>将 <var data-type="PermissionStatus">status</var> 的 <a data-link-type="idl"
                                        href="#dom-permissionstatus-name" class="internalDFN"
                                        id="ref-for-dom-permissionstatus-name-2">
                                        <code>name</code></a> 初始化为 <var data-type="DOMString">name</var>。
                                </li>
                            </ol>
                        </li>
                        <li>返回 <var data-type="PermissionStatus">status</var>。
                        </li>
                    </ol>
                </div>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for name"><span>MDN</span><span
                            title="此功能存在于所有主流浏览器中。">✅</span></summary>
                    <a title="PermissionStatus 接口的 name 只读属性返回请求的权限名称。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus/name">PermissionStatus/name</a>
                    <p class="engines-all">此功能存在于所有主流浏览器中。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>97+</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>93+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>16+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不支持</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="name-attribute">
                <div class="header-wrapper">
                    <h4 id="x6-3-2-name-attribute"><bdi class="secno">6.3.2 </bdi>
                        <code>name</code> 属性
                    </h4><a class="self-link" href="#name-attribute" aria-label="Permalink for Section 6.3.2"></a>
                </div>

                <p>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-permissionstatus-name" data-idl="attribute"
                        data-title="name" data-dfn-for="PermissionStatus" data-type="DOMString" data-lt="name"
                        data-local-lt="PermissionStatus.name" tabindex="0"
                        aria-haspopup="dialog"><code>name</code></dfn> 属性返回其初始化的值。
                </p>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for state"><span>MDN</span><span
                            title="此功能存在于所有主流浏览器中。">✅</span></summary>
                    <a title="PermissionStatus 接口的 state 只读属性返回请求权限的状态。该属性返回 'granted'、'denied' 或 'prompt' 之一。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus/state">PermissionStatus/state</a>
                    <p class="engines-all">此功能存在于所有主流浏览器中。</p>
                    <table>
                        <tr class="chrome unknown">
                            <td>Chrome</td>
                            <td>?</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>46+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>16+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不支持</td>
                        </tr>
                    </table>
                </details>
            </aside>

            <section id="state-attribute">
                <div class="header-wrapper">
                    <h4 id="x6-3-3-state-attribute"><bdi class="secno">6.3.3 </bdi>
                        <code>state</code> 属性
                    </h4><a class="self-link" href="#state-attribute" aria-label="Permalink for Section 6.3.3"></a>
                </div>

                <p>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-permissionstatus-state" data-idl="attribute"
                        data-title="state" data-dfn-for="PermissionStatus" data-type="PermissionState" data-lt="state"
                        data-local-lt="PermissionStatus.state" tabindex="0"
                        aria-haspopup="dialog"><code>state</code></dfn>
                    属性返回在当前实例上设置的最新值。
                </p>
            </section>

            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for change_event"><span>MDN</span><span
                            title="此功能存在于所有主流浏览器中。">✅</span></summary>
                    <a title="PermissionStatus 接口的 change 事件在 PermissionStatus.state 属性更改时触发。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus/change_event">PermissionStatus/change_event</a>
                    <p class="engines-all">此功能存在于所有主流浏览器中。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>43+</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>46+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>16.4+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不支持</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="onchange-attribute">
                <div class="header-wrapper">
                    <h4 id="x6-3-4-onchange-attribute"><bdi class="secno">6.3.4 </bdi>
                        <code>onchange</code> 属性
                    </h4><a class="self-link" href="#onchange-attribute" aria-label="Permalink for Section 6.3.4"></a>
                </div>

                <p>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-permissionstatus-onchange"
                        data-idl="attribute" data-title="onchange" data-dfn-for="PermissionStatus"
                        data-type="EventHandler" data-lt="onchange" data-local-lt="PermissionStatus.onchange"
                        tabindex="0" aria-haspopup="dialog"><code>onchange</code></dfn> 属性是一个<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">事件处理程序</a>，其对应的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">事件处理程序事件类型</a>是
                    <code>change</code>。
                </p>
                <div class="algorithm">
                    <p id="PermissionStatus-update">
                        每当<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent">用户代理</a>意识到 <a
                            data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus"
                            class="internalDFN" id="ref-for-dom-permissionstatus-7"><code>PermissionStatus</code></a>
                        实例 <var>status</var> 的状态发生更改时，它会异步运行<dfn id="dfn-permissionstatus-update-steps" tabindex="0"
                            aria-haspopup="dialog" data-dfn-type="dfn"><code>PermissionStatus</code>
                            更新步骤</dfn>：
                    </p>
                    <ol>
                        <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> 的<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>是一个
                            <a data-link-type="interface" data-lt="Window"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                            对象，则：
                            <ol>
                                <li>令 <var>document</var> 为 <var>status</var> 的<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的<a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联
                                        Document</a>。
                                </li>
                                <li>如果 <var>document</var> 为 null 或者 <var>document</var> 不是<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全激活</a>状态，
                                    则终止此算法。
                                </li>
                            </ol>
                        </li>
                        <li>令 <var>query</var> 为 <var>status</var> 的<a data-link-type="attribute" data-lt="[[query]]"
                                href="#dfn-query" class="internalDFN"
                                id="ref-for-dfn-query-3"><code>[[query]]</code></a> 内部插槽。
                        </li>
                        <li>运行 <var>query</var> 的<a data-link-type="idl" href="#dom-permissiondescriptor-name"
                                class="internalDFN" id="ref-for-dom-permissiondescriptor-name-13"><code>name</code></a>
                            的<a data-link-type="dfn|abstract-op" href="#dfn-permission-query-algorithm"
                                class="internalDFN" id="ref-for-dfn-permission-query-algorithm-2">权限查询算法</a>，并传递
                            <var>query</var> 和 <var>status</var>。
                        </li>
                        <li>
                            在<a data-link-type="dfn|abstract-op" href="#dfn-permissions-task-source" class="internalDFN"
                                id="ref-for-dfn-permissions-task-source-3">权限任务源</a>上<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>，以在
                            <var>status</var> 处<a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-fire">触发一个名为 <code>change</code>
                                的事件</a>。
                        </li>
                    </ol>
                </div>
            </section>
            <section id="garbage-collection">
                <div class="header-wrapper">
                    <h4 id="permissionstatus-gc"><bdi class="secno">6.3.5 </bdi>
                        垃圾回收
                    </h4><a class="self-link" href="#permissionstatus-gc" aria-label="Permalink for Section 6.3.5"></a>
                </div>

                <p>
                    如果一个 <a data-link-type="idl" data-lt="PermissionStatus" href="#dom-permissionstatus"
                        class="internalDFN" id="ref-for-dom-permissionstatus-8"><code>PermissionStatus</code></a>
                    对象具有一个类型为 <code>change</code> 的<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-listener">事件侦听器</a>，则该对象<em
                        class="rfc2119">不得</em>被垃圾回收。
                </p>
            </section>
        </section>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x7-conformance"><bdi class="secno">7. </bdi>一致性</h2><a class="self-link" href="#conformance"
                aria-label="第7节的永久链接"></a>
        </div>
        <p>除了标记为非规范的部分外，本规范中的所有创作指南、图表、示例和注释均为非规范内容。本规范中的其他内容均为规范性内容。</p>
        <p>
            本文件中的关键词 <em class="rfc2119">MAY</em>、<em class="rfc2119">MUST</em>、<em class="rfc2119">MUST
                NOT</em>、<em class="rfc2119">OPTIONAL</em> 和 <em class="rfc2119">SHOULD</em> 应按照
            <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="RFC 中表示需求级别的关键词">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-rfc8174" title="RFC 2119 关键词中的大小写模糊性">RFC8174</a></cite>]
            中的描述进行解释，仅当它们以全大写形式出现时，如本处所示。
        </p>
        <p>
            两类产品可以声明符合本规范：<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent">用户代理</a>以及其他<dfn
                data-plurals="specification" id="dfn-specifications" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">规范</dfn>（即，以符合本规范要求的方式<a data-link-type="dfn|abstract-op"
                href="#dfn-specifies-a-powerful-feature" class="internalDFN"
                id="ref-for-dfn-specifies-a-powerful-feature-1">指定强大功能</a>的技术报告）。
        </p>
    </section>
    <section class="informative appendix" id="relationship-to-the-permissions-policy-specification">
        <div class="header-wrapper">
            <h2 id="relationship-to-permissions-policy"><bdi class="secno">A. </bdi>
                与权限策略规范的关系
            </h2><a class="self-link" href="#relationship-to-permissions-policy" aria-label="附录A的永久链接"></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            尽管本规范与 <cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite> 规范都涉及“权限”，但每个规范在平台中都有独特的作用。
            尽管如此，这两个规范确实存在明确的重叠。
        </p>
        <p>
            一方面，本规范只关心通过用户代理权限UI管理访问的
            <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-29">强大功能</a>
            （即，用户在使用该功能前给予明确同意，并且用户可以随时以任何理由拒绝该权限的权限），这些强大功能已在
            <cite><a data-matched-text="[[[permissions-registry]]]"
                    href="https://w3c.github.io/permissions-registry/">权限注册表</a></cite> 中注册。
        </p>
        <p>
            另一方面，<cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>规范允许开发人员通过“<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy">权限策略</a>”（无论是
            HTTP 标头还是
            <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
            属性）选择性地启用和禁用策略控制的功能。从这个意义上说，权限策略包含了本规范，因为<cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>独立于本规范来决定某个功能是否可用。这些策略控制的功能也注册在<cite><a
                    data-matched-text="[[[permissions-registry]]]"
                    href="https://w3c.github.io/permissions-registry/">权限注册表</a></cite>中。
        </p>
        <p>
            一个被<cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>规范禁用的强大功能，其<a
                data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                id="ref-for-dfn-permission-state-15">权限状态</a>在本规范中始终反映为“拒绝”。
            这是因为<a data-link-type="dfn|abstract-op" data-lt="getting the current permission state"
                href="#dfn-getting-the-current-permission-state" class="internalDFN"
                id="ref-for-dfn-getting-the-current-permission-state-1">读取当前权限</a>依赖于[<cite><a class="bibref"
                    data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>]的“<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">允许使用</a>”检查，而该检查本身会调用<cite><a
                    data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>规范。
            此处需要注意的重要一点是两个规范之间共享权限名称。本规范和<cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>规范都依赖于其他规范来定义权限的名称和<a
                data-link-type="dfn|abstract-op" href="#dfn-name" class="internalDFN"
                id="ref-for-dfn-name-3">名称</a>，并且它们通常被命名为相同的东西（例如，<cite><a data-matched-text="[[[Geolocation]]]"
                    href="https://www.w3.org/TR/geolocation/">地理位置</a></cite>的“geolocation”，等等）。
        </p>
        <p>
            最后，通过 <cite><a data-matched-text="[[[Permissions-Policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite> 规范，强大功能永远不可能被授予“granted”状态。
            强大功能被 <a data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                id="ref-for-dfn-granted-7">“授予”</a> 的唯一方法是通过用户明确的权限或某些用户代理策略。
        </p>
    </section>
    <section id="automated-testing">
        <div class="header-wrapper">
            <h2 id="automation"><bdi class="secno">B. </bdi>
                自动化测试
            </h2><a class="self-link" href="#automation" aria-label="第B节的永久链接"></a>
        </div>

        <p>
            为了用户代理自动化和应用程序测试的目的，本文档定义了对 [<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver"
                    title="WebDriver">WebDriver</a></cite>] 和 [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-webdriver-bidi" title="WebDriver BiDi">WebDriver-BiDi</a></cite>]
            规范的扩展。用户代理支持它们是<em class="rfc2119">可选的</em>。
        </p>
        <pre class="idl def" id="webidl-1484302011"><span class="idlHeader"><a class="self-link" href="#webidl-1484302011">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-permissionsetparameters" data-title="PermissionSetParameters">dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-permissionsetparameters" data-idl="dictionary" data-title="PermissionSetParameters" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PermissionSetParameters</code></dfn> {<span data-idl="" class="idlMember" id="idl-def-permissionsetparameters-descriptor" data-title="descriptor" data-dfn-for="PermissionSetParameters">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-permissionsetparameters-descriptor" data-idl="field" data-title="descriptor" data-dfn-for="PermissionSetParameters" data-type="object" class="idlName" tabindex="0" aria-haspopup="dialog"><code>descriptor</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-permissionsetparameters-state" data-title="state" data-dfn-for="PermissionSetParameters">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-permissionstate" class="internalDFN" id="ref-for-dom-permissionstate-8"><code>PermissionState</code></a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-permissionsetparameters-state" data-idl="field" data-title="state" data-dfn-for="PermissionSetParameters" data-type="PermissionState" class="idlName" tabindex="0" aria-haspopup="dialog"><code>state</code></dfn>;</span>
};</span></code></pre>
        <div class="algorithm">
            <p>
                为给定的 <a data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                    class="internalDFN" id="ref-for-dom-permissiondescriptor-19"><code>PermissionDescriptor</code></a>
                <var data-type="PermissionDescriptor">descriptor</var>、<a data-link-type="idl" data-lt="PermissionState"
                    href="#dom-permissionstate" class="internalDFN"
                    id="ref-for-dom-permissionstate-9"><code>PermissionState</code></a> <var
                    data-type="PermissionState">state</var>、一个可选的 <var>origin</var> 和一个可选的
                <var>user agent</var> <dfn data-for="WebDriver" id="dfn-set-a-permission" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">设置权限</dfn>时：
            </p>
            <ol>
                <li>令 <var>target origin</var> 为<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">当前设置对象</a>的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">源</a>（如果
                    <var>origin</var> 为 null），否则为 <var>origin</var>。
                </li>
                <li>令 <var>targets</var> 为一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list">列表</a>，其中包含所有<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">环境设置对象</a>，这些对象的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">源</a>与
                    <var>target origin</var> <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin">同源</a>，并且如果提供了 <var>user
                        agent</var>，则属于该<var>user agent</var>，否则属于所有用户代理。
                </li>
                <li>令 <var>tasks</var> 为一个空的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list">列表</a>。
                </li>
                <li>对于 <var>targets</var> 中的每个<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">环境设置对象</a>
                    <var>target</var>：
                    <ol>
                        <li>在 <var>target</var> 的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">相关设置对象</a>的<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global">全局对象</a>的<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc">浏览上下文</a>的<a
                                data-link-type="dfn|abstract-op" href="#dfn-permissions-task-source" class="internalDFN"
                                id="ref-for-dfn-permissions-task-source-4">权限任务源</a>上<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>
                            <var>task</var>，以执行以下步骤：
                            <ol>
                                <li>将 <var data-type="PermissionState">state</var> 解释为此刻使用参数 <var>target</var> 调用 <var
                                        data-type="PermissionDescriptor">descriptor</var> 的<a
                                        data-link-type="dfn|abstract-op" href="#dfn-permission-state"
                                        class="internalDFN" id="ref-for-dfn-permission-state-16">权限状态</a>的结果。
                                </li>
                            </ol>
                        </li>
                        <li>将 <var>task</var> <a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list-append">附加</a>到 <var>tasks</var>。
                        </li>
                    </ol>
                </li>
                <li>等待 <var>tasks</var> 中的所有<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task">任务</a>执行完毕并返回。
                </li>
            </ol>
        </div>
        <section data-cite="webdriver" id="automated-testing-with-webdriver">
            <div class="header-wrapper">
                <h3 id="automation-webdriver"><bdi class="secno">B.1 </bdi>
                    使用 [<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver"
                            title="WebDriver">WebDriver</a></cite>] 进行自动化测试
                </h3><a class="self-link" href="#automation-webdriver" aria-label="第B.1节的永久链接"></a>
            </div>

            <p>
                本文档为 [<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver"
                        title="WebDriver">WebDriver</a></cite>] 规范定义了以下<a data-link-type="dfn"
                    href="https://www.w3.org/TR/webdriver1/#dfn-extension-commands">扩展命令</a>。
            </p>
            <section id="set-permission">
                <div class="header-wrapper">
                    <h4 id="webdriver-command-set-permission"><bdi class="secno">B.1.1 </bdi>
                        设置权限
                    </h4><a class="self-link" href="#webdriver-command-set-permission" aria-label="第B.1.1节的永久链接"></a>
                </div>

                <table>
                    <tbody>
                        <tr>
                            <th>
                                HTTP 方法
                            </th>
                            <th>
                                <a data-link-type="dfn" data-lt="extension command URI template"
                                    href="https://www.w3.org/TR/webdriver1/#dfn-extension-command-uri-template">URI
                                    模板</a>
                            </th>
                        </tr>
                        <tr>
                            <td>
                                POST
                            </td>
                            <td>
                                /session/{session id}/permissions
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    <dfn class="export" data-dfn-for="extension commands" data-export="" id="dfn-set-permission"
                        tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">设置权限</dfn><a data-link-type="dfn"
                        href="https://www.w3.org/TR/webdriver1/#dfn-extension-commands">扩展命令</a>模拟用户修改 <a
                        data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                        class="internalDFN"
                        id="ref-for-dom-permissiondescriptor-20"><code>PermissionDescriptor</code></a> 的<a
                        data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                        id="ref-for-dfn-permission-state-17">权限状态</a>。
                </p>
                <p>
                    <a data-link-type="dfn" href="https://www.w3.org/TR/webdriver1/#dfn-remote-end-steps">远程端步骤</a>如下：
                </p>
                <ol>
                    <li>令 <var>parametersDict</var> 为 <var>parameters</var> 参数，将其<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为 IDL 值</a>，类型为
                        <a data-link-type="idl" data-lt="PermissionSetParameters" href="#dom-permissionsetparameters"
                            class="internalDFN"
                            id="ref-for-dom-permissionsetparameters-1"><code>PermissionSetParameters</code></a>。如果此操作抛出异常，则返回<a
                            data-link-type="dfn"
                            href="https://www.w3.org/TR/webdriver1/#dfn-invalid-argument">无效参数</a><a
                            data-link-type="dfn" href="https://www.w3.org/TR/webdriver1/#dfn-error">错误</a>。
                    </li>
                    <li>如果由于任何实现定义的原因，<var>parametersDict</var>.<a data-link-type="idl"
                            href="#dom-permissionsetparameters-state" class="internalDFN"
                            id="ref-for-dom-permissionsetparameters-state-1"><code>state</code></a>
                        是一个不适当的<a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                            id="ref-for-dfn-permission-state-18">权限状态</a>，则返回<a data-link-type="dfn"
                            href="https://www.w3.org/TR/webdriver1/#dfn-invalid-argument">无效参数</a><a
                            data-link-type="dfn" href="https://www.w3.org/TR/webdriver1/#dfn-error">错误</a>。
                        <div class="note" role="note" id="issue-container-generatedID-8">
                            <div role="heading" class="note-title marker" id="h-note-8" aria-level="5"><span>注意</span>
                            </div>
                            <p class="">
                                例如，将“midi”<a href="#dfn-powerful-feature" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-powerful-feature-31">强大功能</a>定义为“始终开启”的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#user-agent">用户代理</a>可以选择在此步骤拒绝将<a
                                    data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                                    id="ref-for-dfn-permission-state-19">权限状态</a>设置为“<a data-link-type="idl"
                                    href="#dom-permissionstate-denied" class="internalDFN"
                                    id="ref-for-dom-permissionstate-denied-13"><code>denied</code></a>”的命令。
                            </p>
                        </div>
                    </li>
                    <li>令 <var>rootDesc</var> 为 <var>parametersDict</var>.<a data-link-type="idl"
                            href="#dom-permissionsetparameters-descriptor" class="internalDFN"
                            id="ref-for-dom-permissionsetparameters-descriptor-1"><code>descriptor</code></a>。
                    </li>
                    <li>令 <var>typedDescriptor</var> 为 <var>rootDesc</var> 指向的对象，将其<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为 IDL
                            值</a>，类型为与 <a
                            href="https://tc39.es/ecma262/multipage/#sec-get-o-p">Get</a>(<var>rootDesc</var>,
                        "<code>name</code>") 结果匹配的<a data-link-type="dfn|abstract-op"
                            href="#dfn-permission-descriptor-type" class="internalDFN"
                            id="ref-for-dfn-permission-descriptor-type-6">权限描述符类型</a>。如果此操作抛出异常，则返回<a
                            data-link-type="dfn"
                            href="https://www.w3.org/TR/webdriver1/#dfn-invalid-argument">无效参数</a><a
                            data-link-type="dfn" href="https://www.w3.org/TR/webdriver1/#dfn-error">错误</a>。
                    </li>
                    <li>使用 <var>typedDescriptor</var> 和 <var>parametersDict</var>.<a data-link-type="idl"
                            href="#dom-permissionsetparameters-state" class="internalDFN"
                            id="ref-for-dom-permissionsetparameters-state-2"><code>state</code></a> <a
                            data-link-type="dfn|abstract-op" href="#dfn-set-a-permission" class="internalDFN"
                            id="ref-for-dfn-set-a-permission-1">设置权限</a>。
                    </li>
                    <li>返回<a data-link-type="dfn" href="https://www.w3.org/TR/webdriver1/#dfn-success">成功</a>，数据为
                        <code>null</code>。
                    </li>
                </ol>

                <aside class="example" data-cite="webdriver-bidi" id="example-setting-a-permission-via-webdriver">
                    <div class="marker">
                        <a class="self-link" href="#example-setting-a-permission-via-webdriver">示例<bdi>
                                7</bdi></a><span class="example-title">: 通过 WebDriver 设置权限</span>
                    </div>
                    <p>
                        要为 ID 为 23 的<a data-link-type="dfn"
                            href="https://www.w3.org/TR/webdriver-bidi/#modules-session">会话</a>的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">当前设置对象</a>的
                        <code>{name: "midi", sysex: true}</code> <a data-link-type="dfn|abstract-op"
                            href="#dfn-set-permission" class="internalDFN"
                            id="ref-for-dfn-set-permission-1">设置权限</a>为“<code>granted</code>”，本地端将向
                        <code>/session/23/permissions</code> 发送 POST 请求，请求体如下：
                    </p>
                    <pre aria-busy="false"><code class="hljs json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"descriptor"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"midi"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"sysex"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"granted"</span>
<span class="hljs-punctuation">}</span></code></pre>
                </aside>
            </section>
        </section>
        <section data-cite="webdriver webdriver2 webdriver-bidi" id="automated-testing-with-webdriver-bidi">
            <div class="header-wrapper">
                <h3 id="automation-webdriver-bidi"><bdi class="secno">B.2 </bdi>
                    使用 [<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver-bidi"
                            title="WebDriver BiDi">WebDriver-BiDi</a></cite>] 进行自动化测试
                </h3><a class="self-link" href="#automation-webdriver-bidi" aria-label="Section B.2 的永久链接"></a>
            </div>

            <p>
                本文档为 [<cite><a class="bibref" data-link-type="biblio" href="#bib-webdriver-bidi"
                        title="WebDriver BiDi">WebDriver-BiDi</a></cite>] 规范定义了以下<a data-link-type="dfn"
                    href="https://www.w3.org/TR/webdriver-bidi/#extension-modules">扩展模块</a>。
            </p>
            <section id="the-permissions-module">
                <div class="header-wrapper">
                    <h4 id="webdriver-bidi-module-permissions"><bdi class="secno">B.2.1 </bdi> 权限模块
                    </h4><a class="self-link" href="#webdriver-bidi-module-permissions"
                        aria-label="Section B.2.1 的永久链接"></a>
                </div>

                <p>
                    <dfn id="dfn-permissions" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">权限</dfn>模块包含管理远程端浏览器权限的命令。
                </p>
                <section id="definition">
                    <div class="header-wrapper">
                        <h5 id="webdriver-bidi-module-permissions-definition"><bdi class="secno">B.2.1.1 </bdi>定义
                        </h5><a class="self-link" href="#webdriver-bidi-module-permissions-definition"
                            aria-label="Section B.2.1.1 的永久链接"></a>
                    </div>

                    <p>
                        {^远程端定义^}
                    </p>
                    <pre class="cddl" data-cddl-module="remote-cddl" aria-busy="false"><code class="hljs">PermissionsCommand = (
    permissions.setPermission
)</code></pre>
                </section>
                <section id="types">
                    <div class="header-wrapper">
                        <h5 id="webdriver-bidi-module-permissions-types"><bdi class="secno">B.2.1.2 </bdi>类型
                        </h5><a class="self-link" href="#webdriver-bidi-module-permissions-types"
                            aria-label="Section B.2.1.2 的永久链接"></a>
                    </div>

                    <section id="the-permissions-permissiondescriptor-type">
                        <div class="header-wrapper">
                            <h6 id="webdriver-bidi-type-permissions-PermissionDescriptor"><bdi class="secno">B.2.1.2.1
                                </bdi> permissions.PermissionDescriptor 类型
                            </h6><a class="self-link" href="#webdriver-bidi-type-permissions-PermissionDescriptor"
                                aria-label="Section B.2.1.2.1 的永久链接"></a>
                        </div>

                        <pre class="cddl" data-cddl-module="local-cddl" aria-busy="false"><code class="hljs">permissions.PermissionDescriptor = {
  name: text,
}</code></pre>
                        <p>
                            <code>permissions.PermissionDescriptor</code> 类型表示 <a data-link-type="idl"
                                data-lt="PermissionDescriptor" href="#dom-permissiondescriptor" class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-21"><code>PermissionDescriptor</code></a>。
                        </p>
                    </section>
                    <section id="the-permissions-permissionstate-type">
                        <div class="header-wrapper">
                            <h6 id="webdriver-bidi-type-permissions-PermissionState"><bdi class="secno">B.2.1.2.2 </bdi>
                                permissions.PermissionState 类型
                            </h6><a class="self-link" href="#webdriver-bidi-type-permissions-PermissionState"
                                aria-label="Section B.2.1.2.2 的永久链接"></a>
                        </div>

                        <pre class="cddl" data-cddl-module="local-cddl"
                            aria-busy="false"><code class="hljs">permissions.PermissionState = "granted" / "denied" / "prompt"</code></pre>
                        <p>
                            <code>permissions.PermissionState</code> 类型表示 <a data-link-type="idl"
                                data-lt="PermissionState" href="#dom-permissionstate" class="internalDFN"
                                id="ref-for-dom-permissionstate-10"><code>PermissionState</code></a>。
                        </p>
                    </section>
                </section>
                <section id="commands">
                    <div class="header-wrapper">
                        <h5 id="webdriver-bidi-module-permissions-commands"><bdi class="secno">B.2.1.3 </bdi>命令
                        </h5><a class="self-link" href="#webdriver-bidi-module-permissions-commands"
                            aria-label="Section B.2.1.3 的永久链接"></a>
                    </div>

                    <section id="the-permissions-setpermission-command">
                        <div class="header-wrapper">
                            <h6 id="webdriver-bidi-command-permissions-setPermission"><bdi class="secno">B.2.1.3.1
                                </bdi> permissions.setPermission 命令
                            </h6><a class="self-link" href="#webdriver-bidi-command-permissions-setPermission"
                                aria-label="Section B.2.1.3.1 的永久链接"></a>
                        </div>

                        <p>
                            <dfn class="export" data-export="" id="dfn-set-permission-0" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">设置权限</dfn><a data-link-type="dfn"
                                href="https://www.w3.org/TR/webdriver-bidi/#command">命令</a>模拟用户修改 <a
                                data-link-type="idl" data-lt="PermissionDescriptor" href="#dom-permissiondescriptor"
                                class="internalDFN"
                                id="ref-for-dom-permissiondescriptor-22"><code>PermissionDescriptor</code></a> 的<a
                                data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                                id="ref-for-dfn-permission-state-20">权限状态</a>。
                        </p>
                        <dl>
                            <dt>
                                命令类型
                            </dt>
                            <dd>
                                <pre class="cddl" data-cddl-module="remote-cddl" aria-busy="false"><code class="hljs">permissions.setPermission = (
  method: "permissions.setPermission",
  params: permissions.SetPermissionParameters
)

permissions.SetPermissionParameters = {
  descriptor: permissions.PermissionDescriptor,
  state: permissions.PermissionState,
  origin: text,
  ? userContext: text,
}</code></pre>
                            </dd>
                            <dt>
                                返回类型
                            </dt>
                            <dd>
                                <code>EmptyResult</code>
                            </dd>
                        </dl>
                        <div class="algorithm" data-algorithm="remote end steps for permissions.setPermission">
                            <p>
                                使用 <var>session</var> 和 <var>command parameters</var> 的<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps">远程端步骤</a>如下：
                            </p>
                            <ol>
                                <li>令 <var>descriptor</var> 为 <var>command
                                        parameters</var> 的 <code>descriptor</code> 字段的值。
                                </li>
                                <li>令 <var>permission name</var> 为 <var>descriptor</var> 的 <code>name</code> 字段的值，代表 <a
                                        data-link-type="idl" href="#dom-permissiondescriptor-name" class="internalDFN"
                                        id="ref-for-dom-permissiondescriptor-name-14"><code>name</code></a>。
                                </li>
                                <li>令 <var>state</var> 为 <var>command
                                        parameters</var> 的 <code>state</code> 字段的值。
                                </li>
                                <li>令 <var>user context id</var> 为 <var>command
                                        parameters</var> 的 <code>userContext</code> 字段的值（如果存在），否则为 <code>default</code>。
                                </li>
                                <li>如果由于任何实现定义的原因，<var>state</var> 是一个不适当的<a data-link-type="dfn|abstract-op"
                                        href="#dfn-permission-state" class="internalDFN"
                                        id="ref-for-dfn-permission-state-21">权限状态</a>，则返回带有<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-error-code">错误代码</a> <a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-invalid-argument">invalid
                                        argument</a> 的<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-error">错误</a>。
                                </li>
                                <li>令 <var>typedDescriptor</var> 为 <var>descriptor</var> 指向的对象，将 (<var>descriptor</var>,
                                    <var>state</var>) <a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为
                                        IDL 值</a>，类型为 <a data-link-type="idl" data-lt="PermissionSetParameters"
                                        href="#dom-permissionsetparameters" class="internalDFN"
                                        id="ref-for-dom-permissionsetparameters-2"><code>PermissionSetParameters</code></a>
                                    <var>permission
                                        name</var> 的<a data-link-type="dfn|abstract-op"
                                        href="#dfn-permission-descriptor-type" class="internalDFN"
                                        id="ref-for-dfn-permission-descriptor-type-7">权限描述符类型</a>。如果此转换引发异常，则返回带有<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-error-code">错误代码</a> <a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-invalid-argument">invalid
                                        argument</a> 的<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-error">错误</a>。
                                </li>
                                <li>令 <var>origin</var> 为 <var>command
                                        parameters</var> 的 <code>origin</code> 字段的值。
                                </li>
                                <li>令 <var>user agent</var> 为代表 ID 为 <var>user context id</var> 的<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver-bidi/#user-context">用户上下文</a>的<a
                                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent">用户代理</a>。
                                </li>
                                <li>使用 <var>typedDescriptor</var>、<var>state</var>、<var>origin</var> 和 <var>user
                                        agent</var> <a data-link-type="dfn|abstract-op" href="#dfn-set-a-permission"
                                        class="internalDFN" id="ref-for-dfn-set-a-permission-2">设置权限</a>。
                                </li>
                                <li>返回带有数据 <code>null</code> 的<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/webdriver2/#dfn-success">成功</a>。
                                </li>
                            </ol>
                        </div>
                    </section>
                </section>
            </section>
        </section>
    </section>
    <section class="informative" id="permissions-registry">
        <div class="header-wrapper">
            <h2 id="c-permissions-registry"><bdi class="secno">C. </bdi>权限注册表</h2>
            <a class="self-link" href="#permissions-registry" aria-label="Section C 的永久链接"></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <section id="purpose">
            <div class="header-wrapper">
                <h3 id="c-1-purpose"><bdi class="secno">C.1 </bdi> 目的</h3>
                <a class="self-link" href="#purpose" aria-label="Section C.1 的永久链接"></a>
            </div>

            <p>
                这个 <a data-link-type="dfn" href="https://www.w3.org/policies/process/#w3c-registry">W3C
                    注册表</a>提供了一个集中的位置，用于查找 Web 平台的<a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制功能</a>和/或<a
                    data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-32">强大功能</a>。通过<a data-link-type="dfn|abstract-op"
                    href="#dfn-change-process" class="internalDFN"
                    id="ref-for-dfn-change-process-1">变更过程</a>，它还有助于确保平台中的权限在各种规范中得到一致的指定。
            </p>
            <p>
                通过将注册表划分为标准化权限和临时权限，注册表还提供了一种方法来跟踪这些功能的状态。
            </p>
        </section>

        <section id="change-process">
            <div class="header-wrapper">
                <h3 id="c-2-change-process"><bdi class="secno">C.2 </bdi>更改过程</h3>
                <a class="self-link" href="#change-process" aria-label="Section C.2 的永久链接"></a>
            </div>

            <p>
                本<a data-link-type="dfn|abstract-op" data-type="dfn" href="#dfn-change-process" tabindex="0"
                    aria-haspopup="dialog">更改过程</a>
                用于添加或更新此注册表，步骤如下：
            </p>
            <ol>
                <li>如果有必要，请在规范中添加“权限策略”部分，其中包括以下内容：
                    <ol>
                        <li>标识策略控制功能的字符串（例如，<code>"super-awesome"</code>）。确保通过将其包装在
                            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-dfn-element">dfn</a></code>
                            元素中使字符串可链接。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">默认允许列表</a>值（例如
                            <code>'self'</code>）。
                            <aside class="example" id="example-specifying-a-permissions-policy">
                                <div class="marker">
                                    <a class="self-link" href="#example-specifying-a-permissions-policy">示例<bdi>
                                            8</bdi></a><span class="example-title">: 指定权限策略</span>
                                </div>
                                <p>
                                    一个符合此标准的典型示例：
                                </p>
                                <blockquote>
                                    Super Awesome API 定义了一个由字符串“super-awesome”标识的<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制功能</a>。其<a
                                        data-link-type="dfn"
                                        href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">默认允许列表</a>是
                                    <code>'self'</code>。
                                </blockquote>
                            </aside>
                        </li>
                    </ol>
                </li>
                <li>
                    确定您的功能是否符合 <a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                        id="ref-for-dfn-powerful-feature-33">强大功能</a>的定义（即，需要<a data-link-type="dfn|abstract-op"
                        href="#dfn-express-permission" class="internalDFN"
                        id="ref-for-dfn-express-permission-10">明确许可</a>才能使用）。
                    如果是：
                    <ol>
                        <li>在您的规范中<a data-link-type="dfn|abstract-op" data-lt="Specifies a powerful feature"
                                href="#dfn-specifies-a-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-specifies-a-powerful-feature-2">指定强大功能</a>，并符合
                            <cite><a data-matched-text="[[[Permissions]]]"
                                    href="https://www.w3.org/TR/permissions/">权限</a></cite>规范。
                        </li>
                    </ol>
                </li>
                <li>
                    修改<a data-link-type="dfn|abstract-op"
                        href="#dfn-table-of-standardized-permissions-of-the-web-platform" class="internalDFN"
                        id="ref-for-dfn-table-of-standardized-permissions-of-the-web-platform-1">标准化权限表</a>或
                    <a data-link-type="dfn|abstract-op" href="#dfn-table-of-provisional-permissions" class="internalDFN"
                        id="ref-for-dfn-table-of-provisional-permissions-1">临时权限表</a>，填写每一列所需的信息。
                </li>
                <li>
                    向<a href="https://github.com/w3c/permissions/">GitHub 上的强大功能注册表存储库</a>提交包含更改的 pull 请求。存储库的维护人员将审查您的
                    pull 请求，并检查所有内容是否正确集成。
                </li>
            </ol>
        </section>
        <section id="registry-table-of-standardized-permissions">
            <div class="header-wrapper">
                <h3 id="c-3-registry-table-of-standardized-permissions"><bdi class="secno">C.3 </bdi>标准化权限注册表</h3>
                <a class="self-link" href="#registry-table-of-standardized-permissions"
                    aria-label="Section C.3 的永久链接"></a>
            </div>

            <p>要使某个权限出现在标准化权限表中，并被认为是 <dfn id="dfn-standardized-permission" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">标准化权限</dfn>，需要满足以下标准：</p>
            <ul>
                <li>已在至少两个浏览器引擎中实现并证明具有互操作性（例如，附带 <a href="https://web-platform-tests.org">Web 平台测试</a>）。
                </li>
                <li>由 <abbr title="World Wide Web Consortium">W3C</abbr> <a data-link-type="dfn"
                        href="https://www.w3.org/policies/process/#GroupsWG">工作组</a>以<a data-link-type="dfn"
                        href="https://www.w3.org/policies/process/#fpwd">首个公开工作草案</a>或更高级别的成熟度作为<a data-link-type="dfn"
                        href="https://www.w3.org/policies/process/#technical-report">技术报告</a>发布，或者由 <a
                        href="https://whatwg.org">WHATWG</a> 作为标准发布。
                </li>
            </ul>
            <p>
                每个<a data-link-type="dfn|abstract-op" href="#dfn-permission" class="internalDFN"
                    id="ref-for-dfn-permission-8">权限</a>都由一个唯一的文字字符串标识。对于<cite><a
                        data-matched-text="[[[Permissions-Policy]]]"
                        href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>，该字符串标识一个<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>。
                类似地，在<cite><a data-matched-text="[[[Permissions]]]"
                        href="https://www.w3.org/TR/permissions/">权限</a></cite>规范中，该字符串标识一个<a
                    data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                    id="ref-for-dfn-powerful-feature-34">强大功能</a>。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-9">
                <div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>注意</span><span
                        class="issue-label">: 权限和权限策略</span></div>
                <aside class="">
                    <p>
                        并非每个<a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>都是<a
                            data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-35">强大功能</a>。例如，“web-share”是一个<a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>，但未被归类为<a
                            data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-36">强大功能</a>，因为它不需要<a data-link-type="dfn|abstract-op"
                            href="#dfn-express-permission" class="internalDFN"
                            id="ref-for-dfn-express-permission-11">明确许可</a>即可使用。然而，除了极少数例外，大多数<a
                            data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-37">强大功能</a>也是<a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>。例如，“geolocation”既是<a
                            data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>，也是一个<a
                            data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-powerful-feature-38">强大功能</a>，因为它需要<a data-link-type="dfn|abstract-op"
                            href="#dfn-express-permission" class="internalDFN"
                            id="ref-for-dfn-express-permission-12">明确许可</a>才能使用。请参阅<cite><a
                                data-matched-text="[[[Permissions]]]"
                                href="https://www.w3.org/TR/permissions/">权限</a></cite>规范，以获取有关如何<a
                            data-link-type="dfn|abstract-op" data-lt="specifies a powerful feature"
                            href="#dfn-specifies-a-powerful-feature" class="internalDFN"
                            id="ref-for-dfn-specifies-a-powerful-feature-3">指定强大功能</a>的指导。
                    </p>
                </aside>
            </div>
            <table class="simple data">
                <caption>
                    <dfn data-local-lt="table of standardized permissions"
                        data-lt="Table of standardized permissions of the web platform|table of standardized permissions"
                        id="dfn-table-of-standardized-permissions-of-the-web-platform" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">Web 平台标准化权限表</dfn>
                </caption>
                <tbody>
                    <tr>
                        <th rowspan="2">
                            标识字符串
                        </th>
                        <th rowspan="2">
                            是<a data-link-type="dfn"
                                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>吗？
                        </th>
                        <th rowspan="2">
                            是<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-39">强大功能</a>吗？
                        </th>
                        <th rowspan="2">
                            规范
                        </th>
                        <th colspan="3">
                            实现
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <a href="https://www.chromium.org/Home/">Chromium</a>
                        </th>
                        <th>
                            <a href="https://developer.mozilla.org/en-US/docs/Glossary/Gecko">Gecko</a>
                        </th>
                        <th>
                            <a href="https://webkit.org/">WebKit</a>
                        </th>
                    </tr>
                    <tr data-cite="geolocation">
                        <td class="string-token">
                            <a data-link-type="permission"
                                href="https://www.w3.org/TR/geolocation/#dfn-geolocation">"geolocation"</a>
                        </td>
                        <td class="is-policy-controlled">
                            是
                        </td>
                        <td class="is-powerful-feature">
                            是
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[geolocation]]]"
                                    href="https://www.w3.org/TR/geolocation/">Geolocation</a></cite>
                        </td>
                        <td class="imp-chromium">
                            是
                        </td>
                        <td class="imp-gecko">
                            是
                        </td>
                        <td class="imp-webkit">
                            是
                        </td>
                    </tr>
                    <tr data-cite="notifications">
                        <td class="string-token">
                            "<a data-link-type="permission"
                                href="https://notifications.spec.whatwg.org/#permissiondef-notifications">notifications</a>"
                        </td>
                        <td class="is-policy-controlled">
                            否
                        </td>
                        <td class="is-powerful-feature">
                            是
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[NOTIFICATIONS]]]"
                                    href="https://notifications.spec.whatwg.org/">Notifications API Standard</a></cite>
                        </td>
                        <td class="imp-chromium">
                            是
                        </td>
                        <td class="imp-gecko">
                            是
                        </td>
                        <td class="imp-webkit">
                            是
                        </td>
                    </tr>
                    <tr data-cite="push-api">
                        <td class="string-token">
                            <a data-link-type="permission" href="https://www.w3.org/TR/push-api/#dfn-push">"push"</a>
                        </td>
                        <td class="is-policy-controlled">
                            否
                        </td>
                        <td class="is-powerful-feature">
                            是
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[push-api]]]" href="https://www.w3.org/TR/push-api/">Push
                                    API</a></cite>
                        </td>
                        <td class="imp-chromium">
                            是
                        </td>
                        <td class="imp-gecko">
                            是
                        </td>
                        <td class="imp-webkit">
                            是
                        </td>
                    </tr>
                    <tr data-cite="Web-share">
                        <td class="string-token">
                            <a data-link-type="permission"
                                href="https://www.w3.org/TR/web-share/#dfn-web-share">"web-share"</a>
                        </td>
                        <td class="is-policy-controlled">
                            是
                        </td>
                        <td class="is-powerful-feature">
                            否
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[Web-Share]]]" href="https://www.w3.org/TR/web-share/">Web
                                    Share API</a></cite>
                        </td>
                        <td class="imp-chromium">
                            是
                        </td>
                        <td class="imp-gecko">
                            是
                        </td>
                        <td class="imp-webkit">
                            是
                        </td>
                    </tr>

                </tbody>
            </table>
        </section>
        <section id="registry-table-of-provisional-permissions">
            <div class="header-wrapper">
                <h3 id="c-4-registry-table-of-provisional-permissions"><bdi class="secno">C.4 </bdi>临时权限注册表</h3>
                <a class="self-link" href="#registry-table-of-provisional-permissions"
                    aria-label="Section C.4 的永久链接"></a>
            </div>

            <p>
                临时权限是尚未 <a data-link-type="dfn|abstract-op" data-lt="standardized permission"
                    href="#dfn-standardized-permission" class="internalDFN"
                    id="ref-for-dfn-standardized-permission-1">标准化</a> 的权限
                （即它们要么是实验性的，还处于孵化阶段，或者仅在单一浏览器引擎中实现）。
            </p>
            <table class="simple data">
                <caption>
                    <dfn id="dfn-table-of-provisional-permissions" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">临时权限表</dfn>
                </caption>
                <tbody>
                    <tr>
                        <th rowspan="2">
                            标识字符串
                        </th>
                        <th rowspan="2">
                            是<a data-link-type="dfn"
                                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>吗？
                        </th>
                        <th rowspan="2">
                            是<a data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                                id="ref-for-dfn-powerful-feature-40">强大功能</a>吗？
                        </th>
                        <th rowspan="2">
                            规范
                        </th>
                        <th colspan="3">
                            实现
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <a href="https://www.chromium.org/Home/">Chromium</a>
                        </th>
                        <th>
                            <a href="https://developer.mozilla.org/en-US/docs/Glossary/Gecko">Gecko</a>
                        </th>
                        <th>
                            <a href="https://webkit.org/">WebKit</a>
                        </th>
                    </tr>
                    <tr data-cite="orientation-event">
                        <td class="string-token">
                            <a data-link-type="permission"
                                href="https://www.w3.org/TR/orientation-event/#permissiondef-accelerometer">"accelerometer"</a>
                        </td>
                        <td class="is-policy-controlled">
                            是
                        </td>
                        <td class="is-powerful-feature">
                            是
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[orientation-event]]]"
                                    href="https://www.w3.org/TR/orientation-event/">设备方向和运动</a></cite>
                        </td>
                        <td class="imp-chromium">
                            是
                        </td>
                        <td class="imp-gecko">
                            否
                        </td>
                        <td class="imp-webkit">
                            否
                        </td>
                    </tr>
                    <tr data-cite="window-management">
                        <td class="string-token">
                            "<a data-link-type="permission"
                                href="https://www.w3.org/TR/window-management/#permissiondef-window-management">window-management</a>"
                        </td>
                        <td class="is-policy-controlled">
                            是
                        </td>
                        <td class="is-powerful-feature">
                            是
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[window-management]]]"
                                    href="https://www.w3.org/TR/window-management/">窗口管理</a></cite>
                        </td>
                        <td class="imp-chromium">
                            是
                        </td>
                        <td class="imp-gecko">
                            否
                        </td>
                        <td class="imp-webkit">
                            否
                        </td>
                    </tr>
                    <tr data-cite="local-font-access">
                        <td class="string-token">
                            "<a data-link-type="permission"
                                href="https://wicg.github.io/local-font-access/#permissiondef-local-fonts">local-fonts</a>"
                        </td>
                        <td class="is-policy-controlled">
                            是
                        </td>
                        <td class="is-powerful-feature">
                            是
                        </td>
                        <td class="spec">
                            <cite><a data-matched-text="[[[local-font-access]]]"
                                    href="https://wicg.github.io/local-font-access/">本地字体访问 API</a></cite>
                        </td>
                        <td class="imp-chromium">
                            是
                        </td>
                        <td class="imp-gecko">
                            否
                        </td>
                        <td class="imp-webkit">
                            否
                        </td>
                    </tr>

                </tbody>
            </table>
        </section>
    </section>
    <section class="appendix" id="privacy-considerations-0">
        <div class="header-wrapper">
            <h2 id="privacy-considerations"><bdi class="secno">D. </bdi>隐私注意事项</h2>
            <a class="self-link" href="#privacy-considerations" aria-label="附录 D 的永久链接"></a>
        </div>

        <p>
            对手可能会利用<a data-link-type="dfn|abstract-op" href="#dfn-permission-state" class="internalDFN"
                id="ref-for-dfn-permission-state-22">权限状态</a>作为创建用户“指纹”的元素。虽然对手已经可以通过实际使用 API 来确定权限状态，但这通常会导致向终端用户显示 UI
            提示（如果权限尚未被<a data-link-type="dfn|abstract-op" href="#dfn-granted" class="internalDFN"
                id="ref-for-dfn-granted-8">“授予”</a>）。虽然该 API 不会向网站暴露新的指纹信息，但它使对手更容易悄悄地访问这些信息。
        </p>
        <p>
            用户代理<em class="rfc2119">应该</em>提供一种方式，供用户审查、更新和重置与某个<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">源</a>关联的<a
                data-link-type="dfn|abstract-op" href="#dfn-powerful-feature" class="internalDFN"
                id="ref-for-dfn-powerful-feature-41">强大功能</a>的<a data-link-type="dfn|abstract-op" href="#dfn-permission"
                class="internalDFN" id="ref-for-dfn-permission-9">权限</a><a data-link-type="dfn|abstract-op"
                href="#dfn-states" class="internalDFN" id="ref-for-dfn-states-5">状态</a>。
        </p>
    </section>
    <section id="security-considerations">
        <div class="header-wrapper">
            <h2 id="e-security-considerations"><bdi class="secno">E. </bdi>安全注意事项</h2>
            <a class="self-link" href="#security-considerations" aria-label="Section E 的永久链接"></a>
        </div>

        <p>
            目前没有记录的安全注意事项。建议读者参考第<a href="#privacy-considerations" data-matched-text="[[[#privacy-considerations]]]"
                class="sec-ref"><bdi class="secno">D. </bdi>隐私注意事项</a>部分。
        </p>
    </section>

    <section id="idl-index">
        <div class="header-wrapper">
            <h2 id="f-idl-index"><bdi class="secno">F. </bdi>IDL 索引</h2>
            <a class="self-link" href="#idl-index" aria-label="Section F 的永久链接"></a>
        </div>

        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlAttribute" data-title="permissions" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissions" class="internalDFN" id="ref-for-dom-permissions-4"><code>Permissions</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="permissions" data-dfn-for="Navigator" data-type="Permissions" data-lt="permissions" data-local-lt="Navigator.permissions" class="idlName"><code>permissions</code></dfn>;</span>
};</span><span data-idl="" class="idlInterface" data-title="WorkerNavigator">

[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Worker)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="WorkerNavigator" class="idlID" data-dfn-for="WorkerNavigator" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator">WorkerNavigator</a> {<span data-idl="" class="idlAttribute" data-title="permissions" data-dfn-for="WorkerNavigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissions" class="internalDFN" id="ref-for-dom-permissions-5"><code>Permissions</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="permissions" data-dfn-for="WorkerNavigator" data-type="Permissions" data-lt="permissions" data-local-lt="WorkerNavigator.permissions" class="idlName"><code>permissions</code></dfn>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="Permissions">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="Permissions" data-dfn-for="" class="idlID"><code>Permissions</code></dfn> {<span data-idl="" class="idlMethod" data-title="query" data-dfn-for="Permissions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-permissionstatus" class="internalDFN" id="ref-for-dom-permissionstatus-9"><code>PermissionStatus</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-permissions-query" id="ref-for-dom-permissions-query-3"><code>query</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <span class="idlParamName">permissionDesc</span>);</span>
};</span><span data-idl="" class="idlDictionary" data-title="PermissionDescriptor">

dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PermissionDescriptor" data-dfn-for="" class="idlID"><code>PermissionDescriptor</code></dfn> {<span data-idl="" class="idlMember" data-title="name" data-dfn-for="PermissionDescriptor">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="name" data-dfn-for="PermissionDescriptor" data-type="DOMString" class="idlName"><code>name</code></dfn>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PermissionStatus">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window,Worker)</span>]
interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="PermissionStatus" data-dfn-for="" class="idlID"><code>PermissionStatus</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" data-title="state" data-dfn-for="PermissionStatus">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-permissionstate" class="internalDFN" id="ref-for-dom-permissionstate-11"><code>PermissionState</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-state" id="ref-for-dom-permissionstatus-state-4"><code>state</code></a>;</span><span data-idl="" class="idlAttribute" data-title="name" data-dfn-for="PermissionStatus">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-name" id="ref-for-dom-permissionstatus-name-3"><code>name</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onchange" data-dfn-for="PermissionStatus">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-permissionstatus-onchange" id="ref-for-dom-permissionstatus-onchange-2"><code>onchange</code></a>;</span>
};</span><span data-idl="" class="idlEnum" data-title="PermissionState">

enum <dfn data-export="" data-dfn-type="enum" data-idl="enum" data-title="PermissionState" data-dfn-for="" class="idlID"><code>PermissionState</code></dfn> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted-7"><code>granted</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied-14"><code>denied</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-permissionstate-prompt" id="ref-for-dom-permissionstate-prompt-4"><code>prompt</code></a>"</span>,
};</span>

<span data-idl="" class="idlDictionary" data-title="PermissionSetParameters">dictionary <dfn data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PermissionSetParameters" data-dfn-for="" class="idlID"><code>PermissionSetParameters</code></dfn> {<span data-idl="" class="idlMember" data-title="descriptor" data-dfn-for="PermissionSetParameters">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="descriptor" data-dfn-for="PermissionSetParameters" data-type="object" class="idlName"><code>descriptor</code></dfn>;</span><span data-idl="" class="idlMember" data-title="state" data-dfn-for="PermissionSetParameters">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-permissionstate" class="internalDFN" id="ref-for-dom-permissionstate-12"><code>PermissionState</code></a></span> <dfn data-export="" data-dfn-type="dict-member" data-idl="field" data-title="state" data-dfn-for="PermissionSetParameters" data-type="PermissionState" class="idlName"><code>state</code></dfn>;</span>
};</span></code></pre>
    </section>
    <section class="appendix informative" id="acknowledgments">
        <div class="header-wrapper">
            <h2 class="no-num" id="g-acknowledgments"><bdi class="secno">G. </bdi>致谢</h2>
            <a class="self-link" href="#acknowledgments" aria-label="附录 G 的永久链接"></a>
        </div>
        <p><em>本节为非规范性部分。</em></p>

        <p>
            编辑们感谢 Adrienne Porter Felt、Anne van Kesteren、Domenic Denicola、Jake Archibald 和 Wendy Seltzer 对 API
            设计和编辑工作的帮助。
        </p>
    </section>

    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="h-references"><bdi class="secno">H. </bdi>参考文献</h2>
            <a class="self-link" href="#references" aria-label="附录 H 的永久链接"></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="h-1-normative-references"><bdi class="secno">H.1 </bdi>规范性参考文献</h3>
                <a class="self-link" href="#normative-references" aria-label="附录 H.1 的永久链接"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>。Anne van Kesteren。WHATWG。现行标准。URL：<a
                        href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-ecma-262">[ecma-262]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>。Ecma
                    International。URL：<a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>。由 Anne van
                    Kesteren、Domenic Denicola、Dominic Farolino、Ian Hickson、Philip Jägenstedt、Simon Pieters
                    编著。WHATWG。现行标准。网址：<a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>基础标准</cite></a>。Anne van Kesteren; Domenic
                    Denicola。WHATWG。现行标准。URL：<a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-notifications">[Notifications]</dt>
                <dd>
                    <a href="https://notifications.spec.whatwg.org/"><cite>通知 API 标准</cite></a>。Anne van
                    Kesteren。WHATWG。现行标准。URL：<a
                        href="https://notifications.spec.whatwg.org/">https://notifications.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-permissions-policy">[Permissions-Policy]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>权限策略</cite></a>。Ian
                    Clelland。W3C。2025年5月6日。W3C 工作草案。URL：<a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                <dt id="bib-permissions-registry">[permissions-registry]</dt>
                <dd>
                    <a href="https://w3c.github.io/permissions-registry/"><cite>权限注册表</cite></a>。W3C。草案注册表。URL：<a
                        href="https://w3c.github.io/permissions-registry/">https://w3c.github.io/permissions-registry/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>RFC 中指示要求级别的关键词</cite></a>。S.
                    Bradner。IETF。1997 年 3 月。最佳现行规范。URL：<a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC 2119 中大写与小写模糊性</cite></a>。B.
                    Leiba。IETF。2017 年 5 月。最佳现行规范。URL：<a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-webdriver">[WebDriver]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webdriver1/"><cite>WebDriver</cite></a>。Simon Stewart; David
                    Burns。W3C。2018 年 6 月 5 日。W3C 推荐标准。URL：<a
                        href="https://www.w3.org/TR/webdriver1/">https://www.w3.org/TR/webdriver1/</a>
                </dd>
                <dt id="bib-webdriver-bidi">[WebDriver-BiDi]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webdriver-bidi/"><cite>WebDriver BiDi</cite></a>. James Graham; Alex
                    Rudenko; Maksim Sadym. W3C. 2025年6月20日. W3C 工作草案. URL: <a
                        href="https://www.w3.org/TR/webdriver-bidi/">https://www.w3.org/TR/webdriver-bidi/</a>
                </dd>
                <dt id="bib-webdriver2">[webdriver2]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webdriver2/"><cite>WebDriver</cite></a>. Simon Stewart; David Burns.
                    W3C. 2025年6月20日. W3C 工作草案. URL: <a
                        href="https://www.w3.org/TR/webdriver2/">https://www.w3.org/TR/webdriver2/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。Edgar Chen; Timothy
                    Gu。WHATWG。现行标准。URL：<a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>

        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="h-2-informative-references"><bdi class="secno">H.2 </bdi>参考性文献</h3>
                <a class="self-link" href="#informative-references" aria-label="附录 H.2 的永久链接"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-appmanifest">[appmanifest]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/appmanifest/"><cite>Web 应用程序清单</cite></a>。Marcos
                    Caceres；Kenneth Christiansen；Diego Gonzalez-Zuniga；Daniel Murphy；Christian Liebel。W3C。2025年5月5日。W3C
                    工作草案。URL：<a href="https://www.w3.org/TR/appmanifest/">https://www.w3.org/TR/appmanifest/</a>
                </dd>
                <dt id="bib-geolocation">[Geolocation]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/geolocation/"><cite>地理位置</cite></a>。Marcos Caceres；Reilly
                    Grant。W3C。2025年4月11日。W3C 推荐标准。URL：<a
                        href="https://www.w3.org/TR/geolocation/">https://www.w3.org/TR/geolocation/</a>
                </dd>
                <dt id="bib-getusermedia">[GETUSERMEDIA]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/mediacapture-streams/"><cite>媒体捕获和流</cite></a>。
                    Cullen Jennings；Jan-Ivar Bruaroey；Henrik Boström；youenn fablet。W3C。2025年5月26日。CRD。URL：<a
                        href="https://www.w3.org/TR/mediacapture-streams/">https://www.w3.org/TR/mediacapture-streams/</a>
                </dd>
                <dt id="bib-local-font-access">[local-font-access]</dt>
                <dd>
                    <a href="https://wicg.github.io/local-font-access/"><cite>本地字体访问 API</cite></a>。W3C。
                    社区组报告草案。URL：<a
                        href="https://wicg.github.io/local-font-access/">https://wicg.github.io/local-font-access/</a>
                </dd>
                <dt id="bib-orientation-event">[orientation-event]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/orientation-event/"><cite>设备方向和运动</cite></a>。
                    Reilly Grant；Marcos Caceres。W3C。2025年2月12日。CRD。URL：<a
                        href="https://www.w3.org/TR/orientation-event/">https://www.w3.org/TR/orientation-event/</a>
                </dd>
                <dt id="bib-permissions">[Permissions]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions/"><cite>权限</cite></a>。Marcos Caceres；Mike
                    Taylor。W3C。2024年12月20日。W3C 工作草案。URL：<a
                        href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
                </dd>
                <dt id="bib-push-api">[push-api]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/push-api/"><cite>推送 API</cite></a>。Peter Beverloo；Martin Thomson；
                    Marcos Caceres。W3C。2024年9月3日。W3C 工作草案。URL：<a
                        href="https://www.w3.org/TR/push-api/">https://www.w3.org/TR/push-api/</a>
                </dd>
                <dt id="bib-w3c-process">[w3c-process]</dt>
                <dd>
                    <a href="https://www.w3.org/policies/process/"><cite>W3C 流程文档</cite></a>。Elika J.
                    Etemad (fantasai)；Florian Rivoal。W3C。2023年11月3日。URL：<a
                        href="https://www.w3.org/policies/process/">https://www.w3.org/policies/process/</a>
                </dd>
                <dt id="bib-web-share">[Web-Share]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/web-share/"><cite>Web 分享 API</cite></a>。Marcos Caceres；Eric
                    Willigers；Matt Giuca。W3C。2023年5月30日。W3C 推荐标准。URL：<a
                        href="https://www.w3.org/TR/web-share/">https://www.w3.org/TR/web-share/</a>
                </dd>
                <dt id="bib-window-management">[window-management]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/window-management/"><cite>窗口管理</cite></a>。Joshua Bell；
                    Mike Wasserman。W3C。2024年6月7日。W3C 工作草案。URL：<a
                        href="https://www.w3.org/TR/window-management/">https://www.w3.org/TR/window-management/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="返回顶部">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission"
        aria-label="Links in this document to definition: permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission"
                aria-label="Permalink for definition: permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-permission-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-3" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-4" title="§ 3.3 Powerful features">§ 3.3 Powerful features</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-5" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-permission-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-7" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-8" title="§ C.3 Registry table of standardized permissions">§ C.3
                    Registry table of standardized permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-9" title="§ D. Privacy considerations">§ D. Privacy considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-express-permission"
        aria-label="Links in this document to definition: Express permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-express-permission"
                aria-label="Permalink for definition: Express permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-express-permission-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-express-permission-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-express-permission-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-express-permission-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-5" title="§ 3.3 Powerful features">§ 3.3 Powerful features</a>
                <a href="#ref-for-dfn-express-permission-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-7"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a> <a href="#ref-for-dfn-express-permission-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-9"
                    title="§ A. Relationship to the Permissions Policy specification">§ A. Relationship to the
                    Permissions Policy specification</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-10" title="§ C.2 Change Process">§ C.2 Change Process</a>
            </li>
            <li>
                <a href="#ref-for-dfn-express-permission-11" title="§ C.3 Registry table of standardized permissions">§
                    C.3 Registry table of standardized permissions</a> <a href="#ref-for-dfn-express-permission-12"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-states"
        aria-label="Links in this document to definition: states">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-states"
                aria-label="Permalink for definition: states. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-states-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-states-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-states-3" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-states-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-states-5" title="§ D. Privacy considerations">§ D. Privacy considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-denied"
        aria-label="Links in this document to definition: &quot;denied&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-denied"
                aria-label="Permalink for definition: &quot;denied&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-denied-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-denied-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-denied-3" title="§ 6.3 PermissionStatus interface">§ 6.3 PermissionStatus
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-granted"
        aria-label="Links in this document to definition: &quot;granted&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-granted"
                aria-label="Permalink for definition: &quot;granted&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-granted-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-granted-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-3" title="§ 3.3 Powerful features">§ 3.3 Powerful features</a> <a
                    href="#ref-for-dfn-granted-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-5" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-6" title="§ 6.3 PermissionStatus interface">§ 6.3 PermissionStatus
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-7" title="§ A. Relationship to the Permissions Policy specification">§ A.
                    Relationship to the Permissions Policy specification</a>
            </li>
            <li>
                <a href="#ref-for-dfn-granted-8" title="§ D. Privacy considerations">§ D. Privacy considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-prompt"
        aria-label="Links in this document to definition: &quot;prompt&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-prompt"
                aria-label="Permalink for definition: &quot;prompt&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-prompt-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-prompt-2" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-prompt-3" title="§ 6.3 PermissionStatus interface">§ 6.3 PermissionStatus
                    interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-new-information-about-the-user-s-intent"
        aria-label="Links in this document to definition: new information about the user's intent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-new-information-about-the-user-s-intent"
                aria-label="Permalink for definition: new information about the user's intent. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-new-information-about-the-user-s-intent-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-new-information-about-the-user-s-intent-2"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-new-information-about-the-user-s-intent-3"
                    title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt the user to choose</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-implicit-signals"
        aria-label="Links in this document to definition: implicit signals">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-implicit-signals"
                aria-label="Permalink for definition: implicit signals. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-implicit-signals-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-lifetime"
        aria-label="Links in this document to definition: lifetime">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-lifetime"
                aria-label="Permalink for definition: lifetime. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-lifetime-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-lifetime-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-lifetime-3" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
            </li>
            <li>
                <a href="#ref-for-dfn-lifetime-4" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a> <a href="#ref-for-dfn-lifetime-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-lifetime-6" title="Reference 3">(3)</a> <a href="#ref-for-dfn-lifetime-7"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-lifetime-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-lifetime-9" title="Reference 6">(6)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-default-state"
        aria-label="Links in this document to definition: default state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-state"
                aria-label="Permalink for definition: default state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-default-state-1" title="§ 3.1 Permissions">§ 3.1 Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-default-state-2" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-default-state-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-store"
        aria-label="Links in this document to definition: permission store">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-store"
                aria-label="Permalink for definition: permission store. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-store-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-permission-store-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-store-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-store-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-permission-store-5" title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-store-entry"
        aria-label="Links in this document to definition: permission store entry">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-store-entry"
                aria-label="Permalink for definition: permission store entry. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-store-entry-1" title="§ 3.2 Permission Store">§ 3.2 Permission
                    Store</a> <a href="#ref-for-dfn-permission-store-entry-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-store-entry-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-store-entry-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-permission-store-entry-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-permission-store-entry-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-permission-store-entry-7" title="Reference 7">(7)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-descriptor"
        aria-label="Links in this document to definition: descriptor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-descriptor"
                aria-label="Permalink for definition: descriptor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-descriptor-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-descriptor-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-descriptor-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-descriptor-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-descriptor-5" title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-key"
        aria-label="Links in this document to definition: key">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-key"
                aria-label="Permalink for definition: key. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-key-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-key-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-key-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-key-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-key-5" title="Reference 5">(5)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-state"
        aria-label="Links in this document to definition: state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-state"
                aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-state-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
            </li>
            <li>
                <a href="#ref-for-dfn-state-2" title="§ 5.1 Reading the current permission state">§ 5.1 Reading the
                    current permission state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-get-a-permission-store-entry"
        aria-label="Links in this document to definition: get a permission store entry">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-get-a-permission-store-entry"
                aria-label="Permalink for definition: get a permission store entry. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-get-a-permission-store-entry-1"
                    title="§ 5.1 Reading the current permission state">§ 5.1 Reading the current permission state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-a-permission-store-entry"
        aria-label="Links in this document to definition: set a permission store entry">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-a-permission-store-entry"
                aria-label="Permalink for definition: set a permission store entry. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-set-a-permission-store-entry-1"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-remove-a-permission-store-entry"
        aria-label="Links in this document to definition: remove a permission store entry">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-remove-a-permission-store-entry"
                aria-label="Permalink for definition: remove a permission store entry. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-remove-a-permission-store-entry-1"
                    title="§ 5.4 Reacting to users revoking permission">§ 5.4 Reacting to users revoking permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-key"
        aria-label="Links in this document to definition: permission key">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-key"
                aria-label="Permalink for definition: permission key. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-key-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-permission-key-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-key-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-key-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-permission-key-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-permission-key-6" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-7" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-permission-key-8" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-key-9" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-key-10" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-11" title="§ 5.4 Reacting to users revoking permission">§ 5.4
                    Reacting to users revoking permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-is-equal-to"
        aria-label="Links in this document to definition: is equal to">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-is-equal-to"
                aria-label="Permalink for definition: is equal to. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-is-equal-to-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a> <a
                    href="#ref-for-dfn-is-equal-to-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-is-equal-to-3"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-powerful-feature"
        aria-label="Links in this document to definition: powerful feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-powerful-feature"
                aria-label="Permalink for definition: powerful feature. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-powerful-feature-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-2" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-3" title="§ 3. Model">§ 3. Model</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-4" title="§ 3.1 Permissions">§ 3.1 Permissions</a> <a
                    href="#ref-for-dfn-powerful-feature-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-powerful-feature-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-powerful-feature-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-powerful-feature-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-powerful-feature-9" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-powerful-feature-10" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-11" title="§ 3.3 Powerful features">§ 3.3 Powerful features</a>
                <a href="#ref-for-dfn-powerful-feature-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-13" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a> <a
                    href="#ref-for-dfn-powerful-feature-14" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-15" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-powerful-feature-16" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-powerful-feature-17" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-powerful-feature-18" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-powerful-feature-19" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-powerful-feature-20" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-powerful-feature-21" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-powerful-feature-22" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-powerful-feature-23" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-powerful-feature-24" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-powerful-feature-25" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-powerful-feature-26" title="Reference 12">(12)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-27"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-28" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-29"
                    title="§ A. Relationship to the Permissions Policy specification">§ A. Relationship to the
                    Permissions Policy specification</a> <a href="#ref-for-dfn-powerful-feature-30"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-31" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-32" title="§ C.1 Purpose">§ C.1 Purpose</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-33" title="§ C.2 Change Process">§ C.2 Change Process</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-34" title="§ C.3 Registry table of standardized permissions">§
                    C.3 Registry table of standardized permissions</a> <a href="#ref-for-dfn-powerful-feature-35"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-powerful-feature-36" title="Reference 3">(3)</a>
                <a href="#ref-for-dfn-powerful-feature-37" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-powerful-feature-38" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-powerful-feature-39" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-40" title="§ C.4 Registry table of provisional permissions">§ C.4
                    Registry table of provisional permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-powerful-feature-41" title="§ D. Privacy considerations">§ D. Privacy
                    considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-name"
        aria-label="Links in this document to definition: name">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-name"
                aria-label="Permalink for definition: name. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-name-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-name-2" title="§ 5.1 Reading the current permission state">§ 5.1 Reading the
                    current permission state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-name-3" title="§ A. Relationship to the Permissions Policy specification">§ A.
                    Relationship to the Permissions Policy specification</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-aspects"
        aria-label="Links in this document to definition: aspects">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-aspects"
                aria-label="Permalink for definition: aspects. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-aspects-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dfn-aspects-2" title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful
                    feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permissions-task-source"
        aria-label="Links in this document to definition: permissions task source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permissions-task-source"
                aria-label="Permalink for definition: permissions task source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permissions-task-source-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permissions-task-source-2" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permissions-task-source-3" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permissions-task-source-4" title="§ B. Automated testing">§ B. Automated
                    testing</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-specifies-a-powerful-feature"
        aria-label="Links in this document to definition: specifies a powerful feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-specifies-a-powerful-feature"
                aria-label="Permalink for definition: specifies a powerful feature. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-specifies-a-powerful-feature-1" title="§ 7. Conformance">§ 7. Conformance</a>
            </li>
            <li>
                <a href="#ref-for-dfn-specifies-a-powerful-feature-2" title="§ C.2 Change Process">§ C.2 Change
                    Process</a>
            </li>
            <li>
                <a href="#ref-for-dfn-specifies-a-powerful-feature-3"
                    title="§ C.3 Registry table of standardized permissions">§ C.3 Registry table of standardized
                    permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-descriptor-type"
        aria-label="Links in this document to definition: permission descriptor type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-descriptor-type"
                aria-label="Permalink for definition: permission descriptor type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-2" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dfn-permission-descriptor-type-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-4" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-5" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-6" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-descriptor-type-7"
                    title="§ B.2.1.3.1 The permissions.setPermission Command">§ B.2.1.3.1 The permissions.setPermission
                    Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-stronger-than"
        aria-label="Links in this document to definition: stronger than">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-stronger-than"
                aria-label="Permalink for definition: stronger than. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-stronger-than-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-state-constraints"
        aria-label="Links in this document to definition: permission state constraints">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-state-constraints"
                aria-label="Permalink for definition: permission state constraints. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-state-constraints-1"
                    title="§ 5.1 Reading the current permission state">§ 5.1 Reading the current permission state</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-extra-permission-data-type"
        aria-label="Links in this document to definition: extra permission data type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-extra-permission-data-type"
                aria-label="Permalink for definition: extra permission data type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-extra-permission-data-type-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dfn-extra-permission-data-type-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-extra-permission-data"
        aria-label="Links in this document to definition: extra permission data">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-extra-permission-data"
                aria-label="Permalink for definition: extra permission data. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-extra-permission-data-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dfn-extra-permission-data-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-extra-permission-data-3"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-extra-permission-data-constraints"
        aria-label="Links in this document to definition: extra permission data constraints">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-extra-permission-data-constraints"
                aria-label="Permalink for definition: extra permission data constraints. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-extra-permission-data-constraints-1" title="§ 4. Specifying a powerful feature">§
                    4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-result-type"
        aria-label="Links in this document to definition: permission result type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-result-type"
                aria-label="Permalink for definition: permission result type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-result-type-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dfn-permission-result-type-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-result-type-3" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-query-algorithm"
        aria-label="Links in this document to definition: permission query algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-query-algorithm"
                aria-label="Permalink for definition: permission query algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-query-algorithm-1" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-query-algorithm-2" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-default-permission-query-algorithm"
        aria-label="Links in this document to definition: default permission query algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-permission-query-algorithm"
                aria-label="Permalink for definition: default permission query algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-default-permission-query-algorithm-1" title="§ 4. Specifying a powerful feature">§
                    4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-key-type"
        aria-label="Links in this document to definition: permission key type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-key-type"
                aria-label="Permalink for definition: permission key type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-key-type-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
                <a href="#ref-for-dfn-permission-key-type-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-key-type-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-key-type-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-type-5" title="§ 4. Specifying a powerful feature">§ 4. Specifying
                    a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-permission-key-generation-algorithm"
        aria-label="Links in this document to definition: permission key generation algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-key-generation-algorithm"
                aria-label="Permalink for definition: permission key generation algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-key-generation-algorithm-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a> <a
                    href="#ref-for-dfn-permission-key-generation-algorithm-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-generation-algorithm-3"
                    title="§ 5.1 Reading the current permission state">§ 5.1 Reading the current permission state</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-generation-algorithm-4"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-default-permission-key-generation-algorithm"
        aria-label="Links in this document to definition: default permission key generation algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-permission-key-generation-algorithm"
                aria-label="Permalink for definition: default permission key generation algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-default-permission-key-generation-algorithm-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-permission-key-comparison-algorithm"
        aria-label="Links in this document to definition: permission key comparison algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-key-comparison-algorithm"
                aria-label="Permalink for definition: permission key comparison algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-key-comparison-algorithm-1" title="§ 3.2 Permission Store">§ 3.2
                    Permission Store</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-key-comparison-algorithm-2"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-default-permission-key-comparison-algorithm"
        aria-label="Links in this document to definition: default permission key comparison algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-permission-key-comparison-algorithm"
                aria-label="Permalink for definition: default permission key comparison algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-default-permission-key-comparison-algorithm-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-permission-revocation-algorithm"
        aria-label="Links in this document to definition: permission revocation algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-revocation-algorithm"
                aria-label="Permalink for definition: permission revocation algorithm. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-revocation-algorithm-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-revocation-algorithm-2"
                    title="§ 5.4 Reacting to users revoking permission">§ 5.4 Reacting to users revoking permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-default-permission-state"
        aria-label="Links in this document to definition: Default permission state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-permission-state"
                aria-label="Permalink for definition: Default permission state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-default-powerful-feature"
        aria-label="Links in this document to definition: default powerful feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-default-powerful-feature"
                aria-label="Permalink for definition: default powerful feature. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-getting-the-current-permission-state"
        aria-label="Links in this document to definition: get the current permission state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-getting-the-current-permission-state"
                aria-label="Permalink for definition: get the current permission state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-getting-the-current-permission-state-1"
                    title="§ A. Relationship to the Permissions Policy specification">§ A. Relationship to the
                    Permissions Policy specification</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permission-state"
        aria-label="Links in this document to definition: permission state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permission-state"
                aria-label="Permalink for definition: permission state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permission-state-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dfn-permission-state-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-state-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-permission-state-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-permission-state-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-permission-state-6" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-permission-state-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-permission-state-8" title="Reference 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-9" title="§ 5.1 Reading the current permission state">§ 5.1
                    Reading the current permission state</a> <a href="#ref-for-dfn-permission-state-10"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-permission-state-11" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-12"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-13" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt the user
                    to choose</a> <a href="#ref-for-dfn-permission-state-14" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-15"
                    title="§ A. Relationship to the Permissions Policy specification">§ A. Relationship to the
                    Permissions Policy specification</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-16" title="§ B. Automated testing">§ B. Automated testing</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-17" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a> <a
                    href="#ref-for-dfn-permission-state-18" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-permission-state-19" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-20" title="§ B.2.1.3.1 The permissions.setPermission Command">§
                    B.2.1.3.1 The permissions.setPermission Command</a> <a href="#ref-for-dfn-permission-state-21"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-permission-state-22" title="§ D. Privacy considerations">§ D. Privacy
                    considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-request-permission-to-use"
        aria-label="Links in this document to definition: request permission to use">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-request-permission-to-use"
                aria-label="Permalink for definition: request permission to use. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-request-permission-to-use-1"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a> <a href="#ref-for-dfn-request-permission-to-use-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-prompt-the-user-to-choose"
        aria-label="Links in this document to definition: prompt the user to choose">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-prompt-the-user-to-choose"
                aria-label="Permalink for definition: prompt the user to choose. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-prompt-the-user-to-choose-1" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt
                    the user to choose</a> <a href="#ref-for-dfn-prompt-the-user-to-choose-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-prompt-the-user-to-choose-3"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-react-to-the-user-revoking-permission"
        aria-label="Links in this document to definition: react to the user revoking permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-react-to-the-user-revoking-permission"
                aria-label="Permalink for definition: react to the user revoking permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-react-to-the-user-revoking-permission-1"
                    title="§ 4. Specifying a powerful feature">§ 4. Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-permissions"
        aria-label="Links in this document to definition: permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-permissions"
                aria-label="Permalink for definition: permissions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-workernavigator-permissions"
        aria-label="Links in this document to definition: permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-workernavigator-permissions"
                aria-label="Permalink for definition: permissions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissions"
        aria-label="Links in this document to definition: Permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissions"
                aria-label="Permalink for definition: Permissions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissions-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissions-2"
                    title="§ 6.1 Extensions to the Navigator and WorkerNavigator interfaces">§ 6.1 Extensions to the
                    Navigator and WorkerNavigator interfaces</a> <a href="#ref-for-dom-permissions-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissions-4" title="§ F. IDL Index">§ F. IDL Index</a> <a
                    href="#ref-for-dom-permissions-5" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissiondescriptor"
        aria-label="Links in this document to definition: PermissionDescriptor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissiondescriptor"
                aria-label="Permalink for definition: PermissionDescriptor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-1" title="§ 3.2 Permission Store">§ 3.2 Permission Store</a>
                <a href="#ref-for-dom-permissiondescriptor-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissiondescriptor-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-permissiondescriptor-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-permissiondescriptor-5" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-6" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a> <a
                    href="#ref-for-dom-permissiondescriptor-7" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-8" title="§ 4. Specifying a powerful feature">§ 4. Specifying
                    a powerful feature</a> <a href="#ref-for-dom-permissiondescriptor-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissiondescriptor-10" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-permissiondescriptor-11" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-12" title="§ 5.1 Reading the current permission state">§ 5.1
                    Reading the current permission state</a> <a href="#ref-for-dom-permissiondescriptor-13"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-14"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-15" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt the
                    user to choose</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-16" title="§ 5.4 Reacting to users revoking permission">§ 5.4
                    Reacting to users revoking permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-17" title="§ 6.2.1 query() method">§ 6.2.1 query() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-18" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-19" title="§ B. Automated testing">§ B. Automated testing</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-20" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-21"
                    title="§ B.2.1.2.1 The permissions.PermissionDescriptor Type">§ B.2.1.2.1 The
                    permissions.PermissionDescriptor Type</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-22"
                    title="§ B.2.1.3.1 The permissions.setPermission Command">§ B.2.1.3.1 The permissions.setPermission
                    Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissiondescriptor-name"
        aria-label="Links in this document to definition: name">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissiondescriptor-name"
                aria-label="Permalink for definition: name. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-1" title="§ 3.2 Permission Store">§ 3.2 Permission
                    Store</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-2" title="§ 5.1 Reading the current permission state">§
                    5.1 Reading the current permission state</a> <a href="#ref-for-dom-permissiondescriptor-name-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-permissiondescriptor-name-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-permissiondescriptor-name-5"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-6"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-7" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt
                    the user to choose</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-8" title="§ 5.4 Reacting to users revoking permission">§
                    5.4 Reacting to users revoking permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-9" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a> <a href="#ref-for-dom-permissiondescriptor-name-10" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissiondescriptor-name-11" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-12" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-13" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissiondescriptor-name-14"
                    title="§ B.2.1.3.1 The permissions.setPermission Command">§ B.2.1.3.1 The permissions.setPermission
                    Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissions-query"
        aria-label="Links in this document to definition: query()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissions-query"
                aria-label="Permalink for definition: query(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-285612776">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissions-query-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissions-query-2" title="§ 6.2 Permissions interface">§ 6.2 Permissions
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissions-query-3" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-query-a-permission"
        aria-label="Links in this document to definition: query a permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-query-a-permission"
                aria-label="Permalink for definition: query a permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstatus"
        aria-label="Links in this document to definition: PermissionStatus">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstatus"
                aria-label="Permalink for definition: PermissionStatus. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstatus-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-2" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dom-permissionstatus-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissionstatus-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-5" title="§ 6.2 Permissions interface">§ 6.2 Permissions
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-6" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-7" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-8" title="§ 6.3.5 Garbage collection">§ 6.3.5 Garbage
                    collection</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-9" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstate"
        aria-label="Links in this document to definition: PermissionState">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstate"
                aria-label="Permalink for definition: PermissionState. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstate-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a> <a href="#ref-for-dom-permissionstate-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-3" title="§ 5.1 Reading the current permission state">§ 5.1
                    Reading the current permission state</a> <a href="#ref-for-dom-permissionstate-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-permissionstate-5" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-permissionstate-6" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-7" title="§ 6.3 PermissionStatus interface">§ 6.3 PermissionStatus
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-8" title="§ B. Automated testing">§ B. Automated testing</a> <a
                    href="#ref-for-dom-permissionstate-9" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-10" title="§ B.2.1.2.2 The permissions.PermissionState Type">§
                    B.2.1.2.2 The permissions.PermissionState Type</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-11" title="§ F. IDL Index">§ F. IDL Index</a> <a
                    href="#ref-for-dom-permissionstate-12" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-query"
        aria-label="Links in this document to definition: [[query]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-query"
                aria-label="Permalink for definition: [[query]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-query-1" title="§ 6.2.1 query() method">§ 6.2.1 query() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-query-2" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating instances</a>
            </li>
            <li>
                <a href="#ref-for-dfn-query-3" title="§ 6.3.4 onchange attribute">§ 6.3.4 onchange attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstate-granted"
        aria-label="Links in this document to definition: granted">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstate-granted"
                aria-label="Permalink for definition: granted. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dom-permissionstate-granted-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-3"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a> <a href="#ref-for-dom-permissionstate-granted-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-5" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt
                    the user to choose</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-6" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-granted-7" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstate-denied"
        aria-label="Links in this document to definition: denied">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstate-denied"
                aria-label="Permalink for definition: denied. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-2" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a> <a href="#ref-for-dom-permissionstate-denied-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-4" title="§ 5.1 Reading the current permission state">§ 5.1
                    Reading the current permission state</a> <a href="#ref-for-dom-permissionstate-denied-5"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-6"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a> <a href="#ref-for-dom-permissionstate-denied-7" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-8" title="§ 5.3 Prompt the user to choose">§ 5.3 Prompt the
                    user to choose</a> <a href="#ref-for-dom-permissionstate-denied-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-permissionstate-denied-10" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-permissionstate-denied-11" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-12" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-13" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-denied-14" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstate-prompt"
        aria-label="Links in this document to definition: prompt">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstate-prompt"
                aria-label="Permalink for definition: prompt. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstate-prompt-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-prompt-2"
                    title="§ 5.2 Requesting permission to use a powerful feature">§ 5.2 Requesting permission to use a
                    powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-prompt-3" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstate-prompt-4" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-create-a-permissionstatus"
        aria-label="Links in this document to definition: create a PermissionStatus">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-create-a-permissionstatus"
                aria-label="Permalink for definition: create a PermissionStatus. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-create-a-permissionstatus-1" title="§ 6.2.1 query() method">§ 6.2.1 query()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstatus-name"
        aria-label="Links in this document to definition: name">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstatus-name"
                aria-label="Permalink for definition: name. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstatus-name-1" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-name-2" title="§ 6.3.1 Creating instances">§ 6.3.1 Creating
                    instances</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-name-3" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstatus-state"
        aria-label="Links in this document to definition: state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstatus-state"
                aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstatus-state-1" title="§ 3.3.1 Aspects">§ 3.3.1 Aspects</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-state-2" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-state-3" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-state-4" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionstatus-onchange"
        aria-label="Links in this document to definition: onchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionstatus-onchange"
                aria-label="Permalink for definition: onchange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1212188233">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionstatus-onchange-1" title="§ 6.3 PermissionStatus interface">§ 6.3
                    PermissionStatus interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionstatus-onchange-2" title="§ F. IDL Index">§ F. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-permissionstatus-update-steps"
        aria-label="Links in this document to definition: PermissionStatus update steps">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permissionstatus-update-steps"
                aria-label="Permalink for definition: PermissionStatus update steps. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permissionstatus-update-steps-1" title="§ 4. Specifying a powerful feature">§ 4.
                    Specifying a powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-specifications"
        aria-label="Links in this document to definition: specifications">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-specifications"
                aria-label="Permalink for definition: specifications. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-specifications-1" title="§ 4. Specifying a powerful feature">§ 4. Specifying a
                    powerful feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-permissionsetparameters"
        aria-label="Links in this document to definition: PermissionSetParameters">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionsetparameters"
                aria-label="Permalink for definition: PermissionSetParameters. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionsetparameters-1" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a>
            </li>
            <li>
                <a href="#ref-for-dom-permissionsetparameters-2"
                    title="§ B.2.1.3.1 The permissions.setPermission Command">§ B.2.1.3.1 The permissions.setPermission
                    Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-permissionsetparameters-descriptor"
        aria-label="Links in this document to definition: descriptor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionsetparameters-descriptor"
                aria-label="Permalink for definition: descriptor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionsetparameters-descriptor-1" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-permissionsetparameters-state" aria-label="Links in this document to definition: state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-permissionsetparameters-state"
                aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-permissionsetparameters-state-1" title="§ B.1.1 Set Permission">§ B.1.1 Set
                    Permission</a> <a href="#ref-for-dom-permissionsetparameters-state-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-a-permission"
        aria-label="Links in this document to definition: set a permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-a-permission"
                aria-label="Permalink for definition: set a permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-set-a-permission-1" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a>
            </li>
            <li>
                <a href="#ref-for-dfn-set-a-permission-2" title="§ B.2.1.3.1 The permissions.setPermission Command">§
                    B.2.1.3.1 The permissions.setPermission Command</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-permission"
        aria-label="Links in this document to definition: Set Permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-permission"
                aria-label="Permalink for definition: Set Permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-set-permission-1" title="§ B.1.1 Set Permission">§ B.1.1 Set Permission</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-permissions"
        aria-label="Links in this document to definition: permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-permissions"
                aria-label="Permalink for definition: permissions. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-permissions-1" title="§ 3. Model">§ 3. Model</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-permission-0"
        aria-label="Links in this document to definition: Set Permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-set-permission-0"
                aria-label="Permalink for definition: Set Permission. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-change-process"
        aria-label="Links in this document to definition: change process">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-change-process"
                aria-label="Permalink for definition: change process. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-change-process-1" title="§ C.1 Purpose">§ C.1 Purpose</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-standardized-permission"
        aria-label="Links in this document to definition: standardized permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-standardized-permission"
                aria-label="Permalink for definition: standardized permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-standardized-permission-1"
                    title="§ C.4 Registry table of provisional permissions">§ C.4 Registry table of provisional
                    permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-table-of-standardized-permissions-of-the-web-platform"
        aria-label="Links in this document to definition: Table of standardized permissions of the web platform">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-table-of-standardized-permissions-of-the-web-platform"
                aria-label="Permalink for definition: Table of standardized permissions of the web platform. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-table-of-standardized-permissions-of-the-web-platform-1"
                    title="§ C.2 Change Process">§ C.2 Change Process</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-table-of-provisional-permissions"
        aria-label="Links in this document to definition: Table of provisional permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-table-of-provisional-permissions"
                aria-label="Permalink for definition: Table of provisional permissions. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-table-of-provisional-permissions-1" title="§ C.2 Change Process">§ C.2 Change
                    Process</a>
            </li>
        </ul>
    </div>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>