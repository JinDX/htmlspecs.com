<!DOCTYPE html>
<html lang="zh-hans" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.3.0">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>Payment Request API</title>

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>


    <meta name="color-scheme" content="light">
    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--indextable-hover-text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            color: var(--bg, #fff);
            background-color: #000;
            background-color: var(--text, #000);
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="revision" content="7c0d59783bf6207f6b43008f5b31585946ff9846">
    <meta name="description" content="This specification standardizes an API to allow merchants (i.e. web
        sites selling physical or digital goods) to utilize one or more payment
        methods with minimal integration. User agents (e.g., browsers)
        facilitate the payment flow between merchant and user.">
    <link rel="canonical" href="https://www.w3.org/TR/payment-request/">
    <script type="application/ld+json">{
  "@context": [
    "http://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "w3p": "http://www.w3.org/2001/02pd/rec54#",
      "foaf": "http://xmlns.com/foaf/0.1/",
      "datePublished": {
        "@type": "http://www.w3.org/2001/XMLSchema#date"
      },
      "inLanguage": {
        "@language": null
      },
      "isBasedOn": {
        "@type": "@id"
      },
      "license": {
        "@type": "@id"
      }
    }
  ],
  "id": "https://www.w3.org/TR/payment-request/",
  "type": [
    "TechArticle",
    "w3p:CRD"
  ],
  "name": "Payment Request API",
  "inLanguage": "en",
  "license": "https://www.w3.org/copyright/software-license-2023/",
  "datePublished": "2025-04-02",
  "copyrightHolder": {
    "name": "World Wide Web Consortium",
    "url": "https://www.w3.org/"
  },
  "discussionUrl": "https://github.com/w3c/payment-request/issues/",
  "alternativeHeadline": "",
  "isBasedOn": "https://www.w3.org/TR/2024/CRD-payment-request-20240909/",
  "description": "This specification standardizes an API to allow merchants (i.e. web\n        sites selling physical or digital goods) to utilize one or more payment\n        methods with minimal integration. User agents (e.g., browsers)\n        facilitate the payment flow between merchant and user.",
  "editor": [
    {
      "type": "Person",
      "name": "Marcos Cáceres",
      "url": "https://github.com/marcoscaceres",
      "worksFor": {
        "name": "Apple Inc.",
        "url": "https://apple.com"
      }
    },
    {
      "type": "Person",
      "name": "Rouslan Solomakhin",
      "url": "https://github.com/rsolomakhin",
      "worksFor": {
        "name": "Google",
        "url": "https://www.google.com/"
      }
    },
    {
      "type": "Person",
      "name": "Ian Jacobs",
      "url": "http://www.w3.org/People/Jacobs/",
      "worksFor": {
        "name": "W3C",
        "url": "https://www.w3.org/"
      }
    }
  ],
  "contributor": [],
  "citation": [
    {
      "id": "https://www.rfc-editor.org/rfc/rfc4122",
      "type": "TechArticle",
      "name": "A Universally Unique IDentifier (UUID) URN Namespace",
      "url": "https://www.rfc-editor.org/rfc/rfc4122",
      "creator": [
        {
          "name": "P. Leach"
        },
        {
          "name": "M. Mealling"
        },
        {
          "name": "R. Salz"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "http://www.iso.org/iso/home/standards/currency_codes.htm",
      "type": "TechArticle",
      "name": "Currency codes - ISO 4217",
      "url": "http://www.iso.org/iso/home/standards/currency_codes.htm",
      "publisher": {
        "name": "ISO"
      }
    },
    {
      "id": "https://www.w3.org/TR/permissions-policy-1/",
      "type": "TechArticle",
      "name": "Permissions Policy",
      "url": "https://www.w3.org/TR/permissions-policy-1/",
      "creator": [
        {
          "name": "Ian Clelland"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-E.164-201011-I!!PDF-E&type=items",
      "type": "TechArticle",
      "name": "The international public telecommunication numbering plan",
      "url": "https://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-E.164-201011-I!!PDF-E&type=items",
      "publisher": {
        "name": "ITU-T"
      }
    },
    {
      "id": "https://tc39.es/ecma262/multipage/",
      "type": "TechArticle",
      "name": "ECMAScript Language Specification",
      "url": "https://tc39.es/ecma262/multipage/",
      "publisher": {
        "name": "Ecma International"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc2119",
      "type": "TechArticle",
      "name": "Key words for use in RFCs to Indicate Requirement Levels",
      "url": "https://www.rfc-editor.org/rfc/rfc2119",
      "creator": [
        {
          "name": "S. Bradner"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8174",
      "type": "TechArticle",
      "name": "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words",
      "url": "https://www.rfc-editor.org/rfc/rfc8174",
      "creator": [
        {
          "name": "B. Leiba"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://webidl.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "Web IDL Standard",
      "url": "https://webidl.spec.whatwg.org/",
      "creator": [
        {
          "name": "Edgar Chen"
        },
        {
          "name": "Timothy Gu"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://tc39.es/ecma402/",
      "type": "TechArticle",
      "name": "ECMAScript Internationalization API Specification",
      "url": "https://tc39.es/ecma402/",
      "publisher": {
        "name": "Ecma International"
      }
    },
    {
      "id": "https://www.w3.org/TR/payment-handler/",
      "type": "TechArticle",
      "name": "Payment Handler API",
      "url": "https://www.w3.org/TR/payment-handler/",
      "creator": [
        {
          "name": "Adrian Hope-Bailie"
        },
        {
          "name": "Ian Jacobs"
        },
        {
          "name": "Rouslan Solomakhin"
        },
        {
          "name": "Jinho Bang"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://dom.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "DOM Standard",
      "url": "https://dom.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://www.w3.org/TR/contact-picker/",
      "type": "TechArticle",
      "name": "Contact Picker API",
      "url": "https://www.w3.org/TR/contact-picker/",
      "creator": [
        {
          "name": "Peter Beverloo"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://html.spec.whatwg.org/multipage/",
      "type": "TechArticle",
      "name": "HTML Standard",
      "url": "https://html.spec.whatwg.org/multipage/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        },
        {
          "name": "Domenic Denicola"
        },
        {
          "name": "Dominic Farolino"
        },
        {
          "name": "Ian Hickson"
        },
        {
          "name": "Philip Jägenstedt"
        },
        {
          "name": "Simon Pieters"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://infra.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "Infra Standard",
      "url": "https://infra.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        },
        {
          "name": "Domenic Denicola"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://www.w3.org/TR/payment-method-id/",
      "type": "TechArticle",
      "name": "Payment Method Identifiers",
      "url": "https://www.w3.org/TR/payment-method-id/",
      "creator": [
        {
          "name": "Marcos Caceres"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://url.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "URL Standard",
      "url": "https://url.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://fetch.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "Fetch Standard",
      "url": "https://fetch.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://www.w3.org/TR/secure-contexts/",
      "type": "TechArticle",
      "name": "Secure Contexts",
      "url": "https://www.w3.org/TR/secure-contexts/",
      "creator": [
        {
          "name": "Mike West"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc6454",
      "type": "TechArticle",
      "name": "The Web Origin Concept",
      "url": "https://www.rfc-editor.org/rfc/rfc6454",
      "creator": [
        {
          "name": "A. Barth"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    }
  ]
}</script>
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <style>
        :root {
            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black
        }

        .assert {
            border-left: .5em solid #aaa;
            padding: .3em;
            border-color: #aaa;
            border-color: var(--assertion-border);
            background: #eee;
            background: var(--assertion-bg);
            color: #000;
            color: var(--assertion-text)
        }

        @media (prefers-color-scheme:dark) {
            :root {
                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text)
            }
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "shortName": "payment-request",
  "github": "w3c/payment-request",
  "specStatus": "CRD",
  "group": "payments",
  "formerEditors": [
    {
      "name": "Domenic Denicola",
      "company": "Google",
      "w3cid": 52873
    },
    {
      "name": "Adrian Bateman",
      "company": "Microsoft Corporation",
      "w3cid": 42763
    },
    {
      "name": "Zach Koch",
      "company": "Google",
      "w3cid": 76588
    },
    {
      "name": "Roy McElmurry",
      "company": "Facebook",
      "w3cid": 88345
    },
    {
      "name": "Danyao Wang",
      "company": "Google",
      "w3cid": 110796
    }
  ],
  "editors": [
    {
      "name": "Marcos Cáceres",
      "url": "https://github.com/marcoscaceres",
      "company": "Apple Inc.",
      "companyURL": "https://apple.com",
      "w3cid": 39125
    },
    {
      "name": "Rouslan Solomakhin",
      "url": "https://github.com/rsolomakhin",
      "company": "Google",
      "companyURL": "https://www.google.com/",
      "w3cid": 83784
    },
    {
      "name": "Ian Jacobs",
      "url": "http://www.w3.org/People/Jacobs/",
      "company": "W3C",
      "companyURL": "https://www.w3.org/",
      "w3cid": 2175
    }
  ],
  "previousMaturity": "CRD",
  "crEnd": "2024-10-01",
  "testSuiteURI": "https://wpt.live/payment-request/",
  "implementationReportURI": "https://w3c.github.io/test-results/payment-request/all.html",
  "prevRecURI": "https://www.w3.org/TR/2022/REC-payment-request-20220908/",
  "caniuse": "payment-request",
  "lint": {
    "check-punctuation": true,
    "wpt-tests-exist": true
  },
  "doJsonLd": true,
  "xref": "web-platform",
  "mdn": true,
  "gitRevision": "7c0d59783bf6207f6b43008f5b31585946ff9846",
  "publishDate": "2025-04-02",
  "previousPublishDate": "2024-09-09",
  "publishISODate": "2025-04-02T00:00:00.000Z",
  "generatedSubtitle": "W3C Candidate Recommendation Draft 02 April 2025"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-CRD">
</head>

<body data-cite="WEBIDL payment-method-id contact-picker HTML INFRA URL WEBIDL DOM FETCH" class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">
            支付请求 API
        </h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CRD">W3C 候选推荐标准草案</a> <time class="dt-published"
                datetime="2025-04-02">2025年4月2日</time></p>
        <details open="">
            <summary>关于本文档的更多详情</summary>
            <dl>
                <dt>此版本：</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2025/CRD-payment-request-20250402/">https://www.w3.org/TR/2025/CRD-payment-request-20250402/</a>
                </dd>
                <dt>最新发布版本：</dt>
                <dd>
                    <a href="https://www.w3.org/TR/payment-request/">https://www.w3.org/TR/payment-request/</a>
                </dd>
                <dt>最新编辑草案：</dt>
                <dd><a href="https://w3c.github.io/payment-request/">https://w3c.github.io/payment-request/</a></dd>
                <dt>历史：</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/payment-request/">https://www.w3.org/standards/history/payment-request/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/payment-request/commits/">提交历史</a>
                </dd>
                <dt>测试套件：</dt>
                <dd><a href="https://wpt.live/payment-request/">https://wpt.live/payment-request/</a></dd>
                <dt>实现报告：</dt>
                <dd>
                    <a
                        href="https://w3c.github.io/test-results/payment-request/all.html">https://w3c.github.io/test-results/payment-request/all.html</a>
                </dd>


                <dt>最新推荐标准：</dt>
                <dd><a
                        href="https://www.w3.org/TR/2022/REC-payment-request-20220908/">https://www.w3.org/TR/2022/REC-payment-request-20220908/</a>
                </dd>
                <dt>编辑：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <a class="u-url url p-name fn" href="https://github.com/marcoscaceres">Marcos Cáceres</a> (<a
                        class="p-org org h-org" href="https://apple.com">Apple Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="83784">
                    <a class="u-url url p-name fn" href="https://github.com/rsolomakhin">Rouslan Solomakhin</a> (<a
                        class="p-org org h-org" href="https://www.google.com/">Google</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="2175">
                    <a class="u-url url p-name fn" href="https://www.w3.org/People/Jacobs/">Ian Jacobs</a> (<a
                        class="p-org org h-org" href="https://www.w3.org/">W3C</a>)
                </dd>
                <dt>
                    前任编辑：
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="52873">
                    <span class="p-name fn">Domenic Denicola</span> (<span class="p-org org h-org">Google</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="42763">
                    <span class="p-name fn">Adrian Bateman</span> (<span class="p-org org h-org">Microsoft
                        Corporation</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="76588">
                    <span class="p-name fn">Zach Koch</span> (<span class="p-org org h-org">Google</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="88345">
                    <span class="p-name fn">Roy McElmurry</span> (<span class="p-org org h-org">Facebook</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="110796">
                    <span class="p-name fn">Danyao Wang</span> (<span class="p-org org h-org">Google</span>)
                </dd>

                <dt>反馈：</dt>
                <dd>
                    <a href="https://github.com/w3c/payment-request/">GitHub w3c/payment-request</a>
                    (<a href="https://github.com/w3c/payment-request/pulls/">拉取请求</a>,
                    <a href="https://github.com/w3c/payment-request/issues/new/choose">新建问题</a>,
                    <a href="https://github.com/w3c/payment-request/issues/">待解决问题</a>)
                </dd>


                <dt class="caniuse-title">浏览器支持：</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/payment-request">caniuse.com</a></dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2025

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>

    <section id="abstract" class="introductory">
        <h2>摘要</h2>
        <p>
            本规范标准化了一个 API，允许商家（即销售实体或数字商品的网站）以最少的集成来利用一种或多种支付方式。用户代理（例如浏览器）促进商家和用户之间的支付流程。
        </p>
    </section>
    <section id="sotd" class="updateable-rec introductory">
        <h2>本文档的状态</h2>
        <p><em>本节描述了本文档发布时的状态。当前的 <abbr title="World Wide Web Consortium">W3C</abbr> 出版物列表以及本技术报告的最新修订版可以在位于
                https://www.w3.org/TR/ 的 <a href="https://www.w3.org/TR/"><abbr
                        title="World Wide Web Consortium">W3C</abbr> 标准和草案索引</a>中找到。</em></p>
        <p>
            2022 年 9 月，Web 支付工作组发布了 <a href="https://www.w3.org/TR/2022/REC-payment-request-20220908/">Payment Request
                Recommendation</a>。经过隐私和国际化审查后，该推荐标准排除了与账单和送货地址相关的<a
                href="https://lists.w3.org/Archives/Public/public-payments-wg/2021Jun/0000.html">功能</a>。然而，实现一直在互操作地支持这些功能，因此工作组决定尝试使规范与实现重新对齐，并就相关问题重新与社区进行沟通。
        </p>
        <p>
            本文档是基于原始推荐标准文本的候选推荐标准快照。随后的候选推荐标准草案将重新添加地址功能以及自推荐标准发布以来所做的一些其他更改。
        </p>
        <p>
            作为重新添加地址支持的一部分，本规范现在引用 <a href="https://w3c.github.io/contact-picker/">Contact Picker API</a>
            中定义的地址组件，而不是自行定义这些组件。实际上，Contact Picker API 源自 Payment Request API 中的原始定义，并从规范中分离出来，因为地址在 Web 上的用途超出了支付范围。
        </p>
        <p>
            工作组计划在将规范推进到建议推荐标准状态之前进行讨论并遵循通常的审查流程。
        </p>
        <p>
            工作组将通过生成<a
                href="https://w3c.github.io/test-results/payment-request/all.html">实现报告</a>来展示实现经验。该报告将显示两个或多个独立实现在<a
                href="https://wpt.live/payment-request/">测试套件</a>中通过每个强制性测试（即，每个测试对应于规范的 <em class="rfc2119">MUST</em>
            要求）。
        </p>
        <p>
            本文档由 <a href="https://www.w3.org/groups/wg/payments">Web 支付工作组</a>作为候选推荐标准草案发布，采用<a
                href="https://www.w3.org/policies/process/20231103/#recs-and-notes">推荐标准流程</a>。
        </p>
        <p>作为候选推荐标准发布并不意味着 <abbr title="World Wide Web Consortium">W3C</abbr>
            及其成员的认可。候选推荐标准草案整合了工作组打算包含在后续候选推荐标准快照中的先前候选推荐标准的更改。</p>
        <p>
            这是一份草案文件，可能随时被其他文件更新、替换或废弃。引用本文档作为正在进行的工作以外的任何内容都是不合适的。
            本规范的未来更新可能会包含<a href="https://www.w3.org/policies/process/20231103/#allow-new-features">新功能</a>。
        </p>
        <p>

            本文档由一个在<a href="https://www.w3.org/policies/patent-policy/"><abbr
                    title="World Wide Web Consortium">W3C</abbr> 专利政策</a>下运作的小组制作。


            <abbr title="World Wide Web Consortium">W3C</abbr> 维护一个与该小组的可交付成果相关的任何专利披露的<a rel="disclosure"
                href="https://www.w3.org/groups/wg/payments/ipr">公开列表</a>；该页面还包括披露专利的说明。任何实际知晓某项专利且认为该专利包含<a
                href="https://www.w3.org/policies/patent-policy/#def-essential">基本权利要求</a>的个人必须按照<a
                href="https://www.w3.org/policies/patent-policy/#sec-Disclosure"><abbr
                    title="World Wide Web Consortium">W3C</abbr> 专利政策</a>第 6 节的规定披露该信息。

        </p>
        <p>
            本文档受 <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">2023年11月3日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> 流程文档</a>的约束。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目录</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">摘要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">本文档状态</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    引言
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#goals"><bdi class="secno">1.1 </bdi>
                            目标和范围
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#examples-of-usage"><bdi class="secno">2. </bdi>
                    使用示例
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#declaring-multiple-ways-of-paying"><bdi
                                class="secno">2.1 </bdi>
                            声明多种支付方式
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#describing-what-is-being-paid-for"><bdi
                                class="secno">2.2 </bdi>
                            描述支付内容
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#adding-shipping-options"><bdi class="secno">2.3 </bdi>
                            添加配送选项
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#conditional-modifications-to-payment-request"><bdi
                                class="secno">2.4 </bdi>
                            对支付请求的条件修改
                        </a></li>
                    <li class="tocline"><a class="tocxref"
                            href="#requesting-specific-information-from-the-end-user"><bdi class="secno">2.5 </bdi>
                            向最终用户请求特定信息
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#constructing-a-paymentrequest"><bdi class="secno">2.6
                            </bdi>
                            构造 <code>PaymentRequest</code>
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#handling-events-and-updating-the-payment-request"><bdi
                                class="secno">2.7 </bdi>
                            处理事件并更新支付请求
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#fine-grained-error-reporting"><bdi class="secno">2.8
                            </bdi>
                            细粒度错误报告
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#posting-payment-response-back-to-a-server"><bdi
                                class="secno">2.9 </bdi>
                            将支付响应 POST回服务器
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#using-with-cross-origin-iframes"><bdi
                                class="secno">2.10 </bdi>
                            与跨域 iframe 一起使用
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#paymentrequest-interface"><bdi class="secno">3. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="PaymentRequest"
                        data-dfn-for=""><code>PaymentRequest</code></span> 接口
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#constructor"><bdi class="secno">3.1 </bdi>
                            构造函数
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#id-attribute"><bdi class="secno">3.2 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="id"
                                data-dfn-for="PaymentRequest" data-type="DOMString" data-lt="id"
                                data-local-lt="PaymentRequest.id"><code>id</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#show-method"><bdi class="secno">3.3 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="show()"
                                data-dfn-for="PaymentRequest" data-type="Promise" data-lt="show()|show(detailsPromise)"
                                data-local-lt="PaymentRequest.show|PaymentRequest.show()|show"><code>show()</code></span>
                            方法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#abort-method"><bdi class="secno">3.4 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="abort()"
                                data-dfn-for="PaymentRequest" data-type="Promise" data-lt="abort()"
                                data-local-lt="PaymentRequest.abort|PaymentRequest.abort()|abort"><code>abort()</code></span>
                            方法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#canmakepayment-method"><bdi class="secno">3.5 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation"
                                data-title="canMakePayment()" data-dfn-for="PaymentRequest" data-type="Promise"
                                data-lt="canMakePayment()"
                                data-local-lt="PaymentRequest.canMakePayment|PaymentRequest.canMakePayment()|canMakePayment"><code>canMakePayment()</code></span>
                            方法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingaddress-attribute"><bdi class="secno">3.6
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingAddress" data-dfn-for="PaymentRequest" data-type="ContactAddress"
                                data-lt="shippingAddress"
                                data-local-lt="PaymentRequest.shippingAddress"><code>shippingAddress</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingtype-attribute"><bdi class="secno">3.7 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingType" data-dfn-for="PaymentRequest" data-type="PaymentShippingType"
                                data-lt="shippingType"
                                data-local-lt="PaymentRequest.shippingType"><code>shippingType</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onshippingaddresschange-attribute"><bdi
                                class="secno">3.8 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onshippingaddresschange" data-dfn-for="PaymentRequest"
                                data-type="EventHandler" data-lt="onshippingaddresschange"
                                data-local-lt="PaymentRequest.onshippingaddresschange"><code>onshippingaddresschange</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingoption-attribute"><bdi class="secno">3.9
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingOption" data-dfn-for="PaymentRequest" data-type="DOMString"
                                data-lt="shippingOption"
                                data-local-lt="PaymentRequest.shippingOption"><code>shippingOption</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onshippingoptionchange-attribute"><bdi
                                class="secno">3.10 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onshippingoptionchange" data-dfn-for="PaymentRequest"
                                data-type="EventHandler" data-lt="onshippingoptionchange"
                                data-local-lt="PaymentRequest.onshippingoptionchange"><code>onshippingoptionchange</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onpaymentmethodchange-attribute"><bdi
                                class="secno">3.11 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onpaymentmethodchange" data-dfn-for="PaymentRequest"
                                data-type="EventHandler" data-lt="onpaymentmethodchange"
                                data-local-lt="PaymentRequest.onpaymentmethodchange"><code>onpaymentmethodchange</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#internal-slots"><bdi class="secno">3.12 </bdi>
                            内部插槽
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#paymentmethoddata-dictionary"><bdi class="secno">4. </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PaymentMethodData"
                        data-dfn-for=""><code>PaymentMethodData</code></span> 字典
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentcurrencyamount-dictionary"><bdi class="secno">5. </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                        data-title="PaymentCurrencyAmount" data-dfn-for=""><code>PaymentCurrencyAmount</code></span>
                    字典
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#validity-checkers"><bdi class="secno">5.1 </bdi>
                            有效性检查器
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#payment-details-dictionaries"><bdi class="secno">6. </bdi>
                    支付详情字典
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#paymentdetailsbase-dictionary"><bdi class="secno">6.1
                            </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="PaymentDetailsBase" data-dfn-for=""><code>PaymentDetailsBase</code></span>
                            字典
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#paymentdetailsinit-dictionary"><bdi class="secno">6.2
                            </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="PaymentDetailsInit" data-dfn-for=""><code>PaymentDetailsInit</code></span>
                            字典
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#paymentdetailsupdate-dictionary"><bdi
                                class="secno">6.3 </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="PaymentDetailsUpdate"
                                data-dfn-for=""><code>PaymentDetailsUpdate</code></span> 字典
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#paymentdetailsmodifier-dictionary"><bdi class="secno">7.
                    </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                        data-title="PaymentDetailsModifier" data-dfn-for=""><code>PaymentDetailsModifier</code></span>
                    字典
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentshippingtype-enum"><bdi class="secno">8. </bdi>
                    <span data-export="" data-dfn-type="enum" data-idl="enum" data-title="PaymentShippingType"
                        data-dfn-for=""><code>PaymentShippingType</code></span> 枚举
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentoptions-dictionary"><bdi class="secno">9. </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PaymentOptions"
                        data-dfn-for=""><code>PaymentOptions</code></span> 字典
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentitem-dictionary"><bdi class="secno">10. </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PaymentItem"
                        data-dfn-for=""><code>PaymentItem</code></span> 字典
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentcompletedetails-dictionary"><bdi class="secno">11.
                    </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                        data-title="PaymentCompleteDetails" data-dfn-for=""><code>PaymentCompleteDetails</code></span>
                    字典
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentcomplete-enum"><bdi class="secno">12. </bdi>
                    <span data-export="" data-dfn-type="enum" data-idl="enum" data-title="PaymentComplete"
                        data-dfn-for=""><code>PaymentComplete</code></span> 枚举
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentshippingoption-dictionary"><bdi class="secno">13.
                    </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                        data-title="PaymentShippingOption" data-dfn-for=""><code>PaymentShippingOption</code></span>
                    字典
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentresponse-interface"><bdi class="secno">14. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="PaymentResponse"
                        data-dfn-for=""><code>PaymentResponse</code></span> 接口
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#retry-method"><bdi class="secno">14.1 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="retry()"
                                data-dfn-for="PaymentResponse" data-type="Promise" data-lt="retry()|retry(errorFields)"
                                data-local-lt="PaymentResponse.retry|PaymentResponse.retry()|retry"><code>retry()</code></span>
                            方法
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#paymentvalidationerrors-dictionary"><bdi
                                        class="secno">14.1.1 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PaymentValidationErrors"
                                        data-dfn-for=""><code>PaymentValidationErrors</code></span> 字典
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#payererrors-dictionary"><bdi
                                        class="secno">14.1.2 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PayerErrors" data-dfn-for=""><code>PayerErrors</code></span>
                                    字典
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#methodname-attribute"><bdi class="secno">14.2 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="methodName"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="methodName"
                                data-local-lt="PaymentResponse.methodName"><code>methodName</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#details-attribute"><bdi class="secno">14.3 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="details"
                                data-dfn-for="PaymentResponse" data-type="object" data-lt="details"
                                data-local-lt="PaymentResponse.details"><code>details</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingaddress-attribute-0"><bdi class="secno">14.4
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingAddress" data-dfn-for="PaymentResponse" data-type="ContactAddress"
                                data-lt="shippingAddress"
                                data-local-lt="PaymentResponse.shippingAddress"><code>shippingAddress</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingoption-attribute-0"><bdi class="secno">14.5
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingOption" data-dfn-for="PaymentResponse" data-type="DOMString"
                                data-lt="shippingOption"
                                data-local-lt="PaymentResponse.shippingOption"><code>shippingOption</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payername-attribute"><bdi class="secno">14.6 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="payerName"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="payerName"
                                data-local-lt="PaymentResponse.payerName"><code>payerName</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payeremail-attribute"><bdi class="secno">14.7 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="payerEmail"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="payerEmail"
                                data-local-lt="PaymentResponse.payerEmail"><code>payerEmail</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payerphone-attribute"><bdi class="secno">14.8 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="payerPhone"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="payerPhone"
                                data-local-lt="PaymentResponse.payerPhone"><code>payerPhone</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#requestid-attribute"><bdi class="secno">14.9 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="requestId"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="requestId"
                                data-local-lt="PaymentResponse.requestId"><code>requestId</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#complete-method"><bdi class="secno">14.10 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="complete()"
                                data-dfn-for="PaymentResponse" data-type="Promise"
                                data-lt="complete()|complete(result)|complete(result, details)"
                                data-local-lt="PaymentResponse.complete|PaymentResponse.complete()|complete"><code>complete()</code></span>
                            方法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onpayerdetailchange-attribute"><bdi
                                class="secno">14.11 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onpayerdetailchange" data-dfn-for="PaymentResponse" data-type="EventHandler"
                                data-lt="onpayerdetailchange"
                                data-local-lt="PaymentResponse.onpayerdetailchange"><code>onpayerdetailchange</code></span>
                            属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#internal-slots-0"><bdi class="secno">14.12 </bdi>
                            内部插槽
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#shipping-and-billing-addresses"><bdi class="secno">15. </bdi>
                    配送和账单地址
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#addresserrors-dictionary"><bdi class="secno">15.1
                            </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="AddressErrors" data-dfn-for=""><code>AddressErrors</code></span> 字典
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">16. </bdi>
                    权限策略集成
                </a></li>
            <li class="tocline"><a class="tocxref" href="#events"><bdi class="secno">17. </bdi>
                    事件
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#summary"><bdi class="secno">17.1 </bdi>
                            摘要
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#paymentmethodchangeevent-interface"><bdi
                                class="secno">17.2 </bdi>
                            <span data-export="" data-dfn-type="interface" data-idl="interface"
                                data-title="PaymentMethodChangeEvent"
                                data-dfn-for=""><code>PaymentMethodChangeEvent</code></span> 接口
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#methoddetails-attribute"><bdi
                                        class="secno">17.2.1 </bdi>
                                    <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                        data-title="methodDetails" data-dfn-for="PaymentMethodChangeEvent"
                                        data-type="object" data-lt="methodDetails"
                                        data-local-lt="PaymentMethodChangeEvent.methodDetails"><code>methodDetails</code></span>
                                    属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#methodname-attribute-0"><bdi
                                        class="secno">17.2.2 </bdi>
                                    <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                        data-title="methodName" data-dfn-for="PaymentMethodChangeEvent"
                                        data-type="DOMString" data-lt="methodName"
                                        data-local-lt="PaymentMethodChangeEvent.methodName"><code>methodName</code></span>
                                    属性
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#paymentmethodchangeeventinit-dictionary"><bdi
                                        class="secno">17.2.3 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PaymentMethodChangeEventInit"
                                        data-dfn-for=""><code>PaymentMethodChangeEventInit</code></span> 字典
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#paymentrequestupdateevent-interface"><bdi
                                class="secno">17.3 </bdi>
                            <span data-export="" data-dfn-type="interface" data-idl="interface"
                                data-title="PaymentRequestUpdateEvent"
                                data-dfn-for=""><code>PaymentRequestUpdateEvent</code></span> 接口
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#constructor-0"><bdi class="secno">17.3.1
                                    </bdi>
                                    <span
                                        data-lt="PaymentRequestUpdateEvent.PaymentRequestUpdateEvent()|Constructor|constructor()|constructor(type)|constructor(type, eventInitDict)"
                                        data-export="" data-dfn-type="constructor" data-idl="constructor"
                                        data-title="Constructor" data-dfn-for="PaymentRequestUpdateEvent"
                                        data-local-lt="PaymentRequestUpdateEvent.constructor|PaymentRequestUpdateEvent.constructor()|constructor"><code>Constructor</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#updatewith-method"><bdi class="secno">17.3.2
                                    </bdi>
                                    <span data-export="" data-dfn-type="method" data-idl="operation"
                                        data-title="updateWith()" data-dfn-for="PaymentRequestUpdateEvent"
                                        data-type="undefined" data-lt="updateWith()|updateWith(detailsPromise)"
                                        data-local-lt="PaymentRequestUpdateEvent.updateWith|PaymentRequestUpdateEvent.updateWith()|updateWith"><code>updateWith()</code></span>
                                    方法
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#internal-slots-1"><bdi class="secno">17.3.3
                                    </bdi>
                                    内部插槽
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#paymentrequestupdateeventinit-dictionary"><bdi
                                        class="secno">17.3.4 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PaymentRequestUpdateEventInit"
                                        data-dfn-for=""><code>PaymentRequestUpdateEventInit</code></span> 字典
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#algorithms"><bdi class="secno">18. </bdi>
                    算法
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#can-make-payment-algorithm"><bdi class="secno">18.1
                            </bdi>
                            Can make payment 算法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shipping-address-changed-algorithm"><bdi
                                class="secno">18.2 </bdi>
                            配送地址更改算法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shipping-option-changed-algorithm"><bdi
                                class="secno">18.3 </bdi>
                            配送选项更改算法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payment-method-changed-algorithm"><bdi
                                class="secno">18.4 </bdi>
                            支付方式更改算法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#paymentrequest-updated-algorithm"><bdi
                                class="secno">18.5 </bdi>
                            PaymentRequest 更新算法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payer-detail-changed-algorithm"><bdi
                                class="secno">18.6 </bdi>
                            付款人详情更改算法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-accepts-the-payment-request-algorithm"><bdi
                                class="secno">18.7 </bdi>
                            用户接受支付请求算法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-aborts-the-payment-request-algorithm"><bdi
                                class="secno">18.8 </bdi>
                            用户中止支付请求算法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#update-a-paymentrequest-s-details-algorithm"><bdi
                                class="secno">18.9 </bdi>
                            更新 <code>PaymentRequest</code> 的详情算法
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#abort-the-update"><bdi class="secno">18.9.1
                                    </bdi>
                                    中止更新
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#privacy"><bdi class="secno">19. </bdi>
                    隐私和安全注意事项
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#user-protections-with-show-method"><bdi
                                class="secno">19.1 </bdi>
                            使用 <code>show()</code> 方法的用户保护
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#secure-contexts"><bdi class="secno">19.2 </bdi>
                            安全上下文
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#cross-origin-payment-requests"><bdi class="secno">19.3
                            </bdi>
                            跨域支付请求
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#encryption-of-data-fields"><bdi class="secno">19.4
                            </bdi>
                            数据字段加密
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#how-user-agents-match-payment-handlers"><bdi
                                class="secno">19.5 </bdi>
                            用户代理如何匹配支付处理程序
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#data-usage"><bdi class="secno">19.6 </bdi>
                            数据使用
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-info"><bdi class="secno">19.7 </bdi>
                            暴露用户信息
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#canmakepayment-protections"><bdi class="secno">19.8
                            </bdi>
                            <code>canMakePayment()</code> 保护
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-activation-requirement"><bdi class="secno">19.9
                            </bdi>
                            用户激活要求
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#accessibility-considerations"><bdi class="secno">20. </bdi>
                    无障碍注意事项
                </a></li>
            <li class="tocline"><a class="tocxref" href="#dependencies"><bdi class="secno">21. </bdi>
                    依赖项
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">22. </bdi>一致性</a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">A. </bdi>IDL 索引</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">B. </bdi>
                    致谢
                </a></li>
            <li class="tocline"><a class="tocxref" href="#changelog"><bdi class="secno">C. </bdi>
                    变更日志
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">D. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">D.1
                            </bdi>规范性参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">D.2
                            </bdi>信息性参考文献</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="introduction">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                引言
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>本节是非规范性的。</em></p>

        <p>
            本规范描述了一个 API，该 API 允许 <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-1">用户代理</a>
            （例如浏览器）在交易中的三方之间充当媒介：
        </p>
        <ul>
            <li>收款方：运营在线商店的商家，或其他要求付款的一方。
            </li>
            <li>付款方：在该在线商店进行购买的一方，并按要求进行身份验证和授权支付。
            </li>
            <li><dfn data-plurals="payment methods" id="dfn-payment-method" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">支付方式</dfn>：付款方用于向收款方付款的方式（例如，银行卡支付或信用转账）。<dfn id="dfn-payment-method-provider"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">支付方式提供商</dfn>建立生态系统以支持该支付方式。
            </li>
        </ul>
        <p>
            支付方式定义了：
        </p>
        <dl>
            <dt>
                可选的 <dfn data-dfn-for="Payment Method" id="dfn-additional-data-type" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">附加数据类型</dfn>
            </dt>
            <dd>
                可选地，一个 IDL 类型，<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-1">支付方式</a>期望将其作为 <a data-link-type="idl" data-lt="PaymentMethodData"
                    href="#dom-paymentmethoddata" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-1"><code>PaymentMethodData</code></a> 的 <a data-link-type="idl"
                    href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-1"><code>data</code></a>
                成员接收。如果未为给定的支付方式指定，则不进行 IDL 转换，支付方式将以 JSON 格式接收
                <a data-link-type="idl" href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-2"><code>data</code></a>。
            </dd>
            <dt>
                <dfn id="dfn-steps-to-validate-payment-method-data" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">验证支付方式数据的步骤</dfn>
            </dt>
            <dd>
                指定<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-2">支付方式</a>在将其转换为支付方式的<a data-link-type="dfn|abstract-op"
                    href="#dfn-additional-data-type" class="internalDFN"
                    id="ref-for-dfn-additional-data-type-1">附加数据类型</a>后如何验证 <a data-link-type="idl"
                    data-lt="PaymentMethodData" href="#dom-paymentmethoddata" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-2"><code>PaymentMethodData</code></a> 的 <a data-link-type="idl"
                    href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-3"><code>data</code></a> 成员的算法步骤。如果未为给定的支付方式指定，则不进行验证。
            </dd>
        </dl>
        <p>
            对于给定的<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-payment-method-3">支付方式</a>，如何完成支付请求的详细信息是<dfn data-export=""
                data-plurals="payment handlers" id="dfn-payment-handler" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">支付处理程序</dfn>的实现细节，支付处理程序是处理支付请求的应用程序或服务。具体来说，支付处理程序定义了：
        </p>
        <dl>
            <dt>
                <dfn id="dfn-steps-to-check-if-a-payment-can-be-made" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">检查是否可以进行支付的步骤</dfn>：
            </dt>
            <dd>
                支付处理程序如何确定其本身或用户是否可能“进行支付”也是支付处理程序的实现细节。
            </dd>
            <dt>
                <dfn id="dfn-steps-to-respond-to-a-payment-request" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">响应支付请求的步骤</dfn>：
            </dt>
            <dd>
                返回商家用于处理或验证交易的对象或<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-dictionary">字典</a>的步骤。此对象的结构特定于每个<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-4">支付方式</a>。
            </dd>
            <dt>
                <dfn id="dfn-steps-for-when-a-user-changes-payment-method" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">用户更改支付方式时的步骤</dfn>（可选）
            </dt>
            <dd>
                <p>
                    描述如何处理用户更改支付方式或货币工具（例如，从借记卡更改为信用卡）的步骤，这些步骤会产生<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-dictionary">字典</a>、<a data-link-type="interface"
                        data-lt="object" href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a>或
                    null。
                </p>
            </dd>
        </dl>
        <p>
            此 API 还使网站能够利用更安全的支付方案（例如，令牌化和系统级身份验证），这些方案是标准 JavaScript 库无法实现的。这有可能减少商家的责任，并有助于保护敏感的用户信息。
        </p>
        <section id="goals">
            <div class="header-wrapper">
                <h3 id="x1-1-goals-and-scope"><bdi class="secno">1.1 </bdi>
                    目标和范围
                </h3><a class="self-link" href="#goals" aria-label="Permalink for Section 1.1"></a>
            </div>

            <ul>
                <li>允许用户代理在商家、用户和<a href="#dfn-payment-method-provider" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-provider-1">支付方式提供商</a>之间充当媒介。
                </li>
                <li>使用户代理能够通过考虑用户偏好、商家信息、安全注意事项和其他因素来简化用户的支付体验。
                </li>
                <li>在合理的范围内，标准化商家、用户代理和<a href="#dfn-payment-method-provider" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-provider-2">支付方式提供商</a>之间的通信流程。
                </li>
                <li>使<a href="#dfn-payment-method-provider" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-provider-3">支付方式提供商</a>能够为 Web 带来更安全的支付交易。
                </li>
            </ul>
            <p>
                以下内容超出了本规范的范围：
            </p>
            <ul>
                <li>创建新的<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-5">支付方式</a>。
                </li>
                <li>直接与支付处理方集成。
                </li>
            </ul>
        </section>
    </section>
    <section class="informative" id="examples-of-usage">
        <div class="header-wrapper">
            <h2 id="x2-examples-of-usage"><bdi class="secno">2. </bdi>
                使用示例
            </h2><a class="self-link" href="#examples-of-usage" aria-label="Permalink for Section 2."></a>
        </div>
        <p><em>本节是非规范性的。</em></p>

        <p>
            为了使用该 API，开发者需要提供并跟踪一些关键信息。这些信息作为参数传递给 <a data-link-type="idl" data-lt="PaymentRequest"
                href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-1"><code>PaymentRequest</code></a> 构造函数，并随后用于更新向用户显示的支付请求。具体来说，这些信息是：
        </p>
        <ul>
            <li><var>methodData</var>：一个 <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentmethoddata-3"><code>PaymentMethodData</code></a> 序列，表示网站支持的<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-6">支付方式</a>（例如，“我们支持基于卡的支付，但仅支持 Visa 和 MasterCard 信用卡”）。
            </li>
            <li><var>details</var>：交易的详细信息，以
                <a href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentdetailsinit-1"><code>PaymentDetailsInit</code></a>
                字典的形式。这包括总成本，以及可选的所购商品或服务列表（对于实体商品）和配送选项。此外，它还可以选择性地包含支付方式的“修饰符”。例如，“如果您使用属于网络 X 的卡支付，则会产生 3.00 美元的处理费”。
            </li>
            <li><var>options</var>：可选地，一个以 <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions"
                    class="internalDFN" id="ref-for-dom-paymentoptions-1"><code>PaymentOptions</code></a>
                形式列出的网站交付商品或服务所需的信息（例如，对于实体商品，商家通常需要一个实际的配送地址。对于数字商品，通常一个电子邮件就足够了）。
            </li>
        </ul>
        <p>
            一旦构造了 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-2"><code>PaymentRequest</code></a>，它就会通过 <a data-link-type="idl"
                data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                id="ref-for-dom-paymentrequest-show-1"><code>show</code></a><code>()</code> 方法呈现给最终用户。
            <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                id="ref-for-dom-paymentrequest-show-2"><code>show</code></a><code>()</code> 返回一个 promise，一旦用户确认支付请求，该
            promise 就会产生一个 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                class="internalDFN" id="ref-for-dom-paymentresponse-1"><code>PaymentResponse</code></a>。
        </p>
        <section id="declaring-multiple-ways-of-paying">
            <div class="header-wrapper">
                <h3 id="x2-1-declaring-multiple-ways-of-paying"><bdi class="secno">2.1 </bdi>
                    声明多种支付方式
                </h3><a class="self-link" href="#declaring-multiple-ways-of-paying"
                    aria-label="Permalink for Section 2.1"></a>
            </div>

            <p>
                在构造新的 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-3"><code>PaymentRequest</code></a> 时，商家使用第一个参数
                (<var>methodData</var>) 来列出用户可以支付的不同方式（例如，信用卡、Apple Pay、Google Pay 等）。更具体地说，<var>methodData</var> 序列包含
                <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentmethoddata-4"><code>PaymentMethodData</code></a> 字典，其中包含商家接受的<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-7">支付方式</a>的<a data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>以及任何相关的<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-8">支付方式</a>特定数据（例如，支持哪些信用卡网络）。
            </p>
            <div class="example" id="example-the-methoddata-argument">
                <div class="marker">
                    <a class="self-link" href="#example-the-methoddata-argument">示例<bdi> 1</bdi></a><span
                        class="example-title">: `methodData` 参数</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> methodData = [
    {
    <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/payitforward"</span>,
    <span class="hljs-attr">data</span>: {
        <span class="hljs-attr">payItForwardField</span>: <span class="hljs-string">"ABC"</span>,
    },
    },
    {
    <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/bobpay"</span>,
    <span class="hljs-attr">data</span>: {
        <span class="hljs-attr">merchantIdentifier</span>: <span class="hljs-string">"XXXX"</span>,
        <span class="hljs-attr">bobPaySpecificField</span>: <span class="hljs-literal">true</span>,
    },
    },
];</code></pre>
            </div>
        </section>
        <section id="describing-what-is-being-paid-for">
            <div class="header-wrapper">
                <h3 id="x2-2-describing-what-is-being-paid-for"><bdi class="secno">2.2 </bdi>
                    描述支付内容
                </h3><a class="self-link" href="#describing-what-is-being-paid-for"
                    aria-label="Permalink for Section 2.2"></a>
            </div>

            <p>
                在构造新的 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-4"><code>PaymentRequest</code></a> 时，商家使用构造函数的第二个参数
                (<var>details</var>) 来提供要求用户完成的交易的详细信息。这包括订单的总额，以及可选的一些行项目，这些行项目可以提供所支付内容的详细分类。
            </p>
            <div class="example" id="example-the-details-argument">
                <div class="marker">
                    <a class="self-link" href="#example-the-details-argument">示例<bdi> 2</bdi></a><span
                        class="example-title">: `details` 参数</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> details = {
    <span class="hljs-attr">id</span>: <span class="hljs-string">"super-store-order-123-12312"</span>,
    <span class="hljs-attr">displayItems</span>: [
    {
        <span class="hljs-attr">label</span>: <span class="hljs-string">"Sub-total"</span>,
        <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"GBP"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"55.00"</span> },
    },
    {
        <span class="hljs-attr">label</span>: <span class="hljs-string">"Value-Added Tax (VAT)"</span>,
        <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"GBP"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"5.00"</span> },
    },
    ],
    <span class="hljs-attr">total</span>: {
    <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
    <span class="hljs-comment">// The total is GBP£65.00 here because we need to</span>
    <span class="hljs-comment">// add shipping (below). The selected shipping</span>
    <span class="hljs-comment">// costs GBP£5.00.</span>
    <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"GBP"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"65.00"</span> },
    },
};</code></pre>
            </div>
        </section>
        <section id="adding-shipping-options">
            <div class="header-wrapper">
                <h3 id="x2-3-adding-shipping-options"><bdi class="secno">2.3 </bdi>
                    添加配送选项
                </h3><a class="self-link" href="#adding-shipping-options" aria-label="Permalink for Section 2.3"></a>
            </div>

            <p>
                这里我们看到了一个如何向 <var>details</var> 添加两个配送选项的示例。
            </p>
            <div class="example" id="example-adding-shipping-options">
                <div class="marker">
                    <a class="self-link" href="#example-adding-shipping-options">示例<bdi> 3</bdi></a><span
                        class="example-title">: 添加配送选项</span>
                </div>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> shippingOptions = [
    {
    <span class="hljs-attr">id</span>: <span class="hljs-string">"standard"</span>,
    <span class="hljs-comment">// Shipping by truck, 2 days</span>
    <span class="hljs-attr">label</span>: <span class="hljs-string">"🚛  Envío por camión (2 dias)"</span>,
    <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"EUR"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"5.00"</span> },
    <span class="hljs-attr">selected</span>: <span class="hljs-literal">true</span>,
    },
    {
    <span class="hljs-attr">id</span>: <span class="hljs-string">"drone"</span>,
    <span class="hljs-comment">// Drone shipping, 2 hours</span>
    <span class="hljs-attr">label</span>: <span class="hljs-string">"🚀 Drone Express (2 horas)"</span>,
    <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"EUR"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"25.00"</span> }
    },
];
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(details, { shippingOptions });</code></pre>
            </div>
        </section>
        <section id="conditional-modifications-to-payment-request">
            <div class="header-wrapper">
                <h3 id="x2-4-conditional-modifications-to-payment-request"><bdi class="secno">2.4 </bdi>
                    对支付请求的条件修改
                </h3><a class="self-link" href="#conditional-modifications-to-payment-request"
                    aria-label="Permalink for Section 2.4"></a>
            </div>

            <p>
                这里我们看到了如何为在特定网络上使用卡添加处理费。请注意，这需要重新计算总额。
            </p>
            <div class="example" id="example-modifying-payment-request-based-on-card-type">
                <div class="marker">
                    <a class="self-link" href="#example-modifying-payment-request-based-on-card-type">示例<bdi>
                            4</bdi></a><span class="example-title">: 根据卡类型修改支付请求</span>
                </div>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-comment">// Certain cards incur a $3.00 processing fee.</span>
<span class="hljs-keyword">const</span> cardFee = {
    <span class="hljs-attr">label</span>: <span class="hljs-string">"Card processing fee"</span>,
    <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"AUD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"3.00"</span> },
};

<span class="hljs-comment">// Modifiers apply when the user chooses to pay with</span>
<span class="hljs-comment">// a card.</span>
<span class="hljs-keyword">const</span> modifiers = [
    {
    <span class="hljs-attr">additionalDisplayItems</span>: [cardFee],
    <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/cardpay"</span>,
    <span class="hljs-attr">total</span>: {
        <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
        <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"AUD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"68.00"</span> },
    },
    <span class="hljs-attr">data</span>: {
        <span class="hljs-attr">supportedNetworks</span>: networks,
    },
    },
];
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(details, { modifiers });</code></pre>
            </div>
        </section>
        <section id="requesting-specific-information-from-the-end-user">
            <div class="header-wrapper">
                <h3 id="x2-5-requesting-specific-information-from-the-end-user"><bdi class="secno">2.5 </bdi>
                    向最终用户请求特定信息
                </h3><a class="self-link" href="#requesting-specific-information-from-the-end-user"
                    aria-label="Permalink for Section 2.5"></a>
            </div>

            <p>
                某些金融交易要求用户提供特定信息，以便商家完成购买（例如，用户的配送地址，以防需要运送实体商品）。要请求此信息，商家可以向
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-5"><code>PaymentRequest</code></a> 构造函数传递第三个可选参数 (<var
                    data-type="PaymentOptions">options</var>)，指明他们需要哪些信息。当显示支付请求时，用户代理将向最终用户请求此信息，并在用户接受支付请求时将其返回给商家。
            </p>
            <div class="example" id="example-the-options-argument">
                <div class="marker">
                    <a class="self-link" href="#example-the-options-argument">示例<bdi> 5</bdi></a><span
                        class="example-title">: `options` 参数</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> options = {
    <span class="hljs-attr">requestPayerEmail</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">requestPayerName</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">requestPayerPhone</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">requestShipping</span>: <span class="hljs-literal">true</span>,
}</code></pre>
            </div>
        </section>
        <section id="constructing-a-paymentrequest">
            <div class="header-wrapper">
                <h3 id="x2-6-constructing-a-paymentrequest"><bdi class="secno">2.6 </bdi>
                    构造 <code>PaymentRequest</code>
                </h3><a class="self-link" href="#constructing-a-paymentrequest"
                    aria-label="Permalink for Section 2.6"></a>
            </div>

            <p>
                收集完所有必需的信息后，我们现在可以构造一个 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-6"><code>PaymentRequest</code></a> 并请求浏览器将其呈现给用户：
            </p>
            <div class="example" id="example-constructing-a-paymentrequest">
                <div class="marker">
                    <a class="self-link" href="#example-constructing-a-paymentrequest">示例<bdi> 6</bdi></a><span
                        class="example-title">: 构造 `PaymentRequest`</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doPaymentRequest</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentRequest</span>(methodData, details, options);
    <span class="hljs-comment">// See below for a detailed example of handling these events</span>
    request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> ev.<span class="hljs-title function_">updateWith</span>(details);
    request.<span class="hljs-property">onshippingoptionchange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> ev.<span class="hljs-title function_">updateWith</span>(details);
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">show</span>();
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">validateResponse</span>(response);
    } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// AbortError, SecurityError</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
    }
}
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateResponse</span>(<span class="hljs-params">response</span>) {
    <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> errors = <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkAllValuesAreGood</span>(response);
    <span class="hljs-keyword">if</span> (errors.<span class="hljs-property">length</span>) {
        <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">retry</span>(errors);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">validateResponse</span>(response);
    }
    <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">complete</span>(<span class="hljs-string">"success"</span>);
    } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// Something went wrong...</span>
    <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">complete</span>(<span class="hljs-string">"fail"</span>);
    }
}
<span class="hljs-comment">// Must be called as a result of a click</span>
<span class="hljs-comment">// or some explicit user action.</span>
<span class="hljs-title function_">doPaymentRequest</span>();</code></pre>
            </div>
        </section>
        <section id="handling-events-and-updating-the-payment-request">
            <div class="header-wrapper">
                <h3 id="x2-7-handling-events-and-updating-the-payment-request"><bdi class="secno">2.7 </bdi>
                    处理事件并更新支付请求
                </h3><a class="self-link" href="#handling-events-and-updating-the-payment-request"
                    aria-label="Permalink for Section 2.7"></a>
            </div>

            <p>
                在用户同意付款之前，网站有机会根据用户输入更新支付请求。这可以包括，例如，提供额外的配送选项（或修改其成本）、移除无法运送到特定地址的商品等。
            </p>
            <div class="example" id="example-registering-event-handlers">
                <div class="marker">
                    <a class="self-link" href="#example-registering-event-handlers">示例<bdi> 7</bdi></a><span
                        class="example-title">: 注册事件处理程序</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentRequest</span>(methodData, details, options);
<span class="hljs-comment">// Async update to details</span>
request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
    ev.<span class="hljs-title function_">updateWith</span>(<span class="hljs-title function_">checkShipping</span>(request));
};
<span class="hljs-comment">// Sync update to the total</span>
request.<span class="hljs-property">onshippingoptionchange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
    <span class="hljs-comment">// selected shipping option</span>
    <span class="hljs-keyword">const</span> { shippingOption } = request;
    <span class="hljs-keyword">const</span> newTotal = {
    <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-title function_">calculateNewTotal</span>(shippingOption),
    };
    ev.<span class="hljs-title function_">updateWith</span>({ <span class="hljs-attr">total</span>: newTotal });
};
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkShipping</span>(<span class="hljs-params">request</span>) {
    <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> { shippingAddress } = request;

    <span class="hljs-keyword">await</span> <span class="hljs-title function_">ensureCanShipTo</span>(shippingAddress);
    <span class="hljs-keyword">const</span> { shippingOptions, total } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">calculateShipping</span>(shippingAddress);

    <span class="hljs-keyword">return</span> { shippingOptions, total };
    } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// Shows error to user in the payment sheet.</span>
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">`Sorry! we can't ship to your address.`</span> };
    }
}</code></pre>
            </div>
        </section>
        <section id="fine-grained-error-reporting">
            <div class="header-wrapper">
                <h3 id="x2-8-fine-grained-error-reporting"><bdi class="secno">2.8 </bdi>
                    细粒度错误报告
                </h3><a class="self-link" href="#fine-grained-error-reporting"
                    aria-label="Permalink for Section 2.8"></a>
            </div>

            <p>
                开发者可以使用
                <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                    class="internalDFN" id="ref-for-dom-paymentdetailsupdate-1"><code>PaymentDetailsUpdate</code></a>
                字典的 <a data-link-type="idl" href="#dom-paymentdetailsupdate-shippingaddresserrors" class="internalDFN"
                    id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-1"><code>shippingAddressErrors</code></a>
                成员来指示 <a data-link-type="interface" data-lt="ContactAddress"
                    href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>
                的特定属性存在验证错误。
                <a data-link-type="idl" href="#dom-paymentdetailsupdate-shippingaddresserrors" class="internalDFN"
                    id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-2"><code>shippingAddressErrors</code></a>
                成员是一个
                <a data-link-type="idl" data-lt="AddressErrors" href="#dom-addresserrors" class="internalDFN"
                    id="ref-for-dom-addresserrors-1"><code>AddressErrors</code></a> 字典，其成员专门标出<a data-link-type="dfn"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>中错误的字段，同时还提供有用的错误消息以显示给最终用户。
            </p>
            <div class="example" id="example-8">
                <div class="marker">
                    <a class="self-link" href="#example-8">示例<bdi> 8</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs js">request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
    ev.<span class="hljs-title function_">updateWith</span>(<span class="hljs-title function_">validateAddress</span>(request.<span class="hljs-property">shippingAddress</span>));
};
<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateAddress</span>(<span class="hljs-params">shippingAddress</span>) {
    <span class="hljs-keyword">const</span> error = <span class="hljs-string">"Can't ship to this address."</span>;
    <span class="hljs-keyword">const</span> shippingAddressErrors = {
    <span class="hljs-attr">city</span>: <span class="hljs-string">"FarmVille is not a real place."</span>,
    <span class="hljs-attr">postalCode</span>: <span class="hljs-string">"Unknown postal code for your country."</span>,
    };
    <span class="hljs-comment">// Empty shippingOptions implies that we can't ship</span>
    <span class="hljs-comment">// to this address.</span>
    <span class="hljs-keyword">const</span> shippingOptions = [];
    <span class="hljs-keyword">return</span> { error, shippingAddressErrors, shippingOptions };
}</code></pre>
            </div>
        </section>
        <section id="posting-payment-response-back-to-a-server">
            <div class="header-wrapper">
                <h3 id="x2-9-posting-payment-response-back-to-a-server"><bdi class="secno">2.9 </bdi>
                    将支付响应 POST回服务器
                </h3><a class="self-link" href="#posting-payment-response-back-to-a-server"
                    aria-label="Permalink for Section 2.9"></a>
            </div>

            <p>
                预计 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-2"><code>PaymentResponse</code></a> 中的数据将被 POST回服务器进行处理。为了尽可能简单，
                <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-3"><code>PaymentResponse</code></a> 可以使用<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#default-tojson-steps">默认的 toJSON 步骤</a>（即
                <code>.toJSON()</code>）将对象直接序列化为 JSON。这使得使用
                <cite><a data-matched-text="[[[fetch]]]" href="https://fetch.spec.whatwg.org/">Fetch Standard</a></cite>
                将生成的 JSON POST回服务器变得非常简单：
            </p>
            <div class="example" id="example-posting-with-fetch">
                <div class="marker">
                    <a class="self-link" href="#example-posting-with-fetch">示例<bdi> 9</bdi></a><span
                        class="example-title">: 使用 `fetch()` POST</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doPaymentRequest</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> payRequest = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentRequest</span>(methodData, details);
    <span class="hljs-keyword">const</span> payResponse = <span class="hljs-keyword">await</span> payRequest.<span class="hljs-title function_">show</span>();
    <span class="hljs-keyword">let</span> result = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> httpResponse = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/process-payment"</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> },
        <span class="hljs-attr">body</span>: payResponse.<span class="hljs-title function_">toJSON</span>(),
    });
    result = httpResponse.<span class="hljs-property">ok</span> ? <span class="hljs-string">"success"</span> : <span class="hljs-string">"fail"</span>;
    } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
    result = <span class="hljs-string">"fail"</span>;
    }
    <span class="hljs-keyword">await</span> payResponse.<span class="hljs-title function_">complete</span>(result);
}
<span class="hljs-title function_">doPaymentRequest</span>();</code></pre>
            </div>
        </section>
        <section id="using-with-cross-origin-iframes">
            <div class="header-wrapper">
                <h3 id="x2-10-using-with-cross-origin-iframes"><bdi class="secno">2.10 </bdi>
                    与跨域 iframe 一起使用
                </h3><a class="self-link" href="#using-with-cross-origin-iframes"
                    aria-label="Permalink for Section 2.10"></a>
            </div>

            <p>
                要指示允许跨域
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                调用支付请求 API，可以在
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                元素上指定
                <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                属性以及 "payment" 关键字。
            </p>
            <div class="example" id="example-using-payment-request-api-with-cross-origin-iframes">
                <div class="marker">
                    <a class="self-link" href="#example-using-payment-request-api-with-cross-origin-iframes">示例<bdi>
                            10</bdi></a><span class="example-title">: 将 Payment Request API 与跨域 iframe 一起使用</span>
                </div>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span>
    <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cross-origin.example"</span>
    <span class="hljs-attr">allow</span>=<span class="hljs-string">"payment"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
            </div>
            <p>
                如果
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                将在支持 Payment Request API 的多个源之间导航，则可以将
                <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                设置为
                <code>"payment *"</code>。 <cite><a data-matched-text="[[[permissions-policy]]]"
                        href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite> 规范提供了更多详细信息和示例。
            </p>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="Expand MDN details for PaymentRequest"><span>MDN</span><span
                    title="This feature is in all major engines.">✅</span></summary>
            <a title="The Payment Request API's PaymentRequest interface is the primary access point into the API, and lets web content and apps accept payments from the end user on behalf of the operator of the site or the publisher of the app."
                href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest">PaymentRequest</a>
            <p class="engines-all">此功能已在所有主流引擎中实现。</p>
            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>60+</td>
                </tr>
                <tr class="chrome_android yes">
                    <td>Chrome Android</td>
                    <td>53+</td>
                </tr>
                <tr class="edge yes">
                    <td>Edge</td>
                    <td>15+</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>55+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android yes">
                    <td>Opera Android</td>
                    <td>44+</td>
                </tr>
                <tr class="safari yes">
                    <td>Safari</td>
                    <td>11.1+</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android no">
                    <td>WebView Android</td>
                    <td>否</td>
                </tr>
            </table>
        </details>
    </aside>
    <section data-dfn-for="PaymentRequest" id="paymentrequest-interface">
        <div class="header-wrapper">
            <h2 id="x3-paymentrequest-interface"><bdi class="secno">3. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-paymentrequest" data-idl="interface"
                    data-title="PaymentRequest" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentRequest</code></dfn> 接口
            </h2><a class="self-link" href="#paymentrequest-interface" aria-label="Permalink for Section 3."></a>
        </div>

        <pre class="idl def" id="webidl-1134666017"><span class="idlHeader"><a class="self-link" href="#webidl-1134666017">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-paymentrequest" data-title="PaymentRequest">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
    interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentrequest" id="ref-for-dom-paymentrequest-7"><code>PaymentRequest</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-paymentrequest-constructor-methoddata-details-options" data-title="constructor" data-dfn-for="PaymentRequest">
      <dfn data-export="" data-dfn-type="constructor" id="dom-paymentrequest-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PaymentRequest" data-lt="constructor()|constructor(methodData, details)|constructor(methodData, details, options)" data-local-lt="PaymentRequest.constructor|PaymentRequest.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType">
        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentmethoddata" class="internalDFN" id="ref-for-dom-paymentmethoddata-5"><code>PaymentMethodData</code></a>&gt;</span> <span class="idlParamName">methodData</span>,<span class="idlType">
        <a data-link-type="idl" href="#dom-paymentdetailsinit" class="internalDFN" id="ref-for-dom-paymentdetailsinit-2"><code>PaymentDetailsInit</code></a></span> <span class="idlParamName">details</span>,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentoptions" class="internalDFN" id="ref-for-dom-paymentoptions-2"><code>PaymentOptions</code></a></span> <span class="idlParamName">options</span> = {}
      );</span><span data-idl="" class="idlMethod" id="idl-def-paymentrequest-show-detailspromise" data-title="show" data-dfn-for="PaymentRequest">
      [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
      <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentresponse" class="internalDFN" id="ref-for-dom-paymentresponse-4"><code>PaymentResponse</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-show" id="ref-for-dom-paymentrequest-show-3"><code>show</code></a>(optional<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsupdate" class="internalDFN" id="ref-for-dom-paymentdetailsupdate-2"><code>PaymentDetailsUpdate</code></a>&gt;</span> <span class="idlParamName">detailsPromise</span>);</span><span data-idl="" class="idlMethod" id="idl-def-paymentrequest-abort" data-title="abort" data-dfn-for="PaymentRequest">
      [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
      <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-abort" id="ref-for-dom-paymentrequest-abort-1"><code>abort</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-paymentrequest-canmakepayment" data-title="canMakePayment" data-dfn-for="PaymentRequest">
      [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
      <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-canmakepayment" id="ref-for-dom-paymentrequest-canmakepayment-1"><code>canMakePayment</code></a>();</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-id" data-title="id" data-dfn-for="PaymentRequest">
    
      readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-id" id="ref-for-dom-paymentrequest-id-1"><code>id</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-shippingaddress" data-title="shippingAddress" data-dfn-for="PaymentRequest">
      readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://www.w3.org/TR/contact-picker/#contactaddress">ContactAddress</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingaddress" id="ref-for-dom-paymentrequest-shippingaddress-1"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-shippingoption" data-title="shippingOption" data-dfn-for="PaymentRequest">
      readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingoption" id="ref-for-dom-paymentrequest-shippingoption-1"><code>shippingOption</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-shippingtype" data-title="shippingType" data-dfn-for="PaymentRequest">
      readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-paymentshippingtype" class="internalDFN" id="ref-for-dom-paymentshippingtype-1"><code>PaymentShippingType</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingtype" id="ref-for-dom-paymentrequest-shippingtype-1"><code>shippingType</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-onshippingaddresschange" data-title="onshippingaddresschange" data-dfn-for="PaymentRequest">
    
      attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onshippingaddresschange" id="ref-for-dom-paymentrequest-onshippingaddresschange-1"><code>onshippingaddresschange</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-onshippingoptionchange" data-title="onshippingoptionchange" data-dfn-for="PaymentRequest">
      attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onshippingoptionchange" id="ref-for-dom-paymentrequest-onshippingoptionchange-1"><code>onshippingoptionchange</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-onpaymentmethodchange" data-title="onpaymentmethodchange" data-dfn-for="PaymentRequest">
      attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onpaymentmethodchange" id="ref-for-dom-paymentrequest-onpaymentmethodchange-1"><code>onpaymentmethodchange</code></a>;</span>
    };</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID">
            <div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>注意</span></div>
            <div class="">
                <p>
                    开发者创建一个 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                        class="internalDFN" id="ref-for-dom-paymentrequest-8"><code>PaymentRequest</code></a> 来发起支付请求。
                    这通常与用户启动支付流程相关联（例如，通过激活网站上的“购买”、“支付”或“结账”按钮，在互动游戏中选择“充值”，或在停车场的自助缴费机上付款）。<a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-9"><code>PaymentRequest</code></a>
                    允许开发者在用户提供输入时（直到用户批准或拒绝支付请求）与<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-2">用户代理</a>交换信息。
                </p>
                <p>
                    如果设置了 <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-1"><code>requestShipping</code></a> 成员，则会在处理过程中填充
                    <a data-link-type="idl" href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingaddress-2"><code>shippingAddress</code></a>、
                    <a data-link-type="idl" href="#dom-paymentrequest-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingoption-2"><code>shippingOption</code></a> 和
                    <a data-link-type="idl" href="#dom-paymentrequest-shippingtype" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingtype-2"><code>shippingType</code></a> 属性。
                </p>
            </div>
        </div>
        <p>
            一个 <var>request</var> 的 <dfn id="dfn-payment-relevant-browsing-context" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">与支付相关的浏览上下文</dfn> 是该
            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-10"><code>PaymentRequest</code></a> 的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的浏览上下文的
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">顶级浏览上下文</a>。每个<a
                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-payment-relevant-browsing-context-1">与支付相关的浏览上下文</a>都有一个 <dfn
                id="dfn-payment-request-is-showing" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">支付请求正在显示</dfn>布尔值，用于防止同时显示多个支付 UI。
        </p>
        <p class="Note">
            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-payment-request-is-showing-1">支付请求正在显示</a>布尔值仅防止在单个浏览器选项卡中显示多个支付 UI。但是，
            <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-payment-handler-1">支付处理程序</a>可以将<a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-3">用户代理</a>限制为仅在所有浏览器窗口和选项卡中显示一个支付
            UI。其他支付处理程序可能允许在不同的浏览器选项卡中显示支付 UI。
        </p>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for PaymentRequest"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequest() constructor creates a new PaymentRequest object which will be used to handle the process of generating, validating, and submitting a payment request."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/PaymentRequest">PaymentRequest/PaymentRequest</a>
                <p class="engines-all">此功能已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="constructor">
            <div class="header-wrapper">
                <h3 id="x3-1-constructor"><bdi class="secno">3.1 </bdi>
                    构造函数
                </h3><a class="self-link" href="#constructor" aria-label="Permalink for Section 3.1"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-11"><code>PaymentRequest</code></a> 是使用提供的
                <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentmethoddata-6"><code>PaymentMethodData</code></a> 序列
                <var>methodData</var>（包括任何<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-9">支付方式</a>特定的 <a data-link-type="idl"
                    href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-4"><code>data</code></a>）、
                <a href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentdetailsinit-3"><code>PaymentDetailsInit</code></a> <var>details</var> 和
                <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-3"><code>PaymentOptions</code></a>
                <var>options</var> 构造的。
            </p>
            <p data-tests="payment-request-constructor.https.sub.html, payment-request-insecure.http.html">
                <code><dfn data-lt="PaymentRequest.PaymentRequest()|PaymentRequest(methodData, details, options)" id="dfn-paymentrequest-paymentrequest" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">PaymentRequest(<var>methodData</var>,
              <var>details</var>, <var>options</var>)</dfn></code> 构造函数<em class="rfc2119">必须</em>按如下方式操作：
            </p>
            <ol class="algorithm">
                <li>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">此</a><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联
                        <code>Document</code></a> 不<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">允许使用</a>
                    <a href="#dfn-payment" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-1">"payment"</a>
                    权限，则<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>一个 "<a
                        data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>建立请求的 ID：
                    <ol>
                        <li data-tests="payment-request-id-attribute.https.html">如果
                            <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsinit-id"
                                class="internalDFN" id="ref-for-dom-paymentdetailsinit-id-1"><code>id</code></a> 缺失，则向
                            <var>details</var> 添加一个
                            <a data-link-type="idl" href="#dom-paymentdetailsinit-id" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-id-2"><code>id</code></a> 成员，并将其值设置为一个 <abbr
                                title="Universally Unique Identifier">UUID</abbr>
                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4122"
                                    title="A Universally Unique IDentifier (UUID) URN Namespace">RFC4122</a></cite>]。
                        </li>
                    </ol>
                </li>
                <li>令 <var>serializedMethodData</var> 为一个空列表。
                </li>
                <li>处理支付方式：
                    <ol>
                        <li>如果 <var>methodData</var> 序列的长度为零，则
                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>一个 <a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>，
                            可以选择性地通知开发者至少需要一种<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-method-10">支付方式</a>。
                        </li>
                        <li>令 <var data-type="Set">seenPMIs</var> 为空<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ordered-set">集</a>。
                        </li>
                        <li>对于 <var>methodData</var> 中的每个 <var>paymentMethod</var>：
                            <ol>
                                <li data-tests="payment-request-ctor-pmi-handling.https.sub.html">运行
                                    <a data-link-type="dfn"
                                        href="https://www.w3.org/TR/payment-method-id/#dfn-validate-a-payment-method-identifier">验证支付方式标识符</a>的步骤，使用
                                    <var>paymentMethod</var>.<a data-link-type="idl"
                                        href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-supportedmethods-1"><code>supportedMethods</code></a>。
                                    如果返回 false，则抛出一个 <a data-link-type="exception" data-lt="RangeError"
                                        href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                                    异常。
                                    可以选择性地通知开发者支付方式标识符无效。
                                </li>
                                <li>令 <var>pmi</var> 为使用
                                    <a data-link-type="dfn"
                                        href="https://url.spec.whatwg.org/#concept-basic-url-parser">基本 URL 解析器</a>解析
                                    <var>paymentMethod</var>.<a data-link-type="idl"
                                        href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-supportedmethods-2"><code>supportedMethods</code></a>
                                    的结果：
                                    <ol>
                                        <li>如果失败，则将 <var>pmi</var> 设置为
                                            <var>paymentMethod</var>.<a data-link-type="idl"
                                                href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                                id="ref-for-dom-paymentmethoddata-supportedmethods-3"><code>supportedMethods</code></a>。
                                        </li>
                                    </ol>
                                </li>
                                <li>如果 <var data-type="Set">seenPMIs</var> <a data-link-type="dfn" data-lt="contain"
                                        href="https://infra.spec.whatwg.org/#list-contain">包含</a> <var>pmi</var>，则抛出一个
                                    <a data-link-type="exception" data-lt="RangeError"
                                        href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                                    <a data-link-type="interface" data-lt="DOMException"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，
                                    可以选择性地通知开发者此<a data-link-type="dfn"
                                        href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>是重复的。
                                </li>
                                <li><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append">追加</a>
                                    <var>pmi</var> 到 <var data-type="Set">seenPMIs</var>。
                                </li>
                                <li>如果 <var>paymentMethod</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentmethoddata-data" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-data-5"><code>data</code></a> 成员缺失，则令
                                    <var>serializedData</var> 为 null。
                                    否则，令 <var>serializedData</var> 为将
                                    <var>paymentMethod</var>.<a data-link-type="idl" href="#dom-paymentmethoddata-data"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-data-6"><code>data</code></a> <a
                                        data-link-type="dfn" data-lt="serialize a JavaScript value to a JSON string"
                                        href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">序列化为
                                        JSON 字符串</a>的结果。重新抛出任何异常。
                                </li>
                                <li>如果 <var>serializedData</var> 不为 null，并且定义
                                    <var>paymentMethod</var>.<a data-link-type="idl"
                                        href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-supportedmethods-4"><code>supportedMethods</code></a>
                                    的规范指定了<a data-link-type="dfn|abstract-op" href="#dfn-additional-data-type"
                                        class="internalDFN" id="ref-for-dfn-additional-data-type-2">附加数据类型</a>：
                                    <ol>
                                        <li>令 <var>object</var> 为 <a
                                                href="https://tc39.es/ecma262/multipage/#sec-json.parse">JSON 解析</a>
                                            <var>serializedData</var> 的结果。
                                        </li>
                                        <li>
                                            <p>
                                                令 <var>idl</var> 为将 <var>object</var> <a data-link-type="dfn"
                                                    data-lt="converted to an IDL value"
                                                    href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为</a>
                                                <a data-link-type="dfn|abstract-op" href="#dfn-additional-data-type"
                                                    class="internalDFN"
                                                    id="ref-for-dfn-additional-data-type-3">附加数据类型</a>的 IDL
                                                值的结果。重新抛出任何异常。
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                运行定义
                                                <var>paymentMethod</var>.<a data-link-type="idl"
                                                    href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                                    id="ref-for-dom-paymentmethoddata-supportedmethods-5"><code>supportedMethods</code></a>
                                                的规范中的<a href="#dfn-steps-to-validate-payment-method-data"
                                                    class="internalDFN" data-link-type="dfn"
                                                    id="ref-for-dfn-steps-to-validate-payment-method-data-1">验证支付方式数据的步骤</a>（如果有），作用于
                                                <var>object</var>。重新抛出任何异常。
                                            </p>
                                            <div class="note" role="note" id="issue-container-generatedID-0">
                                                <div role="heading" class="note-title marker" id="h-note-0"
                                                    aria-level="4"><span>注意</span></div>
                                                <p class="">
                                                    这些步骤确保尽早捕获任何 IDL 类型转换和验证错误。
                                                </p>
                                            </div>
                                        </li>
                                    </ol>
                                </li>
                                <li>将元组
                                    (<var>paymentMethod</var>.<a data-link-type="idl"
                                        href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-supportedmethods-6"><code>supportedMethods</code></a>,
                                    <var>serializedData</var>) 添加到 <var>serializedMethodData</var>。
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>处理总额：
                    <ol>
                        <li data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                            <a href="#dfn-check-and-canonicalize-total-amount" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-check-and-canonicalize-total-amount-1">检查并规范化总金额</a>
                            <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsinit-total"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-total-1"><code>total</code></a>.<a
                                data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                id="ref-for-dom-paymentitem-amount-1"><code>amount</code></a>。
                            重新抛出任何异常。
                        </li>
                    </ol>
                </li>
                <li>如果 <var>details</var> 的 <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                        class="internalDFN"
                        id="ref-for-dom-paymentdetailsbase-displayitems-1"><code>displayItems</code></a> 成员存在，则对于
                    <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                        class="internalDFN"
                        id="ref-for-dom-paymentdetailsbase-displayitems-2"><code>displayItems</code></a> 中的每个
                    <var>item</var>：
                    <ol>
                        <li data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                            <a href="#dfn-check-and-canonicalize-amount" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-check-and-canonicalize-amount-1">检查并规范化金额</a>
                            <var>item</var>.<a data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                id="ref-for-dom-paymentitem-amount-2"><code>amount</code></a>。重新抛出任何异常。
                        </li>
                    </ol>
                </li>
                <li>令 <var>selectedShippingOption</var> 为 null。
                </li>
                <li>如果 <var>options</var> 的 <a data-link-type="idl" href="#dom-paymentoptions-requestshipping"
                        class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-2"><code>requestShipping</code></a> 成员存在且设置为
                    true，则处理配送选项：
                    <ol>
                        <li>令 <var data-type="PaymentShippingOption">options</var> 为一个空的
                            <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a></code>&lt;<a
                                data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                                class="internalDFN"
                                id="ref-for-dom-paymentshippingoption-1"><code>PaymentShippingOption</code></a>&gt;。
                        </li>
                        <li>如果 <var>details</var> 的 <a data-link-type="idl"
                                href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-shippingoptions-1"><code>shippingOptions</code></a>
                            成员存在，则：
                            <ol>
                                <li>令 <var>seenIDs</var> 为一个空集。
                                </li>
                                <li>对于 <var>details</var>.<a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-shippingoptions-2"><code>shippingOptions</code></a>
                                    中的每个 <var data-type="PaymentShippingOption">option</var>：
                                    <ol>
                                        <li data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                                            <a href="#dfn-check-and-canonicalize-amount" class="internalDFN"
                                                data-link-type="dfn"
                                                id="ref-for-dfn-check-and-canonicalize-amount-2">检查并规范化金额</a>
                                            <var>item</var>.<a data-link-type="idl" href="#dom-paymentitem-amount"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentitem-amount-3"><code>amount</code></a>。重新抛出任何异常。
                                        </li>
                                        <li>如果 <var>seenIDs</var> 包含
                                            <var data-type="PaymentShippingOption">option</var>.<a data-link-type="idl"
                                                href="#dom-paymentshippingoption-id" class="internalDFN"
                                                id="ref-for-dom-paymentshippingoption-id-1"><code>id</code></a>，则抛出一个
                                            <a data-link-type="exception" data-lt="TypeError"
                                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>。
                                            可以选择性地通知开发者配送选项 ID 必须唯一。
                                        </li>
                                        <li>否则，将
                                            <var data-type="PaymentShippingOption">option</var>.<a data-link-type="idl"
                                                href="#dom-paymentshippingoption-id" class="internalDFN"
                                                id="ref-for-dom-paymentshippingoption-id-2"><code>id</code></a> 追加到
                                            <var>seenIDs</var>。
                                        </li>
                                        <li>如果 <var data-type="PaymentShippingOption">option</var>.<a
                                                data-link-type="idl" href="#dom-paymentshippingoption-selected"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentshippingoption-selected-1"><code>selected</code></a>
                                            为 true，则将 <var>selectedShippingOption</var> 设置为
                                            <var data-type="PaymentShippingOption">option</var>.<a data-link-type="idl"
                                                href="#dom-paymentshippingoption-id" class="internalDFN"
                                                id="ref-for-dom-paymentshippingoption-id-3"><code>id</code></a>。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>将 <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-shippingoptions-3"><code>shippingOptions</code></a>
                            设置为
                            <var data-type="PaymentShippingOption">options</var>。
                        </li>
                    </ol>
                </li>
                <li>令 <var>serializedModifierData</var> 为一个空列表。
                </li>
                <li>处理支付详情修饰符：
                    <ol>
                        <li>令 <var>modifiers</var> 为一个空的
                            <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a></code>&lt;<a
                                data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsmodifier-1"><code>PaymentDetailsModifier</code></a>&gt;。
                        </li>
                        <li>如果 <var>details</var> 的 <a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-modifiers-1"><code>modifiers</code></a> 成员存在，则：
                            <ol>
                                <li>将 <var>modifiers</var> 设置为
                                    <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-modifiers-2"><code>modifiers</code></a>。
                                </li>
                                <li>对于 <var>modifiers</var> 中的每个 <var>modifier</var>：
                                    <ol>
                                        <li>如果 <var>modifier</var> 的 <a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-total-1"><code>total</code></a>
                                            成员存在，则：
                                            <ol>
                                                <li
                                                    data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                                                    <a href="#dfn-check-and-canonicalize-total-amount"
                                                        class="internalDFN" data-link-type="dfn"
                                                        id="ref-for-dfn-check-and-canonicalize-total-amount-2">检查并规范化总金额</a>
                                                    <var>modifier</var>.<a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-total-2"><code>total</code></a>.<a
                                                        data-link-type="idl" href="#dom-paymentitem-amount"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentitem-amount-4"><code>amount</code></a>。
                                                    重新抛出任何异常。
                                                </li>
                                            </ol>
                                        </li>
                                        <li>如果 <var>modifier</var> 的
                                            <a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-1"><code>additionalDisplayItems</code></a>
                                            成员存在，则对于 <var>modifier</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-2"><code>additionalDisplayItems</code></a>
                                            中的每个 <var>item</var>：
                                            <ol>
                                                <li
                                                    data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                                                    <a href="#dfn-check-and-canonicalize-amount" class="internalDFN"
                                                        data-link-type="dfn"
                                                        id="ref-for-dfn-check-and-canonicalize-amount-3">检查并规范化金额</a>
                                                    <var>item</var>.<a data-link-type="idl"
                                                        href="#dom-paymentitem-amount" class="internalDFN"
                                                        id="ref-for-dom-paymentitem-amount-5"><code>amount</code></a>。
                                                    重新抛出任何异常。
                                                </li>
                                            </ol>
                                        </li>
                                        <li>如果 <var>modifier</var> 的 <a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-data-1"><code>data</code></a>
                                            成员缺失，则令 <var>serializedData</var> 为 null。
                                            否则，令 <var>serializedData</var> 为将
                                            <var>modifier</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-data-2"><code>data</code></a>
                                            <a data-link-type="dfn"
                                                data-lt="serialize a JavaScript value to a JSON string"
                                                href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">序列化为
                                                JSON 字符串</a>的结果。重新抛出任何异常。
                                        </li>
                                        <li>将元组
                                            (<var>modifier</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-supportedmethods" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-supportedmethods-1"><code>supportedMethods</code></a>,
                                            <var>serializedData</var>) 添加到 <var>serializedModifierData</var>。
                                        </li>
                                        <li>移除 <var>modifier</var> 的 <a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-data-3"><code>data</code></a>
                                            成员（如果存在）。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>将 <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-modifiers-3"><code>modifiers</code></a> 设置为
                            <var>modifiers</var>。
                        </li>
                    </ol>
                </li>
                <li>令 <var data-type="PaymentRequest">request</var> 为一个新的 <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-12"><code>PaymentRequest</code></a>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[handler]]"
                        href="#dfn-handler" class="internalDFN" id="ref-for-dfn-handler-1"><code>[[handler]]</code></a>
                    设置为 <code>null</code>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-1"><code>[[options]]</code></a>
                    设置为 <var data-type="PaymentShippingOption">options</var>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-1"><code>[[state]]</code></a> 设置为
                    "<a data-link-type="dfn|abstract-op" href="#dfn-created" class="internalDFN"
                        id="ref-for-dfn-created-1">created</a>"。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[updating]]"
                        href="#dfn-updating" class="internalDFN"
                        id="ref-for-dfn-updating-1"><code>[[updating]]</code></a> 设置为 false。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                        href="#dfn-details" class="internalDFN" id="ref-for-dfn-details-1"><code>[[details]]</code></a>
                    设置为 <var>details</var>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[serializedModifierData]]" href="#dfn-serializedmodifierdata" class="internalDFN"
                        id="ref-for-dfn-serializedmodifierdata-1"><code>[[serializedModifierData]]</code></a> 设置为
                    <var>serializedModifierData</var>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[serializedMethodData]]" href="#dfn-serializedmethoddata" class="internalDFN"
                        id="ref-for-dfn-serializedmethoddata-1"><code>[[serializedMethodData]]</code></a> 设置为
                    <var>serializedMethodData</var>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                        href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-1"><code>[[response]]</code></a> 设置为 null。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var> 的 <a data-link-type="idl"
                        href="#dom-paymentrequest-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingoption-3"><code>shippingOption</code></a>
                    属性的值设置为 <var>selectedShippingOption</var>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var> 上的 <a data-link-type="idl"
                        href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingaddress-3"><code>shippingAddress</code></a> 属性的值设置为 null。
                </li>
                <li>如果 <var data-type="PaymentShippingOption">options</var>.<a data-link-type="idl"
                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-3"><code>requestShipping</code></a> 设置为 true，
                    则将 <var data-type="PaymentRequest">request</var> 上的 <a data-link-type="idl"
                        href="#dom-paymentrequest-shippingtype" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingtype-3"><code>shippingType</code></a>
                    属性的值设置为 <var data-type="PaymentShippingOption">options</var>.<a data-link-type="idl"
                        href="#dom-paymentoptions-shippingtype" class="internalDFN"
                        id="ref-for-dom-paymentoptions-shippingtype-1"><code>shippingType</code></a>。否则，将其设置为 null。
                </li>
                <li>返回 <var data-type="PaymentRequest">request</var>。
                </li>
            </ol>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for id"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The id read-only attribute of the PaymentRequest interface returns a unique identifier for a particular PaymentRequest instance."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/id">PaymentRequest/id</a>
                <p class="engines-all">此功能已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>16+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="id-attribute">
            <div class="header-wrapper">
                <h3 id="x3-2-id-attribute"><bdi class="secno">3.2 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-id" data-idl="attribute"
                        data-title="id" data-dfn-for="PaymentRequest" data-type="DOMString" data-lt="id"
                        data-local-lt="PaymentRequest.id" tabindex="0" aria-haspopup="dialog"><code>id</code></dfn>
                    属性
                </h3><a class="self-link" href="#id-attribute" aria-label="Permalink for Section 3.2"></a>
            </div>

            <p data-tests="payment-request-id-attribute.https.html">
                获取时，<a data-link-type="idl" href="#dom-paymentrequest-id" class="internalDFN"
                    id="ref-for-dom-paymentrequest-id-2"><code>id</code></a> 属性返回此
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-13"><code>PaymentRequest</code></a> 的
                <a data-link-type="attribute" data-lt="[[details]]" href="#dfn-details" class="internalDFN"
                    id="ref-for-dfn-details-2"><code>[[details]]</code></a>.<a data-link-type="idl"
                    href="#dom-paymentdetailsinit-id" class="internalDFN"
                    id="ref-for-dom-paymentdetailsinit-id-3"><code>id</code></a>。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-1">
                <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>注意</span></div>
                <div class="">
                    <p>
                        出于审计和对账目的，商家可以将每个交易的唯一标识符与
                        <a data-link-type="idl" href="#dom-paymentdetailsinit-id" class="internalDFN"
                            id="ref-for-dom-paymentdetailsinit-id-4"><code>id</code></a> 属性关联起来。
                    </p>
                </div>
            </div>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for show"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequest interface's show() method instructs the user agent to begin the process of showing and handling the user interface for the payment request to the user."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/show">PaymentRequest/show</a>
                <p class="engines-all">此功能已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="show-method">
            <div class="header-wrapper">
                <h3 id="x3-3-show-method"><bdi class="secno">3.3 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentrequest-show" data-idl="operation"
                        data-title="show()" data-dfn-for="PaymentRequest" data-type="Promise"
                        data-lt="show()|show(detailsPromise)"
                        data-local-lt="PaymentRequest.show|PaymentRequest.show()|show" tabindex="0"
                        aria-haspopup="dialog"><code>show()</code></dfn> 方法
                </h3><a class="self-link" href="#show-method" aria-label="Permalink for Section 3.3"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-2">
                <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>注意</span></div>
                <div class="">
                    <p>
                        当开发者想要开始支付请求的用户交互时，会调用 <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                            class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-4"><code>show</code></a><code>()</code> 方法。
                        <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-5"><code>show</code></a><code>()</code> 方法返回一个
                        <a data-link-type="interface" data-lt="Promise"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>，当<a
                            href="#dfn-user-accepts-the-payment-request-algorithm" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-user-accepts-the-payment-request-algorithm-1">用户接受支付请求</a>时，该 Promise 将被解析。在
                        <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-6"><code>show</code></a><code>()</code>
                        方法返回后，将向用户呈现某种用户界面以方便支付请求。
                    </p>
                    <p>
                        每个支付处理程序控制当多个浏览上下文同时调用 <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                            class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-7"><code>show</code></a><code>()</code> 方法时会发生什么。
                        例如，一些支付处理程序将允许在不同的浏览器选项卡/窗口中显示多个支付 UI。其他支付处理程序可能只允许为整个用户代理显示单个支付 UI。
                    </p>
                </div>
            </div>
            <p data-tests="payment-request-show-method.https.html">
                <code>show(optional <var>detailsPromise</var>)</code> 方法<em class="rfc2119">必须</em>按如下方式操作：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">此</a>。
                </li>
                <li data-tests="payment-request-show-method.https.html, show-method-postmessage-manual.https.html">
                    如果 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request">request</a> 的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>没有
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">瞬时激活</a>，则用户代理<em
                        class="rfc2119">可以</em>：
                    <ol>
                        <li>返回<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise</a>，并带有
                            "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                        </li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-3">
                        <div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>注意</span>
                        </div>
                        <div class="">
                            <p>
                                这允许用户代理不需要用户激活，例如支持重定向流程，其中重定向后可能不存在用户激活。有关安全注意事项，请参见
                                <a href="#user-activation-requirement" class="sec-ref"><bdi class="secno">19.9 </bdi>
                                    用户激活要求</a>。
                            </p>
                            <p>
                                另请参见
                                <a href="https://github.com/w3c/payment-request/issues/1022">
                                    问题 #1022</a>，其中讨论了在规范中提供更多关于用户代理何时应该或不应该为 <a data-link-type="idl" data-lt="show()"
                                    href="#dom-paymentrequest-show" class="internalDFN"
                                    id="ref-for-dom-paymentrequest-show-8"><code>show</code></a><code>()</code>
                                要求用户激活的指导。
                            </p>
                        </div>
                    </div>
                </li>
                <li data-tests="show-consume-activation.https.html">否则，
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation">消耗</a><a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的用户激活。
                </li>
                <li>令 <var>document</var> 为 <var data-type="PaymentRequest">request</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联
                        <code>Document</code></a>。
                </li>
                <li data-tests="rejects_if_not_active.https.html">如果 <var>document</var> 不是<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全激活</a>的，则返回<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的
                        promise</a>，并带有 "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>如果 <var>document</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state">可见性状态</a>不是
                    <code>"visible"</code>，
                    则返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的
                        promise</a>，并带有 "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>
                    <p>
                        可选地，如果<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-4">用户代理</a>希望禁止调用
                        <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-9"><code>show</code></a><code>()</code> 以保护用户，则返回一个被拒绝的
                        promise，并带有 "<a data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>" <a
                            data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。例如，<a
                            href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-5">用户代理</a>可以限制页面调用 <a data-link-type="idl" data-lt="show()"
                            href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-10"><code>show</code></a><code>()</code> 的速率，如
                        <a href="#privacy" class="sec-ref"><bdi class="secno">19. </bdi>
                            隐私和安全注意事项</a>部分所述。
                    </p>
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-2"><code>[[state]]</code></a> 不是
                    "<a data-link-type="dfn|abstract-op" href="#dfn-created" class="internalDFN"
                        id="ref-for-dfn-created-2">created</a>"，则返回<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise</a>，并带有 "<a
                        data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>如果<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-6">用户代理</a>的<a href="#dfn-payment-request-is-showing"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-request-is-showing-2">支付请求正在显示</a>
                    布尔值为 true，则：
                    <ol>
                        <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-3"><code>[[state]]</code></a> 设置为
                            "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                id="ref-for-dfn-closed-1">closed</a>"。
                        </li>
                        <li>返回<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise</a>，并带有
                            "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                        </li>
                    </ol>
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-4"><code>[[state]]</code></a> 设置为
                    "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-1">interactive</a>"。
                </li>
                <li>令 <var data-type="Promise">acceptPromise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">一个新的 promise</a>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[acceptPromise]]" href="#dfn-acceptpromise" class="internalDFN"
                        id="ref-for-dfn-acceptpromise-1"><code>[[acceptPromise]]</code></a> 设置为
                    <var data-type="Promise">acceptPromise</var>。
                </li>
                <li>
                    <p>
                        可选地：
                    </p>
                    <ol>
                        <li>用 "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 拒绝
                            <var data-type="Promise">acceptPromise</var>。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-5"><code>[[state]]</code></a> 设置为
                            "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                id="ref-for-dfn-closed-2">closed</a>"。
                        </li>
                        <li>返回 <var data-type="Promise">acceptPromise</var>。
                        </li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-4">
                        <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>注意</span>
                        </div>
                        <p class="">
                            这允许<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-agent-7">用户代理</a>自行决定，表现得好像用户立即<a data-link-type="dfn|abstract-op"
                                data-lt="user aborts the payment request" href="#dfn-user-aborts-the-payment-request"
                                class="internalDFN"
                                id="ref-for-dfn-user-aborts-the-payment-request-1">中止了支付请求</a>。例如，在“隐私浏览”模式或类似模式下，用户代理可能会利用此步骤。
                        </p>
                    </div>
                </li>
                <li>将 <var data-type="PaymentRequest">request</var> 的<a href="#dfn-payment-relevant-browsing-context"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-relevant-browsing-context-2">与支付相关的浏览上下文</a>的
                    <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-request-is-showing-3">支付请求正在显示</a>布尔值设置为 true。
                </li>
                <li>返回 <var data-type="Promise">acceptPromise</var> 并<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>执行其余步骤。
                </li>
                <li>令 <var data-type="list">handlers</var> 为一个空的<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list">列表</a>。
                </li>
                <li>对于 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[serializedMethodData]]" href="#dfn-serializedmethoddata" class="internalDFN"
                        id="ref-for-dfn-serializedmethoddata-2"><code>[[serializedMethodData]]</code></a> 中的每个
                    <var>paymentMethod</var> 元组：
                    <ol>
                        <li>令 <var>identifier</var> 为 <var>paymentMethod</var> 元组中的第一个元素。
                        </li>
                        <li>令 <var>data</var> 为<a href="https://tc39.es/ecma262/multipage/#sec-json.parse">JSON 解析</a>
                            <var>paymentMethod</var> 元组中第二个元素的结果。
                        </li>
                        <li>如果定义 <var>identifier</var> 的规范指定了
                            <a data-link-type="dfn|abstract-op" href="#dfn-additional-data-type" class="internalDFN"
                                id="ref-for-dfn-additional-data-type-4">附加数据类型</a>，则将 <var>data</var> <a
                                data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为</a>该类型的
                            IDL 值。
                            否则，将 <var>data</var> <a data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为</a>
                            <a data-link-type="interface" data-lt="object"
                                href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a>。
                        </li>
                        <li>如果转换导致<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">异常</a>
                            <var>error</var>：
                            <ol>
                                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                        id="ref-for-dfn-state-6"><code>[[state]]</code></a> 设置为
                                    "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                        id="ref-for-dfn-closed-3">closed</a>"。
                                </li>
                                <li>用 <var>error</var> 拒绝 <var data-type="Promise">acceptPromise</var>。
                                </li>
                                <li>将 <var data-type="PaymentRequest">request</var> 的<a
                                        href="#dfn-payment-relevant-browsing-context" class="internalDFN"
                                        data-link-type="dfn"
                                        id="ref-for-dfn-payment-relevant-browsing-context-3">与支付相关的浏览上下文</a>的<a
                                        href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-payment-request-is-showing-4">支付请求正在显示</a>布尔值设置为
                                    false。
                                </li>
                                <li>终止此算法。
                                </li>
                            </ol>
                        </li>
                        <li>令 <var>registeredHandlers</var> 为支付方式 <var>identifier</var> 的已注册支付处理程序的<a
                                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list">列表</a>。
                            <div class="note" role="note" id="issue-container-generatedID-5">
                                <div role="heading" class="note-title marker" id="h-note-5" aria-level="4">
                                    <span>注意</span><span class="issue-label">: 支付处理程序注册</span>
                                </div>
                                <aside class="">
                                    注册支付处理程序的机制超出了本规范的范围。有关一种机制，请参见
                                    <cite><a data-matched-text="[[[payment-handler]]]"
                                            href="https://www.w3.org/TR/payment-handler/">Payment Handler
                                            API</a></cite>。
                                </aside>
                            </div>
                        </li>
                        <li>对于 <var>registeredHandlers</var> 中的每个 <var>handler</var>：
                            <ol>
                                <li>令 <var>canMakePayment</var> 为运行 <var>handler</var> 的
                                    <a href="#dfn-steps-to-check-if-a-payment-can-be-made" class="internalDFN"
                                        data-link-type="dfn"
                                        id="ref-for-dfn-steps-to-check-if-a-payment-can-be-made-1">检查是否可以进行支付的步骤</a>并使用
                                    <var>data</var> 的结果。
                                </li>
                                <li>如果 <var>canMakePayment</var> 为 true，则将 <var>handler</var> 追加到
                                    <var data-type="list">handlers</var>。
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>如果 <var data-type="list">handlers</var> 为空，则：
                    <ol>
                        <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-7"><code>[[state]]</code></a> 设置为
                            "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                id="ref-for-dfn-closed-4">closed</a>"。
                        </li>
                        <li>用 "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 拒绝
                            <var data-type="Promise">acceptPromise</var>。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var> 的<a
                                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-4">与支付相关的浏览上下文</a>的
                            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-5">支付请求正在显示</a>布尔值设置为 false。
                        </li>
                        <li>终止此算法。
                        </li>
                    </ol>
                </li>
                <li>
                    <p data-cite="html">
                        呈现一个用户界面，允许用户与 <var data-type="list">handlers</var> 交互。用户代理<em
                            class="rfc2119">应该</em>在呈现支付方式时优先考虑用户的偏好。用户界面<em class="rfc2119">应该</em>使用与
                        <var>document</var> 的<a data-link-type="dfn" data-lt="document element"
                            href="https://dom.spec.whatwg.org/#document-element">文档元素</a>的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/dom.html#language">语言</a>（如果有）匹配的语言和基于区域设置的格式，或者如果不可用，则使用适当的回退。
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-6">
                        <div role="heading" class="note-title marker" id="h-note-6" aria-level="4">
                            <span>注意</span><span class="issue-label">: 支付用户界面的本地化</span>
                        </div>
                        <aside class="">
                            <p>
                                API 当前未提供一种方式让开发者指定向最终用户呈现支付表单的语言和基本方向。相反，API 依赖于从文档继承的本地化信息。
                            </p>
                        </aside>
                    </div>
                </li>
                <li data-tests="show-method-optional-promise-rejects.https.html">如果传递了
                    <var>detailsPromise</var>，则：
                    <ol>
                        <li>运行<a href="#dfn-update-a-paymentrequest-s-details-algorithm" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-update-a-paymentrequest-s-details-algorithm-1">更新
                                <code>PaymentRequest</code> 详情算法</a>，使用 <var>detailsPromise</var>、<var
                                data-type="PaymentRequest">request</var> 和 null。
                        </li>
                        <li>等待 <var>detailsPromise</var> 稳定下来。
                            <div class="note" role="note" id="issue-container-generatedID-7">
                                <div role="heading" class="note-title marker" id="h-note-7" aria-level="4">
                                    <span>注意</span>
                                </div>
                                <p class="">
                                    根据 <var>detailsPromise</var> 的稳定方式，<a
                                        href="#dfn-update-a-paymentrequest-s-details-algorithm" class="internalDFN"
                                        data-link-type="dfn"
                                        id="ref-for-dfn-update-a-paymentrequest-s-details-algorithm-2">更新
                                        <code>PaymentRequest</code> 详情算法</a>决定支付 UI 的行为方式。也就是说，<a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#upon-rejection">在
                                        <var>detailsPromise</var> 被拒绝时</a>，支付请求中止。否则，<a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#upon-fulfillment">在
                                        <var>detailsPromise</var> 被满足时</a>，用户代理重新启用支付请求 UI，支付流程可以继续。
                                </p>
                            </div>
                        </li>
                    </ol>
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[handler]]"
                        href="#dfn-handler" class="internalDFN" id="ref-for-dfn-handler-2"><code>[[handler]]</code></a>
                    设置为最终用户选择的<a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-handler-2">支付处理程序</a>。
                </li>
                <li>令 <var data-type="list">modifiers</var> 为一个空列表。
                </li>
                <li>对于 <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                        href="#dfn-serializedmodifierdata" class="internalDFN"
                        id="ref-for-dfn-serializedmodifierdata-2"><code>[[serializedModifierData]]</code></a> 中的每个
                    <var>tuple</var>：
                    <ol>
                        <li>如果 <var>tuple</var> 的第一个元素（一个 <a data-link-type="dfn"
                                href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">PMI</a>）与
                            <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[handler]]" href="#dfn-handler" class="internalDFN"
                                id="ref-for-dfn-handler-3"><code>[[handler]]</code></a> 的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>匹配，则将
                            <var>tuple</var> 的第二个元素（序列化的方法数据）追加到 <var data-type="list">modifiers</var>。
                        </li>
                    </ol>
                </li>
                <li>
                    <p>
                        传递<a data-link-type="dfn" data-lt="converted to an IDL value"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换后的</a>
                        <var>paymentMethod</var> 元组中的第二个元素和 <var data-type="list">modifiers</var>。可选地，用户代理<em
                            class="rfc2119">应该</em>将 <var data-type="PaymentRequest">request</var> 中的适当数据发送给用户选择的<a
                            href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-handler-3">支付处理程序</a>，以指导用户完成支付过程。这包括 <var
                            data-type="PaymentRequest">request</var> 的各种属性和其他<a data-link-type="dfn|abstract-op"
                            href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a>（出于隐私原因，在适当的情况下<em
                            class="rfc2119">可以</em>排除某些内容）。
                    </p>
                    <p>
                        <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                            href="#dfn-serializedmodifierdata" class="internalDFN"
                            id="ref-for-dfn-serializedmodifierdata-3"><code>[[serializedModifierData]]</code></a> <a
                            data-link-type="dfn|abstract-op"
                            href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a>中多个适用修饰符的处理是<a
                            href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-handler-4">支付处理程序</a>特定的，超出了本规范的范围。然而，<em class="rfc2119">建议</em><a
                            href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-handler-5">支付处理程序</a>对
                        <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                            href="#dfn-serializedmodifierdata" class="internalDFN"
                            id="ref-for-dfn-serializedmodifierdata-4"><code>[[serializedModifierData]]</code></a>
                        列表中的项目使用“后来者居上”的方法：也就是说，列表末尾的项目始终优先于列表开头的任何项目（参见下面的示例）。
                    </p>
                    <aside class="example" id="example-handling-of-multiple-applicable-modifiers">
                        <div class="marker">
                            <a class="self-link" href="#example-handling-of-multiple-applicable-modifiers">示例<bdi>
                                    11</bdi></a><span class="example-title">: 处理多个适用的修饰符</span>
                        </div>
                        <p>
                            此示例演示了
                            <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                                href="#dfn-serializedmodifierdata" class="internalDFN"
                                id="ref-for-dfn-serializedmodifierdata-5"><code>[[serializedModifierData]]</code></a>
                            的优先顺序。
                            第一个修饰符同样适用于所有卡，无论网络如何。
                            第二个修饰符专门适用于“coolcard”网络上的卡。
                        </p>
                        <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> details = {
      <span class="hljs-attr">total</span>: {
        <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
        <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"50.00"</span> },
      },
    };
    <span class="hljs-comment">// All cards incur a $3.00 processing fee.</span>
    <span class="hljs-keyword">const</span> cardFee = {
      <span class="hljs-attr">label</span>: <span class="hljs-string">"Card processing fee"</span>,
      <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"3.00"</span> },
    };
    
    <span class="hljs-comment">// But coolcard incurs a $1.00 processing fee.</span>
    <span class="hljs-keyword">const</span> coolCardFee = {
      <span class="hljs-attr">label</span>: <span class="hljs-string">"Coolcard processing fee"</span>,
      <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"1.00"</span> },
    };
    
    <span class="hljs-comment">// Modifiers apply when the user chooses to pay with</span>
    <span class="hljs-comment">// a credit card.</span>
    details.<span class="hljs-property">modifiers</span> = [
      <span class="hljs-comment">// Applies to all cards...</span>
      {
        <span class="hljs-attr">additionalDisplayItems</span>: [cardFee],
        <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/cardpay"</span>,
        <span class="hljs-attr">total</span>: {
          <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
          <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"53.00"</span> },
        },
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">supportedNetworks</span>: [], <span class="hljs-comment">// All networks</span>
        },
      },
      <span class="hljs-comment">// Applies only to cool cards...</span>
      {
        <span class="hljs-attr">additionalDisplayItems</span>: [coolCardFee],
        <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/cardpay"</span>,
        <span class="hljs-attr">total</span>: {
          <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
          <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"51.00"</span> },
        },
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">supportedNetworks</span>: [<span class="hljs-string">"coolcard"</span>], <span class="hljs-comment">// coolcard network only</span>
        },
      },
    ];</code></pre>
                        <p>
                            如果上面示例中的修饰符数组被反转（即，<code class="js">supportedNetworks: []</code> 在修饰符列表的最后），那么即使 coolcard
                            修饰符更具体地匹配卡，它也会优先于“coolcard”修饰符。这是因为“后来者居上”。
                        </p>
                    </aside>
                    <p>
                        <var data-type="Promise">acceptPromise</var> 稍后将由<a
                            href="#dfn-user-accepts-the-payment-request-algorithm" class="internalDFN"
                            data-link-type="dfn"
                            id="ref-for-dfn-user-accepts-the-payment-request-algorithm-2">用户接受支付请求算法</a>或<a
                            href="#dfn-user-aborts-the-payment-request" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-aborts-the-payment-request-2">用户中止支付请求算法</a>解析或拒绝，这些算法通过与用户界面的交互触发。
                    </p>
                    <p data-tests="rejects_if_not_active.https.html">
                        如果在显示用户界面时 <var>document</var> 不再<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全激活</a>，或者在此步骤到达时不再是，则：
                    </p>
                    <ol>
                        <li>关闭用户界面。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var> 的<a
                                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-5">与支付相关的浏览上下文</a>的
                            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-6">支付请求正在显示</a>布尔值设置为 false。
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for abort"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequest.abort() method of the PaymentRequest interface causes the user agent to end the payment request and to remove any user interface that might be shown."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/abort">PaymentRequest/abort</a>
                <p class="engines-all">此功能已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="abort-method">
            <div class="header-wrapper">
                <h3 id="x3-4-abort-method"><bdi class="secno">3.4 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentrequest-abort" data-idl="operation"
                        data-title="abort()" data-dfn-for="PaymentRequest" data-type="Promise" data-lt="abort()"
                        data-local-lt="PaymentRequest.abort|PaymentRequest.abort()|abort" tabindex="0"
                        aria-haspopup="dialog"><code>abort()</code></dfn> 方法
                </h3><a class="self-link" href="#abort-method" aria-label="Permalink for Section 3.4"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-8">
                <div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>注意</span></div>
                <div class="">
                    <p>
                        如果开发者希望告知<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-8">用户代理</a>中止支付 <var>request</var> 并移除可能显示的任何用户界面，则会调用 <a
                            data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort" class="internalDFN"
                            id="ref-for-dom-paymentrequest-abort-2"><code>abort</code></a><code>()</code> 方法。
                        <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort" class="internalDFN"
                            id="ref-for-dom-paymentrequest-abort-3"><code>abort</code></a><code>()</code> 只能在调用
                        <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-11"><code>show</code></a><code>()</code> 方法之后（参见
                        <a data-link-type="dfn|abstract-op" href="#dfn-state-0" class="internalDFN"
                            id="ref-for-dfn-state-0-1">状态</a>）且在此实例的
                        <a data-link-type="attribute" data-lt="[[acceptPromise]]" href="#dfn-acceptpromise"
                            class="internalDFN" id="ref-for-dfn-acceptpromise-2"><code>[[acceptPromise]]</code></a>
                        被解析之前调用。例如，如果他们销售的商品仅在有限的时间内可用，开发者可能会选择这样做。如果用户在允许的时间段内未接受支付请求，则请求将被中止。
                    </p>
                    <p>
                        <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-9">用户代理</a>可能并不总是能够中止请求。例如，如果<a href="#dfn-user-agent"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-10">用户代理</a>已将请求的责任委托给另一个应用程序。在这种情况下，
                        <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort" class="internalDFN"
                            id="ref-for-dom-paymentrequest-abort-4"><code>abort</code></a><code>()</code> 将拒绝返回的 <a
                            data-link-type="interface" data-lt="Promise"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>。
                    </p>
                    <p>
                        另请参见<a href="#dfn-user-aborts-the-payment-request" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-aborts-the-payment-request-3">用户中止支付请求</a>时的算法。
                    </p>
                </div>
            </div>
            <p data-tests="payment-request-abort-method.https.html">
                <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort" class="internalDFN"
                    id="ref-for-dom-paymentrequest-abort-5"><code>abort</code></a><code>()</code> 方法<em
                    class="rfc2119">必须</em>按如下方式操作：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">此</a>。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-2"><code>[[response]]</code></a> 不为 null，且
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                        href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-3"><code>[[response]]</code></a>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-1"><code>[[retryPromise]]</code></a>
                    不为 null，则返回<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise</a>，并带有
                    “<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>” <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-8"><code>[[state]]</code></a> 的值不是
                    “<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-2">interactive</a>”，则返回<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise
                    </a>，并带有 “<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>” <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">一个新的 promise</a>。
                </li>
                <li>返回 <var data-type="Promise">promise</var> 并<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>执行其余步骤。
                </li>
                <li>尝试中止当前与<a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-handler-6">支付处理程序</a>的用户交互，并关闭任何剩余的用户界面。
                </li>
                <li>
                    在<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">用户交互任务源</a>上<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>以执行以下步骤：
                    <ol>
                        <li>如果无法中止当前用户交互，
                            则用 “<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>”
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 拒绝
                            <var data-type="Promise">promise</var> 并中止这些步骤。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-9"><code>[[state]]</code></a> 设置为
                            “<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                id="ref-for-dfn-closed-5">closed</a>”。
                        </li>
                        <li>用 “<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>” <a
                                data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 拒绝
                            promise
                            <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[acceptPromise]]" href="#dfn-acceptpromise" class="internalDFN"
                                id="ref-for-dfn-acceptpromise-3"><code>[[acceptPromise]]</code></a>。
                        </li>
                        <li>用 undefined 解析 <var data-type="Promise">promise</var>。
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="为 canMakePayment 展开 MDN 详细信息"><span>MDN</span><span
                        title="此功能已在所有主流引擎中实现。">✅</span></summary>
                <a title="PaymentRequest 方法 canMakePayment() 用于确定请求的配置方式是否与用户代理支持的至少一种支付方式兼容。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/canMakePayment">PaymentRequest/canMakePayment</a>
                <p class="engines-all">此功能已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>16+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="canmakepayment-method">
            <div class="header-wrapper">
                <h3 id="x3-5-canmakepayment-method"><bdi class="secno">3.5 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentrequest-canmakepayment"
                        data-idl="operation" data-title="canMakePayment()" data-dfn-for="PaymentRequest"
                        data-type="Promise" data-lt="canMakePayment()"
                        data-local-lt="PaymentRequest.canMakePayment|PaymentRequest.canMakePayment()|canMakePayment"
                        tabindex="0" aria-haspopup="dialog"><code>canMakePayment()</code></dfn> 方法
                </h3><a class="self-link" href="#canmakepayment-method" aria-label="章节 3.5 的永久链接"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-9">
                <div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>备注</span><span
                        class="issue-label">: canMakePayment()</span></div>
                <div class="">
                    <p>
                        开发者可以使用 <a data-link-type="idl" data-lt="canMakePayment()"
                            href="#dom-paymentrequest-canmakepayment" class="internalDFN"
                            id="ref-for-dom-paymentrequest-canmakepayment-2"><code>canMakePayment</code></a><code>()</code>
                        方法来确定<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-11">用户代理</a>是否支持所需的<a href="#dfn-payment-method"
                            class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-method-11">支付方式</a>之一。请参阅
                        <a href="#canmakepayment-protections" data-matched-text="[[[#canmakepayment-protections]]]"
                            class="sec-ref"><bdi class="secno">19.8 </bdi>
                            <code>canMakePayment()</code> 保护措施</a>。
                    </p>
                    <p>
                        <a data-link-type="idl" data-lt="canMakePayment()" href="#dom-paymentrequest-canmakepayment"
                            class="internalDFN"
                            id="ref-for-dom-paymentrequest-canmakepayment-3"><code>canMakePayment</code></a><code>()</code>
                        返回 true
                        并不意味着用户已准备好可用于支付的已配置工具。
                    </p>
                </div>
            </div>
            <p data-tests="payment-request-canmakepayment-method.https.html">
                <a data-link-type="idl" data-lt="canMakePayment()" href="#dom-paymentrequest-canmakepayment"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequest-canmakepayment-4"><code>canMakePayment</code></a><code>()</code>
                方法<em class="rfc2119">必须</em>运行<a href="#dfn-can-make-payment-algorithm" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-can-make-payment-algorithm-1">can
                    make payment 算法</a>。
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="shippingaddress-attribute">
            <div class="header-wrapper">
                <h3 id="x3-6-shippingaddress-attribute"><bdi class="secno">3.6 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-shippingaddress"
                        data-idl="attribute" data-title="shippingAddress" data-dfn-for="PaymentRequest"
                        data-type="ContactAddress" data-lt="shippingAddress"
                        data-local-lt="PaymentRequest.shippingAddress" tabindex="0"
                        aria-haspopup="dialog"><code>shippingAddress</code></dfn> 属性
                </h3><a class="self-link" href="#shippingaddress-attribute" aria-label="章节 3.6 的永久链接"></a>
            </div>

            <p data-tests="shipping-address-changed-manual.https.html">
                当用户提供送货地址时，会填充 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-14"><code>PaymentRequest</code></a> 的 <a
                    data-link-type="idl" href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingaddress-4"><code>shippingAddress</code></a> 属性。默认情况下，它为
                null。当用户提供送货地址时，会运行<a href="#dfn-shipping-address-changed-algorithm" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-shipping-address-changed-algorithm-1">送货地址更改算法</a>。
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="shippingtype-attribute">
            <div class="header-wrapper">
                <h3 id="x3-7-shippingtype-attribute"><bdi class="secno">3.7 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-shippingtype"
                        data-idl="attribute" data-title="shippingType" data-dfn-for="PaymentRequest"
                        data-type="PaymentShippingType" data-lt="shippingType"
                        data-local-lt="PaymentRequest.shippingType" tabindex="0"
                        aria-haspopup="dialog"><code>shippingType</code></dfn> 属性
                </h3><a class="self-link" href="#shippingtype-attribute" aria-label="章节 3.7 的永久链接"></a>
            </div>

            <p data-tests="payment-request-shippingType-attribute.https.html">
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-15"><code>PaymentRequest</code></a> 的 <a data-link-type="idl"
                    href="#dom-paymentrequest-shippingtype" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingtype-4"><code>shippingType</code></a> 属性是用于完成交易的送货类型。其值为
                <a data-link-type="idl" data-lt="PaymentShippingType" href="#dom-paymentshippingtype"
                    class="internalDFN" id="ref-for-dom-paymentshippingtype-2"><code>PaymentShippingType</code></a>
                枚举值，如果开发者在<a data-link-type="dfn|abstract-op" data-lt="PaymentRequest.PaymentRequest()"
                    href="#dfn-paymentrequest-paymentrequest" class="internalDFN"
                    id="ref-for-dfn-paymentrequest-paymentrequest-1"><code>构造</code></a>期间未提供（请参阅
                <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-4"><code>PaymentOptions</code></a> 的 <a data-link-type="idl"
                    href="#dom-paymentoptions-shippingtype" class="internalDFN"
                    id="ref-for-dom-paymentoptions-shippingtype-2"><code>shippingType</code></a> 成员），则为 null。
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="onshippingaddresschange-attribute">
            <div class="header-wrapper">
                <h3 id="x3-8-onshippingaddresschange-attribute"><bdi class="secno">3.8 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-onshippingaddresschange"
                        data-idl="attribute" data-title="onshippingaddresschange" data-dfn-for="PaymentRequest"
                        data-type="EventHandler" data-lt="onshippingaddresschange"
                        data-local-lt="PaymentRequest.onshippingaddresschange" tabindex="0"
                        aria-haspopup="dialog"><code>onshippingaddresschange</code></dfn> 属性
                </h3><a class="self-link" href="#onshippingaddresschange-attribute" aria-label="章节 3.8 的永久链接"></a>
            </div>

            <p
                data-tests="shipping-address-changed-manual.https.html, payment-request-onshippingaddresschange-attribute.https.html, algorithms-manual.https.html#shipping-address-changed-algo">
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-16"><code>PaymentRequest</code></a> 的 <a data-link-type="idl"
                    href="#dom-paymentrequest-onshippingaddresschange" class="internalDFN"
                    id="ref-for-dom-paymentrequest-onshippingaddresschange-2"><code>onshippingaddresschange</code></a>
                属性是名为 <a href="#dfn-shippingaddresschange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-shippingaddresschange-1"><code>shippingaddresschange</code></a> 的 <a
                    data-link-type="idl" data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequestupdateevent-1"><code>PaymentRequestUpdateEvent</code></a> 的<a
                    data-link-type="typedef" data-lt="EventHandler"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>。
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="shippingoption-attribute">
            <div class="header-wrapper">
                <h3 id="x3-9-shippingoption-attribute"><bdi class="secno">3.9 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-shippingoption"
                        data-idl="attribute" data-title="shippingOption" data-dfn-for="PaymentRequest"
                        data-type="DOMString" data-lt="shippingOption" data-local-lt="PaymentRequest.shippingOption"
                        tabindex="0" aria-haspopup="dialog"><code>shippingOption</code></dfn> 属性
                </h3><a class="self-link" href="#shippingoption-attribute" aria-label="章节 3.9 的永久链接"></a>
            </div>

            <p
                data-tests="payment-request-shippingOption-attribute.https.html, change-shipping-option-manual.https.html">
                当用户选择送货选项时，会填充 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-17"><code>PaymentRequest</code></a> 的 <a
                    data-link-type="idl" href="#dom-paymentrequest-shippingoption" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingoption-4"><code>shippingOption</code></a> 属性。默认情况下，它为
                null。当用户选择送货选项时，会运行<a href="#dfn-shipping-option-changed-algorithm" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-shipping-option-changed-algorithm-1">送货选项更改算法</a>。
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="onshippingoptionchange-attribute">
            <div class="header-wrapper">
                <h3 id="x3-10-onshippingoptionchange-attribute"><bdi class="secno">3.10 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-onshippingoptionchange"
                        data-idl="attribute" data-title="onshippingoptionchange" data-dfn-for="PaymentRequest"
                        data-type="EventHandler" data-lt="onshippingoptionchange"
                        data-local-lt="PaymentRequest.onshippingoptionchange" tabindex="0"
                        aria-haspopup="dialog"><code>onshippingoptionchange</code></dfn> 属性
                </h3><a class="self-link" href="#onshippingoptionchange-attribute" aria-label="章节 3.10 的永久链接"></a>
            </div>

            <p data-tests="payment-request-onshippingoptionchange-attribute.https.html">
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-18"><code>PaymentRequest</code></a> 的 <a data-link-type="idl"
                    href="#dom-paymentrequest-onshippingoptionchange" class="internalDFN"
                    id="ref-for-dom-paymentrequest-onshippingoptionchange-2"><code>onshippingoptionchange</code></a>
                属性是名为 <a href="#dfn-shippingoptionchange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-shippingoptionchange-1"><code>shippingoptionchange</code></a> 的 <a
                    data-link-type="idl" data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequestupdateevent-2"><code>PaymentRequestUpdateEvent</code></a> 的<a
                    data-link-type="typedef" data-lt="EventHandler"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="为 paymentmethodchange_event 展开 MDN 详细信息"><span>MDN</span><span
                        title="此功能已在所有主流引擎中实现。">✅</span></summary>
                <a title="当用户在给定的支付处理程序中更改支付方式时，paymentmethodchange 事件会传递给 PaymentRequest 对象的 Payment Request API。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/paymentmethodchange_event">PaymentRequest/paymentmethodchange_event</a>
                <p class="engines-all">此功能已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>76+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>47+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="onpaymentmethodchange-attribute">
            <div class="header-wrapper">
                <h3 id="x3-11-onpaymentmethodchange-attribute"><bdi class="secno">3.11 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-onpaymentmethodchange"
                        data-idl="attribute" data-title="onpaymentmethodchange" data-dfn-for="PaymentRequest"
                        data-type="EventHandler" data-lt="onpaymentmethodchange"
                        data-local-lt="PaymentRequest.onpaymentmethodchange" tabindex="0"
                        aria-haspopup="dialog"><code>onpaymentmethodchange</code></dfn> 属性
                </h3><a class="self-link" href="#onpaymentmethodchange-attribute" aria-label="章节 3.11 的永久链接"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-19"><code>PaymentRequest</code></a> 的 <a data-link-type="idl"
                    href="#dom-paymentrequest-onpaymentmethodchange" class="internalDFN"
                    id="ref-for-dom-paymentrequest-onpaymentmethodchange-2"><code>onpaymentmethodchange</code></a>
                属性是名为 “<a href="#dfn-paymentmethodchange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-paymentmethodchange-1"><code>paymentmethodchange</code></a>” 的 <a
                    data-link-type="idl" data-lt="PaymentMethodChangeEvent" href="#dom-paymentmethodchangeevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-1"><code>PaymentMethodChangeEvent</code></a> 的<a
                    data-link-type="typedef" data-lt="EventHandler"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>。
            </p>
        </section>
        <section id="internal-slots">
            <div class="header-wrapper">
                <h3 id="x3-12-internal-slots"><bdi class="secno">3.12 </bdi>
                    内部插槽
                </h3><a class="self-link" href="#internal-slots" aria-label="章节 3.12 的永久链接"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-20"><code>PaymentRequest</code></a> 的实例是使用下表中的<a
                    data-link-type="dfn|abstract-op"
                    href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a>创建的：
            </p>
            <table class="data" data-dfn-for="PaymentRequest">
                <tbody>
                    <tr>
                        <th>
                            内部插槽
                        </th>
                        <th>
                            描述 (<em>非规范性</em>)
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-idl="" data-dfn-for="PaymentRequest" data-dfn-type="attribute"
                                id="dfn-serializedmethoddata" tabindex="0"
                                aria-haspopup="dialog">[[serializedMethodData]]</dfn>
                        </td>
                        <td>
                            提供给构造函数的 <code>methodData</code>，但表示为包含支持的方法和字符串或 null 数据的元组（而不是原始对象形式）。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-for="PaymentRequest" data-idl="" data-dfn-type="attribute"
                                id="dfn-serializedmodifierdata" tabindex="0"
                                aria-haspopup="dialog">[[serializedModifierData]]</dfn>
                        </td>
                        <td>
                            一个列表，其中包含序列
                            <a data-link-type="attribute" data-lt="[[details]]" href="#dfn-details" class="internalDFN"
                                id="ref-for-dfn-details-3"><code>[[details]]</code></a>.<a data-link-type="idl"
                                href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-modifiers-4"><code>modifier</code></a> 中每个对应项的每个
                            <a data-link-type="idl" href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                id="ref-for-dom-paymentdetailsmodifier-data-4"><code>data</code></a>
                            成员的序列化字符串形式，如果不存在此类成员，则为 null。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-for="PaymentRequest" data-idl="" data-dfn-type="attribute"
                                id="dfn-details" tabindex="0" aria-haspopup="dialog">[[details]]</dfn>
                        </td>
                        <td>
                            支付请求的当前 <a data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-1"><code>PaymentDetailsBase</code></a>，最初提供给构造函数，然后通过调用
                            <a data-link-type="idl" data-lt="updateWith()"
                                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-updatewith-1"><code>updateWith</code></a><code>()</code>
                            进行更新。请注意，
                            <a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-modifiers-5"><code>modifiers</code></a> 成员中包含的
                            <a data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsmodifier-2"><code>PaymentDetailsModifier</code></a>
                            实例的所有
                            <a data-link-type="idl" href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                id="ref-for-dom-paymentdetailsmodifier-data-5"><code>data</code></a>
                            成员都将被删除，因为它们以序列化形式存储在
                            <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                                href="#dfn-serializedmodifierdata" class="internalDFN"
                                id="ref-for-dfn-serializedmodifierdata-6"><code>[[serializedModifierData]]</code></a> <a
                                data-link-type="dfn|abstract-op"
                                href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a>中。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-for="PaymentRequest" data-idl="" data-dfn-type="attribute"
                                id="dfn-options" tabindex="0" aria-haspopup="dialog">[[options]]</dfn>
                        </td>
                        <td>
                            提供给构造函数的 <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions"
                                class="internalDFN" id="ref-for-dom-paymentoptions-5"><code>PaymentOptions</code></a>。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentRequest" data-noexport="" data-dfn-type="attribute"
                                id="dfn-state" tabindex="0" aria-haspopup="dialog">[[state]]</dfn>
                        </td>
                        <td>
                            <p>
                                支付请求的当前<dfn data-dfn-for="PaymentRequest" data-export="" data-plurals="states"
                                    id="dfn-state-0" tabindex="0" aria-haspopup="dialog"
                                    data-dfn-type="dfn">状态</dfn>，其转换如下：
                            </p>
                            <dl>
                                <dt>
                                    “<dfn data-dfn-for="PaymentRequest" id="dfn-created" tabindex="0"
                                        aria-haspopup="dialog" data-dfn-type="dfn">created</dfn>”
                                </dt>
                                <dd>
                                    支付请求已构建且尚未呈现给用户。
                                </dd>
                                <dt>
                                    “<dfn data-dfn-for="PaymentRequest" id="dfn-interactive" tabindex="0"
                                        aria-haspopup="dialog" data-dfn-type="dfn">interactive</dfn>”
                                </dt>
                                <dd>
                                    支付请求正在呈现给用户。
                                </dd>
                                <dt>
                                    “<dfn data-dfn-for="PaymentRequest" id="dfn-closed" tabindex="0"
                                        aria-haspopup="dialog" data-dfn-type="dfn">closed</dfn>”
                                </dt>
                                <dd>
                                    支付请求已完成。
                                </dd>
                            </dl>
                            <p>
                                <a data-link-type="dfn|abstract-op" href="#dfn-state-0" class="internalDFN"
                                    id="ref-for-dfn-state-0-2">状态</a>转换如下图所示：
                            </p>
                            <figure
                                id="fig-the-constructor-sets-the-initial-state-to-created-the-show-method-changes-the-state-to-interactive-from-there-the-abort-method-or-any-other-error-can-send-the-state-to-closed-similarly-the-user-accepts-the-payment-request-algorithm-and-user-aborts-the-payment-request-algorithm-will-change-the-state-to-closed">
                                <img alt="" src="images/state-transitions.svg" width="518" height="125">
                                <figcaption><a class="self-link"
                                        href="#fig-the-constructor-sets-the-initial-state-to-created-the-show-method-changes-the-state-to-interactive-from-there-the-abort-method-or-any-other-error-can-send-the-state-to-closed-similarly-the-user-accepts-the-payment-request-algorithm-and-user-aborts-the-payment-request-algorithm-will-change-the-state-to-closed">图
                                        <bdi class="figno">1</bdi></a> <span class="fig-title">
                                        构造函数将初始<a data-link-type="dfn|abstract-op" href="#dfn-state-0"
                                            class="internalDFN" id="ref-for-dfn-state-0-3">状态</a>设置为
                                        “<a data-link-type="dfn|abstract-op" href="#dfn-created" class="internalDFN"
                                            id="ref-for-dfn-created-3">created</a>”。<a data-link-type="idl"
                                            data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                                            id="ref-for-dom-paymentrequest-show-12"><code>show</code></a><code>()</code>
                                        方法将<a data-link-type="dfn|abstract-op" href="#dfn-state-0" class="internalDFN"
                                            id="ref-for-dfn-state-0-4">状态</a>更改为
                                        “<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                                            id="ref-for-dfn-interactive-3">interactive</a>”。然后，
                                        <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentrequest-abort-6"><code>abort</code></a><code>()</code>
                                        方法或任何其他错误都可以将<a data-link-type="dfn|abstract-op" href="#dfn-state-0"
                                            class="internalDFN" id="ref-for-dfn-state-0-5">状态</a>发送到“<a
                                            data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                            id="ref-for-dfn-closed-6">closed</a>”；
                                        同样，<a href="#dfn-user-accepts-the-payment-request-algorithm" class="internalDFN"
                                            data-link-type="dfn"
                                            id="ref-for-dfn-user-accepts-the-payment-request-algorithm-3">用户接受支付请求算法</a>和<a
                                            href="#dfn-user-aborts-the-payment-request" class="internalDFN"
                                            data-link-type="dfn"
                                            id="ref-for-dfn-user-aborts-the-payment-request-4">用户中止支付请求算法</a>会将<a
                                            data-link-type="dfn|abstract-op" href="#dfn-state-0" class="internalDFN"
                                            id="ref-for-dfn-state-0-6">状态</a>更改为
                                        “<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                            id="ref-for-dfn-closed-7">closed</a>”。
                                    </span></figcaption>
                            </figure>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentRequest" data-noexport="" data-dfn-type="attribute"
                                id="dfn-updating" tabindex="0" aria-haspopup="dialog">[[updating]]</dfn>
                        </td>
                        <td>
                            如果存在用于更新支付请求的待处理
                            <a data-link-type="idl" data-lt="updateWith()"
                                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-updatewith-2"><code>updateWith</code></a><code>()</code>
                            调用，则为 True，否则为 false。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentRequest" data-noexport="" data-dfn-type="attribute"
                                id="dfn-acceptpromise" tabindex="0" aria-haspopup="dialog">[[acceptPromise]]</dfn>
                        </td>
                        <td>
                            在 <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                                class="internalDFN"
                                id="ref-for-dom-paymentrequest-show-13"><code>show</code></a><code>()</code>
                            期间创建的待处理 <a data-link-type="interface" data-lt="Promise"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>，如果用户接受支付请求，则该
                            Promise 将被解析。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentRequest" data-noexport="" data-dfn-type="attribute"
                                id="dfn-response" tabindex="0" aria-haspopup="dialog">[[response]]</dfn>
                        </td>
                        <td>
                            Null，或由此
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-21"><code>PaymentRequest</code></a>
                            实例化的 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                                class="internalDFN" id="ref-for-dom-paymentresponse-5"><code>PaymentResponse</code></a>。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-dfn-for="PaymentRequest" data-idl="" data-noexport="" data-dfn-type="attribute"
                                id="dfn-handler" tabindex="0" aria-haspopup="dialog">[[handler]]</dfn>
                        </td>
                        <td>
                            与此
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-22"><code>PaymentRequest</code></a>
                            关联的<a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-handler-7">支付处理程序</a>。初始化为 <code>null</code>。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </section>
    <section data-dfn-for="PaymentMethodData" id="paymentmethoddata-dictionary">
        <div class="header-wrapper">
            <h2 id="x4-paymentmethoddata-dictionary"><bdi class="secno">4. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentmethoddata" data-idl="dictionary"
                    data-title="PaymentMethodData" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentMethodData</code></dfn> 字典
            </h2><a class="self-link" href="#paymentmethoddata-dictionary" aria-label="章节 4 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-1205695403"><span class="idlHeader"><a class="self-link" href="#webidl-1205695403">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentmethoddata" data-title="PaymentMethodData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentmethoddata" id="ref-for-dom-paymentmethoddata-7"><code>PaymentMethodData</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentmethoddata-supportedmethods" data-title="supportedMethods" data-dfn-for="PaymentMethodData">
    required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethoddata-supportedmethods" id="ref-for-dom-paymentmethoddata-supportedmethods-7"><code>supportedMethods</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentmethoddata-data" data-title="data" data-dfn-for="PaymentMethodData"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethoddata-data" id="ref-for-dom-paymentmethoddata-data-7"><code>data</code></a>;</span>
};</span></code></pre>
        <p>
            <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                id="ref-for-dom-paymentmethoddata-8"><code>PaymentMethodData</code></a> 字典用于指示一组受支持的<a
                href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-payment-method-12">支付方式</a>以及与这些方式相关的任何<a href="#dfn-payment-method" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-payment-method-13">支付方式</a>特定数据。
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentmethoddata-supportedmethods"
                    data-idl="field" data-title="supportedMethods" data-dfn-for="PaymentMethodData"
                    data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>supportedMethods</code></dfn> 成员
            </dt>
            <dd>
                商家网站接受的<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-14">支付方式</a>的<a data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentmethoddata-data" data-idl="field"
                    data-title="data" data-dfn-for="PaymentMethodData" data-type="object" tabindex="0"
                    aria-haspopup="dialog"><code>data</code></dfn> 成员
            </dt>
            <dd>
                一个对象，提供受支持的支付方式可能需要的可选信息。如果提供，它将被<a data-link-type="dfn"
                    data-lt="serialize a JavaScript value to a JSON string"
                    href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">序列化</a>。
            </dd>
        </dl>
        <div class="note" role="note" id="issue-container-generatedID-10">
            <div role="heading" class="note-title marker" id="h-note-10" aria-level="3"><span>备注</span></div>
            <p class="">
                <code>supportedMethods</code> 的值已从数组更改为字符串，但为了保持与 Web 上现有内容的兼容性，名称保留为复数形式。
            </p>
        </div>
    </section>
    <section data-dfn-for="PaymentCurrencyAmount" id="paymentcurrencyamount-dictionary">
        <div class="header-wrapper">
            <h2 id="x5-paymentcurrencyamount-dictionary"><bdi class="secno">5. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentcurrencyamount" data-idl="dictionary"
                    data-title="PaymentCurrencyAmount" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentCurrencyAmount</code></dfn> 字典
            </h2><a class="self-link" href="#paymentcurrencyamount-dictionary" aria-label="章节 5 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-826862570"><span class="idlHeader"><a class="self-link" href="#webidl-826862570">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentcurrencyamount" data-title="PaymentCurrencyAmount">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentcurrencyamount" id="ref-for-dom-paymentcurrencyamount-1"><code>PaymentCurrencyAmount</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentcurrencyamount-currency" data-title="currency" data-dfn-for="PaymentCurrencyAmount">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcurrencyamount-currency" id="ref-for-dom-paymentcurrencyamount-currency-1"><code>currency</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentcurrencyamount-value" data-title="value" data-dfn-for="PaymentCurrencyAmount">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcurrencyamount-value" id="ref-for-dom-paymentcurrencyamount-value-1"><code>value</code></a>;</span>
};</span></code></pre>
        <p>
            <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                class="internalDFN" id="ref-for-dom-paymentcurrencyamount-2"><code>PaymentCurrencyAmount</code></a>
            字典用于提供货币金额。
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentcurrencyamount-currency" data-idl="field"
                    data-title="currency" data-dfn-for="PaymentCurrencyAmount" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>currency</code></dfn> 成员
            </dt>
            <dd>
                <p>
                    一个 [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso4217"
                            title="货币代码 - ISO 4217">ISO4217</a></cite>] <a
                        href="https://tc39.es/ecma402/#sec-iswellformedcurrencycode">格式正确</a>的 3
                    位字母代码（即不支持数字代码）。它们的规范形式是大写。但是，可用的本地化货币符号的货币代码组合集取决于实现。
                </p>
                <p>
                    显示货币值时，<em class="rfc2119">建议</em>用户代理显示货币代码，但用户代理显示货币符号是<em
                        class="rfc2119">可选的</em>。这是因为货币符号可能由于在多种不同货币中使用而含糊不清（例如，“$”可能表示美元、澳元、新西兰元、加元等）。
                </p>
                <p>
                    用户代理<em class="rfc2119">可以</em>格式化
                    <a data-link-type="idl" href="#dom-paymentcurrencyamount-currency" class="internalDFN"
                        id="ref-for-dom-paymentcurrencyamount-currency-2"><code>currency</code></a>
                    成员的显示以符合操作系统约定（例如，出于本地化目的）。
                </p>
                <div class="note" role="note" id="issue-container-generatedID-11">
                    <div role="heading" class="note-title marker" id="h-note-11" aria-level="3"><span>注意</span><span
                            class="issue-label">: 数字货币和 ISO 4217 货币代码</span></div>
                    <div class="">
                        <p>
                            实现本规范的用户代理通过 ECMAScript 的 <a
                                href="https://tc39.es/ecma402/#sec-iswellformedcurrencycode">isWellFormedCurrencyCode</a>
                            抽象操作强制执行 [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso4217"
                                    title="货币代码 - ISO 4217">ISO4217</a></cite>] 的 3 位字母代码格式，该操作作为 <a
                                href="#dfn-check-and-canonicalize-amount" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-check-and-canonicalize-amount-4">检查和规范化金额</a>算法的一部分被调用。当代码不符合
                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso4217"
                                    title="货币代码 - ISO 4217">ISO4217</a></cite>] 定义的格式时，会抛出 <a data-link-type="exception"
                                data-lt="RangeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>。
                        </p>
                        <p>
                            因此，当前的实现将允许使用不属于官方
                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso4217"
                                    title="货币代码 - ISO 4217">ISO4217</a></cite>] 列表的格式正确的货币代码（例如，XBT、XRP
                            等）。如果提供的代码是浏览器知道如何显示的货币，那么实现通常会在用户界面中显示适当的货币符号（例如，“USD”显示为 U+0024 美元符号 ($)，“GBP”显示为 U+00A3
                            英镑符号 (£)，“PLN”显示为 U+007A U+0142 兹罗提 (zł)，非标准的“XBT”可以显示为 U+0243 带删除线的拉丁大写字母 B (Ƀ)）。
                        </p>
                        <p>
                            ISO 正在努力解决数字货币问题，这可能会导致 [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso4217"
                                    title="货币代码 - ISO 4217">ISO4217</a></cite>] 注册表更新或全新的注册表。社区期望这将解决因使用非标准 3
                            位字母代码而产生的歧义；例如，“BTC”是指比特币还是未来的不丹货币？在发布时，尚不清楚这种演变将采取何种形式，甚至不清楚工作完成的时间框架。<abbr
                                title="万维网联盟">W3C</abbr> Web 支付工作组正在与 ISO 联络，以便将来对本规范的修订与相关的 ISO 注册表保持兼容。
                        </p>
                    </div>
                </div>
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentcurrencyamount-value" data-idl="field"
                    data-title="value" data-dfn-for="PaymentCurrencyAmount" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>value</code></dfn> 成员
            </dt>
            <dd>
                包含货币金额的<a href="#dfn-valid-decimal-monetary-value" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-valid-decimal-monetary-value-1">有效十进制货币值</a>。
            </dd>
        </dl>
        <div class="example" id="example-how-to-represent-1-234-omani-rials">
            <div class="marker">
                <a class="self-link" href="#example-how-to-represent-1-234-omani-rials">示例<bdi> 12</bdi></a><span
                    class="example-title">: 如何表示 1.234 阿曼里亚尔</span>
            </div>
            <pre aria-busy="false"><code class="hljs js">{
    <span class="hljs-string">"currency"</span>: <span class="hljs-string">"OMR"</span>,
    <span class="hljs-string">"value"</span>: <span class="hljs-string">"1.234"</span>
}</code></pre>
        </div>
        <section id="validity-checkers">
            <div class="header-wrapper">
                <h3 id="x5-1-validity-checkers"><bdi class="secno">5.1 </bdi>
                    有效性检查器
                </h3><a class="self-link" href="#validity-checkers" aria-label="章节 5.1 的永久链接"></a>
            </div>

            <p>
                如果一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string">JavaScript 字符串</a>按给定顺序包含以下<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point">代码点</a>，则它是一个<dfn
                    id="dfn-valid-decimal-monetary-value" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">有效的十进制货币值</dfn>：
            </p>
            <ol>
                <li>可选地，一个 U+002D (-)，表示金额为负。
                </li>
                <li>一个或多个 U+0030 (0) 到 U+0039 (9) 范围内的<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#code-point">代码点</a>。
                </li>
                <li>可选地，一个 U+002E (.)，后跟一个或多个 U+0030 (0) 到 U+0039 (9) 范围内的<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#code-point">代码点</a>。
                </li>
            </ol>
            <div class="note" role="note" id="issue-container-generatedID-12">
                <div role="heading" class="note-title marker" id="h-note-12" aria-level="4"><span>注意</span></div>
                <div class="">
                    以下正则表达式是上述定义的一个实现。
                    <pre class="hljs" aria-busy="false"><code class="hljs">^-?[0-9]+(\.[0-9]+)?$</code></pre>
                </div>
            </div>
            <p>
                要<dfn id="dfn-check-and-canonicalize-amount" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">检查并规范化金额</dfn>（给定一个
                <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                    class="internalDFN" id="ref-for-dom-paymentcurrencyamount-3"><code>PaymentCurrencyAmount</code></a>
                <var>amount</var>），请执行以下步骤：
            </p>
            <ol>
                <li>如果 <a
                        href="https://tc39.es/ecma402/#sec-iswellformedcurrencycode">IsWellFormedCurrencyCode</a>(<var>amount</var>.<a
                        data-link-type="idl" href="#dom-paymentcurrencyamount-currency" class="internalDFN"
                        id="ref-for-dom-paymentcurrencyamount-currency-3"><code>currency</code></a>)
                    的结果为 false，则抛出一个 <a data-link-type="exception" data-lt="RangeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                    异常，并可选择通知开发者货币无效。
                </li>
                <li>如果 <var>amount</var>.<a data-link-type="idl" href="#dom-paymentcurrencyamount-value"
                        class="internalDFN" id="ref-for-dom-paymentcurrencyamount-value-2"><code>value</code></a> 不是一个<a
                        href="#dfn-valid-decimal-monetary-value" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-valid-decimal-monetary-value-2">有效的十进制货币值</a>，则抛出一个 <a
                        data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>，并可选择通知开发者货币无效。
                </li>
                <li>将 <var>amount</var>.<a data-link-type="idl" href="#dom-paymentcurrencyamount-currency"
                        class="internalDFN" id="ref-for-dom-paymentcurrencyamount-currency-4"><code>currency</code></a>
                    设置为 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-uppercase">ASCII 大写</a>
                    <var>amount</var>.<a data-link-type="idl" href="#dom-paymentcurrencyamount-currency"
                        class="internalDFN" id="ref-for-dom-paymentcurrencyamount-currency-5"><code>currency</code></a>
                    的结果。
                </li>
            </ol>
            <p>
                要<dfn id="dfn-check-and-canonicalize-total-amount" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">检查并规范化总金额</dfn>（给定一个
                <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                    class="internalDFN" id="ref-for-dom-paymentcurrencyamount-4"><code>PaymentCurrencyAmount</code></a>
                <var data-type="PaymentCurrencyAmount">amount</var>），请执行以下步骤：
            </p>
            <ol>
                <li>
                    <a href="#dfn-check-and-canonicalize-amount" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-check-and-canonicalize-amount-5">检查并规范化金额</a> <var
                        data-type="PaymentCurrencyAmount">amount</var>。重新抛出任何异常。
                </li>
                <li>如果 <var data-type="PaymentCurrencyAmount">amount</var>.<a data-link-type="idl"
                        href="#dom-paymentcurrencyamount-value" class="internalDFN"
                        id="ref-for-dom-paymentcurrencyamount-value-3"><code>value</code></a> 的第一个<a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point">代码点</a>是 U+002D (-)，则抛出一个
                    <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>，并可选择通知开发者总额的值不能为负数。
                </li>
            </ol>
            <div class="note" role="note" id="issue-container-generatedID-13">
                <div role="heading" class="note-title marker" id="h-note-13" aria-level="4"><span>注意</span><span
                        class="issue-label">: 不更改值</span></div>
                <aside class="">
                    <p>
                        该算法不会更改或规范化 <var data-type="PaymentCurrencyAmount">amount</var>.<a data-link-type="idl"
                            href="#dom-paymentcurrencyamount-value" class="internalDFN"
                            id="ref-for-dom-paymentcurrencyamount-value-4"><code>value</code></a>。例如，用户代理不会将 "55" 更改为
                        "55.00"。支付处理程序需要准备好处理此类值。
                    </p>
                </aside>
            </div>
        </section>
    </section>
    <section id="payment-details-dictionaries">
        <div class="header-wrapper">
            <h2 id="x6-payment-details-dictionaries"><bdi class="secno">6. </bdi>
                支付详情字典
            </h2><a class="self-link" href="#payment-details-dictionaries" aria-label="章节 6 的永久链接。"></a>
        </div>

        <section data-dfn-for="PaymentDetailsBase" id="paymentdetailsbase-dictionary">
            <div class="header-wrapper">
                <h3 id="x6-1-paymentdetailsbase-dictionary"><bdi class="secno">6.1 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentdetailsbase" data-idl="dictionary"
                        data-title="PaymentDetailsBase" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentDetailsBase</code></dfn> 字典
                </h3><a class="self-link" href="#paymentdetailsbase-dictionary" aria-label="章节 6.1 的永久链接"></a>
            </div>

            <pre class="idl def" id="webidl-914982787"><span class="idlHeader"><a class="self-link" href="#webidl-914982787">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentdetailsbase" data-title="PaymentDetailsBase">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsbase" id="ref-for-dom-paymentdetailsbase-2"><code>PaymentDetailsBase</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentdetailsbase-displayitems" data-title="displayItems" data-dfn-for="PaymentDetailsBase"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-1"><code>PaymentItem</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-displayitems" id="ref-for-dom-paymentdetailsbase-displayitems-3"><code>displayItems</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsbase-shippingoptions" data-title="shippingOptions" data-dfn-for="PaymentDetailsBase"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentshippingoption" class="internalDFN" id="ref-for-dom-paymentshippingoption-2"><code>PaymentShippingOption</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-shippingoptions" id="ref-for-dom-paymentdetailsbase-shippingoptions-4"><code>shippingOptions</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsbase-modifiers" data-title="modifiers" data-dfn-for="PaymentDetailsBase"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsmodifier" class="internalDFN" id="ref-for-dom-paymentdetailsmodifier-3"><code>PaymentDetailsModifier</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-modifiers" id="ref-for-dom-paymentdetailsbase-modifiers-6"><code>modifiers</code></a>;</span>
};</span></code></pre>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsbase-displayitems"
                        data-idl="field" data-title="displayItems" data-dfn-for="PaymentDetailsBase"
                        data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>displayItems</code></dfn> 成员
                </dt>
                <dd>
                    一个 <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                        id="ref-for-dom-paymentitem-2"><code>PaymentItem</code></a> 字典序列，包含<a href="#dfn-user-agent"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-12">用户代理</a><em
                        class="rfc2119">可能</em>显示的支付请求的行项目。
                    <div class="note" role="note" id="issue-container-generatedID-14">
                        <div role="heading" class="note-title marker" id="h-note-14" aria-level="4"><span>注意</span>
                        </div>
                        <aside class="">
                            开发者在生成或更新 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-23"><code>PaymentRequest</code></a>
                            时，有责任验证
                            <a data-link-type="idl" href="#dom-paymentdetailsinit-total" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-total-2"><code>total</code></a> 金额是这些项目的总和。
                        </aside>
                    </div>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsbase-shippingoptions"
                        data-idl="field" data-title="shippingOptions" data-dfn-for="PaymentDetailsBase"
                        data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>shippingOptions</code></dfn>
                    成员
                </dt>
                <dd>
                    <p>
                        包含供用户选择的不同送货选项的序列。
                    </p>
                    <p data-tests="change-shipping-option-select-last-manual.https.html">
                        如果序列中的某个项目将
                        <a data-link-type="idl" href="#dom-paymentshippingoption-selected" class="internalDFN"
                            id="ref-for-dom-paymentshippingoption-selected-2"><code>selected</code></a> 成员设置为
                        true，则这将是默认使用的送货选项，并且
                        <a data-link-type="idl" href="#dom-paymentrequest-shippingoption" class="internalDFN"
                            id="ref-for-dom-paymentrequest-shippingoption-5"><code>shippingOption</code></a> 将被设置为此选项的
                        <a data-link-type="idl" href="#dom-paymentshippingoption-id" class="internalDFN"
                            id="ref-for-dom-paymentshippingoption-id-4"><code>id</code></a>，而不会运行
                        <a href="#dfn-shipping-option-changed-algorithm" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-shipping-option-changed-algorithm-2">送货选项更改算法</a>。如果序列中有多个项目将 <a
                            data-link-type="idl" href="#dom-paymentshippingoption-selected" class="internalDFN"
                            id="ref-for-dom-paymentshippingoption-selected-3"><code>selected</code></a> 设置为 true，则<a
                            href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-13">用户代理</a>会选择序列中的最后一个。
                    </p>
                    <p>
                        仅当使用 <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions"
                            class="internalDFN" id="ref-for-dom-paymentoptions-6"><code>PaymentOptions</code></a> 构造 <a
                            data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                            id="ref-for-dom-paymentrequest-24"><code>PaymentRequest</code></a> 并且将 <a
                            data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                            id="ref-for-dom-paymentoptions-requestshipping-4"><code>requestShipping</code></a> 设置为 true
                        时，才会使用 <a data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                            class="internalDFN"
                            id="ref-for-dom-paymentdetailsbase-shippingoptions-5"><code>shippingOptions</code></a> 成员。
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-15">
                        <div role="heading" class="note-title marker" id="h-note-15" aria-level="4"><span>注意</span>
                        </div>
                        <aside class="">
                            如果序列中某个项目的
                            <a data-link-type="idl" href="#dom-paymentshippingoption-selected" class="internalDFN"
                                id="ref-for-dom-paymentshippingoption-selected-4"><code>selected</code></a> 成员设置为
                            true，则作者有责任确保
                            <a data-link-type="idl" href="#dom-paymentdetailsinit-total" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-total-3"><code>total</code></a>
                            成员包含送货选项的费用。这是因为除非用户首先选择替代选项，否则不会为此选项触发 <a href="#dfn-shippingoptionchange"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-shippingoptionchange-2"><code>shippingoptionchange</code></a> 事件。
                        </aside>
                    </div>
                </dd>
                <dt>
                    <dfn data-plurals="modifier" data-export="" data-dfn-type="dict-member"
                        id="dom-paymentdetailsbase-modifiers" data-idl="field" data-title="modifiers"
                        data-dfn-for="PaymentDetailsBase" data-type="sequence" tabindex="0"
                        aria-haspopup="dialog"><code>modifiers</code></dfn> 成员
                </dt>
                <dd>
                    一个 <a data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                        class="internalDFN"
                        id="ref-for-dom-paymentdetailsmodifier-4"><code>PaymentDetailsModifier</code></a>
                    字典序列，其中包含特定支付方式标识符的修饰符。例如，它允许您根据支付方式调整总金额。
                </dd>
            </dl>
        </section>
        <section data-dfn-for="PaymentDetailsInit" id="paymentdetailsinit-dictionary">
            <div class="header-wrapper">
                <h3 id="x6-2-paymentdetailsinit-dictionary"><bdi class="secno">6.2 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentdetailsinit" data-idl="dictionary"
                        data-title="PaymentDetailsInit" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentDetailsInit</code></dfn> 字典
                </h3><a class="self-link" href="#paymentdetailsinit-dictionary" aria-label="章节 6.2 的永久链接"></a>
            </div>

            <pre class="idl def" id="webidl-47162060"><span class="idlHeader"><a class="self-link" href="#webidl-47162060">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentdetailsinit" data-title="PaymentDetailsInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsinit" id="ref-for-dom-paymentdetailsinit-4"><code>PaymentDetailsInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentdetailsbase" class="internalDFN" id="ref-for-dom-paymentdetailsbase-3"><code>PaymentDetailsBase</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-paymentdetailsinit-id" data-title="id" data-dfn-for="PaymentDetailsInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsinit-id" id="ref-for-dom-paymentdetailsinit-id-5"><code>id</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsinit-total" data-title="total" data-dfn-for="PaymentDetailsInit">
    required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-3"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsinit-total" id="ref-for-dom-paymentdetailsinit-total-4"><code>total</code></a>;</span>
};</span></code></pre>
            <div class="note" role="note" id="issue-container-generatedID-16">
                <div role="heading" class="note-title marker" id="h-note-16" aria-level="4"><span>注意</span></div>
                <aside class="">
                    <a href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-paymentdetailsinit-5"><code>PaymentDetailsInit</code></a> 字典用于构造支付请求。
                </aside>
            </div>
            <p>
                除了从 <a data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase"
                    class="internalDFN" id="ref-for-dom-paymentdetailsbase-4"><code>PaymentDetailsBase</code></a>
                字典继承的成员外，以下成员也是
                <a href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentdetailsinit-6"><code>PaymentDetailsInit</code></a> 字典的一部分：
            </p>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsinit-id" data-idl="field"
                        data-title="id" data-dfn-for="PaymentDetailsInit" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>id</code></dfn> 成员
                </dt>
                <dd>
                    此支付请求的自由格式标识符。
                    <div class="note" role="note" id="issue-container-generatedID-17">
                        <div role="heading" class="note-title marker" id="h-note-17" aria-level="4"><span>注意</span>
                        </div>
                        <aside class="">
                            如果不存在 <a data-link-type="idl" href="#dom-paymentdetailsinit-id" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-id-6"><code>id</code></a> 成员，则
                            <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-agent-14">用户代理</a>将在<a data-link-type="dfn|abstract-op"
                                data-lt="PaymentRequest.PaymentRequest()" href="#dfn-paymentrequest-paymentrequest"
                                class="internalDFN"
                                id="ref-for-dfn-paymentrequest-paymentrequest-2"><code>构造</code></a>期间为支付请求生成一个唯一标识符。
                        </aside>
                    </div>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsinit-total" data-idl="field"
                        data-title="total" data-dfn-for="PaymentDetailsInit" data-type="PaymentItem" tabindex="0"
                        aria-haspopup="dialog"><code>total</code></dfn> 成员
                </dt>
                <dd>
                    一个 <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                        id="ref-for-dom-paymentitem-4"><code>PaymentItem</code></a>，包含支付请求的非负总金额。
                    <div class="note" role="note" id="issue-container-generatedID-18">
                        <div role="heading" class="note-title marker" id="h-note-18" aria-level="4"><span>注意</span>
                        </div>
                        <aside class="">
                            本规范中接受
                            <a data-link-type="idl" data-lt="PaymentDetailsInit" href="#dom-paymentdetailsinit"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-7"><code>PaymentDetailsInit</code></a> 字典的算法将在
                            <a data-link-type="idl" href="#dom-paymentdetailsinit-total" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-total-5"><code>total</code></a>.<a
                                data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                id="ref-for-dom-paymentitem-amount-6"><code>amount</code></a>.<a data-link-type="idl"
                                href="#dom-paymentcurrencyamount-value" class="internalDFN"
                                id="ref-for-dom-paymentcurrencyamount-value-5"><code>value</code></a>
                            为负数时抛出异常。
                        </aside>
                    </div>
                </dd>
            </dl>
        </section>
        <section data-dfn-for="PaymentDetailsUpdate" id="paymentdetailsupdate-dictionary">
            <div class="header-wrapper">
                <h3 id="x6-3-paymentdetailsupdate-dictionary"><bdi class="secno">6.3 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentdetailsupdate" data-idl="dictionary"
                        data-title="PaymentDetailsUpdate" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentDetailsUpdate</code></dfn> 字典
                </h3><a class="self-link" href="#paymentdetailsupdate-dictionary" aria-label="章节 6.3 的永久链接"></a>
            </div>

            <pre class="idl def" id="webidl-505108935"><span class="idlHeader"><a class="self-link" href="#webidl-505108935">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentdetailsupdate" data-title="PaymentDetailsUpdate">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsupdate" id="ref-for-dom-paymentdetailsupdate-3"><code>PaymentDetailsUpdate</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentdetailsbase" class="internalDFN" id="ref-for-dom-paymentdetailsbase-5"><code>PaymentDetailsBase</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-error" data-title="error" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-error" id="ref-for-dom-paymentdetailsupdate-error-1"><code>error</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-total" data-title="total" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
    <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-5"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-total" id="ref-for-dom-paymentdetailsupdate-total-1"><code>total</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-shippingaddresserrors" data-title="shippingAddressErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
    <a data-link-type="idl" href="#dom-addresserrors" class="internalDFN" id="ref-for-dom-addresserrors-2"><code>AddressErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-shippingaddresserrors" id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-3"><code>shippingAddressErrors</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-payererrors" data-title="payerErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
    <a data-link-type="idl" href="#dom-payererrors" class="internalDFN" id="ref-for-dom-payererrors-1"><code>PayerErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-payererrors" id="ref-for-dom-paymentdetailsupdate-payererrors-1"><code>payerErrors</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-paymentmethoderrors" data-title="paymentMethodErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-paymentmethoderrors" id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-1"><code>paymentMethodErrors</code></a>;</span>
};</span></code></pre>
            <p>
                <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                    class="internalDFN" id="ref-for-dom-paymentdetailsupdate-4"><code>PaymentDetailsUpdate</code></a>
                字典用于使用 <a data-link-type="idl" data-lt="updateWith()" href="#dom-paymentrequestupdateevent-updatewith"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequestupdateevent-updatewith-3"><code>updateWith</code></a><code>()</code>
                更新支付请求。
            </p>
            <p>
                除了从 <a data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase"
                    class="internalDFN" id="ref-for-dom-paymentdetailsbase-6"><code>PaymentDetailsBase</code></a>
                字典继承的成员外，以下成员也是
                <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                    class="internalDFN" id="ref-for-dom-paymentdetailsupdate-5"><code>PaymentDetailsUpdate</code></a>
                字典的一部分：
            </p>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-error" data-idl="field"
                        data-title="error" data-dfn-for="PaymentDetailsUpdate" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>error</code></dfn> 成员
                </dt>
                <dd>
                    一个人类可读的字符串，解释为什么无法将商品运送到所选的送货地址，或任何其他导致没有可用送货选项的原因。当使用
                    <a data-link-type="idl" data-lt="updateWith()" href="#dom-paymentrequestupdateevent-updatewith"
                        class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-updatewith-4"><code>updateWith</code></a><code>()</code>
                    更新支付请求时，如果 <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                        class="internalDFN"
                        id="ref-for-dom-paymentdetailsupdate-7"><code>PaymentDetailsUpdate</code></a> 表明没有有效的 <a
                        data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                        id="ref-for-dom-paymentdetailsbase-shippingoptions-6"><code>shippingOptions</code></a>（并且 <a
                        data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-25"><code>PaymentRequest</code></a> 是使用 <a data-link-type="idl"
                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-5"><code>requestShipping</code></a> 选项设置为 true
                    构造的），则 <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                        class="internalDFN"
                        id="ref-for-dom-paymentdetailsupdate-6"><code>PaymentDetailsUpdate</code></a> 可以在
                    <a data-link-type="idl" href="#dom-paymentdetailsupdate-error" class="internalDFN"
                        id="ref-for-dom-paymentdetailsupdate-error-2"><code>error</code></a> 成员中包含一条消息，该消息将显示给用户。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-total" data-idl="field"
                        data-title="total" data-dfn-for="PaymentDetailsUpdate" data-type="PaymentItem" tabindex="0"
                        aria-haspopup="dialog"><code>total</code></dfn> 成员
                </dt>
                <dd>
                    一个 <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                        id="ref-for-dom-paymentitem-6"><code>PaymentItem</code></a>，包含一个非负的 <a data-link-type="idl"
                        href="#dom-paymentitem-amount" class="internalDFN"
                        id="ref-for-dom-paymentitem-amount-7"><code>amount</code></a>。
                    <div class="note" role="note" id="issue-container-generatedID-19">
                        <div role="heading" class="note-title marker" id="h-note-19" aria-level="4"><span>注意</span>
                        </div>
                        <p class="">
                            本规范中接受
                            <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-8"><code>PaymentDetailsUpdate</code></a> 字典的算法将在
                            <a data-link-type="idl" href="#dom-paymentdetailsupdate-total" class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-total-2"><code>total</code></a>.<a
                                data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                id="ref-for-dom-paymentitem-amount-8"><code>amount</code></a>.<a data-link-type="idl"
                                href="#dom-paymentcurrencyamount-value" class="internalDFN"
                                id="ref-for-dom-paymentcurrencyamount-value-6"><code>value</code></a>
                            为负数时抛出异常。
                        </p>
                    </div>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-shippingaddresserrors"
                        data-idl="field" data-title="shippingAddressErrors" data-dfn-for="PaymentDetailsUpdate"
                        data-type="AddressErrors" tabindex="0"
                        aria-haspopup="dialog"><code>shippingAddressErrors</code></dfn> 成员
                </dt>
                <dd>
                    表示与<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#potential-event-target">潜在事件目标</a>关联的送货地址的验证错误。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-payererrors"
                        data-idl="field" data-title="payerErrors" data-dfn-for="PaymentDetailsUpdate"
                        data-type="PayerErrors" tabindex="0" aria-haspopup="dialog"><code>payerErrors</code></dfn>
                    成员
                </dt>
                <dd>
                    与<a href="#dfn-payer-details" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payer-details-1">付款人详细信息</a>相关的验证错误。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-paymentmethoderrors"
                        data-idl="field" data-title="paymentMethodErrors" data-dfn-for="PaymentDetailsUpdate"
                        data-type="object" tabindex="0" aria-haspopup="dialog"><code>paymentMethodErrors</code></dfn>
                    成员
                </dt>
                <dd>
                    <p>
                        <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-method-15">支付方式</a>特定错误。
                    </p>
                </dd>
            </dl>
        </section>
    </section>
    <section data-dfn-for="PaymentDetailsModifier" id="paymentdetailsmodifier-dictionary">
        <div class="header-wrapper">
            <h2 id="x7-paymentdetailsmodifier-dictionary"><bdi class="secno">7. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentdetailsmodifier" data-idl="dictionary"
                    data-title="PaymentDetailsModifier" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentDetailsModifier</code></dfn> 字典
            </h2><a class="self-link" href="#paymentdetailsmodifier-dictionary" aria-label="章节 7 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-1242509167"><span class="idlHeader"><a class="self-link" href="#webidl-1242509167">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentdetailsmodifier" data-title="PaymentDetailsModifier">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsmodifier" id="ref-for-dom-paymentdetailsmodifier-5"><code>PaymentDetailsModifier</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentdetailsmodifier-supportedmethods" data-title="supportedMethods" data-dfn-for="PaymentDetailsModifier">
    required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-supportedmethods" id="ref-for-dom-paymentdetailsmodifier-supportedmethods-2"><code>supportedMethods</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsmodifier-total" data-title="total" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
    <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-7"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-total" id="ref-for-dom-paymentdetailsmodifier-total-3"><code>total</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsmodifier-additionaldisplayitems" data-title="additionalDisplayItems" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-8"><code>PaymentItem</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-additionaldisplayitems" id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-3"><code>additionalDisplayItems</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsmodifier-data" data-title="data" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-data" id="ref-for-dom-paymentdetailsmodifier-data-6"><code>data</code></a>;</span>
};</span></code></pre>
        <p>
            <a data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                class="internalDFN" id="ref-for-dom-paymentdetailsmodifier-6"><code>PaymentDetailsModifier</code></a>
            字典提供了根据<a data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>修改 <a
                data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase" class="internalDFN"
                id="ref-for-dom-paymentdetailsbase-7"><code>PaymentDetailsBase</code></a> 的详细信息。
            它包含以下成员：
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsmodifier-supportedmethods"
                    data-idl="field" data-title="supportedMethods" data-dfn-for="PaymentDetailsModifier"
                    data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>supportedMethods</code></dfn> 成员
            </dt>
            <dd>
                一个<a data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>。
                <a data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                    class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-7"><code>PaymentDetailsModifier</code></a> 的成员仅在用户选择此<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-16">支付方式</a>时适用。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsmodifier-total" data-idl="field"
                    data-title="total" data-dfn-for="PaymentDetailsModifier" data-type="PaymentItem" tabindex="0"
                    aria-haspopup="dialog"><code>total</code></dfn> 成员
            </dt>
            <dd>
                一个 <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                    id="ref-for-dom-paymentitem-9"><code>PaymentItem</code></a> 值，它会覆盖 <a href="#dom-paymentdetailsinit"
                    class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentdetailsinit-8"><code>PaymentDetailsInit</code></a> 字典中针对
                <a data-link-type="idl" href="#dom-paymentdetailsmodifier-supportedmethods" class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-supportedmethods-3"><code>supportedMethods</code></a> 成员的<a
                    data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>的 <a
                    data-link-type="idl" href="#dom-paymentdetailsinit-total" class="internalDFN"
                    id="ref-for-dom-paymentdetailsinit-total-6"><code>total</code></a> 成员。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsmodifier-additionaldisplayitems"
                    data-idl="field" data-title="additionalDisplayItems" data-dfn-for="PaymentDetailsModifier"
                    data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>additionalDisplayItems</code></dfn>
                成员
            </dt>
            <dd>
                一个 <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                    id="ref-for-dom-paymentitem-10"><code>PaymentItem</code></a> 字典序列，提供附加的显示项目，这些项目将附加到
                <a data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase" class="internalDFN"
                    id="ref-for-dom-paymentdetailsbase-8"><code>PaymentDetailsBase</code></a> 字典中的
                <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                    id="ref-for-dom-paymentdetailsbase-displayitems-4"><code>displayItems</code></a> 成员，用于 <a
                    data-link-type="idl" href="#dom-paymentdetailsmodifier-supportedmethods" class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-supportedmethods-4"><code>supportedMethods</code></a> 成员中的<a
                    data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>。此成员通常用于添加折扣或附加费行项目，以指示所选<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-17">支付方式</a>的不同<a data-link-type="idl"
                    href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-total-4"><code>total</code></a>金额的原因，用户代理<em
                    class="rfc2119">可以</em>显示这些项目。
                <div class="note" role="note" id="issue-container-generatedID-20">
                    <div role="heading" class="note-title marker" id="h-note-20" aria-level="3"><span>注意</span></div>
                    <p class="">
                        开发者有责任验证
                        <a data-link-type="idl" href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                            id="ref-for-dom-paymentdetailsmodifier-total-5"><code>total</code></a> 金额是
                        <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                            id="ref-for-dom-paymentdetailsbase-displayitems-5"><code>displayItems</code></a> 和
                        <a data-link-type="idl" href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                            class="internalDFN"
                            id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-4"><code>additionalDisplayItems</code></a>
                        的总和。
                    </p>
                </div>
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsmodifier-data" data-idl="field"
                    data-title="data" data-dfn-for="PaymentDetailsModifier" data-type="object" tabindex="0"
                    aria-haspopup="dialog"><code>data</code></dfn> 成员
            </dt>
            <dd>
                一个对象，提供受支持的支付方式可能需要的可选信息。如果提供，它将被<a data-link-type="dfn"
                    data-lt="serialize a JavaScript value to a JSON string"
                    href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">序列化</a>。
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentShippingType" id="paymentshippingtype-enum">
        <div class="header-wrapper">
            <h2 id="x8-paymentshippingtype-enum"><bdi class="secno">8. </bdi>
                <dfn data-export="" data-dfn-type="enum" id="dom-paymentshippingtype" data-idl="enum"
                    data-title="PaymentShippingType" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentShippingType</code></dfn> 枚举
            </h2><a class="self-link" href="#paymentshippingtype-enum" aria-label="章节 8 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-119612894"><span class="idlHeader"><a class="self-link" href="#webidl-119612894">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-paymentshippingtype" data-title="PaymentShippingType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paymentshippingtype" id="ref-for-dom-paymentshippingtype-3"><code>PaymentShippingType</code></a> {
    <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-shipping" id="ref-for-dom-paymentshippingtype-shipping-1"><code>shipping</code></a>"</span>,
    <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-delivery" id="ref-for-dom-paymentshippingtype-delivery-1"><code>delivery</code></a>"</span>,
    <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-pickup" id="ref-for-dom-paymentshippingtype-pickup-1"><code>pickup</code></a>"</span>
};</span></code></pre>
        <dl>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentshippingtype-shipping"
                    data-idl="enum-value" data-title="shipping" data-dfn-for="PaymentShippingType" tabindex="0"
                    aria-haspopup="dialog"><code>shipping</code></dfn>"
            </dt>
            <dd>
                这是默认值，指的是收集的<a data-link-type="dfn" data-lt="physical address"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>作为<a
                    data-link-type="dfn|abstract-op" data-lt="shipping address" href="#dfn-shipping-address"
                    class="internalDFN" id="ref-for-dfn-shipping-address-1">配送</a>目的地。
            </dd>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentshippingtype-delivery"
                    data-idl="enum-value" data-title="delivery" data-dfn-for="PaymentShippingType" tabindex="0"
                    aria-haspopup="dialog"><code>delivery</code></dfn>"
            </dt>
            <dd>
                这指的是收集的<a data-link-type="dfn" data-lt="physical address"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>作为送货目的地。这通常比<a
                    data-link-type="dfn|abstract-op" data-lt="shipping address" href="#dfn-shipping-address"
                    class="internalDFN" id="ref-for-dfn-shipping-address-2">配送</a>更快。例如，它可以用于食品配送。
            </dd>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentshippingtype-pickup"
                    data-idl="enum-value" data-title="pickup" data-dfn-for="PaymentShippingType" tabindex="0"
                    aria-haspopup="dialog"><code>pickup</code></dfn>"
            </dt>
            <dd>
                这指的是收集的<a data-link-type="dfn" data-lt="physical address"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>作为服务取件的一部分。例如，这可以是洗衣取件的地址。
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentOptions" id="paymentoptions-dictionary">
        <div class="header-wrapper">
            <h2 id="x9-paymentoptions-dictionary"><bdi class="secno">9. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentoptions" data-idl="dictionary"
                    data-title="PaymentOptions" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentOptions</code></dfn> 字典
            </h2><a class="self-link" href="#paymentoptions-dictionary" aria-label="章节 9 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-1552147530"><span class="idlHeader"><a class="self-link" href="#webidl-1552147530">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentoptions" data-title="PaymentOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentoptions" id="ref-for-dom-paymentoptions-7"><code>PaymentOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestpayername" data-title="requestPayerName" data-dfn-for="PaymentOptions"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayername" id="ref-for-dom-paymentoptions-requestpayername-1"><code>requestPayerName</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestbillingaddress" data-title="requestBillingAddress" data-dfn-for="PaymentOptions"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestbillingaddress" id="ref-for-dom-paymentoptions-requestbillingaddress-1"><code>requestBillingAddress</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestpayeremail" data-title="requestPayerEmail" data-dfn-for="PaymentOptions"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayeremail" id="ref-for-dom-paymentoptions-requestpayeremail-1"><code>requestPayerEmail</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestpayerphone" data-title="requestPayerPhone" data-dfn-for="PaymentOptions"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayerphone" id="ref-for-dom-paymentoptions-requestpayerphone-1"><code>requestPayerPhone</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestshipping" data-title="requestShipping" data-dfn-for="PaymentOptions"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestshipping" id="ref-for-dom-paymentoptions-requestshipping-6"><code>requestShipping</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-shippingtype" data-title="shippingType" data-dfn-for="PaymentOptions"><span class="idlType">
    <a data-link-type="idl" href="#dom-paymentshippingtype" class="internalDFN" id="ref-for-dom-paymentshippingtype-4"><code>PaymentShippingType</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-shippingtype" id="ref-for-dom-paymentoptions-shippingtype-3"><code>shippingType</code></a> = "shipping";</span>
};</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID-21">
            <div role="heading" class="note-title marker" id="h-note-21" aria-level="3"><span>注意</span></div>
            <p class="">
                <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-8"><code>PaymentOptions</code></a> 字典被传递给 <a data-link-type="idl"
                    data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-26"><code>PaymentRequest</code></a>
                构造函数，并提供有关支付请求所需选项的信息。
            </p>
        </div>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestbillingaddress"
                    data-idl="field" data-title="requestBillingAddress" data-dfn-for="PaymentOptions"
                    data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>requestBillingAddress</code></dfn>
                成员
            </dt>
            <dd>
                一个布尔值，指示<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-15">用户代理</a><em class="rfc2119">是否应该</em>收集并返回与<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-18">支付方式</a>关联的<a data-link-type="dfn|abstract-op"
                    href="#dfn-billing-address" class="internalDFN"
                    id="ref-for-dfn-billing-address-1">账单地址</a>（例如，与信用卡关联的账单地址）。通常，用户代理会将账单地址作为 <a data-link-type="idl"
                    data-lt="PaymentMethodChangeEvent" href="#dom-paymentmethodchangeevent" class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-2"><code>PaymentMethodChangeEvent</code></a> 的 <a
                    data-link-type="idl" href="#dom-paymentmethodchangeevent-methoddetails" class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-methoddetails-1"><code>methodDetails</code></a>
                的一部分返回。商家可以使用此信息（例如）在某些司法管辖区计算税款并更新显示的总额。有关<a href="#user-info">公开用户信息</a>的隐私注意事项，请参见下文。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestpayername"
                    data-idl="field" data-title="requestPayerName" data-dfn-for="PaymentOptions" data-type="boolean"
                    tabindex="0" aria-haspopup="dialog"><code>requestPayerName</code></dfn> 成员
            </dt>
            <dd>
                一个布尔值，指示<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-16">用户代理</a><em class="rfc2119">是否应该</em>收集并返回付款人的姓名作为支付请求的一部分。例如，将其设置为
                true 以允许商家以付款人的名义进行预订。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestpayeremail"
                    data-idl="field" data-title="requestPayerEmail" data-dfn-for="PaymentOptions" data-type="boolean"
                    tabindex="0" aria-haspopup="dialog"><code>requestPayerEmail</code></dfn> 成员
            </dt>
            <dd>
                一个布尔值，指示<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-17">用户代理</a><em
                    class="rfc2119">是否应该</em>收集并返回付款人的电子邮件地址作为支付请求的一部分。例如，将其设置为 true 以允许商家通过电子邮件发送收据。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestpayerphone"
                    data-idl="field" data-title="requestPayerPhone" data-dfn-for="PaymentOptions" data-type="boolean"
                    tabindex="0" aria-haspopup="dialog"><code>requestPayerPhone</code></dfn> 成员
            </dt>
            <dd>
                一个布尔值，指示<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-18">用户代理</a><em class="rfc2119">是否应该</em>收集并返回付款人的电话号码作为支付请求的一部分。例如，将其设置为
                true 以允许商家致电客户进行账单查询。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestshipping" data-idl="field"
                    data-title="requestShipping" data-dfn-for="PaymentOptions" data-type="boolean" tabindex="0"
                    aria-haspopup="dialog"><code>requestShipping</code></dfn> 成员
            </dt>
            <dd>
                一个布尔值，指示<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-19">用户代理</a><em class="rfc2119">是否应该</em>收集并返回<a
                    data-link-type="dfn|abstract-op" href="#dfn-shipping-address" class="internalDFN"
                    id="ref-for-dfn-shipping-address-3">送货地址</a>作为支付请求的一部分。例如，当商家需要将实体商品运送给用户时，将其设置为 true。对于购买数字商品，将其设置为
                false。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-shippingtype" data-idl="field"
                    data-title="shippingType" data-dfn-for="PaymentOptions" data-type="PaymentShippingType" tabindex="0"
                    aria-haspopup="dialog"><code>shippingType</code></dfn> 成员
            </dt>
            <dd>
                一个 <a data-link-type="idl" data-lt="PaymentShippingType" href="#dom-paymentshippingtype"
                    class="internalDFN" id="ref-for-dom-paymentshippingtype-5"><code>PaymentShippingType</code></a>
                枚举值。某些交易需要<a data-link-type="dfn" data-lt="physical address"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>进行交付，但术语“配送”并不合适。例如，“披萨外送”而不是“披萨配送”，“洗衣取件”而不是“洗衣配送”。如果将
                <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestshipping-7"><code>requestShipping</code></a> 设置为 true，则 <a
                    data-link-type="idl" href="#dom-paymentoptions-shippingtype" class="internalDFN"
                    id="ref-for-dom-paymentoptions-shippingtype-4"><code>shippingType</code></a> 成员会影响<a
                    href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-20">用户代理</a>呈现用于收集送货地址的用户界面的方式。
                <p>
                    <a data-link-type="idl" href="#dom-paymentoptions-shippingtype" class="internalDFN"
                        id="ref-for-dom-paymentoptions-shippingtype-5"><code>shippingType</code></a> 成员仅影响支付请求的用户界面。
                </p>
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentItem" id="paymentitem-dictionary">
        <div class="header-wrapper">
            <h2 id="x10-paymentitem-dictionary"><bdi class="secno">10. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentitem" data-idl="dictionary"
                    data-title="PaymentItem" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentItem</code></dfn> 字典
            </h2><a class="self-link" href="#paymentitem-dictionary" aria-label="章节 10 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-1435887180"><span class="idlHeader"><a class="self-link" href="#webidl-1435887180">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentitem" data-title="PaymentItem">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentitem" id="ref-for-dom-paymentitem-11"><code>PaymentItem</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentitem-label" data-title="label" data-dfn-for="PaymentItem">
    required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-label" id="ref-for-dom-paymentitem-label-1"><code>label</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentitem-amount" data-title="amount" data-dfn-for="PaymentItem">
    required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcurrencyamount" class="internalDFN" id="ref-for-dom-paymentcurrencyamount-5"><code>PaymentCurrencyAmount</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-amount" id="ref-for-dom-paymentitem-amount-9"><code>amount</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentitem-pending" data-title="pending" data-dfn-for="PaymentItem"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-pending" id="ref-for-dom-paymentitem-pending-1"><code>pending</code></a> = false;</span>
};</span></code></pre>
        <p>
            一个或多个 <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                id="ref-for-dom-paymentitem-12"><code>PaymentItem</code></a> 字典的序列包含在
            <a data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase" class="internalDFN"
                id="ref-for-dom-paymentdetailsbase-9"><code>PaymentDetailsBase</code></a> 字典中，以指示支付请求的内容和请求的金额。
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentitem-label" data-idl="field"
                    data-title="label" data-dfn-for="PaymentItem" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>label</code></dfn> 成员
            </dt>
            <dd>
                项目的人类可读描述。<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-21">用户代理</a>可能会向用户显示此描述。
                <div class="note" role="note" id="issue-container-generatedID-22">
                    <div role="heading" class="note-title marker" id="h-note-22" aria-level="3"><span>注意</span><span
                            class="issue-label">: 标签的国际化</span></div>
                    <aside class="">
                        <p>
                            <a data-link-type="idl" href="#dom-paymentitem-label" class="internalDFN"
                                id="ref-for-dom-paymentitem-label-2"><code>label</code></a>
                            的语言和方向通常可以从文档继承的信息中确定。但是，这种方法可能不适用于某些用例。工作组打算在未来版本中通过与正在开发的 Web 通用方法保持一致来解决此问题。
                        </p>
                    </aside>
                </div>
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentitem-amount" data-idl="field"
                    data-title="amount" data-dfn-for="PaymentItem" data-type="PaymentCurrencyAmount" tabindex="0"
                    aria-haspopup="dialog"><code>amount</code></dfn> 成员
            </dt>
            <dd>
                一个 <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                    class="internalDFN"
                    id="ref-for-dom-paymentcurrencyamount-6"><code>PaymentCurrencyAmount</code></a>，包含项目的货币金额。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentitem-pending" data-idl="field"
                    data-title="pending" data-dfn-for="PaymentItem" data-type="boolean" tabindex="0"
                    aria-haspopup="dialog"><code>pending</code></dfn> 成员
            </dt>
            <dd>
                一个布尔值。当设置为 true 时，表示 <a data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                    id="ref-for-dom-paymentitem-amount-10"><code>amount</code></a>
                成员不是最终值。这通常用于显示诸如运费或税额之类的项目，这些项目取决于送货地址或送货选项的选择。<a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-22">用户代理</a><em
                    class="rfc2119">可以</em>在支付请求的用户界面中指示待处理字段。
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentCompleteDetails" id="paymentcompletedetails-dictionary">
        <div class="header-wrapper">
            <h2 id="x11-paymentcompletedetails-dictionary"><bdi class="secno">11. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentcompletedetails" data-idl="dictionary"
                    data-title="PaymentCompleteDetails" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentCompleteDetails</code></dfn> 字典
            </h2><a class="self-link" href="#paymentcompletedetails-dictionary" aria-label="章节 11 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-1518429867"><span class="idlHeader"><a class="self-link" href="#webidl-1518429867">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentcompletedetails" data-title="PaymentCompleteDetails">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentcompletedetails" id="ref-for-dom-paymentcompletedetails-1"><code>PaymentCompleteDetails</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentcompletedetails-data" data-title="data" data-dfn-for="PaymentCompleteDetails"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcompletedetails-data" id="ref-for-dom-paymentcompletedetails-data-1"><code>data</code></a> = null;</span>
};</span></code></pre>
        <p>
            当支付请求完成时，<a data-link-type="idl" data-lt="PaymentCompleteDetails" href="#dom-paymentcompletedetails"
                class="internalDFN" id="ref-for-dom-paymentcompletedetails-2"><code>PaymentCompleteDetails</code></a>
            字典向支付处理程序提供来自商家网站的附加信息。
        </p>
        <p>
            <a data-link-type="idl" data-lt="PaymentCompleteDetails" href="#dom-paymentcompletedetails"
                class="internalDFN" id="ref-for-dom-paymentcompletedetails-3"><code>PaymentCompleteDetails</code></a>
            字典包含以下成员：
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentcompletedetails-data" data-idl="field"
                    data-title="data" data-dfn-for="PaymentCompleteDetails" data-type="object" tabindex="0"
                    aria-haspopup="dialog"><code>data</code></dfn> 成员
            </dt>
            <dd>
                一个对象，提供 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                    class="internalDFN" id="ref-for-dom-paymentresponse-6"><code>PaymentResponse</code></a> 关联的<a
                    data-link-type="dfn|abstract-op" href="#dfn-payment-method" class="internalDFN"
                    id="ref-for-dfn-payment-method-19">支付方式</a>可能需要的可选信息。如果提供，它将被<a data-link-type="dfn"
                    data-lt="serialize a JavaScript value to a JSON string"
                    href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">序列化</a>。
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentComplete" id="paymentcomplete-enum">
        <div class="header-wrapper">
            <h2 id="x12-paymentcomplete-enum"><bdi class="secno">12. </bdi>
                <dfn data-export="" data-dfn-type="enum" id="dom-paymentcomplete" data-idl="enum"
                    data-title="PaymentComplete" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentComplete</code></dfn> 枚举
            </h2><a class="self-link" href="#paymentcomplete-enum" aria-label="章节 12 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-1223986974"><span class="idlHeader"><a class="self-link" href="#webidl-1223986974">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-paymentcomplete" data-title="PaymentComplete">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paymentcomplete" id="ref-for-dom-paymentcomplete-1"><code>PaymentComplete</code></a> {
    <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-fail" id="ref-for-dom-paymentcomplete-fail-1"><code>fail</code></a>"</span>,
    <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-success" id="ref-for-dom-paymentcomplete-success-1"><code>success</code></a>"</span>,
    <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-unknown" id="ref-for-dom-paymentcomplete-unknown-1"><code>unknown</code></a>"</span>
};</span></code></pre>
        <dl>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentcomplete-fail" data-idl="enum-value"
                    data-title="fail" data-dfn-for="PaymentComplete" tabindex="0"
                    aria-haspopup="dialog"><code>fail</code></dfn>"
            </dt>
            <dd>
                表示支付处理失败。<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-23">用户代理</a><em class="rfc2119">可以</em>显示指示失败的 UI。
            </dd>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentcomplete-success" data-idl="enum-value"
                    data-title="success" data-dfn-for="PaymentComplete" tabindex="0"
                    aria-haspopup="dialog"><code>success</code></dfn>"
            </dt>
            <dd>
                表示支付已成功处理。<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-24">用户代理</a><em class="rfc2119">可以</em>显示指示成功的 UI。
            </dd>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentcomplete-unknown" data-idl="enum-value"
                    data-title="unknown" data-dfn-for="PaymentComplete" tabindex="0"
                    aria-haspopup="dialog"><code>unknown</code></dfn>"
            </dt>
            <dd>
                开发者未指示成功或失败，<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-25">用户代理</a><em class="rfc2119">不应</em>显示指示成功或失败的 UI。
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentShippingOption" id="paymentshippingoption-dictionary">
        <div class="header-wrapper">
            <h2 id="x13-paymentshippingoption-dictionary"><bdi class="secno">13. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentshippingoption" data-idl="dictionary"
                    data-title="PaymentShippingOption" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentShippingOption</code></dfn> 字典
            </h2><a class="self-link" href="#paymentshippingoption-dictionary" aria-label="章节 13 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-1340523886"><span class="idlHeader"><a class="self-link" href="#webidl-1340523886">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentshippingoption" data-title="PaymentShippingOption">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentshippingoption" id="ref-for-dom-paymentshippingoption-3"><code>PaymentShippingOption</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentshippingoption-id" data-title="id" data-dfn-for="PaymentShippingOption">
    required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-id" id="ref-for-dom-paymentshippingoption-id-5"><code>id</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentshippingoption-label" data-title="label" data-dfn-for="PaymentShippingOption">
    required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-label" id="ref-for-dom-paymentshippingoption-label-1"><code>label</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentshippingoption-amount" data-title="amount" data-dfn-for="PaymentShippingOption">
    required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcurrencyamount" class="internalDFN" id="ref-for-dom-paymentcurrencyamount-7"><code>PaymentCurrencyAmount</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-amount" id="ref-for-dom-paymentshippingoption-amount-1"><code>amount</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentshippingoption-selected" data-title="selected" data-dfn-for="PaymentShippingOption"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-selected" id="ref-for-dom-paymentshippingoption-selected-5"><code>selected</code></a> = false;</span>
};</span></code></pre>
        <p>
            <a data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                class="internalDFN" id="ref-for-dom-paymentshippingoption-4"><code>PaymentShippingOption</code></a>
            字典包含描述送货选项的成员。开发者可以通过在响应更改事件时调用 <a data-link-type="idl" data-lt="updateWith()"
                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                id="ref-for-dom-paymentrequestupdateevent-updatewith-5"><code>updateWith</code></a><code>()</code>
            方法，向用户提供一个或多个送货选项。
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentshippingoption-id" data-idl="field"
                    data-title="id" data-dfn-for="PaymentShippingOption" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>id</code></dfn> 成员
            </dt>
            <dd>
                用于引用此 <a data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                    class="internalDFN" id="ref-for-dom-paymentshippingoption-5"><code>PaymentShippingOption</code></a>
                的字符串标识符。对于给定的 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-27"><code>PaymentRequest</code></a>，它<em
                    class="rfc2119">必须</em>是唯一的。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentshippingoption-label" data-idl="field"
                    data-title="label" data-dfn-for="PaymentShippingOption" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>label</code></dfn> 成员
            </dt>
            <dd>
                项目的人类可读字符串描述。<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-26">用户代理</a><em class="rfc2119">应该</em>使用此字符串向用户显示送货选项。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentshippingoption-amount" data-idl="field"
                    data-title="amount" data-dfn-for="PaymentShippingOption" data-type="PaymentCurrencyAmount"
                    tabindex="0" aria-haspopup="dialog"><code>amount</code></dfn> 成员
            </dt>
            <dd>
                一个 <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                    class="internalDFN"
                    id="ref-for-dom-paymentcurrencyamount-8"><code>PaymentCurrencyAmount</code></a>，包含项目的货币金额。
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentshippingoption-selected" data-idl="field"
                    data-title="selected" data-dfn-for="PaymentShippingOption" data-type="boolean" tabindex="0"
                    aria-haspopup="dialog"><code>selected</code></dfn> 成员
            </dt>
            <dd>
                一个布尔值。当为 true 时，表示这是序列中默认选定的 <a data-link-type="idl" data-lt="PaymentShippingOption"
                    href="#dom-paymentshippingoption" class="internalDFN"
                    id="ref-for-dom-paymentshippingoption-6"><code>PaymentShippingOption</code></a>。<a
                    href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-27">用户代理</a><em class="rfc2119">应该</em>在用户界面中默认显示此选项。
            </dd>
        </dl>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开 PaymentResponse 的 MDN 详细信息"><span>MDN</span><span title="此特性已在所有主流引擎中实现。">✅</span>
            </summary>
            <a title="Payment Request API 的 PaymentResponse 接口在用户选择支付方式并批准支付请求后返回。"
                href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentResponse">PaymentResponse</a>
            <p class="engines-all">此特性已在所有主流引擎中实现。</p>
            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>60+</td>
                </tr>
                <tr class="chrome_android yes">
                    <td>Chrome Android</td>
                    <td>53+</td>
                </tr>
                <tr class="edge yes">
                    <td>Edge</td>
                    <td>15+</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>55+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari yes">
                    <td>Safari</td>
                    <td>11.1+</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android no">
                    <td>WebView Android</td>
                    <td>否</td>
                </tr>
            </table>
        </details>
    </aside>
    <section data-dfn-for="PaymentResponse" id="paymentresponse-interface">
        <div class="header-wrapper">
            <h2 id="x14-paymentresponse-interface"><bdi class="secno">14. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-paymentresponse" data-idl="interface"
                    data-title="PaymentResponse" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentResponse</code></dfn> 接口
            </h2><a class="self-link" href="#paymentresponse-interface" aria-label="章节 14 的永久链接。"></a>
        </div>

        <pre class="idl def" id="webidl-2136333605"><span class="idlHeader"><a class="self-link" href="#webidl-2136333605">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-paymentresponse" data-title="PaymentResponse">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentresponse" id="ref-for-dom-paymentresponse-7"><code>PaymentResponse</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span>  {<span data-idl="" class="idlMethod" id="idl-def-paymentresponse-tojson" data-title="toJSON" data-dfn-for="PaymentResponse">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default">Default</a></span>]<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a data-link-type="dfn" data-lt="default toJSON steps" class="idlName" href="https://webidl.spec.whatwg.org/#default-tojson-steps">toJSON</a>();</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-requestid" data-title="requestId" data-dfn-for="PaymentResponse">

  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-requestid" id="ref-for-dom-paymentresponse-requestid-1"><code>requestId</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-methodname" data-title="methodName" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-methodname" id="ref-for-dom-paymentresponse-methodname-1"><code>methodName</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-details" data-title="details" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-details" id="ref-for-dom-paymentresponse-details-1"><code>details</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-shippingaddress" data-title="shippingAddress" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://www.w3.org/TR/contact-picker/#contactaddress">ContactAddress</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-shippingaddress" id="ref-for-dom-paymentresponse-shippingaddress-1"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-shippingoption" data-title="shippingOption" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-shippingoption" id="ref-for-dom-paymentresponse-shippingoption-1"><code>shippingOption</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-payername" data-title="payerName" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payername" id="ref-for-dom-paymentresponse-payername-1"><code>payerName</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-payeremail" data-title="payerEmail" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payeremail" id="ref-for-dom-paymentresponse-payeremail-1"><code>payerEmail</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-payerphone" data-title="payerPhone" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payerphone" id="ref-for-dom-paymentresponse-payerphone-1"><code>payerPhone</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-paymentresponse-complete-result-details" data-title="complete" data-dfn-for="PaymentResponse">

  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentresponse-complete" id="ref-for-dom-paymentresponse-complete-1"><code>complete</code></a>(
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcomplete" class="internalDFN" id="ref-for-dom-paymentcomplete-2"><code>PaymentComplete</code></a></span> <span class="idlParamName">result</span> = "unknown",
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcompletedetails" class="internalDFN" id="ref-for-dom-paymentcompletedetails-4"><code>PaymentCompleteDetails</code></a></span> <span class="idlParamName">details</span> = {}
  );</span><span data-idl="" class="idlMethod" id="idl-def-paymentresponse-retry-errorfields" data-title="retry" data-dfn-for="PaymentResponse">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentresponse-retry" id="ref-for-dom-paymentresponse-retry-1"><code>retry</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentvalidationerrors" class="internalDFN" id="ref-for-dom-paymentvalidationerrors-1"><code>PaymentValidationErrors</code></a></span> <span class="idlParamName">errorFields</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-onpayerdetailchange" data-title="onpayerdetailchange" data-dfn-for="PaymentResponse">

  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-onpayerdetailchange" id="ref-for-dom-paymentresponse-onpayerdetailchange-1"><code>onpayerdetailchange</code></a>;</span>
};</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID-23">
            <div role="heading" class="note-title marker" id="h-note-23" aria-level="3"><span>注意</span></div>
            <p class="">
                当用户选择了支付方式并批准了支付请求后，会返回一个 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                    class="internalDFN" id="ref-for-dom-paymentresponse-8"><code>PaymentResponse</code></a>。
            </p>
        </div>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 retry 的 MDN 详细信息"><span>MDN</span><span title="此特性已在所有主流引擎中实现。">✅</span>
                </summary>
                <a title="PaymentResponse 接口的 retry() 方法可以在处理过程中发生错误后，请求用户重试支付。"
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentResponse/retry">PaymentResponse/retry</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>78+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>47+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>43+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>11.3+</td>
                    </tr>
                    <tr class="samsunginternet_android yes">
                        <td>Samsung Internet</td>
                        <td>10.0+</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="retry-method">
            <div class="header-wrapper">
                <h3 id="x14-1-retry-method"><bdi class="secno">14.1 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentresponse-retry" data-idl="operation"
                        data-title="retry()" data-dfn-for="PaymentResponse" data-type="Promise"
                        data-lt="retry()|retry(errorFields)"
                        data-local-lt="PaymentResponse.retry|PaymentResponse.retry()|retry" tabindex="0"
                        aria-haspopup="dialog"><code>retry()</code></dfn> 方法
                </h3><a class="self-link" href="#retry-method" aria-label="章节 14.1 的永久链接"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-24">
                <div role="heading" class="note-title marker" id="h-note-24" aria-level="4"><span>注意</span></div>
                <aside class="">
                    <p>
                        如果发现 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-9"><code>PaymentResponse</code></a>
                        有误（例如，支付工具已过期或送货信息无效），则
                        <a data-link-type="idl" data-lt="retry()" href="#dom-paymentresponse-retry" class="internalDFN"
                            id="ref-for-dom-paymentresponse-retry-2"><code>retry</code></a><code>()</code>
                        方法允许最终用户修复输入错误并尝试让商家再次处理付款。传递的 <a data-link-type="idl" data-lt="PaymentValidationErrors"
                            href="#dom-paymentvalidationerrors" class="internalDFN"
                            id="ref-for-dom-paymentvalidationerrors-2"><code>PaymentValidationErrors</code></a> 作为提示，指示
                        <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-10"><code>PaymentResponse</code></a>
                        中发生输入错误的位置，最终用户需要更正这些错误。
                    </p>
                    <p>
                        但是，最终用户在检查
                        <a data-link-type="idl" data-lt="PaymentValidationErrors" href="#dom-paymentvalidationerrors"
                            class="internalDFN"
                            id="ref-for-dom-paymentvalidationerrors-3"><code>PaymentValidationErrors</code></a> 后，可能会决定为
                        <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-11"><code>PaymentResponse</code></a>
                        提供一组全新的值。例如，用户可能会切换到完全不同的支付工具和/或提供完全不同的送货地址。
                    </p>
                    <p>
                        因此，一旦 <a data-link-type="attribute" data-lt="[[retryPromise]]" href="#dfn-retrypromise"
                            class="internalDFN" id="ref-for-dfn-retrypromise-2"><code>[[retryPromise]]</code></a>
                        解决，商家需要准备好完全重新验证
                        <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-12"><code>PaymentResponse</code></a>。
                    </p>
                    <p>
                        最后，由于 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-13"><code>PaymentResponse</code></a> 通过
                        <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                            id="ref-for-dom-paymentrequest-28"><code>PaymentRequest</code></a> 与特定的<a
                            data-link-type="dfn|abstract-op" href="#dfn-payment-handler" class="internalDFN"
                            id="ref-for-dfn-payment-handler-8">支付处理程序</a>固有地绑定在一起，因此最终用户在 <a data-link-type="idl"
                            data-lt="retry()" href="#dom-paymentresponse-retry" class="internalDFN"
                            id="ref-for-dom-paymentresponse-retry-3"><code>retry</code></a><code>()</code> 期间无法切换到不同的<a
                            data-link-type="dfn|abstract-op" href="#dfn-payment-handler" class="internalDFN"
                            id="ref-for-dfn-payment-handler-9">支付处理程序</a>。
                    </p>
                </aside>
            </div>
            <p data-tests="payment-response/retry-method-manual.https.html">
                <code>retry(<var data-type="PaymentValidationErrors">errorFields</var>)</code> 方法<em
                    class="rfc2119">必须</em>按以下方式操作：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentResponse">response</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>。
                </li>
                <li>令 <var data-type="PaymentRequest">request</var> 为
                    <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute" data-lt="[[request]]"
                        href="#dfn-request" class="internalDFN" id="ref-for-dfn-request-1"><code>[[request]]</code></a>。
                </li>
                <li>令 <var data-type="Document">document</var> 为 <var data-type="PaymentRequest">request</var> 的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联
                        <code>Document</code></a>。
                </li>
                <li data-tests="payment-response/rejects_if_not_active-manual.https.html">如果
                    <var data-type="Document">document</var> 不是<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全激活</a>状态，则返回<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的
                        promise</a>，并带有 "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>如果 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                        id="ref-for-dfn-complete-1"><code>[[complete]]</code></a> 为 true，则返回<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise</a>，并带有 "<a
                        data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>如果 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-3"><code>[[retryPromise]]</code></a> 不为 null，则返回<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的
                        promise</a>，并带有 "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-10"><code>[[state]]</code></a> 设置为
                    "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-4">interactive</a>"。
                </li>
                <li>令 <var data-type="Promise">retryPromise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">一个新的 promise</a>。
                </li>
                <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-4"><code>[[retryPromise]]</code></a> 设置为
                    <var data-type="Promise">retryPromise</var>。
                </li>
                <li>如果传递了 <var data-type="PaymentValidationErrors">errorFields</var>：
                    <ol>
                        <li>可选地，如果以下任一情况为 true，则在开发者控制台中显示警告：
                            <ol>
                                <li>
                                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-2"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestpayername" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestpayername-2"><code>requestPayerName</code></a>
                                    为 false，且
                                    <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                        href="#dom-paymentvalidationerrors-payer" class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-payer-1"><code>payer</code></a>.<a
                                        data-link-type="idl" href="#dom-payererrors-name" class="internalDFN"
                                        id="ref-for-dom-payererrors-name-1"><code>name</code></a> 存在。
                                </li>
                                <li>
                                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-3"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestpayeremail" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestpayeremail-2"><code>requestPayerEmail</code></a>
                                    为 false，且
                                    <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                        href="#dom-paymentvalidationerrors-payer" class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-payer-2"><code>payer</code></a>.<a
                                        data-link-type="idl" href="#dom-payererrors-email" class="internalDFN"
                                        id="ref-for-dom-payererrors-email-1"><code>email</code></a> 存在。
                                </li>
                                <li>
                                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-4"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestpayerphone" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestpayerphone-2"><code>requestPayerPhone</code></a>
                                    为 false，且
                                    <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                        href="#dom-paymentvalidationerrors-payer" class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-payer-3"><code>payer</code></a>.<a
                                        data-link-type="idl" href="#dom-payererrors-phone" class="internalDFN"
                                        id="ref-for-dom-payererrors-phone-1"><code>phone</code></a> 存在。
                                </li>
                                <li>
                                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-5"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestshipping-8"><code>requestShipping</code></a>
                                    为 false，且
                                    <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                        href="#dom-paymentvalidationerrors-shippingaddress" class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-shippingaddress-1"><code>shippingAddress</code></a>
                                    存在。
                                </li>
                            </ol>
                        </li>
                        <li data-tests="PaymentValidationErrors/retry-shows-error-member-manual.https.html">
                            如果传递了 <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                href="#dom-paymentvalidationerrors-paymentmethod" class="internalDFN"
                                id="ref-for-dom-paymentvalidationerrors-paymentmethod-1"><code>paymentMethod</code></a>
                            成员，并且如果定义 <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                href="#dom-paymentresponse-methodname" class="internalDFN"
                                id="ref-for-dom-paymentresponse-methodname-2"><code>methodName</code></a> 的规范要求，则将 <var
                                data-type="PaymentValidationErrors">errorFields</var> 的 <a data-link-type="idl"
                                href="#dom-paymentvalidationerrors-paymentmethod" class="internalDFN"
                                id="ref-for-dom-paymentvalidationerrors-paymentmethod-2"><code>paymentMethod</code></a>
                            成员<a data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为</a>那里指定的类型的
                            IDL 值。否则，<a data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为</a> <a
                                data-link-type="interface" data-lt="object"
                                href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a>。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var> 的<a
                                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-6">支付相关浏览上下文</a>的<a
                                href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-7">支付请求正在显示</a>布尔值设置为 false。
                        </li>
                        <li>如果转换导致<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">异常</a>
                            <var>error</var>：
                            <ol>
                                <li>用 <var>error</var> 拒绝 <var data-type="Promise">retryPromise</var>。
                                </li>
                                <li>将<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-user-agent-28">用户代理</a>的<a
                                        href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-payment-request-is-showing-8">支付请求正在显示</a>布尔值设置为 false。
                                </li>
                                <li>返回。
                                </li>
                            </ol>
                        </li>
                        <li>通过将 <var data-type="PaymentValidationErrors">errorFields</var> 的成员与用户代理 UI
                            中的输入字段匹配，向最终用户指示支付响应的数据存在问题。例如，用户代理可能会在浏览器的 UI 中将用户的注意力吸引到错误的 <var
                                data-type="PaymentValidationErrors">errorFields</var>，并以有助于用户修复每个错误的方式显示每个字段的值。类似地，如果传递了
                            <a data-link-type="idl" href="#dom-paymentvalidationerrors-error" class="internalDFN"
                                id="ref-for-dom-paymentvalidationerrors-error-1"><code>error</code></a> 成员，则在用户代理的 UI
                            中显示错误。在成员的值为空字符串的情况下，用户代理<em class="rfc2119">可以</em>用适当的错误消息替换该值。
                        </li>
                    </ol>
                </li>
                <li>否则，如果未传递 <var
                        data-type="PaymentValidationErrors">errorFields</var>，则向最终用户发出信号以尝试重试支付。重新启用任何允许最终用户重试接受支付请求的 UI
                    元素。
                </li>
                <li>
                    <span data-tests="payment-response/rejects_if_not_active-manual.https.html">如果在显示用户界面时 <var
                            data-type="Document">document</var> 不再是<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全激活</a>状态，或者到达此步骤时不再是，则：</span>
                    <ol>
                        <li>关闭用户界面。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var> 的<a
                                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-7">支付相关浏览上下文</a>的<a
                                href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-9">支付请求正在显示</a>布尔值设置为 false。
                        </li>
                    </ol>
                </li>
                <li>最后，当 <var data-type="Promise">retryPromise</var> 解决时，将 <var
                        data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-5"><code>[[retryPromise]]</code></a> 设置为 null。
                </li>
                <li>返回 <var data-type="Promise">retryPromise</var>。
                    <div class="note" role="note" id="issue-container-generatedID-25">
                        <div role="heading" class="note-title marker" id="h-note-25" aria-level="4"><span>注意</span>
                        </div>
                        <p class="">
                            <var data-type="Promise">retryPromise</var> 稍后将由<a
                                href="#dfn-user-accepts-the-payment-request-algorithm" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-user-accepts-the-payment-request-algorithm-4">用户接受支付请求算法</a>解决，或由<a
                                href="#dfn-user-aborts-the-payment-request" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-aborts-the-payment-request-5">用户中止支付请求算法</a>或<a
                                href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-abort-the-update-1">中止更新</a>拒绝。
                        </p>
                    </div>
                </li>
            </ol>
            <section data-dfn-for="PaymentValidationErrors" id="paymentvalidationerrors-dictionary">
                <div class="header-wrapper">
                    <h4 id="x14-1-1-paymentvalidationerrors-dictionary"><bdi class="secno">14.1.1 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentvalidationerrors"
                            data-idl="dictionary" data-title="PaymentValidationErrors" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>PaymentValidationErrors</code></dfn> 字典
                    </h4><a class="self-link" href="#paymentvalidationerrors-dictionary"
                        aria-label="章节 14.1.1 的永久链接"></a>
                </div>

                <pre class="idl def" id="webidl-65418220"><span class="idlHeader"><a class="self-link" href="#webidl-65418220">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentvalidationerrors" data-title="PaymentValidationErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentvalidationerrors" id="ref-for-dom-paymentvalidationerrors-4"><code>PaymentValidationErrors</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentvalidationerrors-payer" data-title="payer" data-dfn-for="PaymentValidationErrors"><span class="idlType">
    <a data-link-type="idl" href="#dom-payererrors" class="internalDFN" id="ref-for-dom-payererrors-2"><code>PayerErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-payer" id="ref-for-dom-paymentvalidationerrors-payer-4"><code>payer</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentvalidationerrors-shippingaddress" data-title="shippingAddress" data-dfn-for="PaymentValidationErrors"><span class="idlType">
    <a data-link-type="idl" href="#dom-addresserrors" class="internalDFN" id="ref-for-dom-addresserrors-3"><code>AddressErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-shippingaddress" id="ref-for-dom-paymentvalidationerrors-shippingaddress-2"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentvalidationerrors-error" data-title="error" data-dfn-for="PaymentValidationErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-error" id="ref-for-dom-paymentvalidationerrors-error-2"><code>error</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentvalidationerrors-paymentmethod" data-title="paymentMethod" data-dfn-for="PaymentValidationErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-paymentmethod" id="ref-for-dom-paymentvalidationerrors-paymentmethod-3"><code>paymentMethod</code></a>;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentvalidationerrors-payer"
                            data-idl="field" data-title="payer" data-dfn-for="PaymentValidationErrors"
                            data-type="PayerErrors" tabindex="0" aria-haspopup="dialog"><code>payer</code></dfn> 成员
                    </dt>
                    <dd>
                        与<a href="#dfn-payer-details" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payer-details-2">付款人详细信息</a>相关的验证错误。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentvalidationerrors-shippingaddress"
                            data-idl="field" data-title="shippingAddress" data-dfn-for="PaymentValidationErrors"
                            data-type="AddressErrors" tabindex="0"
                            aria-haspopup="dialog"><code>shippingAddress</code></dfn> 成员
                    </dt>
                    <dd>
                        表示 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-14"><code>PaymentResponse</code></a> 的
                        <a data-link-type="idl" href="#dom-paymentresponse-shippingaddress" class="internalDFN"
                            id="ref-for-dom-paymentresponse-shippingaddress-2"><code>shippingAddress</code></a> 的验证错误。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentvalidationerrors-error"
                            data-idl="field" data-title="error" data-dfn-for="PaymentValidationErrors"
                            data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>error</code></dfn> 成员
                    </dt>
                    <dd>
                        关于支付错误的通用描述，用户可以尝试从中恢复。例如，用户可以通过重试支付来恢复。开发者可以选择单独传递 <a data-link-type="idl"
                            href="#dom-paymentvalidationerrors-error" class="internalDFN"
                            id="ref-for-dom-paymentvalidationerrors-error-3"><code>error</code></a>
                        成员以提供验证问题的总体概述，或者可以将其与 <a data-link-type="idl" data-lt="PaymentValidationErrors"
                            href="#dom-paymentvalidationerrors" class="internalDFN"
                            id="ref-for-dom-paymentvalidationerrors-5"><code>PaymentValidationErrors</code></a>
                        字典的其他成员结合使用。
                        <div class="note" role="note" id="issue-container-generatedID-26">
                            <div role="heading" class="note-title marker" id="h-note-26" aria-level="5">
                                <span>注意</span><span class="issue-label">: 错误的国际化</span>
                            </div>
                            <aside class="">
                                <p>
                                    <a data-link-type="idl" href="#dom-paymentvalidationerrors-error"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-error-4"><code>error</code></a>
                                    的语言和方向通常可以从文档继承的信息中确定。但是，这种方法可能不适用于某些用例。工作组打算在未来版本中通过与正在开发的 Web 通用方法保持一致来解决此问题。
                                </p>
                            </aside>
                        </div>
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentvalidationerrors-paymentmethod"
                            data-idl="field" data-title="paymentMethod" data-dfn-for="PaymentValidationErrors"
                            data-type="object" tabindex="0" aria-haspopup="dialog"><code>paymentMethod</code></dfn>
                        成员
                    </dt>
                    <dd>
                        支付方式特定的错误。
                    </dd>
                </dl>
            </section>
            <section data-dfn-for="PayerErrors" id="payererrors-dictionary">
                <div class="header-wrapper">
                    <h4 id="x14-1-2-payererrors-dictionary"><bdi class="secno">14.1.2 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-payererrors" data-idl="dictionary"
                            data-title="PayerErrors" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>PayerErrors</code></dfn> 字典
                    </h4><a class="self-link" href="#payererrors-dictionary" aria-label="章节 14.1.2 的永久链接"></a>
                </div>

                <pre class="idl def" id="webidl-73171198"><span class="idlHeader"><a class="self-link" href="#webidl-73171198">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-payererrors" data-title="PayerErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-payererrors" id="ref-for-dom-payererrors-3"><code>PayerErrors</code></a> {<span data-idl="" class="idlMember" id="idl-def-payererrors-email" data-title="email" data-dfn-for="PayerErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-email" id="ref-for-dom-payererrors-email-2"><code>email</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-payererrors-name" data-title="name" data-dfn-for="PayerErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-name" id="ref-for-dom-payererrors-name-2"><code>name</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-payererrors-phone" data-title="phone" data-dfn-for="PayerErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-phone" id="ref-for-dom-payererrors-phone-2"><code>phone</code></a>;</span>
};</span></code></pre>
                <p>
                    <a data-link-type="idl" data-lt="PayerErrors" href="#dom-payererrors" class="internalDFN"
                        id="ref-for-dom-payererrors-4"><code>PayerErrors</code></a> 用于表示一个或多个<a
                        href="#dfn-payer-details" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payer-details-3">付款人详细信息</a>的验证错误。
                </p>
                <p>
                    <dfn id="dfn-payer-details" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">付款人详细信息</dfn>是指付款人的姓名、付款人的电话号码和付款人的电子邮件中的任何一项。
                </p>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-payererrors-email" data-idl="field"
                            data-title="email" data-dfn-for="PayerErrors" data-type="DOMString" tabindex="0"
                            aria-haspopup="dialog"><code>email</code></dfn> 成员
                    </dt>
                    <dd>
                        表示付款人的电子邮件存在验证错误。在用户代理的 UI 中，此成员对应于提供 <a data-link-type="idl" data-lt="PaymentResponse"
                            href="#dom-paymentresponse" class="internalDFN"
                            id="ref-for-dom-paymentresponse-15"><code>PaymentResponse</code></a> 的 <a
                            data-link-type="idl" href="#dom-paymentresponse-payeremail" class="internalDFN"
                            id="ref-for-dom-paymentresponse-payeremail-2"><code>payerEmail</code></a> 属性值的输入字段。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-payererrors-name" data-idl="field"
                            data-title="name" data-dfn-for="PayerErrors" data-type="DOMString" tabindex="0"
                            aria-haspopup="dialog"><code>name</code></dfn> 成员
                    </dt>
                    <dd>
                        表示付款人的姓名存在验证错误。在用户代理的 UI 中，此成员对应于提供 <a data-link-type="idl" data-lt="PaymentResponse"
                            href="#dom-paymentresponse" class="internalDFN"
                            id="ref-for-dom-paymentresponse-16"><code>PaymentResponse</code></a> 的 <a
                            data-link-type="idl" href="#dom-paymentresponse-payername" class="internalDFN"
                            id="ref-for-dom-paymentresponse-payername-2"><code>payerName</code></a> 属性值的输入字段。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-payererrors-phone" data-idl="field"
                            data-title="phone" data-dfn-for="PayerErrors" data-type="DOMString" tabindex="0"
                            aria-haspopup="dialog"><code>phone</code></dfn> 成员
                    </dt>
                    <dd>
                        表示付款人的电话号码存在验证错误。在用户代理的 UI 中，此成员对应于提供 <a data-link-type="idl" data-lt="PaymentResponse"
                            href="#dom-paymentresponse" class="internalDFN"
                            id="ref-for-dom-paymentresponse-17"><code>PaymentResponse</code></a> 的 <a
                            data-link-type="idl" href="#dom-paymentresponse-payerphone" class="internalDFN"
                            id="ref-for-dom-paymentresponse-payerphone-2"><code>payerPhone</code></a> 属性值的输入字段。
                    </dd>
                </dl>
                <div class="example" id="example-payer-related-validation-errors">
                    <div class="marker">
                        <a class="self-link" href="#example-payer-related-validation-errors">示例<bdi>
                                13</bdi></a><span class="example-title">: 与付款人相关的验证错误</span>
                    </div>
                    <pre
                        aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> payer = {
    <span class="hljs-attr">email</span>: <span class="hljs-string">"域名无效。"</span>,
    <span class="hljs-attr">phone</span>: <span class="hljs-string">"未知的国家代码。"</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">"不在数据库中。"</span>,
};
<span class="hljs-keyword">await</span> response.<span class="hljs-title function_">retry</span>({ payer });</code></pre>
                </div>
            </section>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 methodName 的 MDN 详细信息"><span>MDN</span><span title="此特性已在所有主流引擎中实现。">✅</span>
                </summary>
                <a title="PaymentResponse 接口的 methodName 只读属性返回一个唯一标识用户选择的支付处理程序的字符串。"
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentResponse/methodName">PaymentResponse/methodName</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="methodname-attribute">
            <div class="header-wrapper">
                <h3 id="x14-2-methodname-attribute"><bdi class="secno">14.2 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-methodname"
                        data-idl="attribute" data-title="methodName" data-dfn-for="PaymentResponse"
                        data-type="DOMString" data-lt="methodName" data-local-lt="PaymentResponse.methodName"
                        tabindex="0" aria-haspopup="dialog"><code>methodName</code></dfn> 属性
                </h3><a class="self-link" href="#methodname-attribute" aria-label="章节 14.2 的永久链接"></a>
            </div>

            <p data-tests="payment-response/methodName-attribute-manual.https.html">
                用户选择用于完成交易的<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-20">支付方式</a>的<a data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 details 的 MDN 详细信息"><span>MDN</span><span title="此特性已在所有主流引擎中实现。">✅</span>
                </summary>
                <a title="PaymentResponse 接口的 details 只读属性返回一个 JSON 可序列化对象，该对象提供商家用于处理交易和确定资金成功转移的支付方式特定消息。"
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentResponse/details">PaymentResponse/details</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="details-attribute">
            <div class="header-wrapper">
                <h3 id="x14-3-details-attribute"><bdi class="secno">14.3 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-details" data-idl="attribute"
                        data-title="details" data-dfn-for="PaymentResponse" data-type="object" data-lt="details"
                        data-local-lt="PaymentResponse.details" tabindex="0"
                        aria-haspopup="dialog"><code>details</code></dfn> 属性
                </h3><a class="self-link" href="#details-attribute" aria-label="章节 14.3 的永久链接"></a>
            </div>

            <p>
                由<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-21">支付方式</a>生成的<a data-link-type="interface" data-lt="object"
                    href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a>或<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-dictionary">字典</a>，商家可以使用它来处理或验证交易（取决于<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-22">支付方式</a>）。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-27">
                <div role="heading" class="note-title marker" id="h-note-27" aria-level="4"><span>注意</span></div>
                <aside class="">
                    <p>
                        每个<a data-link-type="dfn"
                            href="https://www.w3.org/TR/payment-method-id/#dfn-standardized-payment-method-identifier">标准化的支付方式标识符</a>都为其
                        <a data-link-type="element"
                            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element">details</a>
                        属性定义了自己唯一的 IDL <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-dictionary">字典</a>。此数据的结构（即其成员及其对应的类型和格式）因最终用户选择的标准化支付方式标识符而异。
                    </p>
                    <p>
                        类似地，<a data-link-type="dfn"
                            href="https://www.w3.org/TR/payment-method-id/#dfn-url-based-payment-method-identifier">基于
                            URL 的支付方式标识符</a>定义了 <a data-link-type="element"
                            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element">details</a>
                        的结构。但是，由于基于 URL 的支付方式标识符未经 <abbr title="万维网联盟">W3C</abbr> 标准化，开发者需要咨询控制该 URL 的一方以了解 <a
                            data-link-type="element"
                            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element">details</a>
                        对象的预期结构。
                    </p>
                </aside>
            </div>
        </section>
        <section id="shippingaddress-attribute-0">
            <div class="header-wrapper">
                <h3 id="x14-4-shippingaddress-attribute"><bdi class="secno">14.4 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-shippingaddress"
                        data-idl="attribute" data-title="shippingAddress" data-dfn-for="PaymentResponse"
                        data-type="ContactAddress" data-lt="shippingAddress"
                        data-local-lt="PaymentResponse.shippingAddress" tabindex="0"
                        aria-haspopup="dialog"><code>shippingAddress</code></dfn> 属性
                </h3><a class="self-link" href="#shippingaddress-attribute-0" aria-label="章节 14.4 的永久链接"></a>
            </div>

            <p data-tests="payment-response/shippingAddress-attribute-manual.https.html">
                如果在传递给 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-29"><code>PaymentRequest</code></a> 构造函数的 <a data-link-type="idl"
                    data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-9"><code>PaymentOptions</code></a> 中将 <a data-link-type="idl"
                    href="#dom-paymentoptions-requestshipping" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestshipping-9"><code>requestShipping</code></a> 成员设置为 true，则 <a
                    data-link-type="idl" href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingaddress-5"><code>shippingAddress</code></a> 将是用户选择的完整且最终的<a
                    data-link-type="dfn|abstract-op" href="#dfn-shipping-address" class="internalDFN"
                    id="ref-for-dfn-shipping-address-4">送货地址</a>。
            </p>
        </section>
        <section id="shippingoption-attribute-0">
            <div class="header-wrapper">
                <h3 id="x14-5-shippingoption-attribute"><bdi class="secno">14.5 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-shippingoption"
                        data-idl="attribute" data-title="shippingOption" data-dfn-for="PaymentResponse"
                        data-type="DOMString" data-lt="shippingOption" data-local-lt="PaymentResponse.shippingOption"
                        tabindex="0" aria-haspopup="dialog"><code>shippingOption</code></dfn> 属性
                </h3><a class="self-link" href="#shippingoption-attribute-0" aria-label="章节 14.5 的永久链接"></a>
            </div>

            <p data-tests="payment-response/shippingOption-attribute-manual.https.html">
                如果在传递给 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-30"><code>PaymentRequest</code></a> 构造函数的 <a data-link-type="idl"
                    data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-10"><code>PaymentOptions</code></a> 中将 <a data-link-type="idl"
                    href="#dom-paymentoptions-requestshipping" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestshipping-10"><code>requestShipping</code></a> 成员设置为 true，则 <a
                    data-link-type="idl" href="#dom-paymentrequest-shippingoption" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingoption-6"><code>shippingOption</code></a> 将是所选送货选项的 <a
                    data-link-type="idl" href="#dom-paymentshippingoption-id" class="internalDFN"
                    id="ref-for-dom-paymentshippingoption-id-6"><code>id</code></a> 属性。
            </p>
        </section>
        <section id="payername-attribute">
            <div class="header-wrapper">
                <h3 id="x14-6-payername-attribute"><bdi class="secno">14.6 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-payername"
                        data-idl="attribute" data-title="payerName" data-dfn-for="PaymentResponse" data-type="DOMString"
                        data-lt="payerName" data-local-lt="PaymentResponse.payerName" tabindex="0"
                        aria-haspopup="dialog"><code>payerName</code></dfn> 属性
                </h3><a class="self-link" href="#payername-attribute" aria-label="章节 14.6 的永久链接"></a>
            </div>

            <p data-tests="payment-response/payerName-attribute-manual.https.html">
                如果在传递给 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-31"><code>PaymentRequest</code></a> 构造函数的 <a data-link-type="idl"
                    data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-11"><code>PaymentOptions</code></a> 中将 <a data-link-type="idl"
                    href="#dom-paymentoptions-requestpayername" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestpayername-3"><code>requestPayerName</code></a> 成员设置为 true，则 <a
                    data-link-type="idl" href="#dom-paymentresponse-payername" class="internalDFN"
                    id="ref-for-dom-paymentresponse-payername-3"><code>payerName</code></a> 将是用户提供的姓名。
            </p>
        </section>
        <section id="payeremail-attribute">
            <div class="header-wrapper">
                <h3 id="x14-7-payeremail-attribute"><bdi class="secno">14.7 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-payeremail"
                        data-idl="attribute" data-title="payerEmail" data-dfn-for="PaymentResponse"
                        data-type="DOMString" data-lt="payerEmail" data-local-lt="PaymentResponse.payerEmail"
                        tabindex="0" aria-haspopup="dialog"><code>payerEmail</code></dfn> 属性
                </h3><a class="self-link" href="#payeremail-attribute" aria-label="章节 14.7 的永久链接"></a>
            </div>

            <p data-tests="payment-response/payerEmail-attribute-manual.https.html">
                如果在传递给 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-32"><code>PaymentRequest</code></a> 构造函数的 <a data-link-type="idl"
                    data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-12"><code>PaymentOptions</code></a> 中将 <a data-link-type="idl"
                    href="#dom-paymentoptions-requestpayeremail" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestpayeremail-3"><code>requestPayerEmail</code></a> 成员设置为 true，则
                <a data-link-type="idl" href="#dom-paymentresponse-payeremail" class="internalDFN"
                    id="ref-for-dom-paymentresponse-payeremail-3"><code>payerEmail</code></a> 将是用户选择的电子邮件地址。
            </p>
        </section>
        <section id="payerphone-attribute">
            <div class="header-wrapper">
                <h3 id="x14-8-payerphone-attribute"><bdi class="secno">14.8 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-payerphone"
                        data-idl="attribute" data-title="payerPhone" data-dfn-for="PaymentResponse"
                        data-type="DOMString" data-lt="payerPhone" data-local-lt="PaymentResponse.payerPhone"
                        tabindex="0" aria-haspopup="dialog"><code>payerPhone</code></dfn> 属性
                </h3><a class="self-link" href="#payerphone-attribute" aria-label="章节 14.8 的永久链接"></a>
            </div>

            <p data-tests="payment-response/payerPhone-attribute-manual.https.html">
                如果在传递给 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-33"><code>PaymentRequest</code></a> 构造函数的 <a data-link-type="idl"
                    data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-13"><code>PaymentOptions</code></a> 中将 <a data-link-type="idl"
                    href="#dom-paymentoptions-requestpayerphone" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestpayerphone-3"><code>requestPayerPhone</code></a> 成员设置为 true，则
                <a data-link-type="idl" href="#dom-paymentresponse-payerphone" class="internalDFN"
                    id="ref-for-dom-paymentresponse-payerphone-3"><code>payerPhone</code></a> 将是用户选择的电话号码。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 requestId 的 MDN 详细信息"><span>MDN</span><span title="此特性已在所有主流引擎中实现。">✅</span>
                </summary>
                <a title="PaymentResponse 接口的 requestId 只读属性返回由 PaymentResponse() 构造函数通过 details.id 提供的自由格式标识符。"
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentResponse/requestId">PaymentResponse/requestId</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>16+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>43+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="requestid-attribute">
            <div class="header-wrapper">
                <h3 id="x14-9-requestid-attribute"><bdi class="secno">14.9 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-requestid"
                        data-idl="attribute" data-title="requestId" data-dfn-for="PaymentResponse" data-type="DOMString"
                        data-lt="requestId" data-local-lt="PaymentResponse.requestId" tabindex="0"
                        aria-haspopup="dialog"><code>requestId</code></dfn> 属性
                </h3><a class="self-link" href="#requestid-attribute" aria-label="章节 14.9 的永久链接"></a>
            </div>

            <p data-tests="payment-response/requestId-attribute-manual.https.html">
                生成此支付响应的相应支付请求 <a data-link-type="idl" href="#dom-paymentrequest-id" class="internalDFN"
                    id="ref-for-dom-paymentrequest-id-3"><code>id</code></a>。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 complete 的 MDN 详细信息"><span>MDN</span><span title="此特性已在所有主流引擎中实现。">✅</span>
                </summary>
                <a title="Payment Request API 的 PaymentRequest 方法 complete() 通知用户代理用户交互已结束，并导致关闭任何剩余的用户界面。"
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentResponse/complete">PaymentResponse/complete</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentResponse" id="complete-method">
            <div class="header-wrapper">
                <h3 id="x14-10-complete-method"><bdi class="secno">14.10 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentresponse-complete" data-idl="operation"
                        data-title="complete()" data-dfn-for="PaymentResponse" data-type="Promise"
                        data-lt="complete()|complete(result)|complete(result, details)"
                        data-local-lt="PaymentResponse.complete|PaymentResponse.complete()|complete" tabindex="0"
                        aria-haspopup="dialog"><code>complete()</code></dfn> 方法
                </h3><a class="self-link" href="#complete-method" aria-label="章节 14.10 的永久链接"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-28">
                <div role="heading" class="note-title marker" id="h-note-28" aria-level="4"><span>注意</span></div>
                <p class="">
                    在用户接受支付请求并且 <a data-link-type="attribute" data-lt="[[acceptPromise]]" href="#dfn-acceptpromise"
                        class="internalDFN" id="ref-for-dfn-acceptpromise-4"><code>[[acceptPromise]]</code></a> 已解决后，会调用
                    <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                        class="internalDFN"
                        id="ref-for-dom-paymentresponse-complete-2"><code>complete</code></a><code>()</code> 方法。调用 <a
                        data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                        class="internalDFN"
                        id="ref-for-dom-paymentresponse-complete-3"><code>complete</code></a><code>()</code> 方法会告知<a
                        href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-29">用户代理</a>支付交互已结束（并且<em class="rfc2119">应该</em>导致关闭任何剩余的用户界面）。
                </p>
            </div>
            <p>
                在支付请求被接受并将 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                    class="internalDFN" id="ref-for-dom-paymentresponse-18"><code>PaymentResponse</code></a>
                返回给调用者之后，但在调用者调用 <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                    class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-4"><code>complete</code></a><code>()</code>
                之前，支付请求用户界面保持待处理状态。此时，用户界面<em class="rfc2119">不应</em>提供取消命令，因为已返回对支付请求的接受。但是，如果出现问题并且开发者从未调用 <a
                    data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete" class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-5"><code>complete</code></a><code>()</code>，则用户界面将被阻止。
            </p>
            <p>
                因此，实现<em class="rfc2119">可以</em>为开发者调用 <a data-link-type="idl" data-lt="complete()"
                    href="#dom-paymentresponse-complete" class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-6"><code>complete</code></a><code>()</code>
                设置超时。如果超时到期，则实现将表现得如同调用了不带参数的 <a data-link-type="idl" data-lt="complete()"
                    href="#dom-paymentresponse-complete" class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-7"><code>complete</code></a><code>()</code> 一样。
            </p>
            <p data-tests="payment-response/complete-method-manual.https.html">
                <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete" class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-8"><code>complete</code></a><code>()</code> 方法<em
                    class="rfc2119">必须</em>按以下方式操作：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentResponse">response</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>。
                </li>
                <li>如果 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                        id="ref-for-dfn-complete-2"><code>[[complete]]</code></a> 为 true，则返回<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise</a>，并带有 "<a
                        data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>如果 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-6"><code>[[retryPromise]]</code></a> 不为 null，则返回<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的
                        promise</a>，并带有 "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">一个新的 promise</a>。
                </li>
                <li>令 <var>serializedData</var> 为将 <var>details</var>.<a data-link-type="idl"
                        href="#dom-paymentcompletedetails-data" class="internalDFN"
                        id="ref-for-dom-paymentcompletedetails-data-2"><code>data</code></a> <a data-link-type="dfn"
                        data-lt="serialize a JavaScript value to a JSON string"
                        href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">序列化</a>为
                    JSON 字符串的结果。
                </li>
                <li>如果序列化<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>异常，则返回<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的
                        promise</a>，并带有该异常。
                </li>
                <li>如果定义 <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                        href="#dom-paymentresponse-methodname" class="internalDFN"
                        id="ref-for-dom-paymentresponse-methodname-3"><code>methodName</code></a> 的规范要求：
                    <ol data-cite="ECMASCRIPT">
                        <li>令 <var>json</var> 为使用 <var>serializedData</var> 调用 <code>JSON</code> 的 <a
                                data-link-type="method" data-lt="parse()"
                                href="https://tc39.es/ecma262/multipage/structured-data.html#sec-json.parse"><code>parse</code></a><code>()</code>
                            的结果。
                        </li>
                        <li>令 <var>idl</var> 为将 <var>json</var> <a data-link-type="dfn"
                                data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换为</a>由定义
                            <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                href="#dom-paymentresponse-methodname" class="internalDFN"
                                id="ref-for-dom-paymentresponse-methodname-4"><code>methodName</code></a> 的规范指定的类型的 IDL
                            值的结果。
                        </li>
                        <li>如果转换为 IDL 值<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a><a
                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">异常</a>，则返回<a
                                data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的
                                promise</a>，并带有该异常。
                        </li>
                        <li>如果定义 <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                href="#dom-paymentresponse-methodname" class="internalDFN"
                                id="ref-for-dom-paymentresponse-methodname-5"><code>methodName</code></a> 的规范要求，则验证
                            <var>idl</var> 的成员。如果成员的值无效，则返回<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise</a>，并带有 <a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-native-error-types-used-in-this-standard-typeerror"><code>TypeError</code></a>。
                            <div class="note" role="note" id="issue-container-generatedID-29">
                                <div role="heading" class="note-title marker" id="h-note-29" aria-level="4">
                                    <span>注意</span><span class="issue-label">: 恢复机会</span>
                                </div>
                                <aside class="">
                                    <p>
                                        上述步骤确保尽早捕获可能由 IDL 类型转换和/或验证导致的错误，从而为开发者提供恢复的机会。
                                    </p>
                                </aside>
                            </div>
                        </li>
                    </ol>
                </li>
                <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                        id="ref-for-dfn-complete-3"><code>[[complete]]</code></a> 设置为 true。
                </li>
                <li>返回 <var data-type="Promise">promise</var> 并<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>执行其余步骤。
                </li>
                <li>如果在显示用户界面时 <var>document</var> 不再是<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全激活</a>状态，或者到达此步骤时不再是，则：
                    <ol>
                        <li>关闭用户界面。
                        </li>
                        <li>将 <var>request</var> 的<a href="#dfn-payment-relevant-browsing-context" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-8">支付相关浏览上下文</a>的<a
                                href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-10">支付请求正在显示</a>布尔值设置为 false。
                        </li>
                    </ol>
                </li>
                <li>否则：
                    <ol>
                        <li>关闭任何剩余的用户界面。<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-agent-30">用户代理</a><em class="rfc2119">可以</em>使用值 <var>result</var>
                            和 <var>serializedData</var> 来影响用户体验。
                        </li>
                        <li>将 <var>request</var> 的<a href="#dfn-payment-relevant-browsing-context" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-9">支付相关浏览上下文</a>的<a
                                href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-11">支付请求正在显示</a>布尔值设置为 false。
                        </li>
                        <li>用 undefined 解析 <var data-type="Promise">promise</var>。
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section data-dfn-for="PaymentResponse" id="onpayerdetailchange-attribute">
            <div class="header-wrapper">
                <h3 id="x14-11-onpayerdetailchange-attribute"><bdi class="secno">14.11 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-onpayerdetailchange"
                        data-idl="attribute" data-title="onpayerdetailchange" data-dfn-for="PaymentResponse"
                        data-type="EventHandler" data-lt="onpayerdetailchange"
                        data-local-lt="PaymentResponse.onpayerdetailchange" tabindex="0"
                        aria-haspopup="dialog"><code>onpayerdetailchange</code></dfn> 属性
                </h3><a class="self-link" href="#onpayerdetailchange-attribute" aria-label="章节 14.11 的永久链接"></a>
            </div>

            <p>
                允许开发者处理“<a href="#dfn-payerdetailchange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payerdetailchange-1"><code>payerdetailchange</code></a>”事件。
            </p>
        </section>
        <section id="internal-slots-0">
            <div class="header-wrapper">
                <h3 id="x14-12-internal-slots"><bdi class="secno">14.12 </bdi>
                    内部插槽
                </h3><a class="self-link" href="#internal-slots-0" aria-label="章节 14.12 的永久链接"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-19"><code>PaymentResponse</code></a> 的实例是使用下表中的<a
                    data-link-type="dfn|abstract-op"
                    href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a>创建的：
            </p>
            <table class="data" data-dfn-for="PaymentResponse">
                <tbody>
                    <tr>
                        <th>
                            内部插槽
                        </th>
                        <th>
                            描述 (<em>非规范性</em>)
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentResponse" data-noexport="" data-dfn-type="attribute"
                                id="dfn-complete" tabindex="0" aria-haspopup="dialog">[[complete]]</dfn>
                        </td>
                        <td>
                            如果支付请求已完成（即调用了 <a data-link-type="idl" data-lt="complete()"
                                href="#dom-paymentresponse-complete" class="internalDFN"
                                id="ref-for-dom-paymentresponse-complete-9"><code>complete</code></a><code>()</code>，或者存在使响应不再可用的致命错误），则为
                            true，否则为 false。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentResponse" data-noexport="" data-dfn-type="attribute"
                                id="dfn-request" tabindex="0" aria-haspopup="dialog">[[request]]</dfn>
                        </td>
                        <td>
                            实例化此 <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                                class="internalDFN" id="ref-for-dom-paymentresponse-20"><code>PaymentResponse</code></a>
                            的 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-34"><code>PaymentRequest</code></a>
                            实例。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentResponse" data-noexport="" data-dfn-type="attribute"
                                id="dfn-retrypromise" tabindex="0" aria-haspopup="dialog">[[retryPromise]]</dfn>
                        </td>
                        <td>
                            Null，或者一个 <a data-link-type="interface" data-lt="Promise"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>，当<a
                                href="#dfn-user-accepts-the-payment-request-algorithm" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-user-accepts-the-payment-request-algorithm-5">用户接受支付请求</a>时解析，或者如果<a
                                href="#dfn-user-aborts-the-payment-request" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-aborts-the-payment-request-6">用户中止支付请求</a>则拒绝。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </section>
    <section id="shipping-and-billing-addresses">
        <div class="header-wrapper">
            <h2 id="x15-shipping-and-billing-addresses"><bdi class="secno">15. </bdi>
                送货和账单地址
            </h2><a class="self-link" href="#shipping-and-billing-addresses" aria-label="章节 15 的永久链接。"></a>
        </div>

        <p>
            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-35"><code>PaymentRequest</code></a> 接口允许商家向用户请求用于送货和/或账单的<a
                data-link-type="dfn" data-lt="physical address"
                href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>。 <dfn id="dfn-shipping-address"
                tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">送货地址</dfn>和<dfn id="dfn-billing-address"
                tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">账单地址</dfn>都是<a data-link-type="dfn"
                data-lt="physical address" href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>。
        </p>
        <section data-dfn-for="AddressErrors" id="addresserrors-dictionary">
            <div class="header-wrapper">
                <h3 id="x15-1-addresserrors-dictionary"><bdi class="secno">15.1 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-addresserrors" data-idl="dictionary"
                        data-title="AddressErrors" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>AddressErrors</code></dfn> 字典
                </h3><a class="self-link" href="#addresserrors-dictionary" aria-label="章节 15.1 的永久链接"></a>
            </div>

            <pre class="idl def" id="webidl-2030492674"><span class="idlHeader"><a class="self-link" href="#webidl-2030492674">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-addresserrors" data-title="AddressErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-addresserrors" id="ref-for-dom-addresserrors-4"><code>AddressErrors</code></a> {<span data-idl="" class="idlMember" id="idl-def-addresserrors-addressline" data-title="addressLine" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-addressline" id="ref-for-dom-addresserrors-addressline-1"><code>addressLine</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-city" data-title="city" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-city" id="ref-for-dom-addresserrors-city-1"><code>city</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-country" data-title="country" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-country" id="ref-for-dom-addresserrors-country-1"><code>country</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-dependentlocality" data-title="dependentLocality" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-dependentlocality" id="ref-for-dom-addresserrors-dependentlocality-1"><code>dependentLocality</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-organization" data-title="organization" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-organization" id="ref-for-dom-addresserrors-organization-1"><code>organization</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-phone" data-title="phone" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-phone" id="ref-for-dom-addresserrors-phone-1"><code>phone</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-postalcode" data-title="postalCode" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-postalcode" id="ref-for-dom-addresserrors-postalcode-1"><code>postalCode</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-recipient" data-title="recipient" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-recipient" id="ref-for-dom-addresserrors-recipient-1"><code>recipient</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-region" data-title="region" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-region" id="ref-for-dom-addresserrors-region-1"><code>region</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-sortingcode" data-title="sortingCode" data-dfn-for="AddressErrors"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-sortingcode" id="ref-for-dom-addresserrors-sortingcode-1"><code>sortingCode</code></a>;</span>
};</span></code></pre>
            <p>
                <a data-link-type="idl" data-lt="AddressErrors" href="#dom-addresserrors" class="internalDFN"
                    id="ref-for-dom-addresserrors-5"><code>AddressErrors</code></a> 字典的成员表示<a data-link-type="dfn"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>特定部分的验证错误。每个字典成员都有双重功能：首先，它的存在表示地址的特定部分存在验证错误。其次，字符串值允许开发者描述验证错误（以及最终用户如何修复错误）。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-30">
                <div role="heading" class="note-title marker" id="h-note-30" aria-level="4"><span>注意</span></div>
                <p class="">
                    开发者需要注意，用户可能无法修复地址的某些部分。因此，他们需要注意不要要求用户修复他们可能无法控制的事情。
                </p>
            </div>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-addressline" data-idl="field"
                        data-title="addressLine" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>addressLine</code></dfn> 成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-address-line">地址行</a>存在验证错误。在用户代理的
                    UI 中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-addressline"><code>addressLine</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-city" data-idl="field"
                        data-title="city" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>city</code></dfn> 成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-city">城市</a>存在验证错误。在用户代理的 UI
                    中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-city"><code>city</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-country" data-idl="field"
                        data-title="country" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>country</code></dfn> 成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-country">国家/地区</a>存在验证错误。在用户代理的 UI
                    中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-country"><code>country</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-dependentlocality"
                        data-idl="field" data-title="dependentLocality" data-dfn-for="AddressErrors"
                        data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>dependentLocality</code></dfn>
                    成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-dependent-locality">下属地区</a>存在验证错误。在用户代理的
                    UI 中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-dependentlocality"><code>dependentLocality</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-organization" data-idl="field"
                        data-title="organization" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>organization</code></dfn> 成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-organization">组织</a>存在验证错误。在用户代理的
                    UI 中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-organization"><code>organization</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-phone" data-idl="field"
                        data-title="phone" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>phone</code></dfn> 成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-phone-number">电话号码</a>存在验证错误。在用户代理的
                    UI 中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-phone"><code>phone</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-postalcode" data-idl="field"
                        data-title="postalCode" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>postalCode</code></dfn> 成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-postal-code">邮政编码</a>存在验证错误。在用户代理的
                    UI 中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-postalcode"><code>postalCode</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-recipient" data-idl="field"
                        data-title="recipient" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>recipient</code></dfn> 成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-recipient">收件人</a>存在验证错误。在用户代理的 UI
                    中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-addressline"><code>addressLine</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-region" data-idl="field"
                        data-title="region" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>region</code></dfn> 成员
                </dt>
                <dd>
                    表示<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-region">地区</a>存在验证错误。在用户代理的 UI
                    中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-region"><code>region</code></a>
                    属性值的输入字段。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-sortingcode" data-idl="field"
                        data-title="sortingCode" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>sortingCode</code></dfn> 成员
                </dt>
                <dd>
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-sorting-code">分拣码</a>存在验证错误。在用户代理的
                    UI 中，此成员对应于提供 <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a> 的 <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-sortingcode"><code>sortingCode</code></a>
                    属性值的输入字段。
                </dd>
            </dl>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开 payment 的 MDN 详细信息"><span>MDN</span><span> </span></summary>
            <a title="HTTP Permissions-Policy 标头字段的 payment 指令控制当前文档是否允许使用 Payment Request API。"
                href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/payment">Headers/Feature-Policy/payment</a>

            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>60+</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>74+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>否</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
        <details>
            <summary aria-label="展开 payment 的 MDN 详细信息"><span>MDN</span><span title="此特性支持有限。">🚫</span></summary>
            <a title="HTTP Permissions-Policy 标头字段的 payment 指令控制当前文档是否允许使用 Payment Request API。"
                href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Permissions-Policy/payment">Headers/Permissions-Policy/payment</a>
            <p class="engines-some">此特性支持有限。</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>?</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>74+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>否</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="permissions-policy" data-cite="permissions-policy">
        <div class="header-wrapper">
            <h2 id="x16-permissions-policy-integration"><bdi class="secno">16. </bdi>
                权限策略集成
            </h2><a class="self-link" href="#permissions-policy" aria-label="章节 16 的永久链接。"></a>
        </div>

        <p>
            本规范定义了一个由字符串 <dfn class="permission" data-dfn-type="permission" id="dfn-payment" tabindex="0"
                aria-haspopup="dialog" data-export="">"payment"</dfn> 标识的<a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制功能</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-permissions-policy"
                    title="权限策略">permissions-policy</a></cite>]。其<a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">默认允许列表</a>为
            <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self">'self'</a>。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-31">
            <div role="heading" class="note-title marker" id="h-note-31" aria-level="3"><span>注意</span></div>
            <aside class="">
                <p>
                    <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document">文档</a>的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy">权限策略</a>决定了该文档中的任何内容是否允许构造
                    <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-36"><code>PaymentRequest</code></a> 实例。如果在任何文档中禁用，则该文档中的任何内容都将不<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">允许使用</a>
                    <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-37"><code>PaymentRequest</code></a>
                    构造函数（尝试创建实例将引发错误）。
                </p>
            </aside>
        </div>
    </section>
    <section id="events">
        <div class="header-wrapper">
            <h2 id="x17-events"><bdi class="secno">17. </bdi>
                事件
            </h2><a class="self-link" href="#events" aria-label="章节 17 的永久链接。"></a>
        </div>

        <aside class="mdn">
            <details>
                <summary aria-label="展开 paymentmethodchange_event 的 MDN 详细信息"><span>MDN</span><span
                        title="此特性已在所有主流引擎中实现。">✅</span></summary>
                <a title="当用户在给定的支付处理程序中更改支付方式时，paymentmethodchange 事件会传递给 PaymentRequest 对象的 Payment Request API。"
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentRequest/paymentmethodchange_event">PaymentRequest/paymentmethodchange_event</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>76+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>47+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section class="informative" id="summary">
            <div class="header-wrapper">
                <h3 id="x17-1-summary"><bdi class="secno">17.1 </bdi>
                    摘要
                </h3><a class="self-link" href="#summary" aria-label="章节 17.1 的永久链接"></a>
            </div>
            <p><em>本节内容不具约束力。</em></p>

            <table class="data">
                <tbody>
                    <tr>
                        <th>
                            事件名称
                        </th>
                        <th>
                            接口
                        </th>
                        <th>
                            分派时机…
                        </th>
                        <th>
                            目标
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <code><dfn id="dfn-shippingaddresschange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">shippingaddresschange</dfn></code>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-3"><code>PaymentRequestUpdateEvent</code></a>
                        </td>
                        <td>
                            用户提供新的送货地址。
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-38"><code>PaymentRequest</code></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code><dfn id="dfn-shippingoptionchange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">shippingoptionchange</dfn></code>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-4"><code>PaymentRequestUpdateEvent</code></a>
                        </td>
                        <td>
                            用户选择新的送货选项。
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-39"><code>PaymentRequest</code></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code><dfn id="dfn-payerdetailchange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">payerdetailchange</dfn></code>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-5"><code>PaymentRequestUpdateEvent</code></a>
                        </td>
                        <td>
                            用户更改付款人姓名、付款人电子邮件或付款人电话（请参阅<a href="#dfn-payer-detail-changed-algorithm" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-payer-detail-changed-algorithm-1">付款人详细信息更改算法</a>）。
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                                class="internalDFN" id="ref-for-dom-paymentresponse-21"><code>PaymentResponse</code></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code><dfn id="dfn-paymentmethodchange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">paymentmethodchange</dfn></code>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentMethodChangeEvent"
                                href="#dom-paymentmethodchangeevent" class="internalDFN"
                                id="ref-for-dom-paymentmethodchangeevent-3"><code>PaymentMethodChangeEvent</code></a>
                        </td>
                        <td>
                            用户在<a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-handler-10">支付处理程序</a>中选择不同的<a href="#dfn-payment-method"
                                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-method-23">支付方式</a>。
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-40"><code>PaymentRequest</code></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 PaymentMethodChangeEvent 的 MDN 详细信息"><span>MDN</span><span
                        title="此特性已在所有主流引擎中实现。">✅</span></summary>
                <a title="Payment Request API 的 PaymentMethodChangeEvent 接口描述了 paymentmethodchange 事件，当用户切换支付工具时（例如，用户在使用 Apple Pay 时选择“商店”卡进行购买），某些支付处理程序会触发此事件。"
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentMethodChangeEvent">PaymentMethodChangeEvent</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>76+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
            <details>
                <summary aria-label="展开 PaymentMethodChangeEvent 的 MDN 详细信息"><span>MDN</span><span
                        title="此特性已在所有主流引擎中实现。">✅</span></summary>
                <a title="PaymentMethodChangeEvent() 构造函数创建一个新的 PaymentMethodChangeEvent 对象，提供有关 paymentmethodchange 事件的详细信息。"
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentMethodChangeEvent/PaymentMethodChangeEvent">PaymentMethodChangeEvent/PaymentMethodChangeEvent</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>76+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentMethodChangeEvent" id="paymentmethodchangeevent-interface">
            <div class="header-wrapper">
                <h3 id="x17-2-paymentmethodchangeevent-interface"><bdi class="secno">17.2 </bdi>
                    <dfn data-export="" data-dfn-type="interface" id="dom-paymentmethodchangeevent" data-idl="interface"
                        data-title="PaymentMethodChangeEvent" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentMethodChangeEvent</code></dfn> 接口
                </h3><a class="self-link" href="#paymentmethodchangeevent-interface" aria-label="章节 17.2 的永久链接"></a>
            </div>

            <pre class="idl def" id="webidl-1848946631"><span class="idlHeader"><a class="self-link" href="#webidl-1848946631">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-paymentmethodchangeevent" data-title="PaymentMethodChangeEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentmethodchangeevent" id="ref-for-dom-paymentmethodchangeevent-4"><code>PaymentMethodChangeEvent</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentrequestupdateevent" class="internalDFN" id="ref-for-dom-paymentrequestupdateevent-6"><code>PaymentRequestUpdateEvent</code></a></span> {<span data-idl="" class="idlConstructor" id="idl-def-paymentmethodchangeevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="PaymentMethodChangeEvent">
    <dfn data-export="" data-dfn-type="constructor" id="dom-paymentmethodchangeevent-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PaymentMethodChangeEvent" data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)" data-local-lt="PaymentMethodChangeEvent.constructor|PaymentMethodChangeEvent.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentmethodchangeeventinit" class="internalDFN" id="ref-for-dom-paymentmethodchangeeventinit-1"><code>PaymentMethodChangeEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-paymentmethodchangeevent-methodname" data-title="methodName" data-dfn-for="PaymentMethodChangeEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentmethodchangeevent-methodname" id="ref-for-dom-paymentmethodchangeevent-methodname-1"><code>methodName</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentmethodchangeevent-methoddetails" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEvent">
    readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentmethodchangeevent-methoddetails" id="ref-for-dom-paymentmethodchangeevent-methoddetails-2"><code>methodDetails</code></a>;</span>
};</span></code></pre>
            <aside class="mdn">
                <details>
                    <summary aria-label="展开 methodDetails 的 MDN 详细信息"><span>MDN</span><span
                            title="此特性已在所有主流引擎中实现。">✅</span></summary>
                    <a title="PaymentMethodChangeEvent 接口的只读属性 methodDetails 是一个对象，其中包含支付处理程序可能提供的任何数据，以描述用户对其支付方式所做的更改。如果没有可用的详细信息，则该值为 null。"
                        href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentMethodChangeEvent/methodDetails">PaymentMethodChangeEvent/methodDetails</a>
                    <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>76+</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>55+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>12.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>否</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="methoddetails-attribute">
                <div class="header-wrapper">
                    <h4 id="x17-2-1-methoddetails-attribute"><bdi class="secno">17.2.1 </bdi>
                        <dfn data-export="" data-dfn-type="attribute" id="dom-paymentmethodchangeevent-methoddetails"
                            data-idl="attribute" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEvent"
                            data-type="object" data-lt="methodDetails"
                            data-local-lt="PaymentMethodChangeEvent.methodDetails" tabindex="0"
                            aria-haspopup="dialog"><code>methodDetails</code></dfn> 属性
                    </h4><a class="self-link" href="#methoddetails-attribute" aria-label="章节 17.2.1 的永久链接"></a>
                </div>

                <p>
                    获取时，返回其初始化时的值。有关更多信息，请参阅 <a data-link-type="idl" data-lt="PaymentMethodChangeEventInit"
                        href="#dom-paymentmethodchangeeventinit" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeeventinit-2"><code>PaymentMethodChangeEventInit</code></a> 的
                    <a data-link-type="idl" href="#dom-paymentmethodchangeeventinit-methoddetails" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeeventinit-methoddetails-1"><code>methodDetails</code></a> 成员。
                </p>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="展开 methodName 的 MDN 详细信息"><span>MDN</span><span
                            title="此特性已在所有主流引擎中实现。">✅</span></summary>
                    <a title="PaymentMethodChangeEvent 接口的只读属性 methodName 是一个字符串，它唯一标识用户当前选择的支付处理程序。支付处理程序可能是一种支付技术，例如 Apple Pay 或 Android Pay，并且每个支付处理程序可能支持多种支付方式；支付处理程序内支付方式的更改由 PaymentMethodChangeEvent 描述。"
                        href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentMethodChangeEvent/methodName">PaymentMethodChangeEvent/methodName</a>
                    <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>76+</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>55+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>12.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>否</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="methodname-attribute-0">
                <div class="header-wrapper">
                    <h4 id="x17-2-2-methodname-attribute"><bdi class="secno">17.2.2 </bdi>
                        <dfn data-export="" data-dfn-type="attribute" id="dom-paymentmethodchangeevent-methodname"
                            data-idl="attribute" data-title="methodName" data-dfn-for="PaymentMethodChangeEvent"
                            data-type="DOMString" data-lt="methodName"
                            data-local-lt="PaymentMethodChangeEvent.methodName" tabindex="0"
                            aria-haspopup="dialog"><code>methodName</code></dfn> 属性
                    </h4><a class="self-link" href="#methodname-attribute-0" aria-label="章节 17.2.2 的永久链接"></a>
                </div>

                <p>
                    获取时，返回其初始化时的值。有关更多信息，请参阅 <a data-link-type="idl" data-lt="PaymentMethodChangeEventInit"
                        href="#dom-paymentmethodchangeeventinit" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeeventinit-3"><code>PaymentMethodChangeEventInit</code></a> 的
                    <a data-link-type="idl" href="#dom-paymentmethodchangeeventinit-methodname" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeeventinit-methodname-1"><code>methodName</code></a> 成员。
                </p>
            </section>
            <section data-dfn-for="PaymentMethodChangeEventInit" id="paymentmethodchangeeventinit-dictionary">
                <div class="header-wrapper">
                    <h4 id="x17-2-3-paymentmethodchangeeventinit-dictionary"><bdi class="secno">17.2.3 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentmethodchangeeventinit"
                            data-idl="dictionary" data-title="PaymentMethodChangeEventInit" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>PaymentMethodChangeEventInit</code></dfn> 字典
                    </h4><a class="self-link" href="#paymentmethodchangeeventinit-dictionary"
                        aria-label="章节 17.2.3 的永久链接"></a>
                </div>

                <pre class="idl def" id="webidl-746190437"><span class="idlHeader"><a class="self-link" href="#webidl-746190437">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentmethodchangeeventinit" data-title="PaymentMethodChangeEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentmethodchangeeventinit" id="ref-for-dom-paymentmethodchangeeventinit-4"><code>PaymentMethodChangeEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentrequestupdateeventinit" class="internalDFN" id="ref-for-dom-paymentrequestupdateeventinit-1"><code>PaymentRequestUpdateEventInit</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-paymentmethodchangeeventinit-methodname" data-title="methodName" data-dfn-for="PaymentMethodChangeEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethodchangeeventinit-methodname" id="ref-for-dom-paymentmethodchangeeventinit-methodname-2"><code>methodName</code></a> = "";</span><span data-idl="" class="idlMember" id="idl-def-paymentmethodchangeeventinit-methoddetails" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEventInit"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethodchangeeventinit-methoddetails" id="ref-for-dom-paymentmethodchangeeventinit-methoddetails-2"><code>methodDetails</code></a> = null;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentmethodchangeeventinit-methodname"
                            data-idl="field" data-title="methodName" data-dfn-for="PaymentMethodChangeEventInit"
                            data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>methodName</code></dfn> 成员
                    </dt>
                    <dd>
                        一个表示<a data-link-type="dfn"
                            href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>的字符串。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member"
                            id="dom-paymentmethodchangeeventinit-methoddetails" data-idl="field"
                            data-title="methodDetails" data-dfn-for="PaymentMethodChangeEventInit" data-type="object"
                            tabindex="0" aria-haspopup="dialog"><code>methodDetails</code></dfn> 成员
                    </dt>
                    <dd>
                        一个表示来自支付方式的某些数据的对象，或为 null。
                    </dd>
                </dl>
            </section>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 PaymentRequestUpdateEvent 的 MDN 详细信息"><span>MDN</span><span
                        title="此特性已在所有主流引擎中实现。">✅</span></summary>
                <a title="当对挂起的 PaymentRequest 的与送货相关的信息进行更改时，PaymentRequestUpdateEvent 接口用于发送到 PaymentRequest 实例的事件。这些事件是："
                    href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentRequestUpdateEvent">PaymentRequestUpdateEvent</a>
                <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>否</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequestUpdateEvent" id="paymentrequestupdateevent-interface">
            <div class="header-wrapper">
                <h3 id="x17-3-paymentrequestupdateevent-interface"><bdi class="secno">17.3 </bdi>
                    <dfn data-export="" data-dfn-type="interface" id="dom-paymentrequestupdateevent"
                        data-idl="interface" data-title="PaymentRequestUpdateEvent" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentRequestUpdateEvent</code></dfn> 接口
                </h3><a class="self-link" href="#paymentrequestupdateevent-interface" aria-label="章节 17.3 的永久链接"></a>
            </div>

            <pre class="idl def" id="webidl-1601085411"><span class="idlHeader"><a class="self-link" href="#webidl-1601085411">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-paymentrequestupdateevent" data-title="PaymentRequestUpdateEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentrequestupdateevent" id="ref-for-dom-paymentrequestupdateevent-7"><code>PaymentRequestUpdateEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-paymentrequestupdateevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="PaymentRequestUpdateEvent">
    <a class="internalDFN" data-link-type="constructor" href="#dom-paymentrequestupdateevent-constructor" id="ref-for-dom-paymentrequestupdateevent-constructor-1"><code>constructor</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentrequestupdateeventinit" class="internalDFN" id="ref-for-dom-paymentrequestupdateeventinit-2"><code>PaymentRequestUpdateEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-paymentrequestupdateevent-updatewith-detailspromise" data-title="updateWith" data-dfn-for="PaymentRequestUpdateEvent"><span class="idlType">
    <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequestupdateevent-updatewith" id="ref-for-dom-paymentrequestupdateevent-updatewith-6"><code>updateWith</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsupdate" class="internalDFN" id="ref-for-dom-paymentdetailsupdate-9"><code>PaymentDetailsUpdate</code></a>&gt;</span> <span class="idlParamName">detailsPromise</span>);</span>
};</span></code></pre>
            <p>
                <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequestupdateevent-8"><code>PaymentRequestUpdateEvent</code></a>
                使开发者能够响应用户交互来更新支付请求的详细信息。
            </p>
            <aside class="mdn">
                <details>
                    <summary aria-label="展开 PaymentRequestUpdateEvent 的 MDN 详细信息"><span>MDN</span><span
                            title="此特性已在所有主流引擎中实现。">✅</span></summary>
                    <a title="PaymentRequestUpdateEvent() 构造函数创建一个新的 PaymentRequestUpdateEvent 对象，该对象使网页能够响应用户操作来更新 PaymentRequest 的详细信息。实际更新是通过将选项传递给 updateWith() 方法来进行的。"
                        href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentRequestUpdateEvent/PaymentRequestUpdateEvent">PaymentRequestUpdateEvent/PaymentRequestUpdateEvent</a>
                    <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>60+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>53+</td>
                        </tr>
                        <tr class="edge yes">
                            <td>Edge</td>
                            <td>15+</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>55+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>11.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>否</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="constructor-0">
                <div class="header-wrapper">
                    <h4 id="x17-3-1-constructor"><bdi class="secno">17.3.1 </bdi>
                        <dfn data-lt="PaymentRequestUpdateEvent.PaymentRequestUpdateEvent()|Constructor|constructor()|constructor(type)|constructor(type, eventInitDict)"
                            data-export="" data-dfn-type="constructor" id="dom-paymentrequestupdateevent-constructor"
                            data-idl="constructor" data-title="Constructor" data-dfn-for="PaymentRequestUpdateEvent"
                            data-local-lt="PaymentRequestUpdateEvent.constructor|PaymentRequestUpdateEvent.constructor()|constructor"
                            tabindex="0" aria-haspopup="dialog"><code>构造函数</code></dfn>
                    </h4><a class="self-link" href="#constructor-0" aria-label="章节 17.3.1 的永久链接"></a>
                </div>

                <p
                    data-tests="PaymentRequestUpdateEvent/constructor.https.html, PaymentRequestUpdateEvent/constructor.http.html">
                    <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                        class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-9"><code>PaymentRequestUpdateEvent</code></a> 的 <a
                        data-link-type="idl" data-lt="constructor(type, eventInitDict)"
                        href="#dom-paymentrequestupdateevent-constructor" class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-constructor-2"><code>constructor</code></a><code>(<var>type</var>, <var>eventInitDict</var>)</code>
                    <em class="rfc2119">必须</em>按以下方式操作：
                </p>
                <ol class="algorithm">
                    <li>令 <var data-type="PaymentRequestUpdateEvent">event</var> 为使用 <var>type</var> 和
                        <var>eventInitDict</var> 调用 <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                            href="#dom-paymentrequestupdateevent" class="internalDFN"
                            id="ref-for-dom-paymentrequestupdateevent-10"><code>PaymentRequestUpdateEvent</code></a> 的<a
                            data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-event-constructor">构造函数</a>的结果。
                    </li>
                    <li>将 <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                            data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                            id="ref-for-dfn-waitforupdate-1"><code>[[waitForUpdate]]</code></a> 设置为 false。
                    </li>
                    <li>返回 <var data-type="PaymentRequestUpdateEvent">event</var>。
                    </li>
                </ol>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="展开 updateWith 的 MDN 详细信息"><span>MDN</span><span
                            title="此特性已在所有主流引擎中实现。">✅</span></summary>
                    <a title="PaymentRequestUpdateEvent 接口的 updateWith() 方法更新现有 PaymentRequest 的详细信息。"
                        href="https://developer.mozilla.org/zh-CN/docs/Web/API/PaymentRequestUpdateEvent/updateWith">PaymentRequestUpdateEvent/updateWith</a>
                    <p class="engines-all">此特性已在所有主流引擎中实现。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>60+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>53+</td>
                        </tr>
                        <tr class="edge yes">
                            <td>Edge</td>
                            <td>15+</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>55+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>11.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>否</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="updatewith-method">
                <div class="header-wrapper">
                    <h4 id="x17-3-2-updatewith-method"><bdi class="secno">17.3.2 </bdi>
                        <dfn data-export="" data-dfn-type="method" id="dom-paymentrequestupdateevent-updatewith"
                            data-idl="operation" data-title="updateWith()" data-dfn-for="PaymentRequestUpdateEvent"
                            data-type="undefined" data-lt="updateWith()|updateWith(detailsPromise)"
                            data-local-lt="PaymentRequestUpdateEvent.updateWith|PaymentRequestUpdateEvent.updateWith()|updateWith"
                            tabindex="0" aria-haspopup="dialog"><code>updateWith()</code></dfn> 方法
                    </h4><a class="self-link" href="#updatewith-method" aria-label="章节 17.3.2 的永久链接"></a>
                </div>

                <div class="note" role="note" id="issue-container-generatedID-32">
                    <div role="heading" class="note-title marker" id="h-note-32" aria-level="5"><span>注意</span></div>
                    <aside class="">
                        <p>
                            如果开发者想要更新支付请求，则需要调用 <a data-link-type="idl" data-lt="updateWith()"
                                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-updatewith-7"><code>updateWith</code></a><code>()</code>
                            并提供一个 <a data-link-type="idl" data-lt="PaymentDetailsUpdate"
                                href="#dom-paymentdetailsupdate" class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-10"><code>PaymentDetailsUpdate</code></a>
                            字典，或一个包含<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-agent-31">用户代理</a>呈现给用户的已更改值的 promise。
                        </p>
                        <p>
                            为防止用户界面阻塞（并反映最终用户通过 UI 所做的更改），开发者需要立即调用 <a data-link-type="idl" data-lt="updateWith()"
                                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-updatewith-8"><code>updateWith</code></a><code>()</code>。
                        </p>
                        <div class="example" id="example-how-to-use-updatewith-correctly">
                            <div class="marker">
                                <a class="self-link"
                                    href="#example-how-to-use-updatewith-correctly">示例<bdi></bdi></a><span
                                    class="example-title">：如何正确使用 `updateWith()`。</span>
                            </div>
                            <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// ❌ 错误 - 这行不通！</span>
request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-keyword">async</span> ev =&gt; {
    <span class="hljs-comment">// await 会进入下一个 tick，并且 updateWith()</span>
    <span class="hljs-comment">// 没有被调用。</span>
    <span class="hljs-keyword">const</span> details = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getNewDetails</span>(oldDetails);
    <span class="hljs-comment">// 💥 所以现在太晚了！updateWith()</span>
    <span class="hljs-comment">// 会抛出 "InvalidStateError"。</span>
    ev.<span class="hljs-title function_">updateWith</span>(details);
};

<span class="hljs-comment">// ✅ 正确 - UI 会等待。</span>
request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
    <span class="hljs-comment">// 使用 promise 调用 updateWith() 是可以的 👍</span>
    <span class="hljs-keyword">const</span> promiseForNewDetails = <span class="hljs-title function_">getNewDetails</span>(oldDetails);
    ev.<span class="hljs-title function_">updateWith</span>(promiseForNewDetails);
};</code></pre>
                        </div>
                        <p>
                            此外，<a data-link-type="attribute" data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate"
                                class="internalDFN" id="ref-for-dfn-waitforupdate-2"><code>[[waitForUpdate]]</code></a>
                            会阻止 <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-11"><code>PaymentRequestUpdateEvent</code></a>
                            的重用。
                        </p>
                        <div class="example" id="example-can-only-call-updatewith-once">
                            <div class="marker">
                                <a class="self-link"
                                    href="#example-can-only-call-updatewith-once">示例<bdi></bdi></a><span
                                    class="example-title">：只能调用 `updateWith()` 一次</span>
                            </div>
                            <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// ❌ 错误 - 调用 updateWith() 两次行不通！</span>
request.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"shippingaddresschange"</span>, <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
    ev.<span class="hljs-title function_">updateWith</span>(details); <span class="hljs-comment">// 这是可以的。</span>
    <span class="hljs-comment">// 💥 [[waitForUpdate]] 为 true，抛出 "InvalidStateError"。</span>
    ev.<span class="hljs-title function_">updateWith</span>(otherDetails);
});

<span class="hljs-comment">// ❌ 错误 - 这也行不通！</span>
request.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"shippingaddresschange"</span>, <span class="hljs-keyword">async</span> ev =&gt; {
    <span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>({ ...details });
    ev.<span class="hljs-title function_">updateWith</span>(p);
    <span class="hljs-keyword">await</span> p;
    <span class="hljs-comment">// 💥 只允许调用 updateWith() 一次，</span>
    <span class="hljs-comment">// 所以下面会抛出 "InvalidStateError"</span>
    ev.<span class="hljs-title function_">updateWith</span>({ ...newDetails });
});</code></pre>
                        </div>
                    </aside>
                </div>
                <p
                    data-tests="PaymentRequestUpdateEvent/updatewith-method.https.html, PaymentRequestUpdateEvent/updateWith-incremental-update-manual.https.html">
                    带有 <var data-type="Promise">detailsPromise</var> 参数的 <a data-link-type="idl" data-lt="updateWith()"
                        href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-updatewith-9"><code>updateWith</code></a><code>()</code>
                    方法<em class="rfc2119">必须</em>按以下方式操作：
                </p>
                <ol class="algorithm">
                    <li>令 <var data-type="PaymentRequestUpdateEvent">event</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>。
                    </li>
                    <li>如果 <var data-type="PaymentRequestUpdateEvent">event</var> 的 <a data-link-type="attribute"
                            href="https://dom.spec.whatwg.org/#dom-event-istrusted"><code>isTrusted</code></a> 属性为
                        false，则<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>一个 "<a
                            data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li>如果 <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                            data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                            id="ref-for-dfn-waitforupdate-3"><code>[[waitForUpdate]]</code></a> 为 true，则<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>一个 "<a
                            data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li>如果 <var data-type="PaymentRequestUpdateEvent">event</var> 的<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#event-target">目标</a>是 <a data-link-type="idl"
                            data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                            id="ref-for-dom-paymentresponse-22"><code>PaymentResponse</code></a> 的实例，则令 <var
                            data-type="PaymentRequest">request</var> 为 <var
                            data-type="PaymentRequestUpdateEvent">event</var> 的<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#event-target">目标</a>的 <a data-link-type="attribute"
                            data-lt="[[request]]" href="#dfn-request" class="internalDFN"
                            id="ref-for-dfn-request-2"><code>[[request]]</code></a>。
                    </li>
                    <li>否则，令 <var data-type="PaymentRequest">request</var> 为 <var
                            data-type="PaymentRequestUpdateEvent">event</var> 的<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#event-target">目标</a>的值。
                    </li>
                    <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var
                            data-type="PaymentRequest">request</var> 是 <a data-link-type="idl" data-lt="PaymentRequest"
                            href="#dom-paymentrequest" class="internalDFN"
                            id="ref-for-dom-paymentrequest-41"><code>PaymentRequest</code></a> 的实例。
                    </li>
                    <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                            data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                            id="ref-for-dfn-state-11"><code>[[state]]</code></a> 不是 "<a data-link-type="dfn|abstract-op"
                            href="#dfn-interactive" class="internalDFN"
                            id="ref-for-dfn-interactive-5">interactive</a>"，则<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>一个 "<a data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                            data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                            id="ref-for-dfn-updating-2"><code>[[updating]]</code></a> 为 true，则<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>一个 "<a data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li>设置 <var data-type="PaymentRequestUpdateEvent">event</var> 的<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#stop-propagation-flag">停止传播标志</a>和<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#stop-immediate-propagation-flag">停止立即传播标志</a>。
                    </li>
                    <li>将 <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                            data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                            id="ref-for-dfn-waitforupdate-4"><code>[[waitForUpdate]]</code></a> 设置为 true。
                    </li>
                    <li>令 <var data-type="URL or null">pmi</var> 为 null。
                    </li>
                    <li>如果 <var data-type="PaymentRequestUpdateEvent">event</var> 具有 <a data-link-type="idl"
                            href="#dom-paymentmethodchangeevent-methodname" class="internalDFN"
                            id="ref-for-dom-paymentmethodchangeevent-methodname-2"><code>methodName</code></a> 属性，则将
                        <var data-type="URL or null">pmi</var> 设置为 <a data-link-type="idl"
                            href="#dom-paymentmethodchangeevent-methodname" class="internalDFN"
                            id="ref-for-dom-paymentmethodchangeevent-methodname-3"><code>methodName</code></a> 属性的值。
                    </li>
                    <li>使用 <var data-type="Promise">detailsPromise</var>、<var data-type="PaymentRequest">request</var> 和
                        <var data-type="URL or null">pmi</var> 运行<a
                            href="#dfn-update-a-paymentrequest-s-details-algorithm" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-update-a-paymentrequest-s-details-algorithm-3">更新
                            <code>PaymentRequest</code> 详细信息算法</a>。
                    </li>
                </ol>
            </section>
            <section id="internal-slots-1">
                <div class="header-wrapper">
                    <h4 id="x17-3-3-internal-slots"><bdi class="secno">17.3.3 </bdi>
                        内部插槽
                    </h4><a class="self-link" href="#internal-slots-1" aria-label="章节 17.3.3 的永久链接"></a>
                </div>

                <p>
                    <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                        class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-12"><code>PaymentRequestUpdateEvent</code></a>
                    的实例是使用下表中的<a data-link-type="dfn|abstract-op"
                        href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a>创建的：
                </p>
                <table class="data" data-dfn-for="PaymentRequestUpdateEvent">
                    <tbody>
                        <tr>
                            <th>
                                内部插槽
                            </th>
                            <th>
                                描述 (<em>非规范性</em>)
                            </th>
                        </tr>
                        <tr>
                            <td>
                                <dfn data-dfn-for="PaymentRequestUpdateEvent" data-idl="" data-noexport=""
                                    data-dfn-type="attribute" id="dfn-waitforupdate" tabindex="0"
                                    aria-haspopup="dialog">[[waitForUpdate]]</dfn>
                            </td>
                            <td>
                                一个布尔值，指示由 <a data-link-type="idl" data-lt="updateWith()"
                                    href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                    id="ref-for-dom-paymentrequestupdateevent-updatewith-10"><code>updateWith</code></a><code>()</code>
                                启动的更新当前是否正在进行中。
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section id="paymentrequestupdateeventinit-dictionary">
                <div class="header-wrapper">
                    <h4 id="x17-3-4-paymentrequestupdateeventinit-dictionary"><bdi class="secno">17.3.4 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentrequestupdateeventinit"
                            data-idl="dictionary" data-title="PaymentRequestUpdateEventInit" data-dfn-for=""
                            tabindex="0" aria-haspopup="dialog"><code>PaymentRequestUpdateEventInit</code></dfn> 字典
                    </h4><a class="self-link" href="#paymentrequestupdateeventinit-dictionary"
                        aria-label="章节 17.3.4 的永久链接"></a>
                </div>

                <pre class="idl def"
                    id="webidl-349124107"><span class="idlHeader"><a class="self-link" href="#webidl-349124107">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentrequestupdateeventinit" data-title="PaymentRequestUpdateEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentrequestupdateeventinit" id="ref-for-dom-paymentrequestupdateeventinit-3"><code>PaymentRequestUpdateEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {};</span></code></pre>
            </section>
        </section>
    </section>
    <section id="algorithms">
        <div class="header-wrapper">
            <h2 id="x18-algorithms"><bdi class="secno">18. </bdi>
                算法
            </h2><a class="self-link" href="#algorithms" aria-label="章节 18 的永久链接。"></a>
        </div>

        <p>
            当 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-42"><code>PaymentRequest</code></a> 对象的<a
                data-link-type="dfn|abstract-op"
                href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a> <a
                data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                id="ref-for-dfn-state-12"><code>[[state]]</code></a> 设置为“<a data-link-type="dfn|abstract-op"
                href="#dfn-interactive" class="internalDFN" id="ref-for-dfn-interactive-6">interactive</a>”时，<a
                href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-user-agent-32">用户代理</a>将根据用户交互触发以下算法。
        </p>
        <section id="can-make-payment-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-1-can-make-payment-algorithm"><bdi class="secno">18.1 </bdi>
                    “可以付款”算法
                </h3><a class="self-link" href="#can-make-payment-algorithm" aria-label="章节 18.1 的永久链接"></a>
            </div>

            <p>
                <dfn id="dfn-can-make-payment-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">“可以付款”算法</dfn>检查<a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-33">用户代理</a>是否支持使用构建 <a data-link-type="idl"
                    data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-43"><code>PaymentRequest</code></a> 时所用的<a href="#dfn-payment-method"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-method-24">付款方式</a>进行付款。
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为调用该方法的 <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-44"><code>PaymentRequest</code></a> 对象。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-13"><code>[[state]]</code></a> 不是“<a
                        data-link-type="dfn|abstract-op" href="#dfn-created" class="internalDFN"
                        id="ref-for-dfn-created-4">created</a>”，则返回<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的 promise</a>，并附带一个“<a
                        data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>”<a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li data-tests="">可选地，由<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">顶级浏览上下文</a>自行决定，返回<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的
                        promise</a>，并附带一个“<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>”<a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    <div class="note" role="note" id="issue-container-generatedID-33">
                        <div role="heading" class="note-title marker" id="h-note-33" aria-level="4"><span>注意</span>
                        </div>
                        <p class="">
                            这允许用户代理应用启发式方法来检测和防止滥用调用方法进行指纹识别，例如创建具有各种受支持<a href="#dfn-payment-method"
                                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-method-25">付款方式</a>的 <a
                                data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-45"><code>PaymentRequest</code></a>
                            对象，并相继对它们触发<a href="#dfn-can-make-payment-algorithm" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-can-make-payment-algorithm-2">“可以付款”算法</a>。例如，用户代理可能会根据<a
                                data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">顶级浏览上下文</a>或进行这些调用的时间段来限制可以进行的成功调用次数。
                        </p>
                    </div>
                </li>
                <li>令 <var data-type="Promise">hasHandlerPromise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">一个新的 promise</a>。
                </li>
                <li>返回 <var data-type="Promise">hasHandlerPromise</var>，并<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>执行其余步骤。
                </li>
                <li>对于 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[serializedMethodData]]" href="#dfn-serializedmethoddata" class="internalDFN"
                        id="ref-for-dfn-serializedmethoddata-3"><code>[[serializedMethodData]]</code></a> 中的每个
                    <var>paymentMethod</var> 元组：
                    <ol>
                        <li>令 <var>identifier</var> 为 <var>paymentMethod</var> 元组中的第一个元素。
                        </li>
                        <li>如果用户代理具有支持处理 <var>identifier</var> 付款请求的<a href="#dfn-payment-handler" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-payment-handler-11">付款处理程序</a>，则使用 true 解析 <var
                                data-type="Promise">hasHandlerPromise</var> 并终止此算法。
                        </li>
                    </ol>
                </li>
                <li>使用 false 解析 <var data-type="Promise">hasHandlerPromise</var>。
                </li>
            </ol>
        </section>
        <section id="shipping-address-changed-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-2-shipping-address-changed-algorithm"><bdi class="secno">18.2 </bdi>
                    送货地址更改算法
                </h3><a class="self-link" href="#shipping-address-changed-algorithm" aria-label="章节 18.2 的永久链接"></a>
            </div>

            <p data-tests="algorithms-manual.https.html#shipping-address-changed-algo">
                当用户提供新的送货地址时，会运行<dfn id="dfn-shipping-address-changed-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">送货地址更改算法</dfn>。它<em class="rfc2119">必须</em>运行以下步骤：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为用户正在与之交互的 <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-46"><code>PaymentRequest</code></a> 对象。
                </li>
                <li>
                    在<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">用户交互任务源</a>上<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>以运行以下步骤：
                    <ol>
                        <li>
                            <div class="note" role="note" id="issue-container-generatedID-34">
                                <div role="heading" class="note-title marker" id="h-note-34" aria-level="4">
                                    <span>注意</span><span class="issue-label">：收件人信息的隐私</span>
                                </div>
                                <div class="">
                                    <p>
                                        <var>redactList</var> 限制了 API 与商家共享的关于收件人的个人信息量。
                                    </p>
                                    <p>
                                        对于商家而言，生成的 <a data-link-type="interface" data-lt="ContactAddress"
                                            href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>
                                        对象提供了足够的信息（例如，用于计算运费），但在大多数情况下，不足以实际定位和唯一识别收件人。
                                    </p>
                                    <p>
                                        不幸的是，即使有 <var>redactList</var>，也无法保证收件人的匿名性。这是因为在某些国家/地区，邮政编码非常精细，可以唯一识别收件人。
                                    </p>
                                </div>
                            </div>
                        </li>
                        <li>令 <var data-type="list">redactList</var> 为空列表。将 <var data-type="list">redactList</var> 设置为 «
                            "organization", "phone", "recipient", "addressLine" »。
                        </li>
                        <li>令 <var data-type="ContactAddress">address</var> 为使用 <var data-type="list">redactList</var>
                            运行<a data-link-type="dfn"
                                href="https://www.w3.org/TR/contact-picker/#contactsmanager-create-a-contactaddress-from-user-provided-input">从用户提供的输入创建联系人地址</a>的步骤的结果。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="idl"
                                href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                                id="ref-for-dom-paymentrequest-shippingaddress-6"><code>shippingAddress</code></a> 设置为
                            <var data-type="ContactAddress">address</var>。
                        </li>
                        <li>使用 <var data-type="PaymentRequest">request</var> 和 "<a href="#dfn-shippingaddresschange"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-shippingaddresschange-2"><code>shippingaddresschange</code></a>" 运行<a
                                href="#dfn-paymentrequest-updated-algorithm" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-paymentrequest-updated-algorithm-1">PaymentRequest 更新算法</a>。
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="shipping-option-changed-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-3-shipping-option-changed-algorithm"><bdi class="secno">18.3 </bdi>
                    送货选项更改算法
                </h3><a class="self-link" href="#shipping-option-changed-algorithm" aria-label="章节 18.3 的永久链接"></a>
            </div>

            <p data-tests="algorithms-manual.https.html#shipping-option-changed-algo">
                当用户选择新的送货选项时，会运行<dfn id="dfn-shipping-option-changed-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">送货选项更改算法</dfn>。它<em class="rfc2119">必须</em>运行以下步骤：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为用户正在与之交互的 <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-47"><code>PaymentRequest</code></a> 对象。
                </li>
                <li>
                    在<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">用户交互任务源</a>上<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>以运行以下步骤：
                    <ol>
                        <li>将 <var data-type="PaymentRequest">request</var> 上的 <a data-link-type="idl"
                                href="#dom-paymentrequest-shippingoption" class="internalDFN"
                                id="ref-for-dom-paymentrequest-shippingoption-7"><code>shippingOption</code></a>
                            属性设置为用户提供的 <a data-link-type="idl" data-lt="PaymentShippingOption"
                                href="#dom-paymentshippingoption" class="internalDFN"
                                id="ref-for-dom-paymentshippingoption-7"><code>PaymentShippingOption</code></a> 的
                            <code>id</code> 字符串。
                        </li>
                        <li>使用 <var data-type="PaymentRequest">request</var> 和 "<a href="#dfn-shippingoptionchange"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-shippingoptionchange-3"><code>shippingoptionchange</code></a>" 运行<a
                                href="#dfn-paymentrequest-updated-algorithm" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-paymentrequest-updated-algorithm-2">PaymentRequest 更新算法</a>。
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="payment-method-changed-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-4-payment-method-changed-algorithm"><bdi class="secno">18.4 </bdi>
                    支付方式更改算法
                </h3><a class="self-link" href="#payment-method-changed-algorithm" aria-label="章节 18.4 的永久链接"></a>
            </div>

            <p>
                当用户使用 <var>methodDetails</var>（一个<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-dictionary">字典</a>、<a data-link-type="interface"
                    data-lt="object" href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a> 或 null）和
                <var>methodName</var>（一个表示用户正在与之交互的<a href="#dfn-payment-handler" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-payment-handler-13">支付处理程序</a>的<a data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>的 DOMString）更改<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-26">支付方式</a>时，<a href="#dfn-payment-handler" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-payment-handler-12">支付处理程序</a> <em
                    class="rfc2119">可以</em>运行<dfn data-export="" data-dfn-for="payment handler"
                    id="dfn-payment-method-changed-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">支付方式更改算法</dfn>。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-35">
                <div role="heading" class="note-title marker" id="h-note-35" aria-level="4"><span>注意</span><span
                        class="issue-label">：paymentmethodchange 事件共享的信息的隐私</span></div>
                <p class="">
                    当用户选择或更改支付方式（例如信用卡）时，<a data-link-type="idl" data-lt="PaymentMethodChangeEvent"
                        href="#dom-paymentmethodchangeevent" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeevent-5"><code>PaymentMethodChangeEvent</code></a>
                    包含经过编辑的账单地址信息，用于执行税务计算。经过编辑的属性包括但不限于<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-address-line">地址行</a>、<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-dependent-locality">下属地区</a>、<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-organization">组织</a>、<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-phone-number">电话号码</a>和<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-recipient">收件人</a>。
                </p>
            </div>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为用户正在与之交互的 <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-48"><code>PaymentRequest</code></a> 对象。
                </li>
                <li>
                    在<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">用户交互任务源</a>上<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>以运行以下步骤：
                    <ol>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                                id="ref-for-dfn-updating-3"><code>[[updating]]</code></a> 为 false。一次只能进行一次更新。
                        </li>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-14"><code>[[state]]</code></a> 为 "<a
                                data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                                id="ref-for-dfn-interactive-7">interactive</a>"。
                        </li>
                        <li>
                            使用 <a data-link-type="idl" data-lt="PaymentMethodChangeEvent"
                                href="#dom-paymentmethodchangeevent" class="internalDFN"
                                id="ref-for-dom-paymentmethodchangeevent-6"><code>PaymentMethodChangeEvent</code></a> 在
                            <var data-type="PaymentRequest">request</var> 上<a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-fire">触发一个名为</a> "<a
                                href="#dfn-paymentmethodchange" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-paymentmethodchange-2"><code>paymentmethodchange</code></a>" 的事件，其 <a
                                data-link-type="idl" href="#dom-paymentmethodchangeevent-methodname" class="internalDFN"
                                id="ref-for-dom-paymentmethodchangeevent-methodname-4"><code>methodName</code></a>
                            属性初始化为 <var>methodName</var>，其 <a data-link-type="idl"
                                href="#dom-paymentmethodchangeevent-methoddetails" class="internalDFN"
                                id="ref-for-dom-paymentmethodchangeevent-methoddetails-3"><code>methodDetails</code></a>
                            属性初始化为 <var>methodDetails</var>。
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="paymentrequest-updated-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-5-paymentrequest-updated-algorithm"><bdi class="secno">18.5 </bdi>
                    PaymentRequest 更新算法
                </h3><a class="self-link" href="#paymentrequest-updated-algorithm" aria-label="章节 18.5 的永久链接"></a>
            </div>

            <p data-tests="algorithms-manual.https.html">
                <dfn id="dfn-paymentrequest-updated-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">PaymentRequest 更新算法</dfn>由上述其他算法运行，以<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-event-fire">触发一个事件</a>，指示用户已对名为 <var>request</var> 的 <a
                    data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-49"><code>PaymentRequest</code></a> 进行了更改，事件名称为 <var>name</var>：
            </p>
            <ol class="algorithm">
                <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var>request</var>.<a
                        data-link-type="attribute" data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                        id="ref-for-dfn-updating-4"><code>[[updating]]</code></a> 为 false。一次只能进行一次更新。
                </li>
                <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var>request</var>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-15"><code>[[state]]</code></a> 为 "<a data-link-type="dfn|abstract-op"
                        href="#dfn-interactive" class="internalDFN" id="ref-for-dfn-interactive-8">interactive</a>"。
                </li>
                <li>令 <var data-type="PaymentRequestUpdateEvent">event</var> 为使用 <a data-link-type="idl"
                        data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent" class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-13"><code>PaymentRequestUpdateEvent</code></a> 接口<a
                        data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create">创建事件</a>的结果。
                </li>
                <li>将 <var data-type="PaymentRequestUpdateEvent">event</var> 的 <a data-link-type="attribute"
                        href="https://dom.spec.whatwg.org/#dom-event-type"><code>type</code></a> 属性初始化为 <var>name</var>。
                </li>
                <li>
                    在 <var>request</var> 上<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-dispatch">分派</a> <var
                        data-type="PaymentRequestUpdateEvent">event</var>。
                </li>
                <li>如果 <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                        data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                        id="ref-for-dfn-waitforupdate-5"><code>[[waitForUpdate]]</code></a> 为
                    true，则禁用用户界面中可能导致触发另一个更新事件的任何部分。
                </li>
                <li>否则，将 <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                        data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                        id="ref-for-dfn-waitforupdate-6"><code>[[waitForUpdate]]</code></a> 设置为 true。
                </li>
            </ol>
        </section>
        <section id="payer-detail-changed-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-6-payer-detail-changed-algorithm"><bdi class="secno">18.6 </bdi>
                    付款人详细信息更改算法
                </h3><a class="self-link" href="#payer-detail-changed-algorithm" aria-label="章节 18.6 的永久链接"></a>
            </div>

            <p>
                当用户在用户界面中更改<var>付款人姓名</var>、<var>付款人电子邮件</var>或<var>付款人电话</var>时，用户代理<em class="rfc2119">必须</em>运行<dfn
                    id="dfn-payer-detail-changed-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">付款人详细信息更改算法</dfn>：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为用户正在与之交互的 <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-50"><code>PaymentRequest</code></a> 对象。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-4"><code>[[response]]</code></a> 为 null，则返回。
                </li>
                <li>令 <var data-type="PaymentResponse">response</var> 为 <var data-type="PaymentRequest">request</var>.<a
                        data-link-type="attribute" data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-5"><code>[[response]]</code></a>。
                </li>
                <li>
                    在<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">用户交互任务源</a>上<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>以运行以下步骤：
                    <ol>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                                id="ref-for-dfn-updating-5"><code>[[updating]]</code></a> 为 false。
                        </li>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-16"><code>[[state]]</code></a> 为 "<a
                                data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                                id="ref-for-dfn-interactive-9">interactive</a>"。
                        </li>
                        <li>令 <var data-type="PaymentOptions">options</var> 为 <var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                id="ref-for-dfn-options-6"><code>[[options]]</code></a>。
                        </li>
                        <li>如果<var>付款人姓名</var>已更改且 <var data-type="PaymentOptions">options</var>.<a data-link-type="idl"
                                href="#dom-paymentoptions-requestpayername" class="internalDFN"
                                id="ref-for-dom-paymentoptions-requestpayername-4"><code>requestPayerName</code></a> 为
                            true：
                            <ol>
                                <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                        href="#dom-paymentresponse-payername" class="internalDFN"
                                        id="ref-for-dom-paymentresponse-payername-4"><code>payerName</code></a> 属性设置为
                                    <var>付款人姓名</var>。
                                </li>
                            </ol>
                        </li>
                        <li>如果<var>付款人电子邮件</var>已更改且 <var data-type="PaymentOptions">options</var>.<a
                                data-link-type="idl" href="#dom-paymentoptions-requestpayeremail" class="internalDFN"
                                id="ref-for-dom-paymentoptions-requestpayeremail-4"><code>requestPayerEmail</code></a> 为
                            true：
                            <ol>
                                <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                        href="#dom-paymentresponse-payeremail" class="internalDFN"
                                        id="ref-for-dom-paymentresponse-payeremail-4"><code>payerEmail</code></a> 设置为
                                    <var>付款人电子邮件</var>。
                                </li>
                            </ol>
                        </li>
                        <li>如果<var>付款人电话</var>已更改且 <var data-type="PaymentOptions">options</var>.<a data-link-type="idl"
                                href="#dom-paymentoptions-requestpayerphone" class="internalDFN"
                                id="ref-for-dom-paymentoptions-requestpayerphone-4"><code>requestPayerPhone</code></a> 为
                            true：
                            <ol>
                                <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                        href="#dom-paymentresponse-payerphone" class="internalDFN"
                                        id="ref-for-dom-paymentresponse-payerphone-4"><code>payerPhone</code></a> 设置为
                                    <var>付款人电话</var>。
                                </li>
                            </ol>
                        </li>
                        <li>令 <var data-type="PaymentRequestUpdateEvent">event</var> 为使用 <a data-link-type="idl"
                                data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                                class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-14"><code>PaymentRequestUpdateEvent</code></a>
                            <a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-create">创建事件</a>的结果。
                        </li>
                        <li>将 <var data-type="PaymentRequestUpdateEvent">event</var> 的 <a data-link-type="attribute"
                                href="https://dom.spec.whatwg.org/#dom-event-type"><code>type</code></a> 属性初始化为 "<a
                                href="#dfn-payerdetailchange" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payerdetailchange-2"><code>payerdetailchange</code></a>"。
                        </li>
                        <li>
                            在 <var data-type="PaymentResponse">response</var> 上<a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-dispatch">分派</a> <var
                                data-type="PaymentRequestUpdateEvent">event</var>。
                        </li>
                        <li>如果 <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                                data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                                id="ref-for-dfn-waitforupdate-7"><code>[[waitForUpdate]]</code></a> 为
                            true，则禁用用户界面中可能导致再次触发付款人详细信息更改的任何部分。
                        </li>
                        <li>否则，将 <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                                data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                                id="ref-for-dfn-waitforupdate-8"><code>[[waitForUpdate]]</code></a> 设置为 true。
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="user-accepts-the-payment-request-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-7-user-accepts-the-payment-request-algorithm"><bdi class="secno">18.7 </bdi>
                    用户接受支付请求算法
                </h3><a class="self-link" href="#user-accepts-the-payment-request-algorithm"
                    aria-label="章节 18.7 的永久链接"></a>
            </div>

            <p data-tests="user-accepts-payment-request-algo-manual.https.html">
                当用户接受支付请求并确认他们想要支付时，会运行<dfn data-local-lt="user accepts the payment request" data-export=""
                    data-lt="user accepts the payment request algorithm|user accepts the payment request"
                    id="dfn-user-accepts-the-payment-request-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">用户接受支付请求算法</dfn>。它<em class="rfc2119">必须</em>在<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">用户交互任务源</a>上<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>以执行以下步骤：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为用户正在与之交互的 <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-51"><code>PaymentRequest</code></a> 对象。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                        id="ref-for-dfn-updating-6"><code>[[updating]]</code></a> 为 true，则终止此算法并且不执行任何进一步操作。<a
                        href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-34">用户代理</a>用户界面<em class="rfc2119">应该</em>确保这种情况永远不会发生。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-17"><code>[[state]]</code></a> 不是“<a
                        data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-10">interactive</a>”，则终止此算法并且不执行任何进一步操作。<a href="#dfn-user-agent"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-35">用户代理</a>用户界面<em
                        class="rfc2119">应该</em>确保这种情况永远不会发生。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-7"><code>[[options]]</code></a>
                    的 <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-11"><code>requestShipping</code></a> 值为 true，那么如果
                    <var data-type="PaymentRequest">request</var> 的 <a data-link-type="idl"
                        href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingaddress-7"><code>shippingAddress</code></a> 属性为 null，或者如果
                    <var data-type="PaymentRequest">request</var> 的 <a data-link-type="idl"
                        href="#dom-paymentrequest-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingoption-8"><code>shippingOption</code></a> 属性为
                    null，则终止此算法并且不执行任何进一步操作。<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-36">用户代理</a><em class="rfc2119">应该</em>确保这种情况永远不会发生。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-6"><code>[[response]]</code></a> 不为 null，则令 <var
                        data-type="boolean">isRetry</var> 为 true，否则为 false。
                </li>
                <li>如果 <var data-type="boolean">isRetry</var> 为 true，则令 <var data-type="PaymentResponse">response</var>
                    为 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                        href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-7"><code>[[response]]</code></a>，否则为一个新的 <a data-link-type="idl"
                        data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                        id="ref-for-dom-paymentresponse-23"><code>PaymentResponse</code></a>。
                </li>
                <li>如果 <var data-type="boolean">isRetry</var> 为 false，则初始化新创建的 <var
                        data-type="PaymentResponse">response</var>：
                    <ol>
                        <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[request]]" href="#dfn-request" class="internalDFN"
                                id="ref-for-dfn-request-3"><code>[[request]]</code></a> 设置为 <var
                                data-type="PaymentRequest">request</var>。
                        </li>
                        <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                                id="ref-for-dfn-retrypromise-7"><code>[[retryPromise]]</code></a> 设置为 null。
                        </li>
                        <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                                id="ref-for-dfn-complete-4"><code>[[complete]]</code></a> 设置为 false。
                        </li>
                        <li>将 <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                                href="#dom-paymentresponse-requestid" class="internalDFN"
                                id="ref-for-dom-paymentresponse-requestid-2"><code>requestId</code></a> 属性值设置为 <var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[details]]" href="#dfn-details" class="internalDFN"
                                id="ref-for-dfn-details-4"><code>[[details]]</code></a>.<a data-link-type="idl"
                                href="#dom-paymentdetailsinit-id" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-id-7"><code>id</code></a> 的值。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                                id="ref-for-dfn-response-8"><code>[[response]]</code></a> 设置为 <var
                                data-type="PaymentResponse">response</var>。
                        </li>
                    </ol>
                </li>
                <li>令 <var data-type="payment handler">handler</var> 为 <var data-type="PaymentRequest">request</var>.<a
                        data-link-type="attribute" data-lt="[[handler]]" href="#dfn-handler" class="internalDFN"
                        id="ref-for-dfn-handler-4"><code>[[handler]]</code></a>。
                </li>
                <li>将 <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                        href="#dom-paymentresponse-methodname" class="internalDFN"
                        id="ref-for-dom-paymentresponse-methodname-6"><code>methodName</code></a> 属性值设置为 <var
                        data-type="payment handler">handler</var> 的<a data-link-type="dfn"
                        href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>。
                </li>
                <li>将 <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                        href="#dom-paymentresponse-details" class="internalDFN"
                        id="ref-for-dom-paymentresponse-details-2"><code>details</code></a> 属性值设置为运行 <var
                        data-type="payment handler">handler</var> 的<a href="#dfn-steps-to-respond-to-a-payment-request"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-steps-to-respond-to-a-payment-request-1">响应支付请求的步骤</a>所产生的对象。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-8"><code>[[options]]</code></a>
                    的 <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-12"><code>requestShipping</code></a> 值为 false，则将
                    <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                        href="#dom-paymentresponse-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentresponse-shippingaddress-3"><code>shippingAddress</code></a> 属性值设置为
                    null。否则：
                    <ol>
                        <li>令 <var data-type="ContactAddress">shippingAddress</var> 为<a data-link-type="dfn"
                                href="https://www.w3.org/TR/contact-picker/#contactsmanager-create-a-contactaddress-from-user-provided-input">从用户提供的输入创建联系人地址</a>的结果。
                        </li>
                        <li>将 <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                                href="#dom-paymentresponse-shippingaddress" class="internalDFN"
                                id="ref-for-dom-paymentresponse-shippingaddress-4"><code>shippingAddress</code></a>
                            属性值设置为 <var data-type="ContactAddress">shippingAddress</var>。
                        </li>
                        <li>将 <var data-type="PaymentRequest">request</var> 的 <a data-link-type="idl"
                                href="#dom-paymentresponse-shippingaddress" class="internalDFN"
                                id="ref-for-dom-paymentresponse-shippingaddress-5"><code>shippingAddress</code></a>
                            属性值设置为 <var data-type="ContactAddress">shippingAddress</var>。
                        </li>
                    </ol>
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-9"><code>[[options]]</code></a>
                    的 <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-13"><code>requestShipping</code></a> 值为 true，则将
                    <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                        href="#dom-paymentresponse-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentresponse-shippingoption-2"><code>shippingOption</code></a> 属性设置为 <var
                        data-type="PaymentRequest">request</var> 的 <a data-link-type="idl"
                        href="#dom-paymentresponse-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentresponse-shippingoption-3"><code>shippingOption</code></a> 属性的值。否则，将其设置为
                    null。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-10"><code>[[options]]</code></a>
                    的 <a data-link-type="idl" href="#dom-paymentoptions-requestpayername" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestpayername-5"><code>requestPayerName</code></a> 值为 true，则将
                    <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                        href="#dom-paymentresponse-payername" class="internalDFN"
                        id="ref-for-dom-paymentresponse-payername-5"><code>payerName</code></a> 属性设置为用户提供的付款人姓名，如果未提供则为
                    null。否则，将其设置为 null。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-11"><code>[[options]]</code></a>
                    的 <a data-link-type="idl" href="#dom-paymentoptions-requestpayeremail" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestpayeremail-5"><code>requestPayerEmail</code></a> 值为
                    true，则将 <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                        href="#dom-paymentresponse-payeremail" class="internalDFN"
                        id="ref-for-dom-paymentresponse-payeremail-5"><code>payerEmail</code></a>
                    属性设置为用户提供的付款人电子邮件地址，如果未提供则为 null。否则，将其设置为 null。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-12"><code>[[options]]</code></a>
                    的 <a data-link-type="idl" href="#dom-paymentoptions-requestpayerphone" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestpayerphone-5"><code>requestPayerPhone</code></a> 值为
                    true，则将 <var data-type="PaymentResponse">response</var> 的 <a data-link-type="idl"
                        href="#dom-paymentresponse-payerphone" class="internalDFN"
                        id="ref-for-dom-paymentresponse-payerphone-5"><code>payerPhone</code></a>
                    属性设置为用户提供的付款人电话号码，如果未提供则为 null。设置 <a data-link-type="idl" href="#dom-paymentresponse-payerphone"
                        class="internalDFN" id="ref-for-dom-paymentresponse-payerphone-6"><code>payerPhone</code></a>
                    值时，用户代理<em class="rfc2119">应该</em>将电话号码格式化以符合 [<cite><a class="bibref" data-link-type="biblio"
                            href="#bib-e.164" title="国际公共电信编号计划">E.164</a></cite>]。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-18"><code>[[state]]</code></a>
                    设置为“<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                        id="ref-for-dfn-closed-8">closed</a>”。
                </li>
                <li>如果 <var data-type="boolean">isRetry</var> 为 true，则使用 undefined 解析 <var
                        data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-8"><code>[[retryPromise]]</code></a>。否则，使用 <var
                        data-type="PaymentResponse">response</var> 解析 <var data-type="PaymentRequest">request</var>.<a
                        data-link-type="attribute" data-lt="[[acceptPromise]]" href="#dfn-acceptpromise"
                        class="internalDFN" id="ref-for-dfn-acceptpromise-5"><code>[[acceptPromise]]</code></a>。
                </li>
            </ol>
        </section>
        <section id="user-aborts-the-payment-request-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-8-user-aborts-the-payment-request-algorithm"><bdi class="secno">18.8 </bdi>
                    用户中止支付请求算法
                </h3><a class="self-link" href="#user-aborts-the-payment-request-algorithm"
                    aria-label="章节 18.8 的永久链接"></a>
            </div>

            <p data-tests="user-abort-algorithm-manual.https.html">
                当用户通过当前交互式用户界面中止支付请求时，会运行<dfn
                    data-lt="user aborts the payment request|user aborts the payment request algorithm"
                    id="dfn-user-aborts-the-payment-request" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">用户中止支付请求算法</dfn>。它<em class="rfc2119">必须</em>在<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">用户交互任务源</a>上<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>以执行以下步骤：
            </p>
            <ol class="algorithm">
                <li>令 <var data-type="PaymentRequest">request</var> 为用户正在与之交互的 <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-52"><code>PaymentRequest</code></a> 对象。
                </li>
                <li>如果 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-19"><code>[[state]]</code></a> 不是“<a
                        data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-11">interactive</a>”，则终止此算法并且不执行任何进一步操作。<a href="#dfn-user-agent"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-37">用户代理</a>用户界面<em
                        class="rfc2119">应该</em>确保这种情况永远不会发生。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-20"><code>[[state]]</code></a>
                    设置为“<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                        id="ref-for-dfn-closed-9">closed</a>”。
                </li>
                <li>将 <var data-type="PaymentRequest">request</var> 的<a href="#dfn-payment-relevant-browsing-context"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-relevant-browsing-context-10">与支付相关的浏览上下文</a>的<a
                        href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-request-is-showing-12">支付请求正在显示</a>布尔值设置为 false。
                </li>
                <li>令 <var>error</var> 为一个“<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>”<a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                </li>
                <li>令 <var data-type="PaymentResponse">response</var> 为 <var data-type="PaymentRequest">request</var>.<a
                        data-link-type="attribute" data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-9"><code>[[response]]</code></a>。
                </li>
                <li>如果 <var data-type="PaymentResponse">response</var> 不为 null：
                    <ol>
                        <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                                id="ref-for-dfn-complete-5"><code>[[complete]]</code></a> 设置为 true。
                        </li>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var
                                data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                                id="ref-for-dfn-retrypromise-9"><code>[[retryPromise]]</code></a> 不为 null。
                        </li>
                        <li>使用 <var>error</var> 拒绝 <var data-type="PaymentResponse">response</var>.<a
                                data-link-type="attribute" data-lt="[[retryPromise]]" href="#dfn-retrypromise"
                                class="internalDFN" id="ref-for-dfn-retrypromise-10"><code>[[retryPromise]]</code></a>。
                        </li>
                    </ol>
                </li>
                <li>否则，使用 <var>error</var> 拒绝 <var data-type="PaymentRequest">request</var>.<a
                        data-link-type="attribute" data-lt="[[acceptPromise]]" href="#dfn-acceptpromise"
                        class="internalDFN" id="ref-for-dfn-acceptpromise-6"><code>[[acceptPromise]]</code></a>。
                </li>
                <li>中止当前用户交互并关闭任何剩余的用户界面。
                </li>
            </ol>
        </section>
        <section id="update-a-paymentrequest-s-details-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-9-update-a-paymentrequest-s-details-algorithm"><bdi class="secno">18.9 </bdi>
                    更新 <code>PaymentRequest</code> 的详细信息算法
                </h3><a class="self-link" href="#update-a-paymentrequest-s-details-algorithm"
                    aria-label="章节 18.9 的永久链接"></a>
            </div>

            <p>
                <dfn id="dfn-update-a-paymentrequest-s-details-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">更新 <code>PaymentRequest</code> 的详细信息算法</dfn>接受一个 <a data-link-type="idl"
                    data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate" class="internalDFN"
                    id="ref-for-dom-paymentdetailsupdate-11"><code>PaymentDetailsUpdate</code></a>
                <var>detailsPromise</var>、一个 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-53"><code>PaymentRequest</code></a>
                <var>request</var> 和一个 <var>pmi</var>（一个 DOMString 或 null，即<a data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>）。这些步骤取决于
                <var>detailsPromise</var> 的解决情况。如果 <var>detailsPromise</var> 永远不解决，则支付请求将被阻塞。用户代理<em
                    class="rfc2119">应该</em>为用户提供中止支付请求的方法。如果 <var>detailsPromise</var> 在合理的时间内没有解决，实现<em
                    class="rfc2119">可以</em>选择为待处理的更新实现超时。
            </p>
            <p>
                如果发生超时、用户手动中止或<a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-handler-14">支付处理程序</a>决定中止此特定支付，用户代理<em class="rfc2119">必须</em>运行<a
                    href="#dfn-user-aborts-the-payment-request" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-aborts-the-payment-request-7">用户中止支付请求算法</a>。
            </p>
            <ol class="algorithm">
                <li>将 <var>request</var>.<a data-link-type="attribute" data-lt="[[updating]]" href="#dfn-updating"
                        class="internalDFN" id="ref-for-dfn-updating-7"><code>[[updating]]</code></a> 设置为 true。
                </li>
                <li>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行地</a>，禁用允许用户接受支付请求的用户界面。这是为了确保在用户界面更新任何新详细信息之前不接受支付。
                </li>
                <li>
                    当 <var>detailsPromise</var> <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#upon-rejection">被拒绝时</a>：
                    <ol>
                        <li>
                            使用 <var>request</var> 和一个“<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>”<a
                                data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> <a
                                href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-abort-the-update-2">中止更新</a>。
                        </li>
                    </ol>
                </li>
                <li>
                    当 <var>detailsPromise</var> <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#upon-fulfillment">被满足</a>且值为 <var>value</var> 时：
                    <ol>
                        <li>令 <var data-type="PaymentDetailsUpdate">details</var> 为将 <var>value</var> <a
                                data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换</a>为 <a
                                data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-12"><code>PaymentDetailsUpdate</code></a>
                            字典的结果。如果此操作<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>异常，则使用 <var>request</var>
                            和抛出的异常<a href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-abort-the-update-3">中止更新</a>。
                        </li>
                        <li>令 <var>serializedModifierData</var> 为一个空列表。
                        </li>
                        <li>令 <var>selectedShippingOption</var> 为 null。
                        </li>
                        <li>令 <var>shippingOptions</var> 为一个空的
                            <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a></code>&lt;<a
                                data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                                class="internalDFN"
                                id="ref-for-dom-paymentshippingoption-8"><code>PaymentShippingOption</code></a>&gt;。
                        </li>
                        <li>验证并规范化详细信息：
                            <ol>
                                <li>如果 <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentdetailsupdate-total" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsupdate-total-3"><code>total</code></a> 成员存在，则：
                                    <ol>
                                        <li>
                                            <a href="#dfn-check-and-canonicalize-total-amount" class="internalDFN"
                                                data-link-type="dfn"
                                                id="ref-for-dfn-check-and-canonicalize-total-amount-3">检查并规范化总金额</a>
                                            <var data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsupdate-total" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsupdate-total-4"><code>total</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                                id="ref-for-dom-paymentitem-amount-11"><code>amount</code></a>。如果抛出异常，则使用
                                            <var>request</var> 和该异常<a href="#dfn-abort-the-update" class="internalDFN"
                                                data-link-type="dfn" id="ref-for-dfn-abort-the-update-4">中止更新</a>。
                                        </li>
                                    </ol>
                                </li>
                                <li>如果 <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-displayitems-6"><code>displayItems</code></a>
                                    成员存在，则对于 <var data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-displayitems-7"><code>displayItems</code></a>
                                    中的每个 <var>item</var>：
                                    <ol>
                                        <li>
                                            <a href="#dfn-check-and-canonicalize-amount" class="internalDFN"
                                                data-link-type="dfn"
                                                id="ref-for-dfn-check-and-canonicalize-amount-6">检查并规范化金额</a>
                                            <var>item</var>.<a data-link-type="idl" href="#dom-paymentitem-amount"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentitem-amount-12"><code>amount</code></a>。如果抛出异常，则使用
                                            <var>request</var> 和该异常<a href="#dfn-abort-the-update" class="internalDFN"
                                                data-link-type="dfn" id="ref-for-dfn-abort-the-update-5">中止更新</a>。
                                        </li>
                                    </ol>
                                </li>
                                <li>如果 <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-shippingoptions-7"><code>shippingOptions</code></a>
                                    成员存在，并且 <var>request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                                        href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-13"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestshipping-14"><code>requestShipping</code></a>
                                    为 true，则：
                                    <ol>
                                        <li>令 <var>seenIDs</var> 为一个空集合。
                                        </li>
                                        <li>对于 <var data-type="PaymentDetailsUpdate">details</var>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-shippingoptions-8"><code>shippingOptions</code></a>
                                            中的每个 <var>option</var>：
                                            <ol>
                                                <li>
                                                    <a href="#dfn-check-and-canonicalize-amount" class="internalDFN"
                                                        data-link-type="dfn"
                                                        id="ref-for-dfn-check-and-canonicalize-amount-7">检查并规范化金额</a>
                                                    <var>option</var>.<a data-link-type="idl"
                                                        href="#dom-paymentshippingoption-amount" class="internalDFN"
                                                        id="ref-for-dom-paymentshippingoption-amount-2"><code>amount</code></a>。如果抛出异常，则使用
                                                    <var>request</var> 和该异常<a href="#dfn-abort-the-update"
                                                        class="internalDFN" data-link-type="dfn"
                                                        id="ref-for-dfn-abort-the-update-6">中止更新</a>。
                                                </li>
                                                <li
                                                    data-tests="PaymentRequestUpdateEvent/updateWith-duplicate-shipping-options-manual.https.html">
                                                    如果
                                                    <var>seenIDs</var>[<var>option</var>.{{PaymentShippingOption/id}}]
                                                    存在，则使用 <var>request</var> 和一个 <a data-link-type="exception"
                                                        data-lt="TypeError"
                                                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                                                    <a href="#dfn-abort-the-update" class="internalDFN"
                                                        data-link-type="dfn"
                                                        id="ref-for-dfn-abort-the-update-7">中止更新</a>。
                                                </li>
                                                <li>将 <var>option</var>.<a data-link-type="idl"
                                                        href="#dom-paymentshippingoption-id" class="internalDFN"
                                                        id="ref-for-dom-paymentshippingoption-id-7"><code>id</code></a>
                                                    附加到 <var>seenIDs</var>。
                                                </li>
                                                <li>将 <var>option</var> 附加到 <var>shippingOptions</var>。
                                                </li>
                                                <li>如果 <var>option</var>.<a data-link-type="idl"
                                                        href="#dom-paymentshippingoption-selected" class="internalDFN"
                                                        id="ref-for-dom-paymentshippingoption-selected-6"><code>selected</code></a>
                                                    为 true，则将 <var>selectedShippingOption</var> 设置为 <var>option</var>.<a
                                                        data-link-type="idl" href="#dom-paymentshippingoption-id"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentshippingoption-id-8"><code>id</code></a>。
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                                <li>如果 <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-modifiers-7"><code>modifiers</code></a>
                                    成员存在，则：
                                    <ol>
                                        <li>令 <var>modifiers</var> 为序列 <var
                                                data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-modifiers-8"><code>modifiers</code></a>。
                                        </li>
                                        <li>令 <var>serializedModifierData</var> 为一个空列表。
                                        </li>
                                        <li>对于 <var>modifiers</var> 中的每个 <a data-link-type="idl"
                                                data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-8"><code>PaymentDetailsModifier</code></a>
                                            <var>modifier</var>：
                                            <ol>
                                                <li data-tests="updateWith-method-pmi-handling-manual.https.html">
                                                    使用 <var>modifier</var>.<a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-supportedmethods"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-supportedmethods-5"><code>supportedMethods</code></a>
                                                    运行<a data-link-type="dfn"
                                                        href="https://www.w3.org/TR/payment-method-id/#dfn-validate-a-payment-method-identifier">验证支付方式标识符</a>的步骤。如果返回
                                                    false，则使用 <var>request</var> 和一个 <a data-link-type="exception"
                                                        data-lt="RangeError"
                                                        href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                                                    异常<a href="#dfn-abort-the-update" class="internalDFN"
                                                        data-link-type="dfn"
                                                        id="ref-for-dfn-abort-the-update-8">中止更新</a>。可选地，通知开发者支付方式标识符无效。
                                                </li>
                                                <li>如果 <var>modifier</var> 的 <a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-total-6"><code>total</code></a>
                                                    成员存在，则：
                                                    <ol>
                                                        <li>
                                                            <a href="#dfn-check-and-canonicalize-total-amount"
                                                                class="internalDFN" data-link-type="dfn"
                                                                id="ref-for-dfn-check-and-canonicalize-total-amount-4">检查并规范化总金额</a>
                                                            <var>modifier</var>.<a data-link-type="idl"
                                                                href="#dom-paymentdetailsmodifier-total"
                                                                class="internalDFN"
                                                                id="ref-for-dom-paymentdetailsmodifier-total-7"><code>total</code></a>.<a
                                                                data-link-type="idl" href="#dom-paymentitem-amount"
                                                                class="internalDFN"
                                                                id="ref-for-dom-paymentitem-amount-13"><code>amount</code></a>。如果抛出异常，则使用
                                                            <var>request</var> 和该异常<a href="#dfn-abort-the-update"
                                                                class="internalDFN" data-link-type="dfn"
                                                                id="ref-for-dfn-abort-the-update-9">中止更新</a>。
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li>如果 <var>modifier</var> 的 <a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-5"><code>additionalDisplayItems</code></a>
                                                    成员存在，则对于 <var>modifier</var>.<a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-6"><code>additionalDisplayItems</code></a>
                                                    中的每个 <a data-link-type="idl" data-lt="PaymentItem"
                                                        href="#dom-paymentitem" class="internalDFN"
                                                        id="ref-for-dom-paymentitem-13"><code>PaymentItem</code></a>
                                                    <var>item</var>：
                                                    <ol>
                                                        <li>
                                                            <a href="#dfn-check-and-canonicalize-amount"
                                                                class="internalDFN" data-link-type="dfn"
                                                                id="ref-for-dfn-check-and-canonicalize-amount-8">检查并规范化金额</a>
                                                            <var>item</var>.<a data-link-type="idl"
                                                                href="#dom-paymentitem-amount" class="internalDFN"
                                                                id="ref-for-dom-paymentitem-amount-14"><code>amount</code></a>。如果抛出异常，则使用
                                                            <var>request</var> 和该异常<a href="#dfn-abort-the-update"
                                                                class="internalDFN" data-link-type="dfn"
                                                                id="ref-for-dfn-abort-the-update-10">中止更新</a>。
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li>如果 <var>modifier</var> 的 <a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-data-7"><code>data</code></a>
                                                    成员缺失，则令 <var>serializedData</var> 为 null。否则，令
                                                    <var>serializedData</var> 为将 <var>modifier</var>.<a
                                                        data-link-type="idl" href="#dom-paymentdetailsmodifier-data"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-data-8"><code>data</code></a>
                                                    <a data-link-type="dfn"
                                                        data-lt="serialize a JavaScript value to a JSON string"
                                                        href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">序列化</a>为
                                                    JSON 字符串的结果。如果抛出异常，则使用 <var>request</var> 和该异常<a
                                                        href="#dfn-abort-the-update" class="internalDFN"
                                                        data-link-type="dfn"
                                                        id="ref-for-dfn-abort-the-update-11">中止更新</a>。
                                                </li>
                                                <li>将 <var>serializedData</var> 添加到 <var>serializedModifierData</var>。
                                                </li>
                                                <li>如果 <var>modifier</var> 的 <a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-data-9"><code>data</code></a>
                                                    成员存在，则移除它。
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>如果 <a data-link-type="idl" href="#dom-paymentdetailsupdate-paymentmethoderrors"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-2"><code>paymentMethodErrors</code></a>
                            成员存在且 <var>identifier</var> 不为 null：
                            <ol>
                                <li>如果定义 <var>pmi</var> 的规范要求，则将 <a data-link-type="idl"
                                        href="#dom-paymentdetailsupdate-paymentmethoderrors" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-3"><code>paymentMethodErrors</code></a>
                                    <a data-link-type="dfn" data-lt="converted to an IDL value"
                                        href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转换</a>为
                                    IDL 值。
                                </li>
                                <li>如果转换导致<a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-exception">异常</a> <var>error</var>，则使用
                                    <var>error</var> <a href="#dfn-abort-the-update" class="internalDFN"
                                        data-link-type="dfn" id="ref-for-dfn-abort-the-update-12">中止更新</a>。
                                </li>
                                <li><a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-payment-handler-15">支付处理程序</a><em class="rfc2119">应该</em>为 <a
                                        data-link-type="idl" href="#dom-paymentdetailsupdate-paymentmethoderrors"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-4"><code>paymentMethodErrors</code></a>
                                    的每个相关错误字段显示错误。
                                </li>
                            </ol>
                        </li>
                        <li>使用新详细信息更新 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-54"><code>PaymentRequest</code></a>：
                            <ol>
                                <li>如果 <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentdetailsupdate-total" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsupdate-total-5"><code>total</code></a> 成员存在，则：
                                    <ol>
                                        <li>将 <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                                href="#dfn-details" class="internalDFN"
                                                id="ref-for-dfn-details-5"><code>[[details]]</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsinit-total"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsinit-total-7"><code>total</code></a> 设置为
                                            <var data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsupdate-total" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsupdate-total-6"><code>total</code></a>。
                                        </li>
                                    </ol>
                                </li>
                                <li>如果 <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-displayitems-8"><code>displayItems</code></a>
                                    成员存在，则：
                                    <ol>
                                        <li>将 <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                                href="#dfn-details" class="internalDFN"
                                                id="ref-for-dfn-details-6"><code>[[details]]</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-displayitems-9"><code>displayItems</code></a>
                                            设置为 <var data-type="PaymentDetailsUpdate">details</var>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-displayitems-10"><code>displayItems</code></a>。
                                        </li>
                                    </ol>
                                </li>
                                <li>如果 <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-shippingoptions-9"><code>shippingOptions</code></a>
                                    成员存在，并且 <var>request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                                        href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-14"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestshipping-15"><code>requestShipping</code></a>
                                    为 true，则：
                                    <ol>
                                        <li>将 <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                                href="#dfn-details" class="internalDFN"
                                                id="ref-for-dfn-details-7"><code>[[details]]</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-shippingoptions-10"><code>shippingOptions</code></a>
                                            设置为 <var>shippingOptions</var>。
                                        </li>
                                        <li>将 <var>request</var> 的 <a data-link-type="idl"
                                                href="#dom-paymentrequest-shippingoption" class="internalDFN"
                                                id="ref-for-dom-paymentrequest-shippingoption-9"><code>shippingOption</code></a>
                                            属性的值设置为 <var>selectedShippingOption</var>。
                                        </li>
                                    </ol>
                                </li>
                                <li>如果 <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-modifiers-9"><code>modifiers</code></a>
                                    成员存在，则：
                                    <ol>
                                        <li>将 <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                                href="#dfn-details" class="internalDFN"
                                                id="ref-for-dfn-details-8"><code>[[details]]</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-modifiers-10"><code>modifiers</code></a>
                                            设置为 <var data-type="PaymentDetailsUpdate">details</var>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-modifiers-11"><code>modifiers</code></a>。
                                        </li>
                                        <li>将 <var>request</var>.<a data-link-type="attribute"
                                                data-lt="[[serializedModifierData]]" href="#dfn-serializedmodifierdata"
                                                class="internalDFN"
                                                id="ref-for-dfn-serializedmodifierdata-7"><code>[[serializedModifierData]]</code></a>
                                            设置为 <var>serializedModifierData</var>。
                                        </li>
                                    </ol>
                                </li>
                                <li>
                                    <p>
                                        如果 <var>request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                                            href="#dfn-options" class="internalDFN"
                                            id="ref-for-dfn-options-15"><code>[[options]]</code></a>.<a
                                            data-link-type="idl" href="#dom-paymentoptions-requestshipping"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentoptions-requestshipping-16"><code>requestShipping</code></a>
                                        为 true，并且 <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                            href="#dfn-details" class="internalDFN"
                                            id="ref-for-dfn-details-9"><code>[[details]]</code></a>.<a
                                            data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentdetailsbase-shippingoptions-11"><code>shippingOptions</code></a>
                                        为空，则开发者已表示对于当前选择的送货地址（由 <var>request</var> 的 <a data-link-type="idl"
                                            href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                                            id="ref-for-dom-paymentrequest-shippingaddress-8"><code>shippingAddress</code></a>
                                        给出）没有有效的送货选项。
                                    </p>
                                    <p>
                                        在这种情况下，用户代理<em class="rfc2119">应该</em>显示一个错误来指示这一点，并且<em
                                            class="rfc2119">可以</em>指示当前选择的送货地址在某种程度上无效。用户代理<em class="rfc2119">应该</em>使用
                                        <var data-type="PaymentDetailsUpdate">details</var> 的 <a data-link-type="idl"
                                            href="#dom-paymentdetailsupdate-error" class="internalDFN"
                                            id="ref-for-dom-paymentdetailsupdate-error-3"><code>error</code></a>
                                        成员（如果存在）来提供更多关于为什么该地址没有有效送货选项的信息。
                                    </p>
                                    <p>
                                        此外，如果 <var data-type="PaymentDetailsUpdate">details</var>["<a
                                            data-link-type="idl" href="#dom-paymentdetailsupdate-shippingaddresserrors"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-4"><code>shippingAddressErrors</code></a>"]
                                        成员存在，用户代理<em class="rfc2119">应该</em>为送货地址的每个错误字段专门显示一个错误。这是通过将 <a
                                            data-link-type="idl" data-lt="AddressErrors" href="#dom-addresserrors"
                                            class="internalDFN"
                                            id="ref-for-dom-addresserrors-6"><code>AddressErrors</code></a>
                                        的每个存在的成员与所显示用户界面中的相应输入字段进行匹配来完成的。
                                    </p>
                                    <p>
                                        类似地，如果 <var data-type="PaymentDetailsUpdate">details</var>["<a
                                            data-link-type="idl" data-lt="payerErrors" href="#dom-payererrors"
                                            class="internalDFN"
                                            id="ref-for-dom-payererrors-5"><code>payerErrors</code></a>"] 成员存在且
                                        <var>request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                                            href="#dfn-options" class="internalDFN"
                                            id="ref-for-dfn-options-16"><code>[[options]]</code></a> 的 <a
                                            data-link-type="idl" href="#dom-paymentoptions-requestpayername"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentoptions-requestpayername-6"><code>requestPayerName</code></a>、<a
                                            data-link-type="idl" href="#dom-paymentoptions-requestpayeremail"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentoptions-requestpayeremail-6"><code>requestPayerEmail</code></a>
                                        或 <a data-link-type="idl" href="#dom-paymentoptions-requestpayerphone"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentoptions-requestpayerphone-6"><code>requestPayerPhone</code></a>
                                        为 true，则为每个错误字段专门显示一个错误。
                                    </p>
                                    <p>
                                        同样，如果 <var data-type="PaymentDetailsUpdate">details</var>.<a
                                            data-link-type="idl" href="#dom-paymentdetailsupdate-paymentmethoderrors"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-5"><code>paymentMethodErrors</code></a>
                                        存在，则为特定支付方式的每个错误输入字段专门显示错误。
                                    </p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>将 <var>request</var>.<a data-link-type="attribute" data-lt="[[updating]]" href="#dfn-updating"
                        class="internalDFN" id="ref-for-dfn-updating-8"><code>[[updating]]</code></a> 设置为 false。
                </li>
                <li>根据 <var>request</var> 中任何已更改的值更新用户界面。重新启用在此算法运行之前禁用的用户界面元素。
                </li>
            </ol>
            <section id="abort-the-update">
                <div class="header-wrapper">
                    <h4 id="x18-9-1-abort-the-update"><bdi class="secno">18.9.1 </bdi>
                        中止更新
                    </h4><a class="self-link" href="#abort-the-update" aria-label="章节 18.9.1 的永久链接"></a>
                </div>

                <p>
                    使用 <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-55"><code>PaymentRequest</code></a> <var>request</var> 和<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">异常</a>
                    <var>exception</var> 来<dfn data-export="" id="dfn-abort-the-update" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">中止更新</dfn>：
                </p>
                <ol class="algorithm">
                    <li>可选地，在通知用户发生错误时向用户显示错误消息。
                    </li>
                    <li>中止当前用户交互并关闭任何剩余的用户界面。
                    </li>
                    <li>
                        在<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">用户交互任务源</a>上<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">排队一个任务</a>以执行以下步骤：
                        <ol>
                            <li>将 <var>request</var> 的<a href="#dfn-payment-relevant-browsing-context"
                                    class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-payment-relevant-browsing-context-11">与支付相关的浏览上下文</a>的<a
                                    href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-payment-request-is-showing-13">支付请求正在显示</a>布尔值设置为 false。
                            </li>
                            <li>将 <var>request</var>.<a data-link-type="attribute" data-lt="[[state]]" href="#dfn-state"
                                    class="internalDFN" id="ref-for-dfn-state-21"><code>[[state]]</code></a> 设置为“<a
                                    data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                    id="ref-for-dfn-closed-10">closed</a>”。
                            </li>
                            <li>令 <var data-type="PaymentResponse">response</var> 为 <var>request</var>.<a
                                    data-link-type="attribute" data-lt="[[response]]" href="#dfn-response"
                                    class="internalDFN" id="ref-for-dfn-response-10"><code>[[response]]</code></a>。
                            </li>
                            <li>如果 <var data-type="PaymentResponse">response</var> 不为 null，则：
                                <ol>
                                    <li>将 <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                            data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                                            id="ref-for-dfn-complete-6"><code>[[complete]]</code></a> 设置为 true。
                                    </li>
                                    <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var
                                            data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                            data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                                            id="ref-for-dfn-retrypromise-11"><code>[[retryPromise]]</code></a> 不为 null。
                                    </li>
                                    <li>使用 <var>exception</var> 拒绝 <var data-type="PaymentResponse">response</var>.<a
                                            data-link-type="attribute" data-lt="[[retryPromise]]"
                                            href="#dfn-retrypromise" class="internalDFN"
                                            id="ref-for-dfn-retrypromise-12"><code>[[retryPromise]]</code></a>。
                                    </li>
                                </ol>
                            </li>
                            <li>否则，使用 <var>exception</var> 拒绝 <var>request</var>.<a data-link-type="attribute"
                                    data-lt="[[acceptPromise]]" href="#dfn-acceptpromise" class="internalDFN"
                                    id="ref-for-dfn-acceptpromise-7"><code>[[acceptPromise]]</code></a>。
                            </li>
                            <li>将 <var>request</var>.<a data-link-type="attribute" data-lt="[[updating]]"
                                    href="#dfn-updating" class="internalDFN"
                                    id="ref-for-dfn-updating-9"><code>[[updating]]</code></a> 设置为 false。
                            </li>
                        </ol>
                    </li>
                    <li>中止算法。
                    </li>
                </ol>
            </section>
            <div class="note" role="note" id="issue-container-generatedID-36">
                <div role="heading" class="note-title marker" id="h-note-36" aria-level="4"><span>注意</span></div>
                <div class="">
                    <p>
                        当更新支付请求时发生致命错误（例如提供的 <var>detailsPromise</var> 被拒绝，或其满足值包含无效数据）时，会运行<a
                            href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-abort-the-update-13">中止更新</a>。这可能会使支付请求处于不一致状态，因为开发者尚未成功处理更改事件。
                    </p>
                    <p>
                        因此，<a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                            class="internalDFN" id="ref-for-dom-paymentrequest-56"><code>PaymentRequest</code></a>
                        会进入“<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                            id="ref-for-dfn-closed-11">closed</a>”状态。错误通过拒绝 <a data-link-type="attribute"
                            data-lt="[[acceptPromise]]" href="#dfn-acceptpromise" class="internalDFN"
                            id="ref-for-dfn-acceptpromise-8"><code>[[acceptPromise]]</code></a>（即 <a
                            data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-14"><code>show</code></a><code>()</code> 返回的
                        promise）向开发者发出信号。
                    </p>
                    <p>
                        类似地，在 <a data-link-type="idl" data-lt="retry()" href="#dom-paymentresponse-retry"
                            class="internalDFN"
                            id="ref-for-dom-paymentresponse-retry-4"><code>retry</code></a><code>()</code> 期间发生<a
                            href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-abort-the-update-14">中止更新</a>会导致 <a data-link-type="attribute"
                            data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                            id="ref-for-dfn-retrypromise-13"><code>[[retryPromise]]</code></a> 被拒绝，并且相应的 <a
                            data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-24"><code>PaymentResponse</code></a> 的
                        <a data-link-type="attribute" data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                            id="ref-for-dfn-complete-7"><code>[[complete]]</code></a> <a
                            data-link-type="dfn|abstract-op"
                            href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a>将被设置为
                        true（即，它不能再使用）。
                    </p>
                </div>
            </div>
        </section>
    </section>
    <section id="privacy">
        <div class="header-wrapper">
            <h2 id="x19-privacy-and-security-considerations"><bdi class="secno">19. </bdi>
                隐私和安全注意事项
            </h2><a class="self-link" href="#privacy" aria-label="章节 19 的永久链接。"></a>
        </div>

        <section class="informative" id="user-protections-with-show-method">
            <div class="header-wrapper">
                <h3 id="x19-1-user-protections-with-show-method"><bdi class="secno">19.1 </bdi>
                    使用 <code>show()</code> 方法的用户保护
                </h3><a class="self-link" href="#user-protections-with-show-method" aria-label="章节 19.1 的永久链接"></a>
            </div>
            <p><em>本节内容不具约束力。</em></p>

            <p>
                为帮助确保用户不会无意中与某个来源共享敏感凭据，此 API 要求在相关 <a data-link-type="interface" data-lt="Window"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                具有<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">瞬时激活</a>（例如，通过单击或按压）时调用
                PaymentRequest 的 <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                    class="internalDFN" id="ref-for-dom-paymentrequest-show-15"><code>show</code></a><code>()</code> 方法。
            </p>
            <p>
                为避免混乱的用户体验，本规范限制用户代理通过 <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                    class="internalDFN" id="ref-for-dom-paymentrequest-show-16"><code>show</code></a><code>()</code>
                方法一次仅显示一个。此外，用户代理可以限制页面调用 <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                    class="internalDFN" id="ref-for-dom-paymentrequest-show-17"><code>show</code></a><code>()</code>
                的速率。
            </p>
        </section>
        <section class="informative" data-cite="secure-contexts" id="secure-contexts">
            <div class="header-wrapper">
                <h3 id="x19-2-secure-contexts"><bdi class="secno">19.2 </bdi>
                    安全上下文
                </h3><a class="self-link" href="#secure-contexts" aria-label="章节 19.2 的永久链接"></a>
            </div>
            <p><em>本节内容不具约束力。</em></p>

            <p>
                本规范中定义的 API 仅在<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context">安全上下文</a>中公开——另请参阅
                <cite><a data-matched-text="[[[secure-contexts]]]"
                        href="https://www.w3.org/TR/secure-contexts/">安全上下文</a></cite>规范了解更多详细信息。实际上，这意味着此 API 仅通过 HTTPS
                可用。这是为了限制支付方式数据（例如信用卡号）以明文形式发送的可能性。
            </p>
        </section>
        <section class="informative" id="cross-origin-payment-requests">
            <div class="header-wrapper">
                <h3 id="x19-3-cross-origin-payment-requests"><bdi class="secno">19.3 </bdi>
                    跨源支付请求
                </h3><a class="self-link" href="#cross-origin-payment-requests" aria-label="章节 19.3 的永久链接"></a>
            </div>
            <p><em>本节内容不具约束力。</em></p>

            <p>
                商家和其他收款人通常通过 <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a>
                将结账和其他电子商务活动委托给支付服务提供商。此 API 通过 [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                        title="HTML 标准">HTML</a></cite>] 的
                <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                属性支持收款人授权的跨源 iframe。
            </p>
            <p class="Note">
                <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-handler-16">支付处理程序</a>可以访问托管 <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a>
                的源以及 <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a>
                内容的源（<a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-57"><code>PaymentRequest</code></a> 在此处发起）。
            </p>
        </section>
        <section class="informative" id="encryption-of-data-fields">
            <div class="header-wrapper">
                <h3 id="x19-4-encryption-of-data-fields"><bdi class="secno">19.4 </bdi>
                    数据字段加密
                </h3><a class="self-link" href="#encryption-of-data-fields" aria-label="章节 19.4 的永久链接"></a>
            </div>
            <p><em>本节内容不具约束力。</em></p>

            <p>
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-58"><code>PaymentRequest</code></a> API 不直接支持数据字段的加密。各个<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-27">支付方式</a>可以选择包含对加密数据的支持，但并非强制所有<a href="#dfn-payment-method"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-method-28">支付方式</a>都支持此功能。
            </p>
        </section>
        <section class="informative" id="how-user-agents-match-payment-handlers">
            <div class="header-wrapper">
                <h3 id="x19-5-how-user-agents-match-payment-handlers"><bdi class="secno">19.5 </bdi>
                    用户代理如何匹配支付处理程序
                </h3><a class="self-link" href="#how-user-agents-match-payment-handlers" aria-label="章节 19.5 的永久链接"></a>
            </div>
            <p><em>本节内容不具约束力。</em></p>

            <p>
                出于安全原因，用户代理可以将（在 <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                    class="internalDFN" id="ref-for-dom-paymentrequest-show-18"><code>show</code></a><code>()</code> 和
                <a data-link-type="idl" data-lt="canMakePayment()" href="#dom-paymentrequest-canmakepayment"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequest-canmakepayment-5"><code>canMakePayment</code></a><code>()</code>
                中）匹配限制为与 URL <a data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">支付方式标识符</a>具有相同<a
                    href="https://www.rfc-editor.org/rfc/rfc6454#section-3.2">来源</a>的<a href="#dfn-payment-handler"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-handler-17">支付处理程序</a>。
            </p>
        </section>
        <section id="data-usage-0">
            <div class="header-wrapper">
                <h3 id="data-usage"><bdi class="secno">19.6 </bdi>
                    数据使用
                </h3><a class="self-link" href="#data-usage" aria-label="章节 19.6 的永久链接"></a>
            </div>

            <p>
                <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-29">支付方式</a>所有者制定关于如何使用为该支付方式收集的用户数据的隐私政策。Payment Request API
                明确规定数据将用于完成交易的目的，并且与此 API 相关的用户体验传达了这一意图。收款人有责任确保任何数据使用都符合支付方式政策。对于超出完成交易范围的任何允许使用，收款人应向用户清楚地传达该使用情况。
            </p>
        </section>
        <section id="exposing-user-information">
            <div class="header-wrapper">
                <h3 id="user-info"><bdi class="secno">19.7 </bdi>
                    公开用户信息
                </h3><a class="self-link" href="#user-info" aria-label="章节 19.7 的永久链接"></a>
            </div>

            <p>
                <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-38">用户代理</a><em class="rfc2119">不得</em>在未经用户同意的情况下与开发者共享有关用户的信息（例如<a
                    data-link-type="dfn|abstract-op" href="#dfn-shipping-address" class="internalDFN"
                    id="ref-for-dfn-shipping-address-5">送货地址</a>）。
            </p>
            <p>
                特别是，<a data-link-type="idl" data-lt="PaymentMethodData" href="#dom-paymentmethoddata"
                    class="internalDFN" id="ref-for-dom-paymentmethoddata-9"><code>PaymentMethodData</code></a> 的 <a
                    data-link-type="idl" href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-8"><code>data</code></a> 和 <a data-link-type="idl"
                    data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-25"><code>PaymentResponse</code></a> 的 <a data-link-type="idl"
                    href="#dom-paymentresponse-details" class="internalDFN"
                    id="ref-for-dom-paymentresponse-details-3"><code>details</code></a>
                成员允许任意交换数据。鉴于现有支付方式使用的数据模型范围广泛，在此 API 中规定数据细节会限制其有用性。<a data-link-type="idl"
                    href="#dom-paymentresponse-details" class="internalDFN"
                    id="ref-for-dom-paymentresponse-details-4"><code>details</code></a> 成员携带来自支付处理程序的数据，无论是基于 Web 的（由
                <cite><a data-matched-text="[[[payment-handler]]]" href="https://www.w3.org/TR/payment-handler/">支付处理程序
                        API</a></cite> 定义）还是专有的。<a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-39">用户代理</a><em
                    class="rfc2119">不得</em>支持支付处理程序，除非它们包含足够的用户同意机制（例如交易各方的知情权和表明共享数据意图的机制）。
            </p>
            <p>
                <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-40">用户代理</a><em class="rfc2119">不得</em>出于促进交易完成以外的任何目的共享 <a
                    data-link-type="idl" href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                    id="ref-for-dom-paymentdetailsbase-displayitems-11"><code>displayItems</code></a> 成员或 <a
                    data-link-type="idl" href="#dom-paymentdetailsmodifier-additionaldisplayitems" class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-7"><code>additionalDisplayItems</code></a>
                成员的值。
            </p>
            <p>
                <a data-link-type="idl" data-lt="PaymentMethodChangeEvent" href="#dom-paymentmethodchangeevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-7"><code>PaymentMethodChangeEvent</code></a> 使收款人能够根据所选<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-30">支付方式</a>的特定信息更新显示的总额。例如，与所选<a href="#dfn-payment-method"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-31">支付方式</a>关联的账单地址可能会影响税款计算（例如增值税），并且希望用户界面在付款人完成交易之前准确显示总额。同时，希望在完成付款之前尽可能少地共享信息。因此，当<a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-32">支付方式</a>定义<a
                    href="#dfn-steps-for-when-a-user-changes-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-steps-for-when-a-user-changes-payment-method-1">用户更改支付方式时的步骤</a>时，重要的是尽量减少通过 <a
                    data-link-type="idl" data-lt="PaymentMethodChangeEvent" href="#dom-paymentmethodchangeevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-8"><code>PaymentMethodChangeEvent</code></a> 的 <a
                    data-link-type="idl" href="#dom-paymentmethodchangeevent-methoddetails" class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-methoddetails-4"><code>methodDetails</code></a>
                属性共享的数据。最小化共享数据的要求和方法可能因<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-33">支付方式</a>而异，并且可能包括：
            </p>
            <ul>
                <li>对<a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address">实际地址</a>使用“<var>redactList</var>”。当前规范使用“<var>redactList</var>”来编辑<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-address-line">地址行</a>、<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-organization">组织</a>、<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-phone-number">电话号码</a>和<a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-recipient">收件人</a>（来自 <a
                        data-link-type="idl" href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingaddress-9"><code>shippingAddress</code></a>）。
                </li>
                <li>支持收款人识别要从<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-34">支付方式</a>响应数据（通过 <a data-link-type="idl"
                        data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                        id="ref-for-dom-paymentresponse-26"><code>PaymentResponse</code></a>.<var>details</var>
                    返回）中排除或包含的特定元素的说明。收款人可以通过 <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-paymentmethoddata-10"><code>PaymentMethodData</code></a>.<var>data</var>
                    提供这些说明，从而使<a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-35">支付方式</a>定义能够在不需要更改当前 API 的情况下进行演变。
                </li>
            </ul>
            <p>
                在共享隐私敏感信息可能对用户不明显的情况下（例如，当<a data-link-type="dfn|abstract-op" data-lt="payment method changed algorithm"
                    href="#dfn-payment-method-changed-algorithm" class="internalDFN"
                    id="ref-for-dfn-payment-method-changed-algorithm-1">更改支付方式</a>时），<em
                    class="rfc2119">建议</em>用户代理告知用户正在与商家共享哪些确切信息。
            </p>
        </section>
        <section id="canmakepayment-protections-0">
            <div class="header-wrapper">
                <h3 id="canmakepayment-protections"><bdi class="secno">19.8 </bdi>
                    <code>canMakePayment()</code> 保护措施
                </h3><a class="self-link" href="#canmakepayment-protections" aria-label="章节 19.8 的永久链接"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="canMakePayment()" href="#dom-paymentrequest-canmakepayment"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequest-canmakepayment-6"><code>canMakePayment</code></a><code>()</code>
                方法为不同的支付方式提供功能检测。如果将来有大量支付方式可用，它可能会成为一个指纹识别向量。用户代理应保护用户免受该方法的滥用。例如，用户代理可以通过以下方式减少用户指纹识别：
            </p>
            <ul>
                <li>限制使用不同参数调用的频率。
                </li>
            </ul>
            <p>
                对于速率限制，用户代理可能会查看来自以下位置的重复调用：
            </p>
            <ul>
                <li>相同的<a data-link-type="dfn" href="https://url.spec.whatwg.org/#host-registrable-domain">可注册域</a>。
                </li>
                <li><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">顶级浏览上下文</a>。或者，用户代理可以完全阻止已知不良行为者的<a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">来源</a>访问 API。
                </li>
                <li><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                    或弹出窗口的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">来源</a>。
                </li>
            </ul>
            <p>
                这些速率限制技术旨在增加与重复调用相关的成本，无论是管理多个<a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#host-registrable-domain">可注册域</a>的成本，还是打开多个窗口（选项卡或弹出窗口）的用户体验摩擦。
            </p>
        </section>
        <section id="user-activation-requirement-0">
            <div class="header-wrapper">
                <h3 id="user-activation-requirement"><bdi class="secno">19.9 </bdi>
                    用户激活要求
                </h3><a class="self-link" href="#user-activation-requirement" aria-label="章节 19.9 的永久链接"></a>
            </div>

            <p>
                如果用户代理不要求用户激活作为 <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                    class="internalDFN" id="ref-for-dom-paymentrequest-show-19"><code>show</code></a><code>()</code>
                方法的一部分，则应考虑一些额外的安全缓解措施。不要求用户激活会增加垃圾邮件和点击劫持攻击的风险，因为它允许在用户没有立即与页面交互的情况下启动支付请求 UI。
            </p>
            <p>
                为了缓解垃圾邮件，用户代理可以决定在某个阈值之后强制执行用户激活要求，例如在用户已经在当前页面上看到没有用户激活的支付请求 UI
                之后。为了缓解点击劫持攻击，用户代理可以实现一个时间阈值，在该阈值内，在显示对话框后立即忽略点击。
            </p>
            <p>
                <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                    id="ref-for-dom-paymentrequest-show-20"><code>show</code></a><code>()</code> 的步骤 6
                中存在另一个相关的缓解措施，其中文档必须可见才能启动用户交互。
            </p>
        </section>
    </section>
    <section class="informative" id="accessibility-considerations">
        <div class="header-wrapper">
            <h2 id="x20-accessibility-considerations"><bdi class="secno">20. </bdi>
                无障碍注意事项
            </h2><a class="self-link" href="#accessibility-considerations" aria-label="章节 20 的永久链接。"></a>
        </div>
        <p><em>本节内容不具约束力。</em></p>

        <p>
            对于 Payment Request API 面向用户的方面，实现通过表单控件和其他输入方式与平台无障碍 API 集成。此外，为了提高总计、送货地址和联系信息的可理解性，实现会根据系统约定格式化数据。
        </p>
    </section>
    <section id="dependencies">
        <div class="header-wrapper">
            <h2 id="x21-dependencies"><bdi class="secno">21. </bdi>
                依赖项
            </h2><a class="self-link" href="#dependencies" aria-label="章节 21 的永久链接。"></a>
        </div>

        <p>
            本规范依赖于其他几个底层规范。
        </p>
        <dl data-sort="">
            <dt>
                ECMAScript
            </dt>
            <dd>
                术语 <dfn data-plurals="internal slots" id="dfn-internal-slot" class="externalDFN" data-no-export=""
                    data-dfn-type="dfn"><a
                        href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">内部插槽</a></dfn>
                定义在 [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecmascript"
                        title="ECMAScript 语言规范">ECMASCRIPT</a></cite>] 中。
            </dd>
        </dl>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x22-conformance"><bdi class="secno">22. </bdi>一致性</h2><a class="self-link" href="#conformance"
                aria-label="章节 22 的永久链接。"></a>
        </div>
        <p>除了标记为非规范性的章节外，本规范中的所有创作指南、图表、示例和注释都是非规范性的。本规范中的其他所有内容都是规范性的。</p>
        <p>
            本文档中的关键词 <em class="rfc2119">可以</em>、<em class="rfc2119">必须</em>、<em class="rfc2119">不得</em>、<em
                class="rfc2119">可选</em>、<em class="rfc2119">建议</em>、<em class="rfc2119">应该</em> 和 <em
                class="rfc2119">不应</em> 按照 <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a> [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="用于 RFC 中表示需求级别的关键词">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-rfc8174" title="RFC 2119 关键词中大写与小写的歧义性">RFC8174</a></cite>]
            中的描述进行解释，当且仅当它们以全大写形式出现时，如此处所示。
        </p>
        <p>
            只有一类产品可以声称符合本规范：<dfn data-plurals="user agents" id="dfn-user-agent" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">用户代理</dfn>。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-37">
            <div role="heading" class="note-title marker" id="h-note-37" aria-level="3"><span>注意</span></div>
            <p class="">
                尽管本规范主要针对 Web 浏览器，但其他软件也有可能以符合规范的方式实现本规范。
            </p>
        </div>
        <p>
            用户代理<em class="rfc2119">可以</em>以任何期望的方式实现本规范中给出的算法，只要最终结果与通过规范算法获得的结果无法区分即可。
        </p>
        <p>
            用户代理<em class="rfc2119">可以</em>对其他不受约束的输入施加特定于实现的限制，例如，为了防止拒绝服务攻击、防止内存耗尽或解决特定于平台的限制。当输入超出特定于实现的限制时，用户代理<em
                class="rfc2119">必须</em>抛出，或者在 promise 的上下文中，拒绝并抛出 <a data-link-type="exception" data-lt="TypeError"
                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>，并可选地通知开发者特定输入如何超出特定于实现的限制。
        </p>
    </section>
    <section id="idl-index" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-idl-index"><bdi class="secno">A. </bdi>IDL 索引</h2><a class="self-link" href="#idl-index"
                aria-label="附录 A 的永久链接。"></a>
        </div>
        <pre class="idl def"
            id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="PaymentRequest">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentrequest" id="ref-for-dom-paymentrequest-59"><code>PaymentRequest</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="PaymentRequest">
  <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PaymentRequest" data-lt="constructor()|constructor(methodData, details)|constructor(methodData, details, options)" data-local-lt="PaymentRequest.constructor|PaymentRequest.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentmethoddata" class="internalDFN" id="ref-for-dom-paymentmethoddata-11"><code>PaymentMethodData</code></a>&gt;</span> <span class="idlParamName">methodData</span>,<span class="idlType">
    <a data-link-type="idl" href="#dom-paymentdetailsinit" class="internalDFN" id="ref-for-dom-paymentdetailsinit-9"><code>PaymentDetailsInit</code></a></span> <span class="idlParamName">details</span>,
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentoptions" class="internalDFN" id="ref-for-dom-paymentoptions-14"><code>PaymentOptions</code></a></span> <span class="idlParamName">options</span> = {}
  );</span><span data-idl="" class="idlMethod" data-title="show" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentresponse" class="internalDFN" id="ref-for-dom-paymentresponse-27"><code>PaymentResponse</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-show" id="ref-for-dom-paymentrequest-show-21"><code>show</code></a>(optional<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsupdate" class="internalDFN" id="ref-for-dom-paymentdetailsupdate-13"><code>PaymentDetailsUpdate</code></a>&gt;</span> <span class="idlParamName">detailsPromise</span>);</span><span data-idl="" class="idlMethod" data-title="abort" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-abort" id="ref-for-dom-paymentrequest-abort-7"><code>abort</code></a>();</span><span data-idl="" class="idlMethod" data-title="canMakePayment" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-canmakepayment" id="ref-for-dom-paymentrequest-canmakepayment-7"><code>canMakePayment</code></a>();</span><span data-idl="" class="idlAttribute" data-title="id" data-dfn-for="PaymentRequest">

  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-id" id="ref-for-dom-paymentrequest-id-4"><code>id</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingAddress" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://www.w3.org/TR/contact-picker/#contactaddress">ContactAddress</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingaddress" id="ref-for-dom-paymentrequest-shippingaddress-10"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingOption" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingoption" id="ref-for-dom-paymentrequest-shippingoption-10"><code>shippingOption</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingType" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-paymentshippingtype" class="internalDFN" id="ref-for-dom-paymentshippingtype-6"><code>PaymentShippingType</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingtype" id="ref-for-dom-paymentrequest-shippingtype-5"><code>shippingType</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onshippingaddresschange" data-dfn-for="PaymentRequest">

  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onshippingaddresschange" id="ref-for-dom-paymentrequest-onshippingaddresschange-3"><code>onshippingaddresschange</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onshippingoptionchange" data-dfn-for="PaymentRequest">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onshippingoptionchange" id="ref-for-dom-paymentrequest-onshippingoptionchange-3"><code>onshippingoptionchange</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onpaymentmethodchange" data-dfn-for="PaymentRequest">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onpaymentmethodchange" id="ref-for-dom-paymentrequest-onpaymentmethodchange-3"><code>onpaymentmethodchange</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentMethodData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentmethoddata" id="ref-for-dom-paymentmethoddata-12"><code>PaymentMethodData</code></a> {<span data-idl="" class="idlMember" data-title="supportedMethods" data-dfn-for="PaymentMethodData">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethoddata-supportedmethods" id="ref-for-dom-paymentmethoddata-supportedmethods-8"><code>supportedMethods</code></a>;</span><span data-idl="" class="idlMember" data-title="data" data-dfn-for="PaymentMethodData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethoddata-data" id="ref-for-dom-paymentmethoddata-data-9"><code>data</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentCurrencyAmount">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentcurrencyamount" id="ref-for-dom-paymentcurrencyamount-9"><code>PaymentCurrencyAmount</code></a> {<span data-idl="" class="idlMember" data-title="currency" data-dfn-for="PaymentCurrencyAmount">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcurrencyamount-currency" id="ref-for-dom-paymentcurrencyamount-currency-6"><code>currency</code></a>;</span><span data-idl="" class="idlMember" data-title="value" data-dfn-for="PaymentCurrencyAmount">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcurrencyamount-value" id="ref-for-dom-paymentcurrencyamount-value-7"><code>value</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentDetailsBase">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsbase" id="ref-for-dom-paymentdetailsbase-10"><code>PaymentDetailsBase</code></a> {<span data-idl="" class="idlMember" data-title="displayItems" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-14"><code>PaymentItem</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-displayitems" id="ref-for-dom-paymentdetailsbase-displayitems-12"><code>displayItems</code></a>;</span><span data-idl="" class="idlMember" data-title="shippingOptions" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentshippingoption" class="internalDFN" id="ref-for-dom-paymentshippingoption-9"><code>PaymentShippingOption</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-shippingoptions" id="ref-for-dom-paymentdetailsbase-shippingoptions-12"><code>shippingOptions</code></a>;</span><span data-idl="" class="idlMember" data-title="modifiers" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsmodifier" class="internalDFN" id="ref-for-dom-paymentdetailsmodifier-9"><code>PaymentDetailsModifier</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-modifiers" id="ref-for-dom-paymentdetailsbase-modifiers-12"><code>modifiers</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentDetailsInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsinit" id="ref-for-dom-paymentdetailsinit-10"><code>PaymentDetailsInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentdetailsbase" class="internalDFN" id="ref-for-dom-paymentdetailsbase-11"><code>PaymentDetailsBase</code></a></span> {<span data-idl="" class="idlMember" data-title="id" data-dfn-for="PaymentDetailsInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsinit-id" id="ref-for-dom-paymentdetailsinit-id-8"><code>id</code></a>;</span><span data-idl="" class="idlMember" data-title="total" data-dfn-for="PaymentDetailsInit">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-15"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsinit-total" id="ref-for-dom-paymentdetailsinit-total-8"><code>total</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentDetailsUpdate">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsupdate" id="ref-for-dom-paymentdetailsupdate-14"><code>PaymentDetailsUpdate</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentdetailsbase" class="internalDFN" id="ref-for-dom-paymentdetailsbase-12"><code>PaymentDetailsBase</code></a></span> {<span data-idl="" class="idlMember" data-title="error" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-error" id="ref-for-dom-paymentdetailsupdate-error-4"><code>error</code></a>;</span><span data-idl="" class="idlMember" data-title="total" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-16"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-total" id="ref-for-dom-paymentdetailsupdate-total-7"><code>total</code></a>;</span><span data-idl="" class="idlMember" data-title="shippingAddressErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-addresserrors" class="internalDFN" id="ref-for-dom-addresserrors-7"><code>AddressErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-shippingaddresserrors" id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-5"><code>shippingAddressErrors</code></a>;</span><span data-idl="" class="idlMember" data-title="payerErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-payererrors" class="internalDFN" id="ref-for-dom-payererrors-6"><code>PayerErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-payererrors" id="ref-for-dom-paymentdetailsupdate-payererrors-2"><code>payerErrors</code></a>;</span><span data-idl="" class="idlMember" data-title="paymentMethodErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-paymentmethoderrors" id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-6"><code>paymentMethodErrors</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentDetailsModifier">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsmodifier" id="ref-for-dom-paymentdetailsmodifier-10"><code>PaymentDetailsModifier</code></a> {<span data-idl="" class="idlMember" data-title="supportedMethods" data-dfn-for="PaymentDetailsModifier">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-supportedmethods" id="ref-for-dom-paymentdetailsmodifier-supportedmethods-6"><code>supportedMethods</code></a>;</span><span data-idl="" class="idlMember" data-title="total" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-17"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-total" id="ref-for-dom-paymentdetailsmodifier-total-8"><code>total</code></a>;</span><span data-idl="" class="idlMember" data-title="additionalDisplayItems" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-18"><code>PaymentItem</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-additionaldisplayitems" id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-8"><code>additionalDisplayItems</code></a>;</span><span data-idl="" class="idlMember" data-title="data" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-data" id="ref-for-dom-paymentdetailsmodifier-data-10"><code>data</code></a>;</span>
};</span>

<span data-idl="" class="idlEnum" data-title="PaymentShippingType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paymentshippingtype" id="ref-for-dom-paymentshippingtype-7"><code>PaymentShippingType</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-shipping" id="ref-for-dom-paymentshippingtype-shipping-2"><code>shipping</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-delivery" id="ref-for-dom-paymentshippingtype-delivery-2"><code>delivery</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-pickup" id="ref-for-dom-paymentshippingtype-pickup-2"><code>pickup</code></a>"</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentoptions" id="ref-for-dom-paymentoptions-15"><code>PaymentOptions</code></a> {<span data-idl="" class="idlMember" data-title="requestPayerName" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayername" id="ref-for-dom-paymentoptions-requestpayername-7"><code>requestPayerName</code></a> = false;</span><span data-idl="" class="idlMember" data-title="requestBillingAddress" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestbillingaddress" id="ref-for-dom-paymentoptions-requestbillingaddress-2"><code>requestBillingAddress</code></a> = false;</span><span data-idl="" class="idlMember" data-title="requestPayerEmail" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayeremail" id="ref-for-dom-paymentoptions-requestpayeremail-7"><code>requestPayerEmail</code></a> = false;</span><span data-idl="" class="idlMember" data-title="requestPayerPhone" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayerphone" id="ref-for-dom-paymentoptions-requestpayerphone-7"><code>requestPayerPhone</code></a> = false;</span><span data-idl="" class="idlMember" data-title="requestShipping" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestshipping" id="ref-for-dom-paymentoptions-requestshipping-17"><code>requestShipping</code></a> = false;</span><span data-idl="" class="idlMember" data-title="shippingType" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentshippingtype" class="internalDFN" id="ref-for-dom-paymentshippingtype-8"><code>PaymentShippingType</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-shippingtype" id="ref-for-dom-paymentoptions-shippingtype-6"><code>shippingType</code></a> = "shipping";</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentItem">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentitem" id="ref-for-dom-paymentitem-19"><code>PaymentItem</code></a> {<span data-idl="" class="idlMember" data-title="label" data-dfn-for="PaymentItem">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-label" id="ref-for-dom-paymentitem-label-3"><code>label</code></a>;</span><span data-idl="" class="idlMember" data-title="amount" data-dfn-for="PaymentItem">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcurrencyamount" class="internalDFN" id="ref-for-dom-paymentcurrencyamount-10"><code>PaymentCurrencyAmount</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-amount" id="ref-for-dom-paymentitem-amount-15"><code>amount</code></a>;</span><span data-idl="" class="idlMember" data-title="pending" data-dfn-for="PaymentItem"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-pending" id="ref-for-dom-paymentitem-pending-2"><code>pending</code></a> = false;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentCompleteDetails">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentcompletedetails" id="ref-for-dom-paymentcompletedetails-5"><code>PaymentCompleteDetails</code></a> {<span data-idl="" class="idlMember" data-title="data" data-dfn-for="PaymentCompleteDetails"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcompletedetails-data" id="ref-for-dom-paymentcompletedetails-data-3"><code>data</code></a> = null;</span>
};</span>

<span data-idl="" class="idlEnum" data-title="PaymentComplete">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paymentcomplete" id="ref-for-dom-paymentcomplete-3"><code>PaymentComplete</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-fail" id="ref-for-dom-paymentcomplete-fail-2"><code>fail</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-success" id="ref-for-dom-paymentcomplete-success-2"><code>success</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-unknown" id="ref-for-dom-paymentcomplete-unknown-2"><code>unknown</code></a>"</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentShippingOption">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentshippingoption" id="ref-for-dom-paymentshippingoption-10"><code>PaymentShippingOption</code></a> {<span data-idl="" class="idlMember" data-title="id" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-id" id="ref-for-dom-paymentshippingoption-id-9"><code>id</code></a>;</span><span data-idl="" class="idlMember" data-title="label" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-label" id="ref-for-dom-paymentshippingoption-label-2"><code>label</code></a>;</span><span data-idl="" class="idlMember" data-title="amount" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcurrencyamount" class="internalDFN" id="ref-for-dom-paymentcurrencyamount-11"><code>PaymentCurrencyAmount</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-amount" id="ref-for-dom-paymentshippingoption-amount-3"><code>amount</code></a>;</span><span data-idl="" class="idlMember" data-title="selected" data-dfn-for="PaymentShippingOption"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-selected" id="ref-for-dom-paymentshippingoption-selected-7"><code>selected</code></a> = false;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PaymentResponse">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentresponse" id="ref-for-dom-paymentresponse-28"><code>PaymentResponse</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span>  {<span data-idl="" class="idlMethod" data-title="toJSON" data-dfn-for="PaymentResponse">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default">Default</a></span>]<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a data-link-type="dfn" data-lt="default toJSON steps" class="idlName" href="https://webidl.spec.whatwg.org/#default-tojson-steps">toJSON</a>();</span><span data-idl="" class="idlAttribute" data-title="requestId" data-dfn-for="PaymentResponse">

  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-requestid" id="ref-for-dom-paymentresponse-requestid-3"><code>requestId</code></a>;</span><span data-idl="" class="idlAttribute" data-title="methodName" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-methodname" id="ref-for-dom-paymentresponse-methodname-7"><code>methodName</code></a>;</span><span data-idl="" class="idlAttribute" data-title="details" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-details" id="ref-for-dom-paymentresponse-details-5"><code>details</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingAddress" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://www.w3.org/TR/contact-picker/#contactaddress">ContactAddress</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-shippingaddress" id="ref-for-dom-paymentresponse-shippingaddress-6"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingOption" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-shippingoption" id="ref-for-dom-paymentresponse-shippingoption-4"><code>shippingOption</code></a>;</span><span data-idl="" class="idlAttribute" data-title="payerName" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payername" id="ref-for-dom-paymentresponse-payername-6"><code>payerName</code></a>;</span><span data-idl="" class="idlAttribute" data-title="payerEmail" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payeremail" id="ref-for-dom-paymentresponse-payeremail-6"><code>payerEmail</code></a>;</span><span data-idl="" class="idlAttribute" data-title="payerPhone" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payerphone" id="ref-for-dom-paymentresponse-payerphone-7"><code>payerPhone</code></a>;</span><span data-idl="" class="idlMethod" data-title="complete" data-dfn-for="PaymentResponse">

  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentresponse-complete" id="ref-for-dom-paymentresponse-complete-10"><code>complete</code></a>(
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcomplete" class="internalDFN" id="ref-for-dom-paymentcomplete-4"><code>PaymentComplete</code></a></span> <span class="idlParamName">result</span> = "unknown",
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcompletedetails" class="internalDFN" id="ref-for-dom-paymentcompletedetails-6"><code>PaymentCompleteDetails</code></a></span> <span class="idlParamName">details</span> = {}
  );</span><span data-idl="" class="idlMethod" data-title="retry" data-dfn-for="PaymentResponse">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentresponse-retry" id="ref-for-dom-paymentresponse-retry-5"><code>retry</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentvalidationerrors" class="internalDFN" id="ref-for-dom-paymentvalidationerrors-6"><code>PaymentValidationErrors</code></a></span> <span class="idlParamName">errorFields</span> = {});</span><span data-idl="" class="idlAttribute" data-title="onpayerdetailchange" data-dfn-for="PaymentResponse">

  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-onpayerdetailchange" id="ref-for-dom-paymentresponse-onpayerdetailchange-2"><code>onpayerdetailchange</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentValidationErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentvalidationerrors" id="ref-for-dom-paymentvalidationerrors-7"><code>PaymentValidationErrors</code></a> {<span data-idl="" class="idlMember" data-title="payer" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="idl" href="#dom-payererrors" class="internalDFN" id="ref-for-dom-payererrors-7"><code>PayerErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-payer" id="ref-for-dom-paymentvalidationerrors-payer-5"><code>payer</code></a>;</span><span data-idl="" class="idlMember" data-title="shippingAddress" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="idl" href="#dom-addresserrors" class="internalDFN" id="ref-for-dom-addresserrors-8"><code>AddressErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-shippingaddress" id="ref-for-dom-paymentvalidationerrors-shippingaddress-3"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlMember" data-title="error" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-error" id="ref-for-dom-paymentvalidationerrors-error-5"><code>error</code></a>;</span><span data-idl="" class="idlMember" data-title="paymentMethod" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-paymentmethod" id="ref-for-dom-paymentvalidationerrors-paymentmethod-4"><code>paymentMethod</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PayerErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-payererrors" id="ref-for-dom-payererrors-8"><code>PayerErrors</code></a> {<span data-idl="" class="idlMember" data-title="email" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-email" id="ref-for-dom-payererrors-email-3"><code>email</code></a>;</span><span data-idl="" class="idlMember" data-title="name" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-name" id="ref-for-dom-payererrors-name-3"><code>name</code></a>;</span><span data-idl="" class="idlMember" data-title="phone" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-phone" id="ref-for-dom-payererrors-phone-3"><code>phone</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="AddressErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-addresserrors" id="ref-for-dom-addresserrors-9"><code>AddressErrors</code></a> {<span data-idl="" class="idlMember" data-title="addressLine" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-addressline" id="ref-for-dom-addresserrors-addressline-2"><code>addressLine</code></a>;</span><span data-idl="" class="idlMember" data-title="city" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-city" id="ref-for-dom-addresserrors-city-2"><code>city</code></a>;</span><span data-idl="" class="idlMember" data-title="country" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-country" id="ref-for-dom-addresserrors-country-2"><code>country</code></a>;</span><span data-idl="" class="idlMember" data-title="dependentLocality" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-dependentlocality" id="ref-for-dom-addresserrors-dependentlocality-2"><code>dependentLocality</code></a>;</span><span data-idl="" class="idlMember" data-title="organization" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-organization" id="ref-for-dom-addresserrors-organization-2"><code>organization</code></a>;</span><span data-idl="" class="idlMember" data-title="phone" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-phone" id="ref-for-dom-addresserrors-phone-2"><code>phone</code></a>;</span><span data-idl="" class="idlMember" data-title="postalCode" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-postalcode" id="ref-for-dom-addresserrors-postalcode-2"><code>postalCode</code></a>;</span><span data-idl="" class="idlMember" data-title="recipient" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-recipient" id="ref-for-dom-addresserrors-recipient-2"><code>recipient</code></a>;</span><span data-idl="" class="idlMember" data-title="region" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-region" id="ref-for-dom-addresserrors-region-2"><code>region</code></a>;</span><span data-idl="" class="idlMember" data-title="sortingCode" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-sortingcode" id="ref-for-dom-addresserrors-sortingcode-2"><code>sortingCode</code></a>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PaymentMethodChangeEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentmethodchangeevent" id="ref-for-dom-paymentmethodchangeevent-9"><code>PaymentMethodChangeEvent</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentrequestupdateevent" class="internalDFN" id="ref-for-dom-paymentrequestupdateevent-15"><code>PaymentRequestUpdateEvent</code></a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="PaymentMethodChangeEvent">
  <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PaymentMethodChangeEvent" data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)" data-local-lt="PaymentMethodChangeEvent.constructor|PaymentMethodChangeEvent.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentmethodchangeeventinit" class="internalDFN" id="ref-for-dom-paymentmethodchangeeventinit-5"><code>PaymentMethodChangeEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" data-title="methodName" data-dfn-for="PaymentMethodChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentmethodchangeevent-methodname" id="ref-for-dom-paymentmethodchangeevent-methodname-5"><code>methodName</code></a>;</span><span data-idl="" class="idlAttribute" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentmethodchangeevent-methoddetails" id="ref-for-dom-paymentmethodchangeevent-methoddetails-5"><code>methodDetails</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentMethodChangeEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentmethodchangeeventinit" id="ref-for-dom-paymentmethodchangeeventinit-6"><code>PaymentMethodChangeEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentrequestupdateeventinit" class="internalDFN" id="ref-for-dom-paymentrequestupdateeventinit-4"><code>PaymentRequestUpdateEventInit</code></a></span> {<span data-idl="" class="idlMember" data-title="methodName" data-dfn-for="PaymentMethodChangeEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethodchangeeventinit-methodname" id="ref-for-dom-paymentmethodchangeeventinit-methodname-3"><code>methodName</code></a> = "";</span><span data-idl="" class="idlMember" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethodchangeeventinit-methoddetails" id="ref-for-dom-paymentmethodchangeeventinit-methoddetails-3"><code>methodDetails</code></a> = null;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PaymentRequestUpdateEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentrequestupdateevent" id="ref-for-dom-paymentrequestupdateevent-16"><code>PaymentRequestUpdateEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="PaymentRequestUpdateEvent">
  <a class="internalDFN" data-link-type="constructor" href="#dom-paymentrequestupdateevent-constructor" id="ref-for-dom-paymentrequestupdateevent-constructor-3"><code>constructor</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentrequestupdateeventinit" class="internalDFN" id="ref-for-dom-paymentrequestupdateeventinit-5"><code>PaymentRequestUpdateEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlMethod" data-title="updateWith" data-dfn-for="PaymentRequestUpdateEvent"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequestupdateevent-updatewith" id="ref-for-dom-paymentrequestupdateevent-updatewith-11"><code>updateWith</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsupdate" class="internalDFN" id="ref-for-dom-paymentdetailsupdate-15"><code>PaymentDetailsUpdate</code></a>&gt;</span> <span class="idlParamName">detailsPromise</span>);</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentRequestUpdateEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentrequestupdateeventinit" id="ref-for-dom-paymentrequestupdateeventinit-6"><code>PaymentRequestUpdateEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {};</span></code></pre>
    </section>
    <section class="appendix" id="acknowledgements">
        <div class="header-wrapper">
            <h2 id="b-acknowledgements"><bdi class="secno">B. </bdi>
                致谢
            </h2><a class="self-link" href="#acknowledgements" aria-label="附录 B 的永久链接。"></a>
        </div>

        <p>
            本规范源自 <a href="https://www.w3.org/community/wicg/">Web 平台孵化器社区组</a>先前发布的一份报告。
        </p>
    </section>
    <section id="changelog">
        <div class="header-wrapper">
            <h2 id="c-changelog"><bdi class="secno">C. </bdi>
                变更日志
            </h2><a class="self-link" href="#changelog" aria-label="C 节的永久链接。"></a>
        </div>

        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payment-method"
            aria-label="Links in this document to definition: payment method">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-method"
                    aria-label="Permalink for definition: payment method. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-method-1" title="§ 1. Introduction">§ 1. Introduction</a> <a
                        href="#ref-for-dfn-payment-method-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-method-3" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-payment-method-4" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-5" title="§ 1.1 Goals and scope">§ 1.1 Goals and scope</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-6" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-7" title="§ 2.1 Declaring multiple ways of paying">§ 2.1
                        Declaring multiple ways of paying</a> <a href="#ref-for-dfn-payment-method-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-9" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dfn-payment-method-10" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-11" title="§ 3.5 canMakePayment() method">§ 3.5
                        canMakePayment() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-12" title="§ 4. PaymentMethodData dictionary">§ 4.
                        PaymentMethodData dictionary</a> <a href="#ref-for-dfn-payment-method-13"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-payment-method-14" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-15" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-16" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a> <a href="#ref-for-dfn-payment-method-17"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-18" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-19" title="§ 11. PaymentCompleteDetails dictionary">§ 11.
                        PaymentCompleteDetails dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-20" title="§ 14.2 methodName attribute">§ 14.2 methodName
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-21" title="§ 14.3 details attribute">§ 14.3 details
                        attribute</a> <a href="#ref-for-dfn-payment-method-22" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-23" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-24" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make
                        payment algorithm</a> <a href="#ref-for-dfn-payment-method-25" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-26" title="§ 18.4 Payment method changed algorithm">§ 18.4
                        Payment method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-27" title="§ 19.4 Encryption of data fields">§ 19.4 Encryption
                        of data fields</a> <a href="#ref-for-dfn-payment-method-28" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-29" title="§ 19.6 Data usage">§ 19.6 Data usage</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-30" title="§ 19.7 Exposing user information">§ 19.7 Exposing
                        user information</a> <a href="#ref-for-dfn-payment-method-31" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-method-32" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-payment-method-33" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-payment-method-34" title="Reference 5">(5)</a> <a
                        href="#ref-for-dfn-payment-method-35" title="Reference 6">(6)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payment-method-provider"
            aria-label="Links in this document to definition: payment method provider">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-method-provider"
                    aria-label="Permalink for definition: payment method provider. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-method-provider-1" title="§ 1.1 Goals and scope">§ 1.1 Goals and
                        scope</a> <a href="#ref-for-dfn-payment-method-provider-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-method-provider-3" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-additional-data-type"
            aria-label="Links in this document to definition: additional data type">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-additional-data-type"
                    aria-label="Permalink for definition: additional data type. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-additional-data-type-1" title="§ 1. Introduction">§ 1. Introduction</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-additional-data-type-2" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dfn-additional-data-type-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-additional-data-type-4" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-steps-to-validate-payment-method-data"
            aria-label="Links in this document to definition: Steps to validate payment method data">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-steps-to-validate-payment-method-data"
                    aria-label="Permalink for definition: Steps to validate payment method data. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-steps-to-validate-payment-method-data-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payment-handler"
            aria-label="Links in this document to definition: payment handler">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-handler"
                    aria-label="Permalink for definition: payment handler. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-handler-1" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-2" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-payment-handler-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-handler-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-payment-handler-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-6" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-7" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-8" title="§ 14.1 retry() method">§ 14.1 retry() method</a> <a
                        href="#ref-for-dfn-payment-handler-9" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-10" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-11" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make
                        payment algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-12" title="§ 18.4 Payment method changed algorithm">§ 18.4
                        Payment method changed algorithm</a> <a href="#ref-for-dfn-payment-handler-13"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-14"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dfn-payment-handler-15" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-16" title="§ 19.3 Cross-origin payment requests">§ 19.3
                        Cross-origin payment requests</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-17" title="§ 19.5 How user agents match payment handlers">§
                        19.5 How user agents match payment handlers</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-steps-to-check-if-a-payment-can-be-made"
            aria-label="Links in this document to definition: Steps to check if a payment can be made">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-steps-to-check-if-a-payment-can-be-made"
                    aria-label="Permalink for definition: Steps to check if a payment can be made. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-steps-to-check-if-a-payment-can-be-made-1" title="§ 3.3 show() method">§ 3.3
                        show() method</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-steps-to-respond-to-a-payment-request"
            aria-label="Links in this document to definition: Steps to respond to a payment request">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-steps-to-respond-to-a-payment-request"
                    aria-label="Permalink for definition: Steps to respond to a payment request. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-steps-to-respond-to-a-payment-request-1"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-steps-for-when-a-user-changes-payment-method"
            aria-label="Links in this document to definition: Steps for when a user changes payment method">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-steps-for-when-a-user-changes-payment-method"
                    aria-label="Permalink for definition: Steps for when a user changes payment method. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-steps-for-when-a-user-changes-payment-method-1"
                        title="§ 19.7 Exposing user information">§ 19.7 Exposing user information</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentrequest"
            aria-label="Links in this document to definition: PaymentRequest">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest"
                    aria-label="Permalink for definition: PaymentRequest. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-1" title="§ 2. Examples of usage">§ 2. Examples of usage</a> <a
                        href="#ref-for-dom-paymentrequest-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-3" title="§ 2.1 Declaring multiple ways of paying">§ 2.1
                        Declaring multiple ways of paying</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-4" title="§ 2.2 Describing what is being paid for">§ 2.2
                        Describing what is being paid for</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-5"
                        title="§ 2.5 Requesting specific information from the end user">§ 2.5 Requesting specific
                        information from the end user</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-6" title="§ 2.6 Constructing a PaymentRequest">§ 2.6
                        Constructing a PaymentRequest</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-7" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a> <a href="#ref-for-dom-paymentrequest-8" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-9" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentrequest-10" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-11" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentrequest-12" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-13" title="§ 3.2 id attribute">§ 3.2 id attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-14" title="§ 3.6 shippingAddress attribute">§ 3.6
                        shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-15" title="§ 3.7 shippingType attribute">§ 3.7 shippingType
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-16" title="§ 3.8 onshippingaddresschange attribute">§ 3.8
                        onshippingaddresschange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-17" title="§ 3.9 shippingOption attribute">§ 3.9 shippingOption
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-18" title="§ 3.10 onshippingoptionchange attribute">§ 3.10
                        onshippingoptionchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-19" title="§ 3.11 onpaymentmethodchange attribute">§ 3.11
                        onpaymentmethodchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-20" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a> <a
                        href="#ref-for-dom-paymentrequest-21" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-22" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-23" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dom-paymentrequest-24"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-25" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-26" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-27" title="§ 13. PaymentShippingOption dictionary">§ 13.
                        PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-28" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-29" title="§ 14.4 shippingAddress attribute">§ 14.4
                        shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-30" title="§ 14.5 shippingOption attribute">§ 14.5
                        shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-31" title="§ 14.6 payerName attribute">§ 14.6 payerName
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-32" title="§ 14.7 payerEmail attribute">§ 14.7 payerEmail
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-33" title="§ 14.8 payerPhone attribute">§ 14.8 payerPhone
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-34" title="§ 14.12 Internal Slots">§ 14.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-35" title="§ 15. Shipping and billing addresses">§ 15. Shipping
                        and billing addresses</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-36" title="§ 16. Permissions Policy integration">§ 16.
                        Permissions Policy integration</a> <a href="#ref-for-dom-paymentrequest-37"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-38" title="§ 17.1 Summary">§ 17.1 Summary</a> <a
                        href="#ref-for-dom-paymentrequest-39" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-40" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-41" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-42" title="§ 18. Algorithms">§ 18. Algorithms</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-43" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make
                        payment algorithm</a> <a href="#ref-for-dom-paymentrequest-44" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-45" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-46" title="§ 18.2 Shipping address changed algorithm">§ 18.2
                        Shipping address changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-47" title="§ 18.3 Shipping option changed algorithm">§ 18.3
                        Shipping option changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-48" title="§ 18.4 Payment method changed algorithm">§ 18.4
                        Payment method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-49" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-50" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer
                        detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-51" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-52" title="§ 18.8 User aborts the payment request algorithm">§
                        18.8 User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-53"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentrequest-54" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-56" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-55" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the
                        update</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-57" title="§ 19.3 Cross-origin payment requests">§ 19.3
                        Cross-origin payment requests</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-58" title="§ 19.4 Encryption of data fields">§ 19.4 Encryption
                        of data fields</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-59" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-constructor"
            aria-label="Links in this document to definition: constructor">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-constructor"
                    aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>Not referenced in this document.</li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-payment-relevant-browsing-context"
            aria-label="Links in this document to definition: payment-relevant browsing context">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-relevant-browsing-context"
                    aria-label="Permalink for definition: payment-relevant browsing context. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-1" title="§ 3. PaymentRequest interface">§
                        3. PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-2" title="§ 3.3 show() method">§ 3.3 show()
                        method</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-5"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-6" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-7"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-8" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-9"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-10"
                        title="§ 18.8 User aborts the payment request algorithm">§ 18.8 User aborts the payment request
                        algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-11" title="§ 18.9.1 Abort the update">§
                        18.9.1 Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-payment-request-is-showing"
            aria-label="Links in this document to definition: payment request is showing">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-request-is-showing"
                    aria-label="Permalink for definition: payment request is showing. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-2" title="§ 3.3 show() method">§ 3.3 show()
                        method</a> <a href="#ref-for-dfn-payment-request-is-showing-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-request-is-showing-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-payment-request-is-showing-5" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-payment-request-is-showing-6" title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-7" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a> <a href="#ref-for-dfn-payment-request-is-showing-8" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-request-is-showing-9" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-10" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a> <a href="#ref-for-dfn-payment-request-is-showing-11"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-12"
                        title="§ 18.8 User aborts the payment request algorithm">§ 18.8 User aborts the payment request
                        algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-13" title="§ 18.9.1 Abort the update">§ 18.9.1
                        Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-paymentrequest-paymentrequest"
            aria-label="Links in this document to definition: PaymentRequest(methodData, details, options)">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-paymentrequest-paymentrequest"
                    aria-label="Permalink for definition: PaymentRequest(methodData, details, options). Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-paymentrequest-paymentrequest-1" title="§ 3.7 shippingType attribute">§ 3.7
                        shippingType attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-paymentrequest-paymentrequest-2" title="§ 6.2 PaymentDetailsInit dictionary">§
                        6.2 PaymentDetailsInit dictionary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentrequest-id"
            aria-label="Links in this document to definition: id">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-id"
                    aria-label="Permalink for definition: id. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-id-1" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-id-2" title="§ 3.2 id attribute">§ 3.2 id attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-id-3" title="§ 14.9 requestId attribute">§ 14.9 requestId
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-id-4" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentrequest-show"
            aria-label="Links in this document to definition: show()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-show"
                    aria-label="Permalink for definition: show(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-1" title="§ 2. Examples of usage">§ 2. Examples of
                        usage</a> <a href="#ref-for-dom-paymentrequest-show-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-3" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-4" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dom-paymentrequest-show-5" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-show-6" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentrequest-show-7" title="Reference 4">(4)</a> <a
                        href="#ref-for-dom-paymentrequest-show-8" title="Reference 5">(5)</a> <a
                        href="#ref-for-dom-paymentrequest-show-9" title="Reference 6">(6)</a> <a
                        href="#ref-for-dom-paymentrequest-show-10" title="Reference 7">(7)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-11" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-12" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a> <a href="#ref-for-dom-paymentrequest-show-13" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-14"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-15" title="§ 19.1 User protections with show() method">§
                        19.1 User protections with show() method</a> <a href="#ref-for-dom-paymentrequest-show-16"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentrequest-show-17"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-18"
                        title="§ 19.5 How user agents match payment handlers">§ 19.5 How user agents match payment
                        handlers</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-19" title="§ 19.9 User activation requirement">§ 19.9 User
                        activation requirement</a> <a href="#ref-for-dom-paymentrequest-show-20"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-21" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentrequest-abort"
            aria-label="Links in this document to definition: abort()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-abort"
                    aria-label="Permalink for definition: abort(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-abort-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-abort-2" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                    <a href="#ref-for-dom-paymentrequest-abort-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-abort-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentrequest-abort-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-abort-6" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-abort-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-canmakepayment"
            aria-label="Links in this document to definition: canMakePayment()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-canmakepayment"
                    aria-label="Permalink for definition: canMakePayment(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-2" title="§ 3.5 canMakePayment() method">§ 3.5
                        canMakePayment() method</a> <a href="#ref-for-dom-paymentrequest-canmakepayment-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentrequest-canmakepayment-4"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-5"
                        title="§ 19.5 How user agents match payment handlers">§ 19.5 How user agents match payment
                        handlers</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-6" title="§ 19.8 canMakePayment() protections">§
                        19.8 canMakePayment() protections</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-shippingaddress"
            aria-label="Links in this document to definition: shippingAddress">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-shippingaddress"
                    aria-label="Permalink for definition: shippingAddress. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a> <a href="#ref-for-dom-paymentrequest-shippingaddress-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-3" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-4" title="§ 3.6 shippingAddress attribute">§
                        3.6 shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-5" title="§ 14.4 shippingAddress attribute">§
                        14.4 shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-6"
                        title="§ 18.2 Shipping address changed algorithm">§ 18.2 Shipping address changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-7"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-8"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-9" title="§ 19.7 Exposing user information">§
                        19.7 Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-10" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-shippingtype"
            aria-label="Links in this document to definition: shippingType">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-shippingtype"
                    aria-label="Permalink for definition: shippingType. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingtype-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a> <a href="#ref-for-dom-paymentrequest-shippingtype-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingtype-3" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingtype-4" title="§ 3.7 shippingType attribute">§ 3.7
                        shippingType attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingtype-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-onshippingaddresschange"
            aria-label="Links in this document to definition: onshippingaddresschange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-onshippingaddresschange"
                    aria-label="Permalink for definition: onshippingaddresschange. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingaddresschange-1"
                        title="§ 3. PaymentRequest interface">§ 3. PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingaddresschange-2"
                        title="§ 3.8 onshippingaddresschange attribute">§ 3.8 onshippingaddresschange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingaddresschange-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-shippingoption"
            aria-label="Links in this document to definition: shippingOption">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-shippingoption"
                    aria-label="Permalink for definition: shippingOption. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a> <a href="#ref-for-dom-paymentrequest-shippingoption-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-3" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-4" title="§ 3.9 shippingOption attribute">§ 3.9
                        shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-5" title="§ 6.1 PaymentDetailsBase dictionary">§
                        6.1 PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-6" title="§ 14.5 shippingOption attribute">§
                        14.5 shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-7"
                        title="§ 18.3 Shipping option changed algorithm">§ 18.3 Shipping option changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-8"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-9"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-10" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-onshippingoptionchange"
            aria-label="Links in this document to definition: onshippingoptionchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-onshippingoptionchange"
                    aria-label="Permalink for definition: onshippingoptionchange. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingoptionchange-1"
                        title="§ 3. PaymentRequest interface">§ 3. PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingoptionchange-2"
                        title="§ 3.10 onshippingoptionchange attribute">§ 3.10 onshippingoptionchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingoptionchange-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-onpaymentmethodchange"
            aria-label="Links in this document to definition: onpaymentmethodchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-onpaymentmethodchange"
                    aria-label="Permalink for definition: onpaymentmethodchange. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onpaymentmethodchange-1"
                        title="§ 3. PaymentRequest interface">§ 3. PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onpaymentmethodchange-2"
                        title="§ 3.11 onpaymentmethodchange attribute">§ 3.11 onpaymentmethodchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onpaymentmethodchange-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-serializedmethoddata"
            aria-label="Links in this document to definition: [[serializedMethodData]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-serializedmethoddata"
                    aria-label="Permalink for definition: [[serializedMethodData]]. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-serializedmethoddata-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmethoddata-2" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmethoddata-3" title="§ 18.1 Can make payment algorithm">§ 18.1 Can
                        make payment algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-serializedmodifierdata"
            aria-label="Links in this document to definition: [[serializedModifierData]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-serializedmodifierdata"
                    aria-label="Permalink for definition: [[serializedModifierData]]. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-serializedmodifierdata-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmodifierdata-2" title="§ 3.3 show() method">§ 3.3 show() method</a>
                    <a href="#ref-for-dfn-serializedmodifierdata-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-serializedmodifierdata-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-serializedmodifierdata-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmodifierdata-6" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmodifierdata-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-details"
            aria-label="Links in this document to definition: [[details]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-details"
                    aria-label="Permalink for definition: [[details]]. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-details-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-details-2" title="§ 3.2 id attribute">§ 3.2 id attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-details-3" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-details-4" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-details-5" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a> <a href="#ref-for-dfn-details-6"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-details-7" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-details-8" title="Reference 4">(4)</a> <a href="#ref-for-dfn-details-9"
                        title="Reference 5">(5)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-options"
            aria-label="Links in this document to definition: [[options]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-options"
                    aria-label="Permalink for definition: [[options]]. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-options-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-options-2" title="§ 14.1 retry() method">§ 14.1 retry() method</a> <a
                        href="#ref-for-dfn-options-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-options-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-options-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-options-6" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail
                        changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-options-7" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a> <a href="#ref-for-dfn-options-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-options-9" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-options-10" title="Reference 4">(4)</a> <a href="#ref-for-dfn-options-11"
                        title="Reference 5">(5)</a> <a href="#ref-for-dfn-options-12" title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-options-13" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a> <a href="#ref-for-dfn-options-14"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-options-15" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-options-16" title="Reference 4">(4)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-state"
            aria-label="Links in this document to definition: [[state]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-state"
                    aria-label="Permalink for definition: [[state]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-state-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-2" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-state-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-state-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-state-5" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-state-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-state-7"
                        title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-8" title="§ 3.4 abort() method">§ 3.4 abort() method</a> <a
                        href="#ref-for-dfn-state-9" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-10" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-11" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-12" title="§ 18. Algorithms">§ 18. Algorithms</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-13" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make payment
                        algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-14" title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment
                        method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-15" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-16" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail
                        changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-17" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a> <a href="#ref-for-dfn-state-18"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-19" title="§ 18.8 User aborts the payment request algorithm">§ 18.8 User
                        aborts the payment request algorithm</a> <a href="#ref-for-dfn-state-20"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-21" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-state-0"
            aria-label="Links in this document to definition: state">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-state-0"
                    aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-state-0-1" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-0-2" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a> <a
                        href="#ref-for-dfn-state-0-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-state-0-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-state-0-5" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-state-0-6" title="Reference 5">(5)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-created"
            aria-label="Links in this document to definition: created">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-created"
                    aria-label="Permalink for definition: created. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-created-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-created-2" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-created-3" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-created-4" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make payment
                        algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-interactive"
            aria-label="Links in this document to definition: interactive">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-interactive"
                    aria-label="Permalink for definition: interactive. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-interactive-1" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-2" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-3" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-4" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-5" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-6" title="§ 18. Algorithms">§ 18. Algorithms</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-7" title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment
                        method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-8" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-9" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer
                        detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-10" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-11" title="§ 18.8 User aborts the payment request algorithm">§
                        18.8 User aborts the payment request algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-closed"
            aria-label="Links in this document to definition: closed">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-closed"
                    aria-label="Permalink for definition: closed. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-closed-1" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-closed-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-closed-3"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-closed-4" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-5" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-6" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a> <a
                        href="#ref-for-dfn-closed-7" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-8" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-9" title="§ 18.8 User aborts the payment request algorithm">§ 18.8 User
                        aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-10" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-11" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-updating"
            aria-label="Links in this document to definition: [[updating]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-updating"
                    aria-label="Permalink for definition: [[updating]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-updating-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-2" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-3" title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment
                        method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-4" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-5" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail
                        changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-6" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-7" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a> <a href="#ref-for-dfn-updating-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-9" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-acceptpromise"
            aria-label="Links in this document to definition: [[acceptPromise]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-acceptpromise"
                    aria-label="Permalink for definition: [[acceptPromise]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-1" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-2" title="§ 3.4 abort() method">§ 3.4 abort() method</a> <a
                        href="#ref-for-dfn-acceptpromise-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-4" title="§ 14.10 complete() method">§ 14.10 complete()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-5" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-6" title="§ 18.8 User aborts the payment request algorithm">§
                        18.8 User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-7" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the
                        update</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-8" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-response"
            aria-label="Links in this document to definition: [[response]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-response"
                    aria-label="Permalink for definition: [[response]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-response-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-2" title="§ 3.4 abort() method">§ 3.4 abort() method</a> <a
                        href="#ref-for-dfn-response-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-4" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail
                        changed algorithm</a> <a href="#ref-for-dfn-response-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-6" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a> <a href="#ref-for-dfn-response-7"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-response-8" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-9" title="§ 18.8 User aborts the payment request algorithm">§ 18.8
                        User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-10" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-handler"
            aria-label="Links in this document to definition: [[handler]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-handler"
                    aria-label="Permalink for definition: [[handler]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-handler-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-handler-2" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-handler-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-handler-4" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentmethoddata"
            aria-label="Links in this document to definition: PaymentMethodData">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethoddata"
                    aria-label="Permalink for definition: PaymentMethodData. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1205695403">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-1" title="§ 1. Introduction">§ 1. Introduction</a> <a
                        href="#ref-for-dom-paymentmethoddata-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-3" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-4" title="§ 2.1 Declaring multiple ways of paying">§ 2.1
                        Declaring multiple ways of paying</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-5" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-6" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-7" title="§ 4. PaymentMethodData dictionary">§ 4.
                        PaymentMethodData dictionary</a> <a href="#ref-for-dom-paymentmethoddata-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-9" title="§ 19.7 Exposing user information">§ 19.7 Exposing
                        user information</a> <a href="#ref-for-dom-paymentmethoddata-10" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-11" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentmethoddata-12" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethoddata-supportedmethods"
            aria-label="Links in this document to definition: supportedMethods">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethoddata-supportedmethods"
                    aria-label="Permalink for definition: supportedMethods. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1205695403">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-supportedmethods-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-3"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-4"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-5"
                        title="Reference 5">(5)</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-6"
                        title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-supportedmethods-7"
                        title="§ 4. PaymentMethodData dictionary">§ 4. PaymentMethodData dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-supportedmethods-8" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentmethoddata-data"
            aria-label="Links in this document to definition: data">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethoddata-data"
                    aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1205695403">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-1" title="§ 1. Introduction">§ 1. Introduction</a> <a
                        href="#ref-for-dom-paymentmethoddata-data-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentmethoddata-data-3" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-4" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentmethoddata-data-5" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentmethoddata-data-6" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-7" title="§ 4. PaymentMethodData dictionary">§ 4.
                        PaymentMethodData dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-8" title="§ 19.7 Exposing user information">§ 19.7
                        Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-9" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcurrencyamount"
            aria-label="Links in this document to definition: PaymentCurrencyAmount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcurrencyamount"
                    aria-label="Permalink for definition: PaymentCurrencyAmount. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-826862570">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-1" title="§ 5. PaymentCurrencyAmount dictionary">§ 5.
                        PaymentCurrencyAmount dictionary</a> <a href="#ref-for-dom-paymentcurrencyamount-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-3" title="§ 5.1 Validity checkers">§ 5.1 Validity
                        checkers</a> <a href="#ref-for-dom-paymentcurrencyamount-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-5" title="§ 10. PaymentItem dictionary">§ 10.
                        PaymentItem dictionary</a> <a href="#ref-for-dom-paymentcurrencyamount-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-7" title="§ 13. PaymentShippingOption dictionary">§ 13.
                        PaymentShippingOption dictionary</a> <a href="#ref-for-dom-paymentcurrencyamount-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentcurrencyamount-10" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentcurrencyamount-11" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentcurrencyamount-currency"
            aria-label="Links in this document to definition: currency">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcurrencyamount-currency"
                    aria-label="Permalink for definition: currency. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-826862570">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-currency-1"
                        title="§ 5. PaymentCurrencyAmount dictionary">§ 5. PaymentCurrencyAmount dictionary</a> <a
                        href="#ref-for-dom-paymentcurrencyamount-currency-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-currency-3" title="§ 5.1 Validity checkers">§ 5.1
                        Validity checkers</a> <a href="#ref-for-dom-paymentcurrencyamount-currency-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentcurrencyamount-currency-5"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-currency-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentcurrencyamount-value" aria-label="Links in this document to definition: value">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcurrencyamount-value"
                    aria-label="Permalink for definition: value. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-826862570">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-1" title="§ 5. PaymentCurrencyAmount dictionary">§
                        5. PaymentCurrencyAmount dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-2" title="§ 5.1 Validity checkers">§ 5.1 Validity
                        checkers</a> <a href="#ref-for-dom-paymentcurrencyamount-value-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentcurrencyamount-value-4" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-5" title="§ 6.2 PaymentDetailsInit dictionary">§
                        6.2 PaymentDetailsInit dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-6" title="§ 6.3 PaymentDetailsUpdate dictionary">§
                        6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-valid-decimal-monetary-value"
            aria-label="Links in this document to definition: valid decimal monetary value">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-valid-decimal-monetary-value"
                    aria-label="Permalink for definition: valid decimal monetary value. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-valid-decimal-monetary-value-1"
                        title="§ 5. PaymentCurrencyAmount dictionary">§ 5. PaymentCurrencyAmount dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-valid-decimal-monetary-value-2" title="§ 5.1 Validity checkers">§ 5.1 Validity
                        checkers</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-check-and-canonicalize-amount"
            aria-label="Links in this document to definition: check and canonicalize amount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-check-and-canonicalize-amount"
                    aria-label="Permalink for definition: check and canonicalize amount. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-amount-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dfn-check-and-canonicalize-amount-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-check-and-canonicalize-amount-3"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-amount-4"
                        title="§ 5. PaymentCurrencyAmount dictionary">§ 5. PaymentCurrencyAmount dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-amount-5" title="§ 5.1 Validity checkers">§ 5.1
                        Validity checkers</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-amount-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dfn-check-and-canonicalize-amount-7"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-check-and-canonicalize-amount-8"
                        title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-check-and-canonicalize-total-amount"
            aria-label="Links in this document to definition: check and canonicalize total amount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-check-and-canonicalize-total-amount"
                    aria-label="Permalink for definition: check and canonicalize total amount. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-total-amount-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dfn-check-and-canonicalize-total-amount-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-total-amount-3"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dfn-check-and-canonicalize-total-amount-4"
                        title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsbase"
            aria-label="Links in this document to definition: PaymentDetailsBase">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsbase"
                    aria-label="Permalink for definition: PaymentDetailsBase. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-914982787">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-1" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-2" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-3" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentdetailsbase-4"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-5" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentdetailsbase-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-7" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a> <a href="#ref-for-dom-paymentdetailsbase-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-9" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-10" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentdetailsbase-11" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsbase-12" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsbase-displayitems"
            aria-label="Links in this document to definition: displayItems">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsbase-displayitems"
                    aria-label="Permalink for definition: displayItems. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-914982787">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-3"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-4"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsbase-displayitems-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-7"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-8"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-9"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-10"
                        title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-11" title="§ 19.7 Exposing user information">§
                        19.7 Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-12" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsbase-shippingoptions"
            aria-label="Links in this document to definition: shippingOptions">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsbase-shippingoptions"
                    aria-label="Permalink for definition: shippingOptions. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-914982787">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-3"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-4"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsbase-shippingoptions-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-6"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-9"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-10"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-11"
                        title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-12" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsbase-modifiers"
            aria-label="Links in this document to definition: modifiers">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsbase-modifiers"
                    aria-label="Permalink for definition: modifiers. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-914982787">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-3"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-4" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-6" title="§ 6.1 PaymentDetailsBase dictionary">§
                        6.1 PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-9"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-10"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-11"
                        title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-12" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsinit"
            aria-label="Links in this document to definition: PaymentDetailsInit">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsinit"
                    aria-label="Permalink for definition: PaymentDetailsInit. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-47162060">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-1" title="§ 2. Examples of usage">§ 2. Examples of
                        usage</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-2" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-3" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-4" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentdetailsinit-5"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsinit-6"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsinit-7"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-8" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentdetailsinit-10" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsinit-id"
            aria-label="Links in this document to definition: id">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsinit-id"
                    aria-label="Permalink for definition: id. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-47162060">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentdetailsinit-id-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-3" title="§ 3.2 id attribute">§ 3.2 id attribute</a> <a
                        href="#ref-for-dom-paymentdetailsinit-id-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-5" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentdetailsinit-id-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-7"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-8" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsinit-total"
            aria-label="Links in this document to definition: total">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsinit-total"
                    aria-label="Permalink for definition: total. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-47162060">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-2" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dom-paymentdetailsinit-total-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-4" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentdetailsinit-total-5"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-6" title="§ 7. PaymentDetailsModifier dictionary">§
                        7. PaymentDetailsModifier dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-8" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsupdate"
            aria-label="Links in this document to definition: PaymentDetailsUpdate">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate"
                    aria-label="Permalink for definition: PaymentDetailsUpdate. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-1" title="§ 2.8 Fine-grained error reporting">§ 2.8
                        Fine-grained error reporting</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-2" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-3" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentdetailsupdate-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsupdate-5"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsupdate-6"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentdetailsupdate-7"
                        title="Reference 5">(5)</a> <a href="#ref-for-dom-paymentdetailsupdate-8"
                        title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-9" title="§ 17.3 PaymentRequestUpdateEvent interface">§
                        17.3 PaymentRequestUpdateEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-10" title="§ 17.3.2 updateWith() method">§ 17.3.2
                        updateWith() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-11"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsupdate-12" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-13" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentdetailsupdate-14" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsupdate-15" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-error" aria-label="Links in this document to definition: error">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-error"
                    aria-label="Permalink for definition: error. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-error-1" title="§ 6.3 PaymentDetailsUpdate dictionary">§
                        6.3 PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentdetailsupdate-error-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-error-3"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-error-4" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-total" aria-label="Links in this document to definition: total">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-total"
                    aria-label="Permalink for definition: total. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-total-1" title="§ 6.3 PaymentDetailsUpdate dictionary">§
                        6.3 PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentdetailsupdate-total-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-total-3"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsupdate-total-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsupdate-total-5"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsupdate-total-6"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-total-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-shippingaddresserrors"
            aria-label="Links in this document to definition: shippingAddressErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-shippingaddresserrors"
                    aria-label="Permalink for definition: shippingAddressErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-1"
                        title="§ 2.8 Fine-grained error reporting">§ 2.8 Fine-grained error reporting</a> <a
                        href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-3"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-4"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-5" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-payererrors"
            aria-label="Links in this document to definition: payerErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-payererrors"
                    aria-label="Permalink for definition: payerErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-payererrors-1"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-payererrors-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-paymentmethoderrors"
            aria-label="Links in this document to definition: paymentMethodErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-paymentmethoderrors"
                    aria-label="Permalink for definition: paymentMethodErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-1"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-2"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-5"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-6" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsmodifier"
            aria-label="Links in this document to definition: PaymentDetailsModifier">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier"
                    aria-label="Permalink for definition: PaymentDetailsModifier. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-2" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-3" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dom-paymentdetailsmodifier-4"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-5" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a> <a href="#ref-for-dom-paymentdetailsmodifier-6"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsmodifier-7"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-8"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-10" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsmodifier-supportedmethods"
            aria-label="Links in this document to definition: supportedMethods">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier-supportedmethods"
                    aria-label="Permalink for definition: supportedMethods. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-2"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-4" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-5"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-6" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsmodifier-total"
            aria-label="Links in this document to definition: total">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier-total"
                    aria-label="Permalink for definition: total. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-total-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentdetailsmodifier-total-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-total-3"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-total-4" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-total-5" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-total-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsmodifier-total-7"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-total-8" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsmodifier-additionaldisplayitems"
            aria-label="Links in this document to definition: additionalDisplayItems">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                    aria-label="Permalink for definition: additionalDisplayItems. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-1" title="§ 3.1 Constructor">§
                        3.1 Constructor</a> <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-3"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-5"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-7"
                        title="§ 19.7 Exposing user information">§ 19.7 Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-8" title="§ A. IDL Index">§ A.
                        IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsmodifier-data" aria-label="Links in this document to definition: data">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier-data"
                    aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-data-3" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-4" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a> <a href="#ref-for-dom-paymentdetailsmodifier-data-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-6"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsmodifier-data-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsmodifier-data-9"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-10" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentshippingtype"
            aria-label="Links in this document to definition: PaymentShippingType">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingtype"
                    aria-label="Permalink for definition: PaymentShippingType. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-119612894">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-2" title="§ 3.7 shippingType attribute">§ 3.7 shippingType
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-3" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-4" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a> <a href="#ref-for-dom-paymentshippingtype-5"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentshippingtype-7" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentshippingtype-8" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingtype-shipping"
            aria-label="Links in this document to definition: shipping">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingtype-shipping"
                    aria-label="Permalink for definition: shipping. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-119612894">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-shipping-1" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-shipping-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingtype-delivery"
            aria-label="Links in this document to definition: delivery">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingtype-delivery"
                    aria-label="Permalink for definition: delivery. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-119612894">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-delivery-1" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-delivery-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingtype-pickup" aria-label="Links in this document to definition: pickup">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingtype-pickup"
                    aria-label="Permalink for definition: pickup. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-119612894">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-pickup-1" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-pickup-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentoptions"
            aria-label="Links in this document to definition: PaymentOptions">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions"
                    aria-label="Permalink for definition: PaymentOptions. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-1" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-2" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-3" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-4" title="§ 3.7 shippingType attribute">§ 3.7 shippingType
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-5" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-6" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-7" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a> <a href="#ref-for-dom-paymentoptions-8" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-9" title="§ 14.4 shippingAddress attribute">§ 14.4
                        shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-10" title="§ 14.5 shippingOption attribute">§ 14.5
                        shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-11" title="§ 14.6 payerName attribute">§ 14.6 payerName
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-12" title="§ 14.7 payerEmail attribute">§ 14.7 payerEmail
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-13" title="§ 14.8 payerPhone attribute">§ 14.8 payerPhone
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-14" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentoptions-15" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestbillingaddress"
            aria-label="Links in this document to definition: requestBillingAddress">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestbillingaddress"
                    aria-label="Permalink for definition: requestBillingAddress. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestbillingaddress-1"
                        title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestbillingaddress-2" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestpayername"
            aria-label="Links in this document to definition: requestPayerName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestpayername"
                    aria-label="Permalink for definition: requestPayerName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-1" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-2" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-3" title="§ 14.6 payerName attribute">§ 14.6
                        payerName attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-4"
                        title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestpayeremail"
            aria-label="Links in this document to definition: requestPayerEmail">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestpayeremail"
                    aria-label="Permalink for definition: requestPayerEmail. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-1" title="§ 9. PaymentOptions dictionary">§
                        9. PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-2" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-3" title="§ 14.7 payerEmail attribute">§ 14.7
                        payerEmail attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-4"
                        title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestpayerphone"
            aria-label="Links in this document to definition: requestPayerPhone">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestpayerphone"
                    aria-label="Permalink for definition: requestPayerPhone. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-1" title="§ 9. PaymentOptions dictionary">§
                        9. PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-2" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-3" title="§ 14.8 payerPhone attribute">§ 14.8
                        payerPhone attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-4"
                        title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestshipping"
            aria-label="Links in this document to definition: requestShipping">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestshipping"
                    aria-label="Permalink for definition: requestShipping. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-2" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentoptions-requestshipping-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-4"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-5"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-6" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a> <a href="#ref-for-dom-paymentoptions-requestshipping-7"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-8" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-9" title="§ 14.4 shippingAddress attribute">§
                        14.4 shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-10" title="§ 14.5 shippingOption attribute">§
                        14.5 shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-11"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a> <a href="#ref-for-dom-paymentoptions-requestshipping-12"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentoptions-requestshipping-13"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-14"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentoptions-requestshipping-15"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentoptions-requestshipping-16"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-17" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-shippingtype"
            aria-label="Links in this document to definition: shippingType">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-shippingtype"
                    aria-label="Permalink for definition: shippingType. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-shippingtype-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-shippingtype-2" title="§ 3.7 shippingType attribute">§ 3.7
                        shippingType attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-shippingtype-3" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a> <a href="#ref-for-dom-paymentoptions-shippingtype-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentoptions-shippingtype-5"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-shippingtype-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentitem"
            aria-label="Links in this document to definition: PaymentItem">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentitem"
                    aria-label="Permalink for definition: PaymentItem. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1435887180">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentitem-1" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dom-paymentitem-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-3" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentitem-4"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-5" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentitem-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-7" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a> <a href="#ref-for-dom-paymentitem-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentitem-9" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentitem-10" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-11" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a> <a href="#ref-for-dom-paymentitem-12" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-13" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-14" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentitem-15" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentitem-16" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentitem-17" title="Reference 4">(4)</a> <a
                        href="#ref-for-dom-paymentitem-18" title="Reference 5">(5)</a> <a
                        href="#ref-for-dom-paymentitem-19" title="Reference 6">(6)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentitem-label"
            aria-label="Links in this document to definition: label">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentitem-label"
                    aria-label="Permalink for definition: label. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1435887180">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentitem-label-1" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a> <a href="#ref-for-dom-paymentitem-label-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-label-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentitem-amount"
            aria-label="Links in this document to definition: amount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentitem-amount"
                    aria-label="Permalink for definition: amount. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1435887180">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentitem-amount-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentitem-amount-3" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentitem-amount-4" title="Reference 4">(4)</a> <a
                        href="#ref-for-dom-paymentitem-amount-5" title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-6" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-7" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentitem-amount-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-9" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a> <a href="#ref-for-dom-paymentitem-amount-10" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-11"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentitem-amount-12" title="Reference 2">(2)</a>
                    <a href="#ref-for-dom-paymentitem-amount-13" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentitem-amount-14" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-15" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentitem-pending"
            aria-label="Links in this document to definition: pending">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentitem-pending"
                    aria-label="Permalink for definition: pending. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1435887180">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentitem-pending-1" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-pending-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcompletedetails"
            aria-label="Links in this document to definition: PaymentCompleteDetails">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcompletedetails"
                    aria-label="Permalink for definition: PaymentCompleteDetails. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1518429867">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-1" title="§ 11. PaymentCompleteDetails dictionary">§
                        11. PaymentCompleteDetails dictionary</a> <a href="#ref-for-dom-paymentcompletedetails-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentcompletedetails-3"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-4" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentcompletedetails-6" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentcompletedetails-data" aria-label="Links in this document to definition: data">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcompletedetails-data"
                    aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1518429867">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-data-1"
                        title="§ 11. PaymentCompleteDetails dictionary">§ 11. PaymentCompleteDetails dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-data-2" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-data-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcomplete"
            aria-label="Links in this document to definition: PaymentComplete">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcomplete"
                    aria-label="Permalink for definition: PaymentComplete. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1223986974">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-1" title="§ 12. PaymentComplete enum">§ 12. PaymentComplete
                        enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-2" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-3" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentcomplete-4" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcomplete-fail"
            aria-label="Links in this document to definition: fail">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcomplete-fail"
                    aria-label="Permalink for definition: fail. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1223986974">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-fail-1" title="§ 12. PaymentComplete enum">§ 12.
                        PaymentComplete enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-fail-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcomplete-success"
            aria-label="Links in this document to definition: success">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcomplete-success"
                    aria-label="Permalink for definition: success. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1223986974">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-success-1" title="§ 12. PaymentComplete enum">§ 12.
                        PaymentComplete enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-success-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcomplete-unknown"
            aria-label="Links in this document to definition: unknown">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcomplete-unknown"
                    aria-label="Permalink for definition: unknown. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1223986974">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-unknown-1" title="§ 12. PaymentComplete enum">§ 12.
                        PaymentComplete enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-unknown-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentshippingoption"
            aria-label="Links in this document to definition: PaymentShippingOption">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption"
                    aria-label="Permalink for definition: PaymentShippingOption. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-2" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-3" title="§ 13. PaymentShippingOption dictionary">§ 13.
                        PaymentShippingOption dictionary</a> <a href="#ref-for-dom-paymentshippingoption-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentshippingoption-5"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentshippingoption-6"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-7" title="§ 18.3 Shipping option changed algorithm">§
                        18.3 Shipping option changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-8"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentshippingoption-10" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentshippingoption-id"
            aria-label="Links in this document to definition: id">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption-id"
                    aria-label="Permalink for definition: id. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentshippingoption-id-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentshippingoption-id-3" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-4" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-5" title="§ 13. PaymentShippingOption dictionary">§
                        13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-6" title="§ 14.5 shippingOption attribute">§ 14.5
                        shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentshippingoption-id-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-9" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingoption-label" aria-label="Links in this document to definition: label">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption-label"
                    aria-label="Permalink for definition: label. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-label-1"
                        title="§ 13. PaymentShippingOption dictionary">§ 13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-label-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingoption-amount"
            aria-label="Links in this document to definition: amount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption-amount"
                    aria-label="Permalink for definition: amount. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-amount-1"
                        title="§ 13. PaymentShippingOption dictionary">§ 13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-amount-2"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-amount-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingoption-selected"
            aria-label="Links in this document to definition: selected">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption-selected"
                    aria-label="Permalink for definition: selected. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-2"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a> <a
                        href="#ref-for-dom-paymentshippingoption-selected-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentshippingoption-selected-4" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-5"
                        title="§ 13. PaymentShippingOption dictionary">§ 13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentresponse"
            aria-label="Links in this document to definition: PaymentResponse">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse"
                    aria-label="Permalink for definition: PaymentResponse. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-1" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-2" title="§ 2.9 POSTing payment response back to a server">§
                        2.9 POSTing payment response back to a server</a> <a href="#ref-for-dom-paymentresponse-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-4" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-5" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-6" title="§ 11. PaymentCompleteDetails dictionary">§ 11.
                        PaymentCompleteDetails dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-7" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a> <a href="#ref-for-dom-paymentresponse-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-9" title="§ 14.1 retry() method">§ 14.1 retry() method</a> <a
                        href="#ref-for-dom-paymentresponse-10" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentresponse-11" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentresponse-12" title="Reference 4">(4)</a> <a
                        href="#ref-for-dom-paymentresponse-13" title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-14" title="§ 14.1.1 PaymentValidationErrors dictionary">§
                        14.1.1 PaymentValidationErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-15" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a> <a href="#ref-for-dom-paymentresponse-16" title="Reference 2">(2)</a>
                    <a href="#ref-for-dom-paymentresponse-17" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-18" title="§ 14.10 complete() method">§ 14.10 complete()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-19" title="§ 14.12 Internal Slots">§ 14.12 Internal Slots</a>
                    <a href="#ref-for-dom-paymentresponse-20" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-21" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-22" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-23"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-24"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-25" title="§ 19.7 Exposing user information">§ 19.7 Exposing
                        user information</a> <a href="#ref-for-dom-paymentresponse-26" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-27" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentresponse-28" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentresponse-retry"
            aria-label="Links in this document to definition: retry()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-retry"
                    aria-label="Permalink for definition: retry(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-retry-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-retry-2" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a> <a href="#ref-for-dom-paymentresponse-retry-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-retry-4"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-retry-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentvalidationerrors"
            aria-label="Links in this document to definition: PaymentValidationErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors"
                    aria-label="Permalink for definition: PaymentValidationErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-2" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a> <a href="#ref-for-dom-paymentvalidationerrors-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-4"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a> <a href="#ref-for-dom-paymentvalidationerrors-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentvalidationerrors-7" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentvalidationerrors-payer"
            aria-label="Links in this document to definition: payer">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors-payer"
                    aria-label="Permalink for definition: payer. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-payer-1" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a> <a href="#ref-for-dom-paymentvalidationerrors-payer-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentvalidationerrors-payer-3" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-payer-4"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-payer-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentvalidationerrors-shippingaddress"
            aria-label="Links in this document to definition: shippingAddress">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors-shippingaddress"
                    aria-label="Permalink for definition: shippingAddress. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-shippingaddress-1" title="§ 14.1 retry() method">§
                        14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-shippingaddress-2"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-shippingaddress-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentvalidationerrors-error"
            aria-label="Links in this document to definition: error">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors-error"
                    aria-label="Permalink for definition: error. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-error-1" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-error-2"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a> <a href="#ref-for-dom-paymentvalidationerrors-error-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentvalidationerrors-error-4"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-error-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentvalidationerrors-paymentmethod"
            aria-label="Links in this document to definition: paymentMethod">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors-paymentmethod"
                    aria-label="Permalink for definition: paymentMethod. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-paymentmethod-1" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a> <a href="#ref-for-dom-paymentvalidationerrors-paymentmethod-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-paymentmethod-3"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-paymentmethod-4" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-payererrors"
            aria-label="Links in this document to definition: PayerErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-payererrors"
                    aria-label="Permalink for definition: PayerErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-73171198">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-payererrors-1" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-2" title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1
                        PaymentValidationErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-3" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2 PayerErrors
                        dictionary</a> <a href="#ref-for-dom-payererrors-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-5" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-payererrors-7" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-payererrors-8" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payer-details"
            aria-label="Links in this document to definition: Payer details">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payer-details"
                    aria-label="Permalink for definition: Payer details. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payer-details-1" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payer-details-2" title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1
                        PaymentValidationErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payer-details-3" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2 PayerErrors
                        dictionary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-payererrors-email"
            aria-label="Links in this document to definition: email">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-payererrors-email"
                    aria-label="Permalink for definition: email. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-73171198">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-payererrors-email-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-email-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-email-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-payererrors-name"
            aria-label="Links in this document to definition: name">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-payererrors-name"
                    aria-label="Permalink for definition: name. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-73171198">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-payererrors-name-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-name-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-name-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-payererrors-phone"
            aria-label="Links in this document to definition: phone">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-payererrors-phone"
                    aria-label="Permalink for definition: phone. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-73171198">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-payererrors-phone-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-phone-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-phone-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-methodname"
            aria-label="Links in this document to definition: methodName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-methodname"
                    aria-label="Permalink for definition: methodName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-2" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-3" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a> <a href="#ref-for-dom-paymentresponse-methodname-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentresponse-methodname-5"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-6"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentresponse-details"
            aria-label="Links in this document to definition: details">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-details"
                    aria-label="Permalink for definition: details. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-details-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-details-2"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-details-3" title="§ 19.7 Exposing user information">§ 19.7
                        Exposing user information</a> <a href="#ref-for-dom-paymentresponse-details-4"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-details-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-shippingaddress"
            aria-label="Links in this document to definition: shippingAddress">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-shippingaddress"
                    aria-label="Permalink for definition: shippingAddress. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingaddress-1" title="§ 14. PaymentResponse interface">§
                        14. PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingaddress-2"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingaddress-3"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a> <a href="#ref-for-dom-paymentresponse-shippingaddress-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentresponse-shippingaddress-5"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingaddress-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-shippingoption"
            aria-label="Links in this document to definition: shippingOption">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-shippingoption"
                    aria-label="Permalink for definition: shippingOption. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingoption-1" title="§ 14. PaymentResponse interface">§
                        14. PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingoption-2"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a> <a href="#ref-for-dom-paymentresponse-shippingoption-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingoption-4" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-payername"
            aria-label="Links in this document to definition: payerName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-payername"
                    aria-label="Permalink for definition: payerName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-3" title="§ 14.6 payerName attribute">§ 14.6
                        payerName attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-4" title="§ 18.6 Payer detail changed algorithm">§
                        18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-payeremail"
            aria-label="Links in this document to definition: payerEmail">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-payeremail"
                    aria-label="Permalink for definition: payerEmail. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-3" title="§ 14.7 payerEmail attribute">§ 14.7
                        payerEmail attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-4" title="§ 18.6 Payer detail changed algorithm">§
                        18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-payerphone"
            aria-label="Links in this document to definition: payerPhone">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-payerphone"
                    aria-label="Permalink for definition: payerPhone. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-3" title="§ 14.8 payerPhone attribute">§ 14.8
                        payerPhone attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-4" title="§ 18.6 Payer detail changed algorithm">§
                        18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a> <a href="#ref-for-dom-paymentresponse-payerphone-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-requestid"
            aria-label="Links in this document to definition: requestId">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-requestid"
                    aria-label="Permalink for definition: requestId. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-requestid-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-requestid-2"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-requestid-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentresponse-complete"
            aria-label="Links in this document to definition: complete()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-complete"
                    aria-label="Permalink for definition: complete(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-complete-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-complete-2" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a> <a href="#ref-for-dom-paymentresponse-complete-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentresponse-complete-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentresponse-complete-5"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentresponse-complete-6"
                        title="Reference 5">(5)</a> <a href="#ref-for-dom-paymentresponse-complete-7"
                        title="Reference 6">(6)</a> <a href="#ref-for-dom-paymentresponse-complete-8"
                        title="Reference 7">(7)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-complete-9" title="§ 14.12 Internal Slots">§ 14.12 Internal
                        Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-complete-10" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-onpayerdetailchange"
            aria-label="Links in this document to definition: onpayerdetailchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-onpayerdetailchange"
                    aria-label="Permalink for definition: onpayerdetailchange. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-onpayerdetailchange-1"
                        title="§ 14. PaymentResponse interface">§ 14. PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-onpayerdetailchange-2" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-complete"
            aria-label="Links in this document to definition: [[complete]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-complete"
                    aria-label="Permalink for definition: [[complete]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-complete-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-2" title="§ 14.10 complete() method">§ 14.10 complete() method</a> <a
                        href="#ref-for-dfn-complete-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-4" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-5" title="§ 18.8 User aborts the payment request algorithm">§ 18.8
                        User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-6" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-7" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-request"
            aria-label="Links in this document to definition: [[request]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-request"
                    aria-label="Permalink for definition: [[request]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-request-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-request-2" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-request-3" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-retrypromise"
            aria-label="Links in this document to definition: [[retryPromise]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-retrypromise"
                    aria-label="Permalink for definition: [[retryPromise]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-retrypromise-1" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-2" title="§ 14.1 retry() method">§ 14.1 retry() method</a> <a
                        href="#ref-for-dfn-retrypromise-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-retrypromise-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-retrypromise-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-6" title="§ 14.10 complete() method">§ 14.10 complete()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-7" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a> <a href="#ref-for-dfn-retrypromise-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-9" title="§ 18.8 User aborts the payment request algorithm">§
                        18.8 User aborts the payment request algorithm</a> <a href="#ref-for-dfn-retrypromise-10"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-11" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the
                        update</a> <a href="#ref-for-dfn-retrypromise-12" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-13" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-shipping-address"
            aria-label="Links in this document to definition: shipping address">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shipping-address"
                    aria-label="Permalink for definition: shipping address. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shipping-address-1" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a> <a href="#ref-for-dfn-shipping-address-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shipping-address-3" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shipping-address-4" title="§ 14.4 shippingAddress attribute">§ 14.4
                        shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shipping-address-5" title="§ 19.7 Exposing user information">§ 19.7 Exposing
                        user information</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-billing-address"
            aria-label="Links in this document to definition: billing address">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-billing-address"
                    aria-label="Permalink for definition: billing address. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-billing-address-1" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors"
            aria-label="Links in this document to definition: AddressErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors"
                    aria-label="Permalink for definition: AddressErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-1" title="§ 2.8 Fine-grained error reporting">§ 2.8 Fine-grained
                        error reporting</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-2" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-3" title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1
                        PaymentValidationErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-4" title="§ 15.1 AddressErrors dictionary">§ 15.1 AddressErrors
                        dictionary</a> <a href="#ref-for-dom-addresserrors-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-6" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-7" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-addresserrors-8" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-addresserrors-9" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-addresserrors-addressline"
            aria-label="Links in this document to definition: addressLine">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-addressline"
                    aria-label="Permalink for definition: addressLine. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-addressline-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-addressline-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-city"
            aria-label="Links in this document to definition: city">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-city"
                    aria-label="Permalink for definition: city. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-city-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-city-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-country"
            aria-label="Links in this document to definition: country">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-country"
                    aria-label="Permalink for definition: country. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-country-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-country-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-addresserrors-dependentlocality"
            aria-label="Links in this document to definition: dependentLocality">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-dependentlocality"
                    aria-label="Permalink for definition: dependentLocality. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-dependentlocality-1" title="§ 15.1 AddressErrors dictionary">§
                        15.1 AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-dependentlocality-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-addresserrors-organization"
            aria-label="Links in this document to definition: organization">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-organization"
                    aria-label="Permalink for definition: organization. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-organization-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-organization-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-phone"
            aria-label="Links in this document to definition: phone">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-phone"
                    aria-label="Permalink for definition: phone. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-phone-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-phone-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-postalcode"
            aria-label="Links in this document to definition: postalCode">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-postalcode"
                    aria-label="Permalink for definition: postalCode. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-postalcode-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-postalcode-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-recipient"
            aria-label="Links in this document to definition: recipient">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-recipient"
                    aria-label="Permalink for definition: recipient. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-recipient-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-recipient-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-region"
            aria-label="Links in this document to definition: region">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-region"
                    aria-label="Permalink for definition: region. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-region-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-region-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-addresserrors-sortingcode"
            aria-label="Links in this document to definition: sortingCode">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-sortingcode"
                    aria-label="Permalink for definition: sortingCode. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-sortingcode-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-sortingcode-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payment"
            aria-label="Links in this document to definition: &quot;payment&quot;">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment"
                    aria-label="Permalink for definition: &quot;payment&quot;. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-shippingaddresschange"
            aria-label="Links in this document to definition: shippingaddresschange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shippingaddresschange"
                    aria-label="Permalink for definition: shippingaddresschange. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shippingaddresschange-1" title="§ 3.8 onshippingaddresschange attribute">§ 3.8
                        onshippingaddresschange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shippingaddresschange-2" title="§ 18.2 Shipping address changed algorithm">§
                        18.2 Shipping address changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-shippingoptionchange"
            aria-label="Links in this document to definition: shippingoptionchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shippingoptionchange"
                    aria-label="Permalink for definition: shippingoptionchange. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shippingoptionchange-1" title="§ 3.10 onshippingoptionchange attribute">§ 3.10
                        onshippingoptionchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shippingoptionchange-2" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shippingoptionchange-3" title="§ 18.3 Shipping option changed algorithm">§
                        18.3 Shipping option changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payerdetailchange"
            aria-label="Links in this document to definition: payerdetailchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payerdetailchange"
                    aria-label="Permalink for definition: payerdetailchange. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payerdetailchange-1" title="§ 14.11 onpayerdetailchange attribute">§ 14.11
                        onpayerdetailchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payerdetailchange-2" title="§ 18.6 Payer detail changed algorithm">§ 18.6
                        Payer detail changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-paymentmethodchange"
            aria-label="Links in this document to definition: paymentmethodchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-paymentmethodchange"
                    aria-label="Permalink for definition: paymentmethodchange. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-paymentmethodchange-1" title="§ 3.11 onpaymentmethodchange attribute">§ 3.11
                        onpaymentmethodchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-paymentmethodchange-2" title="§ 18.4 Payment method changed algorithm">§ 18.4
                        Payment method changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentmethodchangeevent"
            aria-label="Links in this document to definition: PaymentMethodChangeEvent">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeevent"
                    aria-label="Permalink for definition: PaymentMethodChangeEvent. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1848946631">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-1" title="§ 3.11 onpaymentmethodchange attribute">§
                        3.11 onpaymentmethodchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-2" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-3" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-4"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-5" title="§ 18.4 Payment method changed algorithm">§
                        18.4 Payment method changed algorithm</a> <a href="#ref-for-dom-paymentmethodchangeevent-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-7" title="§ 19.7 Exposing user information">§ 19.7
                        Exposing user information</a> <a href="#ref-for-dom-paymentmethodchangeevent-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-9" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeevent-constructor"
            aria-label="Links in this document to definition: constructor">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeevent-constructor"
                    aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>Not referenced in this document.</li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeevent-methoddetails"
            aria-label="Links in this document to definition: methodDetails">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeevent-methoddetails"
                    aria-label="Permalink for definition: methodDetails. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1848946631">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-1"
                        title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-2"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-3"
                        title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-4"
                        title="§ 19.7 Exposing user information">§ 19.7 Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-5" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeevent-methodname"
            aria-label="Links in this document to definition: methodName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeevent-methodname"
                    aria-label="Permalink for definition: methodName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1848946631">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methodname-1"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methodname-2" title="§ 17.3.2 updateWith() method">§
                        17.3.2 updateWith() method</a> <a href="#ref-for-dom-paymentmethodchangeevent-methodname-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methodname-4"
                        title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methodname-5" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeeventinit"
            aria-label="Links in this document to definition: PaymentMethodChangeEventInit">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeeventinit"
                    aria-label="Permalink for definition: PaymentMethodChangeEventInit. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-746190437">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-1"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-2" title="§ 17.2.1 methodDetails attribute">§
                        17.2.1 methodDetails attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-3" title="§ 17.2.2 methodName attribute">§ 17.2.2
                        methodName attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-4"
                        title="§ 17.2.3 PaymentMethodChangeEventInit dictionary">§ 17.2.3 PaymentMethodChangeEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentmethodchangeeventinit-6" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeeventinit-methodname"
            aria-label="Links in this document to definition: methodName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeeventinit-methodname"
                    aria-label="Permalink for definition: methodName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-746190437">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methodname-1"
                        title="§ 17.2.2 methodName attribute">§ 17.2.2 methodName attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methodname-2"
                        title="§ 17.2.3 PaymentMethodChangeEventInit dictionary">§ 17.2.3 PaymentMethodChangeEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methodname-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeeventinit-methoddetails"
            aria-label="Links in this document to definition: methodDetails">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeeventinit-methoddetails"
                    aria-label="Permalink for definition: methodDetails. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-746190437">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methoddetails-1"
                        title="§ 17.2.1 methodDetails attribute">§ 17.2.1 methodDetails attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methoddetails-2"
                        title="§ 17.2.3 PaymentMethodChangeEventInit dictionary">§ 17.2.3 PaymentMethodChangeEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methoddetails-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequestupdateevent"
            aria-label="Links in this document to definition: PaymentRequestUpdateEvent">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequestupdateevent"
                    aria-label="Permalink for definition: PaymentRequestUpdateEvent. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1601085411">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-1" title="§ 3.8 onshippingaddresschange attribute">§
                        3.8 onshippingaddresschange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-2" title="§ 3.10 onshippingoptionchange attribute">§
                        3.10 onshippingoptionchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-3" title="§ 17.1 Summary">§ 17.1 Summary</a> <a
                        href="#ref-for-dom-paymentrequestupdateevent-4" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequestupdateevent-5" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-6"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-7"
                        title="§ 17.3 PaymentRequestUpdateEvent interface">§ 17.3 PaymentRequestUpdateEvent
                        interface</a> <a href="#ref-for-dom-paymentrequestupdateevent-8" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-9" title="§ 17.3.1 Constructor">§ 17.3.1
                        Constructor</a> <a href="#ref-for-dom-paymentrequestupdateevent-10" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-11" title="§ 17.3.2 updateWith() method">§ 17.3.2
                        updateWith() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-12" title="§ 17.3.3 Internal Slots">§ 17.3.3
                        Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-13"
                        title="§ 18.5 PaymentRequest updated algorithm">§ 18.5 PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-14" title="§ 18.6 Payer detail changed algorithm">§
                        18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-15" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentrequestupdateevent-16" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequestupdateevent-constructor"
            aria-label="Links in this document to definition: Constructor">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequestupdateevent-constructor"
                    aria-label="Permalink for definition: Constructor. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1601085411">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-constructor-1"
                        title="§ 17.3 PaymentRequestUpdateEvent interface">§ 17.3 PaymentRequestUpdateEvent
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-constructor-2" title="§ 17.3.1 Constructor">§ 17.3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-constructor-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequestupdateevent-updatewith"
            aria-label="Links in this document to definition: updateWith()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequestupdateevent-updatewith"
                    aria-label="Permalink for definition: updateWith(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1601085411">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-1" title="§ 3.12 Internal Slots">§ 3.12
                        Internal Slots</a> <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-3"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a> <a
                        href="#ref-for-dom-paymentrequestupdateevent-updatewith-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-5"
                        title="§ 13. PaymentShippingOption dictionary">§ 13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-6"
                        title="§ 17.3 PaymentRequestUpdateEvent interface">§ 17.3 PaymentRequestUpdateEvent
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-7" title="§ 17.3.2 updateWith() method">§
                        17.3.2 updateWith() method</a> <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-9"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-10" title="§ 17.3.3 Internal Slots">§
                        17.3.3 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-11" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-waitforupdate"
            aria-label="Links in this document to definition: [[waitForUpdate]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-waitforupdate"
                    aria-label="Permalink for definition: [[waitForUpdate]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-waitforupdate-1" title="§ 17.3.1 Constructor">§ 17.3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-waitforupdate-2" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a> <a href="#ref-for-dfn-waitforupdate-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-waitforupdate-4" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-waitforupdate-5" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a> <a href="#ref-for-dfn-waitforupdate-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-waitforupdate-7" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer
                        detail changed algorithm</a> <a href="#ref-for-dfn-waitforupdate-8" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequestupdateeventinit"
            aria-label="Links in this document to definition: PaymentRequestUpdateEventInit">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequestupdateeventinit"
                    aria-label="Permalink for definition: PaymentRequestUpdateEventInit. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-349124107">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateeventinit-1"
                        title="§ 17.2.3 PaymentMethodChangeEventInit dictionary">§ 17.2.3 PaymentMethodChangeEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateeventinit-2"
                        title="§ 17.3 PaymentRequestUpdateEvent interface">§ 17.3 PaymentRequestUpdateEvent
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateeventinit-3"
                        title="§ 17.3.4 PaymentRequestUpdateEventInit dictionary">§ 17.3.4 PaymentRequestUpdateEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateeventinit-4" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentrequestupdateeventinit-5" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequestupdateeventinit-6" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-can-make-payment-algorithm"
            aria-label="Links in this document to definition: can make payment algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-can-make-payment-algorithm"
                    aria-label="Permalink for definition: can make payment algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-can-make-payment-algorithm-1" title="§ 3.5 canMakePayment() method">§ 3.5
                        canMakePayment() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-can-make-payment-algorithm-2" title="§ 18.1 Can make payment algorithm">§ 18.1
                        Can make payment algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-shipping-address-changed-algorithm"
            aria-label="Links in this document to definition: shipping address changed algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shipping-address-changed-algorithm"
                    aria-label="Permalink for definition: shipping address changed algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shipping-address-changed-algorithm-1"
                        title="§ 3.6 shippingAddress attribute">§ 3.6 shippingAddress attribute</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-shipping-option-changed-algorithm"
            aria-label="Links in this document to definition: shipping option changed algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shipping-option-changed-algorithm"
                    aria-label="Permalink for definition: shipping option changed algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shipping-option-changed-algorithm-1" title="§ 3.9 shippingOption attribute">§
                        3.9 shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shipping-option-changed-algorithm-2"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-payment-method-changed-algorithm"
            aria-label="Links in this document to definition: payment method changed algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-method-changed-algorithm"
                    aria-label="Permalink for definition: payment method changed algorithm. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-method-changed-algorithm-1" title="§ 19.7 Exposing user information">§
                        19.7 Exposing user information</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-paymentrequest-updated-algorithm"
            aria-label="Links in this document to definition: PaymentRequest updated algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-paymentrequest-updated-algorithm"
                    aria-label="Permalink for definition: PaymentRequest updated algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-paymentrequest-updated-algorithm-1"
                        title="§ 18.2 Shipping address changed algorithm">§ 18.2 Shipping address changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-paymentrequest-updated-algorithm-2"
                        title="§ 18.3 Shipping option changed algorithm">§ 18.3 Shipping option changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-payer-detail-changed-algorithm"
            aria-label="Links in this document to definition: payer detail changed algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payer-detail-changed-algorithm"
                    aria-label="Permalink for definition: payer detail changed algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payer-detail-changed-algorithm-1" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-user-accepts-the-payment-request-algorithm"
            aria-label="Links in this document to definition: user accepts the payment request algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-user-accepts-the-payment-request-algorithm"
                    aria-label="Permalink for definition: user accepts the payment request algorithm. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-1" title="§ 3.3 show() method">§
                        3.3 show() method</a> <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-3" title="§ 3.12 Internal Slots">§
                        3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-4" title="§ 14.1 retry() method">§
                        14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-5" title="§ 14.12 Internal Slots">§
                        14.12 Internal Slots</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-user-aborts-the-payment-request"
            aria-label="Links in this document to definition: user aborts the payment request algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-user-aborts-the-payment-request"
                    aria-label="Permalink for definition: user aborts the payment request algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-1" title="§ 3.3 show() method">§ 3.3 show()
                        method</a> <a href="#ref-for-dfn-user-aborts-the-payment-request-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-3" title="§ 3.4 abort() method">§ 3.4 abort()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-4" title="§ 3.12 Internal Slots">§ 3.12
                        Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-5" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-6" title="§ 14.12 Internal Slots">§ 14.12
                        Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-update-a-paymentrequest-s-details-algorithm"
            aria-label="Links in this document to definition: update a PaymentRequest's details algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-update-a-paymentrequest-s-details-algorithm"
                    aria-label="Permalink for definition: update a PaymentRequest's details algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-update-a-paymentrequest-s-details-algorithm-1" title="§ 3.3 show() method">§
                        3.3 show() method</a> <a href="#ref-for-dfn-update-a-paymentrequest-s-details-algorithm-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-update-a-paymentrequest-s-details-algorithm-3"
                        title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith() method</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-abort-the-update"
            aria-label="Links in this document to definition: abort the update">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-abort-the-update"
                    aria-label="Permalink for definition: abort the update. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-abort-the-update-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-abort-the-update-2"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dfn-abort-the-update-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-abort-the-update-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-abort-the-update-5" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-abort-the-update-6" title="Reference 5">(5)</a> <a
                        href="#ref-for-dfn-abort-the-update-7" title="Reference 6">(6)</a> <a
                        href="#ref-for-dfn-abort-the-update-8" title="Reference 7">(7)</a> <a
                        href="#ref-for-dfn-abort-the-update-9" title="Reference 8">(8)</a> <a
                        href="#ref-for-dfn-abort-the-update-10" title="Reference 9">(9)</a> <a
                        href="#ref-for-dfn-abort-the-update-11" title="Reference 10">(10)</a> <a
                        href="#ref-for-dfn-abort-the-update-12" title="Reference 11">(11)</a> <a
                        href="#ref-for-dfn-abort-the-update-13" title="Reference 12">(12)</a> <a
                        href="#ref-for-dfn-abort-the-update-14" title="Reference 13">(13)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-user-agent"
            aria-label="Links in this document to definition: user agent">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-user-agent"
                    aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-user-agent-1" title="§ 1. Introduction">§ 1. Introduction</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-2" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a> <a href="#ref-for-dfn-user-agent-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-4" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-user-agent-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-user-agent-6"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-user-agent-7" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-8" title="§ 3.4 abort() method">§ 3.4 abort() method</a> <a
                        href="#ref-for-dfn-user-agent-9" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-user-agent-10" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-11" title="§ 3.5 canMakePayment() method">§ 3.5 canMakePayment()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-12" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dfn-user-agent-13"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-14" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-15" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a> <a href="#ref-for-dfn-user-agent-16" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-user-agent-17" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-user-agent-18" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-user-agent-19" title="Reference 5">(5)</a> <a
                        href="#ref-for-dfn-user-agent-20" title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-21" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a> <a href="#ref-for-dfn-user-agent-22" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-23" title="§ 12. PaymentComplete enum">§ 12. PaymentComplete
                        enum</a> <a href="#ref-for-dfn-user-agent-24" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-user-agent-25" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-26" title="§ 13. PaymentShippingOption dictionary">§ 13.
                        PaymentShippingOption dictionary</a> <a href="#ref-for-dfn-user-agent-27"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-28" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-29" title="§ 14.10 complete() method">§ 14.10 complete() method</a>
                    <a href="#ref-for-dfn-user-agent-30" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-31" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-32" title="§ 18. Algorithms">§ 18. Algorithms</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-33" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make
                        payment algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-34" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a> <a href="#ref-for-dfn-user-agent-35"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-user-agent-36" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-37" title="§ 18.8 User aborts the payment request algorithm">§ 18.8
                        User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-38" title="§ 19.7 Exposing user information">§ 19.7 Exposing user
                        information</a> <a href="#ref-for-dfn-user-agent-39" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-user-agent-40" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <p>
            从 CR2 到现在的变更：
        </p><rs-changelog from="CR2" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/payment-request/commit/be6feef">[规范] 恢复自 REC 以来的更改</a>
                    (<a href="https://github.com/w3c/payment-request/pull/1029">#1029</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/91d3530">状态部分改进；整理</a>
                    (<a href="https://github.com/w3c/payment-request/pull/1026">#1026</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/d9352e2">[规范] 放宽 show() 的用户激活要求</a> (<a
                        href="https://github.com/w3c/payment-request/pull/1009">#1009</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/cce8f5e">[规范] 仅允许在前台选项卡中调用 show()</a> (<a
                        href="https://github.com/w3c/payment-request/pull/1005">#1005</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/08be866">[规范] 修复损坏的 permissions-policy 引用</a>
                    (<a href="https://github.com/w3c/payment-request/pull/1007">#1007</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/898412b">删除注释，因为实际上我们有一个 1.1 分支</a> (<a
                        href="https://github.com/w3c/payment-request/pull/1001">#1001</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/8c45522">定义转换和验证 `.data` 的概念</a> (<a
                        href="https://github.com/w3c/payment-request/pull/977">#977</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5337037">在 complete() 时传递数据</a> (<a
                        href="https://github.com/w3c/payment-request/pull/982">#982</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/b6b0630">在构造时验证 .data</a>
                    (<a href="https://github.com/w3c/payment-request/pull/976">#976</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/ff5e725">为人类可读标签添加国际化支持</a> (<a
                        href="https://github.com/w3c/payment-request/pull/971">#971</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/82583cf">当瞬时激活拒绝时，不要将状态设置为 closed</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/ee3dde1">当没有瞬时激活时，使用 SecurityError 拒绝</a> (<a
                        href="https://github.com/w3c/payment-request/pull/961">#961</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/486c07a">放弃 PaymentAddress、送货地址 + 账单地址支持</a>
                    (<a href="https://github.com/w3c/payment-request/pull/955">#955</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/4bb62e1">建议支付 UI 匹配文档语言</a> (<a
                        href="https://github.com/w3c/payment-request/pull/944">#944</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/4ce6ebb">放弃提及 ¤</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/0e2ad2b">基于问题 936 添加</a> (<a
                        href="https://github.com/w3c/payment-request/pull/937">#937</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/0d11184">消耗用户激活</a> (<a
                        href="https://github.com/w3c/payment-request/pull/916">#916</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/f697360">移除 hasEnrolledInstrument()</a>
                    (<a href="https://github.com/w3c/payment-request/pull/930">#930</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/8337fee">移除商家验证</a> (<a
                        href="https://github.com/w3c/payment-request/pull/929">#929</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/a4f35e3">弃用 allowpaymentrequest 属性</a> (<a
                        href="https://github.com/w3c/payment-request/pull/928">#928</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/f810dc0">移除基于 body 元素本地化工作表的建议</a> (<a
                        href="https://github.com/w3c/payment-request/pull/896">#896</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/a0c831d">移除在文档变为非活动状态后拒绝的要求</a> (<a
                        href="https://github.com/w3c/payment-request/pull/875">#875</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/6f2565b">添加
                        PaymentRequest.prototype.hasEnrolledInstrument()</a> (<a
                        href="https://github.com/w3c/payment-request/pull/833">#833</a>)</li>
            </ul>
        </rs-changelog>
        <p>
            CR1 和 CR2 之间的变更：
        </p><rs-changelog from="CR" to="CR2" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/payment-request/commit/9a3c6d9">源于隐私审查的变更：</a> (<a
                        href="https://github.com/w3c/payment-request/pull/856">#856</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/0358fb3">在 payerdetailchange 派发时将
                        [[waitForUpdate]] 设置为 true</a> (<a
                        href="https://github.com/w3c/payment-request/pull/857">#857</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/26fbcf9">向 MerchantValidationEvent 的
                        validationURL 添加隐私保护</a> (<a href="https://github.com/w3c/payment-request/pull/850">#850</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/76135b9">描述更改支付方式的隐私影响</a> (<a
                        href="https://github.com/w3c/payment-request/pull/849">#849</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/9dac110">从 shippingAddress 中编辑
                        dependentLocality</a> (<a href="https://github.com/w3c/payment-request/pull/846">#846</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/3f644f4">2 月 28 日 PING 隐私审查产生的变更</a> (<a
                        href="https://github.com/w3c/payment-request/pull/843">#843</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/0bc0baa">在构造函数中进行 .data IDL 转换</a> (<a
                        href="https://github.com/w3c/payment-request/pull/829">#829</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5966e82">与功能策略集成</a>
                    (<a href="https://github.com/w3c/payment-request/pull/822">#822</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5906b72">移除 regionCode 属性</a> (<a
                        href="https://github.com/w3c/payment-request/pull/823">#823</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5459933">阐明未传递 errorFields 时 retry() 的行为</a>
                    (<a href="https://github.com/w3c/payment-request/pull/825">#825</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/6b5e0ee">将“支付请求正在显示布尔值”附加到顶级浏览上下文…</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/a1e773a">阐明用户何时可以中止支付请求算法</a> (<a
                        href="https://github.com/w3c/payment-request/pull/810">#810</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/4937ad2">当 errorFields 与 request[[options]]
                        不匹配时发出警告</a> (<a href="https://github.com/w3c/payment-request/pull/807">#807</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/974d879">支持请求账单地址</a> (<a
                        href="https://github.com/w3c/payment-request/pull/749">#749</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/1d5bcd8">添加了关于无障碍注意事项的章节和段落</a> (<a
                        href="https://github.com/w3c/payment-request/pull/802">#802</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/bf98afb">更改 canMakePayment() 的含义</a> (<a
                        href="https://github.com/w3c/payment-request/pull/806">#806</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/3fb7e37">移除 PaymentAddress 的 languageCode</a>
                    (<a href="https://github.com/w3c/payment-request/pull/765">#765</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/277a385">移除 PaymentItem.type</a> (<a
                        href="https://github.com/w3c/payment-request/pull/794">#794</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5498f93">将 PayerErrorFields 重命名为
                        PayerErrors</a> (<a href="https://github.com/w3c/payment-request/pull/789">#789</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/4020346">向 PaymentDetailsUpdate 添加
                        paymentMethodErrors、payerErrors</a> (<a
                        href="https://github.com/w3c/payment-request/pull/768">#768</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/384b538">添加
                        MerchantValidationEvent.prototype.methodName</a> (<a
                        href="https://github.com/w3c/payment-request/pull/776">#776</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/944f512">添加对商家验证的支持</a> (<a
                        href="https://github.com/w3c/payment-request/pull/751">#751</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/1816526">支持支付方式的细粒度错误</a> (<a
                        href="https://github.com/w3c/payment-request/pull/752">#752</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/0273c79">向 PaymentValidationErrors 添加 error
                        成员</a> (<a href="https://github.com/w3c/payment-request/pull/747">#747</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/a0ff44f">在 response.complete()
                        期间检查文档是否完全活动</a> (<a href="https://github.com/w3c/payment-request/pull/748">#748</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/3faf6a4">从错误字段成员中删除前缀、后缀</a> (<a
                        href="https://github.com/w3c/payment-request/pull/745">#745</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/ebd8310">在隐私注意事项中添加了有关 redactList 的信息</a> (<a
                        href="https://github.com/w3c/payment-request/pull/738">#738</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/d27cc16">添加
                        PaymentResponse.prototype.onpayerdetailchange</a> (<a
                        href="https://github.com/w3c/payment-request/pull/724">#724</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/b417638">retry() 与中止更新交互</a> (<a
                        href="https://github.com/w3c/payment-request/pull/723">#723</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/634a8a8">让 retry() 了解 payerErrors</a>
                    (<a href="https://github.com/w3c/payment-request/pull/721">#721</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/ee56f25">定义 PaymentResponse.prototype.retry()
                        方法</a> (<a href="https://github.com/w3c/payment-request/pull/720">#720</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/b336891">添加 PaymentMethodChangeEvent 事件</a>
                    (<a href="https://github.com/w3c/payment-request/pull/695">#695</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/10dc96e">为 PaymentAddress 添加细粒度错误报告</a> (<a
                        href="https://github.com/w3c/payment-request/pull/712">#712</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/f0018f9">添加 PaymentAddress.regionCode 属性</a>
                    (<a href="https://github.com/w3c/payment-request/pull/690">#690</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/6b2aebc">移除 currencySystem 成员</a> (<a
                        href="https://github.com/w3c/payment-request/pull/694">#694</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/56a0c18">为 PaymentAddress 添加 redactList</a>
                    (<a href="https://github.com/w3c/payment-request/pull/654">#654</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/d533b86">show() 必须由用户激活触发</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/22195c7">功能：允许 show() 接受可选的
                        detailsPromise</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/d891049">功能：添加 PaymentItemType 枚举 +
                        PaymentItem.type</a> (<a href="https://github.com/w3c/payment-request/pull/666">#666</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/0e4539d">为支付工作表添加本地化提示</a> (<a
                        href="https://github.com/w3c/payment-request/pull/656">#656</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/e65a217">返回事件，因为有用</a>
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/876a9cc">隐私：不共享订单项</a>
                    (<a href="https://github.com/w3c/payment-request/pull/670">#670</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/72a62fc">确保 PaymentRequest.id 是 UUID (关闭
                        #588)</a></li>
            </ul>
        </rs-changelog>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="d-references"><bdi class="secno">D. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="附录 D 的永久链接。"></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="d-1-normative-references"><bdi class="secno">D.1 </bdi>规范性参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="附录 D.1 的永久链接"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-contact-picker">[contact-picker]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/contact-picker/"><cite>联系人选择器 API</cite></a>。Peter Beverloo。
                    W3C。2024 年 7 月 8 日。W3C 工作草案。URL：<a
                        href="https://www.w3.org/TR/contact-picker/">https://www.w3.org/TR/contact-picker/</a>
                </dd>
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>。Anne van Kesteren。WHATWG。
                    活动标准。URL：<a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-e.164">[E.164]</dt>
                <dd>
                    <a
                        href="https://www.itu.int/rec/dologin_pub.asp?lang=e&amp;id=T-REC-E.164-201011-I!!PDF-E&amp;type=items"><cite>国际公共电信编号计划</cite></a>。ITU-T。2010
                    年 11 月。
                    建议。URL：<a
                        href="https://www.itu.int/rec/dologin_pub.asp?lang=e&amp;id=T-REC-E.164-201011-I!!PDF-E&amp;type=items">https://www.itu.int/rec/dologin_pub.asp?lang=e&amp;id=T-REC-E.164-201011-I!!PDF-E&amp;type=items</a>
                </dd>
                <dt id="bib-ecma-402">[ecma-402]</dt>
                <dd>
                    <a href="https://tc39.es/ecma402/"><cite>ECMAScript 国际化 API 规范</cite></a>。Ecma International。URL：<a
                        href="https://tc39.es/ecma402/">https://tc39.es/ecma402/</a>
                </dd>
                <dt id="bib-ecmascript">[ECMASCRIPT]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>。
                    Ecma International。URL：<a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-fetch">[fetch]</dt>
                <dd>
                    <a href="https://fetch.spec.whatwg.org/"><cite>Fetch 标准</cite></a>。Anne van Kesteren。WHATWG。
                    活动标准。URL：<a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>。Anne van Kesteren；
                    Domenic Denicola；Dominic Farolino；Ian Hickson；Philip Jägenstedt；Simon Pieters。WHATWG。活动标准。URL：<a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra 标准</cite></a>。Anne van Kesteren；Domenic
                    Denicola。WHATWG。活动标准。URL：<a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-iso4217">[ISO4217]</dt>
                <dd>
                    <a href="http://www.iso.org/iso/home/standards/currency_codes.htm"><cite>货币代码 - ISO
                            4217</cite></a>。ISO。2015 年。国际标准。URL：<a
                        href="http://www.iso.org/iso/home/standards/currency_codes.htm">http://www.iso.org/iso/home/standards/currency_codes.htm</a>
                </dd>
                <dt id="bib-payment-handler">[payment-handler]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/payment-handler/"><cite>支付处理程序 API</cite></a>。Adrian
                    Hope-Bailie；Ian Jacobs；Rouslan Solomakhin；Jinho Bang。W3C。2023 年 1 月 25 日。W3C 工作草案。
                    URL：<a href="https://www.w3.org/TR/payment-handler/">https://www.w3.org/TR/payment-handler/</a>
                </dd>
                <dt id="bib-payment-method-id">[payment-method-id]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/payment-method-id/"><cite>支付方式标识符</cite></a>。
                    Marcos Caceres。W3C。2022 年 9 月 8 日。W3C 推荐标准。URL：<a
                        href="https://www.w3.org/TR/payment-method-id/">https://www.w3.org/TR/payment-method-id/</a>
                </dd>
                <dt id="bib-permissions-policy">[permissions-policy]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>权限策略</cite></a>。Ian
                    Clelland。W3C。2025 年 2 月 10 日。W3C 工作草案。URL：<a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>用于 RFC 中指示需求级别的关键词</cite></a>。S.
                    Bradner。IETF。1997 年 3 月。最佳当前实践。URL：<a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc4122">[RFC4122]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc4122"><cite>通用唯一标识符 (UUID) URN 命名空间</cite></a>。P.
                    Leach；M. Mealling；R. Salz。IETF。2005 年 7 月。建议标准。
                    URL：<a href="https://www.rfc-editor.org/rfc/rfc4122">https://www.rfc-editor.org/rfc/rfc4122</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC 2119 关键词中大写与小写的歧义性</cite></a>。B.
                    Leiba。IETF。2017 年 5 月。最佳当前实践。URL：<a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-url">[url]</dt>
                <dd>
                    <a href="https://url.spec.whatwg.org/"><cite>URL 标准</cite></a>。Anne van Kesteren。WHATWG。
                    活动标准。URL：<a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。Edgar Chen；Timothy Gu。
                    WHATWG。活动标准。URL：<a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="d-2-informative-references"><bdi class="secno">D.2 </bdi>信息性参考文献</h3><a class="self-link"
                    href="#informative-references" aria-label="附录 D.2 的永久链接"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-rfc6454">[rfc6454]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc6454"><cite>Web 源概念</cite></a>。A. Barth。
                    IETF。2011 年 12 月。建议标准。URL：<a
                        href="https://www.rfc-editor.org/rfc/rfc6454">https://www.rfc-editor.org/rfc/rfc6454</a>
                </dd>
                <dt id="bib-secure-contexts">[secure-contexts]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/secure-contexts/"><cite>安全上下文</cite></a>。Mike West。W3C。
                    2023 年 11 月 10 日。CRD。URL：<a
                        href="https://www.w3.org/TR/secure-contexts/">https://www.w3.org/TR/secure-contexts/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="返回顶部">↑</abbr></a>
    </p>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>