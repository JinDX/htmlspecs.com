<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.3.0">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>Payment Request API</title>

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>


    <meta name="color-scheme" content="light">
    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--indextable-hover-text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            color: var(--bg, #fff);
            background-color: #000;
            background-color: var(--text, #000);
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="revision" content="7c0d59783bf6207f6b43008f5b31585946ff9846">
    <meta name="description" content="This specification standardizes an API to allow merchants (i.e. web
        sites selling physical or digital goods) to utilize one or more payment
        methods with minimal integration. User agents (e.g., browsers)
        facilitate the payment flow between merchant and user.">
    <link rel="canonical" href="https://www.w3.org/TR/payment-request/">
    <script type="application/ld+json">{
  "@context": [
    "http://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "w3p": "http://www.w3.org/2001/02pd/rec54#",
      "foaf": "http://xmlns.com/foaf/0.1/",
      "datePublished": {
        "@type": "http://www.w3.org/2001/XMLSchema#date"
      },
      "inLanguage": {
        "@language": null
      },
      "isBasedOn": {
        "@type": "@id"
      },
      "license": {
        "@type": "@id"
      }
    }
  ],
  "id": "https://www.w3.org/TR/payment-request/",
  "type": [
    "TechArticle",
    "w3p:CRD"
  ],
  "name": "Payment Request API",
  "inLanguage": "en",
  "license": "https://www.w3.org/copyright/software-license-2023/",
  "datePublished": "2025-04-02",
  "copyrightHolder": {
    "name": "World Wide Web Consortium",
    "url": "https://www.w3.org/"
  },
  "discussionUrl": "https://github.com/w3c/payment-request/issues/",
  "alternativeHeadline": "",
  "isBasedOn": "https://www.w3.org/TR/2024/CRD-payment-request-20240909/",
  "description": "This specification standardizes an API to allow merchants (i.e. web\n        sites selling physical or digital goods) to utilize one or more payment\n        methods with minimal integration. User agents (e.g., browsers)\n        facilitate the payment flow between merchant and user.",
  "editor": [
    {
      "type": "Person",
      "name": "Marcos Cáceres",
      "url": "https://github.com/marcoscaceres",
      "worksFor": {
        "name": "Apple Inc.",
        "url": "https://apple.com"
      }
    },
    {
      "type": "Person",
      "name": "Rouslan Solomakhin",
      "url": "https://github.com/rsolomakhin",
      "worksFor": {
        "name": "Google",
        "url": "https://www.google.com/"
      }
    },
    {
      "type": "Person",
      "name": "Ian Jacobs",
      "url": "http://www.w3.org/People/Jacobs/",
      "worksFor": {
        "name": "W3C",
        "url": "https://www.w3.org/"
      }
    }
  ],
  "contributor": [],
  "citation": [
    {
      "id": "https://www.rfc-editor.org/rfc/rfc4122",
      "type": "TechArticle",
      "name": "A Universally Unique IDentifier (UUID) URN Namespace",
      "url": "https://www.rfc-editor.org/rfc/rfc4122",
      "creator": [
        {
          "name": "P. Leach"
        },
        {
          "name": "M. Mealling"
        },
        {
          "name": "R. Salz"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "http://www.iso.org/iso/home/standards/currency_codes.htm",
      "type": "TechArticle",
      "name": "Currency codes - ISO 4217",
      "url": "http://www.iso.org/iso/home/standards/currency_codes.htm",
      "publisher": {
        "name": "ISO"
      }
    },
    {
      "id": "https://www.w3.org/TR/permissions-policy-1/",
      "type": "TechArticle",
      "name": "Permissions Policy",
      "url": "https://www.w3.org/TR/permissions-policy-1/",
      "creator": [
        {
          "name": "Ian Clelland"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-E.164-201011-I!!PDF-E&type=items",
      "type": "TechArticle",
      "name": "The international public telecommunication numbering plan",
      "url": "https://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-E.164-201011-I!!PDF-E&type=items",
      "publisher": {
        "name": "ITU-T"
      }
    },
    {
      "id": "https://tc39.es/ecma262/multipage/",
      "type": "TechArticle",
      "name": "ECMAScript Language Specification",
      "url": "https://tc39.es/ecma262/multipage/",
      "publisher": {
        "name": "Ecma International"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc2119",
      "type": "TechArticle",
      "name": "Key words for use in RFCs to Indicate Requirement Levels",
      "url": "https://www.rfc-editor.org/rfc/rfc2119",
      "creator": [
        {
          "name": "S. Bradner"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8174",
      "type": "TechArticle",
      "name": "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words",
      "url": "https://www.rfc-editor.org/rfc/rfc8174",
      "creator": [
        {
          "name": "B. Leiba"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://webidl.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "Web IDL Standard",
      "url": "https://webidl.spec.whatwg.org/",
      "creator": [
        {
          "name": "Edgar Chen"
        },
        {
          "name": "Timothy Gu"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://tc39.es/ecma402/",
      "type": "TechArticle",
      "name": "ECMAScript Internationalization API Specification",
      "url": "https://tc39.es/ecma402/",
      "publisher": {
        "name": "Ecma International"
      }
    },
    {
      "id": "https://www.w3.org/TR/payment-handler/",
      "type": "TechArticle",
      "name": "Payment Handler API",
      "url": "https://www.w3.org/TR/payment-handler/",
      "creator": [
        {
          "name": "Adrian Hope-Bailie"
        },
        {
          "name": "Ian Jacobs"
        },
        {
          "name": "Rouslan Solomakhin"
        },
        {
          "name": "Jinho Bang"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://dom.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "DOM Standard",
      "url": "https://dom.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://www.w3.org/TR/contact-picker/",
      "type": "TechArticle",
      "name": "Contact Picker API",
      "url": "https://www.w3.org/TR/contact-picker/",
      "creator": [
        {
          "name": "Peter Beverloo"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://html.spec.whatwg.org/multipage/",
      "type": "TechArticle",
      "name": "HTML Standard",
      "url": "https://html.spec.whatwg.org/multipage/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        },
        {
          "name": "Domenic Denicola"
        },
        {
          "name": "Dominic Farolino"
        },
        {
          "name": "Ian Hickson"
        },
        {
          "name": "Philip Jägenstedt"
        },
        {
          "name": "Simon Pieters"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://infra.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "Infra Standard",
      "url": "https://infra.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        },
        {
          "name": "Domenic Denicola"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://www.w3.org/TR/payment-method-id/",
      "type": "TechArticle",
      "name": "Payment Method Identifiers",
      "url": "https://www.w3.org/TR/payment-method-id/",
      "creator": [
        {
          "name": "Marcos Caceres"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://url.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "URL Standard",
      "url": "https://url.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://fetch.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "Fetch Standard",
      "url": "https://fetch.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://www.w3.org/TR/secure-contexts/",
      "type": "TechArticle",
      "name": "Secure Contexts",
      "url": "https://www.w3.org/TR/secure-contexts/",
      "creator": [
        {
          "name": "Mike West"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc6454",
      "type": "TechArticle",
      "name": "The Web Origin Concept",
      "url": "https://www.rfc-editor.org/rfc/rfc6454",
      "creator": [
        {
          "name": "A. Barth"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    }
  ]
}</script>
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <style>
        :root {
            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black
        }

        .assert {
            border-left: .5em solid #aaa;
            padding: .3em;
            border-color: #aaa;
            border-color: var(--assertion-border);
            background: #eee;
            background: var(--assertion-bg);
            color: #000;
            color: var(--assertion-text)
        }

        @media (prefers-color-scheme:dark) {
            :root {
                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text)
            }
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "shortName": "payment-request",
  "github": "w3c/payment-request",
  "specStatus": "CRD",
  "group": "payments",
  "formerEditors": [
    {
      "name": "Domenic Denicola",
      "company": "Google",
      "w3cid": 52873
    },
    {
      "name": "Adrian Bateman",
      "company": "Microsoft Corporation",
      "w3cid": 42763
    },
    {
      "name": "Zach Koch",
      "company": "Google",
      "w3cid": 76588
    },
    {
      "name": "Roy McElmurry",
      "company": "Facebook",
      "w3cid": 88345
    },
    {
      "name": "Danyao Wang",
      "company": "Google",
      "w3cid": 110796
    }
  ],
  "editors": [
    {
      "name": "Marcos Cáceres",
      "url": "https://github.com/marcoscaceres",
      "company": "Apple Inc.",
      "companyURL": "https://apple.com",
      "w3cid": 39125
    },
    {
      "name": "Rouslan Solomakhin",
      "url": "https://github.com/rsolomakhin",
      "company": "Google",
      "companyURL": "https://www.google.com/",
      "w3cid": 83784
    },
    {
      "name": "Ian Jacobs",
      "url": "http://www.w3.org/People/Jacobs/",
      "company": "W3C",
      "companyURL": "https://www.w3.org/",
      "w3cid": 2175
    }
  ],
  "previousMaturity": "CRD",
  "crEnd": "2024-10-01",
  "testSuiteURI": "https://wpt.live/payment-request/",
  "implementationReportURI": "https://w3c.github.io/test-results/payment-request/all.html",
  "prevRecURI": "https://www.w3.org/TR/2022/REC-payment-request-20220908/",
  "caniuse": "payment-request",
  "lint": {
    "check-punctuation": true,
    "wpt-tests-exist": true
  },
  "doJsonLd": true,
  "xref": "web-platform",
  "mdn": true,
  "gitRevision": "7c0d59783bf6207f6b43008f5b31585946ff9846",
  "publishDate": "2025-04-02",
  "previousPublishDate": "2024-09-09",
  "publishISODate": "2025-04-02T00:00:00.000Z",
  "generatedSubtitle": "W3C Candidate Recommendation Draft 02 April 2025"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-CRD">
</head>

<body data-cite="WEBIDL payment-method-id contact-picker HTML INFRA URL WEBIDL DOM FETCH" class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">
            Payment Request API
        </h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CRD">W3C Candidate Recommendation Draft</a> <time
                class="dt-published" datetime="2025-04-02">02 April 2025</time></p>
        <details open="">
            <summary>More details about this document</summary>
            <dl>
                <dt>This version:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2025/CRD-payment-request-20250402/">https://www.w3.org/TR/2025/CRD-payment-request-20250402/</a>
                </dd>
                <dt>Latest published version:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/payment-request/">https://www.w3.org/TR/payment-request/</a>
                </dd>
                <dt>Latest editor's draft:</dt>
                <dd><a href="https://w3c.github.io/payment-request/">https://w3c.github.io/payment-request/</a></dd>
                <dt>History:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/payment-request/">https://www.w3.org/standards/history/payment-request/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/payment-request/commits/">Commit history</a>
                </dd>
                <dt>Test suite:</dt>
                <dd><a href="https://wpt.live/payment-request/">https://wpt.live/payment-request/</a></dd>
                <dt>Implementation report:</dt>
                <dd>
                    <a
                        href="https://w3c.github.io/test-results/payment-request/all.html">https://w3c.github.io/test-results/payment-request/all.html</a>
                </dd>


                <dt>Latest Recommendation:</dt>
                <dd><a
                        href="https://www.w3.org/TR/2022/REC-payment-request-20220908/">https://www.w3.org/TR/2022/REC-payment-request-20220908/</a>
                </dd>
                <dt>Editors:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <a class="u-url url p-name fn" href="https://github.com/marcoscaceres">Marcos Cáceres</a> (<a
                        class="p-org org h-org" href="https://apple.com">Apple Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="83784">
                    <a class="u-url url p-name fn" href="https://github.com/rsolomakhin">Rouslan Solomakhin</a> (<a
                        class="p-org org h-org" href="https://www.google.com/">Google</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="2175">
                    <a class="u-url url p-name fn" href="https://www.w3.org/People/Jacobs/">Ian Jacobs</a> (<a
                        class="p-org org h-org" href="https://www.w3.org/">W3C</a>)
                </dd>
                <dt>
                    Former editors:
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="52873">
                    <span class="p-name fn">Domenic Denicola</span> (<span class="p-org org h-org">Google</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="42763">
                    <span class="p-name fn">Adrian Bateman</span> (<span class="p-org org h-org">Microsoft
                        Corporation</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="76588">
                    <span class="p-name fn">Zach Koch</span> (<span class="p-org org h-org">Google</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="88345">
                    <span class="p-name fn">Roy McElmurry</span> (<span class="p-org org h-org">Facebook</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="110796">
                    <span class="p-name fn">Danyao Wang</span> (<span class="p-org org h-org">Google</span>)
                </dd>

                <dt>Feedback:</dt>
                <dd>
                    <a href="https://github.com/w3c/payment-request/">GitHub w3c/payment-request</a>
                    (<a href="https://github.com/w3c/payment-request/pulls/">pull requests</a>,
                    <a href="https://github.com/w3c/payment-request/issues/new/choose">new issue</a>,
                    <a href="https://github.com/w3c/payment-request/issues/">open issues</a>)
                </dd>


                <dt class="caniuse-title">Browser support:</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/payment-request">caniuse.com</a></dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2025

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>

    <section id="abstract" class="introductory">
        <h2>Abstract</h2>
        <p>
            This specification standardizes an API to allow merchants (i.e. web
            sites selling physical or digital goods) to utilize one or more payment
            methods with minimal integration. User agents (e.g., browsers)
            facilitate the payment flow between merchant and user.
        </p>
    </section>
    <section id="sotd" class="updateable-rec introductory">
        <h2>Status of This Document</h2>
        <p><em>This section describes the status of this
                document at the time of its publication. A list of current <abbr
                    title="World Wide Web Consortium">W3C</abbr>
                publications and the latest revision of this technical report can be found
                in the
                <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> standards and drafts
                    index</a> at
                https://www.w3.org/TR/.</em></p>
        <p>
            In September 2022 the Web Payments Working Group published a <a
                href="https://www.w3.org/TR/2022/REC-payment-request-20220908/">Payment
                Request Recommendation</a>. Following privacy and internationalization
            reviews, the Recommendation excluded <a
                href="https://lists.w3.org/Archives/Public/public-payments-wg/2021Jun/0000.html">
                capabilities</a> related to billing and shipping addresses. However,
            implementations have continued to support those features interoperably,
            and so the Working Group has decided to try to re-align the
            specification with implementations, and re-engage the community on
            associated issues.
        </p>
        <p>
            This document is a Candidate Recommendation Snapshot based on the text
            of the original Recommendation. A subsequent Candidate Recommendation
            Draft will add back address capabilities and a small number of other
            changes made since publication of the Recommendation.
        </p>
        <p>
            As part of adding back support for addresses, this specification now
            refers to the address components defined in the <a href="https://w3c.github.io/contact-picker/">Contact
                Picker API</a> rather
            than define those components itself. Indeed, the Contact Picker API is
            derived from the original definitions found in Payment Request API, and
            pulled out of the specification because addresses are useful on the Web
            beyond payments.
        </p>
        <p>
            The Working Group plans to engage in discussion and follow the usual
            review process before advancing the specification to Proposed
            Recommendation status.
        </p>
        <p>
            The working group will demonstrate implementation experience by
            producing an <a href="https://w3c.github.io/test-results/payment-request/all.html">implementation
                report</a>. The report will show two or more independent
            implementations passing each mandatory test in the <a href="https://wpt.live/payment-request/">test
                suite</a> (i.e., each test
            corresponds to a <em class="rfc2119">MUST</em> requirement of the specification).
        </p>
        <p>
            This document was published by the <a href="https://www.w3.org/groups/wg/payments">Web Payments Working
                Group</a> as
            a Candidate Recommendation Draft using the
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">Recommendation track</a>.
        </p>
        <p>Publication as a Candidate Recommendation does not
            imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. A Candidate
            Recommendation Draft integrates
            changes from the previous Candidate Recommendation that the Working Group
            intends to include in a subsequent Candidate Recommendation Snapshot.</p>
        <p>
            This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other
            than work in progress.
            Future updates to this specification may incorporate
            <a href="https://www.w3.org/policies/process/20231103/#allow-new-features">new features</a>.
        </p>
        <p>

            This document was produced by a group
            operating under the
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                Patent
                Policy</a>.


            <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
            <a rel="disclosure" href="https://www.w3.org/groups/wg/payments/ipr">public list of any patent
                disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual
            knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a>
            must disclose the information in accordance with
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the <abbr
                    title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.

        </p>
        <p>
            This document is governed by the
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">03 November 2023 <abbr
                    title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    Introduction
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#goals"><bdi class="secno">1.1 </bdi>
                            Goals and scope
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#examples-of-usage"><bdi class="secno">2. </bdi>
                    Examples of usage
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#declaring-multiple-ways-of-paying"><bdi
                                class="secno">2.1 </bdi>
                            Declaring multiple ways of paying
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#describing-what-is-being-paid-for"><bdi
                                class="secno">2.2 </bdi>
                            Describing what is being paid for
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#adding-shipping-options"><bdi class="secno">2.3 </bdi>
                            Adding shipping options
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#conditional-modifications-to-payment-request"><bdi
                                class="secno">2.4 </bdi>
                            Conditional modifications to payment request
                        </a></li>
                    <li class="tocline"><a class="tocxref"
                            href="#requesting-specific-information-from-the-end-user"><bdi class="secno">2.5 </bdi>
                            Requesting specific information from the end user
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#constructing-a-paymentrequest"><bdi class="secno">2.6
                            </bdi>
                            Constructing a <code>PaymentRequest</code>
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#handling-events-and-updating-the-payment-request"><bdi
                                class="secno">2.7 </bdi>
                            Handling events and updating the payment request
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#fine-grained-error-reporting"><bdi class="secno">2.8
                            </bdi>
                            Fine-grained error reporting
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#posting-payment-response-back-to-a-server"><bdi
                                class="secno">2.9 </bdi>
                            POSTing payment response back to a server
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#using-with-cross-origin-iframes"><bdi
                                class="secno">2.10 </bdi>
                            Using with cross-origin iframes
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#paymentrequest-interface"><bdi class="secno">3. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="PaymentRequest"
                        data-dfn-for=""><code>PaymentRequest</code></span> interface
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#constructor"><bdi class="secno">3.1 </bdi>
                            Constructor
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#id-attribute"><bdi class="secno">3.2 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="id"
                                data-dfn-for="PaymentRequest" data-type="DOMString" data-lt="id"
                                data-local-lt="PaymentRequest.id"><code>id</code></span> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#show-method"><bdi class="secno">3.3 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="show()"
                                data-dfn-for="PaymentRequest" data-type="Promise" data-lt="show()|show(detailsPromise)"
                                data-local-lt="PaymentRequest.show|PaymentRequest.show()|show"><code>show()</code></span>
                            method
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#abort-method"><bdi class="secno">3.4 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="abort()"
                                data-dfn-for="PaymentRequest" data-type="Promise" data-lt="abort()"
                                data-local-lt="PaymentRequest.abort|PaymentRequest.abort()|abort"><code>abort()</code></span>
                            method
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#canmakepayment-method"><bdi class="secno">3.5 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation"
                                data-title="canMakePayment()" data-dfn-for="PaymentRequest" data-type="Promise"
                                data-lt="canMakePayment()"
                                data-local-lt="PaymentRequest.canMakePayment|PaymentRequest.canMakePayment()|canMakePayment"><code>canMakePayment()</code></span>
                            method
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingaddress-attribute"><bdi class="secno">3.6
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingAddress" data-dfn-for="PaymentRequest" data-type="ContactAddress"
                                data-lt="shippingAddress"
                                data-local-lt="PaymentRequest.shippingAddress"><code>shippingAddress</code></span>
                            attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingtype-attribute"><bdi class="secno">3.7 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingType" data-dfn-for="PaymentRequest" data-type="PaymentShippingType"
                                data-lt="shippingType"
                                data-local-lt="PaymentRequest.shippingType"><code>shippingType</code></span> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onshippingaddresschange-attribute"><bdi
                                class="secno">3.8 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onshippingaddresschange" data-dfn-for="PaymentRequest"
                                data-type="EventHandler" data-lt="onshippingaddresschange"
                                data-local-lt="PaymentRequest.onshippingaddresschange"><code>onshippingaddresschange</code></span>
                            attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingoption-attribute"><bdi class="secno">3.9
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingOption" data-dfn-for="PaymentRequest" data-type="DOMString"
                                data-lt="shippingOption"
                                data-local-lt="PaymentRequest.shippingOption"><code>shippingOption</code></span>
                            attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onshippingoptionchange-attribute"><bdi
                                class="secno">3.10 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onshippingoptionchange" data-dfn-for="PaymentRequest"
                                data-type="EventHandler" data-lt="onshippingoptionchange"
                                data-local-lt="PaymentRequest.onshippingoptionchange"><code>onshippingoptionchange</code></span>
                            attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onpaymentmethodchange-attribute"><bdi
                                class="secno">3.11 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onpaymentmethodchange" data-dfn-for="PaymentRequest"
                                data-type="EventHandler" data-lt="onpaymentmethodchange"
                                data-local-lt="PaymentRequest.onpaymentmethodchange"><code>onpaymentmethodchange</code></span>
                            attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#internal-slots"><bdi class="secno">3.12 </bdi>
                            Internal Slots
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#paymentmethoddata-dictionary"><bdi class="secno">4. </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PaymentMethodData"
                        data-dfn-for=""><code>PaymentMethodData</code></span> dictionary
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentcurrencyamount-dictionary"><bdi class="secno">5. </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                        data-title="PaymentCurrencyAmount" data-dfn-for=""><code>PaymentCurrencyAmount</code></span>
                    dictionary
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#validity-checkers"><bdi class="secno">5.1 </bdi>
                            Validity checkers
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#payment-details-dictionaries"><bdi class="secno">6. </bdi>
                    Payment details dictionaries
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#paymentdetailsbase-dictionary"><bdi class="secno">6.1
                            </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="PaymentDetailsBase" data-dfn-for=""><code>PaymentDetailsBase</code></span>
                            dictionary
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#paymentdetailsinit-dictionary"><bdi class="secno">6.2
                            </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="PaymentDetailsInit" data-dfn-for=""><code>PaymentDetailsInit</code></span>
                            dictionary
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#paymentdetailsupdate-dictionary"><bdi
                                class="secno">6.3 </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="PaymentDetailsUpdate"
                                data-dfn-for=""><code>PaymentDetailsUpdate</code></span> dictionary
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#paymentdetailsmodifier-dictionary"><bdi class="secno">7.
                    </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                        data-title="PaymentDetailsModifier" data-dfn-for=""><code>PaymentDetailsModifier</code></span>
                    dictionary
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentshippingtype-enum"><bdi class="secno">8. </bdi>
                    <span data-export="" data-dfn-type="enum" data-idl="enum" data-title="PaymentShippingType"
                        data-dfn-for=""><code>PaymentShippingType</code></span> enum
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentoptions-dictionary"><bdi class="secno">9. </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PaymentOptions"
                        data-dfn-for=""><code>PaymentOptions</code></span> dictionary
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentitem-dictionary"><bdi class="secno">10. </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PaymentItem"
                        data-dfn-for=""><code>PaymentItem</code></span> dictionary
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentcompletedetails-dictionary"><bdi class="secno">11.
                    </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                        data-title="PaymentCompleteDetails" data-dfn-for=""><code>PaymentCompleteDetails</code></span>
                    dictionary
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentcomplete-enum"><bdi class="secno">12. </bdi>
                    <span data-export="" data-dfn-type="enum" data-idl="enum" data-title="PaymentComplete"
                        data-dfn-for=""><code>PaymentComplete</code></span> enum
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentshippingoption-dictionary"><bdi class="secno">13.
                    </bdi>
                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                        data-title="PaymentShippingOption" data-dfn-for=""><code>PaymentShippingOption</code></span>
                    dictionary
                </a></li>
            <li class="tocline"><a class="tocxref" href="#paymentresponse-interface"><bdi class="secno">14. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="PaymentResponse"
                        data-dfn-for=""><code>PaymentResponse</code></span> interface
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#retry-method"><bdi class="secno">14.1 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="retry()"
                                data-dfn-for="PaymentResponse" data-type="Promise" data-lt="retry()|retry(errorFields)"
                                data-local-lt="PaymentResponse.retry|PaymentResponse.retry()|retry"><code>retry()</code></span>
                            method
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#paymentvalidationerrors-dictionary"><bdi
                                        class="secno">14.1.1 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PaymentValidationErrors"
                                        data-dfn-for=""><code>PaymentValidationErrors</code></span> dictionary
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#payererrors-dictionary"><bdi
                                        class="secno">14.1.2 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PayerErrors" data-dfn-for=""><code>PayerErrors</code></span>
                                    dictionary
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#methodname-attribute"><bdi class="secno">14.2 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="methodName"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="methodName"
                                data-local-lt="PaymentResponse.methodName"><code>methodName</code></span> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#details-attribute"><bdi class="secno">14.3 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="details"
                                data-dfn-for="PaymentResponse" data-type="object" data-lt="details"
                                data-local-lt="PaymentResponse.details"><code>details</code></span> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingaddress-attribute-0"><bdi class="secno">14.4
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingAddress" data-dfn-for="PaymentResponse" data-type="ContactAddress"
                                data-lt="shippingAddress"
                                data-local-lt="PaymentResponse.shippingAddress"><code>shippingAddress</code></span>
                            attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shippingoption-attribute-0"><bdi class="secno">14.5
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="shippingOption" data-dfn-for="PaymentResponse" data-type="DOMString"
                                data-lt="shippingOption"
                                data-local-lt="PaymentResponse.shippingOption"><code>shippingOption</code></span>
                            attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payername-attribute"><bdi class="secno">14.6 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="payerName"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="payerName"
                                data-local-lt="PaymentResponse.payerName"><code>payerName</code></span> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payeremail-attribute"><bdi class="secno">14.7 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="payerEmail"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="payerEmail"
                                data-local-lt="PaymentResponse.payerEmail"><code>payerEmail</code></span> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payerphone-attribute"><bdi class="secno">14.8 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="payerPhone"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="payerPhone"
                                data-local-lt="PaymentResponse.payerPhone"><code>payerPhone</code></span> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#requestid-attribute"><bdi class="secno">14.9 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="requestId"
                                data-dfn-for="PaymentResponse" data-type="DOMString" data-lt="requestId"
                                data-local-lt="PaymentResponse.requestId"><code>requestId</code></span> attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#complete-method"><bdi class="secno">14.10 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="complete()"
                                data-dfn-for="PaymentResponse" data-type="Promise"
                                data-lt="complete()|complete(result)|complete(result, details)"
                                data-local-lt="PaymentResponse.complete|PaymentResponse.complete()|complete"><code>complete()</code></span>
                            method
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onpayerdetailchange-attribute"><bdi
                                class="secno">14.11 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onpayerdetailchange" data-dfn-for="PaymentResponse" data-type="EventHandler"
                                data-lt="onpayerdetailchange"
                                data-local-lt="PaymentResponse.onpayerdetailchange"><code>onpayerdetailchange</code></span>
                            attribute
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#internal-slots-0"><bdi class="secno">14.12 </bdi>
                            Internal Slots
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#shipping-and-billing-addresses"><bdi class="secno">15. </bdi>
                    Shipping and billing addresses
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#addresserrors-dictionary"><bdi class="secno">15.1
                            </bdi>
                            <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                data-title="AddressErrors" data-dfn-for=""><code>AddressErrors</code></span> dictionary
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">16. </bdi>
                    Permissions Policy integration
                </a></li>
            <li class="tocline"><a class="tocxref" href="#events"><bdi class="secno">17. </bdi>
                    Events
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#summary"><bdi class="secno">17.1 </bdi>
                            Summary
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#paymentmethodchangeevent-interface"><bdi
                                class="secno">17.2 </bdi>
                            <span data-export="" data-dfn-type="interface" data-idl="interface"
                                data-title="PaymentMethodChangeEvent"
                                data-dfn-for=""><code>PaymentMethodChangeEvent</code></span> interface
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#methoddetails-attribute"><bdi
                                        class="secno">17.2.1 </bdi>
                                    <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                        data-title="methodDetails" data-dfn-for="PaymentMethodChangeEvent"
                                        data-type="object" data-lt="methodDetails"
                                        data-local-lt="PaymentMethodChangeEvent.methodDetails"><code>methodDetails</code></span>
                                    attribute
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#methodname-attribute-0"><bdi
                                        class="secno">17.2.2 </bdi>
                                    <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                        data-title="methodName" data-dfn-for="PaymentMethodChangeEvent"
                                        data-type="DOMString" data-lt="methodName"
                                        data-local-lt="PaymentMethodChangeEvent.methodName"><code>methodName</code></span>
                                    attribute
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#paymentmethodchangeeventinit-dictionary"><bdi
                                        class="secno">17.2.3 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PaymentMethodChangeEventInit"
                                        data-dfn-for=""><code>PaymentMethodChangeEventInit</code></span> dictionary
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#paymentrequestupdateevent-interface"><bdi
                                class="secno">17.3 </bdi>
                            <span data-export="" data-dfn-type="interface" data-idl="interface"
                                data-title="PaymentRequestUpdateEvent"
                                data-dfn-for=""><code>PaymentRequestUpdateEvent</code></span> interface
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#constructor-0"><bdi class="secno">17.3.1
                                    </bdi>
                                    <span
                                        data-lt="PaymentRequestUpdateEvent.PaymentRequestUpdateEvent()|Constructor|constructor()|constructor(type)|constructor(type, eventInitDict)"
                                        data-export="" data-dfn-type="constructor" data-idl="constructor"
                                        data-title="Constructor" data-dfn-for="PaymentRequestUpdateEvent"
                                        data-local-lt="PaymentRequestUpdateEvent.constructor|PaymentRequestUpdateEvent.constructor()|constructor"><code>Constructor</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#updatewith-method"><bdi class="secno">17.3.2
                                    </bdi>
                                    <span data-export="" data-dfn-type="method" data-idl="operation"
                                        data-title="updateWith()" data-dfn-for="PaymentRequestUpdateEvent"
                                        data-type="undefined" data-lt="updateWith()|updateWith(detailsPromise)"
                                        data-local-lt="PaymentRequestUpdateEvent.updateWith|PaymentRequestUpdateEvent.updateWith()|updateWith"><code>updateWith()</code></span>
                                    method
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#internal-slots-1"><bdi class="secno">17.3.3
                                    </bdi>
                                    Internal Slots
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#paymentrequestupdateeventinit-dictionary"><bdi
                                        class="secno">17.3.4 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="PaymentRequestUpdateEventInit"
                                        data-dfn-for=""><code>PaymentRequestUpdateEventInit</code></span> dictionary
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#algorithms"><bdi class="secno">18. </bdi>
                    Algorithms
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#can-make-payment-algorithm"><bdi class="secno">18.1
                            </bdi>
                            Can make payment algorithm
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shipping-address-changed-algorithm"><bdi
                                class="secno">18.2 </bdi>
                            Shipping address changed algorithm
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#shipping-option-changed-algorithm"><bdi
                                class="secno">18.3 </bdi>
                            Shipping option changed algorithm
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payment-method-changed-algorithm"><bdi
                                class="secno">18.4 </bdi>
                            Payment method changed algorithm
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#paymentrequest-updated-algorithm"><bdi
                                class="secno">18.5 </bdi>
                            PaymentRequest updated algorithm
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#payer-detail-changed-algorithm"><bdi
                                class="secno">18.6 </bdi>
                            Payer detail changed algorithm
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-accepts-the-payment-request-algorithm"><bdi
                                class="secno">18.7 </bdi>
                            User accepts the payment request algorithm
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-aborts-the-payment-request-algorithm"><bdi
                                class="secno">18.8 </bdi>
                            User aborts the payment request algorithm
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#update-a-paymentrequest-s-details-algorithm"><bdi
                                class="secno">18.9 </bdi>
                            Update a <code>PaymentRequest</code>'s details algorithm
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#abort-the-update"><bdi class="secno">18.9.1
                                    </bdi>
                                    Abort the update
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#privacy"><bdi class="secno">19. </bdi>
                    Privacy and Security Considerations
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#user-protections-with-show-method"><bdi
                                class="secno">19.1 </bdi>
                            User protections with <code>show()</code> method
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#secure-contexts"><bdi class="secno">19.2 </bdi>
                            Secure contexts
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#cross-origin-payment-requests"><bdi class="secno">19.3
                            </bdi>
                            Cross-origin payment requests
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#encryption-of-data-fields"><bdi class="secno">19.4
                            </bdi>
                            Encryption of data fields
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#how-user-agents-match-payment-handlers"><bdi
                                class="secno">19.5 </bdi>
                            How user agents match payment handlers
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#data-usage"><bdi class="secno">19.6 </bdi>
                            Data usage
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-info"><bdi class="secno">19.7 </bdi>
                            Exposing user information
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#canmakepayment-protections"><bdi class="secno">19.8
                            </bdi>
                            <code>canMakePayment()</code> protections
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#user-activation-requirement"><bdi class="secno">19.9
                            </bdi>
                            User activation requirement
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#accessibility-considerations"><bdi class="secno">20. </bdi>
                    Accessibility Considerations
                </a></li>
            <li class="tocline"><a class="tocxref" href="#dependencies"><bdi class="secno">21. </bdi>
                    Dependencies
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">22. </bdi>Conformance</a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">A. </bdi>IDL Index</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">B. </bdi>
                    Acknowledgements
                </a></li>
            <li class="tocline"><a class="tocxref" href="#changelog"><bdi class="secno">C. </bdi>
                    Changelog
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">D. </bdi>References</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">D.1
                            </bdi>Normative references</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">D.2
                            </bdi>Informative references</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="introduction">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                Introduction
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            This specification describes an API that allows <a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-1">user agents</a>
            (e.g., browsers) to act as an intermediary between three parties in a
            transaction:
        </p>
        <ul>
            <li>The payee: the merchant that runs an online store, or other party
                that requests to be paid.
            </li>
            <li>The payer: the party that makes a purchase at that online store,
                and who authenticates and authorizes payment as required.
            </li>
            <li>The <dfn data-plurals="payment methods" id="dfn-payment-method" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">payment method</dfn>: the means that the payer uses to pay
                the payee (e.g., a card payment or credit transfer). The <dfn id="dfn-payment-method-provider"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">payment
                    method provider</dfn> establishes the ecosystem to support that payment
                method.
            </li>
        </ul>
        <p>
            A payment method defines:
        </p>
        <dl>
            <dt>
                An optional <dfn data-dfn-for="Payment Method" id="dfn-additional-data-type" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">additional data
                    type</dfn>
            </dt>
            <dd>
                Optionally, an IDL type that the <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-1">payment method</a> expects to
                receive as the <a data-link-type="idl" data-lt="PaymentMethodData" href="#dom-paymentmethoddata"
                    class="internalDFN" id="ref-for-dom-paymentmethoddata-1"><code>PaymentMethodData</code></a>'s <a
                    data-link-type="idl" href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-1"><code>data</code></a>
                member. If not specified for a given payment method, no conversion to
                IDL is done and the payment method will receive
                <a data-link-type="idl" href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-2"><code>data</code></a> as JSON.
            </dd>
            <dt>
                <dfn id="dfn-steps-to-validate-payment-method-data" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">Steps to validate payment method data</dfn>
            </dt>
            <dd>
                Algorithmic steps that specify how a <a href="#dfn-payment-method" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-payment-method-2">payment method</a> validates
                the <a data-link-type="idl" href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-3"><code>data</code></a> member of the <a
                    data-link-type="idl" data-lt="PaymentMethodData" href="#dom-paymentmethoddata" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-2"><code>PaymentMethodData</code></a>,
                after it is converted to the payment method's <a data-link-type="dfn|abstract-op"
                    href="#dfn-additional-data-type" class="internalDFN"
                    id="ref-for-dfn-additional-data-type-1">additional data type</a>. If not specified for a given
                payment
                method, no validation is done.
            </dd>
        </dl>
        <p>
            The details of how to fulfill a payment request for a given <a href="#dfn-payment-method"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-method-3">payment
                method</a> is an implementation detail of a <dfn data-export="" data-plurals="payment handlers"
                id="dfn-payment-handler" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">payment
                handler</dfn>, which is an application or service that handles requests
            for payment. Concretely, a payment handler defines:
        </p>
        <dl>
            <dt>
                <dfn id="dfn-steps-to-check-if-a-payment-can-be-made" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">Steps to check if a payment can be made</dfn>:
            </dt>
            <dd>
                How a payment handler determines whether it, or the user, can
                potentially "make a payment" is also an implementation detail of a
                payment handler.
            </dd>
            <dt>
                <dfn id="dfn-steps-to-respond-to-a-payment-request" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">Steps to respond to a payment request</dfn>:
            </dt>
            <dd>
                Steps that return an object or <a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-dictionary">dictionary</a> that a merchant uses
                to process or validate the transaction. The structure of this object
                is specific to each <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-4">payment method</a>.
            </dd>
            <dt>
                <dfn id="dfn-steps-for-when-a-user-changes-payment-method" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">Steps for when a user changes payment method</dfn> (optional)
            </dt>
            <dd>
                <p>
                    Steps that describe how to handle the user changing payment method
                    or monetary instrument (e.g., from a debit card to a credit card)
                    that results in a <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-dictionary">dictionary</a> or <a
                        data-link-type="interface" data-lt="object"
                        href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a> or null.
                </p>
            </dd>
        </dl>
        <p>
            This API also enables web sites to take advantage of more secure
            payment schemes (e.g., tokenization and system-level authentication)
            that are not possible with standard JavaScript libraries. This has the
            potential to reduce liability for the merchant and helps protect
            sensitive user information.
        </p>
        <section id="goals">
            <div class="header-wrapper">
                <h3 id="x1-1-goals-and-scope"><bdi class="secno">1.1 </bdi>
                    Goals and scope
                </h3><a class="self-link" href="#goals" aria-label="Permalink for Section 1.1"></a>
            </div>

            <ul>
                <li>Allow the user agent to act as intermediary between a merchant,
                    user, and <a href="#dfn-payment-method-provider" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-provider-1">payment method provider</a>.
                </li>
                <li>Enable user agents to streamline the user's payment experience by
                    taking into account user preferences, merchant information, security
                    considerations, and other factors.
                </li>
                <li>Standardize (to the extent that it makes sense) the communication
                    flow between a merchant, user agent, and <a href="#dfn-payment-method-provider" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-payment-method-provider-2">payment method
                        provider</a>.
                </li>
                <li>Enable a <a href="#dfn-payment-method-provider" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-provider-3">payment method provider</a> to bring more secure
                    payment transactions to the web.
                </li>
            </ul>
            <p>
                The following are out of scope for this specification:
            </p>
            <ul>
                <li>Create a new <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-5">payment method</a>.
                </li>
                <li>Integrate directly with payment processors.
                </li>
            </ul>
        </section>
    </section>
    <section class="informative" id="examples-of-usage">
        <div class="header-wrapper">
            <h2 id="x2-examples-of-usage"><bdi class="secno">2. </bdi>
                Examples of usage
            </h2><a class="self-link" href="#examples-of-usage" aria-label="Permalink for Section 2."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            In order to use the API, the developer needs to provide and keep track
            of a number of key pieces of information. These bits of information are
            passed to the <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                class="internalDFN" id="ref-for-dom-paymentrequest-1"><code>PaymentRequest</code></a> constructor as
            arguments, and
            subsequently used to update the payment request being displayed to the
            user. Namely, these bits of information are:
        </p>
        <ul>
            <li>The <var>methodData</var>: A sequence of <a href="#dom-paymentmethoddata" class="internalDFN"
                    data-link-type="idl" id="ref-for-dom-paymentmethoddata-3"><code>PaymentMethodData</code></a>s that
                represents the <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-6">payment methods</a> that the site supports (e.g., "we
                support card-based payments, but only Visa and MasterCard credit
                cards.").
            </li>
            <li>The <var>details</var>: The details of the transaction, as a
                <a href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentdetailsinit-1"><code>PaymentDetailsInit</code></a> dictionary. This includes
                total cost, and
                optionally a list of goods or services being purchased, for physical
                goods, and shipping options. Additionally, it can optionally include
                "modifiers" to how payments are made. For example, "if you pay with a
                card belonging to network X, it incurs a US$3.00 processing fee".
            </li>
            <li>The <var>options</var>: Optionally, a list of things as <a data-link-type="idl" data-lt="PaymentOptions"
                    href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-1"><code>PaymentOptions</code></a>
                that the site needs to deliver the good or service (e.g., for physical
                goods, the merchant will typically need a physical address to ship to.
                For digital goods, an email will usually suffice).
            </li>
        </ul>
        <p>
            Once a <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-2"><code>PaymentRequest</code></a> is constructed, it's presented to the
            end
            user via the <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                id="ref-for-dom-paymentrequest-show-1"><code>show</code></a><code>()</code> method. The
            <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                id="ref-for-dom-paymentrequest-show-2"><code>show</code></a><code>()</code> returns a promise that, once
            the user
            confirms request for payment, results in a <a data-link-type="idl" data-lt="PaymentResponse"
                href="#dom-paymentresponse" class="internalDFN"
                id="ref-for-dom-paymentresponse-1"><code>PaymentResponse</code></a>.
        </p>
        <section id="declaring-multiple-ways-of-paying">
            <div class="header-wrapper">
                <h3 id="x2-1-declaring-multiple-ways-of-paying"><bdi class="secno">2.1 </bdi>
                    Declaring multiple ways of paying
                </h3><a class="self-link" href="#declaring-multiple-ways-of-paying"
                    aria-label="Permalink for Section 2.1"></a>
            </div>

            <p>
                When constructing a new <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-3"><code>PaymentRequest</code></a>, a merchant
                uses the first
                argument (<var>methodData</var>) to list the different ways a user can pay for
                things (e.g., credit cards, Apple Pay, Google Pay, etc.). More
                specifically, the <var>methodData</var> sequence contains
                <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentmethoddata-4"><code>PaymentMethodData</code></a> dictionaries containing the
                <a data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment
                    method identifiers</a> for the <a href="#dfn-payment-method" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-payment-method-7">payment methods</a> that the
                merchant accepts and any associated <a href="#dfn-payment-method" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-payment-method-8">payment method</a> specific
                data (e.g., which credit card networks are supported).
            </p>
            <div class="example" id="example-the-methoddata-argument">
                <div class="marker">
                    <a class="self-link" href="#example-the-methoddata-argument">Example<bdi> 1</bdi></a><span
                        class="example-title">: The `methodData` argument</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> methodData = [
  {
    <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/payitforward"</span>,
    <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">payItForwardField</span>: <span class="hljs-string">"ABC"</span>,
    },
  },
  {
    <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/bobpay"</span>,
    <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">merchantIdentifier</span>: <span class="hljs-string">"XXXX"</span>,
      <span class="hljs-attr">bobPaySpecificField</span>: <span class="hljs-literal">true</span>,
    },
  },
];</code></pre>
            </div>
        </section>
        <section id="describing-what-is-being-paid-for">
            <div class="header-wrapper">
                <h3 id="x2-2-describing-what-is-being-paid-for"><bdi class="secno">2.2 </bdi>
                    Describing what is being paid for
                </h3><a class="self-link" href="#describing-what-is-being-paid-for"
                    aria-label="Permalink for Section 2.2"></a>
            </div>

            <p>
                When constructing a new <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-4"><code>PaymentRequest</code></a>, a merchant
                uses the
                second argument of the constructor (<var>details</var>) to provide the details
                of the transaction that the user is being asked to complete. This
                includes the total of the order and, optionally, some line items that
                can provide a detailed breakdown of what is being paid for.
            </p>
            <div class="example" id="example-the-details-argument">
                <div class="marker">
                    <a class="self-link" href="#example-the-details-argument">Example<bdi> 2</bdi></a><span
                        class="example-title">: The `details` argument</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> details = {
  <span class="hljs-attr">id</span>: <span class="hljs-string">"super-store-order-123-12312"</span>,
  <span class="hljs-attr">displayItems</span>: [
    {
      <span class="hljs-attr">label</span>: <span class="hljs-string">"Sub-total"</span>,
      <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"GBP"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"55.00"</span> },
    },
    {
      <span class="hljs-attr">label</span>: <span class="hljs-string">"Value-Added Tax (VAT)"</span>,
      <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"GBP"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"5.00"</span> },
    },
  ],
  <span class="hljs-attr">total</span>: {
    <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
    <span class="hljs-comment">// The total is GBP£65.00 here because we need to</span>
    <span class="hljs-comment">// add shipping (below). The selected shipping</span>
    <span class="hljs-comment">// costs GBP£5.00.</span>
    <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"GBP"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"65.00"</span> },
  },
};</code></pre>
            </div>
        </section>
        <section id="adding-shipping-options">
            <div class="header-wrapper">
                <h3 id="x2-3-adding-shipping-options"><bdi class="secno">2.3 </bdi>
                    Adding shipping options
                </h3><a class="self-link" href="#adding-shipping-options" aria-label="Permalink for Section 2.3"></a>
            </div>

            <p>
                Here we see an example of how to add two shipping options to the
                <var>details</var>.
            </p>
            <div class="example" id="example-adding-shipping-options">
                <div class="marker">
                    <a class="self-link" href="#example-adding-shipping-options">Example<bdi> 3</bdi></a><span
                        class="example-title">: Adding shipping options</span>
                </div>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> shippingOptions = [
  {
    <span class="hljs-attr">id</span>: <span class="hljs-string">"standard"</span>,
    <span class="hljs-comment">// Shipping by truck, 2 days</span>
    <span class="hljs-attr">label</span>: <span class="hljs-string">"🚛  Envío por camión (2 dias)"</span>,
    <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"EUR"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"5.00"</span> },
    <span class="hljs-attr">selected</span>: <span class="hljs-literal">true</span>,
  },
  {
    <span class="hljs-attr">id</span>: <span class="hljs-string">"drone"</span>,
    <span class="hljs-comment">// Drone shipping, 2 hours</span>
    <span class="hljs-attr">label</span>: <span class="hljs-string">"🚀 Drone Express (2 horas)"</span>,
    <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"EUR"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"25.00"</span> }
  },
];
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(details, { shippingOptions });</code></pre>
            </div>
        </section>
        <section id="conditional-modifications-to-payment-request">
            <div class="header-wrapper">
                <h3 id="x2-4-conditional-modifications-to-payment-request"><bdi class="secno">2.4 </bdi>
                    Conditional modifications to payment request
                </h3><a class="self-link" href="#conditional-modifications-to-payment-request"
                    aria-label="Permalink for Section 2.4"></a>
            </div>

            <p>
                Here we see how to add a processing fee for using a card on a
                particular network. Notice that it requires recalculating the total.
            </p>
            <div class="example" id="example-modifying-payment-request-based-on-card-type">
                <div class="marker">
                    <a class="self-link" href="#example-modifying-payment-request-based-on-card-type">Example<bdi>
                            4</bdi></a><span class="example-title">: Modifying payment request based on card type</span>
                </div>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-comment">// Certain cards incur a $3.00 processing fee.</span>
<span class="hljs-keyword">const</span> cardFee = {
  <span class="hljs-attr">label</span>: <span class="hljs-string">"Card processing fee"</span>,
  <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"AUD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"3.00"</span> },
};

<span class="hljs-comment">// Modifiers apply when the user chooses to pay with</span>
<span class="hljs-comment">// a card.</span>
<span class="hljs-keyword">const</span> modifiers = [
  {
    <span class="hljs-attr">additionalDisplayItems</span>: [cardFee],
    <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/cardpay"</span>,
    <span class="hljs-attr">total</span>: {
      <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
      <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"AUD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"68.00"</span> },
    },
    <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">supportedNetworks</span>: networks,
    },
  },
];
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(details, { modifiers });</code></pre>
            </div>
        </section>
        <section id="requesting-specific-information-from-the-end-user">
            <div class="header-wrapper">
                <h3 id="x2-5-requesting-specific-information-from-the-end-user"><bdi class="secno">2.5 </bdi>
                    Requesting specific information from the end user
                </h3><a class="self-link" href="#requesting-specific-information-from-the-end-user"
                    aria-label="Permalink for Section 2.5"></a>
            </div>

            <p>
                Some financial transactions require a user to provide specific
                information in order for a merchant to fulfill a purchase (e.g., the
                user's shipping address, in case a physical good needs to be
                shipped). To request this information, a merchant can pass a third
                optional argument (<var data-type="PaymentOptions">options</var>) to the
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-5"><code>PaymentRequest</code></a> constructor indicating what
                information they
                require. When the payment request is shown, the user agent will
                request this information from the end user and return it to the
                merchant when the user accepts the payment request.
            </p>
            <div class="example" id="example-the-options-argument">
                <div class="marker">
                    <a class="self-link" href="#example-the-options-argument">Example<bdi> 5</bdi></a><span
                        class="example-title">: The `options` argument</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">requestPayerEmail</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">requestPayerName</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">requestPayerPhone</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">requestShipping</span>: <span class="hljs-literal">true</span>,
}</code></pre>
            </div>
        </section>
        <section id="constructing-a-paymentrequest">
            <div class="header-wrapper">
                <h3 id="x2-6-constructing-a-paymentrequest"><bdi class="secno">2.6 </bdi>
                    Constructing a <code>PaymentRequest</code>
                </h3><a class="self-link" href="#constructing-a-paymentrequest"
                    aria-label="Permalink for Section 2.6"></a>
            </div>

            <p>
                Having gathered all the prerequisite bits of information, we can now
                construct a <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-6"><code>PaymentRequest</code></a> and request
                that the browser present
                it to the user:
            </p>
            <div class="example" id="example-constructing-a-paymentrequest">
                <div class="marker">
                    <a class="self-link" href="#example-constructing-a-paymentrequest">Example<bdi> 6</bdi></a><span
                        class="example-title">: Constructing a `PaymentRequest`</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doPaymentRequest</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentRequest</span>(methodData, details, options);
    <span class="hljs-comment">// See below for a detailed example of handling these events</span>
    request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> ev.<span class="hljs-title function_">updateWith</span>(details);
    request.<span class="hljs-property">onshippingoptionchange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> ev.<span class="hljs-title function_">updateWith</span>(details);
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">show</span>();
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">validateResponse</span>(response);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// AbortError, SecurityError</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
  }
}
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateResponse</span>(<span class="hljs-params">response</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> errors = <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkAllValuesAreGood</span>(response);
    <span class="hljs-keyword">if</span> (errors.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">retry</span>(errors);
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">validateResponse</span>(response);
    }
    <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">complete</span>(<span class="hljs-string">"success"</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// Something went wrong...</span>
    <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">complete</span>(<span class="hljs-string">"fail"</span>);
  }
}
<span class="hljs-comment">// Must be called as a result of a click</span>
<span class="hljs-comment">// or some explicit user action.</span>
<span class="hljs-title function_">doPaymentRequest</span>();</code></pre>
            </div>
        </section>
        <section id="handling-events-and-updating-the-payment-request">
            <div class="header-wrapper">
                <h3 id="x2-7-handling-events-and-updating-the-payment-request"><bdi class="secno">2.7 </bdi>
                    Handling events and updating the payment request
                </h3><a class="self-link" href="#handling-events-and-updating-the-payment-request"
                    aria-label="Permalink for Section 2.7"></a>
            </div>

            <p>
                Prior to the user accepting to make payment, the site is given an
                opportunity to update the payment request in response to user input.
                This can include, for example, providing additional shipping options
                (or modifying their cost), removing items that cannot ship to a
                particular address, etc.
            </p>
            <div class="example" id="example-registering-event-handlers">
                <div class="marker">
                    <a class="self-link" href="#example-registering-event-handlers">Example<bdi> 7</bdi></a><span
                        class="example-title">: Registering event handlers</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentRequest</span>(methodData, details, options);
<span class="hljs-comment">// Async update to details</span>
request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
  ev.<span class="hljs-title function_">updateWith</span>(<span class="hljs-title function_">checkShipping</span>(request));
};
<span class="hljs-comment">// Sync update to the total</span>
request.<span class="hljs-property">onshippingoptionchange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
  <span class="hljs-comment">// selected shipping option</span>
  <span class="hljs-keyword">const</span> { shippingOption } = request;
  <span class="hljs-keyword">const</span> newTotal = {
    <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-title function_">calculateNewTotal</span>(shippingOption),
  };
  ev.<span class="hljs-title function_">updateWith</span>({ <span class="hljs-attr">total</span>: newTotal });
};
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkShipping</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> { shippingAddress } = request;

    <span class="hljs-keyword">await</span> <span class="hljs-title function_">ensureCanShipTo</span>(shippingAddress);
    <span class="hljs-keyword">const</span> { shippingOptions, total } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">calculateShipping</span>(shippingAddress);

    <span class="hljs-keyword">return</span> { shippingOptions, total };
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// Shows error to user in the payment sheet.</span>
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">`Sorry! we can't ship to your address.`</span> };
  }
}</code></pre>
            </div>
        </section>
        <section id="fine-grained-error-reporting">
            <div class="header-wrapper">
                <h3 id="x2-8-fine-grained-error-reporting"><bdi class="secno">2.8 </bdi>
                    Fine-grained error reporting
                </h3><a class="self-link" href="#fine-grained-error-reporting"
                    aria-label="Permalink for Section 2.8"></a>
            </div>

            <p>
                A developer can use the
                <a data-link-type="idl" href="#dom-paymentdetailsupdate-shippingaddresserrors" class="internalDFN"
                    id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-1"><code>shippingAddressErrors</code></a>
                member of the
                <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                    class="internalDFN" id="ref-for-dom-paymentdetailsupdate-1"><code>PaymentDetailsUpdate</code></a>
                dictionary to indicate that there are
                validation errors with specific attributes of a <a data-link-type="interface" data-lt="ContactAddress"
                    href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>.
                The <a data-link-type="idl" href="#dom-paymentdetailsupdate-shippingaddresserrors" class="internalDFN"
                    id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-2"><code>shippingAddressErrors</code></a>
                member is a
                <a data-link-type="idl" data-lt="AddressErrors" href="#dom-addresserrors" class="internalDFN"
                    id="ref-for-dom-addresserrors-1"><code>AddressErrors</code></a> dictionary, whose members
                specifically demarcate
                the fields of a <a data-link-type="dfn"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">physical address</a> that are
                erroneous while also
                providing helpful error messages to be displayed to the end user.
            </p>
            <div class="example" id="example-8">
                <div class="marker">
                    <a class="self-link" href="#example-8">Example<bdi> 8</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs js">request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
  ev.<span class="hljs-title function_">updateWith</span>(<span class="hljs-title function_">validateAddress</span>(request.<span class="hljs-property">shippingAddress</span>));
};
<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateAddress</span>(<span class="hljs-params">shippingAddress</span>) {
  <span class="hljs-keyword">const</span> error = <span class="hljs-string">"Can't ship to this address."</span>;
  <span class="hljs-keyword">const</span> shippingAddressErrors = {
    <span class="hljs-attr">city</span>: <span class="hljs-string">"FarmVille is not a real place."</span>,
    <span class="hljs-attr">postalCode</span>: <span class="hljs-string">"Unknown postal code for your country."</span>,
  };
  <span class="hljs-comment">// Empty shippingOptions implies that we can't ship</span>
  <span class="hljs-comment">// to this address.</span>
  <span class="hljs-keyword">const</span> shippingOptions = [];
  <span class="hljs-keyword">return</span> { error, shippingAddressErrors, shippingOptions };
}</code></pre>
            </div>
        </section>
        <section id="posting-payment-response-back-to-a-server">
            <div class="header-wrapper">
                <h3 id="x2-9-posting-payment-response-back-to-a-server"><bdi class="secno">2.9 </bdi>
                    POSTing payment response back to a server
                </h3><a class="self-link" href="#posting-payment-response-back-to-a-server"
                    aria-label="Permalink for Section 2.9"></a>
            </div>

            <p>
                It's expected that data in a <a data-link-type="idl" data-lt="PaymentResponse"
                    href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-2"><code>PaymentResponse</code></a> will be POSTed back
                to a server for processing. To make this as easy as possible,
                <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-3"><code>PaymentResponse</code></a> can use the <a
                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#default-tojson-steps">default toJSON
                    steps</a> (i.e.,
                <code>.toJSON()</code>) to serializes the object directly into JSON. This makes
                it trivial to POST the resulting JSON back to a server using the
                <cite><a data-matched-text="[[[fetch]]]" href="https://fetch.spec.whatwg.org/">Fetch
                        Standard</a></cite>:
            </p>
            <div class="example" id="example-posting-with-fetch">
                <div class="marker">
                    <a class="self-link" href="#example-posting-with-fetch">Example<bdi> 9</bdi></a><span
                        class="example-title">: POSTing with `fetch()`</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doPaymentRequest</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> payRequest = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentRequest</span>(methodData, details);
  <span class="hljs-keyword">const</span> payResponse = <span class="hljs-keyword">await</span> payRequest.<span class="hljs-title function_">show</span>();
  <span class="hljs-keyword">let</span> result = <span class="hljs-string">""</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> httpResponse = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/process-payment"</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> },
      <span class="hljs-attr">body</span>: payResponse.<span class="hljs-title function_">toJSON</span>(),
    });
    result = httpResponse.<span class="hljs-property">ok</span> ? <span class="hljs-string">"success"</span> : <span class="hljs-string">"fail"</span>;
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
    result = <span class="hljs-string">"fail"</span>;
  }
  <span class="hljs-keyword">await</span> payResponse.<span class="hljs-title function_">complete</span>(result);
}
<span class="hljs-title function_">doPaymentRequest</span>();</code></pre>
            </div>
        </section>
        <section id="using-with-cross-origin-iframes">
            <div class="header-wrapper">
                <h3 id="x2-10-using-with-cross-origin-iframes"><bdi class="secno">2.10 </bdi>
                    Using with cross-origin iframes
                </h3><a class="self-link" href="#using-with-cross-origin-iframes"
                    aria-label="Permalink for Section 2.10"></a>
            </div>

            <p>
                To indicate that a cross-origin
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                is allowed to invoke the
                payment request API, the
                <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                attribute along with the
                "payment" keyword can be specified on the
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                element.
            </p>
            <div class="example" id="example-using-payment-request-api-with-cross-origin-iframes">
                <div class="marker">
                    <a class="self-link"
                        href="#example-using-payment-request-api-with-cross-origin-iframes">Example<bdi>
                            10</bdi></a><span class="example-title">: Using Payment Request API with cross-origin
                        iframes</span>
                </div>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span>
  <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cross-origin.example"</span>
  <span class="hljs-attr">allow</span>=<span class="hljs-string">"payment"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
            </div>
            <p>
                If the
                <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                will be navigated across multiple origins that
                support the Payment Request API, then one can set
                <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                to
                <code>"payment *"</code>. The <cite><a data-matched-text="[[[permissions-policy]]]"
                        href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite> specification
                provides
                further details and examples.
            </p>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="Expand MDN details for PaymentRequest"><span>MDN</span><span
                    title="This feature is in all major engines.">✅</span></summary>
            <a title="The Payment Request API's PaymentRequest interface is the primary access point into the API, and lets web content and apps accept payments from the end user on behalf of the operator of the site or the publisher of the app."
                href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest">PaymentRequest</a>
            <p class="engines-all">This feature is in all major engines.</p>
            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>60+</td>
                </tr>
                <tr class="chrome_android yes">
                    <td>Chrome Android</td>
                    <td>53+</td>
                </tr>
                <tr class="edge yes">
                    <td>Edge</td>
                    <td>15+</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>55+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android yes">
                    <td>Opera Android</td>
                    <td>44+</td>
                </tr>
                <tr class="safari yes">
                    <td>Safari</td>
                    <td>11.1+</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android no">
                    <td>WebView Android</td>
                    <td>No</td>
                </tr>
            </table>
        </details>
    </aside>
    <section data-dfn-for="PaymentRequest" id="paymentrequest-interface">
        <div class="header-wrapper">
            <h2 id="x3-paymentrequest-interface"><bdi class="secno">3. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-paymentrequest" data-idl="interface"
                    data-title="PaymentRequest" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentRequest</code></dfn> interface
            </h2><a class="self-link" href="#paymentrequest-interface" aria-label="Permalink for Section 3."></a>
        </div>

        <pre class="idl def" id="webidl-1134666017"><span class="idlHeader"><a class="self-link" href="#webidl-1134666017">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-paymentrequest" data-title="PaymentRequest">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentrequest" id="ref-for-dom-paymentrequest-7"><code>PaymentRequest</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-paymentrequest-constructor-methoddata-details-options" data-title="constructor" data-dfn-for="PaymentRequest">
  <dfn data-export="" data-dfn-type="constructor" id="dom-paymentrequest-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PaymentRequest" data-lt="constructor()|constructor(methodData, details)|constructor(methodData, details, options)" data-local-lt="PaymentRequest.constructor|PaymentRequest.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentmethoddata" class="internalDFN" id="ref-for-dom-paymentmethoddata-5"><code>PaymentMethodData</code></a>&gt;</span> <span class="idlParamName">methodData</span>,<span class="idlType">
    <a data-link-type="idl" href="#dom-paymentdetailsinit" class="internalDFN" id="ref-for-dom-paymentdetailsinit-2"><code>PaymentDetailsInit</code></a></span> <span class="idlParamName">details</span>,
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentoptions" class="internalDFN" id="ref-for-dom-paymentoptions-2"><code>PaymentOptions</code></a></span> <span class="idlParamName">options</span> = {}
  );</span><span data-idl="" class="idlMethod" id="idl-def-paymentrequest-show-detailspromise" data-title="show" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentresponse" class="internalDFN" id="ref-for-dom-paymentresponse-4"><code>PaymentResponse</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-show" id="ref-for-dom-paymentrequest-show-3"><code>show</code></a>(optional<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsupdate" class="internalDFN" id="ref-for-dom-paymentdetailsupdate-2"><code>PaymentDetailsUpdate</code></a>&gt;</span> <span class="idlParamName">detailsPromise</span>);</span><span data-idl="" class="idlMethod" id="idl-def-paymentrequest-abort" data-title="abort" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-abort" id="ref-for-dom-paymentrequest-abort-1"><code>abort</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-paymentrequest-canmakepayment" data-title="canMakePayment" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-canmakepayment" id="ref-for-dom-paymentrequest-canmakepayment-1"><code>canMakePayment</code></a>();</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-id" data-title="id" data-dfn-for="PaymentRequest">

  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-id" id="ref-for-dom-paymentrequest-id-1"><code>id</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-shippingaddress" data-title="shippingAddress" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://www.w3.org/TR/contact-picker/#contactaddress">ContactAddress</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingaddress" id="ref-for-dom-paymentrequest-shippingaddress-1"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-shippingoption" data-title="shippingOption" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingoption" id="ref-for-dom-paymentrequest-shippingoption-1"><code>shippingOption</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-shippingtype" data-title="shippingType" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-paymentshippingtype" class="internalDFN" id="ref-for-dom-paymentshippingtype-1"><code>PaymentShippingType</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingtype" id="ref-for-dom-paymentrequest-shippingtype-1"><code>shippingType</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-onshippingaddresschange" data-title="onshippingaddresschange" data-dfn-for="PaymentRequest">

  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onshippingaddresschange" id="ref-for-dom-paymentrequest-onshippingaddresschange-1"><code>onshippingaddresschange</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-onshippingoptionchange" data-title="onshippingoptionchange" data-dfn-for="PaymentRequest">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onshippingoptionchange" id="ref-for-dom-paymentrequest-onshippingoptionchange-1"><code>onshippingoptionchange</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentrequest-onpaymentmethodchange" data-title="onpaymentmethodchange" data-dfn-for="PaymentRequest">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onpaymentmethodchange" id="ref-for-dom-paymentrequest-onpaymentmethodchange-1"><code>onpaymentmethodchange</code></a>;</span>
};</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID">
            <div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Note</span></div>
            <div class="">
                <p>
                    A developer creates a <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                        class="internalDFN" id="ref-for-dom-paymentrequest-8"><code>PaymentRequest</code></a> to make a
                    payment request.
                    This is typically associated with the user initiating a payment
                    process (e.g., by activating a "Buy," "Purchase," or "Checkout"
                    button on a web site, selecting a "Power Up" in an interactive game,
                    or paying at a kiosk in a parking structure). The <a data-link-type="idl" data-lt="PaymentRequest"
                        href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-9"><code>PaymentRequest</code></a>
                    allows developers to exchange information with the <a href="#dfn-user-agent" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-user-agent-2">user agent</a>
                    while the user is providing input (up to the point of user approval
                    or denial of the payment request).
                </p>
                <p>
                    The <a data-link-type="idl" href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingaddress-2"><code>shippingAddress</code></a>,
                    <a data-link-type="idl" href="#dom-paymentrequest-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingoption-2"><code>shippingOption</code></a>, and
                    <a data-link-type="idl" href="#dom-paymentrequest-shippingtype" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingtype-2"><code>shippingType</code></a> attributes are
                    populated during
                    processing if the <a data-link-type="idl" href="#dom-paymentoptions-requestshipping"
                        class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-1"><code>requestShipping</code></a> member is
                    set.
                </p>
            </div>
        </div>
        <p>
            A <var>request</var>'s <dfn id="dfn-payment-relevant-browsing-context" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">payment-relevant browsing context</dfn> is that
            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-10"><code>PaymentRequest</code></a>'s <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global
                object</a>'s browsing context's
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">top-level
                browsing context</a>. Every <a href="#dfn-payment-relevant-browsing-context" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-payment-relevant-browsing-context-1">payment-relevant browsing
                context</a> has a <dfn id="dfn-payment-request-is-showing" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">payment request is showing</dfn> boolean, which
            prevents showing more than one payment UI at a time.
        </p>
        <p class="Note">
            The <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-payment-request-is-showing-1">payment request is showing</a> boolean simply prevents
            more than
            one payment UI being shown in a single browser tab. However, a
            <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-payment-handler-1">payment handler</a> can restrict the <a href="#dfn-user-agent"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-3">user agent</a> to showing
            only one payment UI across all browser windows and tabs. Other payment
            handlers might allow showing a payment UI across disparate browser
            tabs.
        </p>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for PaymentRequest"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequest() constructor creates a new PaymentRequest object which will be used to handle the process of generating, validating, and submitting a payment request."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/PaymentRequest">PaymentRequest/PaymentRequest</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="constructor">
            <div class="header-wrapper">
                <h3 id="x3-1-constructor"><bdi class="secno">3.1 </bdi>
                    Constructor
                </h3><a class="self-link" href="#constructor" aria-label="Permalink for Section 3.1"></a>
            </div>

            <p>
                The <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-11"><code>PaymentRequest</code></a> is constructed using the supplied
                sequence of
                <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentmethoddata-6"><code>PaymentMethodData</code></a> <var>methodData</var>
                including any <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-9">payment
                    method</a> specific <a data-link-type="idl" href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-4"><code>data</code></a>, the
                <a href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentdetailsinit-3"><code>PaymentDetailsInit</code></a> <var>details</var>, and
                the <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-3"><code>PaymentOptions</code></a>
                <var>options</var>.
            </p>
            <p data-tests="payment-request-constructor.https.sub.html, payment-request-insecure.http.html">
                The <code><dfn data-lt="PaymentRequest.PaymentRequest()|PaymentRequest(methodData, details, options)" id="dfn-paymentrequest-paymentrequest" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">PaymentRequest(<var>methodData</var>,
          <var>details</var>, <var>options</var>)</dfn></code> constructor <em class="rfc2119">MUST</em> act as
                follows:
            </p>
            <ol class="algorithm">
                <li>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>'s <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                        global object</a>'s <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated
                        <code>Document</code></a> is not <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to
                        use</a> the <a href="#dfn-payment" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-1">"payment"</a>
                    permission, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a>
                    a "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>Establish the request's id:
                    <ol>
                        <li data-tests="payment-request-id-attribute.https.html">If
                            <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsinit-id"
                                class="internalDFN" id="ref-for-dom-paymentdetailsinit-id-1"><code>id</code></a> is
                            missing, add an
                            <a data-link-type="idl" href="#dom-paymentdetailsinit-id" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-id-2"><code>id</code></a> member to
                            <var>details</var> and set its value
                            to a <abbr title="Universally Unique Identifier">UUID</abbr>
                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4122"
                                    title="A Universally Unique IDentifier (UUID) URN Namespace">RFC4122</a></cite>].
                        </li>
                    </ol>
                </li>
                <li>Let <var>serializedMethodData</var> be an empty list.
                </li>
                <li>Process payment methods:
                    <ol>
                        <li>If the length of the <var>methodData</var> sequence is zero, then
                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> a <a
                                data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>,
                            optionally informing the
                            developer that at least one <a href="#dfn-payment-method" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-payment-method-10">payment method</a> is required.
                        </li>
                        <li>Let <var data-type="Set">seenPMIs</var> be the empty <a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ordered-set">set</a>.
                        </li>
                        <li>For each <var>paymentMethod</var> of <var>methodData</var>:
                            <ol>
                                <li data-tests="payment-request-ctor-pmi-handling.https.sub.html">Run the
                                    steps to <a data-link-type="dfn"
                                        href="https://www.w3.org/TR/payment-method-id/#dfn-validate-a-payment-method-identifier">validate
                                        a payment method identifier</a> with
                                    <var>paymentMethod</var>.<a data-link-type="idl"
                                        href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-supportedmethods-1"><code>supportedMethods</code></a>.
                                    If it
                                    returns false, then throw a <a data-link-type="exception" data-lt="RangeError"
                                        href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                                    exception.
                                    Optionally, inform the developer that the payment method
                                    identifier is invalid.
                                </li>
                                <li>Let <var>pmi</var> be the result of parsing
                                    <var>paymentMethod</var>.<a data-link-type="idl"
                                        href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-supportedmethods-2"><code>supportedMethods</code></a>
                                    with
                                    <a data-link-type="dfn"
                                        href="https://url.spec.whatwg.org/#concept-basic-url-parser">basic URL
                                        parser</a>:
                                    <ol>
                                        <li>If failure, set <var>pmi</var> to
                                            <var>paymentMethod</var>.<a data-link-type="idl"
                                                href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                                id="ref-for-dom-paymentmethoddata-supportedmethods-3"><code>supportedMethods</code></a>.
                                        </li>
                                    </ol>
                                </li>
                                <li>If <var data-type="Set">seenPMIs</var> <a data-link-type="dfn" data-lt="contain"
                                        href="https://infra.spec.whatwg.org/#list-contain">contains</a> <var>pmi</var>
                                    throw a
                                    <a data-link-type="exception" data-lt="RangeError"
                                        href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                                    <a data-link-type="interface" data-lt="DOMException"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                    optionally informing the
                                    developer that this <a data-link-type="dfn"
                                        href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method
                                        identifier</a> is a
                                    duplicate.
                                </li>
                                <li><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append">Append</a>
                                    <var>pmi</var> to <var data-type="Set">seenPMIs</var>.
                                </li>
                                <li>If the <a data-link-type="idl" href="#dom-paymentmethoddata-data"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-data-5"><code>data</code></a> member of
                                    <var>paymentMethod</var> is missing, let <var>serializedData</var> be null.
                                    Otherwise, let <var>serializedData</var> be the result of <a data-link-type="dfn"
                                        data-lt="serialize a JavaScript value to a JSON string"
                                        href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">serialize</a>
                                    <var>paymentMethod</var>.<a data-link-type="idl" href="#dom-paymentmethoddata-data"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-data-6"><code>data</code></a> into a JSON
                                    string. Rethrow any exceptions.
                                </li>
                                <li>If <var>serializedData</var> is not null, and if the specification
                                    that defines the
                                    <var>paymentMethod</var>.<a data-link-type="idl"
                                        href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-supportedmethods-4"><code>supportedMethods</code></a>
                                    specifies an <a data-link-type="dfn|abstract-op" href="#dfn-additional-data-type"
                                        class="internalDFN" id="ref-for-dfn-additional-data-type-2">additional data
                                        type</a>:
                                    <ol>
                                        <li>Let <var>object</var> be the result of <a
                                                href="https://tc39.es/ecma262/multipage/#sec-json.parse">JSON-parsing</a>
                                            <var>serializedData</var>.
                                        </li>
                                        <li>
                                            <p>
                                                Let <var>idl</var> be the result of <a data-link-type="dfn"
                                                    data-lt="converted to an IDL value"
                                                    href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">converting</a>
                                                <var>object</var> to an IDL value of the
                                                <a data-link-type="dfn|abstract-op" href="#dfn-additional-data-type"
                                                    class="internalDFN"
                                                    id="ref-for-dfn-additional-data-type-3">additional data type</a>.
                                                Rethrow any
                                                exceptions.
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                Run the <a href="#dfn-steps-to-validate-payment-method-data"
                                                    class="internalDFN" data-link-type="dfn"
                                                    id="ref-for-dfn-steps-to-validate-payment-method-data-1">steps to
                                                    validate payment method data</a>,
                                                if any, from the specification that defines the
                                                <var>paymentMethod</var>.<a data-link-type="idl"
                                                    href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                                    id="ref-for-dom-paymentmethoddata-supportedmethods-5"><code>supportedMethods</code></a>
                                                on <var>object</var>. Rethrow any exceptions.
                                            </p>
                                            <div class="note" role="note" id="issue-container-generatedID-0">
                                                <div role="heading" class="note-title marker" id="h-note-0"
                                                    aria-level="4"><span>Note</span></div>
                                                <p class="">
                                                    These step assures that any IDL type conversion and
                                                    validation errors are caught as early as possible.
                                                </p>
                                            </div>
                                        </li>
                                    </ol>
                                </li>
                                <li>Add the tuple
                                    (<var>paymentMethod</var>.<a data-link-type="idl"
                                        href="#dom-paymentmethoddata-supportedmethods" class="internalDFN"
                                        id="ref-for-dom-paymentmethoddata-supportedmethods-6"><code>supportedMethods</code></a>,
                                    <var>serializedData</var>) to <var>serializedMethodData</var>.
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>Process the total:
                    <ol>
                        <li data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                            <a href="#dfn-check-and-canonicalize-total-amount" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-check-and-canonicalize-total-amount-1">Check and canonicalize total
                                amount</a>
                            <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsinit-total"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-total-1"><code>total</code></a>.<a
                                data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                id="ref-for-dom-paymentitem-amount-1"><code>amount</code></a>.
                            Rethrow any exceptions.
                        </li>
                    </ol>
                </li>
                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                        id="ref-for-dom-paymentdetailsbase-displayitems-1"><code>displayItems</code></a> member of
                    <var>details</var> is
                    present, then for each <var>item</var> in
                    <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                        class="internalDFN"
                        id="ref-for-dom-paymentdetailsbase-displayitems-2"><code>displayItems</code></a>:
                    <ol>
                        <li data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                            <a href="#dfn-check-and-canonicalize-amount" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-check-and-canonicalize-amount-1">Check and canonicalize amount</a>
                            <var>item</var>.<a data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                id="ref-for-dom-paymentitem-amount-2"><code>amount</code></a>. Rethrow any exceptions.
                        </li>
                    </ol>
                </li>
                <li>Let <var>selectedShippingOption</var> be null.
                </li>
                <li>If the <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-2"><code>requestShipping</code></a> member of
                    <var>options</var> is
                    present and set to true, process shipping options:
                    <ol>
                        <li>Let <var data-type="PaymentShippingOption">options</var> be an empty
                            <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a></code>&lt;<a
                                data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                                class="internalDFN"
                                id="ref-for-dom-paymentshippingoption-1"><code>PaymentShippingOption</code></a>&gt;.
                        </li>
                        <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-shippingoptions-1"><code>shippingOptions</code></a>
                            member of
                            <var>details</var> is present, then:
                            <ol>
                                <li>Let <var>seenIDs</var> be an empty set.
                                </li>
                                <li>For each <var data-type="PaymentShippingOption">option</var> in
                                    <var>details</var>.<a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-shippingoptions-2"><code>shippingOptions</code></a>:
                                    <ol>
                                        <li data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                                            <a href="#dfn-check-and-canonicalize-amount" class="internalDFN"
                                                data-link-type="dfn"
                                                id="ref-for-dfn-check-and-canonicalize-amount-2">Check and canonicalize
                                                amount</a>
                                            <var>item</var>.<a data-link-type="idl" href="#dom-paymentitem-amount"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentitem-amount-3"><code>amount</code></a>. Rethrow
                                            any exceptions.
                                        </li>
                                        <li>If <var>seenIDs</var> contains
                                            <var data-type="PaymentShippingOption">option</var>.<a data-link-type="idl"
                                                href="#dom-paymentshippingoption-id" class="internalDFN"
                                                id="ref-for-dom-paymentshippingoption-id-1"><code>id</code></a>, then
                                            throw a
                                            <a data-link-type="exception" data-lt="TypeError"
                                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>.
                                            Optionally, inform the developer that
                                            shipping option IDs must be unique.
                                        </li>
                                        <li>Otherwise, append
                                            <var data-type="PaymentShippingOption">option</var>.<a data-link-type="idl"
                                                href="#dom-paymentshippingoption-id" class="internalDFN"
                                                id="ref-for-dom-paymentshippingoption-id-2"><code>id</code></a> to
                                            <var>seenIDs</var>.
                                        </li>
                                        <li>If <var data-type="PaymentShippingOption">option</var>.<a
                                                data-link-type="idl" href="#dom-paymentshippingoption-selected"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentshippingoption-selected-1"><code>selected</code></a>
                                            is
                                            true, then set <var>selectedShippingOption</var> to
                                            <var data-type="PaymentShippingOption">option</var>.<a data-link-type="idl"
                                                href="#dom-paymentshippingoption-id" class="internalDFN"
                                                id="ref-for-dom-paymentshippingoption-id-3"><code>id</code></a>.
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>Set <var>details</var>.<a data-link-type="idl"
                                href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-shippingoptions-3"><code>shippingOptions</code></a>
                            to
                            <var data-type="PaymentShippingOption">options</var>.
                        </li>
                    </ol>
                </li>
                <li>Let <var>serializedModifierData</var> be an empty list.
                </li>
                <li>Process payment details modifiers:
                    <ol>
                        <li>Let <var>modifiers</var> be an empty
                            <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a></code>&lt;<a
                                data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsmodifier-1"><code>PaymentDetailsModifier</code></a>&gt;.
                        </li>
                        <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-modifiers-1"><code>modifiers</code></a> member of
                            <var>details</var>
                            is present, then:
                            <ol>
                                <li>Set <var>modifiers</var> to
                                    <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-modifiers-2"><code>modifiers</code></a>.
                                </li>
                                <li>For each <var>modifier</var> of <var>modifiers</var>:
                                    <ol>
                                        <li>If the <a data-link-type="idl" href="#dom-paymentdetailsmodifier-total"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-total-1"><code>total</code></a>
                                            member of
                                            <var>modifier</var> is present, then:
                                            <ol>
                                                <li
                                                    data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                                                    <a href="#dfn-check-and-canonicalize-total-amount"
                                                        class="internalDFN" data-link-type="dfn"
                                                        id="ref-for-dfn-check-and-canonicalize-total-amount-2">Check and
                                                        canonicalize total amount</a>
                                                    <var>modifier</var>.<a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-total-2"><code>total</code></a>.<a
                                                        data-link-type="idl" href="#dom-paymentitem-amount"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentitem-amount-4"><code>amount</code></a>.
                                                    Rethrow any exceptions.
                                                </li>
                                            </ol>
                                        </li>
                                        <li>If the
                                            <a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-1"><code>additionalDisplayItems</code></a>
                                            member
                                            of <var>modifier</var> is present, then for each <var>item</var> of
                                            <var>modifier</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-2"><code>additionalDisplayItems</code></a>:
                                            <ol>
                                                <li
                                                    data-tests="payment-request-ctor-currency-code-checks.https.sub.html">
                                                    <a href="#dfn-check-and-canonicalize-amount" class="internalDFN"
                                                        data-link-type="dfn"
                                                        id="ref-for-dfn-check-and-canonicalize-amount-3">Check and
                                                        canonicalize amount</a>
                                                    <var>item</var>.<a data-link-type="idl"
                                                        href="#dom-paymentitem-amount" class="internalDFN"
                                                        id="ref-for-dom-paymentitem-amount-5"><code>amount</code></a>.
                                                    Rethrow any
                                                    exceptions.
                                                </li>
                                            </ol>
                                        </li>
                                        <li>If the <a data-link-type="idl" href="#dom-paymentdetailsmodifier-data"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-data-1"><code>data</code></a>
                                            member of
                                            <var>modifier</var> is missing, let <var>serializedData</var> be null.
                                            Otherwise, let <var>serializedData</var> be the result of
                                            <a data-link-type="dfn"
                                                data-lt="serialize a JavaScript value to a JSON string"
                                                href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">serialize</a>
                                            <var>modifier</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-data-2"><code>data</code></a>
                                            into a JSON
                                            string. Rethrow any exceptions.
                                        </li>
                                        <li>Add the tuple
                                            (<var>modifier</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsmodifier-supportedmethods" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-supportedmethods-1"><code>supportedMethods</code></a>,
                                            <var>serializedData</var>) to <var>serializedModifierData</var>.
                                        </li>
                                        <li>Remove the <a data-link-type="idl" href="#dom-paymentdetailsmodifier-data"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-data-3"><code>data</code></a>
                                            member of
                                            <var>modifier</var>, if it is present.
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>Set <var>details</var>.<a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-modifiers-3"><code>modifiers</code></a> to
                            <var>modifiers</var>.
                        </li>
                    </ol>
                </li>
                <li>Let <var data-type="PaymentRequest">request</var> be a new <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-12"><code>PaymentRequest</code></a>.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[handler]]" href="#dfn-handler" class="internalDFN"
                        id="ref-for-dfn-handler-1"><code>[[handler]]</code></a> to <code>null</code>.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                        id="ref-for-dfn-options-1"><code>[[options]]</code></a> to <var
                        data-type="PaymentShippingOption">options</var>.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-1"><code>[[state]]</code></a> to
                    "<a data-link-type="dfn|abstract-op" href="#dfn-created" class="internalDFN"
                        id="ref-for-dfn-created-1">created</a>".
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                        id="ref-for-dfn-updating-1"><code>[[updating]]</code></a> to false.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[details]]" href="#dfn-details" class="internalDFN"
                        id="ref-for-dfn-details-1"><code>[[details]]</code></a> to <var>details</var>.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[serializedModifierData]]" href="#dfn-serializedmodifierdata" class="internalDFN"
                        id="ref-for-dfn-serializedmodifierdata-1"><code>[[serializedModifierData]]</code></a> to
                    <var>serializedModifierData</var>.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[serializedMethodData]]" href="#dfn-serializedmethoddata" class="internalDFN"
                        id="ref-for-dfn-serializedmethoddata-1"><code>[[serializedMethodData]]</code></a> to
                    <var>serializedMethodData</var>.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-1"><code>[[response]]</code></a> to null.
                </li>
                <li>Set the value of <var data-type="PaymentRequest">request</var>'s <a data-link-type="idl"
                        href="#dom-paymentrequest-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingoption-3"><code>shippingOption</code></a>
                    attribute to <var>selectedShippingOption</var>.
                </li>
                <li>Set the value of the <a data-link-type="idl" href="#dom-paymentrequest-shippingaddress"
                        class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingaddress-3"><code>shippingAddress</code></a> attribute
                    on <var data-type="PaymentRequest">request</var> to null.
                </li>
                <li>If <var data-type="PaymentShippingOption">options</var>.<a data-link-type="idl"
                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-3"><code>requestShipping</code></a> is set to
                    true,
                    then set the value of the <a data-link-type="idl" href="#dom-paymentrequest-shippingtype"
                        class="internalDFN" id="ref-for-dom-paymentrequest-shippingtype-3"><code>shippingType</code></a>
                    attribute
                    on <var data-type="PaymentRequest">request</var> to <var
                        data-type="PaymentShippingOption">options</var>.<a data-link-type="idl"
                        href="#dom-paymentoptions-shippingtype" class="internalDFN"
                        id="ref-for-dom-paymentoptions-shippingtype-1"><code>shippingType</code></a>. Otherwise,
                    set it to null.
                </li>
                <li>Return <var data-type="PaymentRequest">request</var>.
                </li>
            </ol>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for id"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The id read-only attribute of the PaymentRequest interface returns a unique identifier for a particular PaymentRequest instance."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/id">PaymentRequest/id</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>16+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="id-attribute">
            <div class="header-wrapper">
                <h3 id="x3-2-id-attribute"><bdi class="secno">3.2 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-id" data-idl="attribute"
                        data-title="id" data-dfn-for="PaymentRequest" data-type="DOMString" data-lt="id"
                        data-local-lt="PaymentRequest.id" tabindex="0" aria-haspopup="dialog"><code>id</code></dfn>
                    attribute
                </h3><a class="self-link" href="#id-attribute" aria-label="Permalink for Section 3.2"></a>
            </div>

            <p data-tests="payment-request-id-attribute.https.html">
                When getting, the <a data-link-type="idl" href="#dom-paymentrequest-id" class="internalDFN"
                    id="ref-for-dom-paymentrequest-id-2"><code>id</code></a> attribute returns this
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-13"><code>PaymentRequest</code></a>'s
                <a data-link-type="attribute" data-lt="[[details]]" href="#dfn-details" class="internalDFN"
                    id="ref-for-dfn-details-2"><code>[[details]]</code></a>.<a data-link-type="idl"
                    href="#dom-paymentdetailsinit-id" class="internalDFN"
                    id="ref-for-dom-paymentdetailsinit-id-3"><code>id</code></a>.
            </p>
            <div class="note" role="note" id="issue-container-generatedID-1">
                <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span></div>
                <div class="">
                    <p>
                        For auditing and reconciliation purposes, a merchant can associate
                        a unique identifier for each transaction with the
                        <a data-link-type="idl" href="#dom-paymentdetailsinit-id" class="internalDFN"
                            id="ref-for-dom-paymentdetailsinit-id-4"><code>id</code></a> attribute.
                    </p>
                </div>
            </div>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for show"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequest interface's show() method instructs the user agent to begin the process of showing and handling the user interface for the payment request to the user."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/show">PaymentRequest/show</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="show-method">
            <div class="header-wrapper">
                <h3 id="x3-3-show-method"><bdi class="secno">3.3 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentrequest-show" data-idl="operation"
                        data-title="show()" data-dfn-for="PaymentRequest" data-type="Promise"
                        data-lt="show()|show(detailsPromise)"
                        data-local-lt="PaymentRequest.show|PaymentRequest.show()|show" tabindex="0"
                        aria-haspopup="dialog"><code>show()</code></dfn> method
                </h3><a class="self-link" href="#show-method" aria-label="Permalink for Section 3.3"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-2">
                <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span></div>
                <div class="">
                    <p>
                        The <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-4"><code>show</code></a><code>()</code> method is called
                        when a developer
                        wants to begin user interaction for the payment request. The
                        <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-5"><code>show</code></a><code>()</code> method returns a
                        <a data-link-type="interface" data-lt="Promise"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a> that will be
                        resolved when the <a href="#dfn-user-accepts-the-payment-request-algorithm" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-user-accepts-the-payment-request-algorithm-1">user
                            accepts the payment request</a>. Some
                        kind of user interface will be presented to the user to facilitate
                        the payment request after the <a data-link-type="idl" data-lt="show()"
                            href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-6"><code>show</code></a><code>()</code> method
                        returns.
                    </p>
                    <p>
                        Each payment handler controls what happens when multiple browsing
                        context simultaneously call the <a data-link-type="idl" data-lt="show()"
                            href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-7"><code>show</code></a><code>()</code> method.
                        For instance, some payment handlers will allow multiple payment UIs
                        to be shown in different browser tabs/windows. Other payment
                        handlers might only allow a single payment UI to be shown for the
                        entire user agent.
                    </p>
                </div>
            </div>
            <p data-tests="payment-request-show-method.https.html">
                The <code>show(optional <var>detailsPromise</var>)</code> method <em class="rfc2119">MUST</em> act as
                follows:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>.
                </li>
                <li data-tests="payment-request-show-method.https.html, show-method-postmessage-manual.https.html">
                    If the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                        global object</a> of <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request">request</a> does not have
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">transient
                        activation</a>, the user agent <em class="rfc2119">MAY</em>:
                    <ol>
                        <li>Return <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected
                                with</a> with a "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                        </li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-3">
                        <div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>Note</span>
                        </div>
                        <div class="">
                            <p>
                                This allows the user agent to not require user activation, for
                                example to support redirect flows where a user activation may
                                not be present upon redirect. See
                                <a href="#user-activation-requirement" class="sec-ref"><bdi class="secno">19.9 </bdi>
                                    User activation requirement</a> for security
                                considerations.
                            </p>
                            <p>
                                See also
                                <a href="https://github.com/w3c/payment-request/issues/1022">
                                    issue #1022</a> for discussion around providing more guidance
                                in the specification on when user agents should or should not
                                require a user activation for <a data-link-type="idl" data-lt="show()"
                                    href="#dom-paymentrequest-show" class="internalDFN"
                                    id="ref-for-dom-paymentrequest-show-8"><code>show</code></a><code>()</code>.
                            </p>
                        </div>
                    </div>
                </li>
                <li data-tests="show-consume-activation.https.html">Otherwise,
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation">consume
                        user activation</a> of the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                        global object</a>.
                </li>
                <li>Let <var>document</var> be <var data-type="PaymentRequest">request</var>'s <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                        global object</a>'s
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated
                        <code>Document</code></a>.
                </li>
                <li data-tests="rejects_if_not_active.https.html">If <var>document</var> is
                    not <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully
                        active</a>, then return <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected
                        with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>If <var>document</var>'s <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state">visibility
                        state</a> is not <code>"visible"</code>,
                    then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a
                        promise rejected with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>
                    <p>
                        Optionally, if the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-4">user agent</a> wishes to disallow the call
                        to <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-9"><code>show</code></a><code>()</code> to protect the
                        user, then return a
                        promise rejected with a "<a data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>" <a
                            data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>. For
                        example, the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-5">user agent</a> may limit the rate at which a page
                        can call <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                            class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-10"><code>show</code></a><code>()</code>, as described
                        in section
                        <a href="#privacy" class="sec-ref"><bdi class="secno">19. </bdi>
                            Privacy and Security Considerations</a>.
                    </p>
                </li>
                <li>If <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-2"><code>[[state]]</code></a> is not
                    "<a data-link-type="dfn|abstract-op" href="#dfn-created" class="internalDFN"
                        id="ref-for-dfn-created-2">created</a>" then return <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected
                        with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>If the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-6">user agent</a>'s <a href="#dfn-payment-request-is-showing"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-request-is-showing-2">payment
                        request is showing</a>
                    boolean is true, then:
                    <ol>
                        <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-3"><code>[[state]]</code></a> to
                            "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                id="ref-for-dfn-closed-1">closed</a>".
                        </li>
                        <li>Return <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected
                                with</a> an "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                        </li>
                    </ol>
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-4"><code>[[state]]</code></a> to
                    "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-1">interactive</a>".
                </li>
                <li>Let <var data-type="Promise">acceptPromise</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[acceptPromise]]" href="#dfn-acceptpromise" class="internalDFN"
                        id="ref-for-dfn-acceptpromise-1"><code>[[acceptPromise]]</code></a> to
                    <var data-type="Promise">acceptPromise</var>.
                </li>
                <li>
                    <p>
                        Optionally:
                    </p>
                    <ol>
                        <li>Reject <var data-type="Promise">acceptPromise</var> with an "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                        </li>
                        <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-5"><code>[[state]]</code></a> to
                            "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                id="ref-for-dfn-closed-2">closed</a>".
                        </li>
                        <li>Return <var data-type="Promise">acceptPromise</var>.
                        </li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-4">
                        <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            This allows the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-agent-7">user agent</a> to act as if the user had
                            immediately <a data-link-type="dfn|abstract-op" data-lt="user aborts the payment request"
                                href="#dfn-user-aborts-the-payment-request" class="internalDFN"
                                id="ref-for-dfn-user-aborts-the-payment-request-1">aborted the payment request</a>, at
                            its discretion. For example, in "private browsing"
                            modes or similar, user agents might take advantage of this step.
                        </p>
                    </div>
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>'s <a href="#dfn-payment-relevant-browsing-context"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-relevant-browsing-context-2">payment-relevant browsing context</a>'s
                    <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-request-is-showing-3">payment request is showing</a> boolean to true.
                </li>
                <li>Return <var data-type="Promise">acceptPromise</var> and perform the remaining steps <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
                        parallel</a>.
                </li>
                <li>Let <var data-type="list">handlers</var> be an empty <a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list">list</a>.
                </li>
                <li>For each <var>paymentMethod</var> tuple in
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[serializedMethodData]]" href="#dfn-serializedmethoddata" class="internalDFN"
                        id="ref-for-dfn-serializedmethoddata-2"><code>[[serializedMethodData]]</code></a>:
                    <ol>
                        <li>Let <var>identifier</var> be the first element in the <var>paymentMethod</var>
                            tuple.
                        </li>
                        <li>Let <var>data</var> be the result of <a
                                href="https://tc39.es/ecma262/multipage/#sec-json.parse">JSON-parsing</a> the second
                            element
                            in the <var>paymentMethod</var> tuple.
                        </li>
                        <li>If the specification that defines the <var>identifier</var> specifies
                            an <a data-link-type="dfn|abstract-op" href="#dfn-additional-data-type" class="internalDFN"
                                id="ref-for-dfn-additional-data-type-4">additional data type</a>, then <a
                                data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">convert</a>
                            <var>data</var> to an IDL value of that type.
                            Otherwise, <a data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">convert</a>
                            <var>data</var> to
                            <a data-link-type="interface" data-lt="object"
                                href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a>.
                        </li>
                        <li>If conversion results in an <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a> <var>error</var>:
                            <ol>
                                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                        id="ref-for-dfn-state-6"><code>[[state]]</code></a> to
                                    "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                        id="ref-for-dfn-closed-3">closed</a>".
                                </li>
                                <li>Reject <var data-type="Promise">acceptPromise</var> with <var>error</var>.
                                </li>
                                <li>Set <var data-type="PaymentRequest">request</var>'s <a
                                        href="#dfn-payment-relevant-browsing-context" class="internalDFN"
                                        data-link-type="dfn"
                                        id="ref-for-dfn-payment-relevant-browsing-context-3">payment-relevant browsing
                                        context</a>'s <a href="#dfn-payment-request-is-showing" class="internalDFN"
                                        data-link-type="dfn" id="ref-for-dfn-payment-request-is-showing-4">payment
                                        request is showing</a> boolean to
                                    false.
                                </li>
                                <li>Terminate this algorithm.
                                </li>
                            </ol>
                        </li>
                        <li>Let <var>registeredHandlers</var> be a <a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list">list</a> of registered
                            payment handlers for the payment method <var>identifier</var>.
                            <div class="note" role="note" id="issue-container-generatedID-5">
                                <div role="heading" class="note-title marker" id="h-note-5" aria-level="4">
                                    <span>Note</span><span class="issue-label">: Payment Handler registration</span>
                                </div>
                                <aside class="">
                                    Mechanisms to register a payment handler are outside the
                                    scope of this specification. For one mechanism, see
                                    <cite><a data-matched-text="[[[payment-handler]]]"
                                            href="https://www.w3.org/TR/payment-handler/">Payment Handler
                                            API</a></cite>.
                                </aside>
                            </div>
                        </li>
                        <li>For each <var>handler</var> in <var>registeredHandlers</var>:
                            <ol>
                                <li>Let <var>canMakePayment</var> be the result of running <var>handler</var>'s
                                    <a href="#dfn-steps-to-check-if-a-payment-can-be-made" class="internalDFN"
                                        data-link-type="dfn"
                                        id="ref-for-dfn-steps-to-check-if-a-payment-can-be-made-1">steps to check if a
                                        payment can be made</a> with <var>data</var>.
                                </li>
                                <li>If <var>canMakePayment</var> is true, then append <var>handler</var> to
                                    <var data-type="list">handlers</var>.
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>If <var data-type="list">handlers</var> is empty, then:
                    <ol>
                        <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-7"><code>[[state]]</code></a> to
                            "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                id="ref-for-dfn-closed-4">closed</a>".
                        </li>
                        <li>Reject <var data-type="Promise">acceptPromise</var> with "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#notsupportederror"><code>NotSupportedError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                        </li>
                        <li>Set <var data-type="PaymentRequest">request</var>'s <a
                                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-4">payment-relevant browsing
                                context</a>'s
                            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-5">payment request is showing</a> boolean to
                            false.
                        </li>
                        <li>Terminate this algorithm.
                        </li>
                    </ol>
                </li>
                <li>
                    <p data-cite="html">
                        Present a user interface that will allow the user to interact
                        with the <var data-type="list">handlers</var>. The user agent <em class="rfc2119">SHOULD</em>
                        prioritize the user's
                        preference when presenting payment methods. The user interface
                        <em class="rfc2119">SHOULD</em> be presented using the language and locale-based
                        formatting that matches the <var>document</var>'s <a data-link-type="dfn"
                            data-lt="document element" href="https://dom.spec.whatwg.org/#document-element">document
                            element's</a> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/dom.html#language">language</a>, if any, or an
                        appropriate fallback if that is not available.
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-6">
                        <div role="heading" class="note-title marker" id="h-note-6" aria-level="4">
                            <span>Note</span><span class="issue-label">: Localization of the payments user
                                interface</span>
                        </div>
                        <aside class="">
                            <p>
                                The API does not currently provide a way for developers to
                                specify the language and base direction in which the payment
                                sheet is presented to end users. Instead, the API relies on
                                localization information inherited from the document.
                            </p>
                        </aside>
                    </div>
                </li>
                <li data-tests="show-method-optional-promise-rejects.https.html">If
                    <var>detailsPromise</var> was passed, then:
                    <ol>
                        <li>Run the <a href="#dfn-update-a-paymentrequest-s-details-algorithm" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-update-a-paymentrequest-s-details-algorithm-1">update a
                                <code>PaymentRequest</code>'s details
                                algorithm</a> with <var>detailsPromise</var>, <var
                                data-type="PaymentRequest">request</var>, and null.
                        </li>
                        <li>Wait for the <var>detailsPromise</var> to settle.
                            <div class="note" role="note" id="issue-container-generatedID-7">
                                <div role="heading" class="note-title marker" id="h-note-7" aria-level="4">
                                    <span>Note</span>
                                </div>
                                <p class="">
                                    Based on how the <var>detailsPromise</var> settles, the <a
                                        href="#dfn-update-a-paymentrequest-s-details-algorithm" class="internalDFN"
                                        data-link-type="dfn"
                                        id="ref-for-dfn-update-a-paymentrequest-s-details-algorithm-2">update a
                                        <code>PaymentRequest</code>'s details algorithm</a>
                                    determines how the payment UI behaves. That is, <a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#upon-rejection">upon
                                        rejection</a> of the <var>detailsPromise</var>, the payment request
                                    aborts. Otherwise, <a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#upon-fulfillment">upon fulfillment</a>
                                    <var>detailsPromise</var>,
                                    the user agent re-enables the payment request UI and the
                                    payment flow can continue.
                                </p>
                            </div>
                        </li>
                    </ol>
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[handler]]" href="#dfn-handler" class="internalDFN"
                        id="ref-for-dfn-handler-2"><code>[[handler]]</code></a> be the <a href="#dfn-payment-handler"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-handler-2">payment
                        handler</a> selected by the end-user.
                </li>
                <li>Let <var data-type="list">modifiers</var> be an empty list.
                </li>
                <li>For each <var>tuple</var> in
                    <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                        href="#dfn-serializedmodifierdata" class="internalDFN"
                        id="ref-for-dfn-serializedmodifierdata-2"><code>[[serializedModifierData]]</code></a>:
                    <ol>
                        <li>If the first element of <var>tuple</var> (a <a data-link-type="dfn"
                                href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">PMI</a>) matches the
                            <a data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment
                                method identifier</a> of
                            <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[handler]]" href="#dfn-handler" class="internalDFN"
                                id="ref-for-dfn-handler-3"><code>[[handler]]</code></a>, then append the second
                            element of <var>tuple</var> (the serialized method data) to <var
                                data-type="list">modifiers</var>.
                        </li>
                    </ol>
                </li>
                <li>
                    <p>
                        Pass the <a data-link-type="dfn" data-lt="converted to an IDL value"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">converted</a>
                        second element
                        in the <var>paymentMethod</var> tuple and <var data-type="list">modifiers</var>. Optionally, the
                        user agent <em class="rfc2119">SHOULD</em> send the appropriate data from <var
                            data-type="PaymentRequest">request</var> to the
                        user-selected <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-handler-3">payment handler</a> in order to guide the user
                        through the payment process. This includes the various attributes
                        and other <a data-link-type="dfn|abstract-op"
                            href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                            slots</a> of <var data-type="PaymentRequest">request</var> (some <em
                            class="rfc2119">MAY</em> be excluded
                        for privacy reasons where appropriate).
                    </p>
                    <p>
                        Handling of multiple applicable modifiers in the
                        <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                            href="#dfn-serializedmodifierdata" class="internalDFN"
                            id="ref-for-dfn-serializedmodifierdata-3"><code>[[serializedModifierData]]</code></a> <a
                            data-link-type="dfn|abstract-op"
                            href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                            slot</a>
                        is <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-handler-4">payment handler</a> specific and beyond the scope of this
                        specification. Nevertheless, it is <em class="rfc2119">RECOMMENDED</em> that <a
                            href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-handler-5">payment
                            handlers</a> use a "last one wins" approach with items in the
                        <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                            href="#dfn-serializedmodifierdata" class="internalDFN"
                            id="ref-for-dfn-serializedmodifierdata-4"><code>[[serializedModifierData]]</code></a> list:
                        that is to
                        say, an item at the end of the list always takes precedence over
                        any item at the beginning of the list (see example below).
                    </p>
                    <aside class="example" id="example-handling-of-multiple-applicable-modifiers">
                        <div class="marker">
                            <a class="self-link" href="#example-handling-of-multiple-applicable-modifiers">Example<bdi>
                                    11</bdi></a><span class="example-title">: Handling of multiple applicable
                                modifiers</span>
                        </div>
                        <p>
                            This example demonstrates precedence order of
                            <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                                href="#dfn-serializedmodifierdata" class="internalDFN"
                                id="ref-for-dfn-serializedmodifierdata-5"><code>[[serializedModifierData]]</code></a>.
                            The first
                            modifier applies equally to all cards, irrespective of network.
                            The second modifier applies specifically to cards on the
                            "coolcard" network.
                        </p>
                        <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> details = {
  <span class="hljs-attr">total</span>: {
    <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
    <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"50.00"</span> },
  },
};
<span class="hljs-comment">// All cards incur a $3.00 processing fee.</span>
<span class="hljs-keyword">const</span> cardFee = {
  <span class="hljs-attr">label</span>: <span class="hljs-string">"Card processing fee"</span>,
  <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"3.00"</span> },
};

<span class="hljs-comment">// But coolcard incurs a $1.00 processing fee.</span>
<span class="hljs-keyword">const</span> coolCardFee = {
  <span class="hljs-attr">label</span>: <span class="hljs-string">"Coolcard processing fee"</span>,
  <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"1.00"</span> },
};

<span class="hljs-comment">// Modifiers apply when the user chooses to pay with</span>
<span class="hljs-comment">// a credit card.</span>
details.<span class="hljs-property">modifiers</span> = [
  <span class="hljs-comment">// Applies to all cards...</span>
  {
    <span class="hljs-attr">additionalDisplayItems</span>: [cardFee],
    <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/cardpay"</span>,
    <span class="hljs-attr">total</span>: {
      <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
      <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"53.00"</span> },
    },
    <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">supportedNetworks</span>: [], <span class="hljs-comment">// All networks</span>
    },
  },
  <span class="hljs-comment">// Applies only to cool cards...</span>
  {
    <span class="hljs-attr">additionalDisplayItems</span>: [coolCardFee],
    <span class="hljs-attr">supportedMethods</span>: <span class="hljs-string">"https://example.com/cardpay"</span>,
    <span class="hljs-attr">total</span>: {
      <span class="hljs-attr">label</span>: <span class="hljs-string">"Total due"</span>,
      <span class="hljs-attr">amount</span>: { <span class="hljs-attr">currency</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"51.00"</span> },
    },
    <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">supportedNetworks</span>: [<span class="hljs-string">"coolcard"</span>], <span class="hljs-comment">// coolcard network only</span>
    },
  },
];</code></pre>
                        <p>
                            If the modifiers array in the example above was to be reversed
                            (i.e., <code class="js">supportedNetworks: []</code> was to
                            come last in the modifiers list), then it would take precedence
                            over the "coolcard" modifier even though the coolcard modifier
                            matches cards more specifically. This is because "last one
                            wins".
                        </p>
                    </aside>
                    <p>
                        The <var data-type="Promise">acceptPromise</var> will later be resolved or rejected by either
                        the <a href="#dfn-user-accepts-the-payment-request-algorithm" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-user-accepts-the-payment-request-algorithm-2">user
                            accepts the payment request algorithm</a> or the
                        <a href="#dfn-user-aborts-the-payment-request" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-aborts-the-payment-request-2">user aborts the payment request
                            algorithm</a>, which are
                        triggered through interaction with the user interface.
                    </p>
                    <p data-tests="rejects_if_not_active.https.html">
                        If <var>document</var> stops being <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully
                            active</a> while the
                        user interface is being shown, or no longer is by the time this
                        step is reached, then:
                    </p>
                    <ol>
                        <li>Close down the user interface.
                        </li>
                        <li>Set <var data-type="PaymentRequest">request</var>'s <a
                                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-5">payment-relevant browsing
                                context</a>'s
                            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-6">payment request is showing</a> boolean to
                            false.
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for abort"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequest.abort() method of the PaymentRequest interface causes the user agent to end the payment request and to remove any user interface that might be shown."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/abort">PaymentRequest/abort</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="abort-method">
            <div class="header-wrapper">
                <h3 id="x3-4-abort-method"><bdi class="secno">3.4 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentrequest-abort" data-idl="operation"
                        data-title="abort()" data-dfn-for="PaymentRequest" data-type="Promise" data-lt="abort()"
                        data-local-lt="PaymentRequest.abort|PaymentRequest.abort()|abort" tabindex="0"
                        aria-haspopup="dialog"><code>abort()</code></dfn> method
                </h3><a class="self-link" href="#abort-method" aria-label="Permalink for Section 3.4"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-8">
                <div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>Note</span></div>
                <div class="">
                    <p>
                        The <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort"
                            class="internalDFN"
                            id="ref-for-dom-paymentrequest-abort-2"><code>abort</code></a><code>()</code> method is
                        called if a developer
                        wishes to tell the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-8">user agent</a> to abort the payment <var>request</var>
                        and to tear down any user interface that might be shown. The
                        <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort" class="internalDFN"
                            id="ref-for-dom-paymentrequest-abort-3"><code>abort</code></a><code>()</code> can only be
                        called after the
                        <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-11"><code>show</code></a><code>()</code> method has been
                        called (see
                        <a data-link-type="dfn|abstract-op" href="#dfn-state-0" class="internalDFN"
                            id="ref-for-dfn-state-0-1">states</a>) and before this instance's
                        <a data-link-type="attribute" data-lt="[[acceptPromise]]" href="#dfn-acceptpromise"
                            class="internalDFN" id="ref-for-dfn-acceptpromise-2"><code>[[acceptPromise]]</code></a> has
                        been resolved. For
                        example, developers might choose to do this if the goods they are
                        selling are only available for a limited amount of time. If the
                        user does not accept the payment request within the allowed time
                        period, then the request will be aborted.
                    </p>
                    <p>
                        A <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-9">user agent</a> might not always be able to abort a request.
                        For example, if the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-10">user agent</a> has delegated responsibility
                        for the request to another app. In this situation,
                        <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort" class="internalDFN"
                            id="ref-for-dom-paymentrequest-abort-4"><code>abort</code></a><code>()</code> will reject
                        the returned <a data-link-type="interface" data-lt="Promise"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>.
                    </p>
                    <p>
                        See also the algorithm when the <a href="#dfn-user-aborts-the-payment-request"
                            class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-aborts-the-payment-request-3">user aborts the payment
                            request</a>.
                    </p>
                </div>
            </div>
            <p data-tests="payment-request-abort-method.https.html">
                The <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort" class="internalDFN"
                    id="ref-for-dom-paymentrequest-abort-5"><code>abort</code></a><code>()</code> method <em
                    class="rfc2119">MUST</em> act as follows:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>.
                </li>
                <li>If <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-2"><code>[[response]]</code></a> is not null, and
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                        href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-3"><code>[[response]]</code></a>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-1"><code>[[retryPromise]]</code></a>
                    is not null, return <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected with</a> an
                    "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>If the value of <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-8"><code>[[state]]</code></a> is not
                    "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-2">interactive</a>" then return <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected
                        with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.
                </li>
                <li>Return <var data-type="Promise">promise</var> and perform the remaining steps <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
                        parallel</a>.
                </li>
                <li>Try to abort the current user interaction with the <a href="#dfn-payment-handler"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-handler-6">payment
                        handler</a> and close down any remaining user interface.
                </li>
                <li>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue a task</a> on
                    the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                        interaction task source</a> to
                    perform the following steps:
                    <ol>
                        <li>If it is not possible to abort the current user interaction,
                            then reject <var data-type="Promise">promise</var> with "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                            and abort these steps.
                        </li>
                        <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-9"><code>[[state]]</code></a> to
                            "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                id="ref-for-dfn-closed-5">closed</a>".
                        </li>
                        <li>Reject the promise
                            <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[acceptPromise]]" href="#dfn-acceptpromise" class="internalDFN"
                                id="ref-for-dfn-acceptpromise-3"><code>[[acceptPromise]]</code></a> with an
                            "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a
                                data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                        </li>
                        <li>Resolve <var data-type="Promise">promise</var> with undefined.
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for canMakePayment"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequest method canMakePayment() determines whether or not the request is configured in a way that is compatible with at least one payment method supported by the user agent."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/canMakePayment">PaymentRequest/canMakePayment</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>16+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="canmakepayment-method">
            <div class="header-wrapper">
                <h3 id="x3-5-canmakepayment-method"><bdi class="secno">3.5 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentrequest-canmakepayment"
                        data-idl="operation" data-title="canMakePayment()" data-dfn-for="PaymentRequest"
                        data-type="Promise" data-lt="canMakePayment()"
                        data-local-lt="PaymentRequest.canMakePayment|PaymentRequest.canMakePayment()|canMakePayment"
                        tabindex="0" aria-haspopup="dialog"><code>canMakePayment()</code></dfn> method
                </h3><a class="self-link" href="#canmakepayment-method" aria-label="Permalink for Section 3.5"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-9">
                <div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>Note</span><span
                        class="issue-label">: canMakePayment()</span></div>
                <div class="">
                    <p>
                        The <a data-link-type="idl" data-lt="canMakePayment()" href="#dom-paymentrequest-canmakepayment"
                            class="internalDFN"
                            id="ref-for-dom-paymentrequest-canmakepayment-2"><code>canMakePayment</code></a><code>()</code>
                        method can be used by the
                        developer to determine if the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-11">user agent</a> has support for one
                        of the desired <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-method-11">payment methods</a>. See
                        <a href="#canmakepayment-protections" data-matched-text="[[[#canmakepayment-protections]]]"
                            class="sec-ref"><bdi class="secno">19.8 </bdi>
                            <code>canMakePayment()</code> protections</a>.
                    </p>
                    <p>
                        A true result from <a data-link-type="idl" data-lt="canMakePayment()"
                            href="#dom-paymentrequest-canmakepayment" class="internalDFN"
                            id="ref-for-dom-paymentrequest-canmakepayment-3"><code>canMakePayment</code></a><code>()</code>
                        does not
                        imply that the user has a provisioned instrument ready for payment.
                    </p>
                </div>
            </div>
            <p data-tests="payment-request-canmakepayment-method.https.html">
                The <a data-link-type="idl" data-lt="canMakePayment()" href="#dom-paymentrequest-canmakepayment"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequest-canmakepayment-4"><code>canMakePayment</code></a><code>()</code>
                method <em class="rfc2119">MUST</em> run the <a href="#dfn-can-make-payment-algorithm"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-can-make-payment-algorithm-1">can
                    make payment algorithm</a>.
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="shippingaddress-attribute">
            <div class="header-wrapper">
                <h3 id="x3-6-shippingaddress-attribute"><bdi class="secno">3.6 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-shippingaddress"
                        data-idl="attribute" data-title="shippingAddress" data-dfn-for="PaymentRequest"
                        data-type="ContactAddress" data-lt="shippingAddress"
                        data-local-lt="PaymentRequest.shippingAddress" tabindex="0"
                        aria-haspopup="dialog"><code>shippingAddress</code></dfn> attribute
                </h3><a class="self-link" href="#shippingaddress-attribute" aria-label="Permalink for Section 3.6"></a>
            </div>

            <p data-tests="shipping-address-changed-manual.https.html">
                A <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-14"><code>PaymentRequest</code></a>'s <a data-link-type="idl"
                    href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingaddress-4"><code>shippingAddress</code></a> attribute
                is populated when the user provides a shipping address. It is null by
                default. When a user provides a shipping address, the <a href="#dfn-shipping-address-changed-algorithm"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-shipping-address-changed-algorithm-1">shipping
                    address changed algorithm</a> runs.
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="shippingtype-attribute">
            <div class="header-wrapper">
                <h3 id="x3-7-shippingtype-attribute"><bdi class="secno">3.7 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-shippingtype"
                        data-idl="attribute" data-title="shippingType" data-dfn-for="PaymentRequest"
                        data-type="PaymentShippingType" data-lt="shippingType"
                        data-local-lt="PaymentRequest.shippingType" tabindex="0"
                        aria-haspopup="dialog"><code>shippingType</code></dfn> attribute
                </h3><a class="self-link" href="#shippingtype-attribute" aria-label="Permalink for Section 3.7"></a>
            </div>

            <p data-tests="payment-request-shippingType-attribute.https.html">
                A <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-15"><code>PaymentRequest</code></a>'s <a data-link-type="idl"
                    href="#dom-paymentrequest-shippingtype" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingtype-4"><code>shippingType</code></a> attribute is
                the type of shipping used to fulfill the transaction. Its value is
                either a <a data-link-type="idl" data-lt="PaymentShippingType" href="#dom-paymentshippingtype"
                    class="internalDFN" id="ref-for-dom-paymentshippingtype-2"><code>PaymentShippingType</code></a> enum
                value, or null if none is
                provided by the developer during
                <a data-link-type="dfn|abstract-op" data-lt="PaymentRequest.PaymentRequest()"
                    href="#dfn-paymentrequest-paymentrequest" class="internalDFN"
                    id="ref-for-dfn-paymentrequest-paymentrequest-1"><code>construction</code></a> (see
                <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-4"><code>PaymentOptions</code></a>'s <a data-link-type="idl"
                    href="#dom-paymentoptions-shippingtype" class="internalDFN"
                    id="ref-for-dom-paymentoptions-shippingtype-2"><code>shippingType</code></a> member).
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="onshippingaddresschange-attribute">
            <div class="header-wrapper">
                <h3 id="x3-8-onshippingaddresschange-attribute"><bdi class="secno">3.8 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-onshippingaddresschange"
                        data-idl="attribute" data-title="onshippingaddresschange" data-dfn-for="PaymentRequest"
                        data-type="EventHandler" data-lt="onshippingaddresschange"
                        data-local-lt="PaymentRequest.onshippingaddresschange" tabindex="0"
                        aria-haspopup="dialog"><code>onshippingaddresschange</code></dfn> attribute
                </h3><a class="self-link" href="#onshippingaddresschange-attribute"
                    aria-label="Permalink for Section 3.8"></a>
            </div>

            <p
                data-tests="shipping-address-changed-manual.https.html, payment-request-onshippingaddresschange-attribute.https.html, algorithms-manual.https.html#shipping-address-changed-algo">
                A <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-16"><code>PaymentRequest</code></a>'s <a data-link-type="idl"
                    href="#dom-paymentrequest-onshippingaddresschange" class="internalDFN"
                    id="ref-for-dom-paymentrequest-onshippingaddresschange-2"><code>onshippingaddresschange</code></a>
                attribute is an <a data-link-type="typedef" data-lt="EventHandler"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                for a <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequestupdateevent-1"><code>PaymentRequestUpdateEvent</code></a>
                named <a href="#dfn-shippingaddresschange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-shippingaddresschange-1"><code>shippingaddresschange</code></a>.
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="shippingoption-attribute">
            <div class="header-wrapper">
                <h3 id="x3-9-shippingoption-attribute"><bdi class="secno">3.9 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-shippingoption"
                        data-idl="attribute" data-title="shippingOption" data-dfn-for="PaymentRequest"
                        data-type="DOMString" data-lt="shippingOption" data-local-lt="PaymentRequest.shippingOption"
                        tabindex="0" aria-haspopup="dialog"><code>shippingOption</code></dfn> attribute
                </h3><a class="self-link" href="#shippingoption-attribute" aria-label="Permalink for Section 3.9"></a>
            </div>

            <p
                data-tests="payment-request-shippingOption-attribute.https.html, change-shipping-option-manual.https.html">
                A <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-17"><code>PaymentRequest</code></a>'s <a data-link-type="idl"
                    href="#dom-paymentrequest-shippingoption" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingoption-4"><code>shippingOption</code></a> attribute is
                populated when the user chooses a shipping option. It is null by
                default. When a user chooses a shipping option, the <a href="#dfn-shipping-option-changed-algorithm"
                    class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-shipping-option-changed-algorithm-1">shipping
                    option changed algorithm</a> runs.
            </p>
        </section>
        <section data-dfn-for="PaymentRequest" id="onshippingoptionchange-attribute">
            <div class="header-wrapper">
                <h3 id="x3-10-onshippingoptionchange-attribute"><bdi class="secno">3.10 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-onshippingoptionchange"
                        data-idl="attribute" data-title="onshippingoptionchange" data-dfn-for="PaymentRequest"
                        data-type="EventHandler" data-lt="onshippingoptionchange"
                        data-local-lt="PaymentRequest.onshippingoptionchange" tabindex="0"
                        aria-haspopup="dialog"><code>onshippingoptionchange</code></dfn> attribute
                </h3><a class="self-link" href="#onshippingoptionchange-attribute"
                    aria-label="Permalink for Section 3.10"></a>
            </div>

            <p data-tests="payment-request-onshippingoptionchange-attribute.https.html">
                A <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-18"><code>PaymentRequest</code></a>'s <a data-link-type="idl"
                    href="#dom-paymentrequest-onshippingoptionchange" class="internalDFN"
                    id="ref-for-dom-paymentrequest-onshippingoptionchange-2"><code>onshippingoptionchange</code></a>
                attribute is an <a data-link-type="typedef" data-lt="EventHandler"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                for a <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequestupdateevent-2"><code>PaymentRequestUpdateEvent</code></a>
                named <a href="#dfn-shippingoptionchange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-shippingoptionchange-1"><code>shippingoptionchange</code></a>.
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for paymentmethodchange_event"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The paymentmethodchange event is delivered the Payment Request API to a PaymentRequest object when the user changes the payment method within a given payment handler."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/paymentmethodchange_event">PaymentRequest/paymentmethodchange_event</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>76+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>47+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequest" id="onpaymentmethodchange-attribute">
            <div class="header-wrapper">
                <h3 id="x3-11-onpaymentmethodchange-attribute"><bdi class="secno">3.11 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentrequest-onpaymentmethodchange"
                        data-idl="attribute" data-title="onpaymentmethodchange" data-dfn-for="PaymentRequest"
                        data-type="EventHandler" data-lt="onpaymentmethodchange"
                        data-local-lt="PaymentRequest.onpaymentmethodchange" tabindex="0"
                        aria-haspopup="dialog"><code>onpaymentmethodchange</code></dfn> attribute
                </h3><a class="self-link" href="#onpaymentmethodchange-attribute"
                    aria-label="Permalink for Section 3.11"></a>
            </div>

            <p>
                A <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-19"><code>PaymentRequest</code></a>'s <a data-link-type="idl"
                    href="#dom-paymentrequest-onpaymentmethodchange" class="internalDFN"
                    id="ref-for-dom-paymentrequest-onpaymentmethodchange-2"><code>onpaymentmethodchange</code></a>
                attribute is an <a data-link-type="typedef" data-lt="EventHandler"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
                for a <a data-link-type="idl" data-lt="PaymentMethodChangeEvent" href="#dom-paymentmethodchangeevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-1"><code>PaymentMethodChangeEvent</code></a>
                named "<a href="#dfn-paymentmethodchange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-paymentmethodchange-1"><code>paymentmethodchange</code></a>".
            </p>
        </section>
        <section id="internal-slots">
            <div class="header-wrapper">
                <h3 id="x3-12-internal-slots"><bdi class="secno">3.12 </bdi>
                    Internal Slots
                </h3><a class="self-link" href="#internal-slots" aria-label="Permalink for Section 3.12"></a>
            </div>

            <p>
                Instances of <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-20"><code>PaymentRequest</code></a> are created
                with the <a data-link-type="dfn|abstract-op"
                    href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                    slots</a> in the following table:
            </p>
            <table class="data" data-dfn-for="PaymentRequest">
                <tbody>
                    <tr>
                        <th>
                            Internal Slot
                        </th>
                        <th>
                            Description (<em>non-normative</em>)
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-idl="" data-dfn-for="PaymentRequest" data-dfn-type="attribute"
                                id="dfn-serializedmethoddata" tabindex="0"
                                aria-haspopup="dialog">[[serializedMethodData]]</dfn>
                        </td>
                        <td>
                            The <code>methodData</code> supplied to the constructor, but
                            represented as tuples containing supported methods and a string
                            or null for data (instead of the original object form).
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-for="PaymentRequest" data-idl="" data-dfn-type="attribute"
                                id="dfn-serializedmodifierdata" tabindex="0"
                                aria-haspopup="dialog">[[serializedModifierData]]</dfn>
                        </td>
                        <td>
                            A list containing the serialized string form of each
                            <a data-link-type="idl" href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                id="ref-for-dom-paymentdetailsmodifier-data-4"><code>data</code></a> member for each
                            corresponding
                            item in the sequence
                            <a data-link-type="attribute" data-lt="[[details]]" href="#dfn-details" class="internalDFN"
                                id="ref-for-dfn-details-3"><code>[[details]]</code></a>.<a data-link-type="idl"
                                href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-modifiers-4"><code>modifier</code></a>,
                            or null if no such member was present.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-for="PaymentRequest" data-idl="" data-dfn-type="attribute"
                                id="dfn-details" tabindex="0" aria-haspopup="dialog">[[details]]</dfn>
                        </td>
                        <td>
                            The current <a data-link-type="idl" data-lt="PaymentDetailsBase"
                                href="#dom-paymentdetailsbase" class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-1"><code>PaymentDetailsBase</code></a> for the
                            payment request
                            initially supplied to the constructor and then updated with calls
                            to <a data-link-type="idl" data-lt="updateWith()"
                                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-updatewith-1"><code>updateWith</code></a><code>()</code>.
                            Note that all
                            <a data-link-type="idl" href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                id="ref-for-dom-paymentdetailsmodifier-data-5"><code>data</code></a> members of
                            <a data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsmodifier-2"><code>PaymentDetailsModifier</code></a>
                            instances contained in the
                            <a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                id="ref-for-dom-paymentdetailsbase-modifiers-5"><code>modifiers</code></a> member will
                            be removed, as they
                            are instead stored in serialized form in the
                            <a data-link-type="attribute" data-lt="[[serializedModifierData]]"
                                href="#dfn-serializedmodifierdata" class="internalDFN"
                                id="ref-for-dfn-serializedmodifierdata-6"><code>[[serializedModifierData]]</code></a> <a
                                data-link-type="dfn|abstract-op"
                                href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                                slot</a>.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-export="" data-dfn-for="PaymentRequest" data-idl="" data-dfn-type="attribute"
                                id="dfn-options" tabindex="0" aria-haspopup="dialog">[[options]]</dfn>
                        </td>
                        <td>
                            The <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions"
                                class="internalDFN" id="ref-for-dom-paymentoptions-5"><code>PaymentOptions</code></a>
                            supplied to the constructor.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentRequest" data-noexport="" data-dfn-type="attribute"
                                id="dfn-state" tabindex="0" aria-haspopup="dialog">[[state]]</dfn>
                        </td>
                        <td>
                            <p>
                                The current <dfn data-dfn-for="PaymentRequest" data-export="" data-plurals="states"
                                    id="dfn-state-0" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">state</dfn>
                                of the payment request, which transitions from:
                            </p>
                            <dl>
                                <dt>
                                    "<dfn data-dfn-for="PaymentRequest" id="dfn-created" tabindex="0"
                                        aria-haspopup="dialog" data-dfn-type="dfn">created</dfn>"
                                </dt>
                                <dd>
                                    The payment request is constructed and has not been presented
                                    to the user.
                                </dd>
                                <dt>
                                    "<dfn data-dfn-for="PaymentRequest" id="dfn-interactive" tabindex="0"
                                        aria-haspopup="dialog" data-dfn-type="dfn">interactive</dfn>"
                                </dt>
                                <dd>
                                    The payment request is being presented to the user.
                                </dd>
                                <dt>
                                    "<dfn data-dfn-for="PaymentRequest" id="dfn-closed" tabindex="0"
                                        aria-haspopup="dialog" data-dfn-type="dfn">closed</dfn>"
                                </dt>
                                <dd>
                                    The payment request completed.
                                </dd>
                            </dl>
                            <p>
                                The <a data-link-type="dfn|abstract-op" href="#dfn-state-0" class="internalDFN"
                                    id="ref-for-dfn-state-0-2">state</a> transitions are illustrated in the
                                figure below:
                            </p>
                            <figure
                                id="fig-the-constructor-sets-the-initial-state-to-created-the-show-method-changes-the-state-to-interactive-from-there-the-abort-method-or-any-other-error-can-send-the-state-to-closed-similarly-the-user-accepts-the-payment-request-algorithm-and-user-aborts-the-payment-request-algorithm-will-change-the-state-to-closed">
                                <img alt="" src="images/state-transitions.svg" width="518" height="125">
                                <figcaption><a class="self-link"
                                        href="#fig-the-constructor-sets-the-initial-state-to-created-the-show-method-changes-the-state-to-interactive-from-there-the-abort-method-or-any-other-error-can-send-the-state-to-closed-similarly-the-user-accepts-the-payment-request-algorithm-and-user-aborts-the-payment-request-algorithm-will-change-the-state-to-closed">Figure
                                        <bdi class="figno">1</bdi></a> <span class="fig-title">
                                        The constructor sets the initial <a data-link-type="dfn|abstract-op"
                                            href="#dfn-state-0" class="internalDFN" id="ref-for-dfn-state-0-3">state</a>
                                        to
                                        "<a data-link-type="dfn|abstract-op" href="#dfn-created" class="internalDFN"
                                            id="ref-for-dfn-created-3">created</a>". The <a data-link-type="idl"
                                            data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                                            id="ref-for-dom-paymentrequest-show-12"><code>show</code></a><code>()</code>
                                        method changes the <a data-link-type="dfn|abstract-op" href="#dfn-state-0"
                                            class="internalDFN" id="ref-for-dfn-state-0-4">state</a> to
                                        "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                                            id="ref-for-dfn-interactive-3">interactive</a>". From there, the
                                        <a data-link-type="idl" data-lt="abort()" href="#dom-paymentrequest-abort"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentrequest-abort-6"><code>abort</code></a><code>()</code>
                                        method or any other error can send
                                        the <a data-link-type="dfn|abstract-op" href="#dfn-state-0" class="internalDFN"
                                            id="ref-for-dfn-state-0-5">state</a> to "<a data-link-type="dfn|abstract-op"
                                            href="#dfn-closed" class="internalDFN"
                                            id="ref-for-dfn-closed-6">closed</a>";
                                        similarly, the <a href="#dfn-user-accepts-the-payment-request-algorithm"
                                            class="internalDFN" data-link-type="dfn"
                                            id="ref-for-dfn-user-accepts-the-payment-request-algorithm-3">user accepts
                                            the payment request
                                            algorithm</a> and <a href="#dfn-user-aborts-the-payment-request"
                                            class="internalDFN" data-link-type="dfn"
                                            id="ref-for-dfn-user-aborts-the-payment-request-4">user aborts the payment
                                            request
                                            algorithm</a> will change the <a data-link-type="dfn|abstract-op"
                                            href="#dfn-state-0" class="internalDFN" id="ref-for-dfn-state-0-6">state</a>
                                        to
                                        "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                            id="ref-for-dfn-closed-7">closed</a>".
                                    </span></figcaption>
                            </figure>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentRequest" data-noexport="" data-dfn-type="attribute"
                                id="dfn-updating" tabindex="0" aria-haspopup="dialog">[[updating]]</dfn>
                        </td>
                        <td>
                            True if there is a pending
                            <a data-link-type="idl" data-lt="updateWith()"
                                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-updatewith-2"><code>updateWith</code></a><code>()</code>
                            call to update the
                            payment request and false otherwise.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentRequest" data-noexport="" data-dfn-type="attribute"
                                id="dfn-acceptpromise" tabindex="0" aria-haspopup="dialog">[[acceptPromise]]</dfn>
                        </td>
                        <td>
                            The pending <a data-link-type="interface" data-lt="Promise"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a> created
                            during <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show"
                                class="internalDFN"
                                id="ref-for-dom-paymentrequest-show-13"><code>show</code></a><code>()</code>
                            that will be resolved if the user accepts the payment request.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentRequest" data-noexport="" data-dfn-type="attribute"
                                id="dfn-response" tabindex="0" aria-haspopup="dialog">[[response]]</dfn>
                        </td>
                        <td>
                            Null, or the <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                                class="internalDFN" id="ref-for-dom-paymentresponse-5"><code>PaymentResponse</code></a>
                            instantiated by this
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-21"><code>PaymentRequest</code></a>.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-dfn-for="PaymentRequest" data-idl="" data-noexport="" data-dfn-type="attribute"
                                id="dfn-handler" tabindex="0" aria-haspopup="dialog">[[handler]]</dfn>
                        </td>
                        <td>
                            The <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-handler-7">Payment Handler</a> associated with this
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-22"><code>PaymentRequest</code></a>.
                            Initialized to <code>null</code>.
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </section>
    <section data-dfn-for="PaymentMethodData" id="paymentmethoddata-dictionary">
        <div class="header-wrapper">
            <h2 id="x4-paymentmethoddata-dictionary"><bdi class="secno">4. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentmethoddata" data-idl="dictionary"
                    data-title="PaymentMethodData" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentMethodData</code></dfn> dictionary
            </h2><a class="self-link" href="#paymentmethoddata-dictionary" aria-label="Permalink for Section 4."></a>
        </div>

        <pre class="idl def" id="webidl-1205695403"><span class="idlHeader"><a class="self-link" href="#webidl-1205695403">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentmethoddata" data-title="PaymentMethodData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentmethoddata" id="ref-for-dom-paymentmethoddata-7"><code>PaymentMethodData</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentmethoddata-supportedmethods" data-title="supportedMethods" data-dfn-for="PaymentMethodData">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethoddata-supportedmethods" id="ref-for-dom-paymentmethoddata-supportedmethods-7"><code>supportedMethods</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentmethoddata-data" data-title="data" data-dfn-for="PaymentMethodData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethoddata-data" id="ref-for-dom-paymentmethoddata-data-7"><code>data</code></a>;</span>
};</span></code></pre>
        <p>
            A <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                id="ref-for-dom-paymentmethoddata-8"><code>PaymentMethodData</code></a> dictionary is used to indicate a
            set of
            supported <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-payment-method-12">payment methods</a> and any associated <a href="#dfn-payment-method"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-payment-method-13">payment
                method</a> specific data for those methods.
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentmethoddata-supportedmethods"
                    data-idl="field" data-title="supportedMethods" data-dfn-for="PaymentMethodData"
                    data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>supportedMethods</code></dfn> member
            </dt>
            <dd>
                A <a data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method
                    identifier</a> for a <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-14">payment method</a> that
                the merchant web site accepts.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentmethoddata-data" data-idl="field"
                    data-title="data" data-dfn-for="PaymentMethodData" data-type="object" tabindex="0"
                    aria-haspopup="dialog"><code>data</code></dfn> member
            </dt>
            <dd>
                An object that provides optional information that might be needed by
                the supported payment methods. If supplied, it will be <a data-link-type="dfn"
                    data-lt="serialize a JavaScript value to a JSON string"
                    href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">serialized</a>.
            </dd>
        </dl>
        <div class="note" role="note" id="issue-container-generatedID-10">
            <div role="heading" class="note-title marker" id="h-note-10" aria-level="3"><span>Note</span></div>
            <p class="">
                The value of <code>supportedMethods</code> was changed from array to
                string, but the name was left as a plural to maintain compatibility
                with existing content on the Web.
            </p>
        </div>
    </section>
    <section data-dfn-for="PaymentCurrencyAmount" id="paymentcurrencyamount-dictionary">
        <div class="header-wrapper">
            <h2 id="x5-paymentcurrencyamount-dictionary"><bdi class="secno">5. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentcurrencyamount" data-idl="dictionary"
                    data-title="PaymentCurrencyAmount" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentCurrencyAmount</code></dfn> dictionary
            </h2><a class="self-link" href="#paymentcurrencyamount-dictionary"
                aria-label="Permalink for Section 5."></a>
        </div>

        <pre class="idl def" id="webidl-826862570"><span class="idlHeader"><a class="self-link" href="#webidl-826862570">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentcurrencyamount" data-title="PaymentCurrencyAmount">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentcurrencyamount" id="ref-for-dom-paymentcurrencyamount-1"><code>PaymentCurrencyAmount</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentcurrencyamount-currency" data-title="currency" data-dfn-for="PaymentCurrencyAmount">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcurrencyamount-currency" id="ref-for-dom-paymentcurrencyamount-currency-1"><code>currency</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentcurrencyamount-value" data-title="value" data-dfn-for="PaymentCurrencyAmount">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcurrencyamount-value" id="ref-for-dom-paymentcurrencyamount-value-1"><code>value</code></a>;</span>
};</span></code></pre>
        <p>
            A <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                class="internalDFN" id="ref-for-dom-paymentcurrencyamount-2"><code>PaymentCurrencyAmount</code></a>
            dictionary is used to supply monetary
            amounts.
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentcurrencyamount-currency" data-idl="field"
                    data-title="currency" data-dfn-for="PaymentCurrencyAmount" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>currency</code></dfn> member
            </dt>
            <dd>
                <p>
                    An [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso4217"
                            title="Currency codes - ISO 4217">ISO4217</a></cite>] <a
                        href="https://tc39.es/ecma402/#sec-iswellformedcurrencycode">well-formed</a> 3-letter
                    alphabetic code (i.e., the numeric codes are not supported). Their
                    canonical form is upper case. However, the set of combinations of
                    currency code for which localized currency symbols are available is
                    implementation dependent.
                </p>
                <p>
                    When displaying a monetary value, it is <em class="rfc2119">RECOMMENDED</em> that user
                    agents display the currency code, but it's <em class="rfc2119">OPTIONAL</em> for user agents
                    to display a currency symbol. This is because currency symbols can
                    be ambiguous due to use across a number of different currencies
                    (e.g., "$" could mean any of USD, AUD, NZD, CAD, and so on.).
                </p>
                <p>
                    User agents <em class="rfc2119">MAY</em> format the display of the
                    <a data-link-type="idl" href="#dom-paymentcurrencyamount-currency" class="internalDFN"
                        id="ref-for-dom-paymentcurrencyamount-currency-2"><code>currency</code></a> member to adhere to
                    OS
                    conventions (e.g., for localization purposes).
                </p>
                <div class="note" role="note" id="issue-container-generatedID-11">
                    <div role="heading" class="note-title marker" id="h-note-11" aria-level="3"><span>Note</span><span
                            class="issue-label">: Digital currencies and ISO 4217 currency codes</span></div>
                    <div class="">
                        <p>
                            User agents implementing this specification enforce [<cite><a class="bibref"
                                    data-link-type="biblio" href="#bib-iso4217"
                                    title="Currency codes - ISO 4217">ISO4217</a></cite>]'s
                            3-letter codes format via ECMAScript’s <a
                                href="https://tc39.es/ecma402/#sec-iswellformedcurrencycode">isWellFormedCurrencyCode</a>
                            abstract operation, which is invoked as part of the <a
                                href="#dfn-check-and-canonicalize-amount" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-check-and-canonicalize-amount-4">check and
                                canonicalize amount</a> algorithm. When a code does not adhere to
                            the [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso4217"
                                    title="Currency codes - ISO 4217">ISO4217</a></cite>] defined format, a <a
                                data-link-type="exception" data-lt="RangeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                            is thrown.
                        </p>
                        <p>
                            Current implementations will therefore allow the use of
                            well-formed currency codes that are not part of the official
                            [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso4217"
                                    title="Currency codes - ISO 4217">ISO4217</a></cite>] list (e.g., XBT, XRP, etc.).
                            If the provided code is
                            a currency that the browser knows how to display, then an
                            implementation will generally display the appropriate currency
                            symbol in the user interface (e.g., "USD" is shown as U+0024
                            Dollar Sign ($), "GBP" is shown as U+00A3 Pound Sign (£), "PLN"
                            is shown as U+007A U+0142 Złoty (zł), and the non-standard "XBT"
                            could be shown as U+0243 Latin Capital Letter B with Stroke (Ƀ)).
                        </p>
                        <p>
                            Efforts are underway at ISO to account for digital currencies,
                            which may result in an update to the [<cite><a class="bibref" data-link-type="biblio"
                                    href="#bib-iso4217" title="Currency codes - ISO 4217">ISO4217</a></cite>] registry
                            or an
                            entirely new registry. The community expects this will resolve
                            ambiguities that have crept in through the use of non-standard
                            3-letter codes; for example, does "BTC" refer to Bitcoin or to a
                            future Bhutan currency? At the time of publication, it remains
                            unclear what form this evolution will take, or even the time
                            frame in which the work will be completed. The <abbr
                                title="World Wide Web Consortium">W3C</abbr> Web Payments
                            Working Group is liaising with ISO so that, in the future,
                            revisions to this specification remain compatible with relevant
                            ISO registries.
                        </p>
                    </div>
                </div>
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentcurrencyamount-value" data-idl="field"
                    data-title="value" data-dfn-for="PaymentCurrencyAmount" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>value</code></dfn> member
            </dt>
            <dd>
                A <a href="#dfn-valid-decimal-monetary-value" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-valid-decimal-monetary-value-1">valid decimal monetary value</a> containing a
                monetary amount.
            </dd>
        </dl>
        <div class="example" id="example-how-to-represent-1-234-omani-rials">
            <div class="marker">
                <a class="self-link" href="#example-how-to-represent-1-234-omani-rials">Example<bdi> 12</bdi></a><span
                    class="example-title">: How to represent 1.234 Omani rials</span>
            </div>
            <pre aria-busy="false"><code class="hljs js">{
   <span class="hljs-string">"currency"</span>: <span class="hljs-string">"OMR"</span>,
   <span class="hljs-string">"value"</span>: <span class="hljs-string">"1.234"</span>
}</code></pre>
        </div>
        <section id="validity-checkers">
            <div class="header-wrapper">
                <h3 id="x5-1-validity-checkers"><bdi class="secno">5.1 </bdi>
                    Validity checkers
                </h3><a class="self-link" href="#validity-checkers" aria-label="Permalink for Section 5.1"></a>
            </div>

            <p>
                A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string">JavaScript string</a> is a <dfn
                    id="dfn-valid-decimal-monetary-value" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">valid
                    decimal monetary value</dfn>
                if it consists of the following <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#code-point">code points</a> in the given order:
            </p>
            <ol>
                <li>Optionally, a single U+002D (-), to indicate that the amount is
                    negative.
                </li>
                <li>One or more <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point">code points</a>
                    in the range U+0030 (0) to U+0039
                    (9).
                </li>
                <li>Optionally, a single U+002E (.) followed by one or more <a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#code-point">code points</a> in the range U+0030 (0) to
                    U+0039 (9).
                </li>
            </ol>
            <div class="note" role="note" id="issue-container-generatedID-12">
                <div role="heading" class="note-title marker" id="h-note-12" aria-level="4"><span>Note</span></div>
                <div class="">
                    The following regular expression is an implementation of the above
                    definition.
                    <pre class="hljs" aria-busy="false"><code class="hljs">^-?[0-9]+(\.[0-9]+)?$</code></pre>
                </div>
            </div>
            <p>
                To <dfn id="dfn-check-and-canonicalize-amount" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">check and canonicalize amount</dfn> given a
                <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                    class="internalDFN" id="ref-for-dom-paymentcurrencyamount-3"><code>PaymentCurrencyAmount</code></a>
                <var>amount</var>, run the following steps:
            </p>
            <ol>
                <li>If the result of <a
                        href="https://tc39.es/ecma402/#sec-iswellformedcurrencycode">IsWellFormedCurrencyCode</a>(<var>amount</var>.<a
                        data-link-type="idl" href="#dom-paymentcurrencyamount-currency" class="internalDFN"
                        id="ref-for-dom-paymentcurrencyamount-currency-3"><code>currency</code></a>)
                    is false, then throw a <a data-link-type="exception" data-lt="RangeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                    exception, optionally informing
                    the developer that the currency is invalid.
                </li>
                <li>If <var>amount</var>.<a data-link-type="idl" href="#dom-paymentcurrencyamount-value"
                        class="internalDFN" id="ref-for-dom-paymentcurrencyamount-value-2"><code>value</code></a> is not
                    a <a href="#dfn-valid-decimal-monetary-value" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-valid-decimal-monetary-value-2">valid
                        decimal monetary value</a>, throw a <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>,
                    optionally
                    informing the developer that the currency is invalid.
                </li>
                <li>Set <var>amount</var>.<a data-link-type="idl" href="#dom-paymentcurrencyamount-currency"
                        class="internalDFN" id="ref-for-dom-paymentcurrencyamount-currency-4"><code>currency</code></a>
                    to the result of
                    <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-uppercase">ASCII uppercase</a>
                    <var>amount</var>.<a data-link-type="idl" href="#dom-paymentcurrencyamount-currency"
                        class="internalDFN" id="ref-for-dom-paymentcurrencyamount-currency-5"><code>currency</code></a>.
                </li>
            </ol>
            <p>
                To <dfn id="dfn-check-and-canonicalize-total-amount" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">check and canonicalize total amount</dfn> given a
                <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                    class="internalDFN" id="ref-for-dom-paymentcurrencyamount-4"><code>PaymentCurrencyAmount</code></a>
                <var data-type="PaymentCurrencyAmount">amount</var>, run the
                following steps:
            </p>
            <ol>
                <li>
                    <a href="#dfn-check-and-canonicalize-amount" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-check-and-canonicalize-amount-5">Check and canonicalize amount</a> <var
                        data-type="PaymentCurrencyAmount">amount</var>. Rethrow any
                    exceptions.
                </li>
                <li>If the first <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point">code point</a>
                    of
                    <var data-type="PaymentCurrencyAmount">amount</var>.<a data-link-type="idl"
                        href="#dom-paymentcurrencyamount-value" class="internalDFN"
                        id="ref-for-dom-paymentcurrencyamount-value-3"><code>value</code></a> is U+002D (-), then throw
                    a
                    <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                    optionally informing the developer that a total's value
                    can't be a negative number.
                </li>
            </ol>
            <div class="note" role="note" id="issue-container-generatedID-13">
                <div role="heading" class="note-title marker" id="h-note-13" aria-level="4"><span>Note</span><span
                        class="issue-label">: No alteration of values</span></div>
                <aside class="">
                    <p>
                        The algorithm does not alter or canonicalize the
                        <var data-type="PaymentCurrencyAmount">amount</var>.<a data-link-type="idl"
                            href="#dom-paymentcurrencyamount-value" class="internalDFN"
                            id="ref-for-dom-paymentcurrencyamount-value-4"><code>value</code></a>. For example, a user
                        agent
                        will not change "55" into "55.00". Payment handlers need to be
                        prepared to deal with such values.
                    </p>
                </aside>
            </div>
        </section>
    </section>
    <section id="payment-details-dictionaries">
        <div class="header-wrapper">
            <h2 id="x6-payment-details-dictionaries"><bdi class="secno">6. </bdi>
                Payment details dictionaries
            </h2><a class="self-link" href="#payment-details-dictionaries" aria-label="Permalink for Section 6."></a>
        </div>

        <section data-dfn-for="PaymentDetailsBase" id="paymentdetailsbase-dictionary">
            <div class="header-wrapper">
                <h3 id="x6-1-paymentdetailsbase-dictionary"><bdi class="secno">6.1 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentdetailsbase" data-idl="dictionary"
                        data-title="PaymentDetailsBase" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentDetailsBase</code></dfn> dictionary
                </h3><a class="self-link" href="#paymentdetailsbase-dictionary"
                    aria-label="Permalink for Section 6.1"></a>
            </div>

            <pre class="idl def" id="webidl-914982787"><span class="idlHeader"><a class="self-link" href="#webidl-914982787">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentdetailsbase" data-title="PaymentDetailsBase">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsbase" id="ref-for-dom-paymentdetailsbase-2"><code>PaymentDetailsBase</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentdetailsbase-displayitems" data-title="displayItems" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-1"><code>PaymentItem</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-displayitems" id="ref-for-dom-paymentdetailsbase-displayitems-3"><code>displayItems</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsbase-shippingoptions" data-title="shippingOptions" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentshippingoption" class="internalDFN" id="ref-for-dom-paymentshippingoption-2"><code>PaymentShippingOption</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-shippingoptions" id="ref-for-dom-paymentdetailsbase-shippingoptions-4"><code>shippingOptions</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsbase-modifiers" data-title="modifiers" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsmodifier" class="internalDFN" id="ref-for-dom-paymentdetailsmodifier-3"><code>PaymentDetailsModifier</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-modifiers" id="ref-for-dom-paymentdetailsbase-modifiers-6"><code>modifiers</code></a>;</span>
};</span></code></pre>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsbase-displayitems"
                        data-idl="field" data-title="displayItems" data-dfn-for="PaymentDetailsBase"
                        data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>displayItems</code></dfn> member
                </dt>
                <dd>
                    A sequence of <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem"
                        class="internalDFN" id="ref-for-dom-paymentitem-2"><code>PaymentItem</code></a> dictionaries
                    contains line items for
                    the payment request that the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-12">user agent</a> <em class="rfc2119">MAY</em> display.
                    <div class="note" role="note" id="issue-container-generatedID-14">
                        <div role="heading" class="note-title marker" id="h-note-14" aria-level="4"><span>Note</span>
                        </div>
                        <aside class="">
                            It is the developer's responsibility, when generating or updating
                            a <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-23"><code>PaymentRequest</code></a>,
                            to verify that the
                            <a data-link-type="idl" href="#dom-paymentdetailsinit-total" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-total-2"><code>total</code></a> amount is the sum of
                            these items.
                        </aside>
                    </div>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsbase-shippingoptions"
                        data-idl="field" data-title="shippingOptions" data-dfn-for="PaymentDetailsBase"
                        data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>shippingOptions</code></dfn>
                    member
                </dt>
                <dd>
                    <p>
                        A sequence containing the different shipping options for the user
                        to choose from.
                    </p>
                    <p data-tests="change-shipping-option-select-last-manual.https.html">
                        If an item in the sequence has the
                        <a data-link-type="idl" href="#dom-paymentshippingoption-selected" class="internalDFN"
                            id="ref-for-dom-paymentshippingoption-selected-2"><code>selected</code></a> member set to
                        true, then this
                        is the shipping option that will be used by default and
                        <a data-link-type="idl" href="#dom-paymentrequest-shippingoption" class="internalDFN"
                            id="ref-for-dom-paymentrequest-shippingoption-5"><code>shippingOption</code></a> will be set
                        to the
                        <a data-link-type="idl" href="#dom-paymentshippingoption-id" class="internalDFN"
                            id="ref-for-dom-paymentshippingoption-id-4"><code>id</code></a> of this option without
                        running the
                        <a href="#dfn-shipping-option-changed-algorithm" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-shipping-option-changed-algorithm-2">shipping option changed algorithm</a>.
                        If more than one item
                        in the sequence has <a data-link-type="idl" href="#dom-paymentshippingoption-selected"
                            class="internalDFN"
                            id="ref-for-dom-paymentshippingoption-selected-3"><code>selected</code></a> set to
                        true, then the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agent-13">user agent</a> selects the last one in the
                        sequence.
                    </p>
                    <p>
                        The <a data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                            id="ref-for-dom-paymentdetailsbase-shippingoptions-5"><code>shippingOptions</code></a>
                        member is only used if
                        the <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                            class="internalDFN" id="ref-for-dom-paymentrequest-24"><code>PaymentRequest</code></a> was
                        constructed with <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions"
                            class="internalDFN" id="ref-for-dom-paymentoptions-6"><code>PaymentOptions</code></a>
                        and <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                            id="ref-for-dom-paymentoptions-requestshipping-4"><code>requestShipping</code></a> set to
                        true.
                    </p>
                    <div class="note" role="note" id="issue-container-generatedID-15">
                        <div role="heading" class="note-title marker" id="h-note-15" aria-level="4"><span>Note</span>
                        </div>
                        <aside class="">
                            If the sequence has an item with the
                            <a data-link-type="idl" href="#dom-paymentshippingoption-selected" class="internalDFN"
                                id="ref-for-dom-paymentshippingoption-selected-4"><code>selected</code></a> member set
                            to true, then
                            authors are responsible for ensuring that the
                            <a data-link-type="idl" href="#dom-paymentdetailsinit-total" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-total-3"><code>total</code></a> member includes the
                            cost of the
                            shipping option. This is because no <a href="#dfn-shippingoptionchange" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-shippingoptionchange-2"><code>shippingoptionchange</code></a>
                            event will be fired for this option unless the user selects an
                            alternative option first.
                        </aside>
                    </div>
                </dd>
                <dt>
                    <dfn data-plurals="modifier" data-export="" data-dfn-type="dict-member"
                        id="dom-paymentdetailsbase-modifiers" data-idl="field" data-title="modifiers"
                        data-dfn-for="PaymentDetailsBase" data-type="sequence" tabindex="0"
                        aria-haspopup="dialog"><code>modifiers</code></dfn> member
                </dt>
                <dd>
                    A sequence of <a data-link-type="idl" data-lt="PaymentDetailsModifier"
                        href="#dom-paymentdetailsmodifier" class="internalDFN"
                        id="ref-for-dom-paymentdetailsmodifier-4"><code>PaymentDetailsModifier</code></a> dictionaries
                    that contains
                    modifiers for particular payment method identifiers. For example,
                    it allows you to adjust the total amount based on payment method.
                </dd>
            </dl>
        </section>
        <section data-dfn-for="PaymentDetailsInit" id="paymentdetailsinit-dictionary">
            <div class="header-wrapper">
                <h3 id="x6-2-paymentdetailsinit-dictionary"><bdi class="secno">6.2 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentdetailsinit" data-idl="dictionary"
                        data-title="PaymentDetailsInit" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentDetailsInit</code></dfn> dictionary
                </h3><a class="self-link" href="#paymentdetailsinit-dictionary"
                    aria-label="Permalink for Section 6.2"></a>
            </div>

            <pre class="idl def" id="webidl-47162060"><span class="idlHeader"><a class="self-link" href="#webidl-47162060">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentdetailsinit" data-title="PaymentDetailsInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsinit" id="ref-for-dom-paymentdetailsinit-4"><code>PaymentDetailsInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentdetailsbase" class="internalDFN" id="ref-for-dom-paymentdetailsbase-3"><code>PaymentDetailsBase</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-paymentdetailsinit-id" data-title="id" data-dfn-for="PaymentDetailsInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsinit-id" id="ref-for-dom-paymentdetailsinit-id-5"><code>id</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsinit-total" data-title="total" data-dfn-for="PaymentDetailsInit">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-3"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsinit-total" id="ref-for-dom-paymentdetailsinit-total-4"><code>total</code></a>;</span>
};</span></code></pre>
            <div class="note" role="note" id="issue-container-generatedID-16">
                <div role="heading" class="note-title marker" id="h-note-16" aria-level="4"><span>Note</span></div>
                <aside class="">
                    The <a href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-paymentdetailsinit-5"><code>PaymentDetailsInit</code></a> dictionary is used in
                    the construction
                    of the payment request.
                </aside>
            </div>
            <p>
                In addition to the members inherited from the <a data-link-type="idl" data-lt="PaymentDetailsBase"
                    href="#dom-paymentdetailsbase" class="internalDFN"
                    id="ref-for-dom-paymentdetailsbase-4"><code>PaymentDetailsBase</code></a>
                dictionary, the following members are part of the
                <a href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentdetailsinit-6"><code>PaymentDetailsInit</code></a> dictionary:
            </p>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsinit-id" data-idl="field"
                        data-title="id" data-dfn-for="PaymentDetailsInit" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>id</code></dfn> member
                </dt>
                <dd>
                    A free-form identifier for this payment request.
                    <div class="note" role="note" id="issue-container-generatedID-17">
                        <div role="heading" class="note-title marker" id="h-note-17" aria-level="4"><span>Note</span>
                        </div>
                        <aside class="">
                            If an <a data-link-type="idl" href="#dom-paymentdetailsinit-id" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-id-6"><code>id</code></a> member is not present, then
                            the
                            <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-agent-14">user agent</a> will generate a unique identifier for the
                            payment request during
                            <a data-link-type="dfn|abstract-op" data-lt="PaymentRequest.PaymentRequest()"
                                href="#dfn-paymentrequest-paymentrequest" class="internalDFN"
                                id="ref-for-dfn-paymentrequest-paymentrequest-2"><code>construction</code></a>
                        </aside>
                    </div>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsinit-total" data-idl="field"
                        data-title="total" data-dfn-for="PaymentDetailsInit" data-type="PaymentItem" tabindex="0"
                        aria-haspopup="dialog"><code>total</code></dfn> member
                </dt>
                <dd>
                    A <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                        id="ref-for-dom-paymentitem-4"><code>PaymentItem</code></a> containing a non-negative total
                    amount for the
                    payment request.
                    <div class="note" role="note" id="issue-container-generatedID-18">
                        <div role="heading" class="note-title marker" id="h-note-18" aria-level="4"><span>Note</span>
                        </div>
                        <aside class="">
                            Algorithms in this specification that accept a
                            <a data-link-type="idl" data-lt="PaymentDetailsInit" href="#dom-paymentdetailsinit"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-7"><code>PaymentDetailsInit</code></a> dictionary
                            will throw if the
                            <a data-link-type="idl" href="#dom-paymentdetailsinit-total" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-total-5"><code>total</code></a>.<a
                                data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                id="ref-for-dom-paymentitem-amount-6"><code>amount</code></a>.<a data-link-type="idl"
                                href="#dom-paymentcurrencyamount-value" class="internalDFN"
                                id="ref-for-dom-paymentcurrencyamount-value-5"><code>value</code></a>
                            is a negative number.
                        </aside>
                    </div>
                </dd>
            </dl>
        </section>
        <section data-dfn-for="PaymentDetailsUpdate" id="paymentdetailsupdate-dictionary">
            <div class="header-wrapper">
                <h3 id="x6-3-paymentdetailsupdate-dictionary"><bdi class="secno">6.3 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentdetailsupdate" data-idl="dictionary"
                        data-title="PaymentDetailsUpdate" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentDetailsUpdate</code></dfn> dictionary
                </h3><a class="self-link" href="#paymentdetailsupdate-dictionary"
                    aria-label="Permalink for Section 6.3"></a>
            </div>

            <pre class="idl def" id="webidl-505108935"><span class="idlHeader"><a class="self-link" href="#webidl-505108935">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentdetailsupdate" data-title="PaymentDetailsUpdate">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsupdate" id="ref-for-dom-paymentdetailsupdate-3"><code>PaymentDetailsUpdate</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentdetailsbase" class="internalDFN" id="ref-for-dom-paymentdetailsbase-5"><code>PaymentDetailsBase</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-error" data-title="error" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-error" id="ref-for-dom-paymentdetailsupdate-error-1"><code>error</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-total" data-title="total" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-5"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-total" id="ref-for-dom-paymentdetailsupdate-total-1"><code>total</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-shippingaddresserrors" data-title="shippingAddressErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-addresserrors" class="internalDFN" id="ref-for-dom-addresserrors-2"><code>AddressErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-shippingaddresserrors" id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-3"><code>shippingAddressErrors</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-payererrors" data-title="payerErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-payererrors" class="internalDFN" id="ref-for-dom-payererrors-1"><code>PayerErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-payererrors" id="ref-for-dom-paymentdetailsupdate-payererrors-1"><code>payerErrors</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsupdate-paymentmethoderrors" data-title="paymentMethodErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-paymentmethoderrors" id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-1"><code>paymentMethodErrors</code></a>;</span>
};</span></code></pre>
            <p>
                The <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                    class="internalDFN" id="ref-for-dom-paymentdetailsupdate-4"><code>PaymentDetailsUpdate</code></a>
                dictionary is used to update the payment
                request using <a data-link-type="idl" data-lt="updateWith()"
                    href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                    id="ref-for-dom-paymentrequestupdateevent-updatewith-3"><code>updateWith</code></a><code>()</code>.
            </p>
            <p>
                In addition to the members inherited from the <a data-link-type="idl" data-lt="PaymentDetailsBase"
                    href="#dom-paymentdetailsbase" class="internalDFN"
                    id="ref-for-dom-paymentdetailsbase-6"><code>PaymentDetailsBase</code></a>
                dictionary, the following members are part of the
                <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                    class="internalDFN" id="ref-for-dom-paymentdetailsupdate-5"><code>PaymentDetailsUpdate</code></a>
                dictionary:
            </p>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-error" data-idl="field"
                        data-title="error" data-dfn-for="PaymentDetailsUpdate" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>error</code></dfn> member
                </dt>
                <dd>
                    A human-readable string that explains why goods cannot be shipped
                    to the chosen shipping address, or any other reason why no shipping
                    options are available. When the payment request is updated using
                    <a data-link-type="idl" data-lt="updateWith()" href="#dom-paymentrequestupdateevent-updatewith"
                        class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-updatewith-4"><code>updateWith</code></a><code>()</code>,
                    the
                    <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                        class="internalDFN"
                        id="ref-for-dom-paymentdetailsupdate-6"><code>PaymentDetailsUpdate</code></a> can contain a
                    message in the
                    <a data-link-type="idl" href="#dom-paymentdetailsupdate-error" class="internalDFN"
                        id="ref-for-dom-paymentdetailsupdate-error-2"><code>error</code></a> member that will be
                    displayed to the
                    user if the <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                        class="internalDFN"
                        id="ref-for-dom-paymentdetailsupdate-7"><code>PaymentDetailsUpdate</code></a> indicates that
                    there are no
                    valid <a data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                        id="ref-for-dom-paymentdetailsbase-shippingoptions-6"><code>shippingOptions</code></a> (and the
                    <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-25"><code>PaymentRequest</code></a> was constructed with the
                    <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-5"><code>requestShipping</code></a> option set to
                    true).
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-total" data-idl="field"
                        data-title="total" data-dfn-for="PaymentDetailsUpdate" data-type="PaymentItem" tabindex="0"
                        aria-haspopup="dialog"><code>total</code></dfn> member
                </dt>
                <dd>
                    A <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                        id="ref-for-dom-paymentitem-6"><code>PaymentItem</code></a> containing a non-negative <a
                        data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                        id="ref-for-dom-paymentitem-amount-7"><code>amount</code></a>.
                    <div class="note" role="note" id="issue-container-generatedID-19">
                        <div role="heading" class="note-title marker" id="h-note-19" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            Algorithms in this specification that accept a
                            <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-8"><code>PaymentDetailsUpdate</code></a> dictionary
                            will throw if the
                            <a data-link-type="idl" href="#dom-paymentdetailsupdate-total" class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-total-2"><code>total</code></a>.<a
                                data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                id="ref-for-dom-paymentitem-amount-8"><code>amount</code></a>.<a data-link-type="idl"
                                href="#dom-paymentcurrencyamount-value" class="internalDFN"
                                id="ref-for-dom-paymentcurrencyamount-value-6"><code>value</code></a>
                            is a negative number.
                        </p>
                    </div>
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-shippingaddresserrors"
                        data-idl="field" data-title="shippingAddressErrors" data-dfn-for="PaymentDetailsUpdate"
                        data-type="AddressErrors" tabindex="0"
                        aria-haspopup="dialog"><code>shippingAddressErrors</code></dfn> member
                </dt>
                <dd>
                    Represents validation errors with the shipping address that is
                    associated with the <a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#potential-event-target">potential event target</a>.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-payererrors"
                        data-idl="field" data-title="payerErrors" data-dfn-for="PaymentDetailsUpdate"
                        data-type="PayerErrors" tabindex="0" aria-haspopup="dialog"><code>payerErrors</code></dfn>
                    member
                </dt>
                <dd>
                    Validation errors related to the <a href="#dfn-payer-details" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-payer-details-1">payer details</a>.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsupdate-paymentmethoderrors"
                        data-idl="field" data-title="paymentMethodErrors" data-dfn-for="PaymentDetailsUpdate"
                        data-type="object" tabindex="0" aria-haspopup="dialog"><code>paymentMethodErrors</code></dfn>
                    member
                </dt>
                <dd>
                    <p>
                        <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-payment-method-15">Payment method</a> specific errors.
                    </p>
                </dd>
            </dl>
        </section>
    </section>
    <section data-dfn-for="PaymentDetailsModifier" id="paymentdetailsmodifier-dictionary">
        <div class="header-wrapper">
            <h2 id="x7-paymentdetailsmodifier-dictionary"><bdi class="secno">7. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentdetailsmodifier" data-idl="dictionary"
                    data-title="PaymentDetailsModifier" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentDetailsModifier</code></dfn> dictionary
            </h2><a class="self-link" href="#paymentdetailsmodifier-dictionary"
                aria-label="Permalink for Section 7."></a>
        </div>

        <pre class="idl def" id="webidl-1242509167"><span class="idlHeader"><a class="self-link" href="#webidl-1242509167">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentdetailsmodifier" data-title="PaymentDetailsModifier">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsmodifier" id="ref-for-dom-paymentdetailsmodifier-5"><code>PaymentDetailsModifier</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentdetailsmodifier-supportedmethods" data-title="supportedMethods" data-dfn-for="PaymentDetailsModifier">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-supportedmethods" id="ref-for-dom-paymentdetailsmodifier-supportedmethods-2"><code>supportedMethods</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsmodifier-total" data-title="total" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-7"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-total" id="ref-for-dom-paymentdetailsmodifier-total-3"><code>total</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsmodifier-additionaldisplayitems" data-title="additionalDisplayItems" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-8"><code>PaymentItem</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-additionaldisplayitems" id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-3"><code>additionalDisplayItems</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentdetailsmodifier-data" data-title="data" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-data" id="ref-for-dom-paymentdetailsmodifier-data-6"><code>data</code></a>;</span>
};</span></code></pre>
        <p>
            The <a data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                class="internalDFN" id="ref-for-dom-paymentdetailsmodifier-6"><code>PaymentDetailsModifier</code></a>
            dictionary provides details that modify
            the <a data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase" class="internalDFN"
                id="ref-for-dom-paymentdetailsbase-7"><code>PaymentDetailsBase</code></a> based on a <a
                data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method
                identifier</a>.
            It contains the following members:
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsmodifier-supportedmethods"
                    data-idl="field" data-title="supportedMethods" data-dfn-for="PaymentDetailsModifier"
                    data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>supportedMethods</code></dfn> member
            </dt>
            <dd>
                A <a data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method
                    identifier</a>. The members of the
                <a data-link-type="idl" data-lt="PaymentDetailsModifier" href="#dom-paymentdetailsmodifier"
                    class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-7"><code>PaymentDetailsModifier</code></a> only apply if the
                user selects this
                <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-16">payment method</a>.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsmodifier-total" data-idl="field"
                    data-title="total" data-dfn-for="PaymentDetailsModifier" data-type="PaymentItem" tabindex="0"
                    aria-haspopup="dialog"><code>total</code></dfn> member
            </dt>
            <dd>
                A <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                    id="ref-for-dom-paymentitem-9"><code>PaymentItem</code></a> value that overrides the
                <a data-link-type="idl" href="#dom-paymentdetailsinit-total" class="internalDFN"
                    id="ref-for-dom-paymentdetailsinit-total-6"><code>total</code></a> member in the <a
                    href="#dom-paymentdetailsinit" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-paymentdetailsinit-8"><code>PaymentDetailsInit</code></a>
                dictionary for the <a data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method identifiers</a> of the
                <a data-link-type="idl" href="#dom-paymentdetailsmodifier-supportedmethods" class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-supportedmethods-3"><code>supportedMethods</code></a> member.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsmodifier-additionaldisplayitems"
                    data-idl="field" data-title="additionalDisplayItems" data-dfn-for="PaymentDetailsModifier"
                    data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>additionalDisplayItems</code></dfn>
                member
            </dt>
            <dd>
                A sequence of <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem" class="internalDFN"
                    id="ref-for-dom-paymentitem-10"><code>PaymentItem</code></a> dictionaries provides additional
                display items that are appended to the
                <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                    id="ref-for-dom-paymentdetailsbase-displayitems-4"><code>displayItems</code></a> member in the
                <a data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase" class="internalDFN"
                    id="ref-for-dom-paymentdetailsbase-8"><code>PaymentDetailsBase</code></a> dictionary for the <a
                    data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method
                    identifiers</a> in the <a data-link-type="idl" href="#dom-paymentdetailsmodifier-supportedmethods"
                    class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-supportedmethods-4"><code>supportedMethods</code></a>
                member. This member is commonly used to add a discount or surcharge
                line item indicating the reason for the different
                <a data-link-type="idl" href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-total-4"><code>total</code></a> amount for the selected <a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-17">payment
                    method</a> that the user agent <em class="rfc2119">MAY</em> display.
                <div class="note" role="note" id="issue-container-generatedID-20">
                    <div role="heading" class="note-title marker" id="h-note-20" aria-level="3"><span>Note</span></div>
                    <p class="">
                        It is the developer's responsibility to verify that the
                        <a data-link-type="idl" href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                            id="ref-for-dom-paymentdetailsmodifier-total-5"><code>total</code></a> amount is the sum of
                        the
                        <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                            id="ref-for-dom-paymentdetailsbase-displayitems-5"><code>displayItems</code></a> and the
                        <a data-link-type="idl" href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                            class="internalDFN"
                            id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-4"><code>additionalDisplayItems</code></a>.
                    </p>
                </div>
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentdetailsmodifier-data" data-idl="field"
                    data-title="data" data-dfn-for="PaymentDetailsModifier" data-type="object" tabindex="0"
                    aria-haspopup="dialog"><code>data</code></dfn> member
            </dt>
            <dd>
                An object that provides optional information that might be needed by
                the supported payment methods. If supplied, it will be <a data-link-type="dfn"
                    data-lt="serialize a JavaScript value to a JSON string"
                    href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">serialized</a>.
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentShippingType" id="paymentshippingtype-enum">
        <div class="header-wrapper">
            <h2 id="x8-paymentshippingtype-enum"><bdi class="secno">8. </bdi>
                <dfn data-export="" data-dfn-type="enum" id="dom-paymentshippingtype" data-idl="enum"
                    data-title="PaymentShippingType" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentShippingType</code></dfn> enum
            </h2><a class="self-link" href="#paymentshippingtype-enum" aria-label="Permalink for Section 8."></a>
        </div>

        <pre class="idl def" id="webidl-119612894"><span class="idlHeader"><a class="self-link" href="#webidl-119612894">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-paymentshippingtype" data-title="PaymentShippingType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paymentshippingtype" id="ref-for-dom-paymentshippingtype-3"><code>PaymentShippingType</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-shipping" id="ref-for-dom-paymentshippingtype-shipping-1"><code>shipping</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-delivery" id="ref-for-dom-paymentshippingtype-delivery-1"><code>delivery</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-pickup" id="ref-for-dom-paymentshippingtype-pickup-1"><code>pickup</code></a>"</span>
};</span></code></pre>
        <dl>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentshippingtype-shipping"
                    data-idl="enum-value" data-title="shipping" data-dfn-for="PaymentShippingType" tabindex="0"
                    aria-haspopup="dialog"><code>shipping</code></dfn>"
            </dt>
            <dd>
                This is the default and refers to the <a data-link-type="dfn" data-lt="physical address"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">address</a>
                being collected as the destination for <a data-link-type="dfn|abstract-op" data-lt="shipping address"
                    href="#dfn-shipping-address" class="internalDFN" id="ref-for-dfn-shipping-address-1">shipping</a>.
            </dd>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentshippingtype-delivery"
                    data-idl="enum-value" data-title="delivery" data-dfn-for="PaymentShippingType" tabindex="0"
                    aria-haspopup="dialog"><code>delivery</code></dfn>"
            </dt>
            <dd>
                This refers to the <a data-link-type="dfn" data-lt="physical address"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">address</a> being collected as
                the destination for delivery. This is commonly faster than <a data-link-type="dfn|abstract-op"
                    data-lt="shipping address" href="#dfn-shipping-address" class="internalDFN"
                    id="ref-for-dfn-shipping-address-2">shipping</a>. For example, it might be used for food delivery.
            </dd>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentshippingtype-pickup"
                    data-idl="enum-value" data-title="pickup" data-dfn-for="PaymentShippingType" tabindex="0"
                    aria-haspopup="dialog"><code>pickup</code></dfn>"
            </dt>
            <dd>
                This refers to the <a data-link-type="dfn" data-lt="physical address"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">address</a> being collected as
                part of a service pickup. For example, this could be the address for
                laundry pickup.
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentOptions" id="paymentoptions-dictionary">
        <div class="header-wrapper">
            <h2 id="x9-paymentoptions-dictionary"><bdi class="secno">9. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentoptions" data-idl="dictionary"
                    data-title="PaymentOptions" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentOptions</code></dfn> dictionary
            </h2><a class="self-link" href="#paymentoptions-dictionary" aria-label="Permalink for Section 9."></a>
        </div>

        <pre class="idl def" id="webidl-1552147530"><span class="idlHeader"><a class="self-link" href="#webidl-1552147530">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentoptions" data-title="PaymentOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentoptions" id="ref-for-dom-paymentoptions-7"><code>PaymentOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestpayername" data-title="requestPayerName" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayername" id="ref-for-dom-paymentoptions-requestpayername-1"><code>requestPayerName</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestbillingaddress" data-title="requestBillingAddress" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestbillingaddress" id="ref-for-dom-paymentoptions-requestbillingaddress-1"><code>requestBillingAddress</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestpayeremail" data-title="requestPayerEmail" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayeremail" id="ref-for-dom-paymentoptions-requestpayeremail-1"><code>requestPayerEmail</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestpayerphone" data-title="requestPayerPhone" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayerphone" id="ref-for-dom-paymentoptions-requestpayerphone-1"><code>requestPayerPhone</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-requestshipping" data-title="requestShipping" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestshipping" id="ref-for-dom-paymentoptions-requestshipping-6"><code>requestShipping</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-paymentoptions-shippingtype" data-title="shippingType" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentshippingtype" class="internalDFN" id="ref-for-dom-paymentshippingtype-4"><code>PaymentShippingType</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-shippingtype" id="ref-for-dom-paymentoptions-shippingtype-3"><code>shippingType</code></a> = "shipping";</span>
};</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID-21">
            <div role="heading" class="note-title marker" id="h-note-21" aria-level="3"><span>Note</span></div>
            <p class="">
                The <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-8"><code>PaymentOptions</code></a> dictionary is passed to the <a
                    data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-26"><code>PaymentRequest</code></a>
                constructor and provides information about the options desired for the
                payment request.
            </p>
        </div>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestbillingaddress"
                    data-idl="field" data-title="requestBillingAddress" data-dfn-for="PaymentOptions"
                    data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>requestBillingAddress</code></dfn>
                member
            </dt>
            <dd>
                A boolean that indicates whether the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-15">user agent</a> <em class="rfc2119">SHOULD</em> collect
                and return the <a data-link-type="dfn|abstract-op" href="#dfn-billing-address" class="internalDFN"
                    id="ref-for-dfn-billing-address-1">billing address</a> associated with a <a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-18">payment
                    method</a> (e.g., the billing address associated with a credit card).
                Typically, the user agent will return the billing address as part of
                the <a data-link-type="idl" data-lt="PaymentMethodChangeEvent" href="#dom-paymentmethodchangeevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-2"><code>PaymentMethodChangeEvent</code></a>'s
                <a data-link-type="idl" href="#dom-paymentmethodchangeevent-methoddetails" class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-methoddetails-1"><code>methodDetails</code></a>. A merchant
                can use this
                information to, for example, calculate tax in certain jurisdictions
                and update the displayed total. See below for privacy considerations
                regarding <a href="#user-info">exposing user information</a>.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestpayername"
                    data-idl="field" data-title="requestPayerName" data-dfn-for="PaymentOptions" data-type="boolean"
                    tabindex="0" aria-haspopup="dialog"><code>requestPayerName</code></dfn> member
            </dt>
            <dd>
                A boolean that indicates whether the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-16">user agent</a> <em class="rfc2119">SHOULD</em> collect
                and return the payer's name as part of the payment request. For
                example, this would be set to true to allow a merchant to make a
                booking in the payer's name.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestpayeremail"
                    data-idl="field" data-title="requestPayerEmail" data-dfn-for="PaymentOptions" data-type="boolean"
                    tabindex="0" aria-haspopup="dialog"><code>requestPayerEmail</code></dfn> member
            </dt>
            <dd>
                A boolean that indicates whether the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-17">user agent</a> <em class="rfc2119">SHOULD</em> collect
                and return the payer's email address as part of the payment request.
                For example, this would be set to true to allow a merchant to email a
                receipt.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestpayerphone"
                    data-idl="field" data-title="requestPayerPhone" data-dfn-for="PaymentOptions" data-type="boolean"
                    tabindex="0" aria-haspopup="dialog"><code>requestPayerPhone</code></dfn> member
            </dt>
            <dd>
                A boolean that indicates whether the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-18">user agent</a> <em class="rfc2119">SHOULD</em> collect
                and return the payer's phone number as part of the payment request.
                For example, this would be set to true to allow a merchant to phone a
                customer with a billing enquiry.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-requestshipping" data-idl="field"
                    data-title="requestShipping" data-dfn-for="PaymentOptions" data-type="boolean" tabindex="0"
                    aria-haspopup="dialog"><code>requestShipping</code></dfn> member
            </dt>
            <dd>
                A boolean that indicates whether the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-19">user agent</a> <em class="rfc2119">SHOULD</em> collect
                and return a <a data-link-type="dfn|abstract-op" href="#dfn-shipping-address" class="internalDFN"
                    id="ref-for-dfn-shipping-address-3">shipping address</a> as part of the payment request. For
                example, this would be set to true when physical goods need to be
                shipped by the merchant to the user. This would be set to false for
                the purchase of digital goods.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentoptions-shippingtype" data-idl="field"
                    data-title="shippingType" data-dfn-for="PaymentOptions" data-type="PaymentShippingType" tabindex="0"
                    aria-haspopup="dialog"><code>shippingType</code></dfn> member
            </dt>
            <dd>
                A <a data-link-type="idl" data-lt="PaymentShippingType" href="#dom-paymentshippingtype"
                    class="internalDFN" id="ref-for-dom-paymentshippingtype-5"><code>PaymentShippingType</code></a> enum
                value. Some transactions require an
                <a data-link-type="dfn" data-lt="physical address"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">address</a> for delivery but the term
                "shipping"
                isn't appropriate. For example, "pizza delivery" not "pizza shipping"
                and "laundry pickup" not "laundry shipping". If
                <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestshipping-7"><code>requestShipping</code></a> is set to true,
                then the
                <a data-link-type="idl" href="#dom-paymentoptions-shippingtype" class="internalDFN"
                    id="ref-for-dom-paymentoptions-shippingtype-4"><code>shippingType</code></a> member can influence
                the way the
                <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-20">user
                    agent</a> presents the user interface for gathering the
                shipping address.
                <p>
                    The <a data-link-type="idl" href="#dom-paymentoptions-shippingtype" class="internalDFN"
                        id="ref-for-dom-paymentoptions-shippingtype-5"><code>shippingType</code></a> member only affects
                    the user
                    interface for the payment request.
                </p>
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentItem" id="paymentitem-dictionary">
        <div class="header-wrapper">
            <h2 id="x10-paymentitem-dictionary"><bdi class="secno">10. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentitem" data-idl="dictionary"
                    data-title="PaymentItem" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentItem</code></dfn> dictionary
            </h2><a class="self-link" href="#paymentitem-dictionary" aria-label="Permalink for Section 10."></a>
        </div>

        <pre class="idl def" id="webidl-1435887180"><span class="idlHeader"><a class="self-link" href="#webidl-1435887180">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentitem" data-title="PaymentItem">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentitem" id="ref-for-dom-paymentitem-11"><code>PaymentItem</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentitem-label" data-title="label" data-dfn-for="PaymentItem">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-label" id="ref-for-dom-paymentitem-label-1"><code>label</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentitem-amount" data-title="amount" data-dfn-for="PaymentItem">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcurrencyamount" class="internalDFN" id="ref-for-dom-paymentcurrencyamount-5"><code>PaymentCurrencyAmount</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-amount" id="ref-for-dom-paymentitem-amount-9"><code>amount</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentitem-pending" data-title="pending" data-dfn-for="PaymentItem"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-pending" id="ref-for-dom-paymentitem-pending-1"><code>pending</code></a> = false;</span>
};</span></code></pre>
        <p>
            A sequence of one or more <a data-link-type="idl" data-lt="PaymentItem" href="#dom-paymentitem"
                class="internalDFN" id="ref-for-dom-paymentitem-12"><code>PaymentItem</code></a> dictionaries is
            included in
            the <a data-link-type="idl" data-lt="PaymentDetailsBase" href="#dom-paymentdetailsbase" class="internalDFN"
                id="ref-for-dom-paymentdetailsbase-9"><code>PaymentDetailsBase</code></a> dictionary to indicate what
            the payment
            request is for and the value asked for.
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentitem-label" data-idl="field"
                    data-title="label" data-dfn-for="PaymentItem" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>label</code></dfn> member
            </dt>
            <dd>
                A human-readable description of the item. The <a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-21">user agent</a> may
                display this to the user.
                <div class="note" role="note" id="issue-container-generatedID-22">
                    <div role="heading" class="note-title marker" id="h-note-22" aria-level="3"><span>Note</span><span
                            class="issue-label">: Internationalization of the label</span></div>
                    <aside class="">
                        <p>
                            The language and direction of the <a data-link-type="idl" href="#dom-paymentitem-label"
                                class="internalDFN" id="ref-for-dom-paymentitem-label-2"><code>label</code></a> may
                            often
                            be determined from information inherited from the document.
                            However, this approach may not suffice for some use cases. The
                            working group intends to fix this in a future version by aligning
                            with general approaches for the Web that are in development.
                        </p>
                    </aside>
                </div>
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentitem-amount" data-idl="field"
                    data-title="amount" data-dfn-for="PaymentItem" data-type="PaymentCurrencyAmount" tabindex="0"
                    aria-haspopup="dialog"><code>amount</code></dfn> member
            </dt>
            <dd>
                A <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                    class="internalDFN" id="ref-for-dom-paymentcurrencyamount-6"><code>PaymentCurrencyAmount</code></a>
                containing the monetary amount for the
                item.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentitem-pending" data-idl="field"
                    data-title="pending" data-dfn-for="PaymentItem" data-type="boolean" tabindex="0"
                    aria-haspopup="dialog"><code>pending</code></dfn> member
            </dt>
            <dd>
                A boolean. When set to true it means that the <a data-link-type="idl" href="#dom-paymentitem-amount"
                    class="internalDFN" id="ref-for-dom-paymentitem-amount-10"><code>amount</code></a>
                member is not final. This is commonly used to show items such as
                shipping or tax amounts that depend upon selection of shipping
                address or shipping option. <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-22">User agents</a> <em class="rfc2119">MAY</em> indicate pending
                fields in the user interface for the payment request.
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentCompleteDetails" id="paymentcompletedetails-dictionary">
        <div class="header-wrapper">
            <h2 id="x11-paymentcompletedetails-dictionary"><bdi class="secno">11. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentcompletedetails" data-idl="dictionary"
                    data-title="PaymentCompleteDetails" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentCompleteDetails</code></dfn> dictionary
            </h2><a class="self-link" href="#paymentcompletedetails-dictionary"
                aria-label="Permalink for Section 11."></a>
        </div>

        <pre class="idl def" id="webidl-1518429867"><span class="idlHeader"><a class="self-link" href="#webidl-1518429867">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentcompletedetails" data-title="PaymentCompleteDetails">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentcompletedetails" id="ref-for-dom-paymentcompletedetails-1"><code>PaymentCompleteDetails</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentcompletedetails-data" data-title="data" data-dfn-for="PaymentCompleteDetails"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcompletedetails-data" id="ref-for-dom-paymentcompletedetails-data-1"><code>data</code></a> = null;</span>
};</span></code></pre>
        <p>
            The <a data-link-type="idl" data-lt="PaymentCompleteDetails" href="#dom-paymentcompletedetails"
                class="internalDFN" id="ref-for-dom-paymentcompletedetails-2"><code>PaymentCompleteDetails</code></a>
            dictionary provides additional
            information from the merchant website to the payment handler when the
            payment request completes.
        </p>
        <p>
            The <a data-link-type="idl" data-lt="PaymentCompleteDetails" href="#dom-paymentcompletedetails"
                class="internalDFN" id="ref-for-dom-paymentcompletedetails-3"><code>PaymentCompleteDetails</code></a>
            dictionary contains the following
            members:
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentcompletedetails-data" data-idl="field"
                    data-title="data" data-dfn-for="PaymentCompleteDetails" data-type="object" tabindex="0"
                    aria-haspopup="dialog"><code>data</code></dfn> member
            </dt>
            <dd>
                An object that provides optional information that might be needed by
                the <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-6"><code>PaymentResponse</code></a> associated <a
                    data-link-type="dfn|abstract-op" href="#dfn-payment-method" class="internalDFN"
                    id="ref-for-dfn-payment-method-19">payment method</a>. If supplied,
                it will be <a data-link-type="dfn" data-lt="serialize a JavaScript value to a JSON string"
                    href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">serialize</a>.
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentComplete" id="paymentcomplete-enum">
        <div class="header-wrapper">
            <h2 id="x12-paymentcomplete-enum"><bdi class="secno">12. </bdi>
                <dfn data-export="" data-dfn-type="enum" id="dom-paymentcomplete" data-idl="enum"
                    data-title="PaymentComplete" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentComplete</code></dfn> enum
            </h2><a class="self-link" href="#paymentcomplete-enum" aria-label="Permalink for Section 12."></a>
        </div>

        <pre class="idl def" id="webidl-1223986974"><span class="idlHeader"><a class="self-link" href="#webidl-1223986974">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-paymentcomplete" data-title="PaymentComplete">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paymentcomplete" id="ref-for-dom-paymentcomplete-1"><code>PaymentComplete</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-fail" id="ref-for-dom-paymentcomplete-fail-1"><code>fail</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-success" id="ref-for-dom-paymentcomplete-success-1"><code>success</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-unknown" id="ref-for-dom-paymentcomplete-unknown-1"><code>unknown</code></a>"</span>
};</span></code></pre>
        <dl>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentcomplete-fail" data-idl="enum-value"
                    data-title="fail" data-dfn-for="PaymentComplete" tabindex="0"
                    aria-haspopup="dialog"><code>fail</code></dfn>"
            </dt>
            <dd>
                Indicates that processing of the payment failed. The <a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-23">user
                    agent</a> <em class="rfc2119">MAY</em> display UI indicating failure.
            </dd>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentcomplete-success" data-idl="enum-value"
                    data-title="success" data-dfn-for="PaymentComplete" tabindex="0"
                    aria-haspopup="dialog"><code>success</code></dfn>"
            </dt>
            <dd>
                Indicates the payment was successfully processed. The <a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-24">user
                    agent</a> <em class="rfc2119">MAY</em> display UI indicating success.
            </dd>
            <dt>
                "<dfn data-export="" data-dfn-type="enum-value" id="dom-paymentcomplete-unknown" data-idl="enum-value"
                    data-title="unknown" data-dfn-for="PaymentComplete" tabindex="0"
                    aria-haspopup="dialog"><code>unknown</code></dfn>"
            </dt>
            <dd>
                The developer did not indicate success or failure and the <a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-25">user
                    agent</a> <em class="rfc2119">SHOULD NOT</em> display UI indicating success or failure.
            </dd>
        </dl>
    </section>
    <section data-dfn-for="PaymentShippingOption" id="paymentshippingoption-dictionary">
        <div class="header-wrapper">
            <h2 id="x13-paymentshippingoption-dictionary"><bdi class="secno">13. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentshippingoption" data-idl="dictionary"
                    data-title="PaymentShippingOption" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentShippingOption</code></dfn> dictionary
            </h2><a class="self-link" href="#paymentshippingoption-dictionary"
                aria-label="Permalink for Section 13."></a>
        </div>

        <pre class="idl def" id="webidl-1340523886"><span class="idlHeader"><a class="self-link" href="#webidl-1340523886">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentshippingoption" data-title="PaymentShippingOption">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentshippingoption" id="ref-for-dom-paymentshippingoption-3"><code>PaymentShippingOption</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentshippingoption-id" data-title="id" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-id" id="ref-for-dom-paymentshippingoption-id-5"><code>id</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentshippingoption-label" data-title="label" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-label" id="ref-for-dom-paymentshippingoption-label-1"><code>label</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentshippingoption-amount" data-title="amount" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcurrencyamount" class="internalDFN" id="ref-for-dom-paymentcurrencyamount-7"><code>PaymentCurrencyAmount</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-amount" id="ref-for-dom-paymentshippingoption-amount-1"><code>amount</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentshippingoption-selected" data-title="selected" data-dfn-for="PaymentShippingOption"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-selected" id="ref-for-dom-paymentshippingoption-selected-5"><code>selected</code></a> = false;</span>
};</span></code></pre>
        <p>
            The <a data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                class="internalDFN" id="ref-for-dom-paymentshippingoption-4"><code>PaymentShippingOption</code></a>
            dictionary has members describing a
            shipping option. Developers can provide the user with one or more
            shipping options by calling the
            <a data-link-type="idl" data-lt="updateWith()" href="#dom-paymentrequestupdateevent-updatewith"
                class="internalDFN"
                id="ref-for-dom-paymentrequestupdateevent-updatewith-5"><code>updateWith</code></a><code>()</code>
            method in response to a
            change event.
        </p>
        <dl>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentshippingoption-id" data-idl="field"
                    data-title="id" data-dfn-for="PaymentShippingOption" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>id</code></dfn> member
            </dt>
            <dd>
                A string identifier used to reference this <a data-link-type="idl" data-lt="PaymentShippingOption"
                    href="#dom-paymentshippingoption" class="internalDFN"
                    id="ref-for-dom-paymentshippingoption-5"><code>PaymentShippingOption</code></a>.
                It <em class="rfc2119">MUST</em> be unique for a given <a data-link-type="idl" data-lt="PaymentRequest"
                    href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-27"><code>PaymentRequest</code></a>.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentshippingoption-label" data-idl="field"
                    data-title="label" data-dfn-for="PaymentShippingOption" data-type="DOMString" tabindex="0"
                    aria-haspopup="dialog"><code>label</code></dfn> member
            </dt>
            <dd>
                A human-readable string description of the item. The <a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-26">user
                    agent</a> <em class="rfc2119">SHOULD</em> use this string to display the shipping option to
                the user.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentshippingoption-amount" data-idl="field"
                    data-title="amount" data-dfn-for="PaymentShippingOption" data-type="PaymentCurrencyAmount"
                    tabindex="0" aria-haspopup="dialog"><code>amount</code></dfn> member
            </dt>
            <dd>
                A <a data-link-type="idl" data-lt="PaymentCurrencyAmount" href="#dom-paymentcurrencyamount"
                    class="internalDFN" id="ref-for-dom-paymentcurrencyamount-8"><code>PaymentCurrencyAmount</code></a>
                containing the monetary amount for the
                item.
            </dd>
            <dt>
                <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentshippingoption-selected" data-idl="field"
                    data-title="selected" data-dfn-for="PaymentShippingOption" data-type="boolean" tabindex="0"
                    aria-haspopup="dialog"><code>selected</code></dfn> member
            </dt>
            <dd>
                A boolean. When true, it indicates that this is the default selected
                <a data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                    class="internalDFN" id="ref-for-dom-paymentshippingoption-6"><code>PaymentShippingOption</code></a>
                in a sequence. <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-27">User agents</a> <em class="rfc2119">SHOULD</em>
                display this option by default in the user interface.
            </dd>
        </dl>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="Expand MDN details for PaymentResponse"><span>MDN</span><span
                    title="This feature is in all major engines.">✅</span></summary>
            <a title="The PaymentResponse interface of the Payment Request API is returned after a user selects a payment method and approves a payment request."
                href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentResponse">PaymentResponse</a>
            <p class="engines-all">This feature is in all major engines.</p>
            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>60+</td>
                </tr>
                <tr class="chrome_android yes">
                    <td>Chrome Android</td>
                    <td>53+</td>
                </tr>
                <tr class="edge yes">
                    <td>Edge</td>
                    <td>15+</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>55+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari yes">
                    <td>Safari</td>
                    <td>11.1+</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android no">
                    <td>WebView Android</td>
                    <td>No</td>
                </tr>
            </table>
        </details>
    </aside>
    <section data-dfn-for="PaymentResponse" id="paymentresponse-interface">
        <div class="header-wrapper">
            <h2 id="x14-paymentresponse-interface"><bdi class="secno">14. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-paymentresponse" data-idl="interface"
                    data-title="PaymentResponse" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PaymentResponse</code></dfn> interface
            </h2><a class="self-link" href="#paymentresponse-interface" aria-label="Permalink for Section 14."></a>
        </div>

        <pre class="idl def" id="webidl-2136333605"><span class="idlHeader"><a class="self-link" href="#webidl-2136333605">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-paymentresponse" data-title="PaymentResponse">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentresponse" id="ref-for-dom-paymentresponse-7"><code>PaymentResponse</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span>  {<span data-idl="" class="idlMethod" id="idl-def-paymentresponse-tojson" data-title="toJSON" data-dfn-for="PaymentResponse">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default">Default</a></span>]<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a data-link-type="dfn" data-lt="default toJSON steps" class="idlName" href="https://webidl.spec.whatwg.org/#default-tojson-steps">toJSON</a>();</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-requestid" data-title="requestId" data-dfn-for="PaymentResponse">

  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-requestid" id="ref-for-dom-paymentresponse-requestid-1"><code>requestId</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-methodname" data-title="methodName" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-methodname" id="ref-for-dom-paymentresponse-methodname-1"><code>methodName</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-details" data-title="details" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-details" id="ref-for-dom-paymentresponse-details-1"><code>details</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-shippingaddress" data-title="shippingAddress" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://www.w3.org/TR/contact-picker/#contactaddress">ContactAddress</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-shippingaddress" id="ref-for-dom-paymentresponse-shippingaddress-1"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-shippingoption" data-title="shippingOption" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-shippingoption" id="ref-for-dom-paymentresponse-shippingoption-1"><code>shippingOption</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-payername" data-title="payerName" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payername" id="ref-for-dom-paymentresponse-payername-1"><code>payerName</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-payeremail" data-title="payerEmail" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payeremail" id="ref-for-dom-paymentresponse-payeremail-1"><code>payerEmail</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-payerphone" data-title="payerPhone" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payerphone" id="ref-for-dom-paymentresponse-payerphone-1"><code>payerPhone</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-paymentresponse-complete-result-details" data-title="complete" data-dfn-for="PaymentResponse">

  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentresponse-complete" id="ref-for-dom-paymentresponse-complete-1"><code>complete</code></a>(
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcomplete" class="internalDFN" id="ref-for-dom-paymentcomplete-2"><code>PaymentComplete</code></a></span> <span class="idlParamName">result</span> = "unknown",
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcompletedetails" class="internalDFN" id="ref-for-dom-paymentcompletedetails-4"><code>PaymentCompleteDetails</code></a></span> <span class="idlParamName">details</span> = {}
  );</span><span data-idl="" class="idlMethod" id="idl-def-paymentresponse-retry-errorfields" data-title="retry" data-dfn-for="PaymentResponse">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentresponse-retry" id="ref-for-dom-paymentresponse-retry-1"><code>retry</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentvalidationerrors" class="internalDFN" id="ref-for-dom-paymentvalidationerrors-1"><code>PaymentValidationErrors</code></a></span> <span class="idlParamName">errorFields</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-paymentresponse-onpayerdetailchange" data-title="onpayerdetailchange" data-dfn-for="PaymentResponse">

  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-onpayerdetailchange" id="ref-for-dom-paymentresponse-onpayerdetailchange-1"><code>onpayerdetailchange</code></a>;</span>
};</span></code></pre>
        <div class="note" role="note" id="issue-container-generatedID-23">
            <div role="heading" class="note-title marker" id="h-note-23" aria-level="3"><span>Note</span></div>
            <p class="">
                A <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-8"><code>PaymentResponse</code></a> is returned when a user has
                selected a payment
                method and approved a payment request.
            </p>
        </div>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for retry"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentResponse interface's retry() method makes it possible to ask the user to retry a payment after an error occurs during processing."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentResponse/retry">PaymentResponse/retry</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>78+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>47+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>43+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>11.3+</td>
                    </tr>
                    <tr class="samsunginternet_android yes">
                        <td>Samsung Internet</td>
                        <td>10.0+</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="retry-method">
            <div class="header-wrapper">
                <h3 id="x14-1-retry-method"><bdi class="secno">14.1 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentresponse-retry" data-idl="operation"
                        data-title="retry()" data-dfn-for="PaymentResponse" data-type="Promise"
                        data-lt="retry()|retry(errorFields)"
                        data-local-lt="PaymentResponse.retry|PaymentResponse.retry()|retry" tabindex="0"
                        aria-haspopup="dialog"><code>retry()</code></dfn> method
                </h3><a class="self-link" href="#retry-method" aria-label="Permalink for Section 14.1"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-24">
                <div role="heading" class="note-title marker" id="h-note-24" aria-level="4"><span>Note</span></div>
                <aside class="">
                    <p>
                        If a <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-9"><code>PaymentResponse</code></a> is
                        found to be erroneous (e.g., a payment
                        instrument has expired or shipping information is invalid), the
                        <a data-link-type="idl" data-lt="retry()" href="#dom-paymentresponse-retry" class="internalDFN"
                            id="ref-for-dom-paymentresponse-retry-2"><code>retry</code></a><code>()</code> method
                        affords the end user the ability
                        to fix input errors and try to get the merchant to processed the
                        payment again. The passed <a data-link-type="idl" data-lt="PaymentValidationErrors"
                            href="#dom-paymentvalidationerrors" class="internalDFN"
                            id="ref-for-dom-paymentvalidationerrors-2"><code>PaymentValidationErrors</code></a> serve as
                        hints as to where input errors have occurred in the
                        <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-10"><code>PaymentResponse</code></a>,
                        which the end user needs to correct.
                    </p>
                    <p>
                        However, an end user may decide, upon inspection of the
                        <a data-link-type="idl" data-lt="PaymentValidationErrors" href="#dom-paymentvalidationerrors"
                            class="internalDFN"
                            id="ref-for-dom-paymentvalidationerrors-3"><code>PaymentValidationErrors</code></a>, to
                        provide an entirely new set of
                        values for the <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-11"><code>PaymentResponse</code></a>.
                        For example, the user might
                        switch to a an entirely different payment instrument and/or provide
                        an entirely different shipping address.
                    </p>
                    <p>
                        As such, merchants need to be prepared to completely revalidate a
                        <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-12"><code>PaymentResponse</code></a>
                        once the <a data-link-type="attribute" data-lt="[[retryPromise]]" href="#dfn-retrypromise"
                            class="internalDFN" id="ref-for-dfn-retrypromise-2"><code>[[retryPromise]]</code></a>
                        settles.
                    </p>
                    <p>
                        Lastly, as a <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-13"><code>PaymentResponse</code></a> is
                        inherently tied to a particular
                        <a data-link-type="dfn|abstract-op" href="#dfn-payment-handler" class="internalDFN"
                            id="ref-for-dfn-payment-handler-8">payment handler</a> via a <a data-link-type="idl"
                            data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                            id="ref-for-dom-paymentrequest-28"><code>PaymentRequest</code></a>, it is not possible
                        for the end user to switch to a different <a data-link-type="dfn|abstract-op"
                            href="#dfn-payment-handler" class="internalDFN" id="ref-for-dfn-payment-handler-9">payment
                            handler</a>
                        during <a data-link-type="idl" data-lt="retry()" href="#dom-paymentresponse-retry"
                            class="internalDFN"
                            id="ref-for-dom-paymentresponse-retry-3"><code>retry</code></a><code>()</code>.
                    </p>
                </aside>
            </div>
            <p data-tests="payment-response/retry-method-manual.https.html">
                The <code>retry(<var data-type="PaymentValidationErrors">errorFields</var>)</code> method
                <em class="rfc2119">MUST</em> act as follows:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentResponse">response</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>.
                </li>
                <li>Let <var data-type="PaymentRequest">request</var> be
                    <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute" data-lt="[[request]]"
                        href="#dfn-request" class="internalDFN" id="ref-for-dfn-request-1"><code>[[request]]</code></a>.
                </li>
                <li>Let <var data-type="Document">document</var> be <var data-type="PaymentRequest">request</var>'s <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                        global
                        object</a>'s <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated
                        <code>Document</code></a>.
                </li>
                <li data-tests="payment-response/rejects_if_not_active-manual.https.html">If
                    <var data-type="Document">document</var> is not <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully
                        active</a>, then return <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise
                        rejected with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>If <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                        id="ref-for-dfn-complete-1"><code>[[complete]]</code></a> is true, return
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise
                        rejected with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>If <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-3"><code>[[retryPromise]]</code></a> is not null,
                    return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a
                        promise rejected with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-10"><code>[[state]]</code></a> to
                    "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-4">interactive</a>".
                </li>
                <li>Let <var data-type="Promise">retryPromise</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.
                </li>
                <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-4"><code>[[retryPromise]]</code></a> to
                    <var data-type="Promise">retryPromise</var>.
                </li>
                <li>If <var data-type="PaymentValidationErrors">errorFields</var> was passed:
                    <ol>
                        <li>Optionally, show a warning in the developer console if any of
                            the following are true:
                            <ol>
                                <li>
                                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-2"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestpayername" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestpayername-2"><code>requestPayerName</code></a>
                                    is false, and
                                    <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                        href="#dom-paymentvalidationerrors-payer" class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-payer-1"><code>payer</code></a>.<a
                                        data-link-type="idl" href="#dom-payererrors-name" class="internalDFN"
                                        id="ref-for-dom-payererrors-name-1"><code>name</code></a>
                                    is present.
                                </li>
                                <li>
                                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-3"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestpayeremail" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestpayeremail-2"><code>requestPayerEmail</code></a>
                                    is false, and
                                    <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                        href="#dom-paymentvalidationerrors-payer" class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-payer-2"><code>payer</code></a>.<a
                                        data-link-type="idl" href="#dom-payererrors-email" class="internalDFN"
                                        id="ref-for-dom-payererrors-email-1"><code>email</code></a>
                                    is present.
                                </li>
                                <li>
                                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-4"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestpayerphone" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestpayerphone-2"><code>requestPayerPhone</code></a>
                                    is false, and
                                    <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                        href="#dom-paymentvalidationerrors-payer" class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-payer-3"><code>payer</code></a>.<a
                                        data-link-type="idl" href="#dom-payererrors-phone" class="internalDFN"
                                        id="ref-for-dom-payererrors-phone-1"><code>phone</code></a>
                                    is present.
                                </li>
                                <li>
                                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                        data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-5"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestshipping-8"><code>requestShipping</code></a>
                                    is false, and
                                    <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                        href="#dom-paymentvalidationerrors-shippingaddress" class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-shippingaddress-1"><code>shippingAddress</code></a>
                                    is
                                    present.
                                </li>
                            </ol>
                        </li>
                        <li data-tests="PaymentValidationErrors/retry-shows-error-member-manual.https.html">
                            If
                            <var data-type="PaymentValidationErrors">errorFields</var>.<a data-link-type="idl"
                                href="#dom-paymentvalidationerrors-paymentmethod" class="internalDFN"
                                id="ref-for-dom-paymentvalidationerrors-paymentmethod-1"><code>paymentMethod</code></a>
                            member was passed, and if required by the specification that
                            defines <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                href="#dom-paymentresponse-methodname" class="internalDFN"
                                id="ref-for-dom-paymentresponse-methodname-2"><code>methodName</code></a>, then
                            <a data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">convert</a>
                            <var data-type="PaymentValidationErrors">errorFields</var>'s
                            <a data-link-type="idl" href="#dom-paymentvalidationerrors-paymentmethod"
                                class="internalDFN"
                                id="ref-for-dom-paymentvalidationerrors-paymentmethod-2"><code>paymentMethod</code></a>
                            member to an IDL value
                            of the type specified there. Otherwise, <a data-link-type="dfn"
                                data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">convert</a>
                            to <a data-link-type="interface" data-lt="object"
                                href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a>.
                        </li>
                        <li>Set <var data-type="PaymentRequest">request</var>'s <a
                                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-6">payment-relevant browsing
                                context</a>'s
                            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-7">payment request is showing</a> boolean to
                            false.
                        </li>
                        <li>If conversion results in a <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a> <var>error</var>:
                            <ol>
                                <li>Reject <var data-type="Promise">retryPromise</var> with <var>error</var>.
                                </li>
                                <li>Set <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-user-agent-28">user agent</a>'s <a
                                        href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-payment-request-is-showing-8">payment request is showing</a>
                                    boolean to false.
                                </li>
                                <li>Return.
                                </li>
                            </ol>
                        </li>
                        <li>By matching the members of <var data-type="PaymentValidationErrors">errorFields</var> to
                            input fields in
                            the user agent's UI, indicate to the end user that something is
                            wrong with the data of the payment response. For example, a user
                            agent might draw the user's attention to the erroneous
                            <var data-type="PaymentValidationErrors">errorFields</var> in the browser's UI and display
                            the value of each
                            field in a manner that helps the user fix each error. Similarly,
                            if the <a data-link-type="idl" href="#dom-paymentvalidationerrors-error" class="internalDFN"
                                id="ref-for-dom-paymentvalidationerrors-error-1"><code>error</code></a> member is
                            passed,
                            present the error in the user agent's UI. In the case where the
                            value of a member is the empty string, the user agent <em class="rfc2119">MAY</em>
                            substitute a value with a suitable error message.
                        </li>
                    </ol>
                </li>
                <li>Otherwise, if <var data-type="PaymentValidationErrors">errorFields</var> was not passed, signal to
                    the end
                    user to attempt to retry the payment. Re-enable any UI element that
                    affords the end user the ability to retry accepting the payment
                    request.
                </li>
                <li>
                    <span data-tests="payment-response/rejects_if_not_active-manual.https.html">If
                        <var data-type="Document">document</var> stops being <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully
                            active</a> while the user
                        interface is being shown, or no longer is by the time this step is
                        reached, then:</span>
                    <ol>
                        <li>Close down the user interface.
                        </li>
                        <li>Set <var data-type="PaymentRequest">request</var>'s <a
                                href="#dfn-payment-relevant-browsing-context" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-7">payment-relevant browsing
                                context</a>'s
                            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-9">payment request is showing</a> boolean to
                            false.
                        </li>
                    </ol>
                </li>
                <li>Finally, when <var data-type="Promise">retryPromise</var> settles, set
                    <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-5"><code>[[retryPromise]]</code></a> to null.
                </li>
                <li>Return <var data-type="Promise">retryPromise</var>.
                    <div class="note" role="note" id="issue-container-generatedID-25">
                        <div role="heading" class="note-title marker" id="h-note-25" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            The <var data-type="Promise">retryPromise</var> will later be resolved by the <a
                                href="#dfn-user-accepts-the-payment-request-algorithm" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-user-accepts-the-payment-request-algorithm-4">user
                                accepts
                                the payment request algorithm</a>, or rejected by either the
                            <a href="#dfn-user-aborts-the-payment-request" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-aborts-the-payment-request-5">user aborts the payment request
                                algorithm</a> or <a href="#dfn-abort-the-update" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-abort-the-update-1">abort the
                                update</a>.
                        </p>
                    </div>
                </li>
            </ol>
            <section data-dfn-for="PaymentValidationErrors" id="paymentvalidationerrors-dictionary">
                <div class="header-wrapper">
                    <h4 id="x14-1-1-paymentvalidationerrors-dictionary"><bdi class="secno">14.1.1 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentvalidationerrors"
                            data-idl="dictionary" data-title="PaymentValidationErrors" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>PaymentValidationErrors</code></dfn> dictionary
                    </h4><a class="self-link" href="#paymentvalidationerrors-dictionary"
                        aria-label="Permalink for Section 14.1.1"></a>
                </div>

                <pre class="idl def" id="webidl-65418220"><span class="idlHeader"><a class="self-link" href="#webidl-65418220">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentvalidationerrors" data-title="PaymentValidationErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentvalidationerrors" id="ref-for-dom-paymentvalidationerrors-4"><code>PaymentValidationErrors</code></a> {<span data-idl="" class="idlMember" id="idl-def-paymentvalidationerrors-payer" data-title="payer" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="idl" href="#dom-payererrors" class="internalDFN" id="ref-for-dom-payererrors-2"><code>PayerErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-payer" id="ref-for-dom-paymentvalidationerrors-payer-4"><code>payer</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentvalidationerrors-shippingaddress" data-title="shippingAddress" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="idl" href="#dom-addresserrors" class="internalDFN" id="ref-for-dom-addresserrors-3"><code>AddressErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-shippingaddress" id="ref-for-dom-paymentvalidationerrors-shippingaddress-2"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentvalidationerrors-error" data-title="error" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-error" id="ref-for-dom-paymentvalidationerrors-error-2"><code>error</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-paymentvalidationerrors-paymentmethod" data-title="paymentMethod" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-paymentmethod" id="ref-for-dom-paymentvalidationerrors-paymentmethod-3"><code>paymentMethod</code></a>;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentvalidationerrors-payer"
                            data-idl="field" data-title="payer" data-dfn-for="PaymentValidationErrors"
                            data-type="PayerErrors" tabindex="0" aria-haspopup="dialog"><code>payer</code></dfn> member
                    </dt>
                    <dd>
                        Validation errors related to the <a href="#dfn-payer-details" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-payer-details-2">payer details</a>.
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentvalidationerrors-shippingaddress"
                            data-idl="field" data-title="shippingAddress" data-dfn-for="PaymentValidationErrors"
                            data-type="AddressErrors" tabindex="0"
                            aria-haspopup="dialog"><code>shippingAddress</code></dfn> member
                    </dt>
                    <dd>
                        Represents validation errors with the <a data-link-type="idl" data-lt="PaymentResponse"
                            href="#dom-paymentresponse" class="internalDFN"
                            id="ref-for-dom-paymentresponse-14"><code>PaymentResponse</code></a>'s
                        <a data-link-type="idl" href="#dom-paymentresponse-shippingaddress" class="internalDFN"
                            id="ref-for-dom-paymentresponse-shippingaddress-2"><code>shippingAddress</code></a>.
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentvalidationerrors-error"
                            data-idl="field" data-title="error" data-dfn-for="PaymentValidationErrors"
                            data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>error</code></dfn> member
                    </dt>
                    <dd>
                        A general description of an error with the payment from which the
                        user can attempt to recover. For example, the user may recover by
                        retrying the payment. A developer can optionally pass the
                        <a data-link-type="idl" href="#dom-paymentvalidationerrors-error" class="internalDFN"
                            id="ref-for-dom-paymentvalidationerrors-error-3"><code>error</code></a> member on its own to
                        give a
                        general overview of validation issues, or it can be passed in
                        combination with other members of the <a data-link-type="idl" data-lt="PaymentValidationErrors"
                            href="#dom-paymentvalidationerrors" class="internalDFN"
                            id="ref-for-dom-paymentvalidationerrors-5"><code>PaymentValidationErrors</code></a>
                        dictionary.
                        <div class="note" role="note" id="issue-container-generatedID-26">
                            <div role="heading" class="note-title marker" id="h-note-26" aria-level="5">
                                <span>Note</span><span class="issue-label">: Internationalization of the error</span>
                            </div>
                            <aside class="">
                                <p>
                                    The language and direction of the
                                    <a data-link-type="idl" href="#dom-paymentvalidationerrors-error"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentvalidationerrors-error-4"><code>error</code></a> may
                                    often be determined
                                    from information inherited from the document. However, this
                                    approach may not suffice for some use cases. The working
                                    group intends to fix this in a future version by aligning
                                    with general approaches for the Web that are in development.
                                </p>
                            </aside>
                        </div>
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentvalidationerrors-paymentmethod"
                            data-idl="field" data-title="paymentMethod" data-dfn-for="PaymentValidationErrors"
                            data-type="object" tabindex="0" aria-haspopup="dialog"><code>paymentMethod</code></dfn>
                        member
                    </dt>
                    <dd>
                        A payment method specific errors.
                    </dd>
                </dl>
            </section>
            <section data-dfn-for="PayerErrors" id="payererrors-dictionary">
                <div class="header-wrapper">
                    <h4 id="x14-1-2-payererrors-dictionary"><bdi class="secno">14.1.2 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-payererrors" data-idl="dictionary"
                            data-title="PayerErrors" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>PayerErrors</code></dfn> dictionary
                    </h4><a class="self-link" href="#payererrors-dictionary"
                        aria-label="Permalink for Section 14.1.2"></a>
                </div>

                <pre class="idl def" id="webidl-73171198"><span class="idlHeader"><a class="self-link" href="#webidl-73171198">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-payererrors" data-title="PayerErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-payererrors" id="ref-for-dom-payererrors-3"><code>PayerErrors</code></a> {<span data-idl="" class="idlMember" id="idl-def-payererrors-email" data-title="email" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-email" id="ref-for-dom-payererrors-email-2"><code>email</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-payererrors-name" data-title="name" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-name" id="ref-for-dom-payererrors-name-2"><code>name</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-payererrors-phone" data-title="phone" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-phone" id="ref-for-dom-payererrors-phone-2"><code>phone</code></a>;</span>
};</span></code></pre>
                <p>
                    The <a data-link-type="idl" data-lt="PayerErrors" href="#dom-payererrors" class="internalDFN"
                        id="ref-for-dom-payererrors-4"><code>PayerErrors</code></a> is used to represent validation
                    errors with one
                    or more <a href="#dfn-payer-details" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payer-details-3">payer details</a>.
                </p>
                <p>
                    <dfn id="dfn-payer-details" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Payer
                        details</dfn> are any of the payer's name, payer's phone
                    number, and payer's email.
                </p>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-payererrors-email" data-idl="field"
                            data-title="email" data-dfn-for="PayerErrors" data-type="DOMString" tabindex="0"
                            aria-haspopup="dialog"><code>email</code></dfn> member
                    </dt>
                    <dd>
                        Denotes that the payer's email suffers from a validation error.
                        In the user agent's UI, this member corresponds to the input
                        field that provided the <a data-link-type="idl" data-lt="PaymentResponse"
                            href="#dom-paymentresponse" class="internalDFN"
                            id="ref-for-dom-paymentresponse-15"><code>PaymentResponse</code></a>'s
                        <a data-link-type="idl" href="#dom-paymentresponse-payeremail" class="internalDFN"
                            id="ref-for-dom-paymentresponse-payeremail-2"><code>payerEmail</code></a> attribute's value.
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-payererrors-name" data-idl="field"
                            data-title="name" data-dfn-for="PayerErrors" data-type="DOMString" tabindex="0"
                            aria-haspopup="dialog"><code>name</code></dfn> member
                    </dt>
                    <dd>
                        Denotes that the payer's name suffers from a validation error. In
                        the user agent's UI, this member corresponds to the input field
                        that provided the <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-16"><code>PaymentResponse</code></a>'s
                        <a data-link-type="idl" href="#dom-paymentresponse-payername" class="internalDFN"
                            id="ref-for-dom-paymentresponse-payername-2"><code>payerName</code></a> attribute's value.
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-payererrors-phone" data-idl="field"
                            data-title="phone" data-dfn-for="PayerErrors" data-type="DOMString" tabindex="0"
                            aria-haspopup="dialog"><code>phone</code></dfn> member
                    </dt>
                    <dd>
                        Denotes that the payer's phone number suffers from a validation
                        error. In the user agent's UI, this member corresponds to the
                        input field that provided the <a data-link-type="idl" data-lt="PaymentResponse"
                            href="#dom-paymentresponse" class="internalDFN"
                            id="ref-for-dom-paymentresponse-17"><code>PaymentResponse</code></a>'s
                        <a data-link-type="idl" href="#dom-paymentresponse-payerphone" class="internalDFN"
                            id="ref-for-dom-paymentresponse-payerphone-2"><code>payerPhone</code></a> attribute's value.
                    </dd>
                </dl>
                <div class="example" id="example-payer-related-validation-errors">
                    <div class="marker">
                        <a class="self-link" href="#example-payer-related-validation-errors">Example<bdi>
                                13</bdi></a><span class="example-title">: Payer-related validation errors</span>
                    </div>
                    <pre
                        aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> payer = {
  <span class="hljs-attr">email</span>: <span class="hljs-string">"The domain is invalid."</span>,
  <span class="hljs-attr">phone</span>: <span class="hljs-string">"Unknown country code."</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Not in database."</span>,
};
<span class="hljs-keyword">await</span> response.<span class="hljs-title function_">retry</span>({ payer });</code></pre>
                </div>
            </section>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for methodName"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The methodName read-only property of the PaymentResponse interface returns a string uniquely identifying the payment handler selected by the user."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentResponse/methodName">PaymentResponse/methodName</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="methodname-attribute">
            <div class="header-wrapper">
                <h3 id="x14-2-methodname-attribute"><bdi class="secno">14.2 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-methodname"
                        data-idl="attribute" data-title="methodName" data-dfn-for="PaymentResponse"
                        data-type="DOMString" data-lt="methodName" data-local-lt="PaymentResponse.methodName"
                        tabindex="0" aria-haspopup="dialog"><code>methodName</code></dfn> attribute
                </h3><a class="self-link" href="#methodname-attribute" aria-label="Permalink for Section 14.2"></a>
            </div>

            <p data-tests="payment-response/methodName-attribute-manual.https.html">
                The <a data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method
                    identifier</a> for the <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-20">payment method</a>
                that the user selected to fulfill the transaction.
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for details"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The details read-only property of the PaymentResponse interface returns a JSON-serializable object that provides a payment method specific message used by the merchant to process the transaction and determine a successful funds transfer."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentResponse/details">PaymentResponse/details</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="details-attribute">
            <div class="header-wrapper">
                <h3 id="x14-3-details-attribute"><bdi class="secno">14.3 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-details" data-idl="attribute"
                        data-title="details" data-dfn-for="PaymentResponse" data-type="object" data-lt="details"
                        data-local-lt="PaymentResponse.details" tabindex="0"
                        aria-haspopup="dialog"><code>details</code></dfn> attribute
                </h3><a class="self-link" href="#details-attribute" aria-label="Permalink for Section 14.3"></a>
            </div>

            <p>
                An <a data-link-type="interface" data-lt="object"
                    href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a> or <a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-dictionary">dictionary</a> generated by a <a
                    href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-21">payment
                    method</a> that a merchant can use to process or validate a
                transaction (depending on the <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-22">payment method</a>).
            </p>
            <div class="note" role="note" id="issue-container-generatedID-27">
                <div role="heading" class="note-title marker" id="h-note-27" aria-level="4"><span>Note</span></div>
                <aside class="">
                    <p>
                        Each <a data-link-type="dfn"
                            href="https://www.w3.org/TR/payment-method-id/#dfn-standardized-payment-method-identifier">standardized
                            payment method identifier</a> defines its own
                        unique IDL <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-dictionary">dictionary</a> for use with the <a
                            data-link-type="element"
                            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element">details</a>
                        attribute. The shape of this data (i.e., its members and their
                        corresponding types and formats) differs depending on which
                        standardized payment method identifier is selected by the end user.
                    </p>
                    <p>
                        Similarly, a <a data-link-type="dfn"
                            href="https://www.w3.org/TR/payment-method-id/#dfn-url-based-payment-method-identifier">URL-based
                            payment method identifier</a> defines the
                        shape of <a data-link-type="element"
                            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element">details</a>.
                        However, as URL-based payment method
                        identifiers are not standardized by the <abbr title="World Wide Web Consortium">W3C</abbr>,
                        developers need to
                        consult whoever controls the URL for the expected shape of the
                        <a data-link-type="element"
                            href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element">details</a>
                        object.
                    </p>
                </aside>
            </div>
        </section>
        <section id="shippingaddress-attribute-0">
            <div class="header-wrapper">
                <h3 id="x14-4-shippingaddress-attribute"><bdi class="secno">14.4 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-shippingaddress"
                        data-idl="attribute" data-title="shippingAddress" data-dfn-for="PaymentResponse"
                        data-type="ContactAddress" data-lt="shippingAddress"
                        data-local-lt="PaymentResponse.shippingAddress" tabindex="0"
                        aria-haspopup="dialog"><code>shippingAddress</code></dfn> attribute
                </h3><a class="self-link" href="#shippingaddress-attribute-0"
                    aria-label="Permalink for Section 14.4"></a>
            </div>

            <p data-tests="payment-response/shippingAddress-attribute-manual.https.html">
                If the <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestshipping-9"><code>requestShipping</code></a> member was set to
                true in
                the <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-9"><code>PaymentOptions</code></a> passed to the <a
                    data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-29"><code>PaymentRequest</code></a> constructor,
                then <a data-link-type="idl" href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingaddress-5"><code>shippingAddress</code></a> will be the full
                and final
                <a data-link-type="dfn|abstract-op" href="#dfn-shipping-address" class="internalDFN"
                    id="ref-for-dfn-shipping-address-4">shipping address</a> chosen by the user.
            </p>
        </section>
        <section id="shippingoption-attribute-0">
            <div class="header-wrapper">
                <h3 id="x14-5-shippingoption-attribute"><bdi class="secno">14.5 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-shippingoption"
                        data-idl="attribute" data-title="shippingOption" data-dfn-for="PaymentResponse"
                        data-type="DOMString" data-lt="shippingOption" data-local-lt="PaymentResponse.shippingOption"
                        tabindex="0" aria-haspopup="dialog"><code>shippingOption</code></dfn> attribute
                </h3><a class="self-link" href="#shippingoption-attribute-0"
                    aria-label="Permalink for Section 14.5"></a>
            </div>

            <p data-tests="payment-response/shippingOption-attribute-manual.https.html">
                If the <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestshipping-10"><code>requestShipping</code></a> member was set
                to true in
                the <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-10"><code>PaymentOptions</code></a> passed to the <a
                    data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-30"><code>PaymentRequest</code></a> constructor,
                then <a data-link-type="idl" href="#dom-paymentrequest-shippingoption" class="internalDFN"
                    id="ref-for-dom-paymentrequest-shippingoption-6"><code>shippingOption</code></a> will be the
                <a data-link-type="idl" href="#dom-paymentshippingoption-id" class="internalDFN"
                    id="ref-for-dom-paymentshippingoption-id-6"><code>id</code></a> attribute of the selected shipping
                option.
            </p>
        </section>
        <section id="payername-attribute">
            <div class="header-wrapper">
                <h3 id="x14-6-payername-attribute"><bdi class="secno">14.6 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-payername"
                        data-idl="attribute" data-title="payerName" data-dfn-for="PaymentResponse" data-type="DOMString"
                        data-lt="payerName" data-local-lt="PaymentResponse.payerName" tabindex="0"
                        aria-haspopup="dialog"><code>payerName</code></dfn> attribute
                </h3><a class="self-link" href="#payername-attribute" aria-label="Permalink for Section 14.6"></a>
            </div>

            <p data-tests="payment-response/payerName-attribute-manual.https.html">
                If the <a data-link-type="idl" href="#dom-paymentoptions-requestpayername" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestpayername-3"><code>requestPayerName</code></a> member was set
                to true in
                the <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-11"><code>PaymentOptions</code></a> passed to the <a
                    data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-31"><code>PaymentRequest</code></a> constructor,
                then <a data-link-type="idl" href="#dom-paymentresponse-payername" class="internalDFN"
                    id="ref-for-dom-paymentresponse-payername-3"><code>payerName</code></a> will be the name provided by
                the
                user.
            </p>
        </section>
        <section id="payeremail-attribute">
            <div class="header-wrapper">
                <h3 id="x14-7-payeremail-attribute"><bdi class="secno">14.7 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-payeremail"
                        data-idl="attribute" data-title="payerEmail" data-dfn-for="PaymentResponse"
                        data-type="DOMString" data-lt="payerEmail" data-local-lt="PaymentResponse.payerEmail"
                        tabindex="0" aria-haspopup="dialog"><code>payerEmail</code></dfn> attribute
                </h3><a class="self-link" href="#payeremail-attribute" aria-label="Permalink for Section 14.7"></a>
            </div>

            <p data-tests="payment-response/payerEmail-attribute-manual.https.html">
                If the <a data-link-type="idl" href="#dom-paymentoptions-requestpayeremail" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestpayeremail-3"><code>requestPayerEmail</code></a> member was
                set to true in
                the <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-12"><code>PaymentOptions</code></a> passed to the <a
                    data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-32"><code>PaymentRequest</code></a> constructor,
                then <a data-link-type="idl" href="#dom-paymentresponse-payeremail" class="internalDFN"
                    id="ref-for-dom-paymentresponse-payeremail-3"><code>payerEmail</code></a> will be the email address
                chosen
                by the user.
            </p>
        </section>
        <section id="payerphone-attribute">
            <div class="header-wrapper">
                <h3 id="x14-8-payerphone-attribute"><bdi class="secno">14.8 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-payerphone"
                        data-idl="attribute" data-title="payerPhone" data-dfn-for="PaymentResponse"
                        data-type="DOMString" data-lt="payerPhone" data-local-lt="PaymentResponse.payerPhone"
                        tabindex="0" aria-haspopup="dialog"><code>payerPhone</code></dfn> attribute
                </h3><a class="self-link" href="#payerphone-attribute" aria-label="Permalink for Section 14.8"></a>
            </div>

            <p data-tests="payment-response/payerPhone-attribute-manual.https.html">
                If the <a data-link-type="idl" href="#dom-paymentoptions-requestpayerphone" class="internalDFN"
                    id="ref-for-dom-paymentoptions-requestpayerphone-3"><code>requestPayerPhone</code></a> member was
                set to true in
                the <a data-link-type="idl" data-lt="PaymentOptions" href="#dom-paymentoptions" class="internalDFN"
                    id="ref-for-dom-paymentoptions-13"><code>PaymentOptions</code></a> passed to the <a
                    data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-33"><code>PaymentRequest</code></a> constructor,
                then <a data-link-type="idl" href="#dom-paymentresponse-payerphone" class="internalDFN"
                    id="ref-for-dom-paymentresponse-payerphone-3"><code>payerPhone</code></a> will be the phone number
                chosen
                by the user.
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for requestId"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The requestId read-only property of the PaymentResponse interface returns the free-form identifier supplied by the PaymentResponse() constructor by details.id."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentResponse/requestId">PaymentResponse/requestId</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>16+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>43+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="requestid-attribute">
            <div class="header-wrapper">
                <h3 id="x14-9-requestid-attribute"><bdi class="secno">14.9 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-requestid"
                        data-idl="attribute" data-title="requestId" data-dfn-for="PaymentResponse" data-type="DOMString"
                        data-lt="requestId" data-local-lt="PaymentResponse.requestId" tabindex="0"
                        aria-haspopup="dialog"><code>requestId</code></dfn> attribute
                </h3><a class="self-link" href="#requestid-attribute" aria-label="Permalink for Section 14.9"></a>
            </div>

            <p data-tests="payment-response/requestId-attribute-manual.https.html">
                The corresponding payment request <a data-link-type="idl" href="#dom-paymentrequest-id"
                    class="internalDFN" id="ref-for-dom-paymentrequest-id-3"><code>id</code></a> that spawned
                this payment response.
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for complete"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequest method complete() of the Payment Request API notifies the user agent that the user interaction is over, and causes any remaining user interface to be closed."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentResponse/complete">PaymentResponse/complete</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentResponse" id="complete-method">
            <div class="header-wrapper">
                <h3 id="x14-10-complete-method"><bdi class="secno">14.10 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-paymentresponse-complete" data-idl="operation"
                        data-title="complete()" data-dfn-for="PaymentResponse" data-type="Promise"
                        data-lt="complete()|complete(result)|complete(result, details)"
                        data-local-lt="PaymentResponse.complete|PaymentResponse.complete()|complete" tabindex="0"
                        aria-haspopup="dialog"><code>complete()</code></dfn> method
                </h3><a class="self-link" href="#complete-method" aria-label="Permalink for Section 14.10"></a>
            </div>

            <div class="note" role="note" id="issue-container-generatedID-28">
                <div role="heading" class="note-title marker" id="h-note-28" aria-level="4"><span>Note</span></div>
                <p class="">
                    The <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                        class="internalDFN"
                        id="ref-for-dom-paymentresponse-complete-2"><code>complete</code></a><code>()</code> method is
                    called after the user
                    has accepted the payment request and the
                    <a data-link-type="attribute" data-lt="[[acceptPromise]]" href="#dfn-acceptpromise"
                        class="internalDFN" id="ref-for-dfn-acceptpromise-4"><code>[[acceptPromise]]</code></a> has been
                    resolved. Calling the
                    <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                        class="internalDFN"
                        id="ref-for-dom-paymentresponse-complete-3"><code>complete</code></a><code>()</code> method
                    tells the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-29">user agent</a>
                    that the payment interaction is over (and <em class="rfc2119">SHOULD</em> cause any remaining
                    user interface to be closed).
                </p>
            </div>
            <p>
                After the payment request has been accepted and the
                <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-18"><code>PaymentResponse</code></a> returned to the caller, but
                before the caller
                calls <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                    class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-4"><code>complete</code></a><code>()</code>, the payment
                request user
                interface remains in a pending state. At this point the user
                interface <em class="rfc2119">SHOULD NOT</em> offer a cancel command because acceptance of the
                payment request has been returned. However, if something goes wrong
                and the developer never calls <a data-link-type="idl" data-lt="complete()"
                    href="#dom-paymentresponse-complete" class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-5"><code>complete</code></a><code>()</code> then the
                user interface is blocked.
            </p>
            <p>
                For this reason, implementations <em class="rfc2119">MAY</em> impose a timeout for developers
                to call <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                    class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-6"><code>complete</code></a><code>()</code>. If the timeout
                expires then
                the implementation will behave as if <a data-link-type="idl" data-lt="complete()"
                    href="#dom-paymentresponse-complete" class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-7"><code>complete</code></a><code>()</code>
                was called with no arguments.
            </p>
            <p data-tests="payment-response/complete-method-manual.https.html">
                The <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                    class="internalDFN"
                    id="ref-for-dom-paymentresponse-complete-8"><code>complete</code></a><code>()</code> method <em
                    class="rfc2119">MUST</em> act as follows:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentResponse">response</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>.
                </li>
                <li>If <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                        id="ref-for-dfn-complete-2"><code>[[complete]]</code></a> is true, return
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise
                        rejected with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>If <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-6"><code>[[retryPromise]]</code></a> is not null,
                    return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a
                        promise rejected with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.
                </li>
                <li>Let <var>serializedData</var> be the result of <a data-link-type="dfn"
                        data-lt="serialize a JavaScript value to a JSON string"
                        href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">serialize</a>
                    <var>details</var>.<a data-link-type="idl" href="#dom-paymentcompletedetails-data"
                        class="internalDFN" id="ref-for-dom-paymentcompletedetails-data-2"><code>data</code></a> into a
                    JSON string.
                </li>
                <li>If serializing <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throws</a>
                    an exception, return <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a
                        promise rejected with</a> that exception.
                </li>
                <li>If required by the specification that defines the
                    <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                        href="#dom-paymentresponse-methodname" class="internalDFN"
                        id="ref-for-dom-paymentresponse-methodname-3"><code>methodName</code></a>:
                    <ol data-cite="ECMASCRIPT">
                        <li>Let <var>json</var> be the result of calling <code>JSON</code>'s <a data-link-type="method"
                                data-lt="parse()"
                                href="https://tc39.es/ecma262/multipage/structured-data.html#sec-json.parse"><code>parse</code></a><code>()</code>
                            with <var>serializedData</var>.
                        </li>
                        <li>Let <var>idl</var> be the result of <a data-link-type="dfn"
                                data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">converting</a>
                            <var>json</var> to an IDL value of the type specified
                            by the specification that defines the
                            <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                href="#dom-paymentresponse-methodname" class="internalDFN"
                                id="ref-for-dom-paymentresponse-methodname-4"><code>methodName</code></a>.
                        </li>
                        <li>If the conversion to an IDL value <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-throw">throws</a> an
                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>,
                            return <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected
                                with</a> that
                            exception.
                        </li>
                        <li>If required by the specification that defines the
                            <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                href="#dom-paymentresponse-methodname" class="internalDFN"
                                id="ref-for-dom-paymentresponse-methodname-5"><code>methodName</code></a>, validate the
                            members
                            of <var>idl</var>. If a member's value is invalid, return <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise
                                rejected with</a> a <a data-link-type="exception" data-lt="TypeError"
                                href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-native-error-types-used-in-this-standard-typeerror"><code>TypeError</code></a>.
                            <div class="note" role="note" id="issue-container-generatedID-29">
                                <div role="heading" class="note-title marker" id="h-note-29" aria-level="4">
                                    <span>Note</span><span class="issue-label">: Opportunity to recover</span>
                                </div>
                                <aside class="">
                                    <p>
                                        The steps above assures that errors that could result from
                                        IDL type conversion and/or validation are caught as early
                                        as possible, giving the developer an opportunity to
                                        recover.
                                    </p>
                                </aside>
                            </div>
                        </li>
                    </ol>
                </li>
                <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                        id="ref-for-dfn-complete-3"><code>[[complete]]</code></a> to true.
                </li>
                <li>Return <var data-type="Promise">promise</var> and perform the remaining steps <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
                        parallel</a>.
                </li>
                <li>If <var>document</var> stops being <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully
                        active</a> while the
                    user interface is being shown, or no longer is by the time this step
                    is reached, then:
                    <ol>
                        <li>Close down the user interface.
                        </li>
                        <li>Set <var>request</var>'s <a href="#dfn-payment-relevant-browsing-context"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-8">payment-relevant browsing
                                context</a>'s
                            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-10">payment request is showing</a> boolean to
                            false.
                        </li>
                    </ol>
                </li>
                <li>Otherwise:
                    <ol>
                        <li>Close down any remaining user interface. The <a href="#dfn-user-agent" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-user-agent-30">user
                                agent</a> <em class="rfc2119">MAY</em> use the value <var>result</var> and
                            <var>serializedData</var> to
                            influence the user experience.
                        </li>
                        <li>Set <var>request</var>'s <a href="#dfn-payment-relevant-browsing-context"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-relevant-browsing-context-9">payment-relevant browsing
                                context</a>'s
                            <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-request-is-showing-11">payment request is showing</a> boolean to
                            false.
                        </li>
                        <li>Resolve <var data-type="Promise">promise</var> with undefined.
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section data-dfn-for="PaymentResponse" id="onpayerdetailchange-attribute">
            <div class="header-wrapper">
                <h3 id="x14-11-onpayerdetailchange-attribute"><bdi class="secno">14.11 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-paymentresponse-onpayerdetailchange"
                        data-idl="attribute" data-title="onpayerdetailchange" data-dfn-for="PaymentResponse"
                        data-type="EventHandler" data-lt="onpayerdetailchange"
                        data-local-lt="PaymentResponse.onpayerdetailchange" tabindex="0"
                        aria-haspopup="dialog"><code>onpayerdetailchange</code></dfn> attribute
                </h3><a class="self-link" href="#onpayerdetailchange-attribute"
                    aria-label="Permalink for Section 14.11"></a>
            </div>

            <p>
                Allows a developer to handle "<a href="#dfn-payerdetailchange" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payerdetailchange-1"><code>payerdetailchange</code></a>" events.
            </p>
        </section>
        <section id="internal-slots-0">
            <div class="header-wrapper">
                <h3 id="x14-12-internal-slots"><bdi class="secno">14.12 </bdi>
                    Internal Slots
                </h3><a class="self-link" href="#internal-slots-0" aria-label="Permalink for Section 14.12"></a>
            </div>

            <p>
                Instances of <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                    class="internalDFN" id="ref-for-dom-paymentresponse-19"><code>PaymentResponse</code></a> are created
                with the <a data-link-type="dfn|abstract-op"
                    href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                    slots</a> in the following table:
            </p>
            <table class="data" data-dfn-for="PaymentResponse">
                <tbody>
                    <tr>
                        <th>
                            Internal Slot
                        </th>
                        <th>
                            Description (<em>non-normative</em>)
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentResponse" data-noexport="" data-dfn-type="attribute"
                                id="dfn-complete" tabindex="0" aria-haspopup="dialog">[[complete]]</dfn>
                        </td>
                        <td>
                            Is true if the request for payment has completed (i.e.,
                            <a data-link-type="idl" data-lt="complete()" href="#dom-paymentresponse-complete"
                                class="internalDFN"
                                id="ref-for-dom-paymentresponse-complete-9"><code>complete</code></a><code>()</code> was
                            called, or there was a fatal
                            error that made the response not longer usable), or false
                            otherwise.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentResponse" data-noexport="" data-dfn-type="attribute"
                                id="dfn-request" tabindex="0" aria-haspopup="dialog">[[request]]</dfn>
                        </td>
                        <td>
                            The <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-34"><code>PaymentRequest</code></a>
                            instance that instantiated this
                            <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                                class="internalDFN"
                                id="ref-for-dom-paymentresponse-20"><code>PaymentResponse</code></a>.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-idl="" data-dfn-for="PaymentResponse" data-noexport="" data-dfn-type="attribute"
                                id="dfn-retrypromise" tabindex="0" aria-haspopup="dialog">[[retryPromise]]</dfn>
                        </td>
                        <td>
                            Null, or a <a data-link-type="interface" data-lt="Promise"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a> that
                            resolves when a <a href="#dfn-user-accepts-the-payment-request-algorithm"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-accepts-the-payment-request-algorithm-5">user accepts the
                                payment request</a> or rejects if the <a href="#dfn-user-aborts-the-payment-request"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-user-aborts-the-payment-request-6">user aborts the payment
                                request</a>.
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </section>
    <section id="shipping-and-billing-addresses">
        <div class="header-wrapper">
            <h2 id="x15-shipping-and-billing-addresses"><bdi class="secno">15. </bdi>
                Shipping and billing addresses
            </h2><a class="self-link" href="#shipping-and-billing-addresses" aria-label="Permalink for Section 15."></a>
        </div>

        <p>
            The <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-35"><code>PaymentRequest</code></a> interface allows a merchant to
            request from the
            user <a data-link-type="dfn" data-lt="physical address"
                href="https://www.w3.org/TR/contact-picker/#physical-address">physical addresses</a> for the purposes of
            shipping and/or billing. A <dfn id="dfn-shipping-address" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">shipping address</dfn> and <dfn id="dfn-billing-address" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">billing
                address</dfn> are <a data-link-type="dfn" data-lt="physical address"
                href="https://www.w3.org/TR/contact-picker/#physical-address">physical addresses</a>.
        </p>
        <section data-dfn-for="AddressErrors" id="addresserrors-dictionary">
            <div class="header-wrapper">
                <h3 id="x15-1-addresserrors-dictionary"><bdi class="secno">15.1 </bdi>
                    <dfn data-export="" data-dfn-type="dictionary" id="dom-addresserrors" data-idl="dictionary"
                        data-title="AddressErrors" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>AddressErrors</code></dfn> dictionary
                </h3><a class="self-link" href="#addresserrors-dictionary" aria-label="Permalink for Section 15.1"></a>
            </div>

            <pre class="idl def" id="webidl-2030492674"><span class="idlHeader"><a class="self-link" href="#webidl-2030492674">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-addresserrors" data-title="AddressErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-addresserrors" id="ref-for-dom-addresserrors-4"><code>AddressErrors</code></a> {<span data-idl="" class="idlMember" id="idl-def-addresserrors-addressline" data-title="addressLine" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-addressline" id="ref-for-dom-addresserrors-addressline-1"><code>addressLine</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-city" data-title="city" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-city" id="ref-for-dom-addresserrors-city-1"><code>city</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-country" data-title="country" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-country" id="ref-for-dom-addresserrors-country-1"><code>country</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-dependentlocality" data-title="dependentLocality" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-dependentlocality" id="ref-for-dom-addresserrors-dependentlocality-1"><code>dependentLocality</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-organization" data-title="organization" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-organization" id="ref-for-dom-addresserrors-organization-1"><code>organization</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-phone" data-title="phone" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-phone" id="ref-for-dom-addresserrors-phone-1"><code>phone</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-postalcode" data-title="postalCode" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-postalcode" id="ref-for-dom-addresserrors-postalcode-1"><code>postalCode</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-recipient" data-title="recipient" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-recipient" id="ref-for-dom-addresserrors-recipient-1"><code>recipient</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-region" data-title="region" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-region" id="ref-for-dom-addresserrors-region-1"><code>region</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-addresserrors-sortingcode" data-title="sortingCode" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-sortingcode" id="ref-for-dom-addresserrors-sortingcode-1"><code>sortingCode</code></a>;</span>
};</span></code></pre>
            <p>
                The members of the <a data-link-type="idl" data-lt="AddressErrors" href="#dom-addresserrors"
                    class="internalDFN" id="ref-for-dom-addresserrors-5"><code>AddressErrors</code></a> dictionary
                represent validation
                errors with specific parts of a <a data-link-type="dfn"
                    href="https://www.w3.org/TR/contact-picker/#physical-address">physical address</a>. Each dictionary
                member has a dual function: firstly, its presence denotes that a
                particular part of an address is suffering from a validation error.
                Secondly, the string value allows the developer to describe the
                validation error (and possibly how the end user can fix the error).
            </p>
            <div class="note" role="note" id="issue-container-generatedID-30">
                <div role="heading" class="note-title marker" id="h-note-30" aria-level="4"><span>Note</span></div>
                <p class="">
                    Developers need to be aware that users might not have the ability to
                    fix certain parts of an address. As such, they need to be mindful not
                    to ask the user to fix things they might not have control over.
                </p>
            </div>
            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-addressline" data-idl="field"
                        data-title="addressLine" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>addressLine</code></dfn> member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-address-line">address line</a> has
                    a validation
                    error. In the user agent's UI, this member corresponds to the input
                    field that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-addressline"><code>addressLine</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-city" data-idl="field"
                        data-title="city" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>city</code></dfn> member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-city">city</a> has a validation
                    error.
                    In the user agent's UI, this member corresponds to the input field
                    that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s <a
                        data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-city"><code>city</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-country" data-idl="field"
                        data-title="country" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>country</code></dfn> member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-country">country</a> has a
                    validation
                    error. In the user agent's UI, this member corresponds to the input
                    field that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-country"><code>country</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-dependentlocality"
                        data-idl="field" data-title="dependentLocality" data-dfn-for="AddressErrors"
                        data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>dependentLocality</code></dfn>
                    member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-dependent-locality">dependent
                        locality</a> has a
                    validation error. In the user agent's UI, this member corresponds
                    to the input field that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-dependentlocality"><code>dependentLocality</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-organization" data-idl="field"
                        data-title="organization" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>organization</code></dfn> member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-organization">organization</a> has
                    a validation
                    error. In the user agent's UI, this member corresponds to the input
                    field that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-organization"><code>organization</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-phone" data-idl="field"
                        data-title="phone" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>phone</code></dfn> member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-phone-number">phone number</a> has
                    a validation
                    error. In the user agent's UI, this member corresponds to the input
                    field that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-phone"><code>phone</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-postalcode" data-idl="field"
                        data-title="postalCode" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>postalCode</code></dfn> member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-postal-code">postal code</a> has a
                    validation
                    error. In the user agent's UI, this member corresponds to the input
                    field that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-postalcode"><code>postalCode</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-recipient" data-idl="field"
                        data-title="recipient" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>recipient</code></dfn> member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-recipient">recipient</a> has a
                    validation
                    error. In the user agent's UI, this member corresponds to the input
                    field that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-addressline"><code>addressLine</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-region" data-idl="field"
                        data-title="region" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>region</code></dfn> member
                </dt>
                <dd>
                    Denotes that the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-region">region</a> has a validation
                    error. In the user agent's UI, this member corresponds to the input
                    field that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-region"><code>region</code></a>
                    attribute's value.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-addresserrors-sortingcode" data-idl="field"
                        data-title="sortingCode" data-dfn-for="AddressErrors" data-type="DOMString" tabindex="0"
                        aria-haspopup="dialog"><code>sortingCode</code></dfn> member
                </dt>
                <dd>
                    The <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-sorting-code">sorting code</a> has
                    a validation error. In
                    the user agent's UI, this member corresponds to the input field
                    that provided the <a data-link-type="interface" data-lt="ContactAddress"
                        href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>'s
                    <a data-link-type="attribute"
                        href="https://www.w3.org/TR/contact-picker/#dom-contactaddress-sortingcode"><code>sortingCode</code></a>
                    attribute's value.
                </dd>
            </dl>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="Expand MDN details for payment"><span>MDN</span><span> </span></summary>
            <a title="The HTTP Permissions-Policy header field's payment directive controls whether the current document is allowed to use the Payment Request API."
                href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy/payment">Headers/Feature-Policy/payment</a>

            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>60+</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>74+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>No</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
        <details>
            <summary aria-label="Expand MDN details for payment"><span>MDN</span><span
                    title="This feature has limited support.">🚫</span></summary>
            <a title="The HTTP Permissions-Policy header field's payment directive controls whether the current document is allowed to use the Payment Request API."
                href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/payment">Headers/Permissions-Policy/payment</a>
            <p class="engines-some">This feature has limited support.</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>?</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>74+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>No</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="permissions-policy" data-cite="permissions-policy">
        <div class="header-wrapper">
            <h2 id="x16-permissions-policy-integration"><bdi class="secno">16. </bdi>
                Permissions Policy integration
            </h2><a class="self-link" href="#permissions-policy" aria-label="Permalink for Section 16."></a>
        </div>

        <p>
            This specification defines a <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">policy-controlled
                feature</a> identified
            by the string <dfn class="permission" data-dfn-type="permission" id="dfn-payment" tabindex="0"
                aria-haspopup="dialog" data-export="">"payment"</dfn>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-permissions-policy"
                    title="Permissions Policy">permissions-policy</a></cite>]. Its <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">default
                allowlist</a> is <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self">'self'</a>.
        </p>
        <div class="note" role="note" id="issue-container-generatedID-31">
            <div role="heading" class="note-title marker" id="h-note-31" aria-level="3"><span>Note</span></div>
            <aside class="">
                <p>
                    A <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document">document</a>’s <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy">permissions
                        policy</a> determines
                    whether any content in that document is allowed to construct
                    <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-36"><code>PaymentRequest</code></a> instances. If disabled in any
                    document, no content
                    in the document will be <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to
                        use</a> the <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                        class="internalDFN" id="ref-for-dom-paymentrequest-37"><code>PaymentRequest</code></a>
                    constructor (trying to create an instance will throw).
                </p>
            </aside>
        </div>
    </section>
    <section id="events">
        <div class="header-wrapper">
            <h2 id="x17-events"><bdi class="secno">17. </bdi>
                Events
            </h2><a class="self-link" href="#events" aria-label="Permalink for Section 17."></a>
        </div>

        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for paymentmethodchange_event"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The paymentmethodchange event is delivered the Payment Request API to a PaymentRequest object when the user changes the payment method within a given payment handler."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/paymentmethodchange_event">PaymentRequest/paymentmethodchange_event</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>76+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>47+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>44+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section class="informative" id="summary">
            <div class="header-wrapper">
                <h3 id="x17-1-summary"><bdi class="secno">17.1 </bdi>
                    Summary
                </h3><a class="self-link" href="#summary" aria-label="Permalink for Section 17.1"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <table class="data">
                <tbody>
                    <tr>
                        <th>
                            Event name
                        </th>
                        <th>
                            Interface
                        </th>
                        <th>
                            Dispatched when…
                        </th>
                        <th>
                            Target
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <code><dfn id="dfn-shippingaddresschange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">shippingaddresschange</dfn></code>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-3"><code>PaymentRequestUpdateEvent</code></a>
                        </td>
                        <td>
                            The user provides a new shipping address.
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-38"><code>PaymentRequest</code></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code><dfn id="dfn-shippingoptionchange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">shippingoptionchange</dfn></code>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-4"><code>PaymentRequestUpdateEvent</code></a>
                        </td>
                        <td>
                            The user chooses a new shipping option.
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-39"><code>PaymentRequest</code></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code><dfn id="dfn-payerdetailchange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">payerdetailchange</dfn></code>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-5"><code>PaymentRequestUpdateEvent</code></a>
                        </td>
                        <td>
                            The user changes the payer name, the payer email, or the payer
                            phone (see <a href="#dfn-payer-detail-changed-algorithm" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-payer-detail-changed-algorithm-1">payer detail
                                changed algorithm</a>).
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                                class="internalDFN" id="ref-for-dom-paymentresponse-21"><code>PaymentResponse</code></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code><dfn id="dfn-paymentmethodchange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">paymentmethodchange</dfn></code>
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentMethodChangeEvent"
                                href="#dom-paymentmethodchangeevent" class="internalDFN"
                                id="ref-for-dom-paymentmethodchangeevent-3"><code>PaymentMethodChangeEvent</code></a>
                        </td>
                        <td>
                            The user chooses a different <a href="#dfn-payment-method" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-payment-method-23">payment method</a> within a
                            <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-handler-10">payment handler</a>.
                        </td>
                        <td>
                            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-40"><code>PaymentRequest</code></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for PaymentMethodChangeEvent"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentMethodChangeEvent interface of the Payment Request API describes the paymentmethodchange event which is fired by some payment handlers when the user switches payment instruments (e.g., a user selects a &quot;store&quot; card to make a purchase while using Apple Pay)."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentMethodChangeEvent">PaymentMethodChangeEvent</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>76+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
            <details>
                <summary aria-label="Expand MDN details for PaymentMethodChangeEvent"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentMethodChangeEvent() constructor creates a new PaymentMethodChangeEvent object providing details about a paymentmethodchange event."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentMethodChangeEvent/PaymentMethodChangeEvent">PaymentMethodChangeEvent/PaymentMethodChangeEvent</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>76+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>12.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentMethodChangeEvent" id="paymentmethodchangeevent-interface">
            <div class="header-wrapper">
                <h3 id="x17-2-paymentmethodchangeevent-interface"><bdi class="secno">17.2 </bdi>
                    <dfn data-export="" data-dfn-type="interface" id="dom-paymentmethodchangeevent" data-idl="interface"
                        data-title="PaymentMethodChangeEvent" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentMethodChangeEvent</code></dfn> interface
                </h3><a class="self-link" href="#paymentmethodchangeevent-interface"
                    aria-label="Permalink for Section 17.2"></a>
            </div>

            <pre class="idl def" id="webidl-1848946631"><span class="idlHeader"><a class="self-link" href="#webidl-1848946631">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-paymentmethodchangeevent" data-title="PaymentMethodChangeEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentmethodchangeevent" id="ref-for-dom-paymentmethodchangeevent-4"><code>PaymentMethodChangeEvent</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentrequestupdateevent" class="internalDFN" id="ref-for-dom-paymentrequestupdateevent-6"><code>PaymentRequestUpdateEvent</code></a></span> {<span data-idl="" class="idlConstructor" id="idl-def-paymentmethodchangeevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="PaymentMethodChangeEvent">
  <dfn data-export="" data-dfn-type="constructor" id="dom-paymentmethodchangeevent-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PaymentMethodChangeEvent" data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)" data-local-lt="PaymentMethodChangeEvent.constructor|PaymentMethodChangeEvent.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentmethodchangeeventinit" class="internalDFN" id="ref-for-dom-paymentmethodchangeeventinit-1"><code>PaymentMethodChangeEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-paymentmethodchangeevent-methodname" data-title="methodName" data-dfn-for="PaymentMethodChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentmethodchangeevent-methodname" id="ref-for-dom-paymentmethodchangeevent-methodname-1"><code>methodName</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-paymentmethodchangeevent-methoddetails" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentmethodchangeevent-methoddetails" id="ref-for-dom-paymentmethodchangeevent-methoddetails-2"><code>methodDetails</code></a>;</span>
};</span></code></pre>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for methodDetails"><span>MDN</span><span
                            title="This feature is in all major engines.">✅</span></summary>
                    <a title="The read-only methodDetails property of the PaymentMethodChangeEvent interface is an object containing any data the payment handler may provide to describe the change the user has made to their payment method. The value is null if no details are available."
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentMethodChangeEvent/methodDetails">PaymentMethodChangeEvent/methodDetails</a>
                    <p class="engines-all">This feature is in all major engines.</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>76+</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>55+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>12.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>No</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="methoddetails-attribute">
                <div class="header-wrapper">
                    <h4 id="x17-2-1-methoddetails-attribute"><bdi class="secno">17.2.1 </bdi>
                        <dfn data-export="" data-dfn-type="attribute" id="dom-paymentmethodchangeevent-methoddetails"
                            data-idl="attribute" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEvent"
                            data-type="object" data-lt="methodDetails"
                            data-local-lt="PaymentMethodChangeEvent.methodDetails" tabindex="0"
                            aria-haspopup="dialog"><code>methodDetails</code></dfn> attribute
                    </h4><a class="self-link" href="#methoddetails-attribute"
                        aria-label="Permalink for Section 17.2.1"></a>
                </div>

                <p>
                    When getting, returns the value it was initialized with. See
                    <a data-link-type="idl" href="#dom-paymentmethodchangeeventinit-methoddetails" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeeventinit-methoddetails-1"><code>methodDetails</code></a>
                    member of
                    <a data-link-type="idl" data-lt="PaymentMethodChangeEventInit"
                        href="#dom-paymentmethodchangeeventinit" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeeventinit-2"><code>PaymentMethodChangeEventInit</code></a>
                    for more information.
                </p>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for methodName"><span>MDN</span><span
                            title="This feature is in all major engines.">✅</span></summary>
                    <a title="The read-only methodName property of the PaymentMethodChangeEvent interface is a string which uniquely identifies the payment handler currently selected by the user. The payment handler may be a payment technology, such as Apple Pay or Android Pay, and each payment handler may support multiple payment methods; changes to the payment method within the payment handler are described by the PaymentMethodChangeEvent."
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentMethodChangeEvent/methodName">PaymentMethodChangeEvent/methodName</a>
                    <p class="engines-all">This feature is in all major engines.</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>76+</td>
                        </tr>
                        <tr class="chrome_android unknown">
                            <td>Chrome Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge unknown">
                            <td>Edge</td>
                            <td>?</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>55+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>12.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>No</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="methodname-attribute-0">
                <div class="header-wrapper">
                    <h4 id="x17-2-2-methodname-attribute"><bdi class="secno">17.2.2 </bdi>
                        <dfn data-export="" data-dfn-type="attribute" id="dom-paymentmethodchangeevent-methodname"
                            data-idl="attribute" data-title="methodName" data-dfn-for="PaymentMethodChangeEvent"
                            data-type="DOMString" data-lt="methodName"
                            data-local-lt="PaymentMethodChangeEvent.methodName" tabindex="0"
                            aria-haspopup="dialog"><code>methodName</code></dfn> attribute
                    </h4><a class="self-link" href="#methodname-attribute-0"
                        aria-label="Permalink for Section 17.2.2"></a>
                </div>

                <p>
                    When getting, returns the value it was initialized with. See
                    <a data-link-type="idl" href="#dom-paymentmethodchangeeventinit-methodname" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeeventinit-methodname-1"><code>methodName</code></a> member of
                    <a data-link-type="idl" data-lt="PaymentMethodChangeEventInit"
                        href="#dom-paymentmethodchangeeventinit" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeeventinit-3"><code>PaymentMethodChangeEventInit</code></a>
                    for more information.
                </p>
            </section>
            <section data-dfn-for="PaymentMethodChangeEventInit" id="paymentmethodchangeeventinit-dictionary">
                <div class="header-wrapper">
                    <h4 id="x17-2-3-paymentmethodchangeeventinit-dictionary"><bdi class="secno">17.2.3 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentmethodchangeeventinit"
                            data-idl="dictionary" data-title="PaymentMethodChangeEventInit" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>PaymentMethodChangeEventInit</code></dfn> dictionary
                    </h4><a class="self-link" href="#paymentmethodchangeeventinit-dictionary"
                        aria-label="Permalink for Section 17.2.3"></a>
                </div>

                <pre class="idl def" id="webidl-746190437"><span class="idlHeader"><a class="self-link" href="#webidl-746190437">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentmethodchangeeventinit" data-title="PaymentMethodChangeEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentmethodchangeeventinit" id="ref-for-dom-paymentmethodchangeeventinit-4"><code>PaymentMethodChangeEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentrequestupdateeventinit" class="internalDFN" id="ref-for-dom-paymentrequestupdateeventinit-1"><code>PaymentRequestUpdateEventInit</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-paymentmethodchangeeventinit-methodname" data-title="methodName" data-dfn-for="PaymentMethodChangeEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethodchangeeventinit-methodname" id="ref-for-dom-paymentmethodchangeeventinit-methodname-2"><code>methodName</code></a> = "";</span><span data-idl="" class="idlMember" id="idl-def-paymentmethodchangeeventinit-methoddetails" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethodchangeeventinit-methoddetails" id="ref-for-dom-paymentmethodchangeeventinit-methoddetails-2"><code>methodDetails</code></a> = null;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-paymentmethodchangeeventinit-methodname"
                            data-idl="field" data-title="methodName" data-dfn-for="PaymentMethodChangeEventInit"
                            data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>methodName</code></dfn>
                        member
                    </dt>
                    <dd>
                        A string representing the <a data-link-type="dfn"
                            href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method identifier</a>.
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member"
                            id="dom-paymentmethodchangeeventinit-methoddetails" data-idl="field"
                            data-title="methodDetails" data-dfn-for="PaymentMethodChangeEventInit" data-type="object"
                            tabindex="0" aria-haspopup="dialog"><code>methodDetails</code></dfn> member
                    </dt>
                    <dd>
                        An object representing some data from the payment method, or
                        null.
                    </dd>
                </dl>
            </section>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for PaymentRequestUpdateEvent"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The PaymentRequestUpdateEvent interface is used for events sent to a PaymentRequest instance when changes are made to shipping-related information for a pending PaymentRequest. Those events are:"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequestUpdateEvent">PaymentRequestUpdateEvent</a>
                <p class="engines-all">This feature is in all major engines.</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android yes">
                        <td>Chrome Android</td>
                        <td>53+</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>15+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>55+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>11.1+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android no">
                        <td>WebView Android</td>
                        <td>No</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section data-dfn-for="PaymentRequestUpdateEvent" id="paymentrequestupdateevent-interface">
            <div class="header-wrapper">
                <h3 id="x17-3-paymentrequestupdateevent-interface"><bdi class="secno">17.3 </bdi>
                    <dfn data-export="" data-dfn-type="interface" id="dom-paymentrequestupdateevent"
                        data-idl="interface" data-title="PaymentRequestUpdateEvent" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>PaymentRequestUpdateEvent</code></dfn> interface
                </h3><a class="self-link" href="#paymentrequestupdateevent-interface"
                    aria-label="Permalink for Section 17.3"></a>
            </div>

            <pre class="idl def" id="webidl-1601085411"><span class="idlHeader"><a class="self-link" href="#webidl-1601085411">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-paymentrequestupdateevent" data-title="PaymentRequestUpdateEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentrequestupdateevent" id="ref-for-dom-paymentrequestupdateevent-7"><code>PaymentRequestUpdateEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-paymentrequestupdateevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="PaymentRequestUpdateEvent">
  <a class="internalDFN" data-link-type="constructor" href="#dom-paymentrequestupdateevent-constructor" id="ref-for-dom-paymentrequestupdateevent-constructor-1"><code>constructor</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentrequestupdateeventinit" class="internalDFN" id="ref-for-dom-paymentrequestupdateeventinit-2"><code>PaymentRequestUpdateEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-paymentrequestupdateevent-updatewith-detailspromise" data-title="updateWith" data-dfn-for="PaymentRequestUpdateEvent"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequestupdateevent-updatewith" id="ref-for-dom-paymentrequestupdateevent-updatewith-6"><code>updateWith</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsupdate" class="internalDFN" id="ref-for-dom-paymentdetailsupdate-9"><code>PaymentDetailsUpdate</code></a>&gt;</span> <span class="idlParamName">detailsPromise</span>);</span>
};</span></code></pre>
            <p>
                The <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent" href="#dom-paymentrequestupdateevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequestupdateevent-8"><code>PaymentRequestUpdateEvent</code></a> enables
                developers to update the
                details of the payment request in response to a user interaction.
            </p>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for PaymentRequestUpdateEvent"><span>MDN</span><span
                            title="This feature is in all major engines.">✅</span></summary>
                    <a title="The PaymentRequestUpdateEvent() constructor creates a new PaymentRequestUpdateEvent object which enables a web page to update the details of a PaymentRequest in response to a user action. Actual updates are made by passing options to the updateWith() method."
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequestUpdateEvent/PaymentRequestUpdateEvent">PaymentRequestUpdateEvent/PaymentRequestUpdateEvent</a>
                    <p class="engines-all">This feature is in all major engines.</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>60+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>53+</td>
                        </tr>
                        <tr class="edge yes">
                            <td>Edge</td>
                            <td>15+</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>55+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>11.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>No</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="constructor-0">
                <div class="header-wrapper">
                    <h4 id="x17-3-1-constructor"><bdi class="secno">17.3.1 </bdi>
                        <dfn data-lt="PaymentRequestUpdateEvent.PaymentRequestUpdateEvent()|Constructor|constructor()|constructor(type)|constructor(type, eventInitDict)"
                            data-export="" data-dfn-type="constructor" id="dom-paymentrequestupdateevent-constructor"
                            data-idl="constructor" data-title="Constructor" data-dfn-for="PaymentRequestUpdateEvent"
                            data-local-lt="PaymentRequestUpdateEvent.constructor|PaymentRequestUpdateEvent.constructor()|constructor"
                            tabindex="0" aria-haspopup="dialog"><code>Constructor</code></dfn>
                    </h4><a class="self-link" href="#constructor-0" aria-label="Permalink for Section 17.3.1"></a>
                </div>

                <p
                    data-tests="PaymentRequestUpdateEvent/constructor.https.html, PaymentRequestUpdateEvent/constructor.http.html">
                    The <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                        href="#dom-paymentrequestupdateevent" class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-9"><code>PaymentRequestUpdateEvent</code></a>'s
                    <a data-link-type="idl" data-lt="constructor(type, eventInitDict)"
                        href="#dom-paymentrequestupdateevent-constructor" class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-constructor-2"><code>constructor</code></a><code>(<var>type</var>, <var>eventInitDict</var>)</code>
                    <em class="rfc2119">MUST</em>
                    act as follows:
                </p>
                <ol class="algorithm">
                    <li>Let <var data-type="PaymentRequestUpdateEvent">event</var> be the result of calling
                        the <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-event-constructor">constructor</a> of <a
                            data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                            href="#dom-paymentrequestupdateevent" class="internalDFN"
                            id="ref-for-dom-paymentrequestupdateevent-10"><code>PaymentRequestUpdateEvent</code></a>
                        with
                        <var>type</var> and <var>eventInitDict</var>.
                    </li>
                    <li>Set <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                            data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                            id="ref-for-dfn-waitforupdate-1"><code>[[waitForUpdate]]</code></a> to
                        false.
                    </li>
                    <li>Return <var data-type="PaymentRequestUpdateEvent">event</var>.
                    </li>
                </ol>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for updateWith"><span>MDN</span><span
                            title="This feature is in all major engines.">✅</span></summary>
                    <a title="The updateWith() method of the PaymentRequestUpdateEvent interface updates the details of an existing PaymentRequest."
                        href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequestUpdateEvent/updateWith">PaymentRequestUpdateEvent/updateWith</a>
                    <p class="engines-all">This feature is in all major engines.</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>60+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>53+</td>
                        </tr>
                        <tr class="edge yes">
                            <td>Edge</td>
                            <td>15+</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>55+</td>
                        </tr>
                        <tr class="firefox_android unknown">
                            <td>Firefox Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>11.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>No</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="updatewith-method">
                <div class="header-wrapper">
                    <h4 id="x17-3-2-updatewith-method"><bdi class="secno">17.3.2 </bdi>
                        <dfn data-export="" data-dfn-type="method" id="dom-paymentrequestupdateevent-updatewith"
                            data-idl="operation" data-title="updateWith()" data-dfn-for="PaymentRequestUpdateEvent"
                            data-type="undefined" data-lt="updateWith()|updateWith(detailsPromise)"
                            data-local-lt="PaymentRequestUpdateEvent.updateWith|PaymentRequestUpdateEvent.updateWith()|updateWith"
                            tabindex="0" aria-haspopup="dialog"><code>updateWith()</code></dfn> method
                    </h4><a class="self-link" href="#updatewith-method" aria-label="Permalink for Section 17.3.2"></a>
                </div>

                <div class="note" role="note" id="issue-container-generatedID-32">
                    <div role="heading" class="note-title marker" id="h-note-32" aria-level="5"><span>Note</span></div>
                    <aside class="">
                        <p>
                            If a developer wants to update the payment request, then they
                            need to call <a data-link-type="idl" data-lt="updateWith()"
                                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-updatewith-7"><code>updateWith</code></a><code>()</code>
                            and
                            provide a <a data-link-type="idl" data-lt="PaymentDetailsUpdate"
                                href="#dom-paymentdetailsupdate" class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-10"><code>PaymentDetailsUpdate</code></a>
                            dictionary, or a promise for
                            one, containing changed values that the <a href="#dfn-user-agent" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-user-agent-31">user agent</a>
                            presents to the user.
                        </p>
                        <p>
                            To prevent the user interface from blocking (and to reflect
                            changes made by the end user through the UI), developers need to
                            immediately call <a data-link-type="idl" data-lt="updateWith()"
                                href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-updatewith-8"><code>updateWith</code></a><code>()</code>.
                        </p>
                        <div class="example" id="example-how-to-use-updatewith-correctly">
                            <div class="marker">
                                <a class="self-link"
                                    href="#example-how-to-use-updatewith-correctly">Example<bdi></bdi></a><span
                                    class="example-title">: how to use `updateWith()` correctly.</span>
                            </div>
                            <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// ❌ Bad - this won't work!</span>
request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-keyword">async</span> ev =&gt; {
  <span class="hljs-comment">// await goes to next tick, and updateWith()</span>
  <span class="hljs-comment">// was not called.</span>
  <span class="hljs-keyword">const</span> details = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getNewDetails</span>(oldDetails);
  <span class="hljs-comment">// 💥 So it's now too late! updateWith()</span>
  <span class="hljs-comment">// throws "InvalidStateError".</span>
  ev.<span class="hljs-title function_">updateWith</span>(details);
};

<span class="hljs-comment">// ✅ Good - UI will wait.</span>
request.<span class="hljs-property">onshippingaddresschange</span> = <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
  <span class="hljs-comment">// Calling updateWith() with a promise is ok 👍</span>
  <span class="hljs-keyword">const</span> promiseForNewDetails = <span class="hljs-title function_">getNewDetails</span>(oldDetails);
  ev.<span class="hljs-title function_">updateWith</span>(promiseForNewDetails);
};</code></pre>
                        </div>
                        <p>
                            Additionally, <a data-link-type="attribute" data-lt="[[waitForUpdate]]"
                                href="#dfn-waitforupdate" class="internalDFN"
                                id="ref-for-dfn-waitforupdate-2"><code>[[waitForUpdate]]</code></a>
                            prevents reuse of <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-11"><code>PaymentRequestUpdateEvent</code></a>.
                        </p>
                        <div class="example" id="example-can-only-call-updatewith-once">
                            <div class="marker">
                                <a class="self-link"
                                    href="#example-can-only-call-updatewith-once">Example<bdi></bdi></a><span
                                    class="example-title">: can only call `updateWith()` once</span>
                            </div>
                            <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// ❌ Bad - calling updateWith() twice doesn't work!</span>
request.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"shippingaddresschange"</span>, <span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> {
  ev.<span class="hljs-title function_">updateWith</span>(details); <span class="hljs-comment">// this is ok.</span>
  <span class="hljs-comment">// 💥 [[waitForUpdate]] is true, throws "InvalidStateError".</span>
  ev.<span class="hljs-title function_">updateWith</span>(otherDetails);
});

<span class="hljs-comment">// ❌ Bad - this won't work either!</span>
request.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"shippingaddresschange"</span>, <span class="hljs-keyword">async</span> ev =&gt; {
  <span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>({ ...details });
  ev.<span class="hljs-title function_">updateWith</span>(p);
  <span class="hljs-keyword">await</span> p;
  <span class="hljs-comment">// 💥 Only one call to updateWith() is allowed,</span>
  <span class="hljs-comment">// so the following throws "InvalidStateError"</span>
  ev.<span class="hljs-title function_">updateWith</span>({ ...newDetails });
});</code></pre>
                        </div>
                    </aside>
                </div>
                <p
                    data-tests="PaymentRequestUpdateEvent/updatewith-method.https.html, PaymentRequestUpdateEvent/updateWith-incremental-update-manual.https.html">
                    The <a data-link-type="idl" data-lt="updateWith()" href="#dom-paymentrequestupdateevent-updatewith"
                        class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-updatewith-9"><code>updateWith</code></a><code>()</code>
                    with
                    <var data-type="Promise">detailsPromise</var> method <em class="rfc2119">MUST</em> act as follows:
                </p>
                <ol class="algorithm">
                    <li>Let <var data-type="PaymentRequestUpdateEvent">event</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.
                    </li>
                    <li>If <var data-type="PaymentRequestUpdateEvent">event</var>'s <a data-link-type="attribute"
                            href="https://dom.spec.whatwg.org/#dom-event-istrusted"><code>isTrusted</code></a> attribute
                        is false, then
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> an "<a
                            data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li>If <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                            data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                            id="ref-for-dfn-waitforupdate-3"><code>[[waitForUpdate]]</code></a> is
                        true, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> an
                        "<a data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li>If <var data-type="PaymentRequestUpdateEvent">event</var>'s <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#event-target">target</a> is an instance of
                        <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-22"><code>PaymentResponse</code></a>,
                        let <var data-type="PaymentRequest">request</var> be <var
                            data-type="PaymentRequestUpdateEvent">event</var>'s
                        <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#event-target">target</a>'s <a
                            data-link-type="attribute" data-lt="[[request]]" href="#dfn-request" class="internalDFN"
                            id="ref-for-dfn-request-2"><code>[[request]]</code></a>.
                    </li>
                    <li>Otherwise, let <var data-type="PaymentRequest">request</var> be the value of
                        <var data-type="PaymentRequestUpdateEvent">event</var>'s <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#event-target">target</a>.
                    </li>
                    <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                            data-type="PaymentRequest">request</var> is an instance of <a data-link-type="idl"
                            data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                            id="ref-for-dom-paymentrequest-41"><code>PaymentRequest</code></a>.
                    </li>
                    <li>If <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                            data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                            id="ref-for-dfn-state-11"><code>[[state]]</code></a> is not
                        "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                            id="ref-for-dfn-interactive-5">interactive</a>", then <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> an
                        "<a data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li>If <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                            data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                            id="ref-for-dfn-updating-2"><code>[[updating]]</code></a> is true, then
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> an "<a
                            data-link-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="interface" data-lt="DOMException"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li>Set <var data-type="PaymentRequestUpdateEvent">event</var>'s <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#stop-propagation-flag">stop propagation flag</a> and <a
                            data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#stop-immediate-propagation-flag">stop immediate
                            propagation flag</a>.
                    </li>
                    <li>Set <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                            data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                            id="ref-for-dfn-waitforupdate-4"><code>[[waitForUpdate]]</code></a> to
                        true.
                    </li>
                    <li>Let <var data-type="URL or null">pmi</var> be null.
                    </li>
                    <li>If <var data-type="PaymentRequestUpdateEvent">event</var> has a <a data-link-type="idl"
                            href="#dom-paymentmethodchangeevent-methodname" class="internalDFN"
                            id="ref-for-dom-paymentmethodchangeevent-methodname-2"><code>methodName</code></a>
                        attribute, set <var data-type="URL or null">pmi</var> to the <a data-link-type="idl"
                            href="#dom-paymentmethodchangeevent-methodname" class="internalDFN"
                            id="ref-for-dom-paymentmethodchangeevent-methodname-3"><code>methodName</code></a>
                        attribute's value.
                    </li>
                    <li>Run the <a href="#dfn-update-a-paymentrequest-s-details-algorithm" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-update-a-paymentrequest-s-details-algorithm-3">update a
                            <code>PaymentRequest</code>'s details
                            algorithm</a> with <var data-type="Promise">detailsPromise</var>, <var
                            data-type="PaymentRequest">request</var>, and <var data-type="URL or null">pmi</var>.
                    </li>
                </ol>
            </section>
            <section id="internal-slots-1">
                <div class="header-wrapper">
                    <h4 id="x17-3-3-internal-slots"><bdi class="secno">17.3.3 </bdi>
                        Internal Slots
                    </h4><a class="self-link" href="#internal-slots-1" aria-label="Permalink for Section 17.3.3"></a>
                </div>

                <p>
                    Instances of <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                        href="#dom-paymentrequestupdateevent" class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-12"><code>PaymentRequestUpdateEvent</code></a> are
                    created with the
                    <a data-link-type="dfn|abstract-op"
                        href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                        slots</a> in the following table:
                </p>
                <table class="data" data-dfn-for="PaymentRequestUpdateEvent">
                    <tbody>
                        <tr>
                            <th>
                                Internal Slot
                            </th>
                            <th>
                                Description (<em>non-normative</em>)
                            </th>
                        </tr>
                        <tr>
                            <td>
                                <dfn data-dfn-for="PaymentRequestUpdateEvent" data-idl="" data-noexport=""
                                    data-dfn-type="attribute" id="dfn-waitforupdate" tabindex="0"
                                    aria-haspopup="dialog">[[waitForUpdate]]</dfn>
                            </td>
                            <td>
                                A boolean indicating whether an
                                <a data-link-type="idl" data-lt="updateWith()"
                                    href="#dom-paymentrequestupdateevent-updatewith" class="internalDFN"
                                    id="ref-for-dom-paymentrequestupdateevent-updatewith-10"><code>updateWith</code></a><code>()</code>-initiated
                                update is
                                currently in progress.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section id="paymentrequestupdateeventinit-dictionary">
                <div class="header-wrapper">
                    <h4 id="x17-3-4-paymentrequestupdateeventinit-dictionary"><bdi class="secno">17.3.4 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-paymentrequestupdateeventinit"
                            data-idl="dictionary" data-title="PaymentRequestUpdateEventInit" data-dfn-for=""
                            tabindex="0" aria-haspopup="dialog"><code>PaymentRequestUpdateEventInit</code></dfn>
                        dictionary
                    </h4><a class="self-link" href="#paymentrequestupdateeventinit-dictionary"
                        aria-label="Permalink for Section 17.3.4"></a>
                </div>

                <pre class="idl def"
                    id="webidl-349124107"><span class="idlHeader"><a class="self-link" href="#webidl-349124107">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-paymentrequestupdateeventinit" data-title="PaymentRequestUpdateEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentrequestupdateeventinit" id="ref-for-dom-paymentrequestupdateeventinit-3"><code>PaymentRequestUpdateEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {};</span></code></pre>
            </section>
        </section>
    </section>
    <section id="algorithms">
        <div class="header-wrapper">
            <h2 id="x18-algorithms"><bdi class="secno">18. </bdi>
                Algorithms
            </h2><a class="self-link" href="#algorithms" aria-label="Permalink for Section 18."></a>
        </div>

        <p>
            When the <a data-link-type="dfn|abstract-op"
                href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                slot</a> <a data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                id="ref-for-dfn-state-12"><code>[[state]]</code></a> of a
            <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                id="ref-for-dom-paymentrequest-42"><code>PaymentRequest</code></a> object is set to "<a
                data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                id="ref-for-dfn-interactive-6">interactive</a>",
            the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-32">user
                agent</a> will trigger the following algorithms based on
            user interaction.
        </p>
        <section id="can-make-payment-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-1-can-make-payment-algorithm"><bdi class="secno">18.1 </bdi>
                    Can make payment algorithm
                </h3><a class="self-link" href="#can-make-payment-algorithm"
                    aria-label="Permalink for Section 18.1"></a>
            </div>

            <p>
                The <dfn id="dfn-can-make-payment-algorithm" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">can
                    make payment algorithm</dfn> checks if the <a href="#dfn-user-agent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-user-agent-33">user
                    agent</a> supports making payment with the <a href="#dfn-payment-method" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-payment-method-24">payment methods</a>
                with which the <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-43"><code>PaymentRequest</code></a> was
                constructed.
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be the <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-44"><code>PaymentRequest</code></a> object on
                    which the method was called.
                </li>
                <li>If <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-13"><code>[[state]]</code></a> is
                    not
                    "<a data-link-type="dfn|abstract-op" href="#dfn-created" class="internalDFN"
                        id="ref-for-dfn-created-4">created</a>", then return <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected
                        with</a> an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li data-tests="">Optionally, at the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">top-level
                        browsing
                        context</a>'s discretion, return <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected with</a> a
                    "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    <div class="note" role="note" id="issue-container-generatedID-33">
                        <div role="heading" class="note-title marker" id="h-note-33" aria-level="4"><span>Note</span>
                        </div>
                        <p class="">
                            This allows user agents to apply heuristics to detect and prevent
                            abuse of the calling method for fingerprinting purposes, such as
                            creating <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-45"><code>PaymentRequest</code></a>
                            objects with a variety of supported
                            <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payment-method-25">payment methods</a> and triggering the <a
                                href="#dfn-can-make-payment-algorithm" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-can-make-payment-algorithm-2">can make payment
                                algorithm</a> on them one after the other. For example, a user
                            agent may restrict the number of successful calls that can be
                            made based on the <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">top-level
                                browsing context</a> or the time
                            period in which those calls were made.
                        </p>
                    </div>
                </li>
                <li>Let <var data-type="Promise">hasHandlerPromise</var> be <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.
                </li>
                <li>Return <var data-type="Promise">hasHandlerPromise</var>, and perform the remaining steps <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
                        parallel</a>.
                </li>
                <li>For each <var>paymentMethod</var> tuple in <var data-type="PaymentRequest">request</var>.
                    <a data-link-type="attribute" data-lt="[[serializedMethodData]]" href="#dfn-serializedmethoddata"
                        class="internalDFN"
                        id="ref-for-dfn-serializedmethoddata-3"><code>[[serializedMethodData]]</code></a>:
                    <ol>
                        <li>Let <var>identifier</var> be the first element in the <var>paymentMethod</var>
                            tuple.
                        </li>
                        <li>If the user agent has a <a href="#dfn-payment-handler" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-payment-handler-11">payment handler</a> that
                            supports
                            handling payment requests for <var>identifier</var>, resolve
                            <var data-type="Promise">hasHandlerPromise</var> with true and terminate this algorithm.
                        </li>
                    </ol>
                </li>
                <li>Resolve <var data-type="Promise">hasHandlerPromise</var> with false.
                </li>
            </ol>
        </section>
        <section id="shipping-address-changed-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-2-shipping-address-changed-algorithm"><bdi class="secno">18.2 </bdi>
                    Shipping address changed algorithm
                </h3><a class="self-link" href="#shipping-address-changed-algorithm"
                    aria-label="Permalink for Section 18.2"></a>
            </div>

            <p data-tests="algorithms-manual.https.html#shipping-address-changed-algo">
                The <dfn id="dfn-shipping-address-changed-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">shipping address changed algorithm</dfn> runs when the user
                provides a new shipping address. It <em class="rfc2119">MUST</em> run the following steps:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be the <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-46"><code>PaymentRequest</code></a> object
                    that the user is interacting with.
                </li>
                <li>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue a task</a> on
                    the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                        interaction task source</a> to
                    run the following steps:
                    <ol>
                        <li>
                            <div class="note" role="note" id="issue-container-generatedID-34">
                                <div role="heading" class="note-title marker" id="h-note-34" aria-level="4">
                                    <span>Note</span><span class="issue-label">: Privacy of recipient information</span>
                                </div>
                                <div class="">
                                    <p>
                                        The <var>redactList</var> limits the amount of personal information
                                        about the recipient that the API shares with the merchant.
                                    </p>
                                    <p>
                                        For merchants, the resulting <a data-link-type="interface"
                                            data-lt="ContactAddress"
                                            href="https://www.w3.org/TR/contact-picker/#contactaddress"><code>ContactAddress</code></a>
                                        object
                                        provides enough information to, for example, calculate
                                        shipping costs, but, in most cases, not enough information
                                        to physically locate and uniquely identify the recipient.
                                    </p>
                                    <p>
                                        Unfortunately, even with the <var>redactList</var>, recipient
                                        anonymity cannot be assured. This is because in some
                                        countries postal codes are so fine-grained that they can
                                        uniquely identify a recipient.
                                    </p>
                                </div>
                            </div>
                        </li>
                        <li>Let <var data-type="list">redactList</var> be the empty list. Set <var
                                data-type="list">redactList</var> to
                            « "organization", "phone", "recipient", "addressLine" ».
                        </li>
                        <li>Let <var data-type="ContactAddress">address</var> be the result of running the
                            steps to <a data-link-type="dfn"
                                href="https://www.w3.org/TR/contact-picker/#contactsmanager-create-a-contactaddress-from-user-provided-input">create
                                a contactaddress from user-provided input</a> with <var
                                data-type="list">redactList</var>.
                        </li>
                        <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="idl"
                                href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                                id="ref-for-dom-paymentrequest-shippingaddress-6"><code>shippingAddress</code></a> to
                            <var data-type="ContactAddress">address</var>.
                        </li>
                        <li>Run the <a href="#dfn-paymentrequest-updated-algorithm" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-paymentrequest-updated-algorithm-1">PaymentRequest
                                updated algorithm</a> with
                            <var data-type="PaymentRequest">request</var> and "<a href="#dfn-shippingaddresschange"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-shippingaddresschange-2"><code>shippingaddresschange</code></a>".
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="shipping-option-changed-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-3-shipping-option-changed-algorithm"><bdi class="secno">18.3 </bdi>
                    Shipping option changed algorithm
                </h3><a class="self-link" href="#shipping-option-changed-algorithm"
                    aria-label="Permalink for Section 18.3"></a>
            </div>

            <p data-tests="algorithms-manual.https.html#shipping-option-changed-algo">
                The <dfn id="dfn-shipping-option-changed-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">shipping option changed algorithm</dfn> runs when the user
                chooses a new shipping option. It <em class="rfc2119">MUST</em> run the following steps:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be the <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-47"><code>PaymentRequest</code></a> object
                    that the user is interacting with.
                </li>
                <li>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue a task</a> on
                    the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                        interaction task source</a> to
                    run the following steps:
                    <ol>
                        <li>Set the <a data-link-type="idl" href="#dom-paymentrequest-shippingoption"
                                class="internalDFN"
                                id="ref-for-dom-paymentrequest-shippingoption-7"><code>shippingOption</code></a>
                            attribute on
                            <var data-type="PaymentRequest">request</var> to the <code>id</code> string of the
                            <a data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                                class="internalDFN"
                                id="ref-for-dom-paymentshippingoption-7"><code>PaymentShippingOption</code></a> provided
                            by the user.
                        </li>
                        <li>Run the <a href="#dfn-paymentrequest-updated-algorithm" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-paymentrequest-updated-algorithm-2">PaymentRequest
                                updated algorithm</a> with
                            <var data-type="PaymentRequest">request</var> and "<a href="#dfn-shippingoptionchange"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-shippingoptionchange-3"><code>shippingoptionchange</code></a>".
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="payment-method-changed-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-4-payment-method-changed-algorithm"><bdi class="secno">18.4 </bdi>
                    Payment method changed algorithm
                </h3><a class="self-link" href="#payment-method-changed-algorithm"
                    aria-label="Permalink for Section 18.4"></a>
            </div>

            <p>
                A <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-handler-12">payment handler</a> <em class="rfc2119">MAY</em> run the <dfn
                    data-export="" data-dfn-for="payment handler" id="dfn-payment-method-changed-algorithm" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">payment method changed algorithm</dfn>
                when the user changes <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-26">payment method</a> with <var>methodDetails</var>,
                which is a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary">dictionary</a>
                or an <a data-link-type="interface" data-lt="object"
                    href="https://webidl.spec.whatwg.org/#idl-object"><code>object</code></a> or null, and a
                <var>methodName</var>, which is a DOMString that represents the <a data-link-type="dfn"
                    href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment
                    method identifier</a> of the <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-handler-13">payment handler</a> the user is
                interacting with.
            </p>
            <div class="note" role="note" id="issue-container-generatedID-35">
                <div role="heading" class="note-title marker" id="h-note-35" aria-level="4"><span>Note</span><span
                        class="issue-label">: Privacy of information shared by paymentmethodchange event</span></div>
                <p class="">
                    When the user selects or changes a payment method (e.g., a credit
                    card), the <a data-link-type="idl" data-lt="PaymentMethodChangeEvent"
                        href="#dom-paymentmethodchangeevent" class="internalDFN"
                        id="ref-for-dom-paymentmethodchangeevent-5"><code>PaymentMethodChangeEvent</code></a> includes
                    redacted billing
                    address information for the purpose of performing tax calculations.
                    Redacted attributes include, but are not limited to, <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-address-line">address line</a>, <a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-dependent-locality">dependent
                        locality</a>,
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-organization">organization</a>, <a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-phone-number">phone number</a>,
                    and <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-recipient">recipient</a>.
                </p>
            </div>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be the <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-48"><code>PaymentRequest</code></a> object
                    that the user is interacting with.
                </li>
                <li>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue a task</a> on
                    the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                        interaction task source</a> to
                    run the following steps:
                    <ol>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                                id="ref-for-dfn-updating-3"><code>[[updating]]</code></a> is false.
                            Only one update can take place at a time.
                        </li>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-14"><code>[[state]]</code></a> is
                            "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                                id="ref-for-dfn-interactive-7">interactive</a>".
                        </li>
                        <li>
                            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an
                                event</a> named "<a href="#dfn-paymentmethodchange" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-paymentmethodchange-2"><code>paymentmethodchange</code></a>" at
                            <var data-type="PaymentRequest">request</var> using <a data-link-type="idl"
                                data-lt="PaymentMethodChangeEvent" href="#dom-paymentmethodchangeevent"
                                class="internalDFN"
                                id="ref-for-dom-paymentmethodchangeevent-6"><code>PaymentMethodChangeEvent</code></a>,
                            with its
                            <a data-link-type="idl" href="#dom-paymentmethodchangeevent-methodname" class="internalDFN"
                                id="ref-for-dom-paymentmethodchangeevent-methodname-4"><code>methodName</code></a>
                            attribute initialized
                            to <var>methodName</var>, and its
                            <a data-link-type="idl" href="#dom-paymentmethodchangeevent-methoddetails"
                                class="internalDFN"
                                id="ref-for-dom-paymentmethodchangeevent-methoddetails-3"><code>methodDetails</code></a>
                            attribute
                            initialized to <var>methodDetails</var>.
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="paymentrequest-updated-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-5-paymentrequest-updated-algorithm"><bdi class="secno">18.5 </bdi>
                    PaymentRequest updated algorithm
                </h3><a class="self-link" href="#paymentrequest-updated-algorithm"
                    aria-label="Permalink for Section 18.5"></a>
            </div>

            <p data-tests="algorithms-manual.https.html">
                The <dfn id="dfn-paymentrequest-updated-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">PaymentRequest updated algorithm</dfn> is run by other
                algorithms above to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">fire
                    an event</a> to indicate that a user has
                made a change to a <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                    class="internalDFN" id="ref-for-dom-paymentrequest-49"><code>PaymentRequest</code></a> called
                <var>request</var> with an event
                name of <var>name</var>:
            </p>
            <ol class="algorithm">
                <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var>request</var>.<a
                        data-link-type="attribute" data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                        id="ref-for-dfn-updating-4"><code>[[updating]]</code></a> is false. Only
                    one update can take place at a time.
                </li>
                <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var>request</var>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-15"><code>[[state]]</code></a> is
                    "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-8">interactive</a>".
                </li>
                <li>Let <var data-type="PaymentRequestUpdateEvent">event</var> be the result of
                    <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create">creating an
                        event</a> using the <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                        href="#dom-paymentrequestupdateevent" class="internalDFN"
                        id="ref-for-dom-paymentrequestupdateevent-13"><code>PaymentRequestUpdateEvent</code></a>
                    interface.
                </li>
                <li>Initialize <var data-type="PaymentRequestUpdateEvent">event</var>'s <a data-link-type="attribute"
                        href="https://dom.spec.whatwg.org/#dom-event-type"><code>type</code></a> attribute to
                    <var>name</var>.
                </li>
                <li>
                    <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch">Dispatch</a> <var
                        data-type="PaymentRequestUpdateEvent">event</var> at <var>request</var>.
                </li>
                <li>If <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                        data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                        id="ref-for-dfn-waitforupdate-5"><code>[[waitForUpdate]]</code></a> is
                    true, disable any part of the user interface that could cause another
                    update event to be fired.
                </li>
                <li>Otherwise, set
                    <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                        data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                        id="ref-for-dfn-waitforupdate-6"><code>[[waitForUpdate]]</code></a> to true.
                </li>
            </ol>
        </section>
        <section id="payer-detail-changed-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-6-payer-detail-changed-algorithm"><bdi class="secno">18.6 </bdi>
                    Payer detail changed algorithm
                </h3><a class="self-link" href="#payer-detail-changed-algorithm"
                    aria-label="Permalink for Section 18.6"></a>
            </div>

            <p>
                The user agent <em class="rfc2119">MUST</em> run the <dfn id="dfn-payer-detail-changed-algorithm"
                    tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">payer detail changed algorithm</dfn>
                when the user changes the <var>payer name</var>, or the <var>payer email</var>, or the
                <var>payer phone</var> in the user interface:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be the <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-50"><code>PaymentRequest</code></a> object
                    that the user is interacting with.
                </li>
                <li>If <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-4"><code>[[response]]</code></a> is null, return.
                </li>
                <li>Let <var data-type="PaymentResponse">response</var> be
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                        href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-5"><code>[[response]]</code></a>.
                </li>
                <li>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue a task</a> on
                    the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                        interaction task source</a> to
                    run the following steps:
                    <ol>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                                id="ref-for-dfn-updating-5"><code>[[updating]]</code></a> is false.
                        </li>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                                data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-16"><code>[[state]]</code></a> is
                            "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                                id="ref-for-dfn-interactive-9">interactive</a>".
                        </li>
                        <li>Let <var data-type="PaymentOptions">options</var> be
                            <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                id="ref-for-dfn-options-6"><code>[[options]]</code></a>.
                        </li>
                        <li>If <var>payer name</var> changed and
                            <var data-type="PaymentOptions">options</var>.<a data-link-type="idl"
                                href="#dom-paymentoptions-requestpayername" class="internalDFN"
                                id="ref-for-dom-paymentoptions-requestpayername-4"><code>requestPayerName</code></a> is
                            true:
                            <ol>
                                <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                        href="#dom-paymentresponse-payername" class="internalDFN"
                                        id="ref-for-dom-paymentresponse-payername-4"><code>payerName</code></a>
                                    attribute to
                                    <var>payer name</var>.
                                </li>
                            </ol>
                        </li>
                        <li>If <var>payer email</var> changed and
                            <var data-type="PaymentOptions">options</var>.<a data-link-type="idl"
                                href="#dom-paymentoptions-requestpayeremail" class="internalDFN"
                                id="ref-for-dom-paymentoptions-requestpayeremail-4"><code>requestPayerEmail</code></a>
                            is true:
                            <ol>
                                <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                        href="#dom-paymentresponse-payeremail" class="internalDFN"
                                        id="ref-for-dom-paymentresponse-payeremail-4"><code>payerEmail</code></a> to
                                    <var>payer
                                        email</var>.
                                </li>
                            </ol>
                        </li>
                        <li>If <var>payer phone</var> changed and
                            <var data-type="PaymentOptions">options</var>.<a data-link-type="idl"
                                href="#dom-paymentoptions-requestpayerphone" class="internalDFN"
                                id="ref-for-dom-paymentoptions-requestpayerphone-4"><code>requestPayerPhone</code></a>
                            is true:
                            <ol>
                                <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="idl"
                                        href="#dom-paymentresponse-payerphone" class="internalDFN"
                                        id="ref-for-dom-paymentresponse-payerphone-4"><code>payerPhone</code></a> to
                                    <var>payer
                                        phone</var>.
                                </li>
                            </ol>
                        </li>
                        <li>Let <var data-type="PaymentRequestUpdateEvent">event</var> be the result of
                            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create">creating an
                                event</a> using <a data-link-type="idl" data-lt="PaymentRequestUpdateEvent"
                                href="#dom-paymentrequestupdateevent" class="internalDFN"
                                id="ref-for-dom-paymentrequestupdateevent-14"><code>PaymentRequestUpdateEvent</code></a>.
                        </li>
                        <li>Initialize <var data-type="PaymentRequestUpdateEvent">event</var>'s <a
                                data-link-type="attribute"
                                href="https://dom.spec.whatwg.org/#dom-event-type"><code>type</code></a> attribute to
                            "<a href="#dfn-payerdetailchange" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-payerdetailchange-2"><code>payerdetailchange</code></a>".
                        </li>
                        <li>
                            <a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-dispatch">Dispatch</a> <var
                                data-type="PaymentRequestUpdateEvent">event</var> at <var
                                data-type="PaymentResponse">response</var>.
                        </li>
                        <li>If <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                                data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                                id="ref-for-dfn-waitforupdate-7"><code>[[waitForUpdate]]</code></a> is
                            true, disable any part of the user interface that could cause
                            another change to the payer details to be fired.
                        </li>
                        <li>Otherwise, set
                            <var data-type="PaymentRequestUpdateEvent">event</var>.<a data-link-type="attribute"
                                data-lt="[[waitForUpdate]]" href="#dfn-waitforupdate" class="internalDFN"
                                id="ref-for-dfn-waitforupdate-8"><code>[[waitForUpdate]]</code></a> to true.
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="user-accepts-the-payment-request-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-7-user-accepts-the-payment-request-algorithm"><bdi class="secno">18.7 </bdi>
                    User accepts the payment request algorithm
                </h3><a class="self-link" href="#user-accepts-the-payment-request-algorithm"
                    aria-label="Permalink for Section 18.7"></a>
            </div>

            <p data-tests="user-accepts-payment-request-algo-manual.https.html">
                The <dfn data-local-lt="user accepts the payment request" data-export=""
                    data-lt="user accepts the payment request algorithm|user accepts the payment request"
                    id="dfn-user-accepts-the-payment-request-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">user accepts the payment request algorithm</dfn> runs
                when the user accepts the payment request and confirms that they want
                to pay. It <em class="rfc2119">MUST</em> <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> on the
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                    interaction task
                    source</a> to perform the following steps:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be the <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-51"><code>PaymentRequest</code></a> object
                    that the user is interacting with.
                </li>
                <li>If the <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[updating]]" href="#dfn-updating" class="internalDFN"
                        id="ref-for-dfn-updating-6"><code>[[updating]]</code></a> is true, then
                    terminate this algorithm and take no further action. The <a href="#dfn-user-agent"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agent-34">user
                        agent</a> user interface <em class="rfc2119">SHOULD</em> ensure that this never occurs.
                </li>
                <li>If <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-17"><code>[[state]]</code></a> is
                    not
                    "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-10">interactive</a>", then terminate this algorithm and
                    take no further action. The <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-35">user agent</a> user interface <em class="rfc2119">SHOULD</em>
                    ensure that this never occurs.
                </li>
                <li>If the <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-11"><code>requestShipping</code></a> value of
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-7"><code>[[options]]</code></a>
                    is true, then if the
                    <a data-link-type="idl" href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingaddress-7"><code>shippingAddress</code></a> attribute of
                    <var data-type="PaymentRequest">request</var> is null or
                    if the <a data-link-type="idl" href="#dom-paymentrequest-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingoption-8"><code>shippingOption</code></a> attribute of
                    <var data-type="PaymentRequest">request</var> is
                    null, then terminate this algorithm and take no further action. The
                    <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-36">user agent</a> <em class="rfc2119">SHOULD</em> ensure that this
                    never occurs.
                </li>
                <li>Let <var data-type="boolean">isRetry</var> be true if
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                        href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-6"><code>[[response]]</code></a> is not null, false
                    otherwise.
                </li>
                <li>Let <var data-type="PaymentResponse">response</var> be
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                        href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-7"><code>[[response]]</code></a> if <var
                        data-type="boolean">isRetry</var> is true, or a
                    new <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                        class="internalDFN" id="ref-for-dom-paymentresponse-23"><code>PaymentResponse</code></a>
                    otherwise.
                </li>
                <li>If <var data-type="boolean">isRetry</var> is false, initialize the newly created <var
                        data-type="PaymentResponse">response</var>:
                    <ol>
                        <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[request]]" href="#dfn-request" class="internalDFN"
                                id="ref-for-dfn-request-3"><code>[[request]]</code></a> to <var
                                data-type="PaymentRequest">request</var>.
                        </li>
                        <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                                id="ref-for-dfn-retrypromise-7"><code>[[retryPromise]]</code></a> to null.
                        </li>
                        <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                                id="ref-for-dfn-complete-4"><code>[[complete]]</code></a> to false.
                        </li>
                        <li>Set the <a data-link-type="idl" href="#dom-paymentresponse-requestid" class="internalDFN"
                                id="ref-for-dom-paymentresponse-requestid-2"><code>requestId</code></a> attribute value
                            of
                            <var data-type="PaymentResponse">response</var> to the value of
                            <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[details]]" href="#dfn-details" class="internalDFN"
                                id="ref-for-dfn-details-4"><code>[[details]]</code></a>.<a data-link-type="idl"
                                href="#dom-paymentdetailsinit-id" class="internalDFN"
                                id="ref-for-dom-paymentdetailsinit-id-7"><code>id</code></a>.
                        </li>
                        <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                                data-lt="[[response]]" href="#dfn-response" class="internalDFN"
                                id="ref-for-dfn-response-8"><code>[[response]]</code></a> to <var
                                data-type="PaymentResponse">response</var>.
                        </li>
                    </ol>
                </li>
                <li>Let <var data-type="payment handler">handler</var> be
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[handler]]"
                        href="#dfn-handler" class="internalDFN" id="ref-for-dfn-handler-4"><code>[[handler]]</code></a>.
                </li>
                <li>Set the <a data-link-type="idl" href="#dom-paymentresponse-methodname" class="internalDFN"
                        id="ref-for-dom-paymentresponse-methodname-6"><code>methodName</code></a> attribute value of
                    <var data-type="PaymentResponse">response</var> to the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method identifier</a> of <var
                        data-type="payment handler">handler</var>.
                </li>
                <li>Set the <a data-link-type="idl" href="#dom-paymentresponse-details" class="internalDFN"
                        id="ref-for-dom-paymentresponse-details-2"><code>details</code></a> attribute value of <var
                        data-type="PaymentResponse">response</var>
                    to an object resulting from running the <var data-type="payment handler">handler</var>'s <a
                        href="#dfn-steps-to-respond-to-a-payment-request" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-steps-to-respond-to-a-payment-request-1">steps to
                        respond to a payment request</a>.
                </li>
                <li>If the <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-12"><code>requestShipping</code></a> value of
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-8"><code>[[options]]</code></a>
                    is false, then set the
                    <a data-link-type="idl" href="#dom-paymentresponse-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentresponse-shippingaddress-3"><code>shippingAddress</code></a> attribute
                    value of <var data-type="PaymentResponse">response</var> to
                    null. Otherwise:
                    <ol>
                        <li>Let <var data-type="ContactAddress">shippingAddress</var> be the result of
                            <a data-link-type="dfn"
                                href="https://www.w3.org/TR/contact-picker/#contactsmanager-create-a-contactaddress-from-user-provided-input">create
                                a contactaddress from user-provided input</a>
                        </li>
                        <li>Set the <a data-link-type="idl" href="#dom-paymentresponse-shippingaddress"
                                class="internalDFN"
                                id="ref-for-dom-paymentresponse-shippingaddress-4"><code>shippingAddress</code></a>
                            attribute value
                            of <var data-type="PaymentResponse">response</var> to <var
                                data-type="ContactAddress">shippingAddress</var>.
                        </li>
                        <li>Set the <a data-link-type="idl" href="#dom-paymentresponse-shippingaddress"
                                class="internalDFN"
                                id="ref-for-dom-paymentresponse-shippingaddress-5"><code>shippingAddress</code></a>
                            attribute value
                            of <var data-type="PaymentRequest">request</var> to <var
                                data-type="ContactAddress">shippingAddress</var>.
                        </li>
                    </ol>
                </li>
                <li>If the <a data-link-type="idl" href="#dom-paymentoptions-requestshipping" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestshipping-13"><code>requestShipping</code></a> value of
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-9"><code>[[options]]</code></a>
                    is true, then set the
                    <a data-link-type="idl" href="#dom-paymentresponse-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentresponse-shippingoption-2"><code>shippingOption</code></a> attribute of
                    <var data-type="PaymentResponse">response</var> to the
                    value of the <a data-link-type="idl" href="#dom-paymentresponse-shippingoption" class="internalDFN"
                        id="ref-for-dom-paymentresponse-shippingoption-3"><code>shippingOption</code></a> attribute of
                    <var data-type="PaymentRequest">request</var>. Otherwise, set it to null.
                </li>
                <li>If the <a data-link-type="idl" href="#dom-paymentoptions-requestpayername" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestpayername-5"><code>requestPayerName</code></a> value of
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-10"><code>[[options]]</code></a>
                    is true, then set the
                    <a data-link-type="idl" href="#dom-paymentresponse-payername" class="internalDFN"
                        id="ref-for-dom-paymentresponse-payername-5"><code>payerName</code></a> attribute of <var
                        data-type="PaymentResponse">response</var> to the payer's
                    name provided by the user, or to null if none was provided.
                    Otherwise, set it to null.
                </li>
                <li>If the <a data-link-type="idl" href="#dom-paymentoptions-requestpayeremail" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestpayeremail-5"><code>requestPayerEmail</code></a> value of
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-11"><code>[[options]]</code></a>
                    is true, then set the
                    <a data-link-type="idl" href="#dom-paymentresponse-payeremail" class="internalDFN"
                        id="ref-for-dom-paymentresponse-payeremail-5"><code>payerEmail</code></a> attribute of <var
                        data-type="PaymentResponse">response</var> to the payer's
                    email address provided by the user, or to null if none was provided.
                    Otherwise, set it to null.
                </li>
                <li>If the <a data-link-type="idl" href="#dom-paymentoptions-requestpayerphone" class="internalDFN"
                        id="ref-for-dom-paymentoptions-requestpayerphone-5"><code>requestPayerPhone</code></a> value of
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                        href="#dfn-options" class="internalDFN" id="ref-for-dfn-options-12"><code>[[options]]</code></a>
                    is true, then set the
                    <a data-link-type="idl" href="#dom-paymentresponse-payerphone" class="internalDFN"
                        id="ref-for-dom-paymentresponse-payerphone-5"><code>payerPhone</code></a> attribute of <var
                        data-type="PaymentResponse">response</var> to the payer's
                    phone number provided by the user, or to null if none was provided.
                    When setting the <a data-link-type="idl" href="#dom-paymentresponse-payerphone" class="internalDFN"
                        id="ref-for-dom-paymentresponse-payerphone-6"><code>payerPhone</code></a> value, the user agent
                    <em class="rfc2119">SHOULD</em> format the phone number to adhere to [<cite><a class="bibref"
                            data-link-type="biblio" href="#bib-e.164"
                            title="The international public telecommunication numbering plan">E.164</a></cite>].
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-18"><code>[[state]]</code></a> to
                    "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                        id="ref-for-dfn-closed-8">closed</a>".
                </li>
                <li>If <var data-type="boolean">isRetry</var> is true, resolve
                    <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                        data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                        id="ref-for-dfn-retrypromise-8"><code>[[retryPromise]]</code></a> with undefined.
                    Otherwise, resolve <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[acceptPromise]]" href="#dfn-acceptpromise" class="internalDFN"
                        id="ref-for-dfn-acceptpromise-5"><code>[[acceptPromise]]</code></a>
                    with <var data-type="PaymentResponse">response</var>.
                </li>
            </ol>
        </section>
        <section id="user-aborts-the-payment-request-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-8-user-aborts-the-payment-request-algorithm"><bdi class="secno">18.8 </bdi>
                    User aborts the payment request algorithm
                </h3><a class="self-link" href="#user-aborts-the-payment-request-algorithm"
                    aria-label="Permalink for Section 18.8"></a>
            </div>

            <p data-tests="user-abort-algorithm-manual.https.html">
                The <dfn data-lt="user aborts the payment request|user aborts the payment request algorithm"
                    id="dfn-user-aborts-the-payment-request" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">user aborts the
                    payment request algorithm</dfn> runs when the user aborts the payment
                request through the currently interactive user interface. It <em class="rfc2119">MUST</em>
                <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue
                    a task</a> on the <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                    interaction task source</a> to
                perform the following steps:
            </p>
            <ol class="algorithm">
                <li>Let <var data-type="PaymentRequest">request</var> be the <a data-link-type="idl"
                        data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-52"><code>PaymentRequest</code></a> object
                    that the user is interacting with.
                </li>
                <li>If <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-19"><code>[[state]]</code></a> is
                    not
                    "<a data-link-type="dfn|abstract-op" href="#dfn-interactive" class="internalDFN"
                        id="ref-for-dfn-interactive-11">interactive</a>", then terminate this algorithm and
                    take no further action. The <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agent-37">user agent</a> user interface <em class="rfc2119">SHOULD</em>
                    ensure that this never occurs.
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                        href="#dfn-state" class="internalDFN" id="ref-for-dfn-state-20"><code>[[state]]</code></a> to
                    "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                        id="ref-for-dfn-closed-9">closed</a>".
                </li>
                <li>Set <var data-type="PaymentRequest">request</var>'s <a href="#dfn-payment-relevant-browsing-context"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-relevant-browsing-context-10">payment-relevant browsing context</a>'s
                    <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-request-is-showing-12">payment request is showing</a> boolean to false.
                </li>
                <li>Let <var>error</var> be an "<a data-link-type="exception"
                        href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a
                        data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                </li>
                <li>Let <var data-type="PaymentResponse">response</var> be
                    <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                        href="#dfn-response" class="internalDFN"
                        id="ref-for-dfn-response-9"><code>[[response]]</code></a>.
                </li>
                <li>If <var data-type="PaymentResponse">response</var> is not null:
                    <ol>
                        <li>Set <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                                id="ref-for-dfn-complete-5"><code>[[complete]]</code></a> to true.
                        </li>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                                data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                                id="ref-for-dfn-retrypromise-9"><code>[[retryPromise]]</code></a> is
                            not null.
                        </li>
                        <li>Reject <var data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                                id="ref-for-dfn-retrypromise-10"><code>[[retryPromise]]</code></a> with
                            <var>error</var>.
                        </li>
                    </ol>
                </li>
                <li>Otherwise, reject <var data-type="PaymentRequest">request</var>.<a data-link-type="attribute"
                        data-lt="[[acceptPromise]]" href="#dfn-acceptpromise" class="internalDFN"
                        id="ref-for-dfn-acceptpromise-6"><code>[[acceptPromise]]</code></a>
                    with <var>error</var>.
                </li>
                <li>Abort the current user interaction and close down any remaining
                    user interface.
                </li>
            </ol>
        </section>
        <section id="update-a-paymentrequest-s-details-algorithm">
            <div class="header-wrapper">
                <h3 id="x18-9-update-a-paymentrequest-s-details-algorithm"><bdi class="secno">18.9 </bdi>
                    Update a <code>PaymentRequest</code>'s details algorithm
                </h3><a class="self-link" href="#update-a-paymentrequest-s-details-algorithm"
                    aria-label="Permalink for Section 18.9"></a>
            </div>

            <p>
                The <dfn id="dfn-update-a-paymentrequest-s-details-algorithm" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">update a <code>PaymentRequest</code>'s details
                    algorithm</dfn> takes a <a data-link-type="idl" data-lt="PaymentDetailsUpdate"
                    href="#dom-paymentdetailsupdate" class="internalDFN"
                    id="ref-for-dom-paymentdetailsupdate-11"><code>PaymentDetailsUpdate</code></a>
                <var>detailsPromise</var>, a
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-53"><code>PaymentRequest</code></a> <var>request</var>, and
                <var>pmi</var> that is either a DOMString or
                null (a <a data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method
                    identifier</a>). The steps are conditional
                on the <var>detailsPromise</var> settling. If <var>detailsPromise</var> never settles
                then the payment request is blocked. The user agent <em class="rfc2119">SHOULD</em> provide
                the user with a means to abort a payment request. Implementations <em class="rfc2119">MAY</em>
                choose to implement a timeout for pending updates if <var>detailsPromise</var>
                doesn't settle in a reasonable amount of time.
            </p>
            <p>
                In the case where a timeout occurs, or the user manually aborts, or
                the <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-handler-14">payment handler</a> decides to abort this particular payment,
                the user agent <em class="rfc2119">MUST</em> run the <a href="#dfn-user-aborts-the-payment-request"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-aborts-the-payment-request-7">user
                    aborts the payment request
                    algorithm</a>.
            </p>
            <ol class="algorithm">
                <li>Set <var>request</var>.<a data-link-type="attribute" data-lt="[[updating]]" href="#dfn-updating"
                        class="internalDFN" id="ref-for-dfn-updating-7"><code>[[updating]]</code></a> to true.
                </li>
                <li>
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">In parallel</a>,
                    disable the user interface that allows the user
                    to accept the payment request. This is to ensure that the payment
                    is not accepted until the user interface is updated with any new
                    details.
                </li>
                <li>
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection">Upon rejection</a> of
                    <var>detailsPromise</var>:
                    <ol>
                        <li>
                            <a href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-abort-the-update-2">Abort the update</a> with <var>request</var> and an
                            "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                        </li>
                    </ol>
                </li>
                <li>
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment">Upon fulfillment</a>
                    of <var>detailsPromise</var> with value <var>value</var>:
                    <ol>
                        <li>Let <var data-type="PaymentDetailsUpdate">details</var> be the result of
                            <a data-link-type="dfn" data-lt="converted to an IDL value"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">converting</a>
                            <var>value</var> to a
                            <a data-link-type="idl" data-lt="PaymentDetailsUpdate" href="#dom-paymentdetailsupdate"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-12"><code>PaymentDetailsUpdate</code></a>
                            dictionary. If this <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a>
                            an exception, <a href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-abort-the-update-3">abort the update</a> with <var>request</var> and
                            with the
                            thrown exception.
                        </li>
                        <li>Let <var>serializedModifierData</var> be an empty list.
                        </li>
                        <li>Let <var>selectedShippingOption</var> be null.
                        </li>
                        <li>Let <var>shippingOptions</var> be an empty
                            <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a></code>&lt;<a
                                data-link-type="idl" data-lt="PaymentShippingOption" href="#dom-paymentshippingoption"
                                class="internalDFN"
                                id="ref-for-dom-paymentshippingoption-8"><code>PaymentShippingOption</code></a>&gt;.
                        </li>
                        <li>Validate and canonicalize the details:
                            <ol>
                                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsupdate-total"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsupdate-total-3"><code>total</code></a> member of
                                    <var data-type="PaymentDetailsUpdate">details</var>
                                    is present, then:
                                    <ol>
                                        <li>
                                            <a href="#dfn-check-and-canonicalize-total-amount" class="internalDFN"
                                                data-link-type="dfn"
                                                id="ref-for-dfn-check-and-canonicalize-total-amount-3">Check and
                                                canonicalize total amount</a>
                                            <var data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsupdate-total" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsupdate-total-4"><code>total</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentitem-amount" class="internalDFN"
                                                id="ref-for-dom-paymentitem-amount-11"><code>amount</code></a>.
                                            If an exception is thrown, then <a href="#dfn-abort-the-update"
                                                class="internalDFN" data-link-type="dfn"
                                                id="ref-for-dfn-abort-the-update-4">abort the update</a>
                                            with <var>request</var> and that exception.
                                        </li>
                                    </ol>
                                </li>
                                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-displayitems-6"><code>displayItems</code></a>
                                    member of
                                    <var data-type="PaymentDetailsUpdate">details</var> is present, then for each
                                    <var>item</var> in
                                    <var data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                        href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-displayitems-7"><code>displayItems</code></a>:
                                    <ol>
                                        <li>
                                            <a href="#dfn-check-and-canonicalize-amount" class="internalDFN"
                                                data-link-type="dfn"
                                                id="ref-for-dfn-check-and-canonicalize-amount-6">Check and canonicalize
                                                amount</a>
                                            <var>item</var>.<a data-link-type="idl" href="#dom-paymentitem-amount"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentitem-amount-12"><code>amount</code></a>. If an
                                            exception is
                                            thrown, then <a href="#dfn-abort-the-update" class="internalDFN"
                                                data-link-type="dfn" id="ref-for-dfn-abort-the-update-5">abort the
                                                update</a> with <var>request</var> and
                                            that exception.
                                        </li>
                                    </ol>
                                </li>
                                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-shippingoptions-7"><code>shippingOptions</code></a>
                                    member of
                                    <var data-type="PaymentDetailsUpdate">details</var> is present, and
                                    <var>request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                                        href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-13"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestshipping-14"><code>requestShipping</code></a>
                                    is true, then:
                                    <ol>
                                        <li>Let <var>seenIDs</var> be an empty set.
                                        </li>
                                        <li>For each <var>option</var> in
                                            <var data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsbase-shippingoptions" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-shippingoptions-8"><code>shippingOptions</code></a>:
                                            <ol>
                                                <li>
                                                    <a href="#dfn-check-and-canonicalize-amount" class="internalDFN"
                                                        data-link-type="dfn"
                                                        id="ref-for-dfn-check-and-canonicalize-amount-7">Check and
                                                        canonicalize amount</a>
                                                    <var>option</var>.<a data-link-type="idl"
                                                        href="#dom-paymentshippingoption-amount" class="internalDFN"
                                                        id="ref-for-dom-paymentshippingoption-amount-2"><code>amount</code></a>.
                                                    If an
                                                    exception is thrown, then <a href="#dfn-abort-the-update"
                                                        class="internalDFN" data-link-type="dfn"
                                                        id="ref-for-dfn-abort-the-update-6">abort the update</a>
                                                    with <var>request</var> and that exception.
                                                </li>
                                                <li
                                                    data-tests="PaymentRequestUpdateEvent/updateWith-duplicate-shipping-options-manual.https.html">
                                                    If <var>seenIDs</var>[<var>option</var>.{{PaymentShippingOption/id}]
                                                    exists, then <a href="#dfn-abort-the-update" class="internalDFN"
                                                        data-link-type="dfn" id="ref-for-dfn-abort-the-update-7">abort
                                                        the update</a> with <var>request</var>
                                                    and a <a data-link-type="exception" data-lt="TypeError"
                                                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>.
                                                </li>
                                                <li>Append <var>option</var>.<a data-link-type="idl"
                                                        href="#dom-paymentshippingoption-id" class="internalDFN"
                                                        id="ref-for-dom-paymentshippingoption-id-7"><code>id</code></a>
                                                    to
                                                    <var>seenIDs</var>.
                                                </li>
                                                <li>Append <var>option</var> to <var>shippingOptions</var>.
                                                </li>
                                                <li>If <var>option</var>.<a data-link-type="idl"
                                                        href="#dom-paymentshippingoption-selected" class="internalDFN"
                                                        id="ref-for-dom-paymentshippingoption-selected-6"><code>selected</code></a>
                                                    is
                                                    true, then set <var>selectedShippingOption</var> to
                                                    <var>option</var>.<a data-link-type="idl"
                                                        href="#dom-paymentshippingoption-id" class="internalDFN"
                                                        id="ref-for-dom-paymentshippingoption-id-8"><code>id</code></a>.
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-modifiers-7"><code>modifiers</code></a>
                                    member of
                                    <var data-type="PaymentDetailsUpdate">details</var> is present, then:
                                    <ol>
                                        <li>Let <var>modifiers</var> be the sequence
                                            <var data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                                href="#dom-paymentdetailsbase-modifiers" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-modifiers-8"><code>modifiers</code></a>.
                                        </li>
                                        <li>Let <var>serializedModifierData</var> be an empty list.
                                        </li>
                                        <li>For each <a data-link-type="idl" data-lt="PaymentDetailsModifier"
                                                href="#dom-paymentdetailsmodifier" class="internalDFN"
                                                id="ref-for-dom-paymentdetailsmodifier-8"><code>PaymentDetailsModifier</code></a>
                                            <var>modifier</var> in
                                            <var>modifiers</var>:
                                            <ol>
                                                <li data-tests="updateWith-method-pmi-handling-manual.https.html">
                                                    Run the steps to <a data-link-type="dfn"
                                                        href="https://www.w3.org/TR/payment-method-id/#dfn-validate-a-payment-method-identifier">validate
                                                        a payment method
                                                        identifier</a> with
                                                    <var>modifier</var>.<a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-supportedmethods"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-supportedmethods-5"><code>supportedMethods</code></a>.
                                                    If it returns false, then <a href="#dfn-abort-the-update"
                                                        class="internalDFN" data-link-type="dfn"
                                                        id="ref-for-dfn-abort-the-update-8">abort the update</a>
                                                    with <var>request</var> and a <a data-link-type="exception"
                                                        data-lt="RangeError"
                                                        href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"><code>RangeError</code></a>
                                                    exception.
                                                    Optionally, inform the developer that the payment
                                                    method identifier is invalid.
                                                </li>
                                                <li>If the <a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-total" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-total-6"><code>total</code></a>
                                                    member of
                                                    <var>modifier</var> is present, then:
                                                    <ol>
                                                        <li>
                                                            <a href="#dfn-check-and-canonicalize-total-amount"
                                                                class="internalDFN" data-link-type="dfn"
                                                                id="ref-for-dfn-check-and-canonicalize-total-amount-4">Check
                                                                and canonicalize total amount</a>
                                                            <var>modifier</var>.<a data-link-type="idl"
                                                                href="#dom-paymentdetailsmodifier-total"
                                                                class="internalDFN"
                                                                id="ref-for-dom-paymentdetailsmodifier-total-7"><code>total</code></a>.<a
                                                                data-link-type="idl" href="#dom-paymentitem-amount"
                                                                class="internalDFN"
                                                                id="ref-for-dom-paymentitem-amount-13"><code>amount</code></a>.
                                                            If an exception is thrown, then <a
                                                                href="#dfn-abort-the-update" class="internalDFN"
                                                                data-link-type="dfn"
                                                                id="ref-for-dfn-abort-the-update-9">abort the
                                                                update</a> with <var>request</var> and that exception.
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li>If the
                                                    <a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-5"><code>additionalDisplayItems</code></a>
                                                    member of <var>modifier</var> is present, then for each
                                                    <a data-link-type="idl" data-lt="PaymentItem"
                                                        href="#dom-paymentitem" class="internalDFN"
                                                        id="ref-for-dom-paymentitem-13"><code>PaymentItem</code></a>
                                                    <var>item</var> in
                                                    <var>modifier</var>.<a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                                                        class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-6"><code>additionalDisplayItems</code></a>:
                                                    <ol>
                                                        <li>
                                                            <a href="#dfn-check-and-canonicalize-amount"
                                                                class="internalDFN" data-link-type="dfn"
                                                                id="ref-for-dfn-check-and-canonicalize-amount-8">Check
                                                                and canonicalize amount</a>
                                                            <var>item</var>.<a data-link-type="idl"
                                                                href="#dom-paymentitem-amount" class="internalDFN"
                                                                id="ref-for-dom-paymentitem-amount-14"><code>amount</code></a>.
                                                            If an exception
                                                            is thrown, then <a href="#dfn-abort-the-update"
                                                                class="internalDFN" data-link-type="dfn"
                                                                id="ref-for-dfn-abort-the-update-10">abort the
                                                                update</a> with
                                                            <var>request</var> and that exception.
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li>If the <a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-data-7"><code>data</code></a>
                                                    member of
                                                    <var>modifier</var> is missing, let <var>serializedData</var> be
                                                    null.
                                                    Otherwise, let <var>serializedData</var> be the result of
                                                    <a data-link-type="dfn"
                                                        data-lt="serialize a JavaScript value to a JSON string"
                                                        href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">serialize</a>
                                                    <var>modifier</var>.<a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-data-8"><code>data</code></a>
                                                    into a
                                                    JSON string. If it throws an exception, then <a
                                                        href="#dfn-abort-the-update" class="internalDFN"
                                                        data-link-type="dfn" id="ref-for-dfn-abort-the-update-11">abort
                                                        the update</a> with <var>request</var> and that exception.
                                                </li>
                                                <li>Add <var>serializedData</var> to <var>serializedModifierData</var>.
                                                </li>
                                                <li>Remove the <a data-link-type="idl"
                                                        href="#dom-paymentdetailsmodifier-data" class="internalDFN"
                                                        id="ref-for-dom-paymentdetailsmodifier-data-9"><code>data</code></a>
                                                    member
                                                    of <var>modifier</var>, if it is present.
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>If the <a data-link-type="idl" href="#dom-paymentdetailsupdate-paymentmethoderrors"
                                class="internalDFN"
                                id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-2"><code>paymentMethodErrors</code></a>
                            member is
                            present and <var>identifier</var> is not null:
                            <ol>
                                <li>If required by the specification that defines the <var>pmi</var>,
                                    then <a data-link-type="dfn" data-lt="converted to an IDL value"
                                        href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">convert</a>
                                    <a data-link-type="idl" href="#dom-paymentdetailsupdate-paymentmethoderrors"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-3"><code>paymentMethodErrors</code></a>
                                    to an IDL value.
                                </li>
                                <li>If conversion results in a <a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>
                                    <var>error</var>, <a href="#dfn-abort-the-update" class="internalDFN"
                                        data-link-type="dfn" id="ref-for-dfn-abort-the-update-12">
                                        abort the update</a> with <var>error</var>.
                                </li>
                                <li>The <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                                        id="ref-for-dfn-payment-handler-15">payment handler</a> <em
                                        class="rfc2119">SHOULD</em> display an error for
                                    each relevant erroneous field of
                                    <a data-link-type="idl" href="#dom-paymentdetailsupdate-paymentmethoderrors"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-4"><code>paymentMethodErrors</code></a>.
                                </li>
                            </ol>
                        </li>
                        <li>Update the <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                                class="internalDFN" id="ref-for-dom-paymentrequest-54"><code>PaymentRequest</code></a>
                            using the new details:
                            <ol>
                                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsupdate-total"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsupdate-total-5"><code>total</code></a> member of
                                    <var data-type="PaymentDetailsUpdate">details</var>
                                    is present, then:
                                    <ol>
                                        <li>Set
                                            <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                                href="#dfn-details" class="internalDFN"
                                                id="ref-for-dfn-details-5"><code>[[details]]</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsinit-total"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsinit-total-7"><code>total</code></a>
                                            to <var data-type="PaymentDetailsUpdate">details</var>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsupdate-total"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsupdate-total-6"><code>total</code></a>.
                                        </li>
                                    </ol>
                                </li>
                                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-displayitems-8"><code>displayItems</code></a>
                                    member of
                                    <var data-type="PaymentDetailsUpdate">details</var> is present, then:
                                    <ol>
                                        <li>Set
                                            <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                                href="#dfn-details" class="internalDFN"
                                                id="ref-for-dfn-details-6"><code>[[details]]</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-displayitems-9"><code>displayItems</code></a>
                                            to <var data-type="PaymentDetailsUpdate">details</var>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-displayitems"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-displayitems-10"><code>displayItems</code></a>.
                                        </li>
                                    </ol>
                                </li>
                                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-shippingoptions-9"><code>shippingOptions</code></a>
                                    member of
                                    <var data-type="PaymentDetailsUpdate">details</var> is present, and
                                    <var>request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                                        href="#dfn-options" class="internalDFN"
                                        id="ref-for-dfn-options-14"><code>[[options]]</code></a>.<a data-link-type="idl"
                                        href="#dom-paymentoptions-requestshipping" class="internalDFN"
                                        id="ref-for-dom-paymentoptions-requestshipping-15"><code>requestShipping</code></a>
                                    is true, then:
                                    <ol>
                                        <li>Set
                                            <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                                href="#dfn-details" class="internalDFN"
                                                id="ref-for-dfn-details-7"><code>[[details]]</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-shippingoptions-10"><code>shippingOptions</code></a>
                                            to <var>shippingOptions</var>.
                                        </li>
                                        <li>Set the value of <var>request</var>'s
                                            <a data-link-type="idl" href="#dom-paymentrequest-shippingoption"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentrequest-shippingoption-9"><code>shippingOption</code></a>
                                            attribute to
                                            <var>selectedShippingOption</var>.
                                        </li>
                                    </ol>
                                </li>
                                <li>If the <a data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                        class="internalDFN"
                                        id="ref-for-dom-paymentdetailsbase-modifiers-9"><code>modifiers</code></a>
                                    member of
                                    <var data-type="PaymentDetailsUpdate">details</var> is present, then:
                                    <ol>
                                        <li>Set
                                            <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                                href="#dfn-details" class="internalDFN"
                                                id="ref-for-dfn-details-8"><code>[[details]]</code></a>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-modifiers-10"><code>modifiers</code></a>
                                            to <var data-type="PaymentDetailsUpdate">details</var>.<a
                                                data-link-type="idl" href="#dom-paymentdetailsbase-modifiers"
                                                class="internalDFN"
                                                id="ref-for-dom-paymentdetailsbase-modifiers-11"><code>modifiers</code></a>.
                                        </li>
                                        <li>Set
                                            <var>request</var>.<a data-link-type="attribute"
                                                data-lt="[[serializedModifierData]]" href="#dfn-serializedmodifierdata"
                                                class="internalDFN"
                                                id="ref-for-dfn-serializedmodifierdata-7"><code>[[serializedModifierData]]</code></a>
                                            to <var>serializedModifierData</var>.
                                        </li>
                                    </ol>
                                </li>
                                <li>
                                    <p>
                                        If
                                        <var>request</var>.<a data-link-type="attribute" data-lt="[[options]]"
                                            href="#dfn-options" class="internalDFN"
                                            id="ref-for-dfn-options-15"><code>[[options]]</code></a>.<a
                                            data-link-type="idl" href="#dom-paymentoptions-requestshipping"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentoptions-requestshipping-16"><code>requestShipping</code></a>
                                        is true, and
                                        <var>request</var>.<a data-link-type="attribute" data-lt="[[details]]"
                                            href="#dfn-details" class="internalDFN"
                                            id="ref-for-dfn-details-9"><code>[[details]]</code></a>.<a
                                            data-link-type="idl" href="#dom-paymentdetailsbase-shippingoptions"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentdetailsbase-shippingoptions-11"><code>shippingOptions</code></a>
                                        is empty, then the developer has signified that there are
                                        no valid shipping options for the currently-chosen
                                        shipping address (given by <var>request</var>'s
                                        <a data-link-type="idl" href="#dom-paymentrequest-shippingaddress"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentrequest-shippingaddress-8"><code>shippingAddress</code></a>).
                                    </p>
                                    <p>
                                        In this case, the user agent <em class="rfc2119">SHOULD</em> display an error
                                        indicating this, and <em class="rfc2119">MAY</em> indicate that the
                                        currently-chosen shipping address is invalid in some way.
                                        The user agent <em class="rfc2119">SHOULD</em> use the
                                        <a data-link-type="idl" href="#dom-paymentdetailsupdate-error"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentdetailsupdate-error-3"><code>error</code></a> member
                                        of <var data-type="PaymentDetailsUpdate">details</var>, if it
                                        is present, to give more information about why there are
                                        no valid shipping options for that address.
                                    </p>
                                    <p>
                                        Further, if
                                        <var data-type="PaymentDetailsUpdate">details</var>["<a data-link-type="idl"
                                            href="#dom-paymentdetailsupdate-shippingaddresserrors" class="internalDFN"
                                            id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-4"><code>shippingAddressErrors</code></a>"]
                                        member is present, the user agent <em class="rfc2119">SHOULD</em> display an
                                        error
                                        specifically for each erroneous field of the shipping
                                        address. This is done by matching each present member of
                                        the <a data-link-type="idl" data-lt="AddressErrors" href="#dom-addresserrors"
                                            class="internalDFN"
                                            id="ref-for-dom-addresserrors-6"><code>AddressErrors</code></a> to a
                                        corresponding input field in
                                        the shown user interface.
                                    </p>
                                    <p>
                                        Similarly, if <var data-type="PaymentDetailsUpdate">details</var>["<a
                                            data-link-type="idl" data-lt="payerErrors" href="#dom-payererrors"
                                            class="internalDFN"
                                            id="ref-for-dom-payererrors-5"><code>payerErrors</code></a>"] member is
                                        present and <var>request</var>.<a data-link-type="attribute"
                                            data-lt="[[options]]" href="#dfn-options" class="internalDFN"
                                            id="ref-for-dfn-options-16"><code>[[options]]</code></a>'s
                                        <a data-link-type="idl" href="#dom-paymentoptions-requestpayername"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentoptions-requestpayername-6"><code>requestPayerName</code></a>,
                                        <a data-link-type="idl" href="#dom-paymentoptions-requestpayeremail"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentoptions-requestpayeremail-6"><code>requestPayerEmail</code></a>,
                                        or
                                        <a data-link-type="idl" href="#dom-paymentoptions-requestpayerphone"
                                            class="internalDFN"
                                            id="ref-for-dom-paymentoptions-requestpayerphone-6"><code>requestPayerPhone</code></a>
                                        is true, then
                                        display an error specifically for each erroneous field.
                                    </p>
                                    <p>
                                        Likewise, if
                                        <var data-type="PaymentDetailsUpdate">details</var>.<a data-link-type="idl"
                                            href="#dom-paymentdetailsupdate-paymentmethoderrors" class="internalDFN"
                                            id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-5"><code>paymentMethodErrors</code></a>
                                        is
                                        present, then display errors specifically for each
                                        erroneous input field for the particular payment method.
                                    </p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>Set <var>request</var>.<a data-link-type="attribute" data-lt="[[updating]]" href="#dfn-updating"
                        class="internalDFN" id="ref-for-dfn-updating-8"><code>[[updating]]</code></a> to false.
                </li>
                <li>Update the user interface based on any changed values in
                    <var>request</var>. Re-enable user interface elements disabled prior to
                    running this algorithm.
                </li>
            </ol>
            <section id="abort-the-update">
                <div class="header-wrapper">
                    <h4 id="x18-9-1-abort-the-update"><bdi class="secno">18.9.1 </bdi>
                        Abort the update
                    </h4><a class="self-link" href="#abort-the-update" aria-label="Permalink for Section 18.9.1"></a>
                </div>

                <p>
                    To <dfn data-export="" id="dfn-abort-the-update" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">abort the update</dfn> with a
                    <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                        id="ref-for-dom-paymentrequest-55"><code>PaymentRequest</code></a> <var>request</var> and <a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>
                    <var>exception</var>:
                </p>
                <ol class="algorithm">
                    <li>Optionally, show an error message to the user when letting them
                        know an error has occurred.
                    </li>
                    <li>Abort the current user interaction and close down any remaining
                        user interface.
                    </li>
                    <li>
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue a task</a>
                        on the <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                            interaction task source</a> to
                        perform the following steps:
                        <ol>
                            <li>Set <var>request</var>'s <a href="#dfn-payment-relevant-browsing-context"
                                    class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-payment-relevant-browsing-context-11">payment-relevant browsing
                                    context</a>'s
                                <a href="#dfn-payment-request-is-showing" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-payment-request-is-showing-13">payment request is showing</a>
                                boolean to false.
                            </li>
                            <li>Set <var>request</var>.<a data-link-type="attribute" data-lt="[[state]]"
                                    href="#dfn-state" class="internalDFN"
                                    id="ref-for-dfn-state-21"><code>[[state]]</code></a> to
                                "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                                    id="ref-for-dfn-closed-10">closed</a>".
                            </li>
                            <li>Let <var data-type="PaymentResponse">response</var> be
                                <var>request</var>.<a data-link-type="attribute" data-lt="[[response]]"
                                    href="#dfn-response" class="internalDFN"
                                    id="ref-for-dfn-response-10"><code>[[response]]</code></a>.
                            </li>
                            <li>If <var data-type="PaymentResponse">response</var> is not null, then:
                                <ol>
                                    <li>Set <var data-type="PaymentResponse">response</var>.<a
                                            data-link-type="attribute" data-lt="[[complete]]" href="#dfn-complete"
                                            class="internalDFN"
                                            id="ref-for-dfn-complete-6"><code>[[complete]]</code></a> to
                                        true.
                                    </li>
                                    <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var
                                            data-type="PaymentResponse">response</var>.<a data-link-type="attribute"
                                            data-lt="[[retryPromise]]" href="#dfn-retrypromise" class="internalDFN"
                                            id="ref-for-dfn-retrypromise-11"><code>[[retryPromise]]</code></a>
                                        is not null.
                                    </li>
                                    <li>Reject <var data-type="PaymentResponse">response</var>.<a
                                            data-link-type="attribute" data-lt="[[retryPromise]]"
                                            href="#dfn-retrypromise" class="internalDFN"
                                            id="ref-for-dfn-retrypromise-12"><code>[[retryPromise]]</code></a>
                                        with <var>exception</var>.
                                    </li>
                                </ol>
                            </li>
                            <li>Otherwise, reject
                                <var>request</var>.<a data-link-type="attribute" data-lt="[[acceptPromise]]"
                                    href="#dfn-acceptpromise" class="internalDFN"
                                    id="ref-for-dfn-acceptpromise-7"><code>[[acceptPromise]]</code></a> with
                                <var>exception</var>.
                            </li>
                            <li>Set <var>request</var>.<a data-link-type="attribute" data-lt="[[updating]]"
                                    href="#dfn-updating" class="internalDFN"
                                    id="ref-for-dfn-updating-9"><code>[[updating]]</code></a> to false.
                            </li>
                        </ol>
                    </li>
                    <li>Abort the algorithm.
                    </li>
                </ol>
            </section>
            <div class="note" role="note" id="issue-container-generatedID-36">
                <div role="heading" class="note-title marker" id="h-note-36" aria-level="4"><span>Note</span></div>
                <div class="">
                    <p>
                        <a href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-abort-the-update-13">Abort the update</a> runs when there is a fatal error
                        updating
                        the payment request, such as the supplied <var>detailsPromise</var>
                        rejecting, or its fulfillment value containing invalid data. This
                        would potentially leave the payment request in an inconsistent
                        state since the developer hasn't successfully handled the change
                        event.
                    </p>
                    <p>
                        Consequently, the <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest"
                            class="internalDFN" id="ref-for-dom-paymentrequest-56"><code>PaymentRequest</code></a> moves
                        to a
                        "<a data-link-type="dfn|abstract-op" href="#dfn-closed" class="internalDFN"
                            id="ref-for-dfn-closed-11">closed</a>" state. The error is signaled to the
                        developer through the rejection of the
                        <a data-link-type="attribute" data-lt="[[acceptPromise]]" href="#dfn-acceptpromise"
                            class="internalDFN" id="ref-for-dfn-acceptpromise-8"><code>[[acceptPromise]]</code></a>,
                        i.e., the promise returned by
                        <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                            id="ref-for-dom-paymentrequest-show-14"><code>show</code></a><code>()</code>.
                    </p>
                    <p>
                        Similarly, <a href="#dfn-abort-the-update" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-abort-the-update-14">abort the update</a> occurring during
                        <a data-link-type="idl" data-lt="retry()" href="#dom-paymentresponse-retry" class="internalDFN"
                            id="ref-for-dom-paymentresponse-retry-4"><code>retry</code></a><code>()</code> causes the
                        <a data-link-type="attribute" data-lt="[[retryPromise]]" href="#dfn-retrypromise"
                            class="internalDFN" id="ref-for-dfn-retrypromise-13"><code>[[retryPromise]]</code></a> to
                        reject, and the
                        corresponding <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse"
                            class="internalDFN" id="ref-for-dom-paymentresponse-24"><code>PaymentResponse</code></a>'s
                        <a data-link-type="attribute" data-lt="[[complete]]" href="#dfn-complete" class="internalDFN"
                            id="ref-for-dfn-complete-7"><code>[[complete]]</code></a> <a
                            data-link-type="dfn|abstract-op"
                            href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                            slot</a> will be set to
                        true (i.e., it can no longer be used).
                    </p>
                </div>
            </div>
        </section>
    </section>
    <section id="privacy">
        <div class="header-wrapper">
            <h2 id="x19-privacy-and-security-considerations"><bdi class="secno">19. </bdi>
                Privacy and Security Considerations
            </h2><a class="self-link" href="#privacy" aria-label="Permalink for Section 19."></a>
        </div>

        <section class="informative" id="user-protections-with-show-method">
            <div class="header-wrapper">
                <h3 id="x19-1-user-protections-with-show-method"><bdi class="secno">19.1 </bdi>
                    User protections with <code>show()</code> method
                </h3><a class="self-link" href="#user-protections-with-show-method"
                    aria-label="Permalink for Section 19.1"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                To help ensure that users do not inadvertently share sensitive
                credentials with an origin, this API requires that PaymentRequest's
                <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                    id="ref-for-dom-paymentrequest-show-15"><code>show</code></a><code>()</code> method be invoked while
                the relevant
                <a data-link-type="interface" data-lt="Window"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>
                has <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">transient
                    activation</a> (e.g., via a click or press).
            </p>
            <p>
                To avoid a confusing user experience, this specification limits the
                user agent to displaying one at a time via the
                <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                    id="ref-for-dom-paymentrequest-show-16"><code>show</code></a><code>()</code> method. In addition,
                the user agent can
                limit the rate at which a page can call <a data-link-type="idl" data-lt="show()"
                    href="#dom-paymentrequest-show" class="internalDFN"
                    id="ref-for-dom-paymentrequest-show-17"><code>show</code></a><code>()</code>.
            </p>
        </section>
        <section class="informative" data-cite="secure-contexts" id="secure-contexts">
            <div class="header-wrapper">
                <h3 id="x19-2-secure-contexts"><bdi class="secno">19.2 </bdi>
                    Secure contexts
                </h3><a class="self-link" href="#secure-contexts" aria-label="Permalink for Section 19.2"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                The API defined in this specification is only exposed in a <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context">secure context</a> -
                see also the <cite><a data-matched-text="[[[secure-contexts]]]"
                        href="https://www.w3.org/TR/secure-contexts/">Secure Contexts</a></cite> specification for more
                details. In practice, this means that this API is only available over
                HTTPS. This is to limit the possibility of payment method data (e.g.,
                credit card numbers) being sent in the clear.
            </p>
        </section>
        <section class="informative" id="cross-origin-payment-requests">
            <div class="header-wrapper">
                <h3 id="x19-3-cross-origin-payment-requests"><bdi class="secno">19.3 </bdi>
                    Cross-origin payment requests
                </h3><a class="self-link" href="#cross-origin-payment-requests"
                    aria-label="Permalink for Section 19.3"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                It is common for merchants and other payees to delegate checkout and
                other e-commerce activities to payment service providers through an
                <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a>.
                This API supports payee-authorized cross-origin
                iframes through [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                        title="HTML Standard">HTML</a></cite>]'s
                <code><a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                attribute.
            </p>
            <p class="Note">
                <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-handler-16">Payment handlers</a> have access to both the origin that hosts
                the
                <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a>
                and the origin of the <a data-link-type="element"
                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a>
                content (where the
                <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-57"><code>PaymentRequest</code></a> initiates).
            </p>
        </section>
        <section class="informative" id="encryption-of-data-fields">
            <div class="header-wrapper">
                <h3 id="x19-4-encryption-of-data-fields"><bdi class="secno">19.4 </bdi>
                    Encryption of data fields
                </h3><a class="self-link" href="#encryption-of-data-fields" aria-label="Permalink for Section 19.4"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                The <a data-link-type="idl" data-lt="PaymentRequest" href="#dom-paymentrequest" class="internalDFN"
                    id="ref-for-dom-paymentrequest-58"><code>PaymentRequest</code></a> API does not directly support
                encryption of
                data fields. Individual <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-27">payment methods</a> may choose to include
                support for encrypted data but it is not mandatory that all
                <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-28">payment methods</a> support this.
            </p>
        </section>
        <section class="informative" id="how-user-agents-match-payment-handlers">
            <div class="header-wrapper">
                <h3 id="x19-5-how-user-agents-match-payment-handlers"><bdi class="secno">19.5 </bdi>
                    How user agents match payment handlers
                </h3><a class="self-link" href="#how-user-agents-match-payment-handlers"
                    aria-label="Permalink for Section 19.5"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                For security reasons, a user agent can limit matching (in
                <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                    id="ref-for-dom-paymentrequest-show-18"><code>show</code></a><code>()</code> and <a
                    data-link-type="idl" data-lt="canMakePayment()" href="#dom-paymentrequest-canmakepayment"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequest-canmakepayment-5"><code>canMakePayment</code></a><code>()</code>) to
                <a href="#dfn-payment-handler" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-handler-17">payment handlers</a> from the same <a
                    href="https://www.rfc-editor.org/rfc/rfc6454#section-3.2">origin</a> as a URL <a
                    data-link-type="dfn" href="https://www.w3.org/TR/payment-method-id/#dfn-pmi">payment method
                    identifier</a>.
            </p>
        </section>
        <section id="data-usage-0">
            <div class="header-wrapper">
                <h3 id="data-usage"><bdi class="secno">19.6 </bdi>
                    Data usage
                </h3><a class="self-link" href="#data-usage" aria-label="Permalink for Section 19.6"></a>
            </div>

            <p>
                <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-29">Payment method</a> owners establish the privacy policies for how
                user data collected for the payment method may be used. Payment
                Request API sets a clear expectation that data will be used for the
                purposes of completing a transaction, and user experiences associated
                with this API convey that intention. It is the responsibility of the
                payee to ensure that any data usage conforms to payment method
                policies. For any permitted usage beyond completion of the
                transaction, the payee should clearly communicate that usage to the
                user.
            </p>
        </section>
        <section id="exposing-user-information">
            <div class="header-wrapper">
                <h3 id="user-info"><bdi class="secno">19.7 </bdi>
                    Exposing user information
                </h3><a class="self-link" href="#user-info" aria-label="Permalink for Section 19.7"></a>
            </div>

            <p>
                The <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-38">user agent</a> <em class="rfc2119">MUST NOT</em> share information
                about the user with
                a developer (e.g., the <a data-link-type="dfn|abstract-op" href="#dfn-shipping-address"
                    class="internalDFN" id="ref-for-dfn-shipping-address-5">shipping address</a>) without user consent.
            </p>
            <p>
                In particular, the <a data-link-type="idl" data-lt="PaymentMethodData" href="#dom-paymentmethoddata"
                    class="internalDFN" id="ref-for-dom-paymentmethoddata-9"><code>PaymentMethodData</code></a>'s <a
                    data-link-type="idl" href="#dom-paymentmethoddata-data" class="internalDFN"
                    id="ref-for-dom-paymentmethoddata-data-8"><code>data</code></a>
                and <a data-link-type="idl" data-lt="PaymentResponse" href="#dom-paymentresponse" class="internalDFN"
                    id="ref-for-dom-paymentresponse-25"><code>PaymentResponse</code></a>'s <a data-link-type="idl"
                    href="#dom-paymentresponse-details" class="internalDFN"
                    id="ref-for-dom-paymentresponse-details-3"><code>details</code></a> members allow
                for the arbitrary exchange of data. In light of the wide range of
                data models used by existing payment methods, prescribing data
                specifics in this API would limit its usefulness. The
                <a data-link-type="idl" href="#dom-paymentresponse-details" class="internalDFN"
                    id="ref-for-dom-paymentresponse-details-4"><code>details</code></a> member carries data from the
                payment
                handler, whether Web-based (as defined by the <cite><a data-matched-text="[[[payment-handler]]]"
                        href="https://www.w3.org/TR/payment-handler/">Payment Handler API</a></cite>)
                or proprietary. The <a data-link-type="dfn|abstract-op" href="#dfn-user-agent" class="internalDFN"
                    id="ref-for-dfn-user-agent-39">user agent</a> <em class="rfc2119">MUST NOT</em> support payment
                handlers
                unless they include adequate user consent mechanisms (such as
                awareness of parties to the transaction and mechanisms for
                demonstrating the intention to share data).
            </p>
            <p>
                The <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agent-40">user agent</a> <em class="rfc2119">MUST NOT</em> share the values of
                the
                <a data-link-type="idl" href="#dom-paymentdetailsbase-displayitems" class="internalDFN"
                    id="ref-for-dom-paymentdetailsbase-displayitems-11"><code>displayItems</code></a> member or
                <a data-link-type="idl" href="#dom-paymentdetailsmodifier-additionaldisplayitems" class="internalDFN"
                    id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-7"><code>additionalDisplayItems</code></a>
                member for any
                purpose other than to facilitate completion of the transaction.
            </p>
            <p>
                The <a data-link-type="idl" data-lt="PaymentMethodChangeEvent" href="#dom-paymentmethodchangeevent"
                    class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-7"><code>PaymentMethodChangeEvent</code></a> enables the
                payee to update the
                displayed total based on information specific to a selected
                <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-30">payment method</a>. For example, the billing address associated
                with a selected <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-31">payment method</a> might affect the tax
                computation (e.g., VAT), and it is desirable that the user interface
                accurately display the total before the payer completes the
                transaction. At the same time, it is desirable to share as little
                information as possible prior to completion of the payment.
                Therefore, when a <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-32">payment method</a> defines the <a
                    href="#dfn-steps-for-when-a-user-changes-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-steps-for-when-a-user-changes-payment-method-1">steps for when
                    a user changes payment method</a>, it is important to minimize the
                data shared via the <a data-link-type="idl" data-lt="PaymentMethodChangeEvent"
                    href="#dom-paymentmethodchangeevent" class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-8"><code>PaymentMethodChangeEvent</code></a>'s
                <a data-link-type="idl" href="#dom-paymentmethodchangeevent-methoddetails" class="internalDFN"
                    id="ref-for-dom-paymentmethodchangeevent-methoddetails-4"><code>methodDetails</code></a> attribute.
                Requirements
                and approaches for minimizing shared data are likely to vary by
                <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-payment-method-33">payment method</a> and might include:
            </p>
            <ul>
                <li>Use of a "<var>redactList</var>" for <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address">physical addresses</a>. The
                    current specification makes use of a "<var>redactList</var>" to redact the
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-address-line">address line</a>, <a
                        data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-organization">organization</a>,
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-phone-number">phone number</a>, and
                    <a data-link-type="dfn"
                        href="https://www.w3.org/TR/contact-picker/#physical-address-recipient">recipient</a>
                    from a <a data-link-type="idl" href="#dom-paymentrequest-shippingaddress" class="internalDFN"
                        id="ref-for-dom-paymentrequest-shippingaddress-9"><code>shippingAddress</code></a>.
                </li>
                <li>Support for instructions from the payee identifying specific
                    elements to exclude or include from the <a href="#dfn-payment-method" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-payment-method-34">payment method</a>
                    response data (returned through <a data-link-type="idl" data-lt="PaymentResponse"
                        href="#dom-paymentresponse" class="internalDFN"
                        id="ref-for-dom-paymentresponse-26"><code>PaymentResponse</code></a>.<var>details</var>). The
                    payee might provide these instructions via
                    <a href="#dom-paymentmethoddata" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-paymentmethoddata-10"><code>PaymentMethodData</code></a>.<var>data</var>,
                    enabling a <a href="#dfn-payment-method" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-payment-method-35">payment method</a>
                    definition to evolve without requiring changes to the current API.
                </li>
            </ul>
            <p>
                Where sharing of privacy-sensitive information might not be obvious
                to users (e.g., when <a data-link-type="dfn|abstract-op" data-lt="payment method changed algorithm"
                    href="#dfn-payment-method-changed-algorithm" class="internalDFN"
                    id="ref-for-dfn-payment-method-changed-algorithm-1">changing payment methods</a>), it is <em
                    class="rfc2119">RECOMMENDED</em> that user
                agents inform the user of exactly what information is being shared
                with a merchant.
            </p>
        </section>
        <section id="canmakepayment-protections-0">
            <div class="header-wrapper">
                <h3 id="canmakepayment-protections"><bdi class="secno">19.8 </bdi>
                    <code>canMakePayment()</code> protections
                </h3><a class="self-link" href="#canmakepayment-protections"
                    aria-label="Permalink for Section 19.8"></a>
            </div>

            <p>
                The <a data-link-type="idl" data-lt="canMakePayment()" href="#dom-paymentrequest-canmakepayment"
                    class="internalDFN"
                    id="ref-for-dom-paymentrequest-canmakepayment-6"><code>canMakePayment</code></a><code>()</code>
                method provides feature
                detection for different payment methods. It may become a
                fingerprinting vector if in the future, a large number of payment
                methods are available. User agents are expected to protect the user
                from abuse of the method. For example, user agents can reduce user
                fingerprinting by:
            </p>
            <ul>
                <li>Rate-limiting the frequency of calls with different parameters.
                </li>
            </ul>
            <p>
                For rate-limiting the user agent might look at repeated calls from:
            </p>
            <ul>
                <li>the same <a data-link-type="dfn"
                        href="https://url.spec.whatwg.org/#host-registrable-domain">registrable domain</a>.
                </li>
                <li>the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">top-level
                        browsing context</a>. Alternatively, the user agent
                    may block access to the API entirely for <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">origins</a> known to
                    be bad
                    actors.
                </li>
                <li>the <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">origin</a> of an
                    <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                    or popup window.
                </li>
            </ul>
            <p>
                These rate-limiting techniques intend to increase the cost associated
                with repeated calls, whether it is the cost of managing multiple
                <a data-link-type="dfn" href="https://url.spec.whatwg.org/#host-registrable-domain">registrable
                    domains</a> or the user experience friction of
                opening multiple windows (tabs or pop-ups).
            </p>
        </section>
        <section id="user-activation-requirement-0">
            <div class="header-wrapper">
                <h3 id="user-activation-requirement"><bdi class="secno">19.9 </bdi>
                    User activation requirement
                </h3><a class="self-link" href="#user-activation-requirement"
                    aria-label="Permalink for Section 19.9"></a>
            </div>

            <p>
                If the user agent does not require user activation as part of the
                <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                    id="ref-for-dom-paymentrequest-show-19"><code>show</code></a><code>()</code> method, some additional
                security mitigations
                should be considered. Not requiring user activation increases the risk
                of spam and click-jacking attacks, by allowing a Payment Request UI
                to be initiated without the user interacting with the page immediately
                beforehand.
            </p>
            <p>
                In order to mitigate spam, the user agent may decide to enforce a user
                activation requirement after some threshold, for example after the
                user has already been shown a Payment Request UI without a user
                activation on the current page. In order to mitigate click-jacking
                attacks, the user agent may implement a time threshold in which clicks
                are ignored immediately after a dialog is shown.
            </p>
            <p>
                Another relevant mitigation exists in step 6 of
                <a data-link-type="idl" data-lt="show()" href="#dom-paymentrequest-show" class="internalDFN"
                    id="ref-for-dom-paymentrequest-show-20"><code>show</code></a><code>()</code>, where the document
                must be visible in order
                to initiate the user interaction.
            </p>
        </section>
    </section>
    <section class="informative" id="accessibility-considerations">
        <div class="header-wrapper">
            <h2 id="x20-accessibility-considerations"><bdi class="secno">20. </bdi>
                Accessibility Considerations
            </h2><a class="self-link" href="#accessibility-considerations" aria-label="Permalink for Section 20."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            For the user-facing aspects of Payment Request API, implementations
            integrate with platform accessibility APIs via form controls and other
            input modalities. Furthermore, to increase the intelligibility of
            total, shipping addresses, and contact information, implementations
            format data according to system conventions.
        </p>
    </section>
    <section id="dependencies">
        <div class="header-wrapper">
            <h2 id="x21-dependencies"><bdi class="secno">21. </bdi>
                Dependencies
            </h2><a class="self-link" href="#dependencies" aria-label="Permalink for Section 21."></a>
        </div>

        <p>
            This specification relies on several other underlying specifications.
        </p>
        <dl data-sort="">
            <dt>
                ECMAScript
            </dt>
            <dd>
                The term <dfn data-plurals="internal slots" id="dfn-internal-slot" class="externalDFN" data-no-export=""
                    data-dfn-type="dfn"><a
                        href="https://tc39.es/ecma262/multipage/#sec-object-internal-methods-and-internal-slots">internal
                        slot</a></dfn> is defined [<cite><a class="bibref" data-link-type="biblio"
                        href="#bib-ecmascript" title="ECMAScript Language Specification">ECMASCRIPT</a></cite>].
            </dd>
        </dl>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x22-conformance"><bdi class="secno">22. </bdi>Conformance</h2><a class="self-link"
                href="#conformance" aria-label="Permalink for Section 22."></a>
        </div>
        <p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this
            specification are non-normative. Everything else in this specification is normative.</p>
        <p>
            The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST
                NOT</em>, <em class="rfc2119">OPTIONAL</em>, <em class="rfc2119">RECOMMENDED</em>, <em
                class="rfc2119">SHOULD</em>, and <em class="rfc2119">SHOULD NOT</em> in this document
            are to be interpreted as described in
            <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            when, and only when, they appear in all capitals, as shown here.
        </p>
        <p>
            There is only one class of product that can claim conformance to this
            specification: a <dfn data-plurals="user agents" id="dfn-user-agent" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">user agent</dfn>.
        </p>
        <div class="note" role="note" id="issue-container-generatedID-37">
            <div role="heading" class="note-title marker" id="h-note-37" aria-level="3"><span>Note</span></div>
            <p class="">
                Although this specification is primarily targeted at web browsers, it
                is feasible that other software could also implement this specification
                in a conforming manner.
            </p>
        </div>
        <p>
            User agents <em class="rfc2119">MAY</em> implement algorithms given in this specification in any
            way desired, so long as the end result is indistinguishable from the
            result that would be obtained by the specification's algorithms.
        </p>
        <p>
            User agents <em class="rfc2119">MAY</em> impose implementation-specific limits on otherwise
            unconstrained inputs, e.g., to prevent denial of service attacks, to
            guard against running out of memory, or to work around
            platform-specific limitations. When an input exceeds
            implementation-specific limit, the user agent <em class="rfc2119">MUST</em> throw, or, in the
            context of a promise, reject with, a <a data-link-type="exception" data-lt="TypeError"
                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a> optionally
            informing
            the developer of how a particular input exceeded an
            implementation-specific limit.
        </p>
    </section>
    <section id="idl-index" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-idl-index"><bdi class="secno">A. </bdi>IDL Index</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <pre class="idl def"
            id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="PaymentRequest">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentrequest" id="ref-for-dom-paymentrequest-59"><code>PaymentRequest</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="PaymentRequest">
  <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PaymentRequest" data-lt="constructor()|constructor(methodData, details)|constructor(methodData, details, options)" data-local-lt="PaymentRequest.constructor|PaymentRequest.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType">
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentmethoddata" class="internalDFN" id="ref-for-dom-paymentmethoddata-11"><code>PaymentMethodData</code></a>&gt;</span> <span class="idlParamName">methodData</span>,<span class="idlType">
    <a data-link-type="idl" href="#dom-paymentdetailsinit" class="internalDFN" id="ref-for-dom-paymentdetailsinit-9"><code>PaymentDetailsInit</code></a></span> <span class="idlParamName">details</span>,
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentoptions" class="internalDFN" id="ref-for-dom-paymentoptions-14"><code>PaymentOptions</code></a></span> <span class="idlParamName">options</span> = {}
  );</span><span data-idl="" class="idlMethod" data-title="show" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentresponse" class="internalDFN" id="ref-for-dom-paymentresponse-27"><code>PaymentResponse</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-show" id="ref-for-dom-paymentrequest-show-21"><code>show</code></a>(optional<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsupdate" class="internalDFN" id="ref-for-dom-paymentdetailsupdate-13"><code>PaymentDetailsUpdate</code></a>&gt;</span> <span class="idlParamName">detailsPromise</span>);</span><span data-idl="" class="idlMethod" data-title="abort" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-abort" id="ref-for-dom-paymentrequest-abort-7"><code>abort</code></a>();</span><span data-idl="" class="idlMethod" data-title="canMakePayment" data-dfn-for="PaymentRequest">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequest-canmakepayment" id="ref-for-dom-paymentrequest-canmakepayment-7"><code>canMakePayment</code></a>();</span><span data-idl="" class="idlAttribute" data-title="id" data-dfn-for="PaymentRequest">

  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-id" id="ref-for-dom-paymentrequest-id-4"><code>id</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingAddress" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://www.w3.org/TR/contact-picker/#contactaddress">ContactAddress</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingaddress" id="ref-for-dom-paymentrequest-shippingaddress-10"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingOption" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingoption" id="ref-for-dom-paymentrequest-shippingoption-10"><code>shippingOption</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingType" data-dfn-for="PaymentRequest">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-paymentshippingtype" class="internalDFN" id="ref-for-dom-paymentshippingtype-6"><code>PaymentShippingType</code></a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-shippingtype" id="ref-for-dom-paymentrequest-shippingtype-5"><code>shippingType</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onshippingaddresschange" data-dfn-for="PaymentRequest">

  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onshippingaddresschange" id="ref-for-dom-paymentrequest-onshippingaddresschange-3"><code>onshippingaddresschange</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onshippingoptionchange" data-dfn-for="PaymentRequest">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onshippingoptionchange" id="ref-for-dom-paymentrequest-onshippingoptionchange-3"><code>onshippingoptionchange</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onpaymentmethodchange" data-dfn-for="PaymentRequest">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentrequest-onpaymentmethodchange" id="ref-for-dom-paymentrequest-onpaymentmethodchange-3"><code>onpaymentmethodchange</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentMethodData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentmethoddata" id="ref-for-dom-paymentmethoddata-12"><code>PaymentMethodData</code></a> {<span data-idl="" class="idlMember" data-title="supportedMethods" data-dfn-for="PaymentMethodData">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethoddata-supportedmethods" id="ref-for-dom-paymentmethoddata-supportedmethods-8"><code>supportedMethods</code></a>;</span><span data-idl="" class="idlMember" data-title="data" data-dfn-for="PaymentMethodData"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethoddata-data" id="ref-for-dom-paymentmethoddata-data-9"><code>data</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentCurrencyAmount">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentcurrencyamount" id="ref-for-dom-paymentcurrencyamount-9"><code>PaymentCurrencyAmount</code></a> {<span data-idl="" class="idlMember" data-title="currency" data-dfn-for="PaymentCurrencyAmount">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcurrencyamount-currency" id="ref-for-dom-paymentcurrencyamount-currency-6"><code>currency</code></a>;</span><span data-idl="" class="idlMember" data-title="value" data-dfn-for="PaymentCurrencyAmount">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcurrencyamount-value" id="ref-for-dom-paymentcurrencyamount-value-7"><code>value</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentDetailsBase">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsbase" id="ref-for-dom-paymentdetailsbase-10"><code>PaymentDetailsBase</code></a> {<span data-idl="" class="idlMember" data-title="displayItems" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-14"><code>PaymentItem</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-displayitems" id="ref-for-dom-paymentdetailsbase-displayitems-12"><code>displayItems</code></a>;</span><span data-idl="" class="idlMember" data-title="shippingOptions" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentshippingoption" class="internalDFN" id="ref-for-dom-paymentshippingoption-9"><code>PaymentShippingOption</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-shippingoptions" id="ref-for-dom-paymentdetailsbase-shippingoptions-12"><code>shippingOptions</code></a>;</span><span data-idl="" class="idlMember" data-title="modifiers" data-dfn-for="PaymentDetailsBase"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsmodifier" class="internalDFN" id="ref-for-dom-paymentdetailsmodifier-9"><code>PaymentDetailsModifier</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsbase-modifiers" id="ref-for-dom-paymentdetailsbase-modifiers-12"><code>modifiers</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentDetailsInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsinit" id="ref-for-dom-paymentdetailsinit-10"><code>PaymentDetailsInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentdetailsbase" class="internalDFN" id="ref-for-dom-paymentdetailsbase-11"><code>PaymentDetailsBase</code></a></span> {<span data-idl="" class="idlMember" data-title="id" data-dfn-for="PaymentDetailsInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsinit-id" id="ref-for-dom-paymentdetailsinit-id-8"><code>id</code></a>;</span><span data-idl="" class="idlMember" data-title="total" data-dfn-for="PaymentDetailsInit">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-15"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsinit-total" id="ref-for-dom-paymentdetailsinit-total-8"><code>total</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentDetailsUpdate">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsupdate" id="ref-for-dom-paymentdetailsupdate-14"><code>PaymentDetailsUpdate</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentdetailsbase" class="internalDFN" id="ref-for-dom-paymentdetailsbase-12"><code>PaymentDetailsBase</code></a></span> {<span data-idl="" class="idlMember" data-title="error" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-error" id="ref-for-dom-paymentdetailsupdate-error-4"><code>error</code></a>;</span><span data-idl="" class="idlMember" data-title="total" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-16"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-total" id="ref-for-dom-paymentdetailsupdate-total-7"><code>total</code></a>;</span><span data-idl="" class="idlMember" data-title="shippingAddressErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-addresserrors" class="internalDFN" id="ref-for-dom-addresserrors-7"><code>AddressErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-shippingaddresserrors" id="ref-for-dom-paymentdetailsupdate-shippingaddresserrors-5"><code>shippingAddressErrors</code></a>;</span><span data-idl="" class="idlMember" data-title="payerErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="idl" href="#dom-payererrors" class="internalDFN" id="ref-for-dom-payererrors-6"><code>PayerErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-payererrors" id="ref-for-dom-paymentdetailsupdate-payererrors-2"><code>payerErrors</code></a>;</span><span data-idl="" class="idlMember" data-title="paymentMethodErrors" data-dfn-for="PaymentDetailsUpdate"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsupdate-paymentmethoderrors" id="ref-for-dom-paymentdetailsupdate-paymentmethoderrors-6"><code>paymentMethodErrors</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentDetailsModifier">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentdetailsmodifier" id="ref-for-dom-paymentdetailsmodifier-10"><code>PaymentDetailsModifier</code></a> {<span data-idl="" class="idlMember" data-title="supportedMethods" data-dfn-for="PaymentDetailsModifier">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-supportedmethods" id="ref-for-dom-paymentdetailsmodifier-supportedmethods-6"><code>supportedMethods</code></a>;</span><span data-idl="" class="idlMember" data-title="total" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-17"><code>PaymentItem</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-total" id="ref-for-dom-paymentdetailsmodifier-total-8"><code>total</code></a>;</span><span data-idl="" class="idlMember" data-title="additionalDisplayItems" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-paymentitem" class="internalDFN" id="ref-for-dom-paymentitem-18"><code>PaymentItem</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-additionaldisplayitems" id="ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-8"><code>additionalDisplayItems</code></a>;</span><span data-idl="" class="idlMember" data-title="data" data-dfn-for="PaymentDetailsModifier"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentdetailsmodifier-data" id="ref-for-dom-paymentdetailsmodifier-data-10"><code>data</code></a>;</span>
};</span>

<span data-idl="" class="idlEnum" data-title="PaymentShippingType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paymentshippingtype" id="ref-for-dom-paymentshippingtype-7"><code>PaymentShippingType</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-shipping" id="ref-for-dom-paymentshippingtype-shipping-2"><code>shipping</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-delivery" id="ref-for-dom-paymentshippingtype-delivery-2"><code>delivery</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentshippingtype-pickup" id="ref-for-dom-paymentshippingtype-pickup-2"><code>pickup</code></a>"</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentoptions" id="ref-for-dom-paymentoptions-15"><code>PaymentOptions</code></a> {<span data-idl="" class="idlMember" data-title="requestPayerName" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayername" id="ref-for-dom-paymentoptions-requestpayername-7"><code>requestPayerName</code></a> = false;</span><span data-idl="" class="idlMember" data-title="requestBillingAddress" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestbillingaddress" id="ref-for-dom-paymentoptions-requestbillingaddress-2"><code>requestBillingAddress</code></a> = false;</span><span data-idl="" class="idlMember" data-title="requestPayerEmail" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayeremail" id="ref-for-dom-paymentoptions-requestpayeremail-7"><code>requestPayerEmail</code></a> = false;</span><span data-idl="" class="idlMember" data-title="requestPayerPhone" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestpayerphone" id="ref-for-dom-paymentoptions-requestpayerphone-7"><code>requestPayerPhone</code></a> = false;</span><span data-idl="" class="idlMember" data-title="requestShipping" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-requestshipping" id="ref-for-dom-paymentoptions-requestshipping-17"><code>requestShipping</code></a> = false;</span><span data-idl="" class="idlMember" data-title="shippingType" data-dfn-for="PaymentOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-paymentshippingtype" class="internalDFN" id="ref-for-dom-paymentshippingtype-8"><code>PaymentShippingType</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentoptions-shippingtype" id="ref-for-dom-paymentoptions-shippingtype-6"><code>shippingType</code></a> = "shipping";</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentItem">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentitem" id="ref-for-dom-paymentitem-19"><code>PaymentItem</code></a> {<span data-idl="" class="idlMember" data-title="label" data-dfn-for="PaymentItem">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-label" id="ref-for-dom-paymentitem-label-3"><code>label</code></a>;</span><span data-idl="" class="idlMember" data-title="amount" data-dfn-for="PaymentItem">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcurrencyamount" class="internalDFN" id="ref-for-dom-paymentcurrencyamount-10"><code>PaymentCurrencyAmount</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-amount" id="ref-for-dom-paymentitem-amount-15"><code>amount</code></a>;</span><span data-idl="" class="idlMember" data-title="pending" data-dfn-for="PaymentItem"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentitem-pending" id="ref-for-dom-paymentitem-pending-2"><code>pending</code></a> = false;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentCompleteDetails">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentcompletedetails" id="ref-for-dom-paymentcompletedetails-5"><code>PaymentCompleteDetails</code></a> {<span data-idl="" class="idlMember" data-title="data" data-dfn-for="PaymentCompleteDetails"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentcompletedetails-data" id="ref-for-dom-paymentcompletedetails-data-3"><code>data</code></a> = null;</span>
};</span>

<span data-idl="" class="idlEnum" data-title="PaymentComplete">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paymentcomplete" id="ref-for-dom-paymentcomplete-3"><code>PaymentComplete</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-fail" id="ref-for-dom-paymentcomplete-fail-2"><code>fail</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-success" id="ref-for-dom-paymentcomplete-success-2"><code>success</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paymentcomplete-unknown" id="ref-for-dom-paymentcomplete-unknown-2"><code>unknown</code></a>"</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentShippingOption">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentshippingoption" id="ref-for-dom-paymentshippingoption-10"><code>PaymentShippingOption</code></a> {<span data-idl="" class="idlMember" data-title="id" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-id" id="ref-for-dom-paymentshippingoption-id-9"><code>id</code></a>;</span><span data-idl="" class="idlMember" data-title="label" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-label" id="ref-for-dom-paymentshippingoption-label-2"><code>label</code></a>;</span><span data-idl="" class="idlMember" data-title="amount" data-dfn-for="PaymentShippingOption">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcurrencyamount" class="internalDFN" id="ref-for-dom-paymentcurrencyamount-11"><code>PaymentCurrencyAmount</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-amount" id="ref-for-dom-paymentshippingoption-amount-3"><code>amount</code></a>;</span><span data-idl="" class="idlMember" data-title="selected" data-dfn-for="PaymentShippingOption"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentshippingoption-selected" id="ref-for-dom-paymentshippingoption-selected-7"><code>selected</code></a> = false;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PaymentResponse">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentresponse" id="ref-for-dom-paymentresponse-28"><code>PaymentResponse</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span>  {<span data-idl="" class="idlMethod" data-title="toJSON" data-dfn-for="PaymentResponse">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default">Default</a></span>]<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a data-link-type="dfn" data-lt="default toJSON steps" class="idlName" href="https://webidl.spec.whatwg.org/#default-tojson-steps">toJSON</a>();</span><span data-idl="" class="idlAttribute" data-title="requestId" data-dfn-for="PaymentResponse">

  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-requestid" id="ref-for-dom-paymentresponse-requestid-3"><code>requestId</code></a>;</span><span data-idl="" class="idlAttribute" data-title="methodName" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-methodname" id="ref-for-dom-paymentresponse-methodname-7"><code>methodName</code></a>;</span><span data-idl="" class="idlAttribute" data-title="details" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-details" id="ref-for-dom-paymentresponse-details-5"><code>details</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingAddress" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://www.w3.org/TR/contact-picker/#contactaddress">ContactAddress</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-shippingaddress" id="ref-for-dom-paymentresponse-shippingaddress-6"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlAttribute" data-title="shippingOption" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-shippingoption" id="ref-for-dom-paymentresponse-shippingoption-4"><code>shippingOption</code></a>;</span><span data-idl="" class="idlAttribute" data-title="payerName" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payername" id="ref-for-dom-paymentresponse-payername-6"><code>payerName</code></a>;</span><span data-idl="" class="idlAttribute" data-title="payerEmail" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payeremail" id="ref-for-dom-paymentresponse-payeremail-6"><code>payerEmail</code></a>;</span><span data-idl="" class="idlAttribute" data-title="payerPhone" data-dfn-for="PaymentResponse">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-payerphone" id="ref-for-dom-paymentresponse-payerphone-7"><code>payerPhone</code></a>;</span><span data-idl="" class="idlMethod" data-title="complete" data-dfn-for="PaymentResponse">

  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentresponse-complete" id="ref-for-dom-paymentresponse-complete-10"><code>complete</code></a>(
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcomplete" class="internalDFN" id="ref-for-dom-paymentcomplete-4"><code>PaymentComplete</code></a></span> <span class="idlParamName">result</span> = "unknown",
    optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentcompletedetails" class="internalDFN" id="ref-for-dom-paymentcompletedetails-6"><code>PaymentCompleteDetails</code></a></span> <span class="idlParamName">details</span> = {}
  );</span><span data-idl="" class="idlMethod" data-title="retry" data-dfn-for="PaymentResponse">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject">NewObject</a></span>]<span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentresponse-retry" id="ref-for-dom-paymentresponse-retry-5"><code>retry</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentvalidationerrors" class="internalDFN" id="ref-for-dom-paymentvalidationerrors-6"><code>PaymentValidationErrors</code></a></span> <span class="idlParamName">errorFields</span> = {});</span><span data-idl="" class="idlAttribute" data-title="onpayerdetailchange" data-dfn-for="PaymentResponse">

  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentresponse-onpayerdetailchange" id="ref-for-dom-paymentresponse-onpayerdetailchange-2"><code>onpayerdetailchange</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentValidationErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentvalidationerrors" id="ref-for-dom-paymentvalidationerrors-7"><code>PaymentValidationErrors</code></a> {<span data-idl="" class="idlMember" data-title="payer" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="idl" href="#dom-payererrors" class="internalDFN" id="ref-for-dom-payererrors-7"><code>PayerErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-payer" id="ref-for-dom-paymentvalidationerrors-payer-5"><code>payer</code></a>;</span><span data-idl="" class="idlMember" data-title="shippingAddress" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="idl" href="#dom-addresserrors" class="internalDFN" id="ref-for-dom-addresserrors-8"><code>AddressErrors</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-shippingaddress" id="ref-for-dom-paymentvalidationerrors-shippingaddress-3"><code>shippingAddress</code></a>;</span><span data-idl="" class="idlMember" data-title="error" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-error" id="ref-for-dom-paymentvalidationerrors-error-5"><code>error</code></a>;</span><span data-idl="" class="idlMember" data-title="paymentMethod" data-dfn-for="PaymentValidationErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentvalidationerrors-paymentmethod" id="ref-for-dom-paymentvalidationerrors-paymentmethod-4"><code>paymentMethod</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PayerErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-payererrors" id="ref-for-dom-payererrors-8"><code>PayerErrors</code></a> {<span data-idl="" class="idlMember" data-title="email" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-email" id="ref-for-dom-payererrors-email-3"><code>email</code></a>;</span><span data-idl="" class="idlMember" data-title="name" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-name" id="ref-for-dom-payererrors-name-3"><code>name</code></a>;</span><span data-idl="" class="idlMember" data-title="phone" data-dfn-for="PayerErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-payererrors-phone" id="ref-for-dom-payererrors-phone-3"><code>phone</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="AddressErrors">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-addresserrors" id="ref-for-dom-addresserrors-9"><code>AddressErrors</code></a> {<span data-idl="" class="idlMember" data-title="addressLine" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-addressline" id="ref-for-dom-addresserrors-addressline-2"><code>addressLine</code></a>;</span><span data-idl="" class="idlMember" data-title="city" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-city" id="ref-for-dom-addresserrors-city-2"><code>city</code></a>;</span><span data-idl="" class="idlMember" data-title="country" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-country" id="ref-for-dom-addresserrors-country-2"><code>country</code></a>;</span><span data-idl="" class="idlMember" data-title="dependentLocality" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-dependentlocality" id="ref-for-dom-addresserrors-dependentlocality-2"><code>dependentLocality</code></a>;</span><span data-idl="" class="idlMember" data-title="organization" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-organization" id="ref-for-dom-addresserrors-organization-2"><code>organization</code></a>;</span><span data-idl="" class="idlMember" data-title="phone" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-phone" id="ref-for-dom-addresserrors-phone-2"><code>phone</code></a>;</span><span data-idl="" class="idlMember" data-title="postalCode" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-postalcode" id="ref-for-dom-addresserrors-postalcode-2"><code>postalCode</code></a>;</span><span data-idl="" class="idlMember" data-title="recipient" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-recipient" id="ref-for-dom-addresserrors-recipient-2"><code>recipient</code></a>;</span><span data-idl="" class="idlMember" data-title="region" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-region" id="ref-for-dom-addresserrors-region-2"><code>region</code></a>;</span><span data-idl="" class="idlMember" data-title="sortingCode" data-dfn-for="AddressErrors"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-addresserrors-sortingcode" id="ref-for-dom-addresserrors-sortingcode-2"><code>sortingCode</code></a>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PaymentMethodChangeEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentmethodchangeevent" id="ref-for-dom-paymentmethodchangeevent-9"><code>PaymentMethodChangeEvent</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentrequestupdateevent" class="internalDFN" id="ref-for-dom-paymentrequestupdateevent-15"><code>PaymentRequestUpdateEvent</code></a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="PaymentMethodChangeEvent">
  <dfn data-export="" data-dfn-type="constructor" data-idl="constructor" data-title="constructor" data-dfn-for="PaymentMethodChangeEvent" data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)" data-local-lt="PaymentMethodChangeEvent.constructor|PaymentMethodChangeEvent.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentmethodchangeeventinit" class="internalDFN" id="ref-for-dom-paymentmethodchangeeventinit-5"><code>PaymentMethodChangeEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" data-title="methodName" data-dfn-for="PaymentMethodChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentmethodchangeevent-methodname" id="ref-for-dom-paymentmethodchangeevent-methodname-5"><code>methodName</code></a>;</span><span data-idl="" class="idlAttribute" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEvent">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-paymentmethodchangeevent-methoddetails" id="ref-for-dom-paymentmethodchangeevent-methoddetails-5"><code>methodDetails</code></a>;</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentMethodChangeEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentmethodchangeeventinit" id="ref-for-dom-paymentmethodchangeeventinit-6"><code>PaymentMethodChangeEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" href="#dom-paymentrequestupdateeventinit" class="internalDFN" id="ref-for-dom-paymentrequestupdateeventinit-4"><code>PaymentRequestUpdateEventInit</code></a></span> {<span data-idl="" class="idlMember" data-title="methodName" data-dfn-for="PaymentMethodChangeEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethodchangeeventinit-methodname" id="ref-for-dom-paymentmethodchangeeventinit-methodname-3"><code>methodName</code></a> = "";</span><span data-idl="" class="idlMember" data-title="methodDetails" data-dfn-for="PaymentMethodChangeEventInit"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object">object</a>?</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-paymentmethodchangeeventinit-methoddetails" id="ref-for-dom-paymentmethodchangeeventinit-methoddetails-3"><code>methodDetails</code></a> = null;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="PaymentRequestUpdateEvent">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-paymentrequestupdateevent" id="ref-for-dom-paymentrequestupdateevent-16"><code>PaymentRequestUpdateEvent</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" data-title="constructor" data-dfn-for="PaymentRequestUpdateEvent">
  <a class="internalDFN" data-link-type="constructor" href="#dom-paymentrequestupdateevent-constructor" id="ref-for-dom-paymentrequestupdateevent-constructor-3"><code>constructor</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-paymentrequestupdateeventinit" class="internalDFN" id="ref-for-dom-paymentrequestupdateeventinit-5"><code>PaymentRequestUpdateEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlMethod" data-title="updateWith" data-dfn-for="PaymentRequestUpdateEvent"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-paymentrequestupdateevent-updatewith" id="ref-for-dom-paymentrequestupdateevent-updatewith-11"><code>updateWith</code></a>(<span class="idlType"><a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-paymentdetailsupdate" class="internalDFN" id="ref-for-dom-paymentdetailsupdate-15"><code>PaymentDetailsUpdate</code></a>&gt;</span> <span class="idlParamName">detailsPromise</span>);</span>
};</span>

<span data-idl="" class="idlDictionary" data-title="PaymentRequestUpdateEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-paymentrequestupdateeventinit" id="ref-for-dom-paymentrequestupdateeventinit-6"><code>PaymentRequestUpdateEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {};</span></code></pre>
    </section>
    <section class="appendix" id="acknowledgements">
        <div class="header-wrapper">
            <h2 id="b-acknowledgements"><bdi class="secno">B. </bdi>
                Acknowledgements
            </h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Appendix B."></a>
        </div>

        <p>
            This specification was derived from a report published previously by
            the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator
                Community Group</a>.
        </p>
    </section>
    <section id="changelog">
        <div class="header-wrapper">
            <h2 id="c-changelog"><bdi class="secno">C. </bdi>
                Changelog
            </h2><a class="self-link" href="#changelog" aria-label="Permalink for Section C."></a>
        </div>

        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payment-method"
            aria-label="Links in this document to definition: payment method">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-method"
                    aria-label="Permalink for definition: payment method. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-method-1" title="§ 1. Introduction">§ 1. Introduction</a> <a
                        href="#ref-for-dfn-payment-method-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-method-3" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-payment-method-4" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-5" title="§ 1.1 Goals and scope">§ 1.1 Goals and scope</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-6" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-7" title="§ 2.1 Declaring multiple ways of paying">§ 2.1
                        Declaring multiple ways of paying</a> <a href="#ref-for-dfn-payment-method-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-9" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dfn-payment-method-10" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-11" title="§ 3.5 canMakePayment() method">§ 3.5
                        canMakePayment() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-12" title="§ 4. PaymentMethodData dictionary">§ 4.
                        PaymentMethodData dictionary</a> <a href="#ref-for-dfn-payment-method-13"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-payment-method-14" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-15" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-16" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a> <a href="#ref-for-dfn-payment-method-17"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-18" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-19" title="§ 11. PaymentCompleteDetails dictionary">§ 11.
                        PaymentCompleteDetails dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-20" title="§ 14.2 methodName attribute">§ 14.2 methodName
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-21" title="§ 14.3 details attribute">§ 14.3 details
                        attribute</a> <a href="#ref-for-dfn-payment-method-22" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-23" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-24" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make
                        payment algorithm</a> <a href="#ref-for-dfn-payment-method-25" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-26" title="§ 18.4 Payment method changed algorithm">§ 18.4
                        Payment method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-27" title="§ 19.4 Encryption of data fields">§ 19.4 Encryption
                        of data fields</a> <a href="#ref-for-dfn-payment-method-28" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-29" title="§ 19.6 Data usage">§ 19.6 Data usage</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-method-30" title="§ 19.7 Exposing user information">§ 19.7 Exposing
                        user information</a> <a href="#ref-for-dfn-payment-method-31" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-method-32" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-payment-method-33" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-payment-method-34" title="Reference 5">(5)</a> <a
                        href="#ref-for-dfn-payment-method-35" title="Reference 6">(6)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payment-method-provider"
            aria-label="Links in this document to definition: payment method provider">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-method-provider"
                    aria-label="Permalink for definition: payment method provider. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-method-provider-1" title="§ 1.1 Goals and scope">§ 1.1 Goals and
                        scope</a> <a href="#ref-for-dfn-payment-method-provider-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-method-provider-3" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-additional-data-type"
            aria-label="Links in this document to definition: additional data type">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-additional-data-type"
                    aria-label="Permalink for definition: additional data type. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-additional-data-type-1" title="§ 1. Introduction">§ 1. Introduction</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-additional-data-type-2" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dfn-additional-data-type-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-additional-data-type-4" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-steps-to-validate-payment-method-data"
            aria-label="Links in this document to definition: Steps to validate payment method data">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-steps-to-validate-payment-method-data"
                    aria-label="Permalink for definition: Steps to validate payment method data. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-steps-to-validate-payment-method-data-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payment-handler"
            aria-label="Links in this document to definition: payment handler">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-handler"
                    aria-label="Permalink for definition: payment handler. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-handler-1" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-2" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-payment-handler-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-handler-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-payment-handler-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-6" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-7" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-8" title="§ 14.1 retry() method">§ 14.1 retry() method</a> <a
                        href="#ref-for-dfn-payment-handler-9" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-10" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-11" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make
                        payment algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-12" title="§ 18.4 Payment method changed algorithm">§ 18.4
                        Payment method changed algorithm</a> <a href="#ref-for-dfn-payment-handler-13"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-14"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dfn-payment-handler-15" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-16" title="§ 19.3 Cross-origin payment requests">§ 19.3
                        Cross-origin payment requests</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-handler-17" title="§ 19.5 How user agents match payment handlers">§
                        19.5 How user agents match payment handlers</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-steps-to-check-if-a-payment-can-be-made"
            aria-label="Links in this document to definition: Steps to check if a payment can be made">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-steps-to-check-if-a-payment-can-be-made"
                    aria-label="Permalink for definition: Steps to check if a payment can be made. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-steps-to-check-if-a-payment-can-be-made-1" title="§ 3.3 show() method">§ 3.3
                        show() method</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-steps-to-respond-to-a-payment-request"
            aria-label="Links in this document to definition: Steps to respond to a payment request">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-steps-to-respond-to-a-payment-request"
                    aria-label="Permalink for definition: Steps to respond to a payment request. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-steps-to-respond-to-a-payment-request-1"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-steps-for-when-a-user-changes-payment-method"
            aria-label="Links in this document to definition: Steps for when a user changes payment method">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-steps-for-when-a-user-changes-payment-method"
                    aria-label="Permalink for definition: Steps for when a user changes payment method. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-steps-for-when-a-user-changes-payment-method-1"
                        title="§ 19.7 Exposing user information">§ 19.7 Exposing user information</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentrequest"
            aria-label="Links in this document to definition: PaymentRequest">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest"
                    aria-label="Permalink for definition: PaymentRequest. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-1" title="§ 2. Examples of usage">§ 2. Examples of usage</a> <a
                        href="#ref-for-dom-paymentrequest-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-3" title="§ 2.1 Declaring multiple ways of paying">§ 2.1
                        Declaring multiple ways of paying</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-4" title="§ 2.2 Describing what is being paid for">§ 2.2
                        Describing what is being paid for</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-5"
                        title="§ 2.5 Requesting specific information from the end user">§ 2.5 Requesting specific
                        information from the end user</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-6" title="§ 2.6 Constructing a PaymentRequest">§ 2.6
                        Constructing a PaymentRequest</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-7" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a> <a href="#ref-for-dom-paymentrequest-8" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-9" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentrequest-10" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-11" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentrequest-12" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-13" title="§ 3.2 id attribute">§ 3.2 id attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-14" title="§ 3.6 shippingAddress attribute">§ 3.6
                        shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-15" title="§ 3.7 shippingType attribute">§ 3.7 shippingType
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-16" title="§ 3.8 onshippingaddresschange attribute">§ 3.8
                        onshippingaddresschange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-17" title="§ 3.9 shippingOption attribute">§ 3.9 shippingOption
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-18" title="§ 3.10 onshippingoptionchange attribute">§ 3.10
                        onshippingoptionchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-19" title="§ 3.11 onpaymentmethodchange attribute">§ 3.11
                        onpaymentmethodchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-20" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a> <a
                        href="#ref-for-dom-paymentrequest-21" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-22" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-23" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dom-paymentrequest-24"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-25" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-26" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-27" title="§ 13. PaymentShippingOption dictionary">§ 13.
                        PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-28" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-29" title="§ 14.4 shippingAddress attribute">§ 14.4
                        shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-30" title="§ 14.5 shippingOption attribute">§ 14.5
                        shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-31" title="§ 14.6 payerName attribute">§ 14.6 payerName
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-32" title="§ 14.7 payerEmail attribute">§ 14.7 payerEmail
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-33" title="§ 14.8 payerPhone attribute">§ 14.8 payerPhone
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-34" title="§ 14.12 Internal Slots">§ 14.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-35" title="§ 15. Shipping and billing addresses">§ 15. Shipping
                        and billing addresses</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-36" title="§ 16. Permissions Policy integration">§ 16.
                        Permissions Policy integration</a> <a href="#ref-for-dom-paymentrequest-37"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-38" title="§ 17.1 Summary">§ 17.1 Summary</a> <a
                        href="#ref-for-dom-paymentrequest-39" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-40" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-41" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-42" title="§ 18. Algorithms">§ 18. Algorithms</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-43" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make
                        payment algorithm</a> <a href="#ref-for-dom-paymentrequest-44" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-45" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-46" title="§ 18.2 Shipping address changed algorithm">§ 18.2
                        Shipping address changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-47" title="§ 18.3 Shipping option changed algorithm">§ 18.3
                        Shipping option changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-48" title="§ 18.4 Payment method changed algorithm">§ 18.4
                        Payment method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-49" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-50" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer
                        detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-51" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-52" title="§ 18.8 User aborts the payment request algorithm">§
                        18.8 User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-53"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentrequest-54" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-56" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-55" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the
                        update</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-57" title="§ 19.3 Cross-origin payment requests">§ 19.3
                        Cross-origin payment requests</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-58" title="§ 19.4 Encryption of data fields">§ 19.4 Encryption
                        of data fields</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-59" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-constructor"
            aria-label="Links in this document to definition: constructor">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-constructor"
                    aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>Not referenced in this document.</li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-payment-relevant-browsing-context"
            aria-label="Links in this document to definition: payment-relevant browsing context">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-relevant-browsing-context"
                    aria-label="Permalink for definition: payment-relevant browsing context. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-1" title="§ 3. PaymentRequest interface">§
                        3. PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-2" title="§ 3.3 show() method">§ 3.3 show()
                        method</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-5"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-6" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-7"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-8" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a> <a href="#ref-for-dfn-payment-relevant-browsing-context-9"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-10"
                        title="§ 18.8 User aborts the payment request algorithm">§ 18.8 User aborts the payment request
                        algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-relevant-browsing-context-11" title="§ 18.9.1 Abort the update">§
                        18.9.1 Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-payment-request-is-showing"
            aria-label="Links in this document to definition: payment request is showing">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-request-is-showing"
                    aria-label="Permalink for definition: payment request is showing. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-2" title="§ 3.3 show() method">§ 3.3 show()
                        method</a> <a href="#ref-for-dfn-payment-request-is-showing-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-request-is-showing-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-payment-request-is-showing-5" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-payment-request-is-showing-6" title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-7" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a> <a href="#ref-for-dfn-payment-request-is-showing-8" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-payment-request-is-showing-9" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-10" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a> <a href="#ref-for-dfn-payment-request-is-showing-11"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-12"
                        title="§ 18.8 User aborts the payment request algorithm">§ 18.8 User aborts the payment request
                        algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payment-request-is-showing-13" title="§ 18.9.1 Abort the update">§ 18.9.1
                        Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-paymentrequest-paymentrequest"
            aria-label="Links in this document to definition: PaymentRequest(methodData, details, options)">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-paymentrequest-paymentrequest"
                    aria-label="Permalink for definition: PaymentRequest(methodData, details, options). Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-paymentrequest-paymentrequest-1" title="§ 3.7 shippingType attribute">§ 3.7
                        shippingType attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-paymentrequest-paymentrequest-2" title="§ 6.2 PaymentDetailsInit dictionary">§
                        6.2 PaymentDetailsInit dictionary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentrequest-id"
            aria-label="Links in this document to definition: id">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-id"
                    aria-label="Permalink for definition: id. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-id-1" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-id-2" title="§ 3.2 id attribute">§ 3.2 id attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-id-3" title="§ 14.9 requestId attribute">§ 14.9 requestId
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-id-4" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentrequest-show"
            aria-label="Links in this document to definition: show()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-show"
                    aria-label="Permalink for definition: show(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-1" title="§ 2. Examples of usage">§ 2. Examples of
                        usage</a> <a href="#ref-for-dom-paymentrequest-show-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-3" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-4" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dom-paymentrequest-show-5" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-show-6" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentrequest-show-7" title="Reference 4">(4)</a> <a
                        href="#ref-for-dom-paymentrequest-show-8" title="Reference 5">(5)</a> <a
                        href="#ref-for-dom-paymentrequest-show-9" title="Reference 6">(6)</a> <a
                        href="#ref-for-dom-paymentrequest-show-10" title="Reference 7">(7)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-11" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-12" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a> <a href="#ref-for-dom-paymentrequest-show-13" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-14"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-15" title="§ 19.1 User protections with show() method">§
                        19.1 User protections with show() method</a> <a href="#ref-for-dom-paymentrequest-show-16"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentrequest-show-17"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-18"
                        title="§ 19.5 How user agents match payment handlers">§ 19.5 How user agents match payment
                        handlers</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-19" title="§ 19.9 User activation requirement">§ 19.9 User
                        activation requirement</a> <a href="#ref-for-dom-paymentrequest-show-20"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-show-21" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentrequest-abort"
            aria-label="Links in this document to definition: abort()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-abort"
                    aria-label="Permalink for definition: abort(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-abort-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-abort-2" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                    <a href="#ref-for-dom-paymentrequest-abort-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequest-abort-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentrequest-abort-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-abort-6" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-abort-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-canmakepayment"
            aria-label="Links in this document to definition: canMakePayment()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-canmakepayment"
                    aria-label="Permalink for definition: canMakePayment(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-2" title="§ 3.5 canMakePayment() method">§ 3.5
                        canMakePayment() method</a> <a href="#ref-for-dom-paymentrequest-canmakepayment-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentrequest-canmakepayment-4"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-5"
                        title="§ 19.5 How user agents match payment handlers">§ 19.5 How user agents match payment
                        handlers</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-6" title="§ 19.8 canMakePayment() protections">§
                        19.8 canMakePayment() protections</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-canmakepayment-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-shippingaddress"
            aria-label="Links in this document to definition: shippingAddress">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-shippingaddress"
                    aria-label="Permalink for definition: shippingAddress. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a> <a href="#ref-for-dom-paymentrequest-shippingaddress-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-3" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-4" title="§ 3.6 shippingAddress attribute">§
                        3.6 shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-5" title="§ 14.4 shippingAddress attribute">§
                        14.4 shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-6"
                        title="§ 18.2 Shipping address changed algorithm">§ 18.2 Shipping address changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-7"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-8"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-9" title="§ 19.7 Exposing user information">§
                        19.7 Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingaddress-10" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-shippingtype"
            aria-label="Links in this document to definition: shippingType">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-shippingtype"
                    aria-label="Permalink for definition: shippingType. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingtype-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a> <a href="#ref-for-dom-paymentrequest-shippingtype-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingtype-3" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingtype-4" title="§ 3.7 shippingType attribute">§ 3.7
                        shippingType attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingtype-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-onshippingaddresschange"
            aria-label="Links in this document to definition: onshippingaddresschange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-onshippingaddresschange"
                    aria-label="Permalink for definition: onshippingaddresschange. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingaddresschange-1"
                        title="§ 3. PaymentRequest interface">§ 3. PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingaddresschange-2"
                        title="§ 3.8 onshippingaddresschange attribute">§ 3.8 onshippingaddresschange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingaddresschange-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-shippingoption"
            aria-label="Links in this document to definition: shippingOption">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-shippingoption"
                    aria-label="Permalink for definition: shippingOption. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a> <a href="#ref-for-dom-paymentrequest-shippingoption-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-3" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-4" title="§ 3.9 shippingOption attribute">§ 3.9
                        shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-5" title="§ 6.1 PaymentDetailsBase dictionary">§
                        6.1 PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-6" title="§ 14.5 shippingOption attribute">§
                        14.5 shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-7"
                        title="§ 18.3 Shipping option changed algorithm">§ 18.3 Shipping option changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-8"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-9"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-shippingoption-10" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-onshippingoptionchange"
            aria-label="Links in this document to definition: onshippingoptionchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-onshippingoptionchange"
                    aria-label="Permalink for definition: onshippingoptionchange. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingoptionchange-1"
                        title="§ 3. PaymentRequest interface">§ 3. PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingoptionchange-2"
                        title="§ 3.10 onshippingoptionchange attribute">§ 3.10 onshippingoptionchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onshippingoptionchange-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequest-onpaymentmethodchange"
            aria-label="Links in this document to definition: onpaymentmethodchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequest-onpaymentmethodchange"
                    aria-label="Permalink for definition: onpaymentmethodchange. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1134666017">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onpaymentmethodchange-1"
                        title="§ 3. PaymentRequest interface">§ 3. PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onpaymentmethodchange-2"
                        title="§ 3.11 onpaymentmethodchange attribute">§ 3.11 onpaymentmethodchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequest-onpaymentmethodchange-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-serializedmethoddata"
            aria-label="Links in this document to definition: [[serializedMethodData]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-serializedmethoddata"
                    aria-label="Permalink for definition: [[serializedMethodData]]. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-serializedmethoddata-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmethoddata-2" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmethoddata-3" title="§ 18.1 Can make payment algorithm">§ 18.1 Can
                        make payment algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-serializedmodifierdata"
            aria-label="Links in this document to definition: [[serializedModifierData]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-serializedmodifierdata"
                    aria-label="Permalink for definition: [[serializedModifierData]]. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-serializedmodifierdata-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmodifierdata-2" title="§ 3.3 show() method">§ 3.3 show() method</a>
                    <a href="#ref-for-dfn-serializedmodifierdata-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-serializedmodifierdata-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-serializedmodifierdata-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmodifierdata-6" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-serializedmodifierdata-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-details"
            aria-label="Links in this document to definition: [[details]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-details"
                    aria-label="Permalink for definition: [[details]]. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-details-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-details-2" title="§ 3.2 id attribute">§ 3.2 id attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-details-3" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-details-4" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-details-5" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a> <a href="#ref-for-dfn-details-6"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-details-7" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-details-8" title="Reference 4">(4)</a> <a href="#ref-for-dfn-details-9"
                        title="Reference 5">(5)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-options"
            aria-label="Links in this document to definition: [[options]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-options"
                    aria-label="Permalink for definition: [[options]]. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-options-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-options-2" title="§ 14.1 retry() method">§ 14.1 retry() method</a> <a
                        href="#ref-for-dfn-options-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-options-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-options-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-options-6" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail
                        changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-options-7" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a> <a href="#ref-for-dfn-options-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-options-9" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-options-10" title="Reference 4">(4)</a> <a href="#ref-for-dfn-options-11"
                        title="Reference 5">(5)</a> <a href="#ref-for-dfn-options-12" title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-options-13" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a> <a href="#ref-for-dfn-options-14"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-options-15" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-options-16" title="Reference 4">(4)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-state"
            aria-label="Links in this document to definition: [[state]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-state"
                    aria-label="Permalink for definition: [[state]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-state-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-2" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-state-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-state-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-state-5" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-state-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-state-7"
                        title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-8" title="§ 3.4 abort() method">§ 3.4 abort() method</a> <a
                        href="#ref-for-dfn-state-9" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-10" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-11" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-12" title="§ 18. Algorithms">§ 18. Algorithms</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-13" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make payment
                        algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-14" title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment
                        method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-15" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-16" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail
                        changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-17" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a> <a href="#ref-for-dfn-state-18"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-19" title="§ 18.8 User aborts the payment request algorithm">§ 18.8 User
                        aborts the payment request algorithm</a> <a href="#ref-for-dfn-state-20"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-21" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-state-0"
            aria-label="Links in this document to definition: state">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-state-0"
                    aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-state-0-1" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-state-0-2" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a> <a
                        href="#ref-for-dfn-state-0-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-state-0-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-state-0-5" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-state-0-6" title="Reference 5">(5)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-created"
            aria-label="Links in this document to definition: created">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-created"
                    aria-label="Permalink for definition: created. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-created-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-created-2" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-created-3" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-created-4" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make payment
                        algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-interactive"
            aria-label="Links in this document to definition: interactive">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-interactive"
                    aria-label="Permalink for definition: interactive. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-interactive-1" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-2" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-3" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-4" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-5" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-6" title="§ 18. Algorithms">§ 18. Algorithms</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-7" title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment
                        method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-8" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-9" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer
                        detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-10" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-interactive-11" title="§ 18.8 User aborts the payment request algorithm">§
                        18.8 User aborts the payment request algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-closed"
            aria-label="Links in this document to definition: closed">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-closed"
                    aria-label="Permalink for definition: closed. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-closed-1" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-closed-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-closed-3"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-closed-4" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-5" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-6" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a> <a
                        href="#ref-for-dfn-closed-7" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-8" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-9" title="§ 18.8 User aborts the payment request algorithm">§ 18.8 User
                        aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-10" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-closed-11" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-updating"
            aria-label="Links in this document to definition: [[updating]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-updating"
                    aria-label="Permalink for definition: [[updating]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-updating-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-2" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-3" title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment
                        method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-4" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-5" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail
                        changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-6" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-7" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a> <a href="#ref-for-dfn-updating-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-updating-9" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-acceptpromise"
            aria-label="Links in this document to definition: [[acceptPromise]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-acceptpromise"
                    aria-label="Permalink for definition: [[acceptPromise]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-1" title="§ 3.3 show() method">§ 3.3 show() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-2" title="§ 3.4 abort() method">§ 3.4 abort() method</a> <a
                        href="#ref-for-dfn-acceptpromise-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-4" title="§ 14.10 complete() method">§ 14.10 complete()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-5" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-6" title="§ 18.8 User aborts the payment request algorithm">§
                        18.8 User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-7" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the
                        update</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-acceptpromise-8" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-response"
            aria-label="Links in this document to definition: [[response]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-response"
                    aria-label="Permalink for definition: [[response]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-response-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-2" title="§ 3.4 abort() method">§ 3.4 abort() method</a> <a
                        href="#ref-for-dfn-response-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-4" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail
                        changed algorithm</a> <a href="#ref-for-dfn-response-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-6" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a> <a href="#ref-for-dfn-response-7"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-response-8" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-9" title="§ 18.8 User aborts the payment request algorithm">§ 18.8
                        User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-response-10" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-handler"
            aria-label="Links in this document to definition: [[handler]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-handler"
                    aria-label="Permalink for definition: [[handler]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-handler-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-handler-2" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-handler-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-handler-4" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentmethoddata"
            aria-label="Links in this document to definition: PaymentMethodData">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethoddata"
                    aria-label="Permalink for definition: PaymentMethodData. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1205695403">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-1" title="§ 1. Introduction">§ 1. Introduction</a> <a
                        href="#ref-for-dom-paymentmethoddata-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-3" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-4" title="§ 2.1 Declaring multiple ways of paying">§ 2.1
                        Declaring multiple ways of paying</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-5" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-6" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-7" title="§ 4. PaymentMethodData dictionary">§ 4.
                        PaymentMethodData dictionary</a> <a href="#ref-for-dom-paymentmethoddata-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-9" title="§ 19.7 Exposing user information">§ 19.7 Exposing
                        user information</a> <a href="#ref-for-dom-paymentmethoddata-10" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-11" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentmethoddata-12" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethoddata-supportedmethods"
            aria-label="Links in this document to definition: supportedMethods">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethoddata-supportedmethods"
                    aria-label="Permalink for definition: supportedMethods. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1205695403">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-supportedmethods-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-3"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-4"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-5"
                        title="Reference 5">(5)</a> <a href="#ref-for-dom-paymentmethoddata-supportedmethods-6"
                        title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-supportedmethods-7"
                        title="§ 4. PaymentMethodData dictionary">§ 4. PaymentMethodData dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-supportedmethods-8" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentmethoddata-data"
            aria-label="Links in this document to definition: data">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethoddata-data"
                    aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1205695403">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-1" title="§ 1. Introduction">§ 1. Introduction</a> <a
                        href="#ref-for-dom-paymentmethoddata-data-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentmethoddata-data-3" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-4" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentmethoddata-data-5" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentmethoddata-data-6" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-7" title="§ 4. PaymentMethodData dictionary">§ 4.
                        PaymentMethodData dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-8" title="§ 19.7 Exposing user information">§ 19.7
                        Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethoddata-data-9" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcurrencyamount"
            aria-label="Links in this document to definition: PaymentCurrencyAmount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcurrencyamount"
                    aria-label="Permalink for definition: PaymentCurrencyAmount. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-826862570">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-1" title="§ 5. PaymentCurrencyAmount dictionary">§ 5.
                        PaymentCurrencyAmount dictionary</a> <a href="#ref-for-dom-paymentcurrencyamount-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-3" title="§ 5.1 Validity checkers">§ 5.1 Validity
                        checkers</a> <a href="#ref-for-dom-paymentcurrencyamount-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-5" title="§ 10. PaymentItem dictionary">§ 10.
                        PaymentItem dictionary</a> <a href="#ref-for-dom-paymentcurrencyamount-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-7" title="§ 13. PaymentShippingOption dictionary">§ 13.
                        PaymentShippingOption dictionary</a> <a href="#ref-for-dom-paymentcurrencyamount-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentcurrencyamount-10" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentcurrencyamount-11" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentcurrencyamount-currency"
            aria-label="Links in this document to definition: currency">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcurrencyamount-currency"
                    aria-label="Permalink for definition: currency. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-826862570">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-currency-1"
                        title="§ 5. PaymentCurrencyAmount dictionary">§ 5. PaymentCurrencyAmount dictionary</a> <a
                        href="#ref-for-dom-paymentcurrencyamount-currency-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-currency-3" title="§ 5.1 Validity checkers">§ 5.1
                        Validity checkers</a> <a href="#ref-for-dom-paymentcurrencyamount-currency-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentcurrencyamount-currency-5"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-currency-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentcurrencyamount-value" aria-label="Links in this document to definition: value">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcurrencyamount-value"
                    aria-label="Permalink for definition: value. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-826862570">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-1" title="§ 5. PaymentCurrencyAmount dictionary">§
                        5. PaymentCurrencyAmount dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-2" title="§ 5.1 Validity checkers">§ 5.1 Validity
                        checkers</a> <a href="#ref-for-dom-paymentcurrencyamount-value-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentcurrencyamount-value-4" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-5" title="§ 6.2 PaymentDetailsInit dictionary">§
                        6.2 PaymentDetailsInit dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-6" title="§ 6.3 PaymentDetailsUpdate dictionary">§
                        6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcurrencyamount-value-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-valid-decimal-monetary-value"
            aria-label="Links in this document to definition: valid decimal monetary value">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-valid-decimal-monetary-value"
                    aria-label="Permalink for definition: valid decimal monetary value. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-valid-decimal-monetary-value-1"
                        title="§ 5. PaymentCurrencyAmount dictionary">§ 5. PaymentCurrencyAmount dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-valid-decimal-monetary-value-2" title="§ 5.1 Validity checkers">§ 5.1 Validity
                        checkers</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-check-and-canonicalize-amount"
            aria-label="Links in this document to definition: check and canonicalize amount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-check-and-canonicalize-amount"
                    aria-label="Permalink for definition: check and canonicalize amount. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-amount-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dfn-check-and-canonicalize-amount-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-check-and-canonicalize-amount-3"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-amount-4"
                        title="§ 5. PaymentCurrencyAmount dictionary">§ 5. PaymentCurrencyAmount dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-amount-5" title="§ 5.1 Validity checkers">§ 5.1
                        Validity checkers</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-amount-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dfn-check-and-canonicalize-amount-7"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-check-and-canonicalize-amount-8"
                        title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-check-and-canonicalize-total-amount"
            aria-label="Links in this document to definition: check and canonicalize total amount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-check-and-canonicalize-total-amount"
                    aria-label="Permalink for definition: check and canonicalize total amount. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-total-amount-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dfn-check-and-canonicalize-total-amount-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-check-and-canonicalize-total-amount-3"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dfn-check-and-canonicalize-total-amount-4"
                        title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsbase"
            aria-label="Links in this document to definition: PaymentDetailsBase">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsbase"
                    aria-label="Permalink for definition: PaymentDetailsBase. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-914982787">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-1" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-2" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-3" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentdetailsbase-4"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-5" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentdetailsbase-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-7" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a> <a href="#ref-for-dom-paymentdetailsbase-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-9" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-10" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentdetailsbase-11" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsbase-12" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsbase-displayitems"
            aria-label="Links in this document to definition: displayItems">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsbase-displayitems"
                    aria-label="Permalink for definition: displayItems. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-914982787">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-3"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-4"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsbase-displayitems-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-7"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-8"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-9"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentdetailsbase-displayitems-10"
                        title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-11" title="§ 19.7 Exposing user information">§
                        19.7 Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-displayitems-12" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsbase-shippingoptions"
            aria-label="Links in this document to definition: shippingOptions">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsbase-shippingoptions"
                    aria-label="Permalink for definition: shippingOptions. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-914982787">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-3"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-4"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsbase-shippingoptions-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-6"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-9"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-10"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-11"
                        title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-shippingoptions-12" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsbase-modifiers"
            aria-label="Links in this document to definition: modifiers">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsbase-modifiers"
                    aria-label="Permalink for definition: modifiers. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-914982787">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-3"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-4" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-6" title="§ 6.1 PaymentDetailsBase dictionary">§
                        6.1 PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-9"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-10"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentdetailsbase-modifiers-11"
                        title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsbase-modifiers-12" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsinit"
            aria-label="Links in this document to definition: PaymentDetailsInit">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsinit"
                    aria-label="Permalink for definition: PaymentDetailsInit. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-47162060">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-1" title="§ 2. Examples of usage">§ 2. Examples of
                        usage</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-2" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-3" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-4" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentdetailsinit-5"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsinit-6"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsinit-7"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-8" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentdetailsinit-10" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsinit-id"
            aria-label="Links in this document to definition: id">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsinit-id"
                    aria-label="Permalink for definition: id. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-47162060">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentdetailsinit-id-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-3" title="§ 3.2 id attribute">§ 3.2 id attribute</a> <a
                        href="#ref-for-dom-paymentdetailsinit-id-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-5" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentdetailsinit-id-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-7"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-id-8" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsinit-total"
            aria-label="Links in this document to definition: total">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsinit-total"
                    aria-label="Permalink for definition: total. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-47162060">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-2" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dom-paymentdetailsinit-total-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-4" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentdetailsinit-total-5"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-6" title="§ 7. PaymentDetailsModifier dictionary">§
                        7. PaymentDetailsModifier dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsinit-total-8" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsupdate"
            aria-label="Links in this document to definition: PaymentDetailsUpdate">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate"
                    aria-label="Permalink for definition: PaymentDetailsUpdate. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-1" title="§ 2.8 Fine-grained error reporting">§ 2.8
                        Fine-grained error reporting</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-2" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-3" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentdetailsupdate-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsupdate-5"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsupdate-6"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentdetailsupdate-7"
                        title="Reference 5">(5)</a> <a href="#ref-for-dom-paymentdetailsupdate-8"
                        title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-9" title="§ 17.3 PaymentRequestUpdateEvent interface">§
                        17.3 PaymentRequestUpdateEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-10" title="§ 17.3.2 updateWith() method">§ 17.3.2
                        updateWith() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-11"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsupdate-12" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-13" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentdetailsupdate-14" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsupdate-15" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-error" aria-label="Links in this document to definition: error">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-error"
                    aria-label="Permalink for definition: error. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-error-1" title="§ 6.3 PaymentDetailsUpdate dictionary">§
                        6.3 PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentdetailsupdate-error-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-error-3"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-error-4" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-total" aria-label="Links in this document to definition: total">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-total"
                    aria-label="Permalink for definition: total. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-total-1" title="§ 6.3 PaymentDetailsUpdate dictionary">§
                        6.3 PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentdetailsupdate-total-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-total-3"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsupdate-total-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsupdate-total-5"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsupdate-total-6"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-total-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-shippingaddresserrors"
            aria-label="Links in this document to definition: shippingAddressErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-shippingaddresserrors"
                    aria-label="Permalink for definition: shippingAddressErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-1"
                        title="§ 2.8 Fine-grained error reporting">§ 2.8 Fine-grained error reporting</a> <a
                        href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-3"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-4"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-shippingaddresserrors-5" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-payererrors"
            aria-label="Links in this document to definition: payerErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-payererrors"
                    aria-label="Permalink for definition: payerErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-payererrors-1"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-payererrors-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsupdate-paymentmethoderrors"
            aria-label="Links in this document to definition: paymentMethodErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsupdate-paymentmethoderrors"
                    aria-label="Permalink for definition: paymentMethodErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-505108935">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-1"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-2"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-5"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsupdate-paymentmethoderrors-6" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentdetailsmodifier"
            aria-label="Links in this document to definition: PaymentDetailsModifier">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier"
                    aria-label="Permalink for definition: PaymentDetailsModifier. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-2" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-3" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dom-paymentdetailsmodifier-4"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-5" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a> <a href="#ref-for-dom-paymentdetailsmodifier-6"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsmodifier-7"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-8"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-10" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsmodifier-supportedmethods"
            aria-label="Links in this document to definition: supportedMethods">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier-supportedmethods"
                    aria-label="Permalink for definition: supportedMethods. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-2"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-4" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-5"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-supportedmethods-6" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsmodifier-total"
            aria-label="Links in this document to definition: total">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier-total"
                    aria-label="Permalink for definition: total. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-total-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentdetailsmodifier-total-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-total-3"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-total-4" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-total-5" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-total-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsmodifier-total-7"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-total-8" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsmodifier-additionaldisplayitems"
            aria-label="Links in this document to definition: additionalDisplayItems">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier-additionaldisplayitems"
                    aria-label="Permalink for definition: additionalDisplayItems. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-1" title="§ 3.1 Constructor">§
                        3.1 Constructor</a> <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-3"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-5"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-7"
                        title="§ 19.7 Exposing user information">§ 19.7 Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-additionaldisplayitems-8" title="§ A. IDL Index">§ A.
                        IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentdetailsmodifier-data" aria-label="Links in this document to definition: data">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentdetailsmodifier-data"
                    aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1242509167">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentdetailsmodifier-data-3" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-4" title="§ 3.12 Internal Slots">§ 3.12 Internal
                        Slots</a> <a href="#ref-for-dom-paymentdetailsmodifier-data-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-6"
                        title="§ 7. PaymentDetailsModifier dictionary">§ 7. PaymentDetailsModifier dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentdetailsmodifier-data-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentdetailsmodifier-data-9"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentdetailsmodifier-data-10" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentshippingtype"
            aria-label="Links in this document to definition: PaymentShippingType">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingtype"
                    aria-label="Permalink for definition: PaymentShippingType. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-119612894">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-2" title="§ 3.7 shippingType attribute">§ 3.7 shippingType
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-3" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-4" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a> <a href="#ref-for-dom-paymentshippingtype-5"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentshippingtype-7" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentshippingtype-8" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingtype-shipping"
            aria-label="Links in this document to definition: shipping">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingtype-shipping"
                    aria-label="Permalink for definition: shipping. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-119612894">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-shipping-1" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-shipping-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingtype-delivery"
            aria-label="Links in this document to definition: delivery">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingtype-delivery"
                    aria-label="Permalink for definition: delivery. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-119612894">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-delivery-1" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-delivery-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingtype-pickup" aria-label="Links in this document to definition: pickup">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingtype-pickup"
                    aria-label="Permalink for definition: pickup. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-119612894">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-pickup-1" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingtype-pickup-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentoptions"
            aria-label="Links in this document to definition: PaymentOptions">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions"
                    aria-label="Permalink for definition: PaymentOptions. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-1" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-2" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-3" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-4" title="§ 3.7 shippingType attribute">§ 3.7 shippingType
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-5" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-6" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-7" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a> <a href="#ref-for-dom-paymentoptions-8" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-9" title="§ 14.4 shippingAddress attribute">§ 14.4
                        shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-10" title="§ 14.5 shippingOption attribute">§ 14.5
                        shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-11" title="§ 14.6 payerName attribute">§ 14.6 payerName
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-12" title="§ 14.7 payerEmail attribute">§ 14.7 payerEmail
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-13" title="§ 14.8 payerPhone attribute">§ 14.8 payerPhone
                        attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-14" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentoptions-15" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestbillingaddress"
            aria-label="Links in this document to definition: requestBillingAddress">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestbillingaddress"
                    aria-label="Permalink for definition: requestBillingAddress. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestbillingaddress-1"
                        title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestbillingaddress-2" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestpayername"
            aria-label="Links in this document to definition: requestPayerName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestpayername"
                    aria-label="Permalink for definition: requestPayerName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-1" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-2" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-3" title="§ 14.6 payerName attribute">§ 14.6
                        payerName attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-4"
                        title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayername-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestpayeremail"
            aria-label="Links in this document to definition: requestPayerEmail">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestpayeremail"
                    aria-label="Permalink for definition: requestPayerEmail. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-1" title="§ 9. PaymentOptions dictionary">§
                        9. PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-2" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-3" title="§ 14.7 payerEmail attribute">§ 14.7
                        payerEmail attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-4"
                        title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayeremail-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestpayerphone"
            aria-label="Links in this document to definition: requestPayerPhone">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestpayerphone"
                    aria-label="Permalink for definition: requestPayerPhone. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-1" title="§ 9. PaymentOptions dictionary">§
                        9. PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-2" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-3" title="§ 14.8 payerPhone attribute">§ 14.8
                        payerPhone attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-4"
                        title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestpayerphone-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-requestshipping"
            aria-label="Links in this document to definition: requestShipping">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-requestshipping"
                    aria-label="Permalink for definition: requestShipping. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-1" title="§ 3. PaymentRequest interface">§ 3.
                        PaymentRequest interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-2" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a> <a href="#ref-for-dom-paymentoptions-requestshipping-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-4"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-5"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-6" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a> <a href="#ref-for-dom-paymentoptions-requestshipping-7"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-8" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-9" title="§ 14.4 shippingAddress attribute">§
                        14.4 shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-10" title="§ 14.5 shippingOption attribute">§
                        14.5 shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-11"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a> <a href="#ref-for-dom-paymentoptions-requestshipping-12"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentoptions-requestshipping-13"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-14"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentoptions-requestshipping-15"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentoptions-requestshipping-16"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-requestshipping-17" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentoptions-shippingtype"
            aria-label="Links in this document to definition: shippingType">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentoptions-shippingtype"
                    aria-label="Permalink for definition: shippingType. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1552147530">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentoptions-shippingtype-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-shippingtype-2" title="§ 3.7 shippingType attribute">§ 3.7
                        shippingType attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-shippingtype-3" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a> <a href="#ref-for-dom-paymentoptions-shippingtype-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentoptions-shippingtype-5"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentoptions-shippingtype-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentitem"
            aria-label="Links in this document to definition: PaymentItem">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentitem"
                    aria-label="Permalink for definition: PaymentItem. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1435887180">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentitem-1" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dom-paymentitem-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-3" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a> <a href="#ref-for-dom-paymentitem-4"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-5" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentitem-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-7" title="§ 7. PaymentDetailsModifier dictionary">§ 7.
                        PaymentDetailsModifier dictionary</a> <a href="#ref-for-dom-paymentitem-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentitem-9" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentitem-10" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-11" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a> <a href="#ref-for-dom-paymentitem-12" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-13" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-14" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentitem-15" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentitem-16" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentitem-17" title="Reference 4">(4)</a> <a
                        href="#ref-for-dom-paymentitem-18" title="Reference 5">(5)</a> <a
                        href="#ref-for-dom-paymentitem-19" title="Reference 6">(6)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentitem-label"
            aria-label="Links in this document to definition: label">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentitem-label"
                    aria-label="Permalink for definition: label. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1435887180">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentitem-label-1" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a> <a href="#ref-for-dom-paymentitem-label-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-label-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentitem-amount"
            aria-label="Links in this document to definition: amount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentitem-amount"
                    aria-label="Permalink for definition: amount. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1435887180">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentitem-amount-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentitem-amount-3" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentitem-amount-4" title="Reference 4">(4)</a> <a
                        href="#ref-for-dom-paymentitem-amount-5" title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-6" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-7" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a> <a href="#ref-for-dom-paymentitem-amount-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-9" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a> <a href="#ref-for-dom-paymentitem-amount-10" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-11"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentitem-amount-12" title="Reference 2">(2)</a>
                    <a href="#ref-for-dom-paymentitem-amount-13" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentitem-amount-14" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-amount-15" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentitem-pending"
            aria-label="Links in this document to definition: pending">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentitem-pending"
                    aria-label="Permalink for definition: pending. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1435887180">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentitem-pending-1" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentitem-pending-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcompletedetails"
            aria-label="Links in this document to definition: PaymentCompleteDetails">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcompletedetails"
                    aria-label="Permalink for definition: PaymentCompleteDetails. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1518429867">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-1" title="§ 11. PaymentCompleteDetails dictionary">§
                        11. PaymentCompleteDetails dictionary</a> <a href="#ref-for-dom-paymentcompletedetails-2"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentcompletedetails-3"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-4" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentcompletedetails-6" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentcompletedetails-data" aria-label="Links in this document to definition: data">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcompletedetails-data"
                    aria-label="Permalink for definition: data. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1518429867">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-data-1"
                        title="§ 11. PaymentCompleteDetails dictionary">§ 11. PaymentCompleteDetails dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-data-2" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcompletedetails-data-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcomplete"
            aria-label="Links in this document to definition: PaymentComplete">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcomplete"
                    aria-label="Permalink for definition: PaymentComplete. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1223986974">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-1" title="§ 12. PaymentComplete enum">§ 12. PaymentComplete
                        enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-2" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-3" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentcomplete-4" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcomplete-fail"
            aria-label="Links in this document to definition: fail">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcomplete-fail"
                    aria-label="Permalink for definition: fail. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1223986974">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-fail-1" title="§ 12. PaymentComplete enum">§ 12.
                        PaymentComplete enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-fail-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcomplete-success"
            aria-label="Links in this document to definition: success">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcomplete-success"
                    aria-label="Permalink for definition: success. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1223986974">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-success-1" title="§ 12. PaymentComplete enum">§ 12.
                        PaymentComplete enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-success-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentcomplete-unknown"
            aria-label="Links in this document to definition: unknown">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentcomplete-unknown"
                    aria-label="Permalink for definition: unknown. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1223986974">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-unknown-1" title="§ 12. PaymentComplete enum">§ 12.
                        PaymentComplete enum</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentcomplete-unknown-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentshippingoption"
            aria-label="Links in this document to definition: PaymentShippingOption">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption"
                    aria-label="Permalink for definition: PaymentShippingOption. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-2" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-3" title="§ 13. PaymentShippingOption dictionary">§ 13.
                        PaymentShippingOption dictionary</a> <a href="#ref-for-dom-paymentshippingoption-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentshippingoption-5"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentshippingoption-6"
                        title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-7" title="§ 18.3 Shipping option changed algorithm">§
                        18.3 Shipping option changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-8"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentshippingoption-10" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentshippingoption-id"
            aria-label="Links in this document to definition: id">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption-id"
                    aria-label="Permalink for definition: id. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a> <a
                        href="#ref-for-dom-paymentshippingoption-id-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentshippingoption-id-3" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-4" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-5" title="§ 13. PaymentShippingOption dictionary">§
                        13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-6" title="§ 14.5 shippingOption attribute">§ 14.5
                        shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dom-paymentshippingoption-id-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-id-9" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingoption-label" aria-label="Links in this document to definition: label">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption-label"
                    aria-label="Permalink for definition: label. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-label-1"
                        title="§ 13. PaymentShippingOption dictionary">§ 13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-label-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingoption-amount"
            aria-label="Links in this document to definition: amount">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption-amount"
                    aria-label="Permalink for definition: amount. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-amount-1"
                        title="§ 13. PaymentShippingOption dictionary">§ 13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-amount-2"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-amount-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentshippingoption-selected"
            aria-label="Links in this document to definition: selected">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentshippingoption-selected"
                    aria-label="Permalink for definition: selected. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1340523886">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-1" title="§ 3.1 Constructor">§ 3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-2"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a> <a
                        href="#ref-for-dom-paymentshippingoption-selected-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentshippingoption-selected-4" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-5"
                        title="§ 13. PaymentShippingOption dictionary">§ 13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-6"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentshippingoption-selected-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentresponse"
            aria-label="Links in this document to definition: PaymentResponse">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse"
                    aria-label="Permalink for definition: PaymentResponse. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-1" title="§ 2. Examples of usage">§ 2. Examples of usage</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-2" title="§ 2.9 POSTing payment response back to a server">§
                        2.9 POSTing payment response back to a server</a> <a href="#ref-for-dom-paymentresponse-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-4" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-5" title="§ 3.12 Internal Slots">§ 3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-6" title="§ 11. PaymentCompleteDetails dictionary">§ 11.
                        PaymentCompleteDetails dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-7" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a> <a href="#ref-for-dom-paymentresponse-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-9" title="§ 14.1 retry() method">§ 14.1 retry() method</a> <a
                        href="#ref-for-dom-paymentresponse-10" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentresponse-11" title="Reference 3">(3)</a> <a
                        href="#ref-for-dom-paymentresponse-12" title="Reference 4">(4)</a> <a
                        href="#ref-for-dom-paymentresponse-13" title="Reference 5">(5)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-14" title="§ 14.1.1 PaymentValidationErrors dictionary">§
                        14.1.1 PaymentValidationErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-15" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a> <a href="#ref-for-dom-paymentresponse-16" title="Reference 2">(2)</a>
                    <a href="#ref-for-dom-paymentresponse-17" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-18" title="§ 14.10 complete() method">§ 14.10 complete()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-19" title="§ 14.12 Internal Slots">§ 14.12 Internal Slots</a>
                    <a href="#ref-for-dom-paymentresponse-20" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-21" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-22" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-23"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-24"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-25" title="§ 19.7 Exposing user information">§ 19.7 Exposing
                        user information</a> <a href="#ref-for-dom-paymentresponse-26" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-27" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentresponse-28" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentresponse-retry"
            aria-label="Links in this document to definition: retry()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-retry"
                    aria-label="Permalink for definition: retry(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-retry-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-retry-2" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a> <a href="#ref-for-dom-paymentresponse-retry-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-retry-4"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-retry-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentvalidationerrors"
            aria-label="Links in this document to definition: PaymentValidationErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors"
                    aria-label="Permalink for definition: PaymentValidationErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-2" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a> <a href="#ref-for-dom-paymentvalidationerrors-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-4"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a> <a href="#ref-for-dom-paymentvalidationerrors-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentvalidationerrors-7" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentvalidationerrors-payer"
            aria-label="Links in this document to definition: payer">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors-payer"
                    aria-label="Permalink for definition: payer. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-payer-1" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a> <a href="#ref-for-dom-paymentvalidationerrors-payer-2" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentvalidationerrors-payer-3" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-payer-4"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-payer-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentvalidationerrors-shippingaddress"
            aria-label="Links in this document to definition: shippingAddress">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors-shippingaddress"
                    aria-label="Permalink for definition: shippingAddress. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-shippingaddress-1" title="§ 14.1 retry() method">§
                        14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-shippingaddress-2"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-shippingaddress-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentvalidationerrors-error"
            aria-label="Links in this document to definition: error">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors-error"
                    aria-label="Permalink for definition: error. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-error-1" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-error-2"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a> <a href="#ref-for-dom-paymentvalidationerrors-error-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentvalidationerrors-error-4"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-error-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentvalidationerrors-paymentmethod"
            aria-label="Links in this document to definition: paymentMethod">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentvalidationerrors-paymentmethod"
                    aria-label="Permalink for definition: paymentMethod. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-65418220">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-paymentmethod-1" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a> <a href="#ref-for-dom-paymentvalidationerrors-paymentmethod-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-paymentmethod-3"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentvalidationerrors-paymentmethod-4" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-payererrors"
            aria-label="Links in this document to definition: PayerErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-payererrors"
                    aria-label="Permalink for definition: PayerErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-73171198">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-payererrors-1" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-2" title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1
                        PaymentValidationErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-3" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2 PayerErrors
                        dictionary</a> <a href="#ref-for-dom-payererrors-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-5" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-payererrors-7" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-payererrors-8" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payer-details"
            aria-label="Links in this document to definition: Payer details">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payer-details"
                    aria-label="Permalink for definition: Payer details. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payer-details-1" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payer-details-2" title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1
                        PaymentValidationErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payer-details-3" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2 PayerErrors
                        dictionary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-payererrors-email"
            aria-label="Links in this document to definition: email">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-payererrors-email"
                    aria-label="Permalink for definition: email. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-73171198">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-payererrors-email-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-email-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-email-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-payererrors-name"
            aria-label="Links in this document to definition: name">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-payererrors-name"
                    aria-label="Permalink for definition: name. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-73171198">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-payererrors-name-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-name-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-name-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-payererrors-phone"
            aria-label="Links in this document to definition: phone">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-payererrors-phone"
                    aria-label="Permalink for definition: phone. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-73171198">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-payererrors-phone-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-phone-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-payererrors-phone-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-methodname"
            aria-label="Links in this document to definition: methodName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-methodname"
                    aria-label="Permalink for definition: methodName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-2" title="§ 14.1 retry() method">§ 14.1 retry()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-3" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a> <a href="#ref-for-dom-paymentresponse-methodname-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentresponse-methodname-5"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-6"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-methodname-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentresponse-details"
            aria-label="Links in this document to definition: details">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-details"
                    aria-label="Permalink for definition: details. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-details-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-details-2"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-details-3" title="§ 19.7 Exposing user information">§ 19.7
                        Exposing user information</a> <a href="#ref-for-dom-paymentresponse-details-4"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-details-5" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-shippingaddress"
            aria-label="Links in this document to definition: shippingAddress">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-shippingaddress"
                    aria-label="Permalink for definition: shippingAddress. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingaddress-1" title="§ 14. PaymentResponse interface">§
                        14. PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingaddress-2"
                        title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1 PaymentValidationErrors
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingaddress-3"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a> <a href="#ref-for-dom-paymentresponse-shippingaddress-4"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentresponse-shippingaddress-5"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingaddress-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-shippingoption"
            aria-label="Links in this document to definition: shippingOption">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-shippingoption"
                    aria-label="Permalink for definition: shippingOption. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingoption-1" title="§ 14. PaymentResponse interface">§
                        14. PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingoption-2"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a> <a href="#ref-for-dom-paymentresponse-shippingoption-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-shippingoption-4" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-payername"
            aria-label="Links in this document to definition: payerName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-payername"
                    aria-label="Permalink for definition: payerName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-3" title="§ 14.6 payerName attribute">§ 14.6
                        payerName attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-4" title="§ 18.6 Payer detail changed algorithm">§
                        18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payername-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-payeremail"
            aria-label="Links in this document to definition: payerEmail">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-payeremail"
                    aria-label="Permalink for definition: payerEmail. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-3" title="§ 14.7 payerEmail attribute">§ 14.7
                        payerEmail attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-4" title="§ 18.6 Payer detail changed algorithm">§
                        18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payeremail-6" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-payerphone"
            aria-label="Links in this document to definition: payerPhone">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-payerphone"
                    aria-label="Permalink for definition: payerPhone. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-2" title="§ 14.1.2 PayerErrors dictionary">§ 14.1.2
                        PayerErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-3" title="§ 14.8 payerPhone attribute">§ 14.8
                        payerPhone attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-4" title="§ 18.6 Payer detail changed algorithm">§
                        18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-5"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a> <a href="#ref-for-dom-paymentresponse-payerphone-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-payerphone-7" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-requestid"
            aria-label="Links in this document to definition: requestId">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-requestid"
                    aria-label="Permalink for definition: requestId. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-requestid-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-requestid-2"
                        title="§ 18.7 User accepts the payment request algorithm">§ 18.7 User accepts the payment
                        request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-requestid-3" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentresponse-complete"
            aria-label="Links in this document to definition: complete()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-complete"
                    aria-label="Permalink for definition: complete(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-complete-1" title="§ 14. PaymentResponse interface">§ 14.
                        PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-complete-2" title="§ 14.10 complete() method">§ 14.10
                        complete() method</a> <a href="#ref-for-dom-paymentresponse-complete-3"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentresponse-complete-4"
                        title="Reference 3">(3)</a> <a href="#ref-for-dom-paymentresponse-complete-5"
                        title="Reference 4">(4)</a> <a href="#ref-for-dom-paymentresponse-complete-6"
                        title="Reference 5">(5)</a> <a href="#ref-for-dom-paymentresponse-complete-7"
                        title="Reference 6">(6)</a> <a href="#ref-for-dom-paymentresponse-complete-8"
                        title="Reference 7">(7)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-complete-9" title="§ 14.12 Internal Slots">§ 14.12 Internal
                        Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-complete-10" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentresponse-onpayerdetailchange"
            aria-label="Links in this document to definition: onpayerdetailchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentresponse-onpayerdetailchange"
                    aria-label="Permalink for definition: onpayerdetailchange. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2136333605">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentresponse-onpayerdetailchange-1"
                        title="§ 14. PaymentResponse interface">§ 14. PaymentResponse interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentresponse-onpayerdetailchange-2" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-complete"
            aria-label="Links in this document to definition: [[complete]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-complete"
                    aria-label="Permalink for definition: [[complete]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-complete-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-2" title="§ 14.10 complete() method">§ 14.10 complete() method</a> <a
                        href="#ref-for-dfn-complete-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-4" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-5" title="§ 18.8 User aborts the payment request algorithm">§ 18.8
                        User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-6" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the update</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-complete-7" title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9
                        Update a PaymentRequest's details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-request"
            aria-label="Links in this document to definition: [[request]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-request"
                    aria-label="Permalink for definition: [[request]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-request-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-request-2" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-request-3" title="§ 18.7 User accepts the payment request algorithm">§ 18.7
                        User accepts the payment request algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-retrypromise"
            aria-label="Links in this document to definition: [[retryPromise]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-retrypromise"
                    aria-label="Permalink for definition: [[retryPromise]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-retrypromise-1" title="§ 3.4 abort() method">§ 3.4 abort() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-2" title="§ 14.1 retry() method">§ 14.1 retry() method</a> <a
                        href="#ref-for-dfn-retrypromise-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-retrypromise-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-retrypromise-5" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-6" title="§ 14.10 complete() method">§ 14.10 complete()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-7" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a> <a href="#ref-for-dfn-retrypromise-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-9" title="§ 18.8 User aborts the payment request algorithm">§
                        18.8 User aborts the payment request algorithm</a> <a href="#ref-for-dfn-retrypromise-10"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-11" title="§ 18.9.1 Abort the update">§ 18.9.1 Abort the
                        update</a> <a href="#ref-for-dfn-retrypromise-12" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-retrypromise-13" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-shipping-address"
            aria-label="Links in this document to definition: shipping address">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shipping-address"
                    aria-label="Permalink for definition: shipping address. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shipping-address-1" title="§ 8. PaymentShippingType enum">§ 8.
                        PaymentShippingType enum</a> <a href="#ref-for-dfn-shipping-address-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shipping-address-3" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shipping-address-4" title="§ 14.4 shippingAddress attribute">§ 14.4
                        shippingAddress attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shipping-address-5" title="§ 19.7 Exposing user information">§ 19.7 Exposing
                        user information</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-billing-address"
            aria-label="Links in this document to definition: billing address">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-billing-address"
                    aria-label="Permalink for definition: billing address. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-billing-address-1" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors"
            aria-label="Links in this document to definition: AddressErrors">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors"
                    aria-label="Permalink for definition: AddressErrors. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-1" title="§ 2.8 Fine-grained error reporting">§ 2.8 Fine-grained
                        error reporting</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-2" title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3
                        PaymentDetailsUpdate dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-3" title="§ 14.1.1 PaymentValidationErrors dictionary">§ 14.1.1
                        PaymentValidationErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-4" title="§ 15.1 AddressErrors dictionary">§ 15.1 AddressErrors
                        dictionary</a> <a href="#ref-for-dom-addresserrors-5" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-6" title="§ 18.9 Update a PaymentRequest's details algorithm">§
                        18.9 Update a PaymentRequest's details algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-7" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-addresserrors-8" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-addresserrors-9" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-addresserrors-addressline"
            aria-label="Links in this document to definition: addressLine">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-addressline"
                    aria-label="Permalink for definition: addressLine. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-addressline-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-addressline-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-city"
            aria-label="Links in this document to definition: city">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-city"
                    aria-label="Permalink for definition: city. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-city-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-city-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-country"
            aria-label="Links in this document to definition: country">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-country"
                    aria-label="Permalink for definition: country. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-country-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-country-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-addresserrors-dependentlocality"
            aria-label="Links in this document to definition: dependentLocality">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-dependentlocality"
                    aria-label="Permalink for definition: dependentLocality. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-dependentlocality-1" title="§ 15.1 AddressErrors dictionary">§
                        15.1 AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-dependentlocality-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-addresserrors-organization"
            aria-label="Links in this document to definition: organization">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-organization"
                    aria-label="Permalink for definition: organization. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-organization-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-organization-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-phone"
            aria-label="Links in this document to definition: phone">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-phone"
                    aria-label="Permalink for definition: phone. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-phone-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-phone-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-postalcode"
            aria-label="Links in this document to definition: postalCode">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-postalcode"
                    aria-label="Permalink for definition: postalCode. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-postalcode-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-postalcode-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-recipient"
            aria-label="Links in this document to definition: recipient">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-recipient"
                    aria-label="Permalink for definition: recipient. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-recipient-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-recipient-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-addresserrors-region"
            aria-label="Links in this document to definition: region">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-region"
                    aria-label="Permalink for definition: region. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-region-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-region-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-addresserrors-sortingcode"
            aria-label="Links in this document to definition: sortingCode">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-addresserrors-sortingcode"
                    aria-label="Permalink for definition: sortingCode. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2030492674">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-addresserrors-sortingcode-1" title="§ 15.1 AddressErrors dictionary">§ 15.1
                        AddressErrors dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-addresserrors-sortingcode-2" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payment"
            aria-label="Links in this document to definition: &quot;payment&quot;">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment"
                    aria-label="Permalink for definition: &quot;payment&quot;. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-1" title="§ 3.1 Constructor">§ 3.1 Constructor</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-shippingaddresschange"
            aria-label="Links in this document to definition: shippingaddresschange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shippingaddresschange"
                    aria-label="Permalink for definition: shippingaddresschange. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shippingaddresschange-1" title="§ 3.8 onshippingaddresschange attribute">§ 3.8
                        onshippingaddresschange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shippingaddresschange-2" title="§ 18.2 Shipping address changed algorithm">§
                        18.2 Shipping address changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-shippingoptionchange"
            aria-label="Links in this document to definition: shippingoptionchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shippingoptionchange"
                    aria-label="Permalink for definition: shippingoptionchange. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shippingoptionchange-1" title="§ 3.10 onshippingoptionchange attribute">§ 3.10
                        onshippingoptionchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shippingoptionchange-2" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shippingoptionchange-3" title="§ 18.3 Shipping option changed algorithm">§
                        18.3 Shipping option changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-payerdetailchange"
            aria-label="Links in this document to definition: payerdetailchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payerdetailchange"
                    aria-label="Permalink for definition: payerdetailchange. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payerdetailchange-1" title="§ 14.11 onpayerdetailchange attribute">§ 14.11
                        onpayerdetailchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-payerdetailchange-2" title="§ 18.6 Payer detail changed algorithm">§ 18.6
                        Payer detail changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-paymentmethodchange"
            aria-label="Links in this document to definition: paymentmethodchange">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-paymentmethodchange"
                    aria-label="Permalink for definition: paymentmethodchange. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-paymentmethodchange-1" title="§ 3.11 onpaymentmethodchange attribute">§ 3.11
                        onpaymentmethodchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-paymentmethodchange-2" title="§ 18.4 Payment method changed algorithm">§ 18.4
                        Payment method changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paymentmethodchangeevent"
            aria-label="Links in this document to definition: PaymentMethodChangeEvent">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeevent"
                    aria-label="Permalink for definition: PaymentMethodChangeEvent. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1848946631">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-1" title="§ 3.11 onpaymentmethodchange attribute">§
                        3.11 onpaymentmethodchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-2" title="§ 9. PaymentOptions dictionary">§ 9.
                        PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-3" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-4"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-5" title="§ 18.4 Payment method changed algorithm">§
                        18.4 Payment method changed algorithm</a> <a href="#ref-for-dom-paymentmethodchangeevent-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-7" title="§ 19.7 Exposing user information">§ 19.7
                        Exposing user information</a> <a href="#ref-for-dom-paymentmethodchangeevent-8"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-9" title="§ A. IDL Index">§ A. IDL Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeevent-constructor"
            aria-label="Links in this document to definition: constructor">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeevent-constructor"
                    aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>Not referenced in this document.</li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeevent-methoddetails"
            aria-label="Links in this document to definition: methodDetails">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeevent-methoddetails"
                    aria-label="Permalink for definition: methodDetails. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1848946631">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-1"
                        title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-2"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-3"
                        title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-4"
                        title="§ 19.7 Exposing user information">§ 19.7 Exposing user information</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methoddetails-5" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeevent-methodname"
            aria-label="Links in this document to definition: methodName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeevent-methodname"
                    aria-label="Permalink for definition: methodName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1848946631">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methodname-1"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methodname-2" title="§ 17.3.2 updateWith() method">§
                        17.3.2 updateWith() method</a> <a href="#ref-for-dom-paymentmethodchangeevent-methodname-3"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methodname-4"
                        title="§ 18.4 Payment method changed algorithm">§ 18.4 Payment method changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeevent-methodname-5" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeeventinit"
            aria-label="Links in this document to definition: PaymentMethodChangeEventInit">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeeventinit"
                    aria-label="Permalink for definition: PaymentMethodChangeEventInit. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-746190437">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-1"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-2" title="§ 17.2.1 methodDetails attribute">§
                        17.2.1 methodDetails attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-3" title="§ 17.2.2 methodName attribute">§ 17.2.2
                        methodName attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-4"
                        title="§ 17.2.3 PaymentMethodChangeEventInit dictionary">§ 17.2.3 PaymentMethodChangeEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentmethodchangeeventinit-6" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeeventinit-methodname"
            aria-label="Links in this document to definition: methodName">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeeventinit-methodname"
                    aria-label="Permalink for definition: methodName. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-746190437">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methodname-1"
                        title="§ 17.2.2 methodName attribute">§ 17.2.2 methodName attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methodname-2"
                        title="§ 17.2.3 PaymentMethodChangeEventInit dictionary">§ 17.2.3 PaymentMethodChangeEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methodname-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentmethodchangeeventinit-methoddetails"
            aria-label="Links in this document to definition: methodDetails">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentmethodchangeeventinit-methoddetails"
                    aria-label="Permalink for definition: methodDetails. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-746190437">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methoddetails-1"
                        title="§ 17.2.1 methodDetails attribute">§ 17.2.1 methodDetails attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methoddetails-2"
                        title="§ 17.2.3 PaymentMethodChangeEventInit dictionary">§ 17.2.3 PaymentMethodChangeEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentmethodchangeeventinit-methoddetails-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequestupdateevent"
            aria-label="Links in this document to definition: PaymentRequestUpdateEvent">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequestupdateevent"
                    aria-label="Permalink for definition: PaymentRequestUpdateEvent. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1601085411">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-1" title="§ 3.8 onshippingaddresschange attribute">§
                        3.8 onshippingaddresschange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-2" title="§ 3.10 onshippingoptionchange attribute">§
                        3.10 onshippingoptionchange attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-3" title="§ 17.1 Summary">§ 17.1 Summary</a> <a
                        href="#ref-for-dom-paymentrequestupdateevent-4" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequestupdateevent-5" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-6"
                        title="§ 17.2 PaymentMethodChangeEvent interface">§ 17.2 PaymentMethodChangeEvent interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-7"
                        title="§ 17.3 PaymentRequestUpdateEvent interface">§ 17.3 PaymentRequestUpdateEvent
                        interface</a> <a href="#ref-for-dom-paymentrequestupdateevent-8" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-9" title="§ 17.3.1 Constructor">§ 17.3.1
                        Constructor</a> <a href="#ref-for-dom-paymentrequestupdateevent-10" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-11" title="§ 17.3.2 updateWith() method">§ 17.3.2
                        updateWith() method</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-12" title="§ 17.3.3 Internal Slots">§ 17.3.3
                        Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-13"
                        title="§ 18.5 PaymentRequest updated algorithm">§ 18.5 PaymentRequest updated algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-14" title="§ 18.6 Payer detail changed algorithm">§
                        18.6 Payer detail changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-15" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentrequestupdateevent-16" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequestupdateevent-constructor"
            aria-label="Links in this document to definition: Constructor">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequestupdateevent-constructor"
                    aria-label="Permalink for definition: Constructor. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1601085411">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-constructor-1"
                        title="§ 17.3 PaymentRequestUpdateEvent interface">§ 17.3 PaymentRequestUpdateEvent
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-constructor-2" title="§ 17.3.1 Constructor">§ 17.3.1
                        Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-constructor-3" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequestupdateevent-updatewith"
            aria-label="Links in this document to definition: updateWith()">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequestupdateevent-updatewith"
                    aria-label="Permalink for definition: updateWith(). Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1601085411">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-1" title="§ 3.12 Internal Slots">§ 3.12
                        Internal Slots</a> <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-3"
                        title="§ 6.3 PaymentDetailsUpdate dictionary">§ 6.3 PaymentDetailsUpdate dictionary</a> <a
                        href="#ref-for-dom-paymentrequestupdateevent-updatewith-4" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-5"
                        title="§ 13. PaymentShippingOption dictionary">§ 13. PaymentShippingOption dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-6"
                        title="§ 17.3 PaymentRequestUpdateEvent interface">§ 17.3 PaymentRequestUpdateEvent
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-7" title="§ 17.3.2 updateWith() method">§
                        17.3.2 updateWith() method</a> <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-8"
                        title="Reference 2">(2)</a> <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-9"
                        title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-10" title="§ 17.3.3 Internal Slots">§
                        17.3.3 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateevent-updatewith-11" title="§ A. IDL Index">§ A. IDL
                        Index</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-waitforupdate"
            aria-label="Links in this document to definition: [[waitForUpdate]]">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-waitforupdate"
                    aria-label="Permalink for definition: [[waitForUpdate]]. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-waitforupdate-1" title="§ 17.3.1 Constructor">§ 17.3.1 Constructor</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-waitforupdate-2" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a> <a href="#ref-for-dfn-waitforupdate-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-waitforupdate-4" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-waitforupdate-5" title="§ 18.5 PaymentRequest updated algorithm">§ 18.5
                        PaymentRequest updated algorithm</a> <a href="#ref-for-dfn-waitforupdate-6"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-waitforupdate-7" title="§ 18.6 Payer detail changed algorithm">§ 18.6 Payer
                        detail changed algorithm</a> <a href="#ref-for-dfn-waitforupdate-8" title="Reference 2">(2)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dom-paymentrequestupdateeventinit"
            aria-label="Links in this document to definition: PaymentRequestUpdateEventInit">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dom-paymentrequestupdateeventinit"
                    aria-label="Permalink for definition: PaymentRequestUpdateEventInit. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span> <a
                    class="marker idl-block" title="Jump to IDL declaration" href="#webidl-349124107">IDL</a>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateeventinit-1"
                        title="§ 17.2.3 PaymentMethodChangeEventInit dictionary">§ 17.2.3 PaymentMethodChangeEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateeventinit-2"
                        title="§ 17.3 PaymentRequestUpdateEvent interface">§ 17.3 PaymentRequestUpdateEvent
                        interface</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateeventinit-3"
                        title="§ 17.3.4 PaymentRequestUpdateEventInit dictionary">§ 17.3.4 PaymentRequestUpdateEventInit
                        dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dom-paymentrequestupdateeventinit-4" title="§ A. IDL Index">§ A. IDL Index</a> <a
                        href="#ref-for-dom-paymentrequestupdateeventinit-5" title="Reference 2">(2)</a> <a
                        href="#ref-for-dom-paymentrequestupdateeventinit-6" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-can-make-payment-algorithm"
            aria-label="Links in this document to definition: can make payment algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-can-make-payment-algorithm"
                    aria-label="Permalink for definition: can make payment algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-can-make-payment-algorithm-1" title="§ 3.5 canMakePayment() method">§ 3.5
                        canMakePayment() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-can-make-payment-algorithm-2" title="§ 18.1 Can make payment algorithm">§ 18.1
                        Can make payment algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-shipping-address-changed-algorithm"
            aria-label="Links in this document to definition: shipping address changed algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shipping-address-changed-algorithm"
                    aria-label="Permalink for definition: shipping address changed algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shipping-address-changed-algorithm-1"
                        title="§ 3.6 shippingAddress attribute">§ 3.6 shippingAddress attribute</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-shipping-option-changed-algorithm"
            aria-label="Links in this document to definition: shipping option changed algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-shipping-option-changed-algorithm"
                    aria-label="Permalink for definition: shipping option changed algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-shipping-option-changed-algorithm-1" title="§ 3.9 shippingOption attribute">§
                        3.9 shippingOption attribute</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-shipping-option-changed-algorithm-2"
                        title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1 PaymentDetailsBase dictionary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-payment-method-changed-algorithm"
            aria-label="Links in this document to definition: payment method changed algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payment-method-changed-algorithm"
                    aria-label="Permalink for definition: payment method changed algorithm. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payment-method-changed-algorithm-1" title="§ 19.7 Exposing user information">§
                        19.7 Exposing user information</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-paymentrequest-updated-algorithm"
            aria-label="Links in this document to definition: PaymentRequest updated algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-paymentrequest-updated-algorithm"
                    aria-label="Permalink for definition: PaymentRequest updated algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-paymentrequest-updated-algorithm-1"
                        title="§ 18.2 Shipping address changed algorithm">§ 18.2 Shipping address changed algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-paymentrequest-updated-algorithm-2"
                        title="§ 18.3 Shipping option changed algorithm">§ 18.3 Shipping option changed algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-payer-detail-changed-algorithm"
            aria-label="Links in this document to definition: payer detail changed algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-payer-detail-changed-algorithm"
                    aria-label="Permalink for definition: payer detail changed algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-payer-detail-changed-algorithm-1" title="§ 17.1 Summary">§ 17.1 Summary</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-user-accepts-the-payment-request-algorithm"
            aria-label="Links in this document to definition: user accepts the payment request algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-user-accepts-the-payment-request-algorithm"
                    aria-label="Permalink for definition: user accepts the payment request algorithm. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-1" title="§ 3.3 show() method">§
                        3.3 show() method</a> <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-3" title="§ 3.12 Internal Slots">§
                        3.12 Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-4" title="§ 14.1 retry() method">§
                        14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-accepts-the-payment-request-algorithm-5" title="§ 14.12 Internal Slots">§
                        14.12 Internal Slots</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-user-aborts-the-payment-request"
            aria-label="Links in this document to definition: user aborts the payment request algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-user-aborts-the-payment-request"
                    aria-label="Permalink for definition: user aborts the payment request algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-1" title="§ 3.3 show() method">§ 3.3 show()
                        method</a> <a href="#ref-for-dfn-user-aborts-the-payment-request-2" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-3" title="§ 3.4 abort() method">§ 3.4 abort()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-4" title="§ 3.12 Internal Slots">§ 3.12
                        Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-5" title="§ 14.1 retry() method">§ 14.1
                        retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-6" title="§ 14.12 Internal Slots">§ 14.12
                        Internal Slots</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-aborts-the-payment-request-7"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
            id="dfn-panel-for-dfn-update-a-paymentrequest-s-details-algorithm"
            aria-label="Links in this document to definition: update a PaymentRequest's details algorithm">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-update-a-paymentrequest-s-details-algorithm"
                    aria-label="Permalink for definition: update a PaymentRequest's details algorithm. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-update-a-paymentrequest-s-details-algorithm-1" title="§ 3.3 show() method">§
                        3.3 show() method</a> <a href="#ref-for-dfn-update-a-paymentrequest-s-details-algorithm-2"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-update-a-paymentrequest-s-details-algorithm-3"
                        title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith() method</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-abort-the-update"
            aria-label="Links in this document to definition: abort the update">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-abort-the-update"
                    aria-label="Permalink for definition: abort the update. Activate to close this dialog.">Permalink</a>
                <span class="marker dfn-exported"
                    title="Definition can be referenced by other specifications">exported</span>
            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-abort-the-update-1" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-abort-the-update-2"
                        title="§ 18.9 Update a PaymentRequest's details algorithm">§ 18.9 Update a PaymentRequest's
                        details algorithm</a> <a href="#ref-for-dfn-abort-the-update-3" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-abort-the-update-4" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-abort-the-update-5" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-abort-the-update-6" title="Reference 5">(5)</a> <a
                        href="#ref-for-dfn-abort-the-update-7" title="Reference 6">(6)</a> <a
                        href="#ref-for-dfn-abort-the-update-8" title="Reference 7">(7)</a> <a
                        href="#ref-for-dfn-abort-the-update-9" title="Reference 8">(8)</a> <a
                        href="#ref-for-dfn-abort-the-update-10" title="Reference 9">(9)</a> <a
                        href="#ref-for-dfn-abort-the-update-11" title="Reference 10">(10)</a> <a
                        href="#ref-for-dfn-abort-the-update-12" title="Reference 11">(11)</a> <a
                        href="#ref-for-dfn-abort-the-update-13" title="Reference 12">(12)</a> <a
                        href="#ref-for-dfn-abort-the-update-14" title="Reference 13">(13)</a>
                </li>
            </ul>
        </div>
        <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-user-agent"
            aria-label="Links in this document to definition: user agent">
            <span class="caret"></span>
            <div>
                <a class="self-link" href="#dfn-user-agent"
                    aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

            </div>
            <p><b>Referenced in:</b></p>
            <ul>
                <li>
                    <a href="#ref-for-dfn-user-agent-1" title="§ 1. Introduction">§ 1. Introduction</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-2" title="§ 3. PaymentRequest interface">§ 3. PaymentRequest
                        interface</a> <a href="#ref-for-dfn-user-agent-3" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-4" title="§ 3.3 show() method">§ 3.3 show() method</a> <a
                        href="#ref-for-dfn-user-agent-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-user-agent-6"
                        title="Reference 3">(3)</a> <a href="#ref-for-dfn-user-agent-7" title="Reference 4">(4)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-8" title="§ 3.4 abort() method">§ 3.4 abort() method</a> <a
                        href="#ref-for-dfn-user-agent-9" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-user-agent-10" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-11" title="§ 3.5 canMakePayment() method">§ 3.5 canMakePayment()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-12" title="§ 6.1 PaymentDetailsBase dictionary">§ 6.1
                        PaymentDetailsBase dictionary</a> <a href="#ref-for-dfn-user-agent-13"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-14" title="§ 6.2 PaymentDetailsInit dictionary">§ 6.2
                        PaymentDetailsInit dictionary</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-15" title="§ 9. PaymentOptions dictionary">§ 9. PaymentOptions
                        dictionary</a> <a href="#ref-for-dfn-user-agent-16" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-user-agent-17" title="Reference 3">(3)</a> <a
                        href="#ref-for-dfn-user-agent-18" title="Reference 4">(4)</a> <a
                        href="#ref-for-dfn-user-agent-19" title="Reference 5">(5)</a> <a
                        href="#ref-for-dfn-user-agent-20" title="Reference 6">(6)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-21" title="§ 10. PaymentItem dictionary">§ 10. PaymentItem
                        dictionary</a> <a href="#ref-for-dfn-user-agent-22" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-23" title="§ 12. PaymentComplete enum">§ 12. PaymentComplete
                        enum</a> <a href="#ref-for-dfn-user-agent-24" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-user-agent-25" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-26" title="§ 13. PaymentShippingOption dictionary">§ 13.
                        PaymentShippingOption dictionary</a> <a href="#ref-for-dfn-user-agent-27"
                        title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-28" title="§ 14.1 retry() method">§ 14.1 retry() method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-29" title="§ 14.10 complete() method">§ 14.10 complete() method</a>
                    <a href="#ref-for-dfn-user-agent-30" title="Reference 2">(2)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-31" title="§ 17.3.2 updateWith() method">§ 17.3.2 updateWith()
                        method</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-32" title="§ 18. Algorithms">§ 18. Algorithms</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-33" title="§ 18.1 Can make payment algorithm">§ 18.1 Can make
                        payment algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-34" title="§ 18.7 User accepts the payment request algorithm">§
                        18.7 User accepts the payment request algorithm</a> <a href="#ref-for-dfn-user-agent-35"
                        title="Reference 2">(2)</a> <a href="#ref-for-dfn-user-agent-36" title="Reference 3">(3)</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-37" title="§ 18.8 User aborts the payment request algorithm">§ 18.8
                        User aborts the payment request algorithm</a>
                </li>
                <li>
                    <a href="#ref-for-dfn-user-agent-38" title="§ 19.7 Exposing user information">§ 19.7 Exposing user
                        information</a> <a href="#ref-for-dfn-user-agent-39" title="Reference 2">(2)</a> <a
                        href="#ref-for-dfn-user-agent-40" title="Reference 3">(3)</a>
                </li>
            </ul>
        </div>
        <p>
            Changes from between CR2 until now:
        </p><rs-changelog from="CR2" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/payment-request/commit/be6feef">[Spec] Restore changes since REC</a>
                    (<a href="https://github.com/w3c/payment-request/pull/1029">#1029</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/91d3530">Status section improvement; tidy</a>
                    (<a href="https://github.com/w3c/payment-request/pull/1026">#1026</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/d9352e2">[Spec] Relax user activation
                        requirement for show()</a> (<a
                        href="https://github.com/w3c/payment-request/pull/1009">#1009</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/cce8f5e">[Spec] Only allow show() to be
                        called in a foreground tab</a> (<a
                        href="https://github.com/w3c/payment-request/pull/1005">#1005</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/08be866">[Spec] Fix broken reference to
                        permissions-policy</a> (<a href="https://github.com/w3c/payment-request/pull/1007">#1007</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/898412b">remove note since in practice we
                        have a 1.1 branch</a> (<a href="https://github.com/w3c/payment-request/pull/1001">#1001</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/8c45522">Define concepts for converting and
                        validating `.data`</a> (<a href="https://github.com/w3c/payment-request/pull/977">#977</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5337037">passing data on complete()</a> (<a
                        href="https://github.com/w3c/payment-request/pull/982">#982</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/b6b0630">Validate .data on construction</a>
                    (<a href="https://github.com/w3c/payment-request/pull/976">#976</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/ff5e725">Add internationalization support for
                        human readable labels</a> (<a href="https://github.com/w3c/payment-request/pull/971">#971</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/82583cf">Don't set state to closed when
                        transient acttivation rejects</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/ee3dde1">Reject with SecurityError when no
                        transient activation</a> (<a href="https://github.com/w3c/payment-request/pull/961">#961</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/486c07a">Drop PaymentAddress, shipping +
                        billing address support</a> (<a href="https://github.com/w3c/payment-request/pull/955">#955</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/4bb62e1">Recommend Payment UI matches doc's
                        language</a> (<a href="https://github.com/w3c/payment-request/pull/944">#944</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/4ce6ebb">Drop metion of ¤</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/0e2ad2b">Added based on issue 936</a> (<a
                        href="https://github.com/w3c/payment-request/pull/937">#937</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/0d11184">Consume user activation</a> (<a
                        href="https://github.com/w3c/payment-request/pull/916">#916</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/f697360">Remove hasEnrolledInstrument()</a>
                    (<a href="https://github.com/w3c/payment-request/pull/930">#930</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/8337fee">Remove merchant validation</a> (<a
                        href="https://github.com/w3c/payment-request/pull/929">#929</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/a4f35e3">Deprecate allowpaymentrequest
                        attribute</a> (<a href="https://github.com/w3c/payment-request/pull/928">#928</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/f810dc0">Remove recommendation to localize
                        sheet based on body element</a> (<a
                        href="https://github.com/w3c/payment-request/pull/896">#896</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/a0c831d">Remove requirement to reject after
                        document is inactive</a> (<a href="https://github.com/w3c/payment-request/pull/875">#875</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/6f2565b">Add
                        PaymentRequest.prototype.hasEnrolledInstrument()</a> (<a
                        href="https://github.com/w3c/payment-request/pull/833">#833</a>)</li>
            </ul>
        </rs-changelog>
        <p>
            Changes from between CR1 and CR2:
        </p><rs-changelog from="CR" to="CR2" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/payment-request/commit/9a3c6d9">Changes stemming from privacy
                        review:</a> (<a href="https://github.com/w3c/payment-request/pull/856">#856</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/0358fb3">Set [[waitForUpdate]] to true on
                        dispatch of payerdetailchange</a> (<a
                        href="https://github.com/w3c/payment-request/pull/857">#857</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/26fbcf9">Add privacy protection to
                        MerchantValidationEvent's validationURL</a> (<a
                        href="https://github.com/w3c/payment-request/pull/850">#850</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/76135b9">Describe privacy inplications of
                        changing payment method</a> (<a href="https://github.com/w3c/payment-request/pull/849">#849</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/9dac110">Redact dependentLocality from
                        shippingAddress</a> (<a href="https://github.com/w3c/payment-request/pull/846">#846</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/3f644f4">Changes resulting from 28 February
                        PING privacy review</a> (<a href="https://github.com/w3c/payment-request/pull/843">#843</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/0bc0baa">Do .data IDL conversion in
                        constructor</a> (<a href="https://github.com/w3c/payment-request/pull/829">#829</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5966e82">Integrate with Feature Policy</a>
                    (<a href="https://github.com/w3c/payment-request/pull/822">#822</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5906b72">Remove regionCode attribute</a> (<a
                        href="https://github.com/w3c/payment-request/pull/823">#823</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5459933">Clarify retry() when errorFields are
                        not passed</a> (<a href="https://github.com/w3c/payment-request/pull/825">#825</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/6b5e0ee">Attach 'payment request is showing
                        boolean' to top-level browsing con…</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/a1e773a">Clarify when the user can abort the
                        payment request algorithm</a> (<a
                        href="https://github.com/w3c/payment-request/pull/810">#810</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/4937ad2">Warn when errorFields don't match
                        request[[options]]</a> (<a href="https://github.com/w3c/payment-request/pull/807">#807</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/974d879">Support requesting billing
                        address</a> (<a href="https://github.com/w3c/payment-request/pull/749">#749</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/1d5bcd8">Added section and paragraph on
                        accessibility considerations</a> (<a
                        href="https://github.com/w3c/payment-request/pull/802">#802</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/bf98afb">Change what canMakePayment()
                        means</a> (<a href="https://github.com/w3c/payment-request/pull/806">#806</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/3fb7e37">Remove PaymentAddress'
                        languageCode</a> (<a href="https://github.com/w3c/payment-request/pull/765">#765</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/277a385">Remove PaymentItem.type</a> (<a
                        href="https://github.com/w3c/payment-request/pull/794">#794</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/5498f93">Rename PayerErrorFields to
                        PayerErrors</a> (<a href="https://github.com/w3c/payment-request/pull/789">#789</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/4020346">Add paymentMethodErrors,
                        payerErrors, to PaymentDetailsUpdate</a> (<a
                        href="https://github.com/w3c/payment-request/pull/768">#768</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/384b538">Add
                        MerchantValidationEvent.prototype.methodName</a> (<a
                        href="https://github.com/w3c/payment-request/pull/776">#776</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/944f512">Add support for merchant
                        validation</a> (<a href="https://github.com/w3c/payment-request/pull/751">#751</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/1816526">Support fine-grained errors for
                        payment methods</a> (<a href="https://github.com/w3c/payment-request/pull/752">#752</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/0273c79">Add error member to
                        PaymentValidationErrors</a> (<a href="https://github.com/w3c/payment-request/pull/747">#747</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/a0ff44f">Check doc fully active during
                        response.complete()</a> (<a href="https://github.com/w3c/payment-request/pull/748">#748</a>)
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/3faf6a4">Drop prefixes, suffixes from error
                        field members</a> (<a href="https://github.com/w3c/payment-request/pull/745">#745</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/ebd8310">Added information about redactList
                        to privacy consideration</a> (<a
                        href="https://github.com/w3c/payment-request/pull/738">#738</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/d27cc16">Add
                        PaymentResponse.prototype.onpayerdetailchange</a> (<a
                        href="https://github.com/w3c/payment-request/pull/724">#724</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/b417638">retry() interacting with abort the
                        update</a> (<a href="https://github.com/w3c/payment-request/pull/723">#723</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/634a8a8">teach retry() about payerErrors</a>
                    (<a href="https://github.com/w3c/payment-request/pull/721">#721</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/ee56f25">Define
                        PaymentResponse.prototype.retry() method</a> (<a
                        href="https://github.com/w3c/payment-request/pull/720">#720</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/b336891">add PaymentMethodChangeEvent
                        event</a> (<a href="https://github.com/w3c/payment-request/pull/695">#695</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/10dc96e">Add fine-grained errors reporting
                        for PaymentAddress</a> (<a href="https://github.com/w3c/payment-request/pull/712">#712</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/f0018f9">add PaymentAddress.regionCode
                        attribute</a> (<a href="https://github.com/w3c/payment-request/pull/690">#690</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/6b2aebc">remove currencySystem member</a> (<a
                        href="https://github.com/w3c/payment-request/pull/694">#694</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/56a0c18">add redactList for
                        PaymentAddress</a> (<a href="https://github.com/w3c/payment-request/pull/654">#654</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/d533b86">show() must be triggered by user
                        activation</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/22195c7">Feat: allow show() to take optional
                        detailsPromise</a></li>
                <li><a href="https://github.com/w3c/payment-request/commit/d891049">Feat: adds PaymentItemType enum +
                        PaymentItem.type</a> (<a href="https://github.com/w3c/payment-request/pull/666">#666</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/0e4539d">Add localization hint for payment
                        sheet</a> (<a href="https://github.com/w3c/payment-request/pull/656">#656</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/e65a217">Return event, because useful</a>
                </li>
                <li><a href="https://github.com/w3c/payment-request/commit/876a9cc">privacy: dont share line items</a>
                    (<a href="https://github.com/w3c/payment-request/pull/670">#670</a>)</li>
                <li><a href="https://github.com/w3c/payment-request/commit/72a62fc">Assure PaymentRequest.id is a UUID
                        (closes #588)</a></li>
            </ul>
        </rs-changelog>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="d-references"><bdi class="secno">D. </bdi>References</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix D."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="d-1-normative-references"><bdi class="secno">D.1 </bdi>Normative references</h3><a
                    class="self-link" href="#normative-references" aria-label="Permalink for Appendix D.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-contact-picker">[contact-picker]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/contact-picker/"><cite>Contact Picker API</cite></a>. Peter Beverloo.
                    W3C. 8 July 2024. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/contact-picker/">https://www.w3.org/TR/contact-picker/</a>
                </dd>
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-e.164">[E.164]</dt>
                <dd>
                    <a
                        href="https://www.itu.int/rec/dologin_pub.asp?lang=e&amp;id=T-REC-E.164-201011-I!!PDF-E&amp;type=items"><cite>The
                            international public telecommunication numbering plan</cite></a>. ITU-T. November 2010.
                    Recommendation. URL: <a
                        href="https://www.itu.int/rec/dologin_pub.asp?lang=e&amp;id=T-REC-E.164-201011-I!!PDF-E&amp;type=items">https://www.itu.int/rec/dologin_pub.asp?lang=e&amp;id=T-REC-E.164-201011-I!!PDF-E&amp;type=items</a>
                </dd>
                <dt id="bib-ecma-402">[ecma-402]</dt>
                <dd>
                    <a href="https://tc39.es/ecma402/"><cite>ECMAScript Internationalization API
                            Specification</cite></a>. Ecma International. URL: <a
                        href="https://tc39.es/ecma402/">https://tc39.es/ecma402/</a>
                </dd>
                <dt id="bib-ecmascript">[ECMASCRIPT]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>.
                    Ecma International. URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-fetch">[fetch]</dt>
                <dd>
                    <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living
                    Standard. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. Living Standard. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-iso4217">[ISO4217]</dt>
                <dd>
                    <a href="http://www.iso.org/iso/home/standards/currency_codes.htm"><cite>Currency codes - ISO
                            4217</cite></a>. ISO. 2015. International Standard. URL: <a
                        href="http://www.iso.org/iso/home/standards/currency_codes.htm">http://www.iso.org/iso/home/standards/currency_codes.htm</a>
                </dd>
                <dt id="bib-payment-handler">[payment-handler]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/payment-handler/"><cite>Payment Handler API</cite></a>. Adrian
                    Hope-Bailie; Ian Jacobs; Rouslan Solomakhin; Jinho Bang. W3C. 25 January 2023. W3C Working Draft.
                    URL: <a href="https://www.w3.org/TR/payment-handler/">https://www.w3.org/TR/payment-handler/</a>
                </dd>
                <dt id="bib-payment-method-id">[payment-method-id]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/payment-method-id/"><cite>Payment Method Identifiers</cite></a>.
                    Marcos Caceres. W3C. 8 September 2022. W3C Recommendation. URL: <a
                        href="https://www.w3.org/TR/payment-method-id/">https://www.w3.org/TR/payment-method-id/</a>
                </dd>
                <dt id="bib-permissions-policy">[permissions-policy]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. Ian
                    Clelland. W3C. 10 February 2025. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate
                            Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc4122">[RFC4122]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc4122"><cite>A Universally Unique IDentifier (UUID) URN
                            Namespace</cite></a>. P. Leach; M. Mealling; R. Salz. IETF. July 2005. Proposed Standard.
                    URL: <a href="https://www.rfc-editor.org/rfc/rfc4122">https://www.rfc-editor.org/rfc/rfc4122</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                            2119 Key Words</cite></a>. B. Leiba. IETF. May 2017. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-url">[url]</dt>
                <dd>
                    <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. Living Standard. URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="d-2-informative-references"><bdi class="secno">D.2 </bdi>Informative references</h3><a
                    class="self-link" href="#informative-references" aria-label="Permalink for Appendix D.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-rfc6454">[rfc6454]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc6454"><cite>The Web Origin Concept</cite></a>. A. Barth.
                    IETF. December 2011. Proposed Standard. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc6454">https://www.rfc-editor.org/rfc/rfc6454</a>
                </dd>
                <dt id="bib-secure-contexts">[secure-contexts]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/secure-contexts/"><cite>Secure Contexts</cite></a>. Mike West. W3C.
                    10 November 2023. CRD. URL: <a
                        href="https://www.w3.org/TR/secure-contexts/">https://www.w3.org/TR/secure-contexts/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>