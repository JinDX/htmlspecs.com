<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>窗口管理</title>
    <meta content="WD" name="w3c-status">
    <!-- <meta content="Bikeshed version 4afc1fdf9, updated Tue May 28 15:43:17 2024 -0700" name="generator"> -->
    <link href="https://www.w3.org/TR/window-management/" rel="canonical">
    <!-- <meta content="2cafe16157d95ab94189a5ec57b2d5a25069d880" name="revision"> -->
    <meta content="dark light" name="color-scheme">
    <style>
        .domintro::before {
            content: 'For web developers (non-normative)';
            text-transform: initial;
        }

        .domintro dt {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;

            padding-top: 0.5em;
            padding-bottom: 1em;
        }

        .domintro dt a {
            color: inherit;
            border-bottom-style: none;
        }

        .domintro dt code {
            font-size: inherit;
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color="0"] {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var[data-var-color="1"] {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var[data-var-color="2"] {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var[data-var-color="3"] {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var[data-var-color="4"] {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var[data-var-color="5"] {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var[data-var-color="6"] {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">窗口管理</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 工作草案</a>, <time class="dt-updated"
                datetime="2024-06-07">2024年6月7日</time></p>
        <details open>
            <summary>关于本文档的更多信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>该版本:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2024/WD-window-management-20240607/">https://www.w3.org/TR/2024/WD-window-management-20240607/</a>
                    <dt>最新发布版本:
                    <dd><a href="https://www.w3.org/TR/window-management/">https://www.w3.org/TR/window-management/</a>
                    <dt>编辑草案:
                    <dd><a href="https://w3c.github.io/window-management/">https://w3c.github.io/window-management/</a>
                    <dt>以往版本:
                    <dd><a href="https://www.w3.org/TR/2024/WD-window-management-20240401/"
                            rel="prev">https://www.w3.org/TR/2024/WD-window-management-20240401/</a>
                    <dt>历史记录:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/window-management/">https://www.w3.org/standards/history/window-management/</a>
                    <dt>反馈:
                    <dd><a href="https://github.com/w3c/window-management/issues/">GitHub</a>
                    <dd><a href="#issues-index">规范内讨论</a>
                    <dt class="editor">编辑者:
                    <dd class="editor p-author h-card vcard" data-editor-id="61302"><a class="p-name fn u-email email"
                            href="mailto:jsbell@google.com">Joshua Bell</a> (<a class="p-org org"
                            href="https://www.google.com/">Google Inc.</a>)
                    <dd class="editor p-author h-card vcard" data-editor-id="116970"><a class="p-name fn u-email email"
                            href="mailto:msw@google.com">Mike Wasserman</a> (<a class="p-org org"
                            href="https://www.google.com/">Google Inc.</a>)
                    <dt>测试套件:
                    <dd><a
                            href="https://github.com/web-platform-tests/wpt/tree/master/window-management">https://github.com/web-platform-tests/wpt/tree/master/window-management</a>
                    <dd><a
                            href="https://github.com/web-platform-tests/wpt/tree/master/screen-details">https://github.com/web-platform-tests/wpt/tree/master/screen-details</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2024 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本文档定义了一个 Web 平台 API，允许脚本查询设备的屏幕信息，并在特定屏幕上展示内容。</p>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p> <em>本节描述了本文档在发布时的状态。当前 <abbr title="World Wide Web Consortium">W3C</abbr> 出版物列表及本技术报告的最新修订版，可在 <a
                    href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
                    技术报告索引</a>（https://www.w3.org/TR/）找到。</em> </p>
        <p> 本文档由 <a href="https://www.w3.org/groups/wg/secondscreen">Second Screen 工作组</a> 作为工作草案，并采用了 <a
                href="https://www.w3.org/2023/Process-20231103/#recs-and-notes">推荐轨道</a>。本文档计划成为 <abbr
                title="World Wide Web Consortium">W3C</abbr> 推荐标准。</p>
        <p> Second Screen 工作组维护着 <a
                href="https://github.com/w3c/window-management/issues">尚未处理的所有问题列表</a>。本草案标出了一些仍待小组讨论的问题。对于这些问题的结果，包括其是否有效，目前尚未作出决定。欢迎提交针对未解决问题的规范文本合并请求。
        </p>
        <p> 工作草案的发布并不代表 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。此文档为草案，随时可能更新、替换或废止。除作进行中工作外，不应引用此文档。
        </p>
        <p> 本文档由遵循 <a class="css" data-link-type="property" href="https://www.w3.org/Consortium/Patent-Policy-20200915/"
                id="sotd_patent">W3C 专利政策</a> 的小组编写。<abbr title="World Wide Web Consortium">W3C</abbr> 保持一份 <a
                href="https://www.w3.org/2004/01/pp-impl/74168/status"
                rel="disclosure">与小组交付物相关的专利披露公开列表</a>；该页面亦包括披露专利的说明。了解到某项专利且认为其包含<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必要权利要求</a>的个人，必须依照<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C 专利政策第6节</a>进行披露。
        </p>
        <p> 本文档受 <a href="https://www.w3.org/2023/Process-20231103/" id="w3c_process_revision">2023年11月3日 W3C 流程文档</a>
            管辖。 </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#introduction"><span class="secno">1</span> <span class="content">引言</span></a>
                <ol class="toc">
                    <li><a href="#motivations"><span class="secno">1.1</span> <span class="content">动机与用例</span></a>
                    <li>
                        <a href="#usage-overview"><span class="secno">1.2</span> <span class="content">用法概览</span></a>
                        <ol class="toc">
                            <li><a href="#usage-overview-screen-extended"><span class="secno">1.2.1</span> <span
                                        class="content">检测多屏存在</span></a>
                            <li><a href="#usage-overview-screen-changes"><span class="secno">1.2.2</span> <span
                                        class="content">监测 <code class="idl"><span>Screen</span></code> 属性变化</span></a>
                            <li><a href="#usage-overview-screen-details"><span class="secno">1.2.3</span> <span
                                        class="content">请求详细屏幕信息</span></a>
                            <li><a href="#usage-overview-place-fullscreen-content-on-a-specific-screen"><span
                                        class="secno">1.2.4</span> <span class="content">在特定屏幕上放置全屏内容</span></a>
                            <li><a href="#usage-overview-place-windows-on-a-specific-screen"><span
                                        class="secno">1.2.5</span> <span class="content">在特定屏幕上放置窗口</span></a>
                            <li><a href="#usage-overview-initiate-multi-screen-experiences"><span
                                        class="secno">1.2.6</span> <span class="content">启动多屏体验</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#concepts"><span class="secno">2</span> <span class="content">概念</span></a>
                <ol class="toc">
                    <li><a href="#concept-screen"><span class="secno">2.1</span> <span class="content">屏幕</span></a>
                    <li><a href="#concept-screen-pixel"><span class="secno">2.2</span> <span
                                class="content">屏幕像素</span></a>
                    <li><a href="#concept-screen-area"><span class="secno">2.3</span> <span
                                class="content">屏幕区域</span></a>
                    <li><a href="#concept-available-screen-area"><span class="secno">2.4</span> <span
                                class="content">可用屏幕区域</span></a>
                    <li><a href="#concept-virtual-screen-arrangement"><span class="secno">2.5</span> <span
                                class="content">虚拟屏幕排列</span></a>
                    <li><a href="#concept-screen-position"><span class="secno">2.6</span> <span
                                class="content">屏幕位置</span></a>
                    <li><a href="#concept-available-screen-position"><span class="secno">2.7</span> <span
                                class="content">可用屏幕位置</span></a>
                    <li><a href="#concept-primary-screen"><span class="secno">2.8</span> <span
                                class="content">主屏幕</span></a>
                    <li><a href="#concept-internal-screen"><span class="secno">2.9</span> <span
                                class="content">内置屏幕</span></a>
                    <li><a href="#concept-current-screen"><span class="secno">2.10</span> <span
                                class="content">当前屏幕</span></a>
                    <li><a href="#concept-observable-screen-properties"><span class="secno">2.11</span> <span
                                class="content">可观察屏幕属性</span></a>
                </ol>
            <li>
                <a href="#api"><span class="secno">3</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li>
                        <a href="#api-extensions-to-screen"><span class="secno">3.1</span> <span class="content">对 <code
                                    class="idl"><span>Screen</span></code> 接口的扩展</span></a>
                        <ol class="toc">
                            <li><a href="#api-screen-isExtended-attribute"><span class="secno">3.1.1</span> <span
                                        class="content"><code class="idl"><span>isExtended</span></code> 属性</span></a>
                            <li><a href="#api-screen-onchange-attribute"><span class="secno">3.1.2</span> <span
                                        class="content"><code class="idl"><span>onchange</span></code> 属性</span></a>
                        </ol>
                    <li>
                        <a href="#api-extensions-to-window"><span class="secno">3.2</span> <span class="content">对 <code
                                    class="idl"><span>Window</span></code> 接口的扩展</span></a>
                        <ol class="toc">
                            <li><a href="#api-window-getScreenDetails-method"><span class="secno">3.2.1</span> <span
                                        class="content"><code class="idl"><span>getScreenDetails()</span></code>
                                        方法</span></a>
                            <li><a href="#api-window-attribute-and-method-definition-changes"><span
                                        class="secno">3.2.2</span> <span class="content"><code
                                            class="idl"><span>Window</span></code> 属性和方法定义变更</span></a>
                            <li><a href="#api-window-open-method-definition-changes"><span class="secno">3.2.3</span>
                                    <span class="content"><code class="idl"><span>Window.open()</span></code>
                                        方法定义变更</span></a>
                        </ol>
                    <li>
                        <a href="#api-screendetails-interface"><span class="secno">3.3</span> <span
                                class="content"><code class="idl"><span>ScreenDetails</span></code> 接口</span></a>
                        <ol class="toc">
                            <li><a href="#api-screendetails-screens-attribute"><span class="secno">3.3.1</span> <span
                                        class="content"><code class="idl"><span>screens</span></code> 属性</span></a>
                            <li><a href="#api-screendetails-currentscreen-attribute"><span class="secno">3.3.2</span>
                                    <span class="content"><code class="idl"><span>currentScreen</span></code>
                                        属性</span></a>
                            <li><a href="#api-screendetails-onscreenschange-attribute"><span class="secno">3.3.3</span>
                                    <span class="content"><code class="idl"><span>onscreenschange</span></code>
                                        属性</span></a>
                            <li><a href="#api-screendetails-oncurrentscreenchange-attribute"><span
                                        class="secno">3.3.4</span> <span class="content"><code
                                            class="idl"><span>oncurrentscreenchange</span></code> 属性</span></a>
                        </ol>
                    <li>
                        <a href="#api-screendetailed-interface"><span class="secno">3.4</span> <span class="content">
                                <code class="idl"><span>ScreenDetailed</span></code> 接口</span></a>
                        <ol class="toc">
                            <li><a href="#api-screendetailed-onchange-attribute"><span class="secno">3.4.1</span> <span
                                        class="content"><code class="idl"><span>onchange</span></code> 属性</span></a>
                        </ol>
                    <li>
                        <a href="#api-extensions-to-fullscreen-options"><span class="secno">3.5</span> <span
                                class="content">对 <code class="idl"><span>FullscreenOptions</span></code> 的扩展</span></a>
                        <ol class="toc">
                            <li><a href="#api-element-requestfullscreen-method-definition-changes"><span
                                        class="secno">3.5.1</span> <span class="content"><code
                                            class="idl"><span>Element.requestFullscreen()</span></code>
                                        方法定义变更</span></a>
                        </ol>
                    <li><a href="#api-permission-api-integration"><span class="secno">3.6</span> <span
                                class="content">权限 API 集成</span></a>
                    <li><a href="#api-permission-policy-integration"><span class="secno">3.7</span> <span
                                class="content">权限策略集成</span></a>
                </ol>
            <li><a href="#security"><span class="secno">4</span> <span class="content">安全性考量</span></a>
            <li><a href="#privacy"><span class="secno">5</span> <span class="content">隐私性考量</span></a>
            <li><a href="#a11y"><span class="secno">6</span> <span class="content">可访问性考量</span></a>
            <li><a href="#i18n"><span class="secno">7</span> <span class="content">国际化考量</span></a>
            <li><a href="#acknowledgements"><span class="secno">8</span> <span class="content">致谢</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">一致性算法</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考性引用</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span
                class="content">引言</span><a class="self-link" href="#introduction"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>操作系统通常允许用户将多个屏幕连接到单一设备上，并以虚拟方式排列这些屏幕，从而扩展整体的视觉工作区域。</p>
        <p>多种应用程序会利用平台工具在这种多屏环境中放置其内容，但 Web 应用开发者受限于现有 API，这些 API 通常是围绕单一屏幕的使用设计的。</p>
        <p>随着多屏设备和应用成为用户体验中越来越常见且重要的一部分，提供信息和工具让 Web 开发者能够充分利用扩展的视觉环境变得更加重要。</p>
        <p>本规范按步骤扩展了 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen">Screen</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" id="ref-for-dictdef-fullscreenoptions">FullscreenOptions</a></code>
            等 API，并引入了新的 <code
                class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails">ScreenDetails</a></code>
            与 <code
                class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed">ScreenDetailed</a></code>
            接口。这些改变允许 Web 应用通过在特定屏幕上放置内容，提供引人入胜的多屏体验。
        </p>
        <h3 class="heading settled" data-level="1.1" id="motivations"><span class="secno">1.1. </span><span
                class="content">动机与用例</span><a class="self-link" href="#motivations"></a></h3>
        <p>本规范旨在为拥有多屏设备的 Web 应用用户带来更好的体验。以下用例为设计提供了参考：</p>
        <ul>
            <li data-md>
                <p>幻灯片应用在投影仪上展示演示内容，同时在笔记本屏幕上显示演讲者备注。</p>
            <li data-md>
                <p>金融应用在多个显示器上打开仪表盘窗口。</p>
            <li data-md>
                <p>医疗应用在高分辨率灰阶显示器上打开图像（如 X 光片）。</p>
            <li data-md>
                <p>创作类应用在其他屏幕上显示辅助窗口（如调色板）。</p>
            <li data-md>
                <p>会议室应用在触控设备上显示控件，在电视上播放视频。</p>
            <li data-md>
                <p>游戏、标牌、艺术等多种类型的应用中的多屏布局。</p>
            <li data-md>
                <p>当窗口横跨多个屏幕时，站点优化内容和布局。</p>
        </ul>
        <h3 class="heading settled" data-level="1.2" id="usage-overview"><span class="secno">1.2. </span><span
                class="content">用法概览</span><a class="self-link" href="#usage-overview"></a></h3>
        <p>为支持多屏体验，该 API 允许 Web 应用：</p>
        <ol>
            <li data-md>
                <p>检测设备是否存在多个屏幕</p>
            <li data-md>
                <p>请求在特定屏幕上放置内容所需的信息</p>
            <li data-md>
                <p>检测屏幕的添加或移除</p>
            <li data-md>
                <p>检测当前屏幕或其属性的变化</p>
            <li data-md>
                <p>将某个元素以全屏方式显示在特定屏幕上</p>
            <li data-md>
                <p>将窗口放置在特定屏幕上</p>
            <li data-md>
                <p>通过单次用户操作启动多屏体验</p>
        </ol>
        <div class="example" id="basic-example">
            <a class="self-link" href="#basic-example"></a>
            <p>API 用法的一个基本示例如下：</p>
            <pre class="language-js highlight"><c- c1>// Detect if the device has more than one screen.</c->
<c- k>if</c-> <c- p>(</c->window<c- p>.</c->screen<c- p>.</c->isExtended<c- p>)</c-> <c- p>{</c->
  <c- c1>// Request information required to place content on specific screens.</c->
  <c- a>const</c-> screenDetails <c- o>=</c-> <c- k>await</c-> window<c- p>.</c->getScreenDetails<c- p>();</c->

  <c- c1>// Detect when a screen is added or removed.</c->
  screenDetails<c- p>.</c->addEventListener<c- p>(</c-><c- t>'screenschange'</c-><c- p>,</c-> onScreensChange<c- p>);</c->

  <c- c1>// Detect when the current \`ScreenDetailed\` or an attribute thereof changes.</c->
  screenDetails<c- p>.</c->addEventListener<c- p>(</c-><c- t>'currentscreenchange'</c-><c- p>,</c-> onCurrentScreenChange<c- p>);</c->

  <c- c1>// Find the primary screen, show some content fullscreen there.</c->
  <c- a>const</c-> primaryScreen <c- o>=</c-> screenDetails<c- p>.</c->screens<c- p>.</c->find<c- p>(</c->s <c- p>=></c-> s<c- p>.</c->isPrimary<c- p>);</c->
  document<c- p>.</c->documentElement<c- p>.</c->requestFullscreen<c- p>({</c->screen <c- o>:</c-> primaryScreen<c- p>});</c->

  <c- c1>// Find a different screen, fill its available area with a new window.</c->
  <c- a>const</c-> otherScreen <c- o>=</c-> screenDetails<c- p>.</c->screens<c- p>.</c->find<c- p>(</c->s <c- p>=></c-> s <c- o>!==</c-> primaryScreen<c- p>);</c->
  window<c- p>.</c->open<c- p>(</c->url<c- p>,</c-> <c- t>'_blank'</c-><c- p>,</c-> \<c- sb>`left=</c-><c- si>${</c->otherScreen<c- p>.</c->availLeft<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`top=</c-><c- si>${</c->otherScreen<c- p>.</c->availTop<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`width=</c-><c- si>${</c->otherScreen<c- p>.</c->availWidth<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`height=</c-><c- si>${</c->otherScreen<c- p>.</c->availHeight<c- si>}</c-><c- sb>\`);</c->
<c- sb>} else {</c->
<c- sb>  // Detect when an attribute of the legacy \`Screen\` interface changes.</c->
<c- sb>  window.screen.addEventListener('change', onScreenChange);</c->

<c- sb>  // Arrange content within the traditional single-screen environment...</c->
<c- sb>}</c->
</pre>
        </div>
        <h4 class="heading settled" data-level="1.2.1" id="usage-overview-screen-extended"><span class="secno">1.2.1.
            </span><span class="content">检测多屏存在</span><a class="self-link" href="#usage-overview-screen-extended"></a>
        </h4>
        <p>支持多屏体验的核心问题之一，是设备是否有多个屏幕可用于放置内容。这些屏幕可以是设备的内置显示（如笔记本的显示屏）、通过有线连接（如电脑通过 HDMI 连上显示器）、通过其他方式连接（如 Mac 和 iPad 的
            Sidecar 功能），或者通过显示虚拟化实现。<code
                class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended">isExtended</a></code>
            布尔值用于此判断，对安全上下文开放且无需权限提示。</p>
        <pre class="language-js highlight"><c- k>if</c-> <c- p>(</c->screen<c- p>.</c->isExtended<c- p>)</c-> <c- p>{</c->
  <c- c1>// Offer multi-screen controls for the user.</c->
<c- p>}</c->
</pre>
        <h4 class="heading settled" data-level="1.2.2" id="usage-overview-screen-changes"><span class="secno">1.2.2.
            </span><span class="content">检测 <code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen①">Screen</a></code>
                属性变化</span><a class="self-link" href="#usage-overview-screen-changes"></a></h4>
        <p>监听传统 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen②">Screen</a></code>
            属性变化对内容适配很有用，即使是在单屏设备上。此外，监听 <code
                class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended①">isExtended</a></code>
            有助于检测单屏与多屏配置之间的切换。为避免轮询，<code
                class="idl"><a data-link-type="idl" href="#eventdef-screen-change" id="ref-for-eventdef-screen-change">change</a></code>
            事件会在 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen③">Screen</a></code>
            对象上触发：
        </p>
        <pre class="language-js highlight">screen<c- p>.</c->addEventListener<c- p>(</c-><c- t>'change'</c-><c- p>,</c-> e <c- p>=></c-> <c- p>{</c->
  <c- c1>// An attribute of the legacy \`Screen\` interface has changed.</c->
<c- p>});</c->
</pre>
        <h4 class="heading settled" data-level="1.2.3" id="usage-overview-screen-details"><span class="secno">1.2.3.
            </span><span class="content">请求详细屏幕信息</span><a class="self-link" href="#usage-overview-screen-details"></a>
        </h4>
        <p>可通过 <code
                class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails">getScreenDetails()</a></code>
            方法请求设备使用的屏幕详细信息。该方法可能会弹出权限请求。得到的 <code
                class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails①">ScreenDetails</a></code>
            对象允许开发者枚举所有屏幕、检查其属性并监听变化。</p>
        <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
  <c- c1>// Request screen details and process the information immediately.</c->
  <c- a>const</c-> screenDetails <c- o>=</c-> <c- k>await</c-> window<c- p>.</c->getScreenDetails<c- p>();</c->
  processScreenDetails<c- p>(</c->screenDetails<c- p>);</c->

  <c- c1>// Process updated screen details when the set of screens change.</c->
  screenDetails<c- p>.</c->onscreenschange <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
    processScreenDetails<c- p>(</c->screenDetails<c- p>);</c->
  <c- p>};</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->err<c- p>)</c-> <c- p>{</c->

  console<c- p>.</c->error<c- p>(</c->err<c- p>);</c->
  <c- c1>// Handle denied permission and other errors.</c->
<c- p>}</c->

<c- a>function</c-> processScreenDetails<c- p>(</c->screenDetails<c- p>)</c-> <c- p>{</c->
  <c- c1>// Build a UI listing screens, using assumed helpers.</c->
  clearScreenList<c- p>();</c->
  screenDetails<c- p>.</c->screens<c- p>.</c->forEach<c- p>(</c->screen <c- p>=></c-> <c- p>{</c->
    addToScreenList<c- p>({</c->name<c- o>:</c-> screen<c- p>.</c->label<c- p>,</c-> screen<c- o>:</c-> screen<c- p>});</c->
    <c- c1>// Process updated screen details when a particular screen's details change.</c->
    screen<c- p>.</c->onchange <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
      processScreenDetails<c- p>(</c->screenDetails<c- p>);</c->
    <c- p>};</c->
  <c- p>});</c->
  selectCurrentInScreenList<c- p>(</c->screenDetails<c- p>.</c->currentScreen<c- p>);</c->
<c- p>}</c->
</pre>
        <h4 class="heading settled" data-level="1.2.4"
            id="usage-overview-place-fullscreen-content-on-a-specific-screen"><span class="secno">1.2.4. </span><span
                class="content">在特定屏幕上放置全屏内容</span><a class="self-link"
                href="#usage-overview-place-fullscreen-content-on-a-specific-screen"></a></h4>
        <p>一个常见的多屏用例是在特定屏幕上以全屏形式展示部分内容。屏幕可以通过交互选择，也可以基于屏幕属性或先前选择自动选出。一旦选定屏幕，可作为参数传递给 <code
                class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen">requestFullscreen()</a></code>
            方法。</p>
        <pre class="language-js highlight"><c- c1>// Call an assumed helper that returns a selected \`ScreenDetailed\` instance.</c->
<c- a>const</c-> screenDetailed <c- o>=</c-> getScreenForSlideshow<c- p>();</c->

<c- c1>// Request that a particular element be shown fullscreen on the selected screen.</c->
slideshowElement<c- p>.</c->requestFullscreen<c- p>({</c-> screen<c- o>:</c-> screenDetailed <c- p>});</c->
</pre>
        <h4 class="heading settled" data-level="1.2.5" id="usage-overview-place-windows-on-a-specific-screen"><span
                class="secno">1.2.5. </span><span class="content">在特定屏幕上放置窗口</span><a class="self-link"
                href="#usage-overview-place-windows-on-a-specific-screen"></a></h4>
        <p>另一个常见的多屏用例是在特定屏幕上放置窗口。这可以结合 <code
                class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed①">ScreenDetailed</a></code>
            接口提供的坐标，与现有 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open">open()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-moveto" id="ref-for-dom-window-moveto">moveTo()</a></code>
            方法完成。</p>
        <pre class="language-js highlight"><c- a>function</c-> openCenteredWindow<c- p>(</c->url<c- p>,</c-> screenDetailed<c- p>,</c-> w<c- p>,</c-> h<c- p>)</c-> <c- p>{</c->
  <c- c1>// Compute coordinates centering the window on the target screen.</c->
  <c- a>const</c-> l <c- o>=</c-> screenDetailed<c- p>.</c->left <c- o>+</c-> Math<c- p>.</c->round<c- p>(</c->screenDetailed<c- p>.</c->width <c- o>-</c-> w<c- p>)</c-> <c- o>/</c-> <c- mf>2</c-><c- p>;</c->
  <c- a>const</c-> t <c- o>=</c-> screenDetailed<c- p>.</c->top <c- o>+</c-> Math<c- p>.</c->round<c- p>(</c->screenDetailed<c- p>.</c->height <c- o>-</c-> h<c- p>)</c-> <c- o>/</c-> <c- mf>2</c-><c- p>;</c->

  <c- c1>// Open the window with the requested dimensions.</c->
  <c- k>return</c-> window<c- p>.</c->open<c- p>(</c->url<c- p>,</c-> <c- t>'_blank'</c-><c- p>,</c-> \<c- sb>`left=</c-><c- si>${</c->l<c- si>}</c-><c- sb>,top=</c-><c- si>${</c->t<c- si>}</c-><c- sb>,width=</c-><c- si>${</c->w<c- si>}</c-><c- sb>,height=</c-><c- si>${</c->h<c- si>}</c-><c- sb>\`);</c->
<c- sb>}</c->
</pre>
        <h4 class="heading settled" data-level="1.2.6" id="usage-overview-initiate-multi-screen-experiences"><span
                class="secno">1.2.6. </span><span class="content">启动多屏体验</span><a class="self-link"
                href="#usage-overview-initiate-multi-screen-experiences"></a></h4>
        <p>一个常见的多屏需求是通过用户的单次激活启动丰富的多屏体验。具体方案之一，是允许站点可在一次用户操作中，既 <a
                href="#usage-overview-place-fullscreen-content-on-a-specific-screen">§ 1.2.4 在特定屏幕上放置全屏内容</a>，又 <a
                href="#usage-overview-place-windows-on-a-specific-screen">§ 1.2.5
                在特定屏幕上放置窗口</a>。实现方式是在多屏设备上，先针对特定屏幕请求全屏，再在另一屏幕打开弹窗窗口，两步均在一个事件监听器内完成。</p>
        <pre class="language-js highlight">initiateMultiScreenExperienceButton<c- p>.</c->addEventListener<c- p>(</c-><c- t>'click'</c-><c- p>,</c-> <c- k>async</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  <c- c1>// Find the primary screen, show some content fullscreen there.</c->
  <c- a>const</c-> primaryScreen <c- o>=</c-> screenDetails<c- p>.</c->screens<c- p>.</c->find<c- p>(</c->s <c- p>=></c-> s<c- p>.</c->isPrimary<c- p>);</c->
  <c- k>await</c-> document<c- p>.</c->documentElement<c- p>.</c->requestFullscreen<c- p>({</c->screen <c- o>:</c-> primaryScreen<c- p>});</c->

  <c- c1>// Find a different screen, fill its available area with a new window.</c->
  <c- a>const</c-> otherScreen <c- o>=</c-> screenDetails<c- p>.</c->screens<c- p>.</c->find<c- p>(</c->s <c- p>=></c-> s <c- o>!==</c-> primaryScreen<c- p>);</c->
  window<c- p>.</c->open<c- p>(</c->url<c- p>,</c-> <c- t>'_blank'</c-><c- p>,</c-> \<c- sb>`left=</c-><c- si>${</c->otherScreen<c- p>.</c->availLeft<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`top=</c-><c- si>${</c->otherScreen<c- p>.</c->availTop<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`width=</c-><c- si>${</c->otherScreen<c- p>.</c->availWidth<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`height=</c-><c- si>${</c->otherScreen<c- p>.</c->availHeight<c- si>}</c-><c- sb>\`);</c->
<c- sb>});</c->
</pre>
        <h2 class="heading settled" data-level="2" id="concepts"><span class="secno">2. </span><span
                class="content">概念</span><a class="self-link" href="#concepts"></a></h2>
        <p>本规范中的概念基于 <a href="https://www.w3.org/TR/cssom-view-1/">CSSOM-View-1 工作草案</a>、<a
                href="https://drafts.csswg.org/cssom-view/">CSSOM-View-1 编辑者草案</a>、<a data-link-type="biblio"
                href="#biblio-html" title="HTML Standard">[HTML]</a>，以及 <a data-link-type="biblio"
                href="#biblio-fullscreen" title="Fullscreen API Standard">[Fullscreen]</a>。</p>
        <h3 class="heading settled" data-level="2.1" id="concept-screen"><span class="secno">2.1. </span><span
                class="content">屏幕</span><a class="self-link" href="#concept-screen"></a></h3>
        <p>承载用户代理的设备拥有单个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="screen">screen</dfn> 或多个 <a
                data-link-type="dfn" href="#screen" id="ref-for-screen④">screens</a>，用于显示视觉内容。<a data-link-type="dfn"
                href="#screen" id="ref-for-screen⑤">screens</a> 的集合可能随用户代理运行期间设备硬件或软件配置的变更而变化。</p>
        <p class="note" role="note"><span class="marker">注：</span> 屏幕配置变化的一些基本例子包括：通过 HDMI 线把电视或投影仪接到笔记本电脑，合上笔记本盖从而关闭内置
            LCD 屏，更改接入 LCD 显示器的分辨率等。</p>
        <div>
            <p>一个 <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥">screen</a> 拥有 <dfn class="dfn-paneled"
                    data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-color-depth">色深</dfn>，即屏幕像素的 <a
                    data-link-type="dfn" href="#pixel-color-depth" id="ref-for-pixel-color-depth">色深</a>。</p>
            <div class="algorithm" data-algorithm="device pixel ratio">
                <p>一个 <a data-link-type="dfn" href="#screen" id="ref-for-screen⑦">screen</a> 拥有 <dfn class="dfn-paneled"
                        data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                        id="screen-device-pixel-ratio">设备像素比</dfn>，类似 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>
                    的
                    <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-devicepixelratio" id="ref-for-dom-window-devicepixelratio">devicePixelRatio</a></code>
                    ，其值计算方式如下：
                </p>
                <ol>
                    <li data-md>
                        <p>令 <var>CSS pixel size</var> 为 <a data-link-type="dfn"
                                href="https://drafts.csswg.org/css-values-4/#px" id="ref-for-px">CSS 像素</a> 的大小。</p>
                    <li data-md>
                        <p>令 <var>device pixel size</var> 为 <a data-link-type="dfn" href="#screen-pixels"
                                id="ref-for-screen-pixels">像素</a> 的垂直尺寸。</p>
                    <li data-md>
                        <p>返回 <var>CSS pixel size</var> 除以 <var>device pixel size</var> 的结果。</p>
                </ol>
            </div>
            <p>一个 <a data-link-type="dfn" href="#screen" id="ref-for-screen⑧">screen</a> 拥有 <dfn class="dfn-paneled"
                    data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-orientation">方向</dfn>，定义见 <a
                    data-link-type="biblio" href="#biblio-screen-orientation"
                    title="Screen Orientation">[screen-orientation]</a>。</p>
            <p>一个 <a data-link-type="dfn" href="#screen" id="ref-for-screen⑨">screen</a> 拥有 <dfn class="dfn-paneled"
                    data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                    id="screen-label">标签</dfn>，即用于帮助用户区分识别屏幕的有意义描述字符串。</p>
            <p class="note" role="note"><span class="marker">注：</span> <a data-link-type="dfn" href="#screen-label"
                    id="ref-for-screen-label">标签</a> 可以是用户代理选择的任意字符串。它可能描述屏幕与设备的关系，如 <code>"internal"</code> 或
                <code>"external"</code>；也可能包含分辨率信息，如 <code>"640×480"</code>；还可能包含硬件型号，如
                <code>"Acme Telletube 1000x"</code>（取自 <a
                    href="https://en.wikipedia.org/wiki/Extended_Display_Identification_Data">VESA E-EDID</a> 数据）、区分编号如
                <code>"screen 1"</code> 与
                <code>"screen 2"</code>，甚至全部兼有。如果底层显示详情未知，或用户代理选择隐藏这些信息，也可为空串。应用不能假定标签一定包含设备类型、型号、尺寸、密度等特定信息。
            </p>
            <p><strong class="advisement"> 虽然许多屏幕属性都可能被用于 <a data-link-type="dfn"
                        href="https://www.w3.org/TR/fingerprinting-guidance/#dfn-active-fingerprinting"
                        id="ref-for-dfn-active-fingerprinting">主动指纹识别</a>，但 <a data-link-type="dfn" href="#screen-label"
                        id="ref-for-screen-label①">标签</a> 所用字符串尤其应谨慎，尽量降低唯一性。例如，不应将设备序列号包含其中。</strong></p>
            <p class="issue" id="issue-702b01cb"><a class="self-link" href="#issue-702b01cb"></a> <a
                    data-link-type="dfn" href="#screen-device-pixel-ratio"
                    id="ref-for-screen-device-pixel-ratio">设备像素比</a> 是否应计入 <a
                    href="https://drafts.csswg.org/cssom-view-1/#page-zoom">页面缩放</a>？</p>
        </div>
        <h3 class="heading settled" data-level="2.2" id="concept-screen-pixel"><span class="secno">2.2. </span><span
                class="content">屏幕像素</span><a class="self-link" href="#concept-screen-pixel"></a></h3>
        <div>
            <p>一个<a data-link-type="dfn" href="#screen" id="ref-for-screen①⓪">屏幕</a>具有<dfn class="dfn-paneled"
                    data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                    id="screen-pixels">像素</dfn>，像素是屏幕中可以直接编程的最小组件。每个<a data-link-type="dfn" href="#screen-pixels"
                    id="ref-for-screen-pixels①">像素</a>显示一种颜色。</p>
            <p class="note" role="note"><span
                    class="marker">注：</span>在液晶显示屏（LCD）上，每个像素由三个分量组成，每个分量为（红、绿、蓝）可变强度的光。关于像素分量（亚像素渲染）的讨论不在本规范范围内。</p>
            <p class="note" role="note"><span
                    class="marker">注：</span>有些屏幕可以被配置为以与物理硬件固有排列不同的分辨率进行内容显示；例如，硬件分辨率为2560×1440的显示器可被设备设置为1920×1080的显示分辨率。
            </p>
            <p>一个<a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels②">像素</a>具有<dfn
                    class="dfn-paneled" data-dfn-for="pixel" data-dfn-type="dfn" data-noexport
                    id="pixel-color-depth">色深</dfn>，即用于表示它能显示颜色的位数。</p>
            <p class="note" role="note"><span class="marker">注：</span>一些流行的渲染系统将<a data-link-type="dfn"
                    href="#screen-pixels" id="ref-for-screen-pixels③">像素</a>建模为具有24位<a data-link-type="dfn"
                    href="#pixel-color-depth" id="ref-for-pixel-color-depth①">色深</a>。这3组8位分别表示LCD<a data-link-type="dfn"
                    href="#screen-pixels" id="ref-for-screen-pixels④">像素</a>的红、绿、蓝亚像素的强度。</p>
        </div>
        <h3 class="heading settled" data-level="2.3" id="concept-screen-area"><span class="secno">2.3. </span><span
                class="content">屏幕区域</span><a class="self-link" href="#concept-screen-area"></a></h3>
        <div>
            <p>一个<a data-link-type="dfn" href="#screen" id="ref-for-screen①①">屏幕</a>具有<dfn class="dfn-paneled"
                    data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                    id="screen-screen-area">屏幕区域</dfn>，这是一个二维矩形格网，由<a data-link-type="dfn" href="#screen-pixels"
                    id="ref-for-screen-pixels⑤">像素</a>组成，用于向用户显示来自操作系统和客户端应用程序的视觉内容。这对应于特定<a data-link-type="dfn"
                    href="#screen" id="ref-for-screen①②">屏幕</a>的<a data-link-type="dfn"
                    href="https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-area"
                    id="ref-for-web-exposed-screen-area">Web公开屏幕区域</a>。</p>
            <p>一个<a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area">屏幕区域</a>具有<dfn
                    class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                    id="screen-width">宽度</dfn>，即矩形格网水平方向上的<a data-link-type="dfn" href="#screen-pixels"
                    id="ref-for-screen-pixels⑥">像素</a>数量。</p>
            <p>一个<a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area②">屏幕区域</a>具有<dfn
                    class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                    id="screen-height">高度</dfn>，即矩形格网竖直方向上的<a data-link-type="dfn" href="#screen-pixels"
                    id="ref-for-screen-pixels⑦">像素</a>数量。</p>
        </div>
        <p class="note" role="note"><span class="marker">注：</span>格网大小通常表示为&lt;<a data-link-type="dfn"
                href="#screen-width" id="ref-for-screen-width">宽度</a>>×&lt;<a data-link-type="dfn" href="#screen-height"
                id="ref-for-screen-height">高度</a>>。例如，1920×1080的屏幕区域即宽度为1920像素、高度为1080像素的格网。</p>
        <p class="note" role="note"><span class="marker">注：</span>如<a
                href="https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-information"><cite>CSSOM View</cite>
                § 2.3 Web公开屏幕信息</a> 所述，UA 可选择隐藏显示设备屏幕的信息，以保护用户隐私。在此情况下，<a data-link-type="dfn"
                href="#screen-screen-area" id="ref-for-screen-screen-area④">屏幕区域</a>可等同于<a
                href="https://drafts.csswg.org/css2/#viewport">视口</a>。</p>
        <h3 class="heading settled" data-level="2.4" id="concept-available-screen-area"><span class="secno">2.4.
            </span><span class="content">可用屏幕区域</span><a class="self-link" href="#concept-available-screen-area"></a>
        </h3>
        <div>
            <p>一个<a data-link-type="dfn" href="#screen" id="ref-for-screen①③">屏幕</a>具有<dfn class="dfn-paneled"
                    data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                    id="screen-available-screen-area">可用屏幕区域</dfn>，是<a data-link-type="dfn" href="#screen-screen-area"
                    id="ref-for-screen-screen-area⑤">屏幕区域</a>的矩形子集，操作系统允许Web应用窗口放置在其中。该矩形的边缘与<a data-link-type="dfn"
                    href="#screen-screen-area" id="ref-for-screen-screen-area⑥">屏幕区域</a>边平行。此区域不包括任何被操作系统保留用于自身 UI
                元素（如任务栏、菜单栏）的<a data-link-type="dfn" href="#screen-screen-area"
                    id="ref-for-screen-screen-area⑦">屏幕区域</a>部分。等价于特定<a data-link-type="dfn" href="#screen"
                    id="ref-for-screen①④">屏幕</a>的<a data-link-type="dfn"
                    href="https://drafts.csswg.org/cssom-view-1/#web-exposed-available-screen-area"
                    id="ref-for-web-exposed-available-screen-area">Web公开可用屏幕区域</a>。</p>
            <p>一个<a data-link-type="dfn" href="#screen" id="ref-for-screen①⑤">屏幕</a>的<dfn class="dfn-paneled"
                    data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-available-width">可用宽度</dfn>，即<a
                    data-link-type="dfn" href="#screen-available-screen-area"
                    id="ref-for-screen-available-screen-area">可用屏幕区域</a>矩形格网水平方向上的<a data-link-type="dfn"
                    href="#screen-pixels" id="ref-for-screen-pixels⑧">像素</a>数量。</p>
            <p>一个<a data-link-type="dfn" href="#screen" id="ref-for-screen①⑥">屏幕</a>的<dfn class="dfn-paneled"
                    data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-available-height">可用高度</dfn>，即<a
                    data-link-type="dfn" href="#screen-available-screen-area"
                    id="ref-for-screen-available-screen-area①">可用屏幕区域</a>矩形格网竖直方向上的<a data-link-type="dfn"
                    href="#screen-pixels" id="ref-for-screen-pixels⑨">像素</a>数量。</p>
        </div>
        <h3 class="heading settled" data-level="2.5" id="concept-virtual-screen-arrangement"><span class="secno">2.5.
            </span><span class="content">虚拟屏幕排列</span><a class="self-link"
                href="#concept-virtual-screen-arrangement"></a></h3>
        <p>设备有一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="virtual-screen-arrangement">虚拟屏幕排列</dfn>，用于定义组成设备整体视觉环境的<a data-link-type="dfn" href="#screen"
                id="ref-for-screen①⑦">屏幕</a>的相对位置。排列通常在一个二维平面上组成，向右和向下 (x, y) 坐标分别递增，原点为<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="multi-screen-origin">多屏原点</dfn>。<a data-link-type="dfn"
                href="#multi-screen-origin" id="ref-for-multi-screen-origin">多屏原点</a>是实现自定义的点，定义了<a data-link-type="dfn"
                href="#virtual-screen-arrangement" id="ref-for-virtual-screen-arrangement">虚拟屏幕排列</a>的(0, 0)坐标。</p>
        <p>常见做法是将<a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin①">多屏原点</a>设置在<a
                data-link-type="dfn" href="#primary" id="ref-for-primary">主</a><a data-link-type="dfn" href="#screen"
                id="ref-for-screen①⑧">屏幕</a>的左上角，但它也可以是<a data-link-type="dfn" href="#virtual-screen-arrangement"
                id="ref-for-virtual-screen-arrangement①">虚拟屏幕排列</a>内的任意点。每个<a data-link-type="dfn" href="#screen"
                id="ref-for-screen①⑨">屏幕</a>的<a data-link-type="dfn" href="#screen-screen-area"
                id="ref-for-screen-screen-area⑧">屏幕区域</a>都是对<a data-link-type="dfn" href="#virtual-screen-arrangement"
                id="ref-for-virtual-screen-arrangement②">虚拟屏幕排列</a>矩形子集的可视。</p>
        <p>下图展示了多<a data-link-type="dfn" href="#screen" id="ref-for-screen②⓪">屏幕</a>在<a data-link-type="dfn"
                href="#virtual-screen-arrangement" id="ref-for-virtual-screen-arrangement③">虚拟屏幕排列</a>中的一些排列示例，以及一些可能的<a
                data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin②">多屏原点</a>：</p>
        <p><img alt="Diagram showing various examples of screens and multi-screen origins"
                src="https://www.w3.org/TR/window-management/multi_screen_origin.svg"></p>
        <p class="note" role="note"><span class="marker">注：</span><a
                href="https://www.w3.org/community/webscreens/">Second Screen Community Group</a> 的 <a
                href="https://webscreens.github.io/form-factors/">Form Factors Explained</a> 草案报告探讨了相关术语和概念模型。</p>
        <h3 class="heading settled" data-level="2.6" id="concept-screen-position"><span class="secno">2.6. </span><span
                class="content">屏幕位置</span><a class="self-link" href="#concept-screen-position"></a></h3>
        <p>一个<a data-link-type="dfn" href="#screen" id="ref-for-screen②①">屏幕</a>具有<dfn class="dfn-paneled"
                data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-screen-position">屏幕位置</dfn>，即其<a
                data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area⑨">屏幕区域</a>在<a
                data-link-type="dfn" href="#virtual-screen-arrangement"
                id="ref-for-virtual-screen-arrangement④">虚拟屏幕排列</a>中相对于<a data-link-type="dfn"
                href="#multi-screen-origin" id="ref-for-multi-screen-origin③">多屏原点</a>的(x,
            y)坐标。坐标可为负数，通常写作(<var>x</var>, <var>y</var>)。</p>
        <h3 class="heading settled" data-level="2.7" id="concept-available-screen-position"><span class="secno">2.7.
            </span><span class="content">可用屏幕位置</span><a class="self-link"
                href="#concept-available-screen-position"></a></h3>
        <p>一个<a data-link-type="dfn" href="#screen" id="ref-for-screen②②">屏幕</a>具有<dfn class="dfn-paneled"
                data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                id="screen-available-screen-position">可用屏幕位置</dfn>，即其<a data-link-type="dfn"
                href="#screen-available-screen-area" id="ref-for-screen-available-screen-area②">可用屏幕区域</a>在<a
                data-link-type="dfn" href="#virtual-screen-arrangement"
                id="ref-for-virtual-screen-arrangement⑤">虚拟屏幕排列</a>中相对于<a data-link-type="dfn"
                href="#multi-screen-origin" id="ref-for-multi-screen-origin④">多屏原点</a>的(x,
            y)坐标。坐标可为负数，通常写作(<var>x</var>, <var>y</var>)。</p>
        <h3 class="heading settled" data-level="2.8" id="concept-primary-screen"><span class="secno">2.8. </span><span
                class="content">主屏幕</span><a class="self-link" href="#concept-primary-screen"></a></h3>
        <p>承载用户代理的设备恰好有一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary">主</dfn><a
                data-link-type="dfn" href="#screen" id="ref-for-screen②③">屏幕</a>。其它所有<a data-link-type="dfn"
                href="#screen" id="ref-for-screen②④">屏幕</a>皆为<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="secondary">副</dfn>。</p>
        <p class="note" role="note"><span class="marker">注：</span>主屏幕通常承载操作系统的任务管理界面，如 Windows 任务栏或 macOS Dock。</p>
        <p>一个<a data-link-type="dfn" href="#screen" id="ref-for-screen②⑤">屏幕</a>被指定为<a data-link-type="dfn"
                href="#primary" id="ref-for-primary①">主</a>或<a data-link-type="dfn" href="#secondary"
                id="ref-for-secondary">副</a>的身份可能会在用户代理运行时发生变化。</p>
        <p class="note" role="note"><span class="marker">注：</span>大多数操作系统允许用户通过管理界面（如 Windows 控制面板和 macOS 偏好设置）选择主屏幕。
        </p>
        <h3 class="heading settled" data-level="2.9" id="concept-internal-screen"><span class="secno">2.9. </span><span
                class="content">内置屏幕</span><a class="self-link" href="#concept-internal-screen"></a></h3>
        <p>每个<a data-link-type="dfn" href="#screen" id="ref-for-screen②⑥">屏幕</a>可以被指定为<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="internal">内置</dfn>或<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="external">外接</dfn>。</p>
        <p><a data-link-type="dfn" href="#external" id="ref-for-external">外接</a>屏幕是由提供其视觉输出的设备单独制造的。一块<a
                data-link-type="dfn" href="#external" id="ref-for-external①">外接</a>屏幕可以从一个设备上断开连接再连接到另一设备上，这很常见。</p>
        <p class="note" role="note"><span class="marker">注：</span>例如，一台台式机可能通过HDMI线将其视觉输出显示在<a data-link-type="dfn"
                href="#external" id="ref-for-external②">外接</a>屏上。HDMI线可随时插拔，计算机会随硬件变更调整视觉环境。</p>
        <p><a data-link-type="dfn" href="#internal" id="ref-for-internal">内置</a>屏幕通常在设备生产时就被装配上。<a data-link-type="dfn"
                href="#internal" id="ref-for-internal①">内置</a>屏不是给用户拆卸用的。但<a data-link-type="dfn" href="#internal"
                id="ref-for-internal②">内置</a><a data-link-type="dfn" href="#screen" id="ref-for-screen②⑦">屏幕</a>
            依然可以在用户代理运行时被启用或禁用。</p>
        <p class="note" role="note"><span class="marker">注：</span>例如，笔记本合盖时会禁用<a data-link-type="dfn" href="#internal"
                id="ref-for-internal③">内置</a>屏幕及输入设备，用户可以通过<a data-link-type="dfn" href="#external"
                id="ref-for-external③">外接</a>屏幕和输入设备继续使用。关闭时禁用的<a data-link-type="dfn" href="#internal"
                id="ref-for-internal④">内置</a>屏幕在合盖期间不会作为设备使用的<a data-link-type="dfn" href="#screen"
                id="ref-for-screen②⑧">屏幕</a>上报。</p>
        <h3 class="heading settled" data-level="2.10" id="concept-current-screen"><span class="secno">2.10. </span><span
                class="content">当前屏幕</span><a class="self-link" href="#concept-current-screen"></a></h3>
        <p>在<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code>上下文中运行的脚本可以访问<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-screen" id="ref-for-dom-window-screen">screen</a></code>属性。此<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen②⑨">Screen</a></code>对象反映了<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="current-screen">当前屏幕</dfn>的属性，即当前在该屏幕上展示窗口的<a
                data-link-type="dfn" href="#screen" id="ref-for-screen③⓪">屏幕</a>。</p>
        <p class="note" role="note"><span
                class="marker">注：</span>在许多操作系统下，窗口可能横跨不同属性的多个屏幕，也可能处于“隐藏”状态不显示在任何屏幕上。操作系统和UA通常为给定<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code>确定一个标准屏幕，比如与窗口交集面积最大者。
        </p>
        <h3 class="heading settled" data-level="2.11" id="concept-observable-screen-properties"><span
                class="secno">2.11. </span><span class="content">可观察屏幕属性</span><a class="self-link"
                href="#concept-observable-screen-properties"></a></h3>
        <p><a data-link-type="dfn" href="#screen" id="ref-for-screen③①">屏幕</a>的<dfn class="dfn-paneled"
                data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                id="screen-basic-observable-properties">基础可观察属性</dfn>包括：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area①⓪">屏幕区域</a>的<a
                        data-link-type="dfn" href="#screen-width" id="ref-for-screen-width②">宽度</a>和<a
                        data-link-type="dfn" href="#screen-height" id="ref-for-screen-height②">高度</a></p>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen-available-screen-area"
                        id="ref-for-screen-available-screen-area③">可用屏幕区域</a>的<a data-link-type="dfn"
                        href="#screen-available-width" id="ref-for-screen-available-width">可用宽度</a>和<a
                        data-link-type="dfn" href="#screen-available-height"
                        id="ref-for-screen-available-height">可用高度</a></p>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen-color-depth" id="ref-for-screen-color-depth">色深</a>
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen-orientation" id="ref-for-screen-orientation">方向</a>
                </p>
        </ul>
        <p><a data-link-type="dfn" href="#screen" id="ref-for-screen③②">屏幕</a>的<dfn class="dfn-paneled"
                data-dfn-for="screen" data-dfn-type="dfn" data-noexport
                id="screen-advanced-observable-properties">进阶可观察属性</dfn>包括：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position">屏幕位置</a>
                </p>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen-available-screen-position"
                        id="ref-for-screen-available-screen-position">可用屏幕位置</a></p>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen-device-pixel-ratio"
                        id="ref-for-screen-device-pixel-ratio①">设备像素比</a></p>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen-label" id="ref-for-screen-label②">标签</a></p>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen" id="ref-for-screen③③">屏幕</a>作为<a data-link-type="dfn"
                        href="#primary" id="ref-for-primary②">主</a>或<a data-link-type="dfn" href="#secondary"
                        id="ref-for-secondary①">副</a>的身份</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#screen" id="ref-for-screen③④">屏幕</a>作为<a data-link-type="dfn"
                        href="#internal" id="ref-for-internal⑤">内置</a>或<a data-link-type="dfn" href="#external"
                        id="ref-for-external④">外接</a>的身份</p>
        </ul>
        <h2 class="heading settled" data-level="3" id="api"><span class="secno">3. </span><span
                class="content">API</span><a class="self-link" href="#api"></a></h2>
        <h3 class="heading settled" data-level="3.1" id="api-extensions-to-screen"><span class="secno">3.1. </span><span
                class="content">对<code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen③⑤">Screen</a></code>
                接口的扩展</span><a class="self-link" href="#api-extensions-to-screen"></a></h3>
        <p><a data-link-type="biblio" href="#biblio-cssom-view-1" title="CSSOM View Module">CSSOM View 模块</a>
            规范定义了 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen③⑥">Screen</a></code>
            接口，本规范对此进行扩展：</p>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md><var>window</var> . <var>screen</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended②">isExtended</a></code>
                <dd data-md>
                    <p>如果设备的视觉输出延伸到多个屏幕，则返回 <code>true</code>。</p>
                <dt data-md><var>window</var> . <var>screen</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screen-onchange" id="ref-for-dom-screen-onchange">onchange</a></code>
                <dd data-md>
                    <p>当窗口的屏幕或其属性发生变化时触发。</p>
            </dl>
        </div>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen③⑦"><c- g>Screen</c-></a> /* : EventTarget */ {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>]
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended③"><c- g>isExtended</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screen-onchange" id="ref-for-dom-screen-onchange①"><c- g>onchange</c-></a>;
};
</pre>
        <p class="issue" id="issue-288178db"><a class="self-link" href="#issue-288178db"></a> 让 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen③⑧">Screen</a></code>
            继承自 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget">EventTarget</a></code>
            ，详见 <a href="https://www.w3.org/TR/cssom-view-1/#the-screen-interface"><cite>CSSOM View</cite> § 4.3 The
                Screen Interface</a>。</p>
        <h4 class="heading settled" data-level="3.1.1" id="api-screen-isExtended-attribute"><span class="secno">3.1.1.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended④">isExtended</a></code>
                属性</span><a class="self-link" href="#api-screen-isExtended-attribute"></a></h4>
        <div class="algorithm" data-algorithm="isExtended" data-algorithm-for="Screen">
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="Screen" data-dfn-type="attribute" data-export
                    id="dom-screen-isextended"><code>isExtended</code></dfn> getter 步骤如下：</p>
            <ol>
                <li data-md>
                    <p>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this">this</a>的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global">相关全局对象</a>的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window">相关文档</a>无<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                            id="ref-for-allowed-to-use">权限使用</a>名为"<code
                            class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-window-management" id="ref-for-dom-permissionpolicy-window-management">window-management</a></code>"的<a
                            data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                            id="ref-for-policy-controlled-feature">策略受控特性</a>，返回 false 并终止步骤。</p>
                <li data-md>
                    <p>如设备有一个以上<a data-link-type="dfn" href="#screen" id="ref-for-screen③⑨">屏幕</a>，返回 true，否则返回 false。
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="3.1.2" id="api-screen-onchange-attribute"><span class="secno">3.1.2.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-screen-onchange" id="ref-for-dom-screen-onchange②">onchange</a></code>
                属性</span><a class="self-link" href="#api-screen-onchange-attribute"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="Screen" data-dfn-type="attribute" data-export
                id="dom-screen-onchange"><code>onchange</code></dfn> 属性是<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
                id="ref-for-event-handler-idl-attributes">事件处理IDL属性</a>，其<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                id="ref-for-event-handler-event-type">事件处理类型</a>为<code
                class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screen-change" id="ref-for-eventdef-screen-change①">change</a></code>。
        </p>
        <p>当<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window④">Window</a></code>
            <var>window</var>的<a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen">当前屏幕</a>的任何<a
                data-link-type="dfn" href="#screen-basic-observable-properties"
                id="ref-for-screen-basic-observable-properties">基础可观察属性</a>发生变化时，在<var>window</var>的<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                id="ref-for-concept-relevant-global①">相关全局对象</a>上使用<a data-link-type="dfn"
                href="#window-placement-task-source" id="ref-for-window-placement-task-source">window placement task
                source</a><a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                id="ref-for-queue-a-global-task">排队一个全局任务</a>，<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-event-fire"
                id="ref-for-concept-event-fire">触发一个事件</a>，事件名为<dfn class="dfn-paneled idl-code" data-dfn-for="Screen"
                data-dfn-type="event" data-export
                id="eventdef-screen-change"><code>change</code></dfn>，目标是由<var>window</var>的<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen④⓪">Screen</a></code>属性引用的对象。
        </p>
        <h3 class="heading settled" data-level="3.2" id="api-extensions-to-window"><span class="secno">3.2. </span><span
                class="content">对 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑤">Window</a></code>
                接口的扩展</span><a class="self-link" href="#api-extensions-to-window"></a></h3>
        <p><a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> 标准定义了
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑥">Window</a></code>
            接口，本规范对此进行扩展：
        </p>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md><var>window</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails①">getScreenDetails()</a></code>
                <dd data-md>
                    <p>返回一个 promise，当其完成时会获得一个关于设备屏幕信息的 <code
                            class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails②">ScreenDetails</a></code>
                        对象。如果权限被拒，promise 将被拒绝。</p>
            </dl>
        </div>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑦"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#screendetails" id="ref-for-screendetails③"><c- n>ScreenDetails</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails②"><c- g>getScreenDetails</c-></a>();
};
</pre>
        <h4 class="heading settled" data-level="3.2.1" id="api-window-getScreenDetails-method"><span
                class="secno">3.2.1. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails③">getScreenDetails()</a></code>
                方法</span><a class="self-link" href="#api-window-getScreenDetails-method"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails④">getScreenDetails()</a></code>
            方法是异步完成的，其工作会被排入 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="window-placement-task-source">window placement task source</dfn>。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑧">Window</a></code>
            的实例创建时包含名为 <dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="attribute" data-export
                id="dom-window-screendetails-slot"><code>[[screenDetails]]</code></dfn> 的 <a data-link-type="dfn"
                href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots"
                id="ref-for-sec-object-internal-methods-and-internal-slots">内部槽位</a>，初始值为 <code>undefined</code>。</p>
        <div class="algorithm" data-algorithm="getScreenDetails()" data-algorithm-for="Window">
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="method" data-export
                    id="dom-window-getscreendetails"><code>getScreenDetails()</code></dfn> 方法步骤如下：</p>
            <ol>
                <li data-md>
                    <p>令 <var>promise</var> 为 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">新建的
                            promise</a>。</p>
                <li data-md>
                    <p>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①">this</a>的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global②">相关全局对象</a>的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-concept-document-window①">相关文档</a>无<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                            id="ref-for-allowed-to-use①">权限使用</a>名为"<code
                            class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-window-management" id="ref-for-dom-permissionpolicy-window-management①">window-management</a></code>"的<a
                            data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                            id="ref-for-policy-controlled-feature①">策略受控特性</a>，则用 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">"NotAllowedError"</a></code>
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">拒绝</a>
                        <var>promise</var>，并终止步骤。
                    </p>
                <li data-md>
                    <p>如下步骤<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel">并行</a>执行：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>permissionState</var> 为<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use"
                                    id="ref-for-dfn-request-permission-to-use">请求使用权限</a> "<code
                                    class="idl"><a data-link-type="idl" href="#permissiondef-window-management" id="ref-for-permissiondef-window-management">window-management</a></code>"
                                的结果。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                    id="ref-for-queue-a-global-task①">排队全局任务</a>到<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global③">this 的相关全局对象</a>，用 <a data-link-type="dfn"
                                    href="#window-placement-task-source"
                                    id="ref-for-window-placement-task-source①">window placement task source</a> 执行以下步骤：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>permissionState</var> 为 "<code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied">denied</a></code>"，
                                        则用 <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">"NotAllowedError"</a></code>
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject①">拒绝</a> <var>promise</var>，并终止步骤。
                                    </p>
                                <li data-md>
                                    <p>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this③">this</a>.<code
                                            class="idl"><a data-link-type="idl" href="#dom-window-screendetails-slot" id="ref-for-dom-window-screendetails-slot">[[screenDetails]]</a></code>
                                        为 <code>undefined</code>，则设置 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this④">this</a>.<code
                                            class="idl"><a data-link-type="idl" href="#dom-window-screendetails-slot" id="ref-for-dom-window-screendetails-slot①">[[screenDetails]]</a></code>
                                        为新的 <code
                                            class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails④">ScreenDetails</a></code>
                                        对象。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve">解决</a> <var>promise</var>，值为 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this⑤">this</a>.<code
                                            class="idl"><a data-link-type="idl" href="#dom-window-screendetails-slot" id="ref-for-dom-window-screendetails-slot②">[[screenDetails]]</a></code>。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="3.2.2" id="api-window-attribute-and-method-definition-changes"><span
                class="secno">3.2.2. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑨">Window</a></code>
                属性和方法定义变更</span><a class="self-link" href="#api-window-attribute-and-method-definition-changes"></a>
        </h4>
        <p>如下 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⓪">Window</a></code>
            属性和方法定义被更新为返回和解释相对于<a data-link-type="dfn" href="#multi-screen-origin"
                id="ref-for-multi-screen-origin⑤">多屏原点</a>的值：</p>
        <ul>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-screenx" id="ref-for-dom-window-screenx">screenX</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screenleft" id="ref-for-dom-window-screenleft">screenLeft</a></code>
                    属性必须返回客户区窗口左边相对于<a data-link-type="dfn" href="#multi-screen-origin"
                        id="ref-for-multi-screen-origin⑥">多屏原点</a>的 x 坐标（单位为<a data-link-type="dfn"
                        href="https://drafts.csswg.org/css-values-4/#px" id="ref-for-px①">CSS 像素</a>），如无返回0。</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-screeny" id="ref-for-dom-window-screeny">screenY</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screentop" id="ref-for-dom-window-screentop">screenTop</a></code>
                    属性必须返回客户区窗口顶部相对于<a data-link-type="dfn" href="#multi-screen-origin"
                        id="ref-for-multi-screen-origin⑦">多屏原点</a>的 y 坐标（单位为<a data-link-type="dfn"
                        href="https://drafts.csswg.org/css-values-4/#px" id="ref-for-px②">CSS 像素</a>），如无返回0。</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-moveto" id="ref-for-dom-window-moveto①">moveTo()</a></code>
                    步骤应将 <code>x</code> 和 <code>y</code> 形参视为相对于<a data-link-type="dfn" href="#multi-screen-origin"
                        id="ref-for-multi-screen-origin⑧">多屏原点</a>指定。</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open①">open()</a></code>
                    步骤应将 <code>"left"</code> 和 <code>"top"</code> 功能值视为相对于<a data-link-type="dfn"
                        href="#multi-screen-origin" id="ref-for-multi-screen-origin⑨">多屏原点</a>指定。</p>
        </ul>
        <h4 class="heading settled" data-level="3.2.3" id="api-window-open-method-definition-changes"><span
                class="secno">3.2.3. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open②">Window.open()</a></code>
                方法定义变更</span><a class="self-link" href="#api-window-open-method-definition-changes"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①①">Window</a></code>
            实例创建时有个名为 <dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="attribute" data-export
                id="dom-window-targetscreenfullscreen-slot"><code>[[targetScreenFullscreen]]</code></dfn> 的<a
                data-link-type="dfn" href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots"
                id="ref-for-sec-object-internal-methods-and-internal-slots①">内部槽</a>，该槽在数据模型上等价于<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/#last-activation-timestamp"
                id="ref-for-last-activation-timestamp">上次激活时间戳</a>。其对应于 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp">DOMHighResTimeStamp</a></code>
            类型值，除了两种特殊情况：正无穷表示该窗口从未被激活，负无穷表示用户激活门控 API（见 <a
                href="https://html.spec.whatwg.org/multipage/interaction.html#user-activation-gated-apis"><cite>HTML</cite>
                § 6.4.3 用户激活门控 API</a>）<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation"
                id="ref-for-consume-user-activation">消耗</a>了该窗口的上次激活。初始值为正无穷。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open③">Window.open()</a></code>
            方法及其中调用方法的步骤被更新，可选择性地：</p>
        <ol>
            <li data-md>
                <p>当<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"
                        id="ref-for-transient-activation">瞬时激活</a>状态要求被放宽（即 <a data-link-type="dfn"
                        href="https://www.w3.org/TR/hr-time-3/#dfn-current-high-resolution-time"
                        id="ref-for-dfn-current-high-resolution-time">当前高精度时间</a> 大于等于 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                        id="ref-for-concept-relevant-global④">相关全局对象</a>的 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>.<code
                        class="idl"><a data-link-type="idl" href="#dom-window-targetscreenfullscreen-slot" id="ref-for-dom-window-targetscreenfullscreen-slot">[[targetScreenFullscreen]]</a></code>
                    且小于 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-this⑦">this</a>.<code
                        class="idl"><a data-link-type="idl" href="#dom-window-targetscreenfullscreen-slot" id="ref-for-dom-window-targetscreenfullscreen-slot①">[[targetScreenFullscreen]]</a></code>
                    加 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/#transient-activation-duration"
                        id="ref-for-transient-activation-duration">瞬时激活时间</a>时。</p>
            <li data-md>
                <p>在<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation"
                        id="ref-for-consume-user-activation①">消耗用户激活</a>步骤后，立即将 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>.<code
                        class="idl"><a data-link-type="idl" href="#dom-window-targetscreenfullscreen-slot" id="ref-for-dom-window-targetscreenfullscreen-slot②">[[targetScreenFullscreen]]</a></code>
                    设为负无穷。</p>
        </ol>
        <h3 class="heading settled" data-level="3.3" id="api-screendetails-interface"><span class="secno">3.3.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails⑤">ScreenDetails</a></code>
                接口</span><a class="self-link" href="#api-screendetails-interface"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md><var>screenDetails</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens">screens</a></code>
                <dd data-md>
                    <p>返回一组 <code
                            class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed②">ScreenDetailed</a></code>
                        对象，用于描述每一个屏幕。</p>
                <dt data-md><var>screenDetails</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen">currentScreen</a></code>
                <dd data-md>
                    <p>返回一个用于描述<a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①">当前屏幕</a>的
                        <code
                            class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed③">ScreenDetailed</a></code>
                        对象。该对象描述的 <a data-link-type="dfn" href="#screen" id="ref-for-screen④①">屏幕</a> 与 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①④">Window</a></code>.<code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-screen" id="ref-for-dom-window-screen②">screen</a></code>
                        相同，但信息更丰富。
                    </p>
                <dt data-md><var>screenDetails</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetails-onscreenschange" id="ref-for-dom-screendetails-onscreenschange">onscreenschange</a></code>
                <dd data-md>
                    <p>当 <a data-link-type="dfn" href="#screen" id="ref-for-screen④②">屏幕</a>
                        集合发生变化时触发；例如有 <a data-link-type="dfn" href="#screen" id="ref-for-screen④③">屏幕</a> 被添加或移除。</p>
                <dt data-md><var>screenDetails</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetails-oncurrentscreenchange" id="ref-for-dom-screendetails-oncurrentscreenchange">oncurrentscreenchange</a></code>
                <dd data-md>
                    <p>当 <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen②">当前屏幕</a>
                        或其属性发生变化时触发；即窗口被移动到另一 <a data-link-type="dfn" href="#screen" id="ref-for-screen④④">屏幕</a>，或<a
                            data-link-type="dfn" href="#current-screen" id="ref-for-current-screen③">当前屏幕</a>属性改变。</p>
            </dl>
        </div>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="screendetails"><code><c- g>ScreenDetails</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#screendetailed" id="ref-for-screendetailed④"><c- n>ScreenDetailed</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<ScreenDetailed>" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens①"><c- g>screens</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#screendetailed" id="ref-for-screendetailed⑤"><c- n>ScreenDetailed</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ScreenDetailed" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen①"><c- g>currentScreen</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screendetails-onscreenschange" id="ref-for-dom-screendetails-onscreenschange①"><c- g>onscreenschange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screendetails-oncurrentscreenchange" id="ref-for-dom-screendetails-oncurrentscreenchange①"><c- g>oncurrentscreenchange</c-></a>;
};
</pre>
        <h4 class="heading settled" data-level="3.3.1" id="api-screendetails-screens-attribute"><span
                class="secno">3.3.1. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens②">screens</a></code>
                属性</span><a class="self-link" href="#api-screendetails-screens-attribute"></a></h4>
        <div class="algorithm" data-algorithm="screens" data-algorithm-for="ScreenDetails">
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="attribute" data-export
                    id="dom-screendetails-screens"><code>screens</code></dfn> getter 步骤如下：</p>
            <ol>
                <li data-md>
                    <p>令 <var>screens</var> 为新的 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list">列表</a>。</p>
                <li data-md>
                    <p>对于设备的每个 <var>screen</var>（<a data-link-type="dfn" href="#screen" id="ref-for-screen④⑤">屏幕</a>）：
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>a</var> 为描述 <var>screen</var> 的 <code
                                    class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed⑥">ScreenDetailed</a></code>
                                对象。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append">将</a> <var>a</var> 添加到 <var>screens</var>。</p>
                    </ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-ascending-order"
                            id="ref-for-list-sort-in-ascending-order">升序排序</a> <var>screens</var>（依据 <a
                            data-link-type="dfn" href="#screen-ordering" id="ref-for-screen-ordering">屏幕排序</a>算法）的结果。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="screen ordering">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="screen-ordering">屏幕排序</dfn>
                算法定义：如果以下判断为真，则认为某 <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑥">屏幕</a> <var>a</var>
                小于另一个 <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑦">屏幕</a> <var>b</var>：</p>
            <ol>
                <li data-md>
                    <p>如果 <var>a</var> 的 <a data-link-type="dfn" href="#screen-screen-position"
                            id="ref-for-screen-screen-position①">屏幕位置</a> x 坐标小于
                        <var>b</var> 的 <a data-link-type="dfn" href="#screen-screen-position"
                            id="ref-for-screen-screen-position②">屏幕位置</a> x 坐标，则返回 true。
                    </p>
                <li data-md>
                    <p>如果 <var>b</var> 的 <a data-link-type="dfn" href="#screen-screen-position"
                            id="ref-for-screen-screen-position③">屏幕位置</a> x 坐标小于
                        <var>a</var> 的 <a data-link-type="dfn" href="#screen-screen-position"
                            id="ref-for-screen-screen-position④">屏幕位置</a> x 坐标，则返回 false。
                    </p>
                <li data-md>
                    <p>如果 <var>a</var> 的 <a data-link-type="dfn" href="#screen-screen-position"
                            id="ref-for-screen-screen-position⑤">屏幕位置</a> y 坐标小于
                        <var>b</var> 的 <a data-link-type="dfn" href="#screen-screen-position"
                            id="ref-for-screen-screen-position⑥">屏幕位置</a> y 坐标，则返回 true。
                    </p>
                <li data-md>
                    <p>否则返回 false。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="3.3.2" id="api-screendetails-currentscreen-attribute"><span
                class="secno">3.3.2. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen②">currentScreen</a></code>
                属性</span><a class="self-link" href="#api-screendetails-currentscreen-attribute"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="attribute" data-export
                id="dom-screendetails-currentscreen"><code>currentScreen</code></dfn> getter 步骤为返回 <code
                class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed⑦">ScreenDetailed</a></code>
            对象，该对象在 <code
                class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens③">screens</a></code>
            中，代表与 <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen④">当前屏幕</a> 相关联的 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑤">Window</a></code>
            对象。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 哪个 <code
                class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed⑧">ScreenDetailed</a></code>
            对象在 <code
                class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens④">screens</a></code>
            中代表某个 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑥">Window</a></code>
            的 <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen⑤">当前屏幕</a>，通常由操作系统和用户代理定义。这与
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑦">Window</a></code>.<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-screen" id="ref-for-dom-window-screen③">screen</a></code>
            一致，即窗口的规范屏幕，例如与窗口交集区域最大者。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> <code
                class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen③">currentScreen</a></code>
            保证可以通过 <code>===</code> 与 <code
                class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens⑤">screens</a></code>
            中的某项比较相等，便于如 <code>screenDetails.screens.find(s => s !== screenDetails.currentScreen);</code> 这类比较。因此 <code
                class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen④">currentScreen</a></code>
            不会被标记为 <code>[SameObject]</code>。类似地，添加在 <code
                class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screendetailed-change" id="ref-for-eventdef-screendetailed-change">change</a></code>
            上的事件监听器仅会通知对应 <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑧">screen</a> 的变化，而监听 <code
                class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screendetails-currentscreenchange" id="ref-for-eventdef-screendetails-currentscreenchange">currentscreenchange</a></code>
            的监听器会收到当前 <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑨">screen</a> （即窗口切换到不同屏幕后） 的变化事件。
        </p>
        <h4 class="heading settled" data-level="3.3.3" id="api-screendetails-onscreenschange-attribute"><span
                class="secno">3.3.3. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-screendetails-onscreenschange" id="ref-for-dom-screendetails-onscreenschange②">onscreenschange</a></code>
                属性</span><a class="self-link" href="#api-screendetails-onscreenschange-attribute"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="attribute" data-export
                id="dom-screendetails-onscreenschange"><code>onscreenschange</code></dfn> 属性是<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
                id="ref-for-event-handler-idl-attributes①">事件处理 IDL 属性</a>，其<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                id="ref-for-event-handler-event-type①">事件类型</a>为 <code
                class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screendetails-screenschange" id="ref-for-eventdef-screendetails-screenschange">screenschange</a></code>。
        </p>
        <p>当某 <code
                class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails⑥">ScreenDetails</a></code>
            对象 <var>screenDetails</var> 的 <code
                class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens⑥">screens</a></code>
            集合发生变化时，需在 <var>screenDetails</var> 的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                id="ref-for-concept-relevant-global⑤">相关全局对象</a>上用 <a data-link-type="dfn"
                href="#window-placement-task-source" id="ref-for-window-placement-task-source②">window placement task
                source</a> <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                id="ref-for-concept-event-fire①">触发 <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails"
                    data-dfn-type="event" data-export
                    id="eventdef-screendetails-screenschange"><code>screenschange</code></dfn> 事件</a>。
        </p>
        <h4 class="heading settled" data-level="3.3.4" id="api-screendetails-oncurrentscreenchange-attribute"><span
                class="secno">3.3.4. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-screendetails-oncurrentscreenchange" id="ref-for-dom-screendetails-oncurrentscreenchange②">oncurrentscreenchange</a></code>
                属性</span><a class="self-link" href="#api-screendetails-oncurrentscreenchange-attribute"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="attribute" data-export
                id="dom-screendetails-oncurrentscreenchange"><code>oncurrentscreenchange</code></dfn> 属性是<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
                id="ref-for-event-handler-idl-attributes②">事件处理 IDL 属性</a>，其<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                id="ref-for-event-handler-event-type②">事件类型</a>为 <code
                class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screendetails-currentscreenchange" id="ref-for-eventdef-screendetails-currentscreenchange①">currentscreenchange</a></code>。
        </p>
        <p>当某 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑧">Window</a></code>
            <var>window</var> 的<a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen⑦">当前屏幕</a>由一个
            <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤①">screen</a>
            变为另一个（例如窗口被移动到不同的显示屏），或 <var>window</var> 的 <a data-link-type="dfn" href="#current-screen"
                id="ref-for-current-screen⑧">当前屏幕</a> 的任何 <a data-link-type="dfn"
                href="#screen-basic-observable-properties" id="ref-for-screen-basic-observable-properties①">基础可观察属性</a>
            或 <a data-link-type="dfn" href="#screen-advanced-observable-properties"
                id="ref-for-screen-advanced-observable-properties">高级可观察属性</a>发生变化时，要在 <var>window</var> 的<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                id="ref-for-concept-relevant-global⑥">相关全局对象</a>上用 <a data-link-type="dfn"
                href="#window-placement-task-source" id="ref-for-window-placement-task-source③">window placement task
                source</a> <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                id="ref-for-concept-event-fire②">触发 <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails"
                    data-dfn-type="event" data-export
                    id="eventdef-screendetails-currentscreenchange"><code>currentscreenchange</code></dfn> 事件</a>，目标为
            <code
                class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails⑦">ScreenDetails</a></code>
            对象（存储在 <var>window</var> 的内部槽 <code
                class="idl"><a data-link-type="idl" href="#dom-window-screendetails-slot" id="ref-for-dom-window-screendetails-slot③">[[screenDetails]]</a></code>
            中）。
        </p>
        <h3 class="heading settled" data-level="3.4" id="api-screendetailed-interface"><span class="secno">3.4.
            </span><span class="content"> <code
                    class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed⑨">ScreenDetailed</a></code>
                接口</span><a class="self-link" href="#api-screendetailed-interface"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed①⓪">ScreenDetailed</a></code>
            对象表示一个 <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤②">屏幕</a>。</p>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md><var>screenDetailed</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetailed-availleft" id="ref-for-dom-screendetailed-availleft">availLeft</a></code>
                <dd data-md>
                    <p>返回可用屏幕区域左边缘到 <a data-link-type="dfn" href="#multi-screen-origin"
                            id="ref-for-multi-screen-origin①⓪">多屏原点</a>的距离。</p>
                <dt data-md><var>screenDetailed</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetailed-availtop" id="ref-for-dom-screendetailed-availtop">availTop</a></code>
                <dd data-md>
                    <p>返回可用屏幕区域顶边缘到 <a data-link-type="dfn" href="#multi-screen-origin"
                            id="ref-for-multi-screen-origin①①">多屏原点</a>的距离。</p>
                <dt data-md><var>screenDetailed</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetailed-left" id="ref-for-dom-screendetailed-left">left</a></code>
                <dd data-md>
                    <p>返回屏幕区域左边缘到 <a data-link-type="dfn" href="#multi-screen-origin"
                            id="ref-for-multi-screen-origin①②">多屏原点</a>的距离。</p>
                <dt data-md><var>screenDetailed</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetailed-top" id="ref-for-dom-screendetailed-top">top</a></code>
                <dd data-md>
                    <p>返回屏幕区域顶边缘到 <a data-link-type="dfn" href="#multi-screen-origin"
                            id="ref-for-multi-screen-origin①③">多屏原点</a>的距离。</p>
                <dt data-md><var>screenDetailed</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetailed-isprimary" id="ref-for-dom-screendetailed-isprimary">isPrimary</a></code>
                <dd data-md>
                    <p>返回该屏幕是否被操作系统标记为“主”屏幕（否则为“副”屏幕）。</p>
                <dt data-md><var>screenDetailed</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetailed-isinternal" id="ref-for-dom-screendetailed-isinternal">isInternal</a></code>
                <dd data-md>
                    <p>返回该屏幕是否为内置于设备中的“内置”面板，如笔记本显示屏（否则为“外接”，如连接的显示器）。</p>
                <dt data-md><var>screenDetailed</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetailed-devicepixelratio" id="ref-for-dom-screendetailed-devicepixelratio">devicePixelRatio</a></code>
                <dd data-md>
                    <p>返回物理像素与逻辑像素之间的比例。</p>
                <dt data-md><var>screenDetailed</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-screendetailed-label" id="ref-for-dom-screendetailed-label">label</a></code>
                <dd data-md>
                    <p>由用户代理和操作系统决定的、用户友好的屏幕标签。</p>
            </dl>
        </div>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext④"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="screendetailed"><code><c- g>ScreenDetailed</c-></code></dfn> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen⑤③"><c- n>Screen</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-availleft" id="ref-for-dom-screendetailed-availleft①"><c- g>availLeft</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long①"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-availtop" id="ref-for-dom-screendetailed-availtop①"><c- g>availTop</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long②"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-left" id="ref-for-dom-screendetailed-left①"><c- g>left</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long③"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-top" id="ref-for-dom-screendetailed-top①"><c- g>top</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screendetailed-isprimary" id="ref-for-dom-screendetailed-isprimary①"><c- g>isPrimary</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screendetailed-isinternal" id="ref-for-dom-screendetailed-isinternal①"><c- g>isInternal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float"><c- b>float</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="float" href="#dom-screendetailed-devicepixelratio" id="ref-for-dom-screendetailed-devicepixelratio①"><c- g>devicePixelRatio</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-screendetailed-label" id="ref-for-dom-screendetailed-label①"><c- g>label</c-></a>;
};
</pre>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-availleft"><code>availLeft</code></dfn> getter 步骤为返回 <a data-link-type="dfn"
                href="#screen-available-screen-position" id="ref-for-screen-available-screen-position①">可用屏幕位置</a> 的 x
            坐标。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-availtop"><code>availTop</code></dfn> getter 步骤为返回 <a data-link-type="dfn"
                href="#screen-available-screen-position" id="ref-for-screen-available-screen-position②">可用屏幕位置</a> 的 y
            坐标。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-left"><code>left</code></dfn> getter 步骤为返回 <a data-link-type="dfn"
                href="#screen-screen-position" id="ref-for-screen-screen-position⑦">屏幕位置</a> 的 x 坐标。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-top"><code>top</code></dfn> getter 步骤为返回 <a data-link-type="dfn"
                href="#screen-screen-position" id="ref-for-screen-screen-position⑧">屏幕位置</a> 的 y 坐标。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-isprimary"><code>isPrimary</code></dfn> getter 步骤为：如 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a> <a data-link-type="dfn"
                href="#screen" id="ref-for-screen⑤⑧">screen</a> 是 <a data-link-type="dfn" href="#primary"
                id="ref-for-primary③">主</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤⑨">屏幕</a>，返回
            true，否则为 false。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-isinternal"><code>isInternal</code></dfn> getter 步骤为：如 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a> <a data-link-type="dfn"
                href="#screen" id="ref-for-screen⑥⓪">screen</a> 为 <a data-link-type="dfn" href="#internal"
                id="ref-for-internal⑥">内置</a>，返回 true，否则为 false。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-devicepixelratio"><code>devicePixelRatio</code></dfn> getter 步骤为返回 <a
                data-link-type="dfn" href="#screen-device-pixel-ratio"
                id="ref-for-screen-device-pixel-ratio②">设备像素比</a>。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-label"><code>label</code></dfn> getter 步骤为返回 <a data-link-type="dfn"
                href="#screen-label" id="ref-for-screen-label③">标签</a>。</p>
        <h4 class="heading settled" data-level="3.4.1" id="api-screendetailed-onchange-attribute"><span
                class="secno">3.4.1. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-screendetailed-onchange" id="ref-for-dom-screendetailed-onchange">onchange</a></code>
                属性</span><a class="self-link" href="#api-screendetailed-onchange-attribute"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export
                id="dom-screendetailed-onchange"><code>onchange</code></dfn> 属性是继承自 <code
                class="idl"><a data-link-type="idl" href="#dom-screen-onchange" id="ref-for-dom-screen-onchange③">onchange</a></code>
            的属性，来自 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen" id="ref-for-screen⑥③">Screen</a></code>。
        </p>
        <p>当 <code
                class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed①①">ScreenDetailed</a></code>
            对象 <var>screenDetailed</var> 所代表的 <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥④">屏幕</a> 的任一 <a
                data-link-type="dfn" href="#screen-basic-observable-properties"
                id="ref-for-screen-basic-observable-properties②">基础可观察属性</a> 或 <a data-link-type="dfn"
                href="#screen-advanced-observable-properties"
                id="ref-for-screen-advanced-observable-properties①">高级可观察属性</a>变更时，要在 <var>screenDetailed</var> 的<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                id="ref-for-concept-relevant-global⑦">相关全局对象</a>上用 <a data-link-type="dfn"
                href="#window-placement-task-source" id="ref-for-window-placement-task-source④">window placement task
                source</a> <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                id="ref-for-concept-event-fire③">触发 <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed"
                    data-dfn-type="event" data-export id="eventdef-screendetailed-change"><code>change</code></dfn>
                事件</a>。
        </p>
        <h3 class="heading settled" data-level="3.5" id="api-extensions-to-fullscreen-options"><span class="secno">3.5.
            </span><span class="content">对 <code
                    class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" id="ref-for-dictdef-fullscreenoptions①">FullscreenOptions</a></code>
                的扩展</span><a class="self-link" href="#api-extensions-to-fullscreen-options"></a></h3>
        <div class="domintro note" role="note">
            <dl>
                <dt data-md><var>fullscreenOptions</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-fullscreenoptions-screen" id="ref-for-dom-fullscreenoptions-screen">screen</a></code>
                <dd data-md>
                    <p>为元素全屏请求指定一个 <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥⑤">屏幕</a>。</p>
            </dl>
        </div>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" id="ref-for-dictdef-fullscreenoptions②"><c- g>FullscreenOptions</c-></a> {
  <a data-link-type="idl-name" href="#screendetailed" id="ref-for-screendetailed①②"><c- n>ScreenDetailed</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="ScreenDetailed" href="#dom-fullscreenoptions-screen" id="ref-for-dom-fullscreenoptions-screen①"><c- g>screen</c-></a>;
};
</pre>
        <p>可选成员 <code
                class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" id="ref-for-dictdef-fullscreenoptions③">FullscreenOptions</a></code>
            的 <dfn class="dfn-paneled idl-code" data-dfn-for="FullscreenOptions" data-dfn-type="dict-member" data-export
                id="dom-fullscreenoptions-screen"><code>screen</code></dfn>，表示应用希望将元素全屏显示在特定 <a data-link-type="dfn"
                href="#screen" id="ref-for-screen⑥⑥">屏幕</a> 上。用户代理总是可优先考虑用户偏好而非应用优先级。默认值 <code>undefined</code> 表示无应用偏好。
        </p>
        <h4 class="heading settled" data-level="3.5.1" id="api-element-requestfullscreen-method-definition-changes">
            <span class="secno">3.5.1. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen①">Element.requestFullscreen()</a></code>
                方法定义变更</span><a class="self-link" href="#api-element-requestfullscreen-method-definition-changes"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen②">Element.requestFullscreen()</a></code>
            方法的步骤可选地：</p>
        <ol>
            <li data-md>
                <p>当调整 <code>pendingDoc</code> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context"
                        id="ref-for-top-level-browsing-context">顶级浏览上下文</a>的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                        id="ref-for-nav-document">活动文档</a>视口时，如 <code>options</code>["<code
                        class="idl"><a data-link-type="idl" href="#dom-fullscreenoptions-screen" id="ref-for-dom-fullscreenoptions-screen②">screen</a></code>"]
                    有指定，可将视口移动到指定 <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥⑦">屏幕</a>。</p>
            <li data-md>
                <p>如 <code>options</code>["<code
                        class="idl"><a data-link-type="idl" href="#dom-fullscreenoptions-screen" id="ref-for-dom-fullscreenoptions-screen③">screen</a></code>"]
                    指定的 <code
                        class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed①③">ScreenDetailed</a></code>
                    对象且其 <code
                        class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended⑤">isExtended</a></code>
                    为 true，则将本对象的 <code
                        class="idl"><a data-link-type="idl" href="#dom-window-targetscreenfullscreen-slot" id="ref-for-dom-window-targetscreenfullscreen-slot③">[[targetScreenFullscreen]]</a></code>
                    内部槽设置为<a data-link-type="dfn"
                        href="https://www.w3.org/TR/hr-time-3/#dfn-current-high-resolution-time"
                        id="ref-for-dfn-current-high-resolution-time①">当前高精度时间</a>。</p>
        </ol>
        <h3 class="heading settled" data-level="3.6" id="api-permission-api-integration"><span class="secno">3.6.
            </span><span class="content">权限 API 集成</span><a class="self-link"
                href="#api-permission-api-integration"></a></h3>
        <p>本规范定义了一个<a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-default-powerful-feature"
                id="ref-for-dfn-default-powerful-feature">默认强大特性</a>，其名称为 <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions/#dfn-name" id="ref-for-dfn-name">name</a>
            "<dfn class="dfn-paneled idl-code" data-dfn-type="permission" data-export
                id="permissiondef-window-management"><code>window-management</code></dfn>"。</p>
        <p><a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> API
            提供了统一方式供网站查询其权限状态。</p>
        <p class="note" role="note"><span class="marker">注：</span> 本文档之前公开的版本使用了权限名
            <code>"window-placement"</code>。用户代理应谨慎迁移到新的权限字符串 "<code
                class="idl"><a data-link-type="idl" href="#permissiondef-window-management" id="ref-for-permissiondef-window-management①">window-management</a></code>"。参见
            <a href="https://github.com/w3c/window-management/issues/114">#114</a>。
        </p>
        <p class="issue" id="issue-0a4a425c"><a class="self-link" href="#issue-0a4a425c"></a> 将 <code
                class="idl"><a data-link-type="idl" href="#permissiondef-window-management" id="ref-for-permissiondef-window-management②">window-management</a></code>
            添加到 <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> 注册表。</p>
        <p class="issue" id="issue-dc61ea20"><a class="self-link" href="#issue-dc61ea20"></a> 定义当权限被撤销时缓存对象和方法步骤的行为。（见
            <a href="https://github.com/w3c/window-management/issues/80">#80</a>）
        </p>
        <h3 class="heading settled" data-level="3.7" id="api-permission-policy-integration"><span class="secno">3.7.
            </span><span class="content">权限策略集成</span><a class="self-link"
                href="#api-permission-policy-integration"></a></h3>
        <p>本规范定义了一个<a data-link-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature②">策略受控特性</a>，字符串为 <dfn class="dfn-paneled idl-code"
                data-dfn-for="PermissionPolicy" data-dfn-type="enum-value" data-export
                id="dom-permissionpolicy-window-management"><code>"window-management"</code></dfn>，用于控制是否允许 <code
                class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended⑥">isExtended</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails⑤">getScreenDetails</a></code>
            及相关功能的使用。该特性的<a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist"
                id="ref-for-policy-controlled-feature-default-allowlist">默认允许列表</a>为 <code>'self'</code>。参见 <a
                data-link-type="biblio" href="#biblio-permissions-policy"
                title="Permissions Policy">[permissions-policy]</a> 及其 <a
                href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#experimental-features">Experimental
                Features</a> 列表。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 一个 <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document">document</a>
            的权限策略决定了该文档内的任何内容是否能从 <code
                class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended⑦">isExtended</a></code>
            获取有效值、访问 <code
                class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails⑧">ScreenDetails</a></code>
            或在特定屏幕上放置内容。如被禁用，<code
                class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended⑧">isExtended</a></code>
            返回 false，<code
                class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails⑥">getScreenDetails</a></code>
            返回的 promise 会被拒绝，试图将内容放到特定屏幕会被限定在 <a data-link-type="dfn" href="#current-screen"
                id="ref-for-current-screen⑨">当前屏幕</a>。</p>
        <p class="issue" id="issue-10618e39"><a class="self-link" href="#issue-10618e39"></a> 适当时将 <code
                class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-window-management" id="ref-for-dom-permissionpolicy-window-management②">window-management</a></code>
            移至 <a
                href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#proposed-features">Proposed</a>
            或 <a
                href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#proposed-features">Standardized</a>
            列表。</p>
        <h2 class="heading settled" data-level="4" id="security"><span class="secno">4. </span><span
                class="content">安全性考量</span><a class="self-link" href="#security"></a></h2>
        <p>本规范使站点可以将内容放置在特定屏幕上，这可能带来有限的新安全风险：</p>
        <ol>
            <li data-md>
                <p>站点可能试图在意外的屏幕上突出显示敏感内容</p>
            <li data-md>
                <p>站点可能试图秘密地在不显眼的屏幕上显示不良内容，例如：</p>
            <li data-md>
                <p>站点可能通过将用户的注意力吸引到特定屏幕上，并利用那里的交互信号，在其他较少被注意的屏幕上显示带有欺骗性的内容，从而试图伪造操作系统、浏览器或其他站点进行钓鱼攻击</p>
            <li data-md>
                <p>站点可能试图以其他欺骗性、滥用性或令人烦恼的方式，将内容放置在特定屏幕上</p>
        </ol>
        <p>为帮助缓解这些风险，跨屏幕放置能力要求在安全上下文中获得明确许可，并受 <a data-link-type="biblio" href="#biblio-permissions-policy"
                title="Permissions Policy">[permissions-policy]</a> 约束，默认防止第三方访问。</p>
        <p>用户代理可以检测跨屏幕放置请求，并采取措施保护用户免受潜在的滥用。例如，当站点将内容放置在另一个屏幕上，或者窗口在跨屏幕放置后获得用户关注时，用户代理可以显示明显的安全界面。此外，跨屏幕放置请求可以被拒绝或限制在 <a
                data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①⓪">当前屏幕</a>，以符合一些用户代理的现有行为。</p>
        <p>其他补充说明：</p>
        <ul>
            <li data-md>
                <p>一些用户代理已经不会将窗口放置请求限制在 <a data-link-type="dfn" href="#current-screen"
                        id="ref-for-current-screen①①">当前屏幕</a>；它们将 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open④">open()</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-moveto" id="ref-for-dom-window-moveto②">moveTo()</a></code>
                    的坐标解释为相对于 <a data-link-type="dfn" href="#multi-screen-origin"
                        id="ref-for-multi-screen-origin①④">多屏原点</a>，并允许将窗口放置在非 <a data-link-type="dfn"
                        href="#current-screen" id="ref-for-current-screen①②">当前屏幕</a>。</p>
            <li data-md>
                <p>瞬时用户激活通常已是 <code
                        class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen③">requestFullscreen()</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open⑤">open()</a></code>
                    所需，但 <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-moveto" id="ref-for-dom-window-moveto③">moveTo()</a></code>、
                    <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-moveby" id="ref-for-dom-window-moveby">moveBy()</a></code>、
                    <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-resizeto" id="ref-for-dom-window-resizeto">resizeTo()</a></code>、
                    以及 <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-window-resizeby" id="ref-for-dom-window-resizeby">resizeBy()</a></code>
                    并不需要。
                </p>
            <li data-md>
                <p>将内容放到非 <a data-link-type="dfn" href="#current-screen"
                        id="ref-for-current-screen①③">当前屏幕</a>通常不会带来额外的点击劫持风险，因为用户的光标或手指很可能与 <a data-link-type="dfn"
                        href="#current-screen" id="ref-for-current-screen①④">当前屏幕</a>共现，而不会出现在另一个屏幕上。</p>
            <li data-md>
                <p>将传统放置能力与指定权限绑定是可行的。</p>
        </ul>
        <p>请参阅以下关于安全性考量的深入探讨：</p>
        <ul>
            <li data-md>
                <p><a href="https://github.com/w3c/window-management/blob/main/security_and_privacy.md">整体 API 的 W3C
                        安全与隐私自查问卷</a></p>
            <li data-md>
                <p><a href="https://github.com/w3c/window-management/blob/main/EXPLAINER.md#privacy--security">整体 API
                        说明文档中的“Privacy &amp; Security”</a></p>
            <li data-md>
                <p><a
                        href="https://github.com/w3c/window-management/blob/main/security_and_privacy_initiating_multi_screen_experiences.md">“启动多屏体验”相关的
                        W3C 安全与隐私自查问卷</a></p>
            <li data-md>
                <p><a
                        href="https://github.com/w3c/window-management/blob/main/EXPLAINER_initiating_multi_screen_experiences.md#security-considerations">“启动多屏体验”说明文档中的“Security
                        Considerations”</a></p>
        </ul>
        <h2 class="heading settled" data-level="5" id="privacy"><span class="secno">5. </span><span
                class="content">隐私性考量</span><a class="self-link" href="#privacy"></a></h2>
        <p>本规范向站点暴露了关于设备连接屏幕的新信息，这可能带来有限的新隐私风险。此额外信息增加了设备的 <a
                href="https://w3c.github.io/fingerprinting-guidance/">指纹识别</a> 面，尤其是在屏幕配置非典型的设备上。</p>
        <p>为缓解这些风险，新信息被压缩到常见放置场景所需的最小值，大部分访问需要在安全上下文中明确授权，并受到 <a data-link-type="biblio"
                href="#biblio-permissions-policy" title="Permissions Policy">[permissions-policy]</a>
            约束，默认防止第三方访问。暴露出来的屏幕列表有明确顺序，以减少互操作性问题并缓解指纹化。用户代理通常可以检测并干预站点请求新信息的行为。</p>
        <p><code>Screen.isExtended</code> 布尔值无需明确权限检查即可暴露，因为这一最小的单比特信息支持一些关键特性（例如显示/隐藏“在另一屏幕显示”等多屏 UI
            入口），提示授权会打扰用户，并有助于避免对单屏用户无意义的提示。这通常符合 TAG 设备枚举设计原则（参见 <a
                href="https://www.w3.org/TR/design-principles/#device-enumeration">Web Platform Design Principles
                § device-enumeration</a>）。</p>
        <p>很多用户代理已经通过 <code>window.screen.availLeft|Top</code> >> 0 向位于副屏上的窗口有效暴露了多屏存在。脚本访问这个比特是可被用户代理侦测并阻断的 <a
                data-link-type="dfn" href="https://www.w3.org/TR/fingerprinting-guidance/#dfn-active-fingerprinting"
                id="ref-for-dfn-active-fingerprinting①">主动指纹</a>信号。此外，不限制未授权窗口放置请求在 <a data-link-type="dfn"
                href="#current-screen" id="ref-for-current-screen①⑤">当前屏幕</a> 的用户代理，会使攻击者有机会在其他屏幕进行编程放置，从而暴露
            <code>window.screen</code> 的信息。
        </p>
        <p>新 <code>Screen.onchange</code> 事件带来的风险是可使 <a
                href="https://github.com/asankah/ephemeral-fingerprinting">短暂指纹</a> 更容易实现，但脚本本就可以通过轮询
            <code>window.screen</code> 达到类似效果。该风险可通过在文档隐藏期间延迟事件派发部分缓解。
        </p>
        <p>我们曾考虑过赋予站点更少能力的 API 设计，但这会降低用户和开发者体验（例如每次都让用户选屏，开发者申报屏幕优先级）。对于在任意已连接屏幕上非全屏放置应用窗口，几乎不存在可替代方案。所指定 API 形态是对现有
            API 支持完整多屏环境的自然扩展。将来可能补充仅公开有限多屏信息的能力，让站点可自愿减少信息暴露。</p>
        <p>该 API 设计允许用户代理采用新型访问模型有选择地暴露屏幕，例如仅公开由用户指定的屏幕信息与放置能力。</p>
        <p>其他补充说明：</p>
        <ul>
            <li data-md>
                <p>将传统的屏幕与窗口信息访问能力纳入指定权限管理是可行的。</p>
        </ul>
        <p>请参阅以下关于隐私性考量的深入探讨：</p>
        <ul>
            <li data-md>
                <p><a href="https://github.com/w3c/window-management/blob/main/security_and_privacy.md">整体 API 的 W3C
                        安全与隐私自查问卷</a></p>
            <li data-md>
                <p><a href="https://github.com/w3c/window-management/blob/main/EXPLAINER.md#privacy--security">整体 API
                        说明文档中的“Privacy &amp; Security”</a></p>
            <li data-md>
                <p><a
                        href="https://github.com/w3c/window-management/blob/main/security_and_privacy_initiating_multi_screen_experiences.md">“启动多屏体验”相关的
                        W3C 安全与隐私自查问卷</a></p>
        </ul>
        <h2 class="heading settled" data-level="6" id="a11y"><span class="secno">6. </span><span
                class="content">可访问性考量</span><a class="self-link" href="#a11y"></a></h2>
        <p>本规范使站点可以将内容放置在特定屏幕，这可能带来有限的新可访问性风险。视觉展示、非视觉渲染、以及辅助技术对内容本身的影响，一般不因内容放置在哪块屏幕而发生本质性变化。不过，随着内容可放置区域的扩大，程序化放置内容的现有可及性风险可能会加剧。关于
            <a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-default-powerful-feature"
                id="ref-for-dfn-default-powerful-feature①">默认强大特性</a>权限模型、提示机制、与权限相关的 UI 的现有可访问性考量，对本规范的相关权限同样适用。
        </p>
        <p>目前 API 暴露的结构化屏幕信息（以及其可访问性特性）无被记录的可访问性考量。</p>
        <h2 class="heading settled" data-level="7" id="i18n"><span class="secno">7. </span><span
                class="content">国际化考量</span><a class="self-link" href="#i18n"></a></h2>
        <p>当前无被记录的国际化考量。</p>
        <h2 class="heading settled" data-level="8" id="acknowledgements"><span class="secno">8. </span><span
                class="content">致谢</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>特别感谢
            Adrienne Walker、
            Anssi Kostiainen、
            Chris Terefinko、
            Domenic Denicola、
            Jonathan Garbee、
            Kenneth Rohde Christiansen、
            L. David Baron、
            Lukasz Olejnik、
            Marijn Kruisselbrink、
            Matt Giuca、
            Michael Ketting、
            Nadav Sinai、
            Peter Linss、
            Reilly Grant、
            Staphany Park、
            Theresa O’Connor、
            Thomas Nattestad、
            Thomas Steiner，以及
            Victor Costan
            对本规范的撰写做出的帮助。</p>
        <p class="issue" id="issue-e9601204"><a class="self-link" href="#issue-e9601204"></a> 请确认我们没有遗漏任何人！</p>
        <p>特别鸣谢 Tab Atkins, Jr. 创建并维护了 <a
                href="https://github.com/speced/bikeshed">Bikeshed</a>（本规范编写所用工具），以及他在规范撰写方面的指导。</p>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文档约定</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>一致性要求通过描述性断言和 RFC 2119 术语的组合表达。
            规范性文本中的关键字 “MUST”、 “MUST NOT”、 “REQUIRED”、 “SHALL”、 “SHALL NOT”、 “SHOULD”、 “SHOULD NOT”、 “RECOMMENDED”、
            “MAY” 和 “OPTIONAL”
            应根据 RFC 2119 的描述加以理解。
            不过，为了可读性，本规范中这些词并非都用全大写字母表示。 </p>
        <p>除明确标记为非规范性、示例和注释的部分外，本规范所有文本均为规范性内容。<a data-link-type="biblio" href="#biblio-rfc2119"
                title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>
        </p>
        <p>本规范中的示例会用 “for example” 引出，或用 <code>class="example"</code> 与规范性文本区分开，如下所示：</p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>这是一个知识性示例。</p>
        </div>
        <p>说明性注释以 “Note” 开头，或用 <code>class="note"</code> 与规范性文本区分开，如下所示：</p>
        <p class="note" role="note">注：这是一个说明性注释。</p>
        <section>
            <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                    class="content">一致性算法</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
            <p>以命令式措辞写在算法（如 "strip any leading space characters" 或 "return false and abort these
                steps"）中的要求，应根据该算法引言处用到的关键字（如 "must"、"should"、"may" 等）加以理解。</p>
            <p>以算法或具体步骤表达的一致性要求可通过任何方式实现，只要最终结果等效即可。特别地，本规范定义的算法意在易于理解，而非追求性能，鼓励实现者优化。</p>
        </section>
    </div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#screen-advanced-observable-properties">进阶可观察属性</a><span>, 于 § 2.11</span>
        <li><a href="#screen-available-height">可用高度</a><span>, 于 § 2.4</span>
        <li><a href="#screen-available-screen-area">可用屏幕区域</a><span>, 于 § 2.4</span>
        <li><a href="#screen-available-screen-position">可用屏幕位置</a><span>, 于 § 2.7</span>
        <li><a href="#screen-available-width">可用宽度</a><span>, 于 § 2.4</span>
        <li><a href="#dom-screendetailed-availleft">availLeft</a><span>, 于 § 3.4</span>
        <li><a href="#dom-screendetailed-availtop">availTop</a><span>, 于 § 3.4</span>
        <li><a href="#screen-basic-observable-properties">基础可观察属性</a><span>, 于 § 2.11</span>
        <li>
            change
            <ul>
                <li><a href="#eventdef-screen-change">Screen 的事件</a><span>, 于 § 3.1.2</span>
                <li><a href="#eventdef-screendetailed-change">ScreenDetailed 的事件</a><span>, 于 § 3.4.1</span>
            </ul>
        <li>
            color depth
            <ul>
                <li><a href="#pixel-color-depth">像素的定义</a><span>, 于 § 2.2</span>
                <li><a href="#screen-color-depth">屏幕的定义</a><span>, 于 § 2.1</span>
            </ul>
        <li><a href="#current-screen">当前屏幕</a><span>, 于 § 2.10</span>
        <li><a href="#dom-screendetails-currentscreen">currentScreen</a><span>, 于 § 3.3.2</span>
        <li><a href="#eventdef-screendetails-currentscreenchange">currentscreenchange</a><span>, 于 § 3.3.4</span>
        <li><a href="#screen-device-pixel-ratio">设备像素比</a><span>, 于 § 2.1</span>
        <li><a href="#dom-screendetailed-devicepixelratio">devicePixelRatio</a><span>, 于 § 3.4</span>
        <li><a href="#external">外接</a><span>, 于 § 2.9</span>
        <li><a href="#dom-window-getscreendetails">getScreenDetails()</a><span>, 于 § 3.2.1</span>
        <li><a href="#screen-height">高度</a><span>, 于 § 2.3</span>
        <li><a href="#internal">内置</a><span>, 于 § 2.9</span>
        <li><a href="#dom-screen-isextended">isExtended</a><span>, 于 § 3.1.1</span>
        <li><a href="#dom-screendetailed-isinternal">isInternal</a><span>, 于 § 3.4</span>
        <li><a href="#dom-screendetailed-isprimary">isPrimary</a><span>, 于 § 3.4</span>
        <li>
            label
            <ul>
                <li><a href="#dom-screendetailed-label">ScreenDetailed 的属性</a><span>, 于 § 3.4</span>
                <li><a href="#screen-label">屏幕的定义</a><span>, 于 § 2.1</span>
            </ul>
        <li><a href="#dom-screendetailed-left">left</a><span>, 于 § 3.4</span>
        <li><a href="#multi-screen-origin">多屏原点</a><span>, 于 § 2.5</span>
        <li>
            onchange
            <ul>
                <li><a href="#dom-screen-onchange">Screen 的属性</a><span>, 于 § 3.1.2</span>
                <li><a href="#dom-screendetailed-onchange">ScreenDetailed 的属性</a><span>, 于 § 3.4.1</span>
            </ul>
        <li><a href="#dom-screendetails-oncurrentscreenchange">oncurrentscreenchange</a><span>, 于 § 3.3.4</span>
        <li><a href="#dom-screendetails-onscreenschange">onscreenschange</a><span>, 于 § 3.3.3</span>
        <li><a href="#screen-orientation">方向</a><span>, 于 § 2.1</span>
        <li><a href="#screen-pixels">像素</a><span>, 于 § 2.2</span>
        <li><a href="#primary">主</a><span>, 于 § 2.8</span>
        <li>
            screen
            <ul>
                <li><a href="#screen">定义</a><span>, 于 § 2.1</span>
                <li><a href="#dom-fullscreenoptions-screen">FullscreenOptions 的 dict-member</a><span>, 于 § 3.5</span>
            </ul>
        <li><a href="#screen-screen-area">屏幕区域</a><span>, 于 § 2.3</span>
        <li><a href="#screendetailed">ScreenDetailed</a><span>, 于 § 3.4</span>
        <li><a href="#dom-window-screendetails-slot">[[screenDetails]]</a><span>, 于 § 3.2.1</span>
        <li><a href="#screendetails">ScreenDetails</a><span>, 于 § 3.3</span>
        <li><a href="#screen-ordering">屏幕排序</a><span>, 于 § 3.3.1</span>
        <li><a href="#screen-screen-position">屏幕位置</a><span>, 于 § 2.6</span>
        <li><a href="#dom-screendetails-screens">screens</a><span>, 于 § 3.3.1</span>
        <li><a href="#eventdef-screendetails-screenschange">screenschange</a><span>, 于 § 3.3.3</span>
        <li><a href="#secondary">副</a><span>, 于 § 2.8</span>
        <li><a href="#dom-window-targetscreenfullscreen-slot">[[targetScreenFullscreen]]</a><span>, 于 § 3.2.3</span>
        <li><a href="#dom-screendetailed-top">top</a><span>, 于 § 3.4</span>
        <li><a href="#virtual-screen-arrangement">虚拟屏幕排列</a><span>, 于 § 2.5</span>
        <li><a href="#screen-width">宽度</a><span>, 于 § 2.3</span>
        <li><a href="#dom-permissionpolicy-window-management">"window-management"</a><span>, 于 § 3.7</span>
        <li><a href="#permissiondef-window-management">window-management</a><span>, 于 § 3.6</span>
        <li><a href="#window-placement-task-source">window placement task source</a><span>, 于 § 3.2.1</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="6c691ee6">css pixel</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-VIEW-1]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="5c979c74">Screen</span>
                <li><span class="dfn-paneled" id="e4aff4af">devicePixelRatio</span>
                <li><span class="dfn-paneled" id="144dd367">moveBy(x, y)</span>
                <li><span class="dfn-paneled" id="04f9966b">moveTo(x, y)</span>
                <li><span class="dfn-paneled" id="2616ee30">resizeBy(x, y)</span>
                <li><span class="dfn-paneled" id="268c3b4d">resizeTo(x, y)</span>
                <li><span class="dfn-paneled" id="e413ed5e">screen</span>
                <li><span class="dfn-paneled" id="fc3f1924">screenLeft</span>
                <li><span class="dfn-paneled" id="e11b135c">screenTop</span>
                <li><span class="dfn-paneled" id="7038339a">screenX</span>
                <li><span class="dfn-paneled" id="feae5e4b">screenY</span>
                <li><span class="dfn-paneled" id="56acfb7f">web-exposed available screen area</span>
                <li><span class="dfn-paneled" id="ebe350b9">web-exposed screen area</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
                <li><span class="dfn-paneled" id="a973e0fe">document</span>
                <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="900ce14b">internal slot</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FINGERPRINTING-GUIDANCE]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="6777aaf6">active fingerprinting</span>
            </ul>
        <li>
            <a data-link-type="biblio">[Fullscreen]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="543d760f">FullscreenOptions</span>
                <li><span class="dfn-paneled" id="bcdb6841">requestFullscreen()</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HR-TIME-3]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="2a9f2069">DOMHighResTimeStamp</span>
                <li><span class="dfn-paneled" id="a18023da">current high resolution time</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
                <li><span class="dfn-paneled" id="5d7209e9">Window</span>
                <li><span class="dfn-paneled" id="35972864">active document</span>
                <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
                <li><span class="dfn-paneled" id="3349d69f">associated document</span>
                <li><span class="dfn-paneled" id="aca22383">consume user activation</span>
                <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
                <li><span class="dfn-paneled" id="03675365">event handler idl attribute</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
                <li><span class="dfn-paneled" id="3976d3be">last activation timestamp</span>
                <li><span class="dfn-paneled" id="f449d4f8">open(url, target, features)</span>
                <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
                <li><span class="dfn-paneled" id="ae2a6342">top-level browsing context</span>
                <li><span class="dfn-paneled" id="47fe679e">transient activation</span>
                <li><span class="dfn-paneled" id="6906895e">transient activation duration</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="53275e46">append</span>
                <li><span class="dfn-paneled" id="649608b9">list</span>
                <li><span class="dfn-paneled" id="95c866a0">sorting</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="f46afd5a">default powerful feature</span>
                <li><span class="dfn-paneled" id="a849381c">denied</span>
                <li><span class="dfn-paneled" id="e0c95dbc">name</span>
                <li><span class="dfn-paneled" id="756a432d">request permission to use</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS-POLICY]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c88e6590">default allowlist</span>
                <li><span class="dfn-paneled" id="4ed2f1ff">policy-controlled feature</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
                <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="eec1be2d">float</span>
                <li><span class="dfn-paneled" id="f8de33a3">long</span>
                <li><span class="dfn-paneled" id="b262501e">reject</span>
                <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units
                    Module Level 4</cite></a>. 12 March 2024. WD. URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
        <dd>Simon Pieters. <a href="https://www.w3.org/TR/cssom-view-1/"><cite>CSSOM View Module</cite></a>. 17 March
            2016. WD. URL: <a href="https://www.w3.org/TR/cssom-view-1/">https://www.w3.org/TR/cssom-view-1/</a>
        <dt id="biblio-design-principles">[DESIGN-PRINCIPLES]
        <dd>Sangwhan Moon; Lea Verou. <a href="https://www.w3.org/TR/design-principles/"><cite>Web Platform Design
                    Principles</cite></a>. 30 January 2024. NOTE. URL: <a
                href="https://www.w3.org/TR/design-principles/">https://www.w3.org/TR/design-principles/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-fingerprinting-guidance">[FINGERPRINTING-GUIDANCE]
        <dd>Nick Doty. <a href="https://www.w3.org/TR/fingerprinting-guidance/"><cite>Mitigating Browser Fingerprinting
                    in Web Specifications</cite></a>. 28 March 2019. NOTE. URL: <a
                href="https://www.w3.org/TR/fingerprinting-guidance/">https://www.w3.org/TR/fingerprinting-guidance/</a>
        <dt id="biblio-fullscreen">[Fullscreen]
        <dd>Philip Jägenstedt. <a href="https://fullscreen.spec.whatwg.org/"><cite>Fullscreen API Standard</cite></a>.
            Living Standard. URL: <a href="https://fullscreen.spec.whatwg.org/">https://fullscreen.spec.whatwg.org/</a>
        <dt id="biblio-hr-time-3">[HR-TIME-3]
        <dd>Yoav Weiss. <a href="https://www.w3.org/TR/hr-time-3/"><cite>High Resolution Time</cite></a>. 19 July 2023.
            WD. URL: <a href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>. Living Standard. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Marcos Caceres; Mike Taylor. <a href="https://www.w3.org/TR/permissions/"><cite>Permissions</cite></a>. 19
            March 2024. WD. URL: <a href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
        <dt id="biblio-permissions-policy">[PERMISSIONS-POLICY]
        <dd>Ian Clelland. <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. 18
            December 2023. WD. URL: <a
                href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-screen-orientation">[SCREEN-ORIENTATION]
        <dd>Marcos Caceres. <a href="https://www.w3.org/TR/screen-orientation/"><cite>Screen Orientation</cite></a>. 9
            August 2023. WD. URL: <a
                href="https://www.w3.org/TR/screen-orientation/">https://www.w3.org/TR/screen-orientation/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/cssom-view-1/#screen"><c- g>Screen</c-></a> /* : EventTarget */ {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screen-isextended"><c- g>isExtended</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screen-onchange"><c- g>onchange</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#screendetails"><c- n>ScreenDetails</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-window-getscreendetails"><c- g>getScreenDetails</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#screendetails"><code><c- g>ScreenDetails</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#screendetailed"><c- n>ScreenDetailed</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<ScreenDetailed>" href="#dom-screendetails-screens"><c- g>screens</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#screendetailed"><c- n>ScreenDetailed</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ScreenDetailed" href="#dom-screendetails-currentscreen"><c- g>currentScreen</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screendetails-onscreenschange"><c- g>onscreenschange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screendetails-oncurrentscreenchange"><c- g>oncurrentscreenchange</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#screendetailed"><code><c- g>ScreenDetailed</c-></code></a> : <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-view-1/#screen"><c- n>Screen</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-availleft"><c- g>availLeft</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-availtop"><c- g>availTop</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-left"><c- g>left</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-top"><c- g>top</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screendetailed-isprimary"><c- g>isPrimary</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screendetailed-isinternal"><c- g>isInternal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="float" href="#dom-screendetailed-devicepixelratio"><c- g>devicePixelRatio</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-screendetailed-label"><c- g>label</c-></a>;
};

<c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions"><c- g>FullscreenOptions</c-></a> {
  <a data-link-type="idl-name" href="#screendetailed"><c- n>ScreenDetailed</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="ScreenDetailed" href="#dom-fullscreenoptions-screen"><c- g>screen</c-></a>;
};

</pre>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> <a data-link-type="dfn" href="#screen-device-pixel-ratio">设备像素比</a>是否应包含<a
                href="https://drafts.csswg.org/cssom-view-1/#page-zoom">页面缩放</a>? <a class="issue-return"
                href="#issue-702b01cb" title="跳转到段落">↵</a></div>
        <div class="issue"> 在 <a href="https://www.w3.org/TR/cssom-view-1/#the-screen-interface"><cite>CSSOM View</cite>
                § 4.3 The
                Screen Interface</a> 中让 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#screen">Screen</a></code>
            继承自 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></code>。<a
                class="issue-return" href="#issue-288178db" title="跳转到段落">↵</a></div>
        <div class="issue"> 将 <code
                class="idl"><a data-link-type="idl" href="#permissiondef-window-management">window-management</a></code>
            添加到 <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> 注册表。<a
                class="issue-return" href="#issue-0a4a425c" title="跳转到段落">↵</a></div>
        <div class="issue"> 定义当权限被撤销时缓存对象和方法步骤的行为。（参见 <a
                href="https://github.com/w3c/window-management/issues/80">#80</a>）<a class="issue-return"
                href="#issue-dc61ea20" title="跳转到段落">↵</a></div>
        <div class="issue"> <code
                class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-window-management">window-management</a></code>
            在适当时移动到 <a
                href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#proposed-features">Proposed</a>
            或 <a
                href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#proposed-features">Standardized</a>
            feature 列表。<a class="issue-return" href="#issue-10618e39" title="跳转到段落">↵</a>
        </div>
        <div class="issue"> 请确认我们没有漏掉任何人！<a class="issue-return" href="#issue-e9601204" title="跳转到段落">↵</a></div>
    </div>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "03675365": { "dfnID": "03675365", "dfnText": "event handler idl attribute", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-idl-attributes" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-event-handler-idl-attributes\u2460" }], "title": "3.3.3. onscreenschange attribute" }, { "refs": [{ "id": "ref-for-event-handler-idl-attributes\u2461" }], "title": "3.3.4. oncurrentscreenchange attribute" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" },
                "04f9966b": { "dfnID": "04f9966b", "dfnText": "moveTo(x, y)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-moveto" }], "title": "1.2.5. Place windows on a specific screen" }, { "refs": [{ "id": "ref-for-dom-window-moveto\u2460" }], "title": "3.2.2. Window attribute and method definition changes" }, { "refs": [{ "id": "ref-for-dom-window-moveto\u2461" }, { "id": "ref-for-dom-window-moveto\u2462" }], "title": "4. Security Considerations" }], "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-moveto" },
                "144dd367": { "dfnID": "144dd367", "dfnText": "moveBy(x, y)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-moveby" }], "title": "4. Security Considerations" }], "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-moveby" },
                "2616ee30": { "dfnID": "2616ee30", "dfnText": "resizeBy(x, y)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-resizeby" }], "title": "4. Security Considerations" }], "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-resizeby" },
                "268c3b4d": { "dfnID": "268c3b4d", "dfnText": "resizeTo(x, y)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-resizeto" }], "title": "4. Security Considerations" }], "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-resizeto" },
                "2a9f2069": { "dfnID": "2a9f2069", "dfnText": "DOMHighResTimeStamp", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-domhighrestimestamp" }], "title": "3.2.3. Window.open() method definition changes" }], "url": "https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp" },
                "2bc0cdf4": { "dfnID": "2bc0cdf4", "dfnText": "EventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "3.1. Extensions to the Screen interface" }, { "refs": [{ "id": "ref-for-eventtarget\u2460" }], "title": "3.3. ScreenDetails interface" }], "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "3349d69f": { "dfnID": "3349d69f", "dfnText": "associated document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-document-window" }], "title": "3.1.1. isExtended attribute" }, { "refs": [{ "id": "ref-for-concept-document-window\u2460" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" },
                "35972864": { "dfnID": "35972864", "dfnText": "active document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nav-document" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" },
                "3610bd67": { "dfnID": "3610bd67", "dfnText": "allowed to use", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-use" }], "title": "3.1.1. isExtended attribute" }, { "refs": [{ "id": "ref-for-allowed-to-use\u2460" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" },
                "3976d3be": { "dfnID": "3976d3be", "dfnText": "last activation timestamp", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-last-activation-timestamp" }], "title": "3.2.3. Window.open() method definition changes" }], "url": "https://html.spec.whatwg.org/multipage/#last-activation-timestamp" },
                "3b90bdcd": { "dfnID": "3b90bdcd", "dfnText": "resolve", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolve" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://webidl.spec.whatwg.org/#resolve" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }], "title": "3.1.1. isExtended attribute" }, { "refs": [{ "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }], "title": "3.2.3. Window.open() method definition changes" }, { "refs": [{ "id": "ref-for-this\u2468" }], "title": "3.3.2. currentScreen attribute" }, { "refs": [{ "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }, { "id": "ref-for-this\u2460\u2461" }, { "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }, { "id": "ref-for-this\u2460\u2464" }, { "id": "ref-for-this\u2460\u2465" }, { "id": "ref-for-this\u2460\u2466" }], "title": "3.4. The ScreenDetailed interface" }, { "refs": [{ "id": "ref-for-this\u2460\u2467" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "47fe679e": { "dfnID": "47fe679e", "dfnText": "transient activation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transient-activation" }], "title": "3.2.3. Window.open() method definition changes" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" },
                "48438eb3": { "dfnID": "48438eb3", "dfnText": "queue a global task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-global-task" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2460" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2461" }], "title": "3.3.3. onscreenschange attribute" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2462" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2463" }], "title": "3.4.1. onchange attribute" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "4ed2f1ff": { "dfnID": "4ed2f1ff", "dfnText": "policy-controlled feature", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-policy-controlled-feature" }], "title": "3.1.1. isExtended attribute" }, { "refs": [{ "id": "ref-for-policy-controlled-feature\u2460" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-policy-controlled-feature\u2461" }], "title": "3.7. Permission Policy integration" }], "url": "https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature" },
                "53275e46": { "dfnID": "53275e46", "dfnText": "append", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }], "title": "3.3.1. screens attribute" }], "url": "https://infra.spec.whatwg.org/#list-append" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }], "title": "3.1. Extensions to the Screen interface" }, { "refs": [{ "id": "ref-for-idl-boolean\u2460" }, { "id": "ref-for-idl-boolean\u2461" }], "title": "3.4. The ScreenDetailed interface" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "543d760f": { "dfnID": "543d760f", "dfnText": "FullscreenOptions", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-fullscreenoptions" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-dictdef-fullscreenoptions\u2460" }, { "id": "ref-for-dictdef-fullscreenoptions\u2461" }, { "id": "ref-for-dictdef-fullscreenoptions\u2462" }], "title": "3.5. Extensions to FullscreenOptions" }], "url": "https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" },
                "56acfb7f": { "dfnID": "56acfb7f", "dfnText": "web-exposed available screen area", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-web-exposed-available-screen-area" }], "title": "2.4. Available screen area" }], "url": "https://drafts.csswg.org/cssom-view-1/#web-exposed-available-screen-area" },
                "5c979c74": { "dfnID": "5c979c74", "dfnText": "Screen", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-screen" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-screen\u2460" }, { "id": "ref-for-screen\u2461" }, { "id": "ref-for-screen\u2462" }], "title": "1.2.2. Detect Screen attribute changes" }, { "refs": [{ "id": "ref-for-screen\u2461\u2468" }], "title": "2.10. Current screen" }, { "refs": [{ "id": "ref-for-screen\u2462\u2464" }, { "id": "ref-for-screen\u2462\u2465" }, { "id": "ref-for-screen\u2462\u2466" }, { "id": "ref-for-screen\u2462\u2467" }], "title": "3.1. Extensions to the Screen interface" }, { "refs": [{ "id": "ref-for-screen\u2463\u24ea" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-screen\u2464\u2462" }], "title": "3.4. The ScreenDetailed interface" }, { "refs": [{ "id": "ref-for-screen\u2465\u2462" }], "title": "3.4.1. onchange attribute" }], "url": "https://www.w3.org/TR/cssom-view-1/#screen" },
                "5d7209e9": { "dfnID": "5d7209e9", "dfnText": "Window", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-window\u2460" }], "title": "2.1. Screen" }, { "refs": [{ "id": "ref-for-window\u2461" }, { "id": "ref-for-window\u2462" }], "title": "2.10. Current screen" }, { "refs": [{ "id": "ref-for-window\u2463" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-window\u2464" }, { "id": "ref-for-window\u2465" }, { "id": "ref-for-window\u2466" }], "title": "3.2. Extensions to the Window interface" }, { "refs": [{ "id": "ref-for-window\u2467" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-window\u2468" }, { "id": "ref-for-window\u2460\u24ea" }], "title": "3.2.2. Window attribute and method definition changes" }, { "refs": [{ "id": "ref-for-window\u2460\u2460" }, { "id": "ref-for-window\u2460\u2461" }, { "id": "ref-for-window\u2460\u2462" }], "title": "3.2.3. Window.open() method definition changes" }, { "refs": [{ "id": "ref-for-window\u2460\u2463" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-window\u2460\u2464" }, { "id": "ref-for-window\u2460\u2465" }, { "id": "ref-for-window\u2460\u2466" }], "title": "3.3.2. currentScreen attribute" }, { "refs": [{ "id": "ref-for-window\u2460\u2467" }, { "id": "ref-for-window\u2460\u2468" }], "title": "3.3.4. oncurrentscreenchange attribute" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "5fd23811": { "dfnID": "5fd23811", "dfnText": "fire an event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-fire" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2460" }], "title": "3.3.3. onscreenschange attribute" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2461" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2462" }], "title": "3.4.1. onchange attribute" }], "url": "https://dom.spec.whatwg.org/#concept-event-fire" },
                "649608b9": { "dfnID": "649608b9", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list" }], "title": "3.3.1. screens attribute" }], "url": "https://infra.spec.whatwg.org/#list" },
                "6777aaf6": { "dfnID": "6777aaf6", "dfnText": "active fingerprinting", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-active-fingerprinting" }], "title": "2.1. Screen" }, { "refs": [{ "id": "ref-for-dfn-active-fingerprinting\u2460" }], "title": "5. Privacy Considerations" }], "url": "https://www.w3.org/TR/fingerprinting-guidance/#dfn-active-fingerprinting" },
                "6906895e": { "dfnID": "6906895e", "dfnText": "transient activation duration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transient-activation-duration" }], "title": "3.2.3. Window.open() method definition changes" }], "url": "https://html.spec.whatwg.org/multipage/#transient-activation-duration" },
                "6c691ee6": { "dfnID": "6c691ee6", "dfnText": "css pixel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-px" }], "title": "2.1. Screen" }, { "refs": [{ "id": "ref-for-px\u2460" }, { "id": "ref-for-px\u2461" }], "title": "3.2.2. Window attribute and method definition changes" }], "url": "https://drafts.csswg.org/css-values-4/#px" },
                "7038339a": { "dfnID": "7038339a", "dfnText": "screenX", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-screenx" }], "title": "3.2.2. Window attribute and method definition changes" }], "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-screenx" },
                "756a432d": { "dfnID": "756a432d", "dfnText": "request permission to use", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-request-permission-to-use" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://www.w3.org/TR/permissions/#dfn-request-permission-to-use" },
                "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "3.4. The ScreenDetailed interface" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "900ce14b": { "dfnID": "900ce14b", "dfnText": "internal slot", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-object-internal-methods-and-internal-slots" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-sec-object-internal-methods-and-internal-slots\u2460" }], "title": "3.2.3. Window.open() method definition changes" }], "url": "https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots" },
                "95c866a0": { "dfnID": "95c866a0", "dfnText": "sorting", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-sort-in-ascending-order" }], "title": "3.3.1. screens attribute" }], "url": "https://infra.spec.whatwg.org/#list-sort-in-ascending-order" },
                "9d386f55": { "dfnID": "9d386f55", "dfnText": "event handler event type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-event-type" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-event-handler-event-type\u2460" }], "title": "3.3.3. onscreenschange attribute" }, { "refs": [{ "id": "ref-for-event-handler-event-type\u2461" }], "title": "3.3.4. oncurrentscreenchange attribute" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" },
                "a18023da": { "dfnID": "a18023da", "dfnText": "current high resolution time", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-current-high-resolution-time" }], "title": "3.2.3. Window.open() method definition changes" }, { "refs": [{ "id": "ref-for-dfn-current-high-resolution-time\u2460" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }], "url": "https://www.w3.org/TR/hr-time-3/#dfn-current-high-resolution-time" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "a849381c": { "dfnID": "a849381c", "dfnText": "denied", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-denied" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://www.w3.org/TR/permissions/#dom-permissionstate-denied" },
                "a973e0fe": { "dfnID": "a973e0fe", "dfnText": "document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-document" }], "title": "3.7. Permission Policy integration" }], "url": "https://dom.spec.whatwg.org/#concept-document" },
                "aca22383": { "dfnID": "aca22383", "dfnText": "consume user activation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-consume-user-activation" }, { "id": "ref-for-consume-user-activation\u2460" }], "title": "3.2.3. Window.open() method definition changes" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation" },
                "ae2a6342": { "dfnID": "ae2a6342", "dfnText": "top-level browsing context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-top-level-browsing-context" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context" },
                "b262501e": { "dfnID": "b262501e", "dfnText": "reject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reject" }, { "id": "ref-for-reject\u2460" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://webidl.spec.whatwg.org/#reject" },
                "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }, { "id": "ref-for-SecureContext\u2460" }], "title": "3.1. Extensions to the Screen interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2461" }], "title": "3.2. Extensions to the Window interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2462" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2463" }], "title": "3.4. The ScreenDetailed interface" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "ba556545": { "dfnID": "ba556545", "dfnText": "NotAllowedError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notallowederror" }, { "id": "ref-for-notallowederror\u2460" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "bcdb6841": { "dfnID": "bcdb6841", "dfnText": "requestFullscreen()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-element-requestfullscreen" }], "title": "1.2.4. Place fullscreen content on a specific screen" }, { "refs": [{ "id": "ref-for-dom-element-requestfullscreen\u2460" }, { "id": "ref-for-dom-element-requestfullscreen\u2461" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }, { "refs": [{ "id": "ref-for-dom-element-requestfullscreen\u2462" }], "title": "4. Security Considerations" }], "url": "https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" },
                "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }], "title": "3.2. Extensions to the Window interface" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "c88e6590": { "dfnID": "c88e6590", "dfnText": "default allowlist", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-policy-controlled-feature-default-allowlist" }], "title": "3.7. Permission Policy integration" }], "url": "https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist" },
                "current-screen": { "dfnID": "current-screen", "dfnText": "current screen", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-current-screen" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-current-screen\u2460" }, { "id": "ref-for-current-screen\u2461" }, { "id": "ref-for-current-screen\u2462" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-current-screen\u2463" }, { "id": "ref-for-current-screen\u2464" }, { "id": "ref-for-current-screen\u2465" }], "title": "3.3.2. currentScreen attribute" }, { "refs": [{ "id": "ref-for-current-screen\u2466" }, { "id": "ref-for-current-screen\u2467" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-current-screen\u2468" }], "title": "3.7. Permission Policy integration" }, { "refs": [{ "id": "ref-for-current-screen\u2460\u24ea" }, { "id": "ref-for-current-screen\u2460\u2460" }, { "id": "ref-for-current-screen\u2460\u2461" }, { "id": "ref-for-current-screen\u2460\u2462" }, { "id": "ref-for-current-screen\u2460\u2463" }], "title": "4. Security Considerations" }, { "refs": [{ "id": "ref-for-current-screen\u2460\u2464" }], "title": "5. Privacy Considerations" }], "url": "#current-screen" },
                "dacde8b5": { "dfnID": "dacde8b5", "dfnText": "a new promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }, { "id": "ref-for-idl-DOMException\u2460" }], "title": "3.2.1. getScreenDetails() method" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "dcf5fafa": { "dfnID": "dcf5fafa", "dfnText": "FrozenArray", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-frozen-array" }], "title": "3.3. ScreenDetails interface" }], "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
                "dom-fullscreenoptions-screen": { "dfnID": "dom-fullscreenoptions-screen", "dfnText": "screen", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-fullscreenoptions-screen" }, { "id": "ref-for-dom-fullscreenoptions-screen\u2460" }], "title": "3.5. Extensions to FullscreenOptions" }, { "refs": [{ "id": "ref-for-dom-fullscreenoptions-screen\u2461" }, { "id": "ref-for-dom-fullscreenoptions-screen\u2462" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }], "url": "#dom-fullscreenoptions-screen" },
                "dom-permissionpolicy-window-management": { "dfnID": "dom-permissionpolicy-window-management", "dfnText": "\"window-management\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionpolicy-window-management" }], "title": "3.1.1. isExtended attribute" }, { "refs": [{ "id": "ref-for-dom-permissionpolicy-window-management\u2460" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-dom-permissionpolicy-window-management\u2461" }], "title": "3.7. Permission Policy integration" }], "url": "#dom-permissionpolicy-window-management" },
                "dom-screen-isextended": { "dfnID": "dom-screen-isextended", "dfnText": "isExtended", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screen-isextended" }], "title": "1.2.1. Detect the presence of multiple screens" }, { "refs": [{ "id": "ref-for-dom-screen-isextended\u2460" }], "title": "1.2.2. Detect Screen attribute changes" }, { "refs": [{ "id": "ref-for-dom-screen-isextended\u2461" }, { "id": "ref-for-dom-screen-isextended\u2462" }], "title": "3.1. Extensions to the Screen interface" }, { "refs": [{ "id": "ref-for-dom-screen-isextended\u2463" }], "title": "3.1.1. isExtended attribute" }, { "refs": [{ "id": "ref-for-dom-screen-isextended\u2464" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }, { "refs": [{ "id": "ref-for-dom-screen-isextended\u2465" }, { "id": "ref-for-dom-screen-isextended\u2466" }, { "id": "ref-for-dom-screen-isextended\u2467" }], "title": "3.7. Permission Policy integration" }], "url": "#dom-screen-isextended" },
                "dom-screen-onchange": { "dfnID": "dom-screen-onchange", "dfnText": "onchange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screen-onchange" }, { "id": "ref-for-dom-screen-onchange\u2460" }], "title": "3.1. Extensions to the Screen interface" }, { "refs": [{ "id": "ref-for-dom-screen-onchange\u2461" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-dom-screen-onchange\u2462" }], "title": "3.4.1. onchange attribute" }], "url": "#dom-screen-onchange" },
                "dom-screendetailed-availleft": { "dfnID": "dom-screendetailed-availleft", "dfnText": "availLeft", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-availleft" }, { "id": "ref-for-dom-screendetailed-availleft\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#dom-screendetailed-availleft" },
                "dom-screendetailed-availtop": { "dfnID": "dom-screendetailed-availtop", "dfnText": "availTop", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-availtop" }, { "id": "ref-for-dom-screendetailed-availtop\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#dom-screendetailed-availtop" },
                "dom-screendetailed-devicepixelratio": { "dfnID": "dom-screendetailed-devicepixelratio", "dfnText": "devicePixelRatio", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-devicepixelratio" }, { "id": "ref-for-dom-screendetailed-devicepixelratio\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#dom-screendetailed-devicepixelratio" },
                "dom-screendetailed-isinternal": { "dfnID": "dom-screendetailed-isinternal", "dfnText": "isInternal", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-isinternal" }, { "id": "ref-for-dom-screendetailed-isinternal\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#dom-screendetailed-isinternal" },
                "dom-screendetailed-isprimary": { "dfnID": "dom-screendetailed-isprimary", "dfnText": "isPrimary", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-isprimary" }, { "id": "ref-for-dom-screendetailed-isprimary\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#dom-screendetailed-isprimary" },
                "dom-screendetailed-label": { "dfnID": "dom-screendetailed-label", "dfnText": "label", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-label" }, { "id": "ref-for-dom-screendetailed-label\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#dom-screendetailed-label" },
                "dom-screendetailed-left": { "dfnID": "dom-screendetailed-left", "dfnText": "left", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-left" }, { "id": "ref-for-dom-screendetailed-left\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#dom-screendetailed-left" },
                "dom-screendetailed-onchange": { "dfnID": "dom-screendetailed-onchange", "dfnText": "onchange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-onchange" }], "title": "3.4.1. onchange attribute" }], "url": "#dom-screendetailed-onchange" },
                "dom-screendetailed-top": { "dfnID": "dom-screendetailed-top", "dfnText": "top", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetailed-top" }, { "id": "ref-for-dom-screendetailed-top\u2460" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#dom-screendetailed-top" },
                "dom-screendetails-currentscreen": { "dfnID": "dom-screendetails-currentscreen", "dfnText": "currentScreen", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetails-currentscreen" }, { "id": "ref-for-dom-screendetails-currentscreen\u2460" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-dom-screendetails-currentscreen\u2461" }, { "id": "ref-for-dom-screendetails-currentscreen\u2462" }, { "id": "ref-for-dom-screendetails-currentscreen\u2463" }, { "id": "ref-for-dom-screendetails-currentscreen\u2464" }], "title": "3.3.2. currentScreen attribute" }], "url": "#dom-screendetails-currentscreen" },
                "dom-screendetails-oncurrentscreenchange": { "dfnID": "dom-screendetails-oncurrentscreenchange", "dfnText": "oncurrentscreenchange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetails-oncurrentscreenchange" }, { "id": "ref-for-dom-screendetails-oncurrentscreenchange\u2460" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-dom-screendetails-oncurrentscreenchange\u2461" }], "title": "3.3.4. oncurrentscreenchange attribute" }], "url": "#dom-screendetails-oncurrentscreenchange" },
                "dom-screendetails-onscreenschange": { "dfnID": "dom-screendetails-onscreenschange", "dfnText": "onscreenschange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetails-onscreenschange" }, { "id": "ref-for-dom-screendetails-onscreenschange\u2460" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-dom-screendetails-onscreenschange\u2461" }], "title": "3.3.3. onscreenschange attribute" }], "url": "#dom-screendetails-onscreenschange" },
                "dom-screendetails-screens": { "dfnID": "dom-screendetails-screens", "dfnText": "screens", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-screendetails-screens" }, { "id": "ref-for-dom-screendetails-screens\u2460" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-dom-screendetails-screens\u2461" }], "title": "3.3.1. screens attribute" }, { "refs": [{ "id": "ref-for-dom-screendetails-screens\u2462" }, { "id": "ref-for-dom-screendetails-screens\u2463" }, { "id": "ref-for-dom-screendetails-screens\u2464" }], "title": "3.3.2. currentScreen attribute" }, { "refs": [{ "id": "ref-for-dom-screendetails-screens\u2465" }], "title": "3.3.3. onscreenschange attribute" }], "url": "#dom-screendetails-screens" },
                "dom-window-getscreendetails": { "dfnID": "dom-window-getscreendetails", "dfnText": "getScreenDetails()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-getscreendetails" }], "title": "1.2.3. Request detailed screen information" }, { "refs": [{ "id": "ref-for-dom-window-getscreendetails\u2460" }, { "id": "ref-for-dom-window-getscreendetails\u2461" }], "title": "3.2. Extensions to the Window interface" }, { "refs": [{ "id": "ref-for-dom-window-getscreendetails\u2462" }, { "id": "ref-for-dom-window-getscreendetails\u2463" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-dom-window-getscreendetails\u2464" }, { "id": "ref-for-dom-window-getscreendetails\u2465" }], "title": "3.7. Permission Policy integration" }], "url": "#dom-window-getscreendetails" },
                "dom-window-screendetails-slot": { "dfnID": "dom-window-screendetails-slot", "dfnText": "[[screenDetails]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-screendetails-slot" }, { "id": "ref-for-dom-window-screendetails-slot\u2460" }, { "id": "ref-for-dom-window-screendetails-slot\u2461" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-dom-window-screendetails-slot\u2462" }], "title": "3.3.4. oncurrentscreenchange attribute" }], "url": "#dom-window-screendetails-slot" },
                "dom-window-targetscreenfullscreen-slot": { "dfnID": "dom-window-targetscreenfullscreen-slot", "dfnText": "[[targetScreenFullscreen]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-targetscreenfullscreen-slot" }, { "id": "ref-for-dom-window-targetscreenfullscreen-slot\u2460" }, { "id": "ref-for-dom-window-targetscreenfullscreen-slot\u2461" }], "title": "3.2.3. Window.open() method definition changes" }, { "refs": [{ "id": "ref-for-dom-window-targetscreenfullscreen-slot\u2462" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }], "url": "#dom-window-targetscreenfullscreen-slot" },
                "e0c95dbc": { "dfnID": "e0c95dbc", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-name" }], "title": "3.6. Permission API Integration" }], "url": "https://www.w3.org/TR/permissions/#dfn-name" },
                "e11b135c": { "dfnID": "e11b135c", "dfnText": "screenTop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-screentop" }], "title": "3.2.2. Window attribute and method definition changes" }], "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screentop" },
                "e413ed5e": { "dfnID": "e413ed5e", "dfnText": "screen", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-screen" }], "title": "2.10. Current screen" }, { "refs": [{ "id": "ref-for-dom-window-screen\u2460" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-dom-window-screen\u2461" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-dom-window-screen\u2462" }], "title": "3.3.2. currentScreen attribute" }], "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-screen" },
                "e4aff4af": { "dfnID": "e4aff4af", "dfnText": "devicePixelRatio", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-devicepixelratio" }], "title": "2.1. Screen" }], "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-devicepixelratio" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "3.1.1. isExtended attribute" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2461" }, { "id": "ref-for-concept-relevant-global\u2462" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2463" }], "title": "3.2.3. Window.open() method definition changes" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2464" }], "title": "3.3.3. onscreenschange attribute" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2465" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2466" }], "title": "3.4.1. onchange attribute" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "ebe350b9": { "dfnID": "ebe350b9", "dfnText": "web-exposed screen area", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-web-exposed-screen-area" }], "title": "2.3. Screen area" }], "url": "https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-area" },
                "eec1be2d": { "dfnID": "eec1be2d", "dfnText": "float", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-float" }], "title": "3.4. The ScreenDetailed interface" }], "url": "https://webidl.spec.whatwg.org/#idl-float" },
                "eventdef-screen-change": { "dfnID": "eventdef-screen-change", "dfnText": "change", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-screen-change" }], "title": "1.2.2. Detect Screen attribute changes" }, { "refs": [{ "id": "ref-for-eventdef-screen-change\u2460" }], "title": "3.1.2. onchange attribute" }], "url": "#eventdef-screen-change" },
                "eventdef-screendetailed-change": { "dfnID": "eventdef-screendetailed-change", "dfnText": "change", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-screendetailed-change" }], "title": "3.3.2. currentScreen attribute" }], "url": "#eventdef-screendetailed-change" },
                "eventdef-screendetails-currentscreenchange": { "dfnID": "eventdef-screendetails-currentscreenchange", "dfnText": "currentscreenchange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-screendetails-currentscreenchange" }], "title": "3.3.2. currentScreen attribute" }, { "refs": [{ "id": "ref-for-eventdef-screendetails-currentscreenchange\u2460" }], "title": "3.3.4. oncurrentscreenchange attribute" }], "url": "#eventdef-screendetails-currentscreenchange" },
                "eventdef-screendetails-screenschange": { "dfnID": "eventdef-screendetails-screenschange", "dfnText": "screenschange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-screendetails-screenschange" }], "title": "3.3.3. onscreenschange attribute" }], "url": "#eventdef-screendetails-screenschange" },
                "external": { "dfnID": "external", "dfnText": "external", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-external" }, { "id": "ref-for-external\u2460" }, { "id": "ref-for-external\u2461" }, { "id": "ref-for-external\u2462" }], "title": "2.9. Internal screen" }, { "refs": [{ "id": "ref-for-external\u2463" }], "title": "2.11. Observable screen properties" }], "url": "#external" },
                "f0951476": { "dfnID": "f0951476", "dfnText": "EventHandler", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventhandler" }], "title": "3.1. Extensions to the Screen interface" }, { "refs": [{ "id": "ref-for-eventhandler\u2460" }, { "id": "ref-for-eventhandler\u2461" }], "title": "3.3. ScreenDetails interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "f449d4f8": { "dfnID": "f449d4f8", "dfnText": "open(url, target, features)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-open" }], "title": "1.2.5. Place windows on a specific screen" }, { "refs": [{ "id": "ref-for-dom-open\u2460" }], "title": "3.2.2. Window attribute and method definition changes" }, { "refs": [{ "id": "ref-for-dom-open\u2461" }, { "id": "ref-for-dom-open\u2462" }], "title": "3.2.3. Window.open() method definition changes" }, { "refs": [{ "id": "ref-for-dom-open\u2463" }, { "id": "ref-for-dom-open\u2464" }], "title": "4. Security Considerations" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" },
                "f46afd5a": { "dfnID": "f46afd5a", "dfnText": "default powerful feature", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-default-powerful-feature" }], "title": "3.6. Permission API Integration" }, { "refs": [{ "id": "ref-for-dfn-default-powerful-feature\u2460" }], "title": "6. Accessibility Considerations" }], "url": "https://www.w3.org/TR/permissions/#dfn-default-powerful-feature" },
                "f8de33a3": { "dfnID": "f8de33a3", "dfnText": "long", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-long" }, { "id": "ref-for-idl-long\u2460" }, { "id": "ref-for-idl-long\u2461" }, { "id": "ref-for-idl-long\u2462" }], "title": "3.4. The ScreenDetailed interface" }], "url": "https://webidl.spec.whatwg.org/#idl-long" },
                "fc3f1924": { "dfnID": "fc3f1924", "dfnText": "screenLeft", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-screenleft" }], "title": "3.2.2. Window attribute and method definition changes" }], "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screenleft" },
                "feae5e4b": { "dfnID": "feae5e4b", "dfnText": "screenY", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-screeny" }], "title": "3.2.2. Window attribute and method definition changes" }], "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-screeny" },
                "internal": { "dfnID": "internal", "dfnText": "internal", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-internal" }, { "id": "ref-for-internal\u2460" }, { "id": "ref-for-internal\u2461" }, { "id": "ref-for-internal\u2462" }, { "id": "ref-for-internal\u2463" }], "title": "2.9. Internal screen" }, { "refs": [{ "id": "ref-for-internal\u2464" }], "title": "2.11. Observable screen properties" }, { "refs": [{ "id": "ref-for-internal\u2465" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#internal" },
                "multi-screen-origin": { "dfnID": "multi-screen-origin", "dfnText": "multi-screen origin", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-multi-screen-origin" }, { "id": "ref-for-multi-screen-origin\u2460" }, { "id": "ref-for-multi-screen-origin\u2461" }], "title": "2.5. Virtual screen arrangement" }, { "refs": [{ "id": "ref-for-multi-screen-origin\u2462" }], "title": "2.6. Screen position" }, { "refs": [{ "id": "ref-for-multi-screen-origin\u2463" }], "title": "2.7. Available screen position" }, { "refs": [{ "id": "ref-for-multi-screen-origin\u2464" }, { "id": "ref-for-multi-screen-origin\u2465" }, { "id": "ref-for-multi-screen-origin\u2466" }, { "id": "ref-for-multi-screen-origin\u2467" }, { "id": "ref-for-multi-screen-origin\u2468" }], "title": "3.2.2. Window attribute and method definition changes" }, { "refs": [{ "id": "ref-for-multi-screen-origin\u2460\u24ea" }, { "id": "ref-for-multi-screen-origin\u2460\u2460" }, { "id": "ref-for-multi-screen-origin\u2460\u2461" }, { "id": "ref-for-multi-screen-origin\u2460\u2462" }], "title": "3.4. The ScreenDetailed interface" }, { "refs": [{ "id": "ref-for-multi-screen-origin\u2460\u2463" }], "title": "4. Security Considerations" }], "url": "#multi-screen-origin" },
                "permissiondef-window-management": { "dfnID": "permissiondef-window-management", "dfnText": "window-management", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-permissiondef-window-management" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-permissiondef-window-management\u2460" }, { "id": "ref-for-permissiondef-window-management\u2461" }], "title": "3.6. Permission API Integration" }], "url": "#permissiondef-window-management" },
                "pixel-color-depth": { "dfnID": "pixel-color-depth", "dfnText": "color depth", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pixel-color-depth" }], "title": "2.1. Screen" }, { "refs": [{ "id": "ref-for-pixel-color-depth\u2460" }], "title": "2.2. Screen pixel" }], "url": "#pixel-color-depth" },
                "primary": { "dfnID": "primary", "dfnText": "primary", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-primary" }], "title": "2.5. Virtual screen arrangement" }, { "refs": [{ "id": "ref-for-primary\u2460" }], "title": "2.8. Primary screen" }, { "refs": [{ "id": "ref-for-primary\u2461" }], "title": "2.11. Observable screen properties" }, { "refs": [{ "id": "ref-for-primary\u2462" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#primary" },
                "screen": { "dfnID": "screen", "dfnText": "screen", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen\u2463" }, { "id": "ref-for-screen\u2464" }, { "id": "ref-for-screen\u2465" }, { "id": "ref-for-screen\u2466" }, { "id": "ref-for-screen\u2467" }, { "id": "ref-for-screen\u2468" }], "title": "2.1. Screen" }, { "refs": [{ "id": "ref-for-screen\u2460\u24ea" }], "title": "2.2. Screen pixel" }, { "refs": [{ "id": "ref-for-screen\u2460\u2460" }, { "id": "ref-for-screen\u2460\u2461" }], "title": "2.3. Screen area" }, { "refs": [{ "id": "ref-for-screen\u2460\u2462" }, { "id": "ref-for-screen\u2460\u2463" }, { "id": "ref-for-screen\u2460\u2464" }, { "id": "ref-for-screen\u2460\u2465" }], "title": "2.4. Available screen area" }, { "refs": [{ "id": "ref-for-screen\u2460\u2466" }, { "id": "ref-for-screen\u2460\u2467" }, { "id": "ref-for-screen\u2460\u2468" }, { "id": "ref-for-screen\u2461\u24ea" }], "title": "2.5. Virtual screen arrangement" }, { "refs": [{ "id": "ref-for-screen\u2461\u2460" }], "title": "2.6. Screen position" }, { "refs": [{ "id": "ref-for-screen\u2461\u2461" }], "title": "2.7. Available screen position" }, { "refs": [{ "id": "ref-for-screen\u2461\u2462" }, { "id": "ref-for-screen\u2461\u2463" }, { "id": "ref-for-screen\u2461\u2464" }], "title": "2.8. Primary screen" }, { "refs": [{ "id": "ref-for-screen\u2461\u2465" }, { "id": "ref-for-screen\u2461\u2466" }, { "id": "ref-for-screen\u2461\u2467" }], "title": "2.9. Internal screen" }, { "refs": [{ "id": "ref-for-screen\u2462\u24ea" }], "title": "2.10. Current screen" }, { "refs": [{ "id": "ref-for-screen\u2462\u2460" }, { "id": "ref-for-screen\u2462\u2461" }, { "id": "ref-for-screen\u2462\u2462" }, { "id": "ref-for-screen\u2462\u2463" }], "title": "2.11. Observable screen properties" }, { "refs": [{ "id": "ref-for-screen\u2462\u2468" }], "title": "3.1.1. isExtended attribute" }, { "refs": [{ "id": "ref-for-screen\u2463\u2460" }, { "id": "ref-for-screen\u2463\u2461" }, { "id": "ref-for-screen\u2463\u2462" }, { "id": "ref-for-screen\u2463\u2463" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-screen\u2463\u2464" }, { "id": "ref-for-screen\u2463\u2465" }, { "id": "ref-for-screen\u2463\u2466" }], "title": "3.3.1. screens attribute" }, { "refs": [{ "id": "ref-for-screen\u2463\u2467" }, { "id": "ref-for-screen\u2463\u2468" }, { "id": "ref-for-screen\u2464\u24ea" }], "title": "3.3.2. currentScreen attribute" }, { "refs": [{ "id": "ref-for-screen\u2464\u2460" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-screen\u2464\u2461" }, { "id": "ref-for-screen\u2464\u2463" }, { "id": "ref-for-screen\u2464\u2464" }, { "id": "ref-for-screen\u2464\u2465" }, { "id": "ref-for-screen\u2464\u2466" }, { "id": "ref-for-screen\u2464\u2467" }, { "id": "ref-for-screen\u2464\u2468" }, { "id": "ref-for-screen\u2465\u24ea" }, { "id": "ref-for-screen\u2465\u2460" }, { "id": "ref-for-screen\u2465\u2461" }], "title": "3.4. The ScreenDetailed interface" }, { "refs": [{ "id": "ref-for-screen\u2465\u2463" }], "title": "3.4.1. onchange attribute" }, { "refs": [{ "id": "ref-for-screen\u2465\u2464" }, { "id": "ref-for-screen\u2465\u2465" }], "title": "3.5. Extensions to FullscreenOptions" }, { "refs": [{ "id": "ref-for-screen\u2465\u2466" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }], "url": "#screen" },
                "screen-advanced-observable-properties": { "dfnID": "screen-advanced-observable-properties", "dfnText": "advanced observable properties", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-advanced-observable-properties" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-screen-advanced-observable-properties\u2460" }], "title": "3.4.1. onchange attribute" }], "url": "#screen-advanced-observable-properties" },
                "screen-available-height": { "dfnID": "screen-available-height", "dfnText": "available height", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-available-height" }], "title": "2.11. Observable screen properties" }], "url": "#screen-available-height" },
                "screen-available-screen-area": { "dfnID": "screen-available-screen-area", "dfnText": "available screen area", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-available-screen-area" }, { "id": "ref-for-screen-available-screen-area\u2460" }], "title": "2.4. Available screen area" }, { "refs": [{ "id": "ref-for-screen-available-screen-area\u2461" }], "title": "2.7. Available screen position" }, { "refs": [{ "id": "ref-for-screen-available-screen-area\u2462" }], "title": "2.11. Observable screen properties" }], "url": "#screen-available-screen-area" },
                "screen-available-screen-position": { "dfnID": "screen-available-screen-position", "dfnText": "available screen position", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-available-screen-position" }], "title": "2.11. Observable screen properties" }, { "refs": [{ "id": "ref-for-screen-available-screen-position\u2460" }, { "id": "ref-for-screen-available-screen-position\u2461" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#screen-available-screen-position" },
                "screen-available-width": { "dfnID": "screen-available-width", "dfnText": "available width", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-available-width" }], "title": "2.11. Observable screen properties" }], "url": "#screen-available-width" },
                "screen-basic-observable-properties": { "dfnID": "screen-basic-observable-properties", "dfnText": "basic observable properties", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-basic-observable-properties" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-screen-basic-observable-properties\u2460" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-screen-basic-observable-properties\u2461" }], "title": "3.4.1. onchange attribute" }], "url": "#screen-basic-observable-properties" },
                "screen-color-depth": { "dfnID": "screen-color-depth", "dfnText": "color depth", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-color-depth" }], "title": "2.11. Observable screen properties" }], "url": "#screen-color-depth" },
                "screen-device-pixel-ratio": { "dfnID": "screen-device-pixel-ratio", "dfnText": "device pixel ratio", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-device-pixel-ratio" }], "title": "2.1. Screen" }, { "refs": [{ "id": "ref-for-screen-device-pixel-ratio\u2460" }], "title": "2.11. Observable screen properties" }, { "refs": [{ "id": "ref-for-screen-device-pixel-ratio\u2461" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#screen-device-pixel-ratio" },
                "screen-height": { "dfnID": "screen-height", "dfnText": "height", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-height" }, { "id": "ref-for-screen-height\u2460" }], "title": "2.3. Screen area" }, { "refs": [{ "id": "ref-for-screen-height\u2461" }], "title": "2.11. Observable screen properties" }], "url": "#screen-height" },
                "screen-label": { "dfnID": "screen-label", "dfnText": "label", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-label" }, { "id": "ref-for-screen-label\u2460" }], "title": "2.1. Screen" }, { "refs": [{ "id": "ref-for-screen-label\u2461" }], "title": "2.11. Observable screen properties" }, { "refs": [{ "id": "ref-for-screen-label\u2462" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#screen-label" },
                "screen-ordering": { "dfnID": "screen-ordering", "dfnText": "screen ordering", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-ordering" }], "title": "3.3.1. screens attribute" }], "url": "#screen-ordering" },
                "screen-orientation": { "dfnID": "screen-orientation", "dfnText": "orientation", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-orientation" }], "title": "2.11. Observable screen properties" }], "url": "#screen-orientation" },
                "screen-pixels": { "dfnID": "screen-pixels", "dfnText": "pixels", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-pixels" }], "title": "2.1. Screen" }, { "refs": [{ "id": "ref-for-screen-pixels\u2460" }, { "id": "ref-for-screen-pixels\u2461" }, { "id": "ref-for-screen-pixels\u2462" }, { "id": "ref-for-screen-pixels\u2463" }], "title": "2.2. Screen pixel" }, { "refs": [{ "id": "ref-for-screen-pixels\u2464" }, { "id": "ref-for-screen-pixels\u2465" }, { "id": "ref-for-screen-pixels\u2466" }], "title": "2.3. Screen area" }, { "refs": [{ "id": "ref-for-screen-pixels\u2467" }, { "id": "ref-for-screen-pixels\u2468" }], "title": "2.4. Available screen area" }], "url": "#screen-pixels" },
                "screen-screen-area": { "dfnID": "screen-screen-area", "dfnText": "screen area", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-screen-area" }, { "id": "ref-for-screen-screen-area\u2460" }, { "id": "ref-for-screen-screen-area\u2461" }, { "id": "ref-for-screen-screen-area\u2462" }, { "id": "ref-for-screen-screen-area\u2463" }], "title": "2.3. Screen area" }, { "refs": [{ "id": "ref-for-screen-screen-area\u2464" }, { "id": "ref-for-screen-screen-area\u2465" }, { "id": "ref-for-screen-screen-area\u2466" }], "title": "2.4. Available screen area" }, { "refs": [{ "id": "ref-for-screen-screen-area\u2467" }], "title": "2.5. Virtual screen arrangement" }, { "refs": [{ "id": "ref-for-screen-screen-area\u2468" }], "title": "2.6. Screen position" }, { "refs": [{ "id": "ref-for-screen-screen-area\u2460\u24ea" }], "title": "2.11. Observable screen properties" }], "url": "#screen-screen-area" },
                "screen-screen-position": { "dfnID": "screen-screen-position", "dfnText": "screen position", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-screen-position" }], "title": "2.11. Observable screen properties" }, { "refs": [{ "id": "ref-for-screen-screen-position\u2460" }, { "id": "ref-for-screen-screen-position\u2461" }, { "id": "ref-for-screen-screen-position\u2462" }, { "id": "ref-for-screen-screen-position\u2463" }, { "id": "ref-for-screen-screen-position\u2464" }, { "id": "ref-for-screen-screen-position\u2465" }], "title": "3.3.1. screens attribute" }, { "refs": [{ "id": "ref-for-screen-screen-position\u2466" }, { "id": "ref-for-screen-screen-position\u2467" }], "title": "3.4. The ScreenDetailed interface" }], "url": "#screen-screen-position" },
                "screen-width": { "dfnID": "screen-width", "dfnText": "width", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screen-width" }, { "id": "ref-for-screen-width\u2460" }], "title": "2.3. Screen area" }, { "refs": [{ "id": "ref-for-screen-width\u2461" }], "title": "2.11. Observable screen properties" }], "url": "#screen-width" },
                "screendetailed": { "dfnID": "screendetailed", "dfnText": "ScreenDetailed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screendetailed" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-screendetailed\u2460" }], "title": "1.2.5. Place windows on a specific screen" }, { "refs": [{ "id": "ref-for-screendetailed\u2461" }, { "id": "ref-for-screendetailed\u2462" }, { "id": "ref-for-screendetailed\u2463" }, { "id": "ref-for-screendetailed\u2464" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-screendetailed\u2465" }], "title": "3.3.1. screens attribute" }, { "refs": [{ "id": "ref-for-screendetailed\u2466" }, { "id": "ref-for-screendetailed\u2467" }], "title": "3.3.2. currentScreen attribute" }, { "refs": [{ "id": "ref-for-screendetailed\u2468" }, { "id": "ref-for-screendetailed\u2460\u24ea" }], "title": "3.4. The ScreenDetailed interface" }, { "refs": [{ "id": "ref-for-screendetailed\u2460\u2460" }], "title": "3.4.1. onchange attribute" }, { "refs": [{ "id": "ref-for-screendetailed\u2460\u2461" }], "title": "3.5. Extensions to FullscreenOptions" }, { "refs": [{ "id": "ref-for-screendetailed\u2460\u2462" }], "title": "3.5.1. Element.requestFullscreen() method definition changes" }], "url": "#screendetailed" },
                "screendetails": { "dfnID": "screendetails", "dfnText": "ScreenDetails", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-screendetails" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-screendetails\u2460" }], "title": "1.2.3. Request detailed screen information" }, { "refs": [{ "id": "ref-for-screendetails\u2461" }, { "id": "ref-for-screendetails\u2462" }], "title": "3.2. Extensions to the Window interface" }, { "refs": [{ "id": "ref-for-screendetails\u2463" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-screendetails\u2464" }], "title": "3.3. ScreenDetails interface" }, { "refs": [{ "id": "ref-for-screendetails\u2465" }], "title": "3.3.3. onscreenschange attribute" }, { "refs": [{ "id": "ref-for-screendetails\u2466" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-screendetails\u2467" }], "title": "3.7. Permission Policy integration" }], "url": "#screendetails" },
                "secondary": { "dfnID": "secondary", "dfnText": "secondary", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-secondary" }], "title": "2.8. Primary screen" }, { "refs": [{ "id": "ref-for-secondary\u2460" }], "title": "2.11. Observable screen properties" }], "url": "#secondary" },
                "virtual-screen-arrangement": { "dfnID": "virtual-screen-arrangement", "dfnText": "virtual screen arrangement", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-virtual-screen-arrangement" }, { "id": "ref-for-virtual-screen-arrangement\u2460" }, { "id": "ref-for-virtual-screen-arrangement\u2461" }, { "id": "ref-for-virtual-screen-arrangement\u2462" }], "title": "2.5. Virtual screen arrangement" }, { "refs": [{ "id": "ref-for-virtual-screen-arrangement\u2463" }], "title": "2.6. Screen position" }, { "refs": [{ "id": "ref-for-virtual-screen-arrangement\u2464" }], "title": "2.7. Available screen position" }], "url": "#virtual-screen-arrangement" },
                "window-placement-task-source": { "dfnID": "window-placement-task-source", "dfnText": "window placement task source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-window-placement-task-source" }], "title": "3.1.2. onchange attribute" }, { "refs": [{ "id": "ref-for-window-placement-task-source\u2460" }], "title": "3.2.1. getScreenDetails() method" }, { "refs": [{ "id": "ref-for-window-placement-task-source\u2461" }], "title": "3.3.3. onscreenschange attribute" }, { "refs": [{ "id": "ref-for-window-placement-task-source\u2462" }], "title": "3.3.4. oncurrentscreenchange attribute" }, { "refs": [{ "id": "ref-for-window-placement-task-source\u2463" }], "title": "3.4.1. onchange attribute" }], "url": "#window-placement-task-source" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#current-screen": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "current screen", "type": "dfn", "url": "#current-screen" },
                "#dom-fullscreenoptions-screen": { "export": true, "for_": ["FullscreenOptions"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "screen", "type": "dict-member", "url": "#dom-fullscreenoptions-screen" },
                "#dom-permissionpolicy-window-management": { "export": true, "for_": ["PermissionPolicy"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "\"window-management\"", "type": "enum-value", "url": "#dom-permissionpolicy-window-management" },
                "#dom-screen-isextended": { "export": true, "for_": ["Screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "isExtended", "type": "attribute", "url": "#dom-screen-isextended" },
                "#dom-screen-onchange": { "export": true, "for_": ["Screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "onchange", "type": "attribute", "url": "#dom-screen-onchange" },
                "#dom-screendetailed-availleft": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "availLeft", "type": "attribute", "url": "#dom-screendetailed-availleft" },
                "#dom-screendetailed-availtop": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "availTop", "type": "attribute", "url": "#dom-screendetailed-availtop" },
                "#dom-screendetailed-devicepixelratio": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "devicePixelRatio", "type": "attribute", "url": "#dom-screendetailed-devicepixelratio" },
                "#dom-screendetailed-isinternal": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "isInternal", "type": "attribute", "url": "#dom-screendetailed-isinternal" },
                "#dom-screendetailed-isprimary": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "isPrimary", "type": "attribute", "url": "#dom-screendetailed-isprimary" },
                "#dom-screendetailed-label": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "label", "type": "attribute", "url": "#dom-screendetailed-label" },
                "#dom-screendetailed-left": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "left", "type": "attribute", "url": "#dom-screendetailed-left" },
                "#dom-screendetailed-onchange": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "onchange", "type": "attribute", "url": "#dom-screendetailed-onchange" },
                "#dom-screendetailed-top": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "top", "type": "attribute", "url": "#dom-screendetailed-top" },
                "#dom-screendetails-currentscreen": { "export": true, "for_": ["ScreenDetails"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "currentScreen", "type": "attribute", "url": "#dom-screendetails-currentscreen" },
                "#dom-screendetails-oncurrentscreenchange": { "export": true, "for_": ["ScreenDetails"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "oncurrentscreenchange", "type": "attribute", "url": "#dom-screendetails-oncurrentscreenchange" },
                "#dom-screendetails-onscreenschange": { "export": true, "for_": ["ScreenDetails"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "onscreenschange", "type": "attribute", "url": "#dom-screendetails-onscreenschange" },
                "#dom-screendetails-screens": { "export": true, "for_": ["ScreenDetails"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "screens", "type": "attribute", "url": "#dom-screendetails-screens" },
                "#dom-window-getscreendetails": { "export": true, "for_": ["Window"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "getScreenDetails()", "type": "method", "url": "#dom-window-getscreendetails" },
                "#dom-window-screendetails-slot": { "export": true, "for_": ["Window"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "[[screenDetails]]", "type": "attribute", "url": "#dom-window-screendetails-slot" },
                "#dom-window-targetscreenfullscreen-slot": { "export": true, "for_": ["Window"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "[[targetScreenFullscreen]]", "type": "attribute", "url": "#dom-window-targetscreenfullscreen-slot" },
                "#eventdef-screen-change": { "export": true, "for_": ["Screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "change", "type": "event", "url": "#eventdef-screen-change" },
                "#eventdef-screendetailed-change": { "export": true, "for_": ["ScreenDetailed"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "change", "type": "event", "url": "#eventdef-screendetailed-change" },
                "#eventdef-screendetails-currentscreenchange": { "export": true, "for_": ["ScreenDetails"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "currentscreenchange", "type": "event", "url": "#eventdef-screendetails-currentscreenchange" },
                "#eventdef-screendetails-screenschange": { "export": true, "for_": ["ScreenDetails"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "screenschange", "type": "event", "url": "#eventdef-screendetails-screenschange" },
                "#external": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "external", "type": "dfn", "url": "#external" },
                "#internal": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "internal", "type": "dfn", "url": "#internal" },
                "#multi-screen-origin": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "multi-screen origin", "type": "dfn", "url": "#multi-screen-origin" },
                "#permissiondef-window-management": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "window-management", "type": "permission", "url": "#permissiondef-window-management" },
                "#pixel-color-depth": { "export": true, "for_": ["pixel"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "color depth", "type": "dfn", "url": "#pixel-color-depth" },
                "#primary": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "primary", "type": "dfn", "url": "#primary" },
                "#screen": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "screen", "type": "dfn", "url": "#screen" },
                "#screen-advanced-observable-properties": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "advanced observable properties", "type": "dfn", "url": "#screen-advanced-observable-properties" },
                "#screen-available-height": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "available height", "type": "dfn", "url": "#screen-available-height" },
                "#screen-available-screen-area": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "available screen area", "type": "dfn", "url": "#screen-available-screen-area" },
                "#screen-available-screen-position": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "available screen position", "type": "dfn", "url": "#screen-available-screen-position" },
                "#screen-available-width": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "available width", "type": "dfn", "url": "#screen-available-width" },
                "#screen-basic-observable-properties": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "basic observable properties", "type": "dfn", "url": "#screen-basic-observable-properties" },
                "#screen-color-depth": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "color depth", "type": "dfn", "url": "#screen-color-depth" },
                "#screen-device-pixel-ratio": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "device pixel ratio", "type": "dfn", "url": "#screen-device-pixel-ratio" },
                "#screen-height": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "height", "type": "dfn", "url": "#screen-height" },
                "#screen-label": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "label", "type": "dfn", "url": "#screen-label" },
                "#screen-ordering": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "screen ordering", "type": "dfn", "url": "#screen-ordering" },
                "#screen-orientation": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "orientation", "type": "dfn", "url": "#screen-orientation" },
                "#screen-pixels": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "pixels", "type": "dfn", "url": "#screen-pixels" },
                "#screen-screen-area": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "screen area", "type": "dfn", "url": "#screen-screen-area" },
                "#screen-screen-position": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "screen position", "type": "dfn", "url": "#screen-screen-position" },
                "#screen-width": { "export": true, "for_": ["screen"], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "width", "type": "dfn", "url": "#screen-width" },
                "#screendetailed": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "ScreenDetailed", "type": "interface", "url": "#screendetailed" },
                "#screendetails": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "ScreenDetails", "type": "interface", "url": "#screendetails" },
                "#secondary": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "secondary", "type": "dfn", "url": "#secondary" },
                "#virtual-screen-arrangement": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "virtual screen arrangement", "type": "dfn", "url": "#virtual-screen-arrangement" },
                "#window-placement-task-source": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "window-management", "spec": "window-management", "status": "local", "text": "window placement task source", "type": "dfn", "url": "#window-placement-task-source" },
                "https://dom.spec.whatwg.org/#concept-document": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "document", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-document" },
                "https://dom.spec.whatwg.org/#concept-event-fire": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "fire an event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-fire" },
                "https://dom.spec.whatwg.org/#eventtarget": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventTarget", "type": "interface", "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "https://drafts.csswg.org/css-values-4/#px": { "export": true, "for_": [], "level": "4", "normative": true, "shortname": "css-values", "spec": "css-values-4", "status": "anchor-block", "text": "css pixel", "type": "dfn", "url": "https://drafts.csswg.org/css-values-4/#px" },
                "https://drafts.csswg.org/cssom-view-1/#dom-window-screenleft": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "screenLeft", "type": "attribute", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screenleft" },
                "https://drafts.csswg.org/cssom-view-1/#dom-window-screentop": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "screenTop", "type": "attribute", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screentop" },
                "https://drafts.csswg.org/cssom-view-1/#web-exposed-available-screen-area": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "web-exposed available screen area", "type": "dfn", "url": "https://drafts.csswg.org/cssom-view-1/#web-exposed-available-screen-area" },
                "https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-area": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "current", "text": "web-exposed screen area", "type": "dfn", "url": "https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-area" },
                "https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fullscreen", "spec": "fullscreen", "status": "current", "text": "FullscreenOptions", "type": "dictionary", "url": "https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" },
                "https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen": { "export": true, "for_": ["Element"], "level": "1", "normative": true, "shortname": "fullscreen", "spec": "fullscreen", "status": "current", "text": "requestFullscreen()", "type": "method", "url": "https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" },
                "https://html.spec.whatwg.org/multipage/#last-activation-timestamp": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "last activation timestamp", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/#last-activation-timestamp" },
                "https://html.spec.whatwg.org/multipage/#transient-activation-duration": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "transient activation duration", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/#transient-activation-duration" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document": { "export": true, "for_": ["navigable"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "active document", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" },
                "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "top-level browsing context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context" },
                "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "allowed to use", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "consume user activation", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation" },
                "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "transient activation", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "associated document", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "open(url, target, features)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Window", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler event type", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler idl attribute", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "EventHandler", "type": "typedef", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a global task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "https://infra.spec.whatwg.org/#list": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "list", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list" },
                "https://infra.spec.whatwg.org/#list-append": { "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-append" },
                "https://infra.spec.whatwg.org/#list-sort-in-ascending-order": { "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "sorting", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-sort-in-ascending-order" },
                "https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "internal slot", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots" },
                "https://webidl.spec.whatwg.org/#Exposed": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#SecureContext": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "https://webidl.spec.whatwg.org/#a-new-promise": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a new promise", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-DOMString": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-float": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "float", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-float" },
                "https://webidl.spec.whatwg.org/#idl-frozen-array": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "FrozenArray", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
                "https://webidl.spec.whatwg.org/#idl-long": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "long", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-long" },
                "https://webidl.spec.whatwg.org/#idl-promise": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "https://webidl.spec.whatwg.org/#notallowederror": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotAllowedError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "https://webidl.spec.whatwg.org/#reject": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reject", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#reject" },
                "https://webidl.spec.whatwg.org/#resolve": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "resolve", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#resolve" },
                "https://webidl.spec.whatwg.org/#this": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
                "https://www.w3.org/TR/cssom-view-1/#dom-window-devicepixelratio": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "devicePixelRatio", "type": "attribute", "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-devicepixelratio" },
                "https://www.w3.org/TR/cssom-view-1/#dom-window-moveby": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "moveBy(x, y)", "type": "method", "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-moveby" },
                "https://www.w3.org/TR/cssom-view-1/#dom-window-moveto": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "moveTo(x, y)", "type": "method", "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-moveto" },
                "https://www.w3.org/TR/cssom-view-1/#dom-window-resizeby": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "resizeBy(x, y)", "type": "method", "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-resizeby" },
                "https://www.w3.org/TR/cssom-view-1/#dom-window-resizeto": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "resizeTo(x, y)", "type": "method", "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-resizeto" },
                "https://www.w3.org/TR/cssom-view-1/#dom-window-screen": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "screen", "type": "attribute", "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-screen" },
                "https://www.w3.org/TR/cssom-view-1/#dom-window-screenx": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "screenX", "type": "attribute", "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-screenx" },
                "https://www.w3.org/TR/cssom-view-1/#dom-window-screeny": { "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "screenY", "type": "attribute", "url": "https://www.w3.org/TR/cssom-view-1/#dom-window-screeny" },
                "https://www.w3.org/TR/cssom-view-1/#screen": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cssom-view", "spec": "cssom-view-1", "status": "snapshot", "text": "Screen", "type": "interface", "url": "https://www.w3.org/TR/cssom-view-1/#screen" },
                "https://www.w3.org/TR/fingerprinting-guidance/#dfn-active-fingerprinting": { "export": true, "for_": [], "level": "", "normative": true, "shortname": "fingerprinting-guidance", "spec": "fingerprinting-guidance", "status": "anchor-block", "text": "active fingerprinting", "type": "dfn", "url": "https://www.w3.org/TR/fingerprinting-guidance/#dfn-active-fingerprinting" },
                "https://www.w3.org/TR/hr-time-3/#dfn-current-high-resolution-time": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "snapshot", "text": "current high resolution time", "type": "dfn", "url": "https://www.w3.org/TR/hr-time-3/#dfn-current-high-resolution-time" },
                "https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp": { "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "snapshot", "text": "DOMHighResTimeStamp", "type": "typedef", "url": "https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp" },
                "https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions-policy", "spec": "permissions-policy-1", "status": "snapshot", "text": "policy-controlled feature", "type": "dfn", "url": "https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature" },
                "https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist": { "export": true, "for_": ["policy-controlled feature"], "level": "1", "normative": true, "shortname": "permissions-policy", "spec": "permissions-policy-1", "status": "snapshot", "text": "default allowlist", "type": "dfn", "url": "https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist" },
                "https://www.w3.org/TR/permissions/#dfn-default-powerful-feature": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "default powerful feature", "type": "dfn", "url": "https://www.w3.org/TR/permissions/#dfn-default-powerful-feature" },
                "https://www.w3.org/TR/permissions/#dfn-name": { "export": true, "for_": ["powerful feature"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "name", "type": "dfn", "url": "https://www.w3.org/TR/permissions/#dfn-name" },
                "https://www.w3.org/TR/permissions/#dfn-request-permission-to-use": { "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "request permission to use", "type": "dfn", "url": "https://www.w3.org/TR/permissions/#dfn-request-permission-to-use" },
                "https://www.w3.org/TR/permissions/#dom-permissionstate-denied": { "export": true, "for_": ["PermissionState"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "denied", "type": "enum-value", "url": "https://www.w3.org/TR/permissions/#dom-permissionstate-denied" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.text != linkText) {
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.text)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const ref = refsData[url];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>