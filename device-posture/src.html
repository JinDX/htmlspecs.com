<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.1.2">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>Device Posture API</title>


    <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">


    <style>
        :root {
            --drawing-size: 15rem;
        }

        .drawing {
            height: var(--drawing-size);
            margin-bottom: 1em;
            object-fit: contain;
        }

        .centered {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-around;
        }

        .postures {
            display: grid;
            grid-template: 1fr / auto auto;
            grid-gap: 2rem;
        }

        section img {
            width: 70%;
            height: auto;
            margin: auto;
            display: flex;
        }

        @media (max-width: 500px) {

            /*for narrow displays like the fold*/
            .postures {
                display: flex;
                flex-flow: column nowrap;
                justify-content: center;
            }
        }

        body {
            background-repeat: no-repeat !important;
        }
    </style>

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <meta name="description" content="This document specifies an API that allows web applications to request
        and be notified of changes of the posture of a device.">
    <link rel="canonical" href="https://www.w3.org/TR/device-posture/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "CR",
  "shortName": "device-posture",
  "editors": [
    {
      "name": "Diego González",
      "url": "https://twitter.com/diekus",
      "company": "Microsoft, formerly on behalf of Samsung",
      "companyURL": "https://microsoft.com",
      "w3cid": 66757
    },
    {
      "name": "Kenneth Rohde Christiansen",
      "url": "https://github.com/kenchris",
      "company": "Intel Corporation",
      "companyURL": "https://intel.com/",
      "w3cid": 57705
    },
    {
      "name": "Alexis Menard",
      "url": "https://github.com/darktears",
      "company": "Intel Corporation",
      "companyURL": "https://intel.com/",
      "w3cid": 58389
    }
  ],
  "github": "https://github.com/w3c/device-posture",
  "group": "das",
  "testSuiteURI": "https://wpt.live/device-posture",
  "implementationReportURI": "https://wpt.fyi/results/device-posture",
  "otherLinks": [
    {
      "key": "Additional resources",
      "data": [
        {
          "value": "Explainer",
          "href": "https://github.com/w3c/device-posture/blob/gh-pages/README.md"
        },
        {
          "value": "Polyfill",
          "href": "https://w3c.github.io/device-posture/polyfill/demo.html"
        }
      ]
    }
  ],
  "xref": {
    "profile": "web-platform",
    "specs": [
      "mediaqueries",
      "screen-orientation"
    ]
  },
  "publishDate": "2024-11-26",
  "crEnd": "2024-12-24",
  "publishISODate": "2024-11-26T00:00:00.000Z",
  "generatedSubtitle": "W3C Candidate Recommendation Snapshot 26 November 2024"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-CR">
</head>

<body class="h-entry" data-cite="WEBIDL mediaqueries screen-orientation HTML INFRA URL WEBIDL DOM FETCH">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">Device Posture API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CR">W3C Candidate Recommendation Snapshot</a>
            <time class="dt-published" datetime="2024-11-26">26 November 2024</time>
        </p>
        <details open="">
            <summary>More details about this document</summary>
            <dl>
                <dt>This version:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2024/CR-device-posture-20241126/">https://www.w3.org/TR/2024/CR-device-posture-20241126/</a>
                </dd>
                <dt>Latest published version:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/device-posture/">https://www.w3.org/TR/device-posture/</a>
                </dd>
                <dt>Latest editor's draft:</dt>
                <dd><a href="https://w3c.github.io/device-posture/">https://w3c.github.io/device-posture/</a></dd>
                <dt>History:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/device-posture/">https://www.w3.org/standards/history/device-posture/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/device-posture/commits/">Commit history</a>
                </dd>
                <dt>Test suite:</dt>
                <dd><a href="https://wpt.live/device-posture">https://wpt.live/device-posture</a></dd>
                <dt>Implementation report:</dt>
                <dd>
                    <a href="https://wpt.fyi/results/device-posture">https://wpt.fyi/results/device-posture</a>
                </dd>



                <dt>Editors:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="66757">
                    <a class="u-url url p-name fn" href="https://twitter.com/diekus">Diego González</a> (<a
                        class="p-org org h-org" href="https://microsoft.com">Microsoft, formerly on behalf of
                        Samsung</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="57705">
                    <a class="u-url url p-name fn" href="https://github.com/kenchris">Kenneth Rohde Christiansen</a> (<a
                        class="p-org org h-org" href="https://intel.com/">Intel Corporation</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="58389">
                    <a class="u-url url p-name fn" href="https://github.com/darktears">Alexis Menard</a> (<a
                        class="p-org org h-org" href="https://intel.com/">Intel Corporation</a>)
                </dd>


                <dt>Feedback:</dt>
                <dd>
                    <a href="https://github.com/w3c/device-posture/">GitHub w3c/device-posture</a>
                    (<a href="https://github.com/w3c/device-posture/pulls/">pull requests</a>,
                    <a href="https://github.com/w3c/device-posture/issues/new/choose">new issue</a>,
                    <a href="https://github.com/w3c/device-posture/issues/">open issues</a>)
                </dd>

                <dt>Additional resources</dt>
                <dd>
                    <a href="https://github.com/w3c/device-posture/blob/gh-pages/README.md">Explainer</a>
                </dd>
                <dd>
                    <a href="https://w3c.github.io/device-posture/polyfill/demo.html">Polyfill</a>
                </dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2024

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>Abstract</h2>
        <p>
            This document specifies an API that allows web applications to request
            and be notified of changes of the posture of a device.
        </p>
    </section>
    <section id="sotd" class="introductory">
        <h2>Status of This Document</h2>
        <p><em>This section describes the status of this
                document at the time of its publication. A list of current <abbr
                    title="World Wide Web Consortium">W3C</abbr>
                publications and the latest revision of this technical report can be found
                in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical
                    reports index</a> at
                https://www.w3.org/TR/.</em></p>
        <p>
            Vendors interested in implementing this specification before it
            eventually reaches the Candidate Recommendation phase should <a
                href="https://github.com/w3c/device-posture">subscribe to the repository on
                GitHub</a> and take part in the discussions.
        </p>
        <p>
            This document was published by the <a href="https://www.w3.org/groups/wg/das">Devices and Sensors Working
                Group</a> as
            a Candidate Recommendation Snapshot using the
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">Recommendation track</a>.
        </p>
        <p>Publication as a Candidate Recommendation does not
            imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. A Candidate
            Recommendation Snapshot has received
            <a href="https://www.w3.org/policies/process/20231103/#dfn-wide-review">wide review</a>, is intended to
            gather
            <a href="https://wpt.fyi/results/device-posture">implementation experience</a>,
            and has commitments from Working Group members to
            <a href="https://www.w3.org/policies/patent-policy/#sec-Requirements">royalty-free licensing</a>
            for implementations.
        </p>
        <p>
            This Candidate Recommendation is not expected to advance to Proposed
            Recommendation any earlier than 24 December 2024.
        </p>
        <p>

            This document was produced by a group
            operating under the
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                Patent
                Policy</a>.


            <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
            <a rel="disclosure" href="https://www.w3.org/groups/wg/das/ipr">public list of any patent disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual
            knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a>
            must disclose the information in accordance with
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the <abbr
                    title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.

        </p>
        <p>
            This document is governed by the
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">03 November 2023 <abbr
                    title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
                    Introduction
                </a></li>
            <li class="tocline"><a class="tocxref" href="#extensions-to-the-document-interface"><bdi class="secno">2.
                    </bdi>
                    Extensions to the <code>Document</code> interface
                </a></li>
            <li class="tocline"><a class="tocxref" href="#extensions-to-the-navigator-interface"><bdi class="secno">3.
                    </bdi>
                    Extensions to the <code>Navigator</code> interface
                </a></li>
            <li class="tocline"><a class="tocxref" href="#the-deviceposture-interface"><bdi class="secno">4. </bdi>
                    The <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="DevicePosture"
                        data-dfn-for=""><code>DevicePosture</code></span> interface
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#the-type-attribute-get-current-device-posture"><bdi
                                class="secno">4.1 </bdi>
                            The <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="type"
                                data-dfn-for="DevicePosture" data-type="DevicePostureType" data-lt="type"
                                data-local-lt="DevicePosture.type"><code>type</code></span> attribute: Get current
                            device posture
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#the-onchange-attribute-handle-posture-changes"><bdi
                                class="secno">4.2 </bdi>
                            The <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="onchange" data-dfn-for="DevicePosture" data-type="EventHandler"
                                data-lt="onchange" data-local-lt="DevicePosture.onchange"><code>onchange</code></span>
                            attribute: Handle posture changes
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#posture-types"><bdi class="secno">5. </bdi>
                    Posture types
                </a></li>
            <li class="tocline"><a class="tocxref" href="#device-posture-media-queries"><bdi class="secno">6. </bdi>
                    Device Posture Media Queries
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#the-device-posture-media-feature"><bdi
                                class="secno">6.1 </bdi>
                            The <code><span>device-posture</span></code> media feature
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#reading-the-posture"><bdi class="secno">7. </bdi>
                    Reading the posture
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#posture-values-table"><bdi class="secno">7.1 </bdi>
                            <span>Posture values table</span>
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#foldables"><bdi class="secno">7.1.1 </bdi>
                                    Foldables
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#algorithms"><bdi class="secno">8. </bdi>
                    Algorithms
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#calculating-the-device-posture-information"><bdi
                                class="secno">8.1 </bdi>
                            Calculating the device posture information
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#device-posture-change"><bdi class="secno">8.2 </bdi>
                            Device Posture change
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#security-considerations"><bdi class="secno">9. </bdi>
                    Security considerations
                </a></li>
            <li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">10. </bdi>
                    Privacy considerations
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#types-of-privacy-threats"><bdi class="secno">10.1
                            </bdi>
                            Types of privacy threats
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#identifying-users-across-contexts"><bdi
                                        class="secno">10.1.1 </bdi>
                                    Identifying users across contexts
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#cross-origin-iframes"><bdi
                                        class="secno">10.1.2 </bdi>
                                    Cross-origin iframes
                                </a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#malicious-script-injection-for-advertising-or-exploitation"><bdi
                                        class="secno">10.1.3 </bdi>
                                    Malicious script injection (for advertising or exploitation)
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#mitigation-strategies"><bdi class="secno">10.2 </bdi>
                            Mitigation strategies
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#data-minimization"><bdi class="secno">10.2.1
                                    </bdi>
                                    Data minimization
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#user-attention"><bdi class="secno">10.2.2
                                    </bdi>
                                    User attention
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#user-mediated-action"><bdi
                                        class="secno">10.2.3 </bdi>
                                    User-mediated action
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#accessibility-considerations"><bdi class="secno">11. </bdi>
                    Accessibility considerations
                </a></li>
            <li class="tocline"><a class="tocxref" href="#automation"><bdi class="secno">12. </bdi>
                    Automation
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#extension-commands"><bdi class="secno">12.1 </bdi>
                            Extension Commands
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#set-device-posture"><bdi class="secno">12.1.1
                                    </bdi>
                                    Set device posture
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#clear-device-posture"><bdi
                                        class="secno">12.1.2 </bdi>
                                    Clear device posture
                                </a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">13. </bdi>
                    Examples
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#example-1-posture-data"><bdi class="secno">13.1 </bdi>
                            Example 1: Posture data
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#example-2-device-posture"><bdi class="secno">13.2
                            </bdi>
                            Example 2: device-posture
                        </a></li>
                    <li class="tocline"><a class="tocxref"
                            href="#example-3-feature-detection-of-device-posture-media-feature"><bdi class="secno">13.3
                            </bdi>
                            Example 3: Feature detection of device-posture media feature
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">14. </bdi>Conformance</a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">A. </bdi>IDL Index</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">B. </bdi>
                    Acknowledgments
                </a></li>
            <li class="tocline"><a class="tocxref" href="#substantive-changes-summary"><bdi class="secno">C. </bdi>
                    Summary of substantive changes
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#substantive-changes-summary-fpwd"><bdi
                                class="secno">C.1 </bdi>
                            Changes since the <span class="formerLink">First Public
                                Working Draft (2020/12/17)</span>
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">D. </bdi>References</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">D.1
                            </bdi>Normative references</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">D.2
                            </bdi>Informative references</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section id="introduction">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                Introduction
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>

        <p>
            The device posture is the physical position in which a device holds
            which may be derived from sensors in addition to the angle. New types
            of mobile devices are appearing that have some sort of capabilities
            that allow them to change their posture. The most common types of
            devices are the ones that can fold (their screen or around their
            screen), allowing them to physically alter their form factor. The main
            interest in knowing the posture of a device is to enable new user
            experiences with responsive design.
        </p>
        <p>
            Among the described "folding" devices, there are mainly two different
            physical form factors: devices with a single flexible screen
            (seamless), and devices with two screens (with seam). They can both
            fold around a hinge, and the current specification applies to both
            types. It should be clarified as well that both seamless and (devices)
            with seam can be of different dimension ranging from mobile and tablets
            to laptop sizes. It should also be noted that different devices will
            have different default orientations (portrait or landscape), and that
            the fold might happen in a vertical or horizontal way.
        </p><span class="centered"><img src="images/form-factors.svg" height="150"
                alt="drawing of different type of foldable devices"></span>
        <p>
            From enhancing the usability of a website by avoiding the area of a
            fold, to enabling innovative use cases for the web, knowing the posture
            of a device can help developers tailor their content to different
            devices.
        </p>
        <p>
            Content can be consumed and browsed even when the device is not flat,
            in which case the developer might want to provide a different layout
            for it depending on the posture state in which the device is being
            used.
        </p>
    </section>
    <section id="extensions-to-the-document-interface">
        <div class="header-wrapper">
            <h2 id="x2-extensions-to-the-document-interface"><bdi class="secno">2. </bdi>
                Extensions to the <code>Document</code> interface
            </h2><a class="self-link" href="#extensions-to-the-document-interface"
                aria-label="Permalink for Section 2."></a>
        </div>

        <p>
            The following internal slots are added to the <a data-link-type="idl" data-lt="Document"
                data-type="interface" href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> interface.
        </p>
        <table class="def">
            <thead>
                <tr>
                    <th>
                        Internal slot
                    </th>
                    <th>
                        Description
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <dfn data-dfn-for="Document" data-idl="" data-noexport="" data-dfn-type="attribute"
                            id="dfn-currentposture" tabindex="0" aria-haspopup="dialog">[[CurrentPosture]]</dfn>
                    </td>
                    <td>
                        The device's <dfn id="dfn-current-posture" tabindex="0" aria-haspopup="dialog"
                            data-dfn-type="dfn">current posture</dfn>.
                    </td>
                </tr>
            </tbody>
        </table>
    </section>
    <section data-dfn-for="Navigator" id="extensions-to-the-navigator-interface-0">
        <div class="header-wrapper">
            <h2 id="extensions-to-the-navigator-interface"><bdi class="secno">3. </bdi>
                Extensions to the <code>Navigator</code> interface
            </h2><a class="self-link" href="#extensions-to-the-navigator-interface"
                aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            The [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>]
            specification defines the <a data-link-type="idl" data-lt="Navigator" data-type="interface"
                href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a>
            interface, which
            this specification extends:
        </p>
        <pre class="idl def" id="webidl-1684897042"><span class="idlHeader"><a class="self-link" href="#webidl-1684897042">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-deviceposture" data-title="devicePosture" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-deviceposture" class="internalDFN" id="ref-for-dom-deviceposture-1"><code>DevicePosture</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-navigator-deviceposture" data-idl="attribute" data-title="devicePosture" data-dfn-for="Navigator" data-type="DevicePosture" data-lt="devicePosture" data-local-lt="Navigator.devicePosture" class="idlName" tabindex="0" aria-haspopup="dialog"><code>devicePosture</code></dfn>;</span>
};</span></code></pre>
    </section>
    <section data-dfn-for="DevicePosture" id="the-deviceposture-interface">
        <div class="header-wrapper">
            <h2 id="x4-the-deviceposture-interface"><bdi class="secno">4. </bdi>
                The <dfn data-export="" data-dfn-type="interface" id="dom-deviceposture" data-idl="interface"
                    data-title="DevicePosture" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>DevicePosture</code></dfn> interface
            </h2><a class="self-link" href="#the-deviceposture-interface" aria-label="Permalink for Section 4."></a>
        </div>

        <pre class="idl def" id="webidl-1268263519"><span class="idlHeader"><a class="self-link" href="#webidl-1268263519">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-deviceposture" data-title="DevicePosture">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-deviceposture" id="ref-for-dom-deviceposture-2"><code>DevicePosture</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-deviceposture-type" data-title="type" data-dfn-for="DevicePosture">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-deviceposturetype" class="internalDFN" id="ref-for-dom-deviceposturetype-1"><code>DevicePostureType</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-deviceposture-type" id="ref-for-dom-deviceposture-type-1"><code>type</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-deviceposture-onchange" data-title="onchange" data-dfn-for="DevicePosture">
  attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-deviceposture-onchange" id="ref-for-dom-deviceposture-onchange-1"><code>onchange</code></a>;</span>
};</span><span data-idl="" class="idlEnum" id="idl-def-deviceposturetype" data-title="DevicePostureType">

enum <dfn data-export="" data-dfn-type="enum" id="dom-deviceposturetype" data-idl="enum" data-title="DevicePostureType" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>DevicePostureType</code></dfn> {
  <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-deviceposturetype-continuous" data-idl="enum-value" data-title="continuous" data-dfn-for="DevicePostureType" tabindex="0" aria-haspopup="dialog"><code>continuous</code></dfn>"</span>,
  <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-deviceposturetype-folded" data-idl="enum-value" data-title="folded" data-dfn-for="DevicePostureType" tabindex="0" aria-haspopup="dialog"><code>folded</code></dfn>"</span>      
};</span></code></pre>
        <section id="the-type-attribute-get-current-device-posture">
            <div class="header-wrapper">
                <h3 id="x4-1-the-type-attribute-get-current-device-posture"><bdi class="secno">4.1 </bdi>
                    The <dfn data-export="" data-dfn-type="attribute" id="dom-deviceposture-type" data-idl="attribute"
                        data-title="type" data-dfn-for="DevicePosture" data-type="DevicePostureType" data-lt="type"
                        data-local-lt="DevicePosture.type" tabindex="0" aria-haspopup="dialog"><code>type</code></dfn>
                    attribute: Get current device posture
                </h3><a class="self-link" href="#the-type-attribute-get-current-device-posture"
                    aria-label="Permalink for Section 4.1"></a>
            </div>

            <p>
                When getting the type attribute, the user agent <em class="rfc2119">MUST</em> return the value
                of <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://webidl.spec.whatwg.org/#this">this</a>'s <a data-link-type="dfn|abstract-op"
                    data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                    global object</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated
                    Document</a>'s
                internal slot <a data-link-type="attribute" data-lt="[[CurrentPosture]]" href="#dfn-currentposture"
                    class="internalDFN" id="ref-for-dfn-currentposture-1"><code>[[CurrentPosture]]</code></a>.
            </p>
        </section>
        <section id="the-onchange-attribute-handle-posture-changes">
            <div class="header-wrapper">
                <h3 id="x4-2-the-onchange-attribute-handle-posture-changes"><bdi class="secno">4.2 </bdi>
                    The <dfn data-export="" data-dfn-type="attribute" id="dom-deviceposture-onchange"
                        data-idl="attribute" data-title="onchange" data-dfn-for="DevicePosture" data-type="EventHandler"
                        data-lt="onchange" data-local-lt="DevicePosture.onchange" tabindex="0"
                        aria-haspopup="dialog"><code>onchange</code></dfn> attribute: Handle posture changes
                </h3><a class="self-link" href="#the-onchange-attribute-handle-posture-changes"
                    aria-label="Permalink for Section 4.2"></a>
            </div>

            <p data-link-for="DevicePosture">
                The <a data-link-type="idl" data-lt="onchange" href="#dom-deviceposture-onchange" class="internalDFN"
                    id="ref-for-dom-deviceposture-onchange-2"><code>onchange</code></a> attribute is an <a
                    data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">event
                    handler IDL attribute</a>
                for the <a data-link-type="idl" data-lt="onchange" href="#dom-deviceposture-onchange"
                    class="internalDFN" id="ref-for-dom-deviceposture-onchange-3"><code>onchange</code></a> <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handler</a>,
                whose <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">event handler
                    event type</a> is "<dfn class="event" data-dfn-for="DevicePosture" data-dfn-type="event"
                    id="dfn-change" tabindex="0" aria-haspopup="dialog" data-export="">change</dfn>".
            </p>
        </section>
    </section>
    <section data-link-for="DevicePostureType" id="posture-types">
        <div class="header-wrapper">
            <h2 id="x5-posture-types"><bdi class="secno">5. </bdi>
                Posture types
            </h2><a class="self-link" href="#posture-types" aria-label="Permalink for Section 5."></a>
        </div>

        <p>
            This specification defines the following <dfn data-export="" id="dfn-posture" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">posture</dfn> values:
        </p>
        <ol class="postures">
            <li>
                <img src="images/continuos-posture.svg" class="drawing" alt="drawing of the continuous posture">
                <p>
                    <a href="#dom-deviceposturetype-continuous" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-deviceposturetype-continuous-1">Continuous</a> posture: The continuous posture
                    refers to a
                    "flat" position. This is the default case for most devices not
                    allowing different postures.
                </p>
                <p>
                    It includes devices with no folds, hinges or similar capabilities.
                </p>
                <p>
                    Due to the nature of hardware innovation, it also includes devices
                    with dual, foldable, rollable or curved screens, as long as they
                    are in a posture where the <a data-link-type="idl" data-lt="Document" data-type="interface"
                        href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> is expected to be
                    displayed
                    with a flat layout.
                </p>
                <p>
                    Examples of these are:
                </p>
                <ul>
                    <li>Foldable device in a flat, fully unfolded posture.
                    </li>
                    <li>Foldable device running the browser in a window/section that
                        does not span across the hinge.
                    </li>
                    <li>2-in-1 device in tablet mode using only 1 screen/side.
                    </li>
                    <li>Devices that do not fold.
                    </li>
                </ul>
                <div class="note" role="note" id="issue-container-generatedID">
                    <div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Note</span></div>
                    <div class="">
                        <p>
                            In some cases, devices can run several apps and be in a physical
                            posture other than flat, but as long as the browser does not span
                            through several screens/sections, the corresponding posture is
                            continuous.
                        </p>
                    </div>
                </div>
            </li>
            <li>
                <img src="images/folded-posture.svg" class="drawing" alt="drawing of the folded posture"> <a
                    href="#dom-deviceposturetype-folded" class="internalDFN" data-link-type="idl"
                    id="ref-for-dom-deviceposturetype-folded-1">Folded</a> posture: The folded
                posture refers to devices that can physically fold. These devices can
                have one flexible screen or two adjacent screens. This posture forms
                an angle between the displays/sections that does not exceed a 'flat'
                position.
                <p>
                    Examples of these are:
                </p>
                <ul>
                    <li>Foldable device with a vertical hinge and internal screens
                        being used in a 'book' posture, where the content spans through
                        both sections and forms an angle between ~30° and ~170°.
                    </li>
                    <li>Foldable device with a horizontal hinge and internal screens
                        being used in a 'laptop' posture.
                    </li>
                </ul>
                <div class="note" role="note" id="issue-container-generatedID-0">
                    <div role="heading" class="note-title marker" id="h-note-0" aria-level="3"><span>Note</span></div>
                    <div class="">
                        <p>
                            When a foldable is used in a half-folded state (like a book),
                            implementers might need to take into account the effect of text
                            direction and writing mode on the layout and presentation.
                        </p>
                        <p>
                            For example, right-to-left languages (those that use scripts such
                            as Arabic, Hebrew, Syriac, and others) and many vertical writing
                            modes used by, for example, East Asian languages progress pages
                            in the opposite order to that used by an English book, with the
                            lower numbered page on the right.
                        </p>
                        <p>
                            See <a
                                href="https://www.w3.org/TR/clreq/#major_differences_between_horizontal_and_vertical_writing_modes">
                                Chinese</a>, <a
                                href="https://www.w3.org/TR/jlreq/#major_differences_between_horizontal_and_vertical_writing_modes">
                                Japanese</a>, and <a href="https://www.w3.org/TR/klreq/#para-diffs">Korean</a>
                            differences in writing modes for more information.
                        </p>
                    </div>
                </div>
            </li>
        </ol>
        <p>
            In the API, the <a data-link-type="dfn|abstract-op" href="#dfn-posture" class="internalDFN"
                id="ref-for-dfn-posture-1">posture</a> values are represented by the
            <a data-link-type="idl" data-lt="DevicePostureType" href="#dom-deviceposturetype" class="internalDFN"
                id="ref-for-dom-deviceposturetype-2"><code>DevicePostureType</code></a> enum values.
        </p>
    </section>
    <section data-link-for="DevicePostureType" id="device-posture-media-queries">
        <div class="header-wrapper">
            <h2 id="x6-device-posture-media-queries"><bdi class="secno">6. </bdi>
                Device Posture Media Queries
            </h2><a class="self-link" href="#device-posture-media-queries" aria-label="Permalink for Section 6."></a>
        </div>

        <section id="the-device-posture-media-feature">
            <div class="header-wrapper">
                <h3 id="x6-1-the-device-posture-media-feature"><bdi class="secno">6.1 </bdi>
                    The
                    <code><dfn id="dfn-device-posture" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">device-posture</dfn></code>
                    media feature
                </h3><a class="self-link" href="#the-device-posture-media-feature"
                    aria-label="Permalink for Section 6.1"></a>
            </div>
            <p>
                The
                <code><a data-link-type="dfn|abstract-op" href="#dfn-device-posture" class="internalDFN" id="ref-for-dfn-device-posture-1"><code>device-posture</code></a></code>
                media feature represents, via a CSS
                media query [<cite><a class="bibref" data-link-type="biblio" href="#bib-mediaq"
                        title="Media Queries Level 4">MEDIAQ</a></cite>], the <a href="#dfn-posture" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-posture-2">posture</a> of the device. All
                <a data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable">navigables</a>
                reflect the <a href="#dfn-posture" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-posture-3">posture</a> of their
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top">top-level
                    traversable</a>.
            </p>
            <dl>
                <dt>
                    Value:
                </dt>
                <dd>
                    <a href="#dom-deviceposturetype-continuous" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-deviceposturetype-continuous-2"><code>continuous</code></a> | <a
                        href="#dom-deviceposturetype-folded" class="internalDFN" data-link-type="idl"
                        id="ref-for-dom-deviceposturetype-folded-2"><code>folded</code></a>
                </dd>
                <dt>
                    Applies to:
                </dt>
                <dd>
                    visual media types
                </dd>
                <dt>
                    Accepts min/max prefixes:
                </dt>
                <dd>
                    No
                </dd>
            </dl>
            <p>
                A user agent <em class="rfc2119">MUST</em> reflect the applied <a href="#dfn-posture"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-posture-4">posture</a> of the web
                application via a CSS media query [<cite><a class="bibref" data-link-type="biblio" href="#bib-mediaq"
                        title="Media Queries Level 4">MEDIAQ</a></cite>].
            </p>
        </section>
    </section>
    <section id="reading-the-posture">
        <div class="header-wrapper">
            <h2 id="x7-reading-the-posture"><bdi class="secno">7. </bdi>
                Reading the posture
            </h2><a class="self-link" href="#reading-the-posture" aria-label="Permalink for Section 7."></a>
        </div>

        <p>
            Every instance of <a data-link-type="idl" data-lt="Document" data-type="interface"
                href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> has an internal slot
            <a data-link-type="attribute" data-lt="[[CurrentPosture]]" href="#dfn-currentposture" class="internalDFN"
                id="ref-for-dfn-currentposture-2"><code>[[CurrentPosture]]</code></a>, which should be initialized when
            the
            <a data-link-type="idl" data-lt="Document" data-type="interface"
                href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> is created, otherwise they <em
                class="rfc2119">MUST</em> be initialized the first
            time they are accessed and before their value is read. The <a href="#dfn-user-agent" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-user-agent-1">user
                agent</a> <em class="rfc2119">MUST</em> run the <a href="#dfn-device-posture-change-steps"
                class="internalDFN" data-link-type="dfn" id="ref-for-dfn-device-posture-change-steps-1">device posture
                change steps</a> with <a data-link-type="dfn|abstract-op" href="#dfn-document" class="internalDFN"
                id="ref-for-dfn-document-1">document</a> set to the <a data-link-type="idl" data-lt="Document"
                data-type="interface" href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> and <a
                data-link-type="dfn|abstract-op" href="#dfn-disallowrecursion" class="internalDFN"
                id="ref-for-dfn-disallowrecursion-1">disallowRecursion</a> set to true to initialize it.
        </p>
        <p>
            For a given <a data-link-type="idl" data-lt="Document" data-type="interface"
                href="https://dom.spec.whatwg.org/#document"><code>Document</code></a>, the <a
                href="#dfn-current-posture" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-current-posture-1">current posture</a> is derived from
            the current hinge angle and the <a
                href="https://www.w3.org/TR/screen-orientation/#dfn-screen-orientations">screen orientation</a>,
            and potentially other implementation-specific signals.
        </p>
        <p>
            <i>These tables are non-normative.</i>
        </p>
        <section id="posture-values-table">
            <div class="header-wrapper">
                <h3 id="x7-1-posture-values-table"><bdi class="secno">7.1 </bdi>
                    <dfn id="dfn-posture-values-table" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Posture
                        values table</dfn>
                </h3><a class="self-link" href="#posture-values-table" aria-label="Permalink for Section 7.1"></a>
            </div>
            <p>
                The values are approximations and might differ per device. For
                instance, a device might not yield exactly 180° when laying flat, but
                instead values ranging from 175° to 185°. Device makers <em class="rfc2119">SHOULD</em> make
                sure that the physical device postures map correctly to the postures
                defined by this specification. Device makers are also allowed to
                determine the posture using more sensors than just the hinge angle. For
                example, they can also detect if keyboard is docked on the bottom half
                of the screen or not. Another example is to detect whether the
                kickstand is deployed or not.
            </p>
            <p>
                Some devices might also lack one or more of the postures due to
                physical constraints or device design, in which case the device <em class="rfc2119">SHOULD</em>
                make sure that all combinations of angles and device orientation (which
                can be locked by [<cite><a class="bibref" data-link-type="biblio" href="#bib-screen-orientation"
                        title="Screen Orientation">SCREEN-ORIENTATION</a></cite>] and host OS), as well as device
                specific signals, maps into one of the defined postures.
            </p>
            <section id="foldables">
                <div class="header-wrapper">
                    <h4 id="x7-1-1-foldables"><bdi class="secno">7.1.1 </bdi>
                        Foldables
                    </h4><a class="self-link" href="#foldables" aria-label="Permalink for Section 7.1.1"></a>
                </div>
                <table class="def">
                    <caption>
                        Posture values for foldable devices
                    </caption>
                    <tbody>
                        <tr>
                            <th>
                                Posture
                            </th>
                            <th>
                                Angle value
                            </th>
                        </tr>
                        <tr>
                            <td>
                                continuous
                            </td>
                            <td>
                                &lt; ~180°
                            </td>
                        </tr>
                        <tr>
                            <td>
                                folded
                            </td>
                            <td>
                                ~180°
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </section>
    </section>
    <section id="algorithms">
        <div class="header-wrapper">
            <h2 id="x8-algorithms"><bdi class="secno">8. </bdi>
                Algorithms
            </h2><a class="self-link" href="#algorithms" aria-label="Permalink for Section 8."></a>
        </div>

        <section data-link-for="DevicePosture" id="calculating-the-device-posture-information">
            <div class="header-wrapper">
                <h3 id="x8-1-calculating-the-device-posture-information"><bdi class="secno">8.1 </bdi>
                    Calculating the device posture information
                </h3><a class="self-link" href="#calculating-the-device-posture-information"
                    aria-label="Permalink for Section 8.1"></a>
            </div>

            <p>
                The steps to <dfn id="dfn-calculate-the-device-posture-information" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">calculate the device posture information</dfn> of a
                <a data-link-type="idl" data-lt="Document" data-type="interface"
                    href="https://dom.spec.whatwg.org/#document"><code>Document</code></a> <var
                    data-type="Document">document</var> are as follows:
            </p>
            <ol class="algorithm">
                <li>Let <var>topLevelTraversable</var> be <var data-type="Document">document</var>'s <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                        global object</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable">navigable</a>'s
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable">top-level
                        traversable</a>.
                </li>
                <li>If <var>topLevelTraversable</var>. <a href="#dfn-postureoverride" class="internalDFN"
                        data-link-type="idl" id="ref-for-dfn-postureoverride-1">[[PostureOverride]]</a> is non-null,
                    return
                    it.
                </li>
                <li>Return a <a data-link-type="idl" data-lt="DevicePostureType" href="#dom-deviceposturetype"
                        class="internalDFN" id="ref-for-dom-deviceposturetype-3"><code>DevicePostureType</code></a>
                    value determined in an
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://infra.spec.whatwg.org/#implementation-defined">implementation-defined</a> way
                    based on the current hinge angle
                    value, current <a href="https://www.w3.org/TR/screen-orientation/#dfn-screen-orientations">screen
                        orientation</a>,
                    as well as potential implementation-specific signals, according to
                    the <a data-link-type="dfn|abstract-op" href="#dfn-posture-values-table" class="internalDFN"
                        id="ref-for-dfn-posture-values-table-1">posture values table</a>.
                </li>
            </ol>
        </section>
        <section data-link-for="DevicePosture" id="device-posture-change">
            <div class="header-wrapper">
                <h3 id="x8-2-device-posture-change"><bdi class="secno">8.2 </bdi>
                    Device Posture change
                </h3><a class="self-link" href="#device-posture-change" aria-label="Permalink for Section 8.2"></a>
            </div>

            <p>
                When the user agent determines that the screen(s)' fold angle,
                orientation or device-specific signals have changed for a <a data-link-type="dfn|abstract-op"
                    data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable">top-level
                    traversable</a>, it <em class="rfc2119">MUST</em> run the <a data-link-type="dfn|abstract-op"
                    href="#dfn-device-posture-change-steps" class="internalDFN"
                    id="ref-for-dfn-device-posture-change-steps-2">device posture change steps</a> with
                the <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable">top-level
                    traversable</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document">active
                    document</a>.
            </p>
            <p>
                The <dfn id="dfn-device-posture-change-steps" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">device posture change steps</dfn> for a <a data-link-type="idl"
                    data-lt="Document" data-type="interface"
                    href="https://dom.spec.whatwg.org/#document"><code>Document</code></a>
                <dfn data-dfn-for="device posture change steps" data-plurals="documents" id="dfn-document" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">document</dfn> and an
                optional boolean <dfn data-dfn-for="device posture change steps" id="dfn-disallowrecursion" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">disallowRecursion</dfn> (default false)
                are as follows:
            </p>
            <ol class="algorithm">
                <li>If <var data-type="Document">document</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state">visibility
                        state</a> is
                    "hidden", then abort these steps.
                </li>
                <li>Let <var>posture</var> be the result of invoking <a data-link-type="dfn|abstract-op"
                        href="#dfn-calculate-the-device-posture-information" class="internalDFN"
                        id="ref-for-dfn-calculate-the-device-posture-information-1">calculate the device posture
                        information</a> with <var data-type="Document">document</var>.
                </li>
                <li>If <var>posture</var> is equal to
                    <var data-type="Document">document</var>.<a data-link-type="attribute" data-lt="[[CurrentPosture]]"
                        href="#dfn-currentposture" class="internalDFN"
                        id="ref-for-dfn-currentposture-3"><code>[[CurrentPosture]]</code></a>, abort these steps.
                </li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global
                        task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                        interaction task source</a>
                    with <var data-type="Document">document</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                        global object</a> to perform the following
                    steps:
                    <ol>

                        <li>Set <var data-type="Document">document</var>.<a data-link-type="attribute"
                                data-lt="[[CurrentPosture]]" href="#dfn-currentposture" class="internalDFN"
                                id="ref-for-dfn-currentposture-4"><code>[[CurrentPosture]]</code></a> to
                            <var>posture</var>.
                        </li>
                        <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an event</a> named "<a
                                data-link-type="idl" href="#dfn-change" class="internalDFN"
                                id="ref-for-dfn-change-1"><code>change</code></a>" at the
                            <a data-link-type="idl" data-lt="DevicePosture" href="#dom-deviceposture"
                                class="internalDFN" id="ref-for-dom-deviceposture-3"><code>DevicePosture</code></a>
                            object associated with <var data-type="Document">document</var>'s <a
                                data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                                global object</a>'s associated <a data-link-type="idl" data-lt="Navigator"
                                data-type="interface"
                                href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a>.
                        </li>
                    </ol>
                </li>
                <li>If <var>disallowRecursion</var> is true, abort these steps.
                </li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>descendantNavigable</var>
                    of <var data-type="Document">document</var>'s
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#descendant-navigables">descendant
                        navigables</a>:
                    <ol>

                        <li>Run the <a data-link-type="dfn|abstract-op" href="#dfn-device-posture-change-steps"
                                class="internalDFN" id="ref-for-dfn-device-posture-change-steps-3">device posture change
                                steps</a> with <a data-link-type="dfn|abstract-op" href="#dfn-document"
                                class="internalDFN" id="ref-for-dfn-document-2">document</a> set to
                            <var>descendantNavigable</var>'s
                            <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document">active
                                document</a> and <a data-link-type="dfn|abstract-op" href="#dfn-disallowrecursion"
                                class="internalDFN" id="ref-for-dfn-disallowrecursion-2">disallowRecursion</a> set to
                            true.
                        </li>
                    </ol>
                </li>
            </ol>
            <p>
                This specification defines the following <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility-change-steps">page
                    visibility change steps</a> given <var>visibility state</var> and <var
                    data-type="Document">document</var>:
            </p>
            <ol class="algorithm">
                <li>Run the <a data-link-type="dfn|abstract-op" href="#dfn-device-posture-change-steps"
                        class="internalDFN" id="ref-for-dfn-device-posture-change-steps-4">device posture change
                        steps</a> on <var data-type="Document">document</var> and
                    <a data-link-type="dfn|abstract-op" href="#dfn-disallowrecursion" class="internalDFN"
                        id="ref-for-dfn-disallowrecursion-3">disallowRecursion</a> set to false to
                    initialize it.
                </li>
            </ol>
            <div class="note" role="note" id="issue-container-generatedID-1">
                <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span></div>
                <aside class="">
                    <p>
                        Developers need to be aware that <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-document">documents</a> with a "hidden"
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state">visibility
                            state</a> will not receive a device posture
                        change event. However, once the <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-document">document</a> becomes visible again,
                        it will receive the change event.
                    </p>
                </aside>
            </div>
            <div class="issue" id="issue-container-number-103">
                <div role="heading" class="issue-title marker" id="h-issue" aria-level="4"><a
                        href="https://github.com/w3c/device-posture/issues/103"><span class="issue-number">Issue
                            103</span></a><span class="issue-label">: Avoid using the page visibility change steps
                        hook</span></div>
                <p dir="auto">From <a href="https://html.spec.whatwg.org/#update-the-visibility-state"
                        rel="nofollow">https://html.spec.whatwg.org/#update-the-visibility-state</a></p>
                <blockquote>
                    <p dir="auto">It would be better if specification authors sent a pull request to add calls from here
                        into their specifications directly, instead of using the <a
                            href="https://html.spec.whatwg.org/#page-visibility-change-steps" rel="nofollow">page
                            visibility change steps</a> hook, to ensure well-defined cross-specification call order. As
                        of the time of this writing the following specifications are known to have <a
                            href="https://html.spec.whatwg.org/#page-visibility-change-steps" rel="nofollow">page
                            visibility change steps</a>, which will be run in an unspecified order: Device Posture API
                        and Web NFC. <a href="https://html.spec.whatwg.org/#refsDEVICEPOSTURE"
                            rel="nofollow">[DEVICEPOSTURE]</a> <a href="https://html.spec.whatwg.org/#refsWEBNFC"
                            rel="nofollow">[WEBNFC]</a></p>
                </blockquote>
            </div>
        </section>
    </section>
    <section id="security-considerations">
        <div class="header-wrapper">
            <h2 id="x9-security-considerations"><bdi class="secno">9. </bdi>
                Security considerations
            </h2><a class="self-link" href="#security-considerations" aria-label="Permalink for Section 9."></a>
        </div>

        <p>
            No new security considerations have been reported on this
            specification. However it is encouraged to look at the potential
            <a href="#privacy-considerations" data-matched-text="[[[#privacy-considerations]]]" class="sec-ref"><bdi
                    class="secno">10. </bdi>
                Privacy considerations</a> listed in this document.
        </p>
    </section>
    <section id="privacy-considerations">
        <div class="header-wrapper">
            <h2 id="x10-privacy-considerations"><bdi class="secno">10. </bdi>
                Privacy considerations
            </h2><a class="self-link" href="#privacy-considerations" aria-label="Permalink for Section 10."></a>
        </div>

        <section id="types-of-privacy-threats">
            <div class="header-wrapper">
                <h3 id="x10-1-types-of-privacy-threats"><bdi class="secno">10.1 </bdi>
                    Types of privacy threats
                </h3><a class="self-link" href="#types-of-privacy-threats" aria-label="Permalink for Section 10.1"></a>
            </div>

            <p>
                <i>This section is non-normative.</i>
            </p>
            <section id="identifying-users-across-contexts-0">
                <div class="header-wrapper">
                    <h4 id="identifying-users-across-contexts"><bdi class="secno">10.1.1 </bdi>
                        Identifying users across contexts
                    </h4><a class="self-link" href="#identifying-users-across-contexts"
                        aria-label="Permalink for Section 10.1.1"></a>
                </div>
                <p>
                    When this API is used simultaneously in different browsing contexts
                    on the same device it may be possible to correlate the user across
                    those two contexts, creating unanticipated tracking mechanisms.
                    However, because the posture value is typically stable for a long
                    time it could only be used to verify that two users are not the same,
                    but it would not help to identify a given user given the fact that
                    there are multiple types and models of foldable devices.
                </p>
                <p>
                    The added entropy is comparable to the <a data-type="css-descriptor"
                        href="https://www.w3.org/TR/mediaqueries-4/#descdef-media-pointer">pointer</a> API which tells
                    whether the user's primary input is touch-based or not. Such a
                    primary input can change on devices where the keyboard can be
                    removed/added or the tablet mode is activated/deactivated.
                </p>
                <p>
                    This theoretical attack is mitigated by <a href="#data-minimization"
                        data-matched-text="[[[#data-minimization]]]" class="sec-ref"><bdi class="secno">10.2.1 </bdi>
                        Data minimization</a>,
                    <a href="#user-attention" data-matched-text="[[[#user-attention]]]" class="sec-ref"><bdi
                            class="secno">10.2.2 </bdi>
                        User attention</a> and <a href="#user-mediated-action"
                        data-matched-text="[[[#user-mediated-action]]]" class="sec-ref"><bdi class="secno">10.2.3 </bdi>
                        User-mediated action</a>.
                </p>
            </section>
            <section id="cross-origin-iframes">
                <div class="header-wrapper">
                    <h4 id="x10-1-2-cross-origin-iframes"><bdi class="secno">10.1.2 </bdi>
                        Cross-origin iframes
                    </h4><a class="self-link" href="#cross-origin-iframes"
                        aria-label="Permalink for Section 10.1.2"></a>
                </div>
                <p>
                    Cross-origin iframes have access to the posture through this API and
                    therefore could use this information to identify users similarly to
                    as mentioned in <a href="#identifying-users-across-contexts"
                        data-matched-text="[[[#identifying-users-across-contexts]]]" class="sec-ref"><bdi
                            class="secno">10.1.1 </bdi>
                        Identifying users across contexts</a>. The same
                    mitigations apply.
                </p>
            </section>
            <section id="malicious-script-injection-for-advertising-or-exploitation">
                <div class="header-wrapper">
                    <h4 id="x10-1-3-malicious-script-injection-for-advertising-or-exploitation"><bdi
                            class="secno">10.1.3 </bdi>
                        Malicious script injection (for advertising or exploitation)
                    </h4><a class="self-link" href="#malicious-script-injection-for-advertising-or-exploitation"
                        aria-label="Permalink for Section 10.1.3"></a>
                </div>
                <p>
                    Through iframes, a malicious actor could inject its own code to
                    access the posture information and potentially use it to track users.
                </p>
                <p>
                    This theoretical attack is mitigated by <a href="#data-minimization"
                        data-matched-text="[[[#data-minimization]]]" class="sec-ref"><bdi class="secno">10.2.1 </bdi>
                        Data minimization</a> as
                    well as the fact that the posture value itself carry little valuable
                    information and stays stable for long period of time.
                </p>
            </section>
        </section>
        <section id="mitigation-strategies">
            <div class="header-wrapper">
                <h3 id="x10-2-mitigation-strategies"><bdi class="secno">10.2 </bdi>
                    Mitigation strategies
                </h3><a class="self-link" href="#mitigation-strategies" aria-label="Permalink for Section 10.2"></a>
            </div>

            <section id="data-minimization-0">
                <div class="header-wrapper">
                    <h4 id="data-minimization"><bdi class="secno">10.2.1 </bdi>
                        Data minimization
                    </h4><a class="self-link" href="#data-minimization" aria-label="Permalink for Section 10.2.1"></a>
                </div>

                <p>
                    The API exposes a high-level abstraction referred to as a
                    <a href="#dfn-posture" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-posture-5">posture</a> that can be either
                    "<a data-link-type="idl" href="#dom-deviceposturetype-continuous" class="internalDFN"
                        id="ref-for-dom-deviceposturetype-continuous-3"><code>continuous</code></a>" or
                    "<a data-link-type="idl" href="#dom-deviceposturetype-folded" class="internalDFN"
                        id="ref-for-dom-deviceposturetype-folded-3"><code>folded</code></a>". Devices that do not
                    support
                    different postures default to "<a data-link-type="idl" href="#dom-deviceposturetype-continuous"
                        class="internalDFN"
                        id="ref-for-dom-deviceposturetype-continuous-4"><code>continuous</code></a>".
                    This means at most one bit of entropy is added to the fingerprint.
                    At most, because revealing this one bit will require a significant,
                    explicit physical action by the user to manipulate the physical
                    posture of the device required to trigger a change.
                </p>
                <p>
                    While implementations can use a variety of low-level information to
                    determine the most appropriate high-level posture, no low-level
                    details are exposed through this API. Furthermore, there is no
                    one-to-one mapping from any fine-grained low-level sensor reading
                    to a high-level posture state. An implementation can use e.g. a
                    hinge angle sensor, other sensors, information about whether a
                    keyboard is docked, or whether the kickstand is deployed, or any
                    combination of such information, to determine the most approriate
                    posture for the given form factor. This abstraction ensures only a
                    minimum amount of information necessary to implement the intended
                    functionality is exposed adhering to the data minimization
                    principles.
                </p>
            </section>
            <section id="user-attention-0">
                <div class="header-wrapper">
                    <h4 id="user-attention"><bdi class="secno">10.2.2 </bdi>
                        User attention
                    </h4><a class="self-link" href="#user-attention" aria-label="Permalink for Section 10.2.2"></a>
                </div>

                <p>
                    Posture value change events are only fired for each
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document">active
                        document</a> whose <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state">visibility
                        state</a>
                    is "visible" as explained in <a data-link-type="dfn|abstract-op"
                        href="#dfn-device-posture-change-steps" class="internalDFN"
                        id="ref-for-dfn-device-posture-change-steps-5">device posture change steps</a>, and
                    polling the value while that is not the case, will return a stale
                    value as the value is only updated while the visibility state is
                    "visible" or just changed to "visible".
                </p>
            </section>
            <section id="user-mediated-action-0">
                <div class="header-wrapper">
                    <h4 id="user-mediated-action"><bdi class="secno">10.2.3 </bdi>
                        User-mediated action
                    </h4><a class="self-link" href="#user-mediated-action"
                        aria-label="Permalink for Section 10.2.3"></a>
                </div>

                <p>
                    A user's significant and explicit physical action to modify the
                    device posture is required for a posture change. Significant,
                    because the action must cross the implementation-defined threshold
                    per <a data-link-type="dfn|abstract-op" href="#dfn-posture-values-table" class="internalDFN"
                        id="ref-for-dfn-posture-values-table-2">posture values table</a>, and explicit, because the
                    underlying
                    operating system adapts to posture changes similarly matching
                    user's learned expectations for an outcome of such an action.
                </p>
            </section>
        </section>
    </section>
    <section id="accessibility-considerations">
        <div class="header-wrapper">
            <h2 id="x11-accessibility-considerations"><bdi class="secno">11. </bdi>
                Accessibility considerations
            </h2><a class="self-link" href="#accessibility-considerations" aria-label="Permalink for Section 11."></a>
        </div>
        The main focus of the Device Posture API is to improve the user
        experience. There are three ways in which applications that build on the
        API can positively impact accessibility.
        <ol>
            <li>Designing and making applications which do not place content in the
                fold/hinge area, especially buttons. This area is typically hard to
                interact with with fingers because the curvature of the fold makes
                touch less precise or impossible.
            </li>
            <li>Designing and making applications which do not put large,
                contiguous content (such as video or a picture) spanning across the
                fold/hinge area if the device is folded. This area slightly distorts
                content and colors.
            </li>
            <li>Designing and making applications which use the screen estate
                better by providing a split UI (a user interface where the content is
                split up across the screen segments), allowing the application to
                provide a differentiated and more powerful interface.
            </li>
        </ol>When using this API it is important to consider the opportunities
        above with accessibility in mind. Here are few concrete examples:
        <ul>
            <li>
                <strong>Placement of UI elements:</strong> A typical placement logic
                for dialogs is to center them horizontally and vertically, but in a
                device folded with a symmetrical fold they may end up in the middle
                of the fold area making it harder to interact with, for instance
                clicking on buttons. It might also make it harder to read text due to
                distortion and light reflection.
            </li>
            <li>
                <strong>Fullscreen mode:</strong> When resizing an element in
                fullscreen, a typical logic would expand that element to the width
                and the height of the <a data-link-type="idl" data-lt="Window" data-type="interface"
                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><code>Window</code></a>.
                If the device is folded, the
                element will be laid out across the fold, leading to a subpar user
                experience. An alternative is to display that element either on top
                or below the fold area.
            </li>
            <li>
                <strong>Improving the user experience:</strong> With this API it is
                possible to create a different and adapted user experience when the
                device is folded, allowing for a better user experience and improved
                accessibility. For example, when watching a video and the device is
                folded, the video could be displayed on top of the fold while the
                comments section could be shown below the fold by default. Another
                example would be a video conferencing application showing the video
                feed on top of the fold and the chat below the fold.
            </li>
            <li>
                <strong>Content shouldn't be designed for just one
                    <a data-link-type="idl" data-lt="posture" href="#dfn-posture" class="internalDFN"
                        id="ref-for-dfn-posture-6"><code>posture</code></a>:</strong> The idea of foldable devices is
                their
                versatility and the ability for the user to change the posture as
                they see fit. Similarly to the <a
                    href="https://www.w3.org/WAI/WCAG21/Understanding/orientation.html">orientation</a>,
                it is important to not always choose for the user as they might have
                other needs but allowing them to choose the UI that fits their needs
                better. Ideally it is preferred to make the UI configurable.
            </li>
            <li>
                <strong>Content announcements for assistive devices:</strong> Use
                ARIA live regions to announce significant layout changes dynamically.
                For instance, when a fold changes the layout of a webpage, ensure
                that screen readers announce these changes to users. For example, if
                a video player is moved to the top of the screen and comments to the
                bottom, an announcement like "Video player moved to the top screen,
                comments moved below the fold" can help users navigate better.
            </li>
            <li>
                <strong>Assistive technology compatibility:</strong> Conduct thorough
                testing with various assistive technologies to ensure compatibility
                and proper communication of changes when different postures are
                reached.
            </li>
        </ul>
    </section>
    <section id="automation">
        <div class="header-wrapper">
            <h2 id="x12-automation"><bdi class="secno">12. </bdi>
                Automation
            </h2><a class="self-link" href="#automation" aria-label="Permalink for Section 12."></a>
        </div>

        <p>
            The Device Posture API pose a challenge to test authors, as fully
            exercising interface requires physical hardware devices. To address
            this challenge this document defines a [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-webdriver2" title="WebDriver">WEBDRIVER2</a></cite>] <a data-link-type="dfn|abstract-op"
                data-type="dfn" href="https://www.w3.org/TR/webdriver2/#dfn-extension-commands">extension commands</a>
            that allows users to control the reported device posture and
            simulate a real device.
        </p>
        <p>
            To support the <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/webdriver2/#dfn-extension-commands">extension commands</a> below and their
            integration with
            <a href="#algorithms" data-matched-text="[[[#algorithms]]]" class="sec-ref"><bdi class="secno">8. </bdi>
                Algorithms</a>, <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable">top-level
                traversables</a> must have the following
            internal slots:
        </p>
        <table class="def">
            <thead>
                <tr>
                    <th>
                        Internal slot
                    </th>
                    <th>
                        Description
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <dfn data-dfn-for="top-level traversable" data-idl="" data-noexport="" data-dfn-type="attribute"
                            id="dfn-postureoverride" tabindex="0" aria-haspopup="dialog">[[PostureOverride]]</dfn>
                    </td>
                    <td>
                        Overrides the <a data-link-type="dfn|abstract-op" href="#dfn-current-posture"
                            class="internalDFN" id="ref-for-dfn-current-posture-2">current posture</a> provided by the
                        hardware.
                        Possible values:
                        <ul>
                            <li>"<a data-link-type="idl" href="#dom-deviceposturetype-continuous" class="internalDFN"
                                    id="ref-for-dom-deviceposturetype-continuous-5"><code>continuous</code></a>"
                            </li>
                            <li>"<a data-link-type="idl" href="#dom-deviceposturetype-folded" class="internalDFN"
                                    id="ref-for-dom-deviceposturetype-folded-4"><code>folded</code></a>"
                            </li>
                            <li>
                                <code>null</code>: Not overriding. The hardware-provided
                                value will be used instead.
                            </li>
                        </ul>These values are not exposed directly to script.
                    </td>
                </tr>
            </tbody>
        </table>
        <section id="extension-commands">
            <div class="header-wrapper">
                <h3 id="x12-1-extension-commands"><bdi class="secno">12.1 </bdi>
                    Extension Commands
                </h3><a class="self-link" href="#extension-commands" aria-label="Permalink for Section 12.1"></a>
            </div>
            <section id="set-device-posture">
                <div class="header-wrapper">
                    <h4 id="x12-1-1-set-device-posture"><bdi class="secno">12.1.1 </bdi>
                        Set device posture
                    </h4><a class="self-link" href="#set-device-posture" aria-label="Permalink for Section 12.1.1"></a>
                </div>
                <table class="def">
                    <tbody>
                        <tr>
                            <th>
                                HTTP Method
                            </th>
                            <th>
                                <a data-link-type="dfn|abstract-op" data-lt="extension command URI Template"
                                    data-type="dfn"
                                    href="https://www.w3.org/TR/webdriver2/#dfn-extension-command-uri-template">URI
                                    Template</a>
                            </th>
                        </tr>
                        <tr>
                            <td>
                                POST
                            </td>
                            <td>
                                /session/{session id}/deviceposture
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    This <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/webdriver2/#dfn-extension-commands">extension command</a> changes
                    device posture to a specific
                    <a data-link-type="idl" data-lt="DevicePostureType" href="#dom-deviceposturetype"
                        class="internalDFN" id="ref-for-dom-deviceposturetype-4"><code>DevicePostureType</code></a>.
                </p>
                <table class="def">
                    <caption>
                        Properties of the parameters argument used by this algorithm
                    </caption>
                    <tbody>
                        <tr>
                            <th>
                                Parameter name
                            </th>
                            <th>
                                Value type
                            </th>
                            <th>
                                Required
                            </th>
                        </tr>
                        <tr>
                            <td>
                                posture
                            </td>
                            <td>
                                String
                            </td>
                            <td>
                                yes
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    The <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps">remote end steps</a> are:
                </p>
                <ol class="algorithm" data-cite="WEBDRIVER2">
                    <li>Let <var>posture</var> be the result of invoking <a
                            href="https://www.w3.org/TR/webdriver2/#dfn-getting-properties">get a property</a> "posture"
                        from
                        <var>parameters</var>.
                    </li>
                    <li>If <var>posture</var> is not a <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://infra.spec.whatwg.org/#string">string</a>, return <a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://www.w3.org/TR/webdriver2/#dfn-error">error</a> with <a
                            data-link-type="dfn|abstract-op" data-lt="error code" data-type="dfn"
                            href="https://www.w3.org/TR/webdriver2/#dfn-error-code">WebDriver error code</a> <a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://www.w3.org/TR/webdriver2/#dfn-invalid-argument">invalid argument</a>.
                    </li>
                    <li>If <var>posture</var> is neither "<a data-link-type="idl"
                            href="#dom-deviceposturetype-continuous" class="internalDFN"
                            id="ref-for-dom-deviceposturetype-continuous-6"><code>continuous</code></a>" nor
                        "<a data-link-type="idl" href="#dom-deviceposturetype-folded" class="internalDFN"
                            id="ref-for-dom-deviceposturetype-folded-5"><code>folded</code></a>", return <a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://www.w3.org/TR/webdriver2/#dfn-error">error</a> with <a
                            data-link-type="dfn|abstract-op" data-lt="error code" data-type="dfn"
                            href="https://www.w3.org/TR/webdriver2/#dfn-error-code">WebDriver error code</a> <a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://www.w3.org/TR/webdriver2/#dfn-invalid-argument">invalid argument</a>.
                    </li>
                    <li>Let <var>topLevelTraversable</var> be the <a
                            href="https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context">current browsing
                            context</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable">top-level
                            traversable</a>.
                    </li>
                    <li>Set <var>topLevelTraversable</var>. <a href="#dfn-postureoverride" class="internalDFN"
                            data-link-type="idl" id="ref-for-dfn-postureoverride-2">[[PostureOverride]]</a> to
                        <var>posture</var>.
                    </li>
                    <li>Let <var>document</var> be <var>topLevelTraversable</var>'s <a data-link-type="dfn|abstract-op"
                            data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document">active
                            document</a>.
                    </li>
                    <li>Invoke <a data-link-type="dfn|abstract-op" href="#dfn-device-posture-change-steps"
                            class="internalDFN" id="ref-for-dfn-device-posture-change-steps-6">device posture change
                            steps</a> with <var>document</var>.
                    </li>
                    <li>Return <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://www.w3.org/TR/webdriver2/#dfn-success">success</a> with data
                        <code>null</code>.
                    </li>
                </ol>
            </section>
            <section id="clear-device-posture">
                <div class="header-wrapper">
                    <h4 id="x12-1-2-clear-device-posture"><bdi class="secno">12.1.2 </bdi>
                        Clear device posture
                    </h4><a class="self-link" href="#clear-device-posture"
                        aria-label="Permalink for Section 12.1.2"></a>
                </div>
                <table class="def">
                    <tbody>
                        <tr>
                            <th>
                                HTTP Method
                            </th>
                            <th>
                                <a data-link-type="dfn|abstract-op" data-lt="extension command URI Template"
                                    data-type="dfn"
                                    href="https://www.w3.org/TR/webdriver2/#dfn-extension-command-uri-template">URI
                                    Template</a>
                            </th>
                        </tr>
                        <tr>
                            <td>
                                DELETE
                            </td>
                            <td>
                                /session/{session id}/deviceposture
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    This <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/webdriver2/#dfn-extension-commands">extension command</a> removes
                    device posture override and returns
                    device posture control back to hardware.
                </p>
                <p>
                    The <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps">remote end steps</a> are:
                </p>
                <ol class="algorithm">
                    <li>Let <var>topLevelTraversable</var> be the <a
                            href="https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context">current browsing
                            context</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable">top-level
                            traversable</a>.
                    </li>
                    <li>If <var>topLevelTraversable</var>. <a href="#dfn-postureoverride" class="internalDFN"
                            data-link-type="idl" id="ref-for-dfn-postureoverride-3">
                            [[PostureOverride]]</a> is <code>null</code>, return <a data-link-type="dfn|abstract-op"
                            data-type="dfn" href="https://www.w3.org/TR/webdriver2/#dfn-success">success</a>
                        with data <code>null</code>.
                    </li>
                    <li>Set <var>topLevelTraversable</var>. <a href="#dfn-postureoverride" class="internalDFN"
                            data-link-type="idl" id="ref-for-dfn-postureoverride-4">[[PostureOverride]]</a> to
                        <code>null</code>.
                    </li>
                    <li>Let <var>document</var> be <var>topLevelTraversable</var>'s <a data-link-type="dfn|abstract-op"
                            data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document">active
                            document</a>.
                    </li>
                    <li>Invoke <a data-link-type="dfn|abstract-op" href="#dfn-device-posture-change-steps"
                            class="internalDFN" id="ref-for-dfn-device-posture-change-steps-7">device posture change
                            steps</a> with <var>document</var>.
                    </li>
                    <li>Return <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://www.w3.org/TR/webdriver2/#dfn-success">success</a> with data
                        <code>null</code>.
                    </li>
                </ol>
            </section>
        </section>
    </section>
    <section id="examples" class="informative">
        <div class="header-wrapper">
            <h2 id="x13-examples"><bdi class="secno">13. </bdi>
                Examples
            </h2><a class="self-link" href="#examples" aria-label="Permalink for Section 13."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <section id="example-1-posture-data">
            <div class="header-wrapper">
                <h3 id="x13-1-example-1-posture-data"><bdi class="secno">13.1 </bdi>
                    Example 1: Posture data
                </h3><a class="self-link" href="#example-1-posture-data" aria-label="Permalink for Section 13.1"></a>
            </div>
            <p>
                This is a simple use case of the <a href="#dfn-posture" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-posture-7">posture</a> being printed on the
                console.
            </p>
            <div class="example" id="example-react-to-poster-change">
                <div class="marker">
                    <a class="self-link" href="#example-react-to-poster-change">Example<bdi> 1</bdi></a><span
                        class="example-title">: React to poster change</span>
                </div>
                <pre aria-busy="false"><code class="hljs js">navigator.<span class="hljs-property">devicePosture</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"change"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`The current posture is: <span class="hljs-subst">${navigator.devicePosture.type}</span>!`</span>);
})</code></pre>
            </div>
        </section>
        <section id="example-2-device-posture">
            <div class="header-wrapper">
                <h3 id="x13-2-example-2-device-posture"><bdi class="secno">13.2 </bdi>
                    Example 2: device-posture
                </h3><a class="self-link" href="#example-2-device-posture" aria-label="Permalink for Section 13.2"></a>
            </div>
            <p>
                The device is being used for a video call web service. It can be folded
                into the laptop <a href="#dfn-posture" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-posture-8">posture</a> to enable a hands-free experience when
                placed on a surface. The UA detects the posture and the UI is enhanced.
                Similar examples can be drafted for content to adapt to any posture.
                See the <a
                    href="https://github.com/SamsungInternet/Explainers/blob/master/Foldables/FoldState.md#key-scenarios">
                    explainer</a> for other key scenarios.
            </p><img src="images/example-videocall.svg"
                alt="An illustration of a video call web service that uses the device-posture media feature and the viewport segment media feature"
                class="img-example">
            <div class="example" id="example-adapting-ui-to-posture">
                <div class="marker">
                    <a class="self-link" href="#example-adapting-ui-to-posture">Example<bdi> 2</bdi></a><span
                        class="example-title">: Adapting UI to posture</span>
                </div>
                <pre aria-busy="false"><code class="hljs css"><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">device-posture</span>: folded) <span class="hljs-keyword">and</span> (<span class="hljs-attribute">vertical-viewport-segments</span>: <span class="hljs-number">2</span>) {
  <span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-flow</span>: column nowrap;
  }

  <span class="hljs-selector-class">.videocall-area</span>, <span class="hljs-selector-class">.videocall-controls</span>  {
    <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-built_in">env</span>(viewport-segment-bottom <span class="hljs-number">0</span> <span class="hljs-number">0</span>);
  }
}</code></pre>
            </div>
        </section>
        <section id="example-3-feature-detection-of-device-posture-media-feature">
            <div class="header-wrapper">
                <h3 id="x13-3-example-3-feature-detection-of-device-posture-media-feature"><bdi class="secno">13.3
                    </bdi>
                    Example 3: Feature detection of device-posture media feature
                </h3><a class="self-link" href="#example-3-feature-detection-of-device-posture-media-feature"
                    aria-label="Permalink for Section 13.3"></a>
            </div>
            <p>
                As one of the valid device-posture values will always be true, you can
                use the following snippet to detect whether a user agent supports the
                media feature:
            </p>
            <div class="example" id="example-feature-detect-the-device-posture">
                <div class="marker">
                    <a class="self-link" href="#example-feature-detect-the-device-posture">Example<bdi> 3</bdi></a><span
                        class="example-title">: Feature detect the device-posture</span>
                </div>
                <pre aria-busy="false"><code class="hljs css"><span class="hljs-keyword">@media</span> (device-posture) {
  <span class="hljs-comment">/*The browser supports device-posture feature*/</span>
}</code></pre>
            </div>For more information about media features in a boolean context
            please refer to <a href="https://www.w3.org/TR/mediaqueries-4/#mq-boolean-context">Evaluating Media
                Features in a Boolean Context</a>.
        </section>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x14-conformance"><bdi class="secno">14. </bdi>Conformance</h2><a class="self-link"
                href="#conformance" aria-label="Permalink for Section 14."></a>
        </div>
        <p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this
            specification are non-normative. Everything else in this specification is normative.</p>
        <p>
            The key words <em class="rfc2119">MUST</em> and <em class="rfc2119">SHOULD</em> in this document
            are to be interpreted as described in
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            when, and only when, they appear in all capitals, as shown here.
        </p>
        <p>
            This specification defines conformance criteria for a single product: a
            <dfn id="dfn-user-agent" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">user agent</dfn> that
            implements the interfaces that it contains.
        </p>
    </section>
    <section id="idl-index" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-idl-index"><bdi class="secno">A. </bdi>IDL Index</h2><a class="self-link" href="#idl-index"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlAttribute" data-title="devicePosture" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-deviceposture" class="internalDFN" id="ref-for-dom-deviceposture-4"><code>DevicePosture</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="devicePosture" data-dfn-for="Navigator" data-type="DevicePosture" data-lt="devicePosture" data-local-lt="Navigator.devicePosture" class="idlName"><code>devicePosture</code></dfn>;</span>
};</span>

<span data-idl="" class="idlInterface" data-title="DevicePosture">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(Window)</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-deviceposture" id="ref-for-dom-deviceposture-5"><code>DevicePosture</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" data-title="type" data-dfn-for="DevicePosture">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-deviceposturetype" class="internalDFN" id="ref-for-dom-deviceposturetype-5"><code>DevicePostureType</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-deviceposture-type" id="ref-for-dom-deviceposture-type-2"><code>type</code></a>;</span><span data-idl="" class="idlAttribute" data-title="onchange" data-dfn-for="DevicePosture">
  attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-deviceposture-onchange" id="ref-for-dom-deviceposture-onchange-4"><code>onchange</code></a>;</span>
};</span><span data-idl="" class="idlEnum" data-title="DevicePostureType">

enum <dfn data-export="" data-dfn-type="enum" data-idl="enum" data-title="DevicePostureType" data-dfn-for="" class="idlID"><code>DevicePostureType</code></dfn> {
  <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="continuous" data-dfn-for="DevicePostureType"><code>continuous</code></dfn>"</span>,
  <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="folded" data-dfn-for="DevicePostureType"><code>folded</code></dfn>"</span>      
};</span></code></pre>
    </section>
    <section class="appendix informative" id="acknowledgments">
        <div class="header-wrapper">
            <h2 id="b-acknowledgments"><bdi class="secno">B. </bdi>
                Acknowledgments
            </h2><a class="self-link" href="#acknowledgments" aria-label="Permalink for Appendix B."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            We would like to offer our sincere thanks to Daniel Appelquist, Jo
            Balletti, Michael Blix, Paul Grenier and Laura Morinigo for their
            contributions to this work.
        </p>
    </section>
    <section id="substantive-changes-summary" class="appendix informative">
        <div class="header-wrapper">
            <h2 id="c-summary-of-substantive-changes"><bdi class="secno">C. </bdi>
                Summary of substantive changes
            </h2><a class="self-link" href="#substantive-changes-summary" aria-label="Permalink for Appendix C."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <section id="substantive-changes-summary-fpwd">
            <div class="header-wrapper">
                <h3 id="c-1-changes-since-the-first-public-working-draft-2020-12-17"><bdi class="secno">C.1 </bdi>
                    Changes since the <a href="https://www.w3.org/TR/2020/WD-screen-fold-20201217/">First Public
                        Working Draft (2020/12/17)</a>
                </h3><a class="self-link" href="#substantive-changes-summary-fpwd"
                    aria-label="Permalink for Appendix C.1"></a>
            </div>

            <ul>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/155">Remove the
                        rate limiting section per PING review</a> (PR #155)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/149">Add two
                        new comments from the accessibility review</a> (PR #149)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/145">Update
                        Privacy considerations</a> (PR #145)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/141">Add
                        automation support via WebDriver</a> (PR #141)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/138">Remove the
                        focus part of the spec</a> (PR #138)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/132">Improve
                        the privacy section</a> (PR #132)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/127">Add
                        accessibility section</a> (PR #127)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/128">device
                        posture change steps: Refer to disallowRecursion by name in
                        calls</a> (PR #128)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/120">Modernize
                        algorithms in "Algorithm" section</a> (PR #120)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/100">Remove
                        Folded Over from Device Posture</a> (PR #100)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/87">Updated
                        folding related concepts</a> (PR #87)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/75">Use
                        internal slot</a> (PR #75)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/73">Add info
                        about using additional signals</a> (PR #73)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/71">Move the
                        entry point of the API to the window.navigator interface</a> (PR
                    #71)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/58">Remove fold
                        angle value from the specification</a> (PR #58)
                </li>
                <li>
                    <a href="https://github.com/w3c/device-posture/pull/42">Improve the
                        Privacy and Security section</a> (PR #42)
                </li>
            </ul>
        </section>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="d-references"><bdi class="secno">D. </bdi>References</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix D."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="d-1-normative-references"><bdi class="secno">D.1 </bdi>Normative references</h3><a
                    class="self-link" href="#normative-references" aria-label="Permalink for Appendix D.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living
                    Standard. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. Living Standard. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-mediaq">[MEDIAQ]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/mediaqueries-4/"><cite>Media Queries Level 4</cite></a>. Florian
                    Rivoal; Tab Atkins Jr.. W3C. 25 December 2021. W3C Candidate Recommendation. URL: <a
                        href="https://www.w3.org/TR/mediaqueries-4/">https://www.w3.org/TR/mediaqueries-4/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate
                            Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                            2119 Key Words</cite></a>. B. Leiba. IETF. May 2017. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-screen-orientation">[SCREEN-ORIENTATION]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/screen-orientation/"><cite>Screen Orientation</cite></a>. Marcos
                    Caceres. W3C. 9 August 2023. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/screen-orientation/">https://www.w3.org/TR/screen-orientation/</a>
                </dd>
                <dt id="bib-webdriver2">[WEBDRIVER2]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webdriver2/"><cite>WebDriver</cite></a>. Simon Stewart; David Burns.
                    W3C. 9 October 2024. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/webdriver2/">https://www.w3.org/TR/webdriver2/</a>
                </dd>
                <dt id="bib-webidl">[webidl]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. Living Standard. URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="d-2-informative-references"><bdi class="secno">D.2 </bdi>Informative references</h3><a
                    class="self-link" href="#informative-references" aria-label="Permalink for Appendix D.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-clreq">[clreq]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/clreq/"><cite>Requirements for Chinese Text Layout -
                            中文排版需求</cite></a>. Fuqiao Xue; Richard Ishida. W3C. 1 July 2024. W3C Working Group Note.
                    URL: <a href="https://www.w3.org/TR/clreq/">https://www.w3.org/TR/clreq/</a>
                </dd>
                <dt id="bib-jlreq">[jlreq]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/jlreq/"><cite>Requirements for Japanese Text Layout
                            日本語組版処理の要件(日本語版)</cite></a>. Hiroyuki Chiba; Junzaburo Edamoto; Richard Ishida; Seiichi
                    Kato; Tatsuo KOBAYASHI; Toshi Kobayashi; Nathaniel McCully; Felix Sasaki; Atsushi Shimono; Hajime
                    Shiozawa; Fuqiao Xue et al. W3C. 11 August 2020. W3C Working Group Note. URL: <a
                        href="https://www.w3.org/TR/jlreq/">https://www.w3.org/TR/jlreq/</a>
                </dd>
                <dt id="bib-klreq">[klreq]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/klreq/"><cite>Requirements for Hangul Text Layout and Typography :
                            한국어 텍스트 레이아웃 및 타이포그래피를 위한 요구사항</cite></a>. Richard Ishida. W3C. 27 May 2020. W3C Working
                    Group Note. URL: <a href="https://www.w3.org/TR/klreq/">https://www.w3.org/TR/klreq/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-currentposture"
        aria-label="Links in this document to definition: [[CurrentPosture]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-currentposture"
                aria-label="Permalink for definition: [[CurrentPosture]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-currentposture-1" title="§ 4.1 The type attribute: Get current device posture">§
                    4.1 The type attribute: Get current device posture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-currentposture-2" title="§ 7. Reading the posture">§ 7. Reading the posture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-currentposture-3" title="§ 8.2 Device Posture change">§ 8.2 Device Posture
                    change</a> <a href="#ref-for-dfn-currentposture-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-current-posture"
        aria-label="Links in this document to definition: current posture">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-current-posture"
                aria-label="Permalink for definition: current posture. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-current-posture-1" title="§ 7. Reading the posture">§ 7. Reading the posture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-current-posture-2" title="§ 12. Automation">§ 12. Automation</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-deviceposture"
        aria-label="Links in this document to definition: devicePosture">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-deviceposture"
                aria-label="Permalink for definition: devicePosture. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-deviceposture"
        aria-label="Links in this document to definition: DevicePosture">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-deviceposture"
                aria-label="Permalink for definition: DevicePosture. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1268263519">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-deviceposture-1" title="§ 3. Extensions to the Navigator interface">§ 3.
                    Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposture-2" title="§ 4. The DevicePosture interface">§ 4. The DevicePosture
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposture-3" title="§ 8.2 Device Posture change">§ 8.2 Device Posture
                    change</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposture-4" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-deviceposture-5" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-deviceposturetype"
        aria-label="Links in this document to definition: DevicePostureType">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-deviceposturetype"
                aria-label="Permalink for definition: DevicePostureType. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-deviceposturetype-1" title="§ 4. The DevicePosture interface">§ 4. The
                    DevicePosture interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-2" title="§ 5. Posture types">§ 5. Posture types</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-3" title="§ 8.1 Calculating the device posture information">§
                    8.1 Calculating the device posture information</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-4" title="§ 12.1.1 Set device posture">§ 12.1.1 Set device
                    posture</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-5" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-deviceposturetype-continuous"
        aria-label="Links in this document to definition: continuous">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-deviceposturetype-continuous"
                aria-label="Permalink for definition: continuous. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-deviceposturetype-continuous-1" title="§ 5. Posture types">§ 5. Posture types</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-continuous-2" title="§ 6.1 The device-posture media feature">§
                    6.1 The device-posture media feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-continuous-3" title="§ 10.2.1 Data minimization">§ 10.2.1 Data
                    minimization</a> <a href="#ref-for-dom-deviceposturetype-continuous-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-continuous-5" title="§ 12. Automation">§ 12. Automation</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-continuous-6" title="§ 12.1.1 Set device posture">§ 12.1.1 Set
                    device posture</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-deviceposturetype-folded"
        aria-label="Links in this document to definition: folded">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-deviceposturetype-folded"
                aria-label="Permalink for definition: folded. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-deviceposturetype-folded-1" title="§ 5. Posture types">§ 5. Posture types</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-folded-2" title="§ 6.1 The device-posture media feature">§ 6.1
                    The device-posture media feature</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-folded-3" title="§ 10.2.1 Data minimization">§ 10.2.1 Data
                    minimization</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-folded-4" title="§ 12. Automation">§ 12. Automation</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposturetype-folded-5" title="§ 12.1.1 Set device posture">§ 12.1.1 Set
                    device posture</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-deviceposture-type"
        aria-label="Links in this document to definition: type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-deviceposture-type"
                aria-label="Permalink for definition: type. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1268263519">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-deviceposture-type-1" title="§ 4. The DevicePosture interface">§ 4. The
                    DevicePosture interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposture-type-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-deviceposture-onchange"
        aria-label="Links in this document to definition: onchange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-deviceposture-onchange"
                aria-label="Permalink for definition: onchange. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1268263519">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-deviceposture-onchange-1" title="§ 4. The DevicePosture interface">§ 4. The
                    DevicePosture interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposture-onchange-2"
                    title="§ 4.2 The onchange attribute: Handle posture changes">§ 4.2 The onchange attribute: Handle
                    posture changes</a> <a href="#ref-for-dom-deviceposture-onchange-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-deviceposture-onchange-4" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-change"
        aria-label="Links in this document to definition: change">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-change"
                aria-label="Permalink for definition: change. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-change-1" title="§ 8.2 Device Posture change">§ 8.2 Device Posture change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-posture"
        aria-label="Links in this document to definition: posture">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-posture"
                aria-label="Permalink for definition: posture. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-posture-1" title="§ 5. Posture types">§ 5. Posture types</a>
            </li>
            <li>
                <a href="#ref-for-dfn-posture-2" title="§ 6.1 The device-posture media feature">§ 6.1 The device-posture
                    media feature</a> <a href="#ref-for-dfn-posture-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-posture-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-posture-5" title="§ 10.2.1 Data minimization">§ 10.2.1 Data minimization</a>
            </li>
            <li>
                <a href="#ref-for-dfn-posture-6" title="§ 11. Accessibility considerations">§ 11. Accessibility
                    considerations</a>
            </li>
            <li>
                <a href="#ref-for-dfn-posture-7" title="§ 13.1 Example 1: Posture data">§ 13.1 Example 1: Posture
                    data</a>
            </li>
            <li>
                <a href="#ref-for-dfn-posture-8" title="§ 13.2 Example 2: device-posture">§ 13.2 Example 2:
                    device-posture</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-device-posture"
        aria-label="Links in this document to definition: device-posture">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-device-posture"
                aria-label="Permalink for definition: device-posture. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-device-posture-1" title="§ 6.1 The device-posture media feature">§ 6.1 The
                    device-posture media feature</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-posture-values-table"
        aria-label="Links in this document to definition: Posture values table">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-posture-values-table"
                aria-label="Permalink for definition: Posture values table. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-posture-values-table-1" title="§ 8.1 Calculating the device posture information">§
                    8.1 Calculating the device posture information</a>
            </li>
            <li>
                <a href="#ref-for-dfn-posture-values-table-2" title="§ 10.2.3 User-mediated action">§ 10.2.3
                    User-mediated action</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-calculate-the-device-posture-information"
        aria-label="Links in this document to definition: calculate the device posture information">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-calculate-the-device-posture-information"
                aria-label="Permalink for definition: calculate the device posture information. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-calculate-the-device-posture-information-1" title="§ 8.2 Device Posture change">§
                    8.2 Device Posture change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-device-posture-change-steps"
        aria-label="Links in this document to definition: device posture change steps">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-device-posture-change-steps"
                aria-label="Permalink for definition: device posture change steps. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-device-posture-change-steps-1" title="§ 7. Reading the posture">§ 7. Reading the
                    posture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-device-posture-change-steps-2" title="§ 8.2 Device Posture change">§ 8.2 Device
                    Posture change</a> <a href="#ref-for-dfn-device-posture-change-steps-3" title="Reference 2">(2)</a>
                <a href="#ref-for-dfn-device-posture-change-steps-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-device-posture-change-steps-5" title="§ 10.2.2 User attention">§ 10.2.2 User
                    attention</a>
            </li>
            <li>
                <a href="#ref-for-dfn-device-posture-change-steps-6" title="§ 12.1.1 Set device posture">§ 12.1.1 Set
                    device posture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-device-posture-change-steps-7" title="§ 12.1.2 Clear device posture">§ 12.1.2
                    Clear device posture</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-document"
        aria-label="Links in this document to definition: document">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-document"
                aria-label="Permalink for definition: document. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-document-1" title="§ 7. Reading the posture">§ 7. Reading the posture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-document-2" title="§ 8.2 Device Posture change">§ 8.2 Device Posture change</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-disallowrecursion"
        aria-label="Links in this document to definition: disallowRecursion">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-disallowrecursion"
                aria-label="Permalink for definition: disallowRecursion. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-disallowrecursion-1" title="§ 7. Reading the posture">§ 7. Reading the posture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-disallowrecursion-2" title="§ 8.2 Device Posture change">§ 8.2 Device Posture
                    change</a> <a href="#ref-for-dfn-disallowrecursion-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-postureoverride"
        aria-label="Links in this document to definition: [[PostureOverride]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-postureoverride"
                aria-label="Permalink for definition: [[PostureOverride]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-postureoverride-1" title="§ 8.1 Calculating the device posture information">§ 8.1
                    Calculating the device posture information</a>
            </li>
            <li>
                <a href="#ref-for-dfn-postureoverride-2" title="§ 12.1.1 Set device posture">§ 12.1.1 Set device
                    posture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-postureoverride-3" title="§ 12.1.2 Clear device posture">§ 12.1.2 Clear device
                    posture</a> <a href="#ref-for-dfn-postureoverride-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-user-agent"
        aria-label="Links in this document to definition: user agent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-user-agent"
                aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-user-agent-1" title="§ 7. Reading the posture">§ 7. Reading the posture</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>