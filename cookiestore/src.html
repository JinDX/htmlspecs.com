<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="#3c790a" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <title>Cookie Store API Standard</title>
    <link crossorigin href="https://resources.whatwg.org/standard-shared-with-dev.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/standard.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/spec.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/logo-cookiestore.svg" rel="icon">
    <script crossorigin defer src="https://resources.whatwg.org/commit-snapshot-shortcut-key.js"></script>
    <meta content="Bikeshed version 3f621ba99, updated Mon Jul 28 15:38:36 2025 -0700" name="generator">
    <meta content="18d135fb3b59bbd36cd1d0cd87b408fe8a1f966f" name="revision">
    <style>
        .domintro::before {
            content: 'For web developers (non-normative)';
            text-transform: initial;
        }

        .domintro dt {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;

            padding-top: 0.5em;
            padding-bottom: 1em;
        }

        .domintro dt a {
            color: inherit;
            border-bottom-style: none;
        }

        .domintro dt code {
            font-size: inherit;
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>

<body class="h-entry status-LS">
    <div class="head">

        <a class="logo" href="https://whatwg.org/">
            <img alt="WHATWG" class="darkmode-aware" crossorigin height="100"
                src="https://resources.whatwg.org/logo-cookiestore.svg">
        </a>

        <hgroup>
            <h1 class="p-name no-ref" id="title">Cookie Store API</h1>
            <p id="subtitle">Living Standard — Last Updated <time class="dt-updated" datetime="2025-08-09">9 August
                    2025</time>
            </p>
        </hgroup>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>Participate:
                <dd><a href="https://github.com/whatwg/cookiestore">GitHub whatwg/cookiestore</a> (<a
                        href="https://github.com/whatwg/cookiestore/issues/new/choose">new issue</a>, <a
                        href="https://github.com/whatwg/cookiestore/issues">open issues</a>)
                <dd><a href="https://whatwg.org/chat">Chat on Matrix</a>
                <dt>Commits:
                <dd><a href="https://github.com/whatwg/cookiestore/commits">GitHub whatwg/cookiestore/commits</a>
                <dd><a href="/commit-snapshots/18d135fb3b59bbd36cd1d0cd87b408fe8a1f966f/"
                        id="commit-snapshot-link">Snapshot as of this commit</a>
                <dd><a href="https://twitter.com/cookiestoreapi">@cookiestoreapi</a>
                <dt>Tests:
                <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/cookiestore">web-platform-tests
                        cookiestore/</a> (<a href="https://github.com/web-platform-tests/wpt/labels/cookiestore">ongoing
                        work</a>)
                <dt>Translations <small>(non-normative)</small>:
                <dd><span title="Simplified Chinese"><a href="https://htmlspecs.com/cookiestore/" hreflang="zh-hans"
                            lang="zh-hans" rel="alternate">简体中文</a></span>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
        <p>An asynchronous JavaScript cookies API for documents and service workers.</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
                <ol class="toc">
                    <li><a href="#intro-proposed-change"><span class="secno">1.1</span> <span
                                class="content">Alternative to <code>document.cookie</code></span></a>
                    <li><a href="#intro-summary"><span class="secno">1.2</span> <span class="content">Summary</span></a>
                    <li><a href="#intro-query"><span class="secno">1.3</span> <span class="content">Querying
                                cookies</span></a>
                    <li><a href="#intro-modify"><span class="secno">1.4</span> <span class="content">Modifying
                                cookies</span></a>
                    <li><a href="#intro-monitor"><span class="secno">1.5</span> <span class="content">Monitoring
                                cookies</span></a>
                </ol>
            <li>
                <a href="#concepts"><span class="secno">2</span> <span class="content">Concepts</span></a>
                <ol class="toc">
                    <li><a href="#cookie-concept"><span class="secno">2.1</span> <span class="content">Cookie</span></a>
                    <li><a href="#cookie-store--concept"><span class="secno">2.2</span> <span class="content">Cookie
                                store</span></a>
                    <li><a href="#service-worker-extensions"><span class="secno">2.3</span> <span
                                class="content">Extensions to Service Workers</span></a>
                </ol>
            <li>
                <a href="#CookieStore"><span class="secno">3</span> <span class="content">The <code
                            class="idl"><span>CookieStore</span></code> interface</span></a>
                <ol class="toc">
                    <li><a href="#CookieStore-get"><span class="secno">3.1</span> <span class="content">The <code
                                    class="idl"><span>get()</span></code> method</span></a>
                    <li><a href="#CookieStore-getAll"><span class="secno">3.2</span> <span class="content">The <code
                                    class="idl"><span>getAll()</span></code> method</span></a>
                    <li><a href="#CookieStore-set"><span class="secno">3.3</span> <span class="content">The <code
                                    class="idl"><span>set()</span></code> method</span></a>
                    <li><a href="#CookieStore-delete"><span class="secno">3.4</span> <span class="content">The <code
                                    class="idl"><span>delete()</span></code> method</span></a>
                </ol>
            <li>
                <a href="#CookieStoreManager"><span class="secno">4</span> <span class="content">The <code
                            class="idl"><span>CookieStoreManager</span></code> interface</span></a>
                <ol class="toc">
                    <li><a href="#CookieStoreManager-subscribe"><span class="secno">4.1</span> <span class="content">The
                                <code class="idl"><span>subscribe()</span></code> method</span></a>
                    <li><a href="#CookieStoreManager-getSubscriptions"><span class="secno">4.2</span> <span
                                class="content">The <code class="idl"><span>getSubscriptions()</span></code>
                                method</span></a>
                    <li><a href="#CookieStoreManager-unsubscribe"><span class="secno">4.3</span> <span
                                class="content">The <code class="idl"><span>unsubscribe()</span></code>
                                method</span></a>
                    <li><a href="#ServiceWorkerRegistration"><span class="secno">4.4</span> <span class="content">The
                                <code class="idl"><span>ServiceWorkerRegistration</span></code> interface</span></a>
                </ol>
            <li>
                <a href="#event-interfaces"><span class="secno">5</span> <span class="content">Event
                        interfaces</span></a>
                <ol class="toc">
                    <li><a href="#CookieChangeEvent"><span class="secno">5.1</span> <span class="content">The <code
                                    class="idl"><span>CookieChangeEvent</span></code> interface</span></a>
                    <li><a href="#ExtendableCookieChangeEvent"><span class="secno">5.2</span> <span class="content">The
                                <code class="idl"><span>ExtendableCookieChangeEvent</span></code> interface</span></a>
                </ol>
            <li>
                <a href="#globals"><span class="secno">6</span> <span class="content">Global interfaces</span></a>
                <ol class="toc">
                    <li><a href="#Window"><span class="secno">6.1</span> <span class="content">The <code
                                    class="idl"><span>Window</span></code> interface</span></a>
                    <li><a href="#ServiceWorkerGlobalScope"><span class="secno">6.2</span> <span class="content">The
                                <code class="idl"><span>ServiceWorkerGlobalScope</span></code> interface</span></a>
                </ol>
            <li>
                <a href="#algorithms"><span class="secno">7</span> <span class="content">Algorithms</span></a>
                <ol class="toc">
                    <li><a href="#query-cookies-algorithm"><span class="secno">7.1</span> <span class="content">Query
                                cookies</span></a>
                    <li><a href="#set-cookie-algorithm"><span class="secno">7.2</span> <span class="content">Set a
                                cookie</span></a>
                    <li><a href="#delete-cookie-algorithm"><span class="secno">7.3</span> <span class="content">Delete a
                                cookie</span></a>
                    <li><a href="#process-changes"><span class="secno">7.4</span> <span class="content">Process
                                changes</span></a>
                </ol>
            <li>
                <a href="#security"><span class="secno">8</span> <span class="content">Security
                        considerations</span></a>
                <ol class="toc">
                    <li><a href="#gotcha"><span class="secno">8.1</span> <span class="content">Gotcha!</span></a>
                    <li><a href="#restrict"><span class="secno">8.2</span> <span class="content">Restrict?</span></a>
                    <li><a href="#secure-cookies"><span class="secno">8.3</span> <span class="content">Secure
                                cookies</span></a>
                    <li><a href="#surprises"><span class="secno">8.4</span> <span class="content">Surprises</span></a>
                    <li><a href="#prefixes"><span class="secno">8.5</span> <span class="content">Prefixes</span></a>
                    <li><a href="#url-scoping"><span class="secno">8.6</span> <span class="content">URL
                                scoping</span></a>
                    <li><a href="#aversion"><span class="secno">8.7</span> <span class="content">Cookie
                                aversion</span></a>
                </ol>
            <li>
                <a href="#privacy"><span class="secno">9</span> <span class="content">Privacy considerations</span></a>
                <ol class="toc">
                    <li><a href="#clear-cookies"><span class="secno">9.1</span> <span class="content">Clear
                                cookies</span></a>
                </ol>
            <li><a href="#acknowledgements"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
            <li><a href="#ipr"><span class="secno"></span> <span class="content">Intellectual property rights</span></a>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by
                                this specification</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms
                                defined by reference</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">Normative
                                References</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">Informative
                                References</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
        <p><em>This section is non-normative.</em></p>
        <p>This standard defines an asynchronous cookie API for scripts running in HTML documents and <a
                data-link-type="biblio" href="#biblio-service-workers" title="Service Workers">service workers</a>.</p>
        <p><a data-link-type="biblio" href="#biblio-rfc6265bis-14" title="Cookies: HTTP State Management Mechanism">HTTP
                cookies</a> have, since their origins at Netscape <a
                href="https://web.archive.org/web/0/http://wp.netscape.com/newsref/std/cookie_spec.html">(documentation
                preserved by archive.org)</a>, provided a <a
                href="https://montulli.blogspot.com/2013/05/the-reasoning-behind-web-cookies.html">valuable
                state-management mechanism</a> for the web.</p>
        <p>The synchronous single-threaded script-level <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie">document.cookie</a></code>
            interface to cookies has been a source of <a
                href="https://lists.w3.org/Archives/Public/public-whatwg-archive/2009Sep/0083.html">complexity and
                performance woes</a> further exacerbated by the move in many browsers from:</p>
        <ul>
            <li data-md>
                <p>a single browser process,</p>
            <li data-md>
                <p>a single-threaded event loop model, and</p>
            <li data-md>
                <p>no general expectation of responsiveness for scripted event handling while processing cookie
                    operations</p>
        </ul>
        <p>… to the modern web which strives for smoothly responsive high performance:</p>
        <ul>
            <li data-md>
                <p>in multiple browser processes,</p>
            <li data-md>
                <p>with a multithreaded, multiple-event loop model, and</p>
            <li data-md>
                <p>with an expectation of responsiveness on human-reflex time scales.</p>
        </ul>
        <p>On the modern web a cookie operation in one part of a web application cannot block:</p>
        <ul>
            <li data-md>
                <p>the rest of the web application,</p>
            <li data-md>
                <p>the rest of the web origin, or</p>
            <li data-md>
                <p>the browser as a whole.</p>
        </ul>
        <p>Newer parts of the web built in service workers <a
                href="https://github.com/w3c/ServiceWorker/issues/707">need access to cookies too</a> but cannot use the
            synchronous, blocking <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie①">document.cookie</a></code>
            interface at all as they both have no document and also cannot block the event loop as that would interfere
            with handling of unrelated events.</p>
        <h3 class="heading settled" data-level="1.1" id="intro-proposed-change"><span class="secno">1.1. </span><span
                class="content">Alternative to <code>document.cookie</code></span><a class="self-link"
                href="#intro-proposed-change"></a></h3>
        <p>Today writing a cookie means blocking your event loop while waiting for the browser to synchronously update
            the cookie jar with a carefully-crafted cookie string in <code>Set-Cookie</code> format:</p>
        <div class="example" id="example-e33babf4">
            <a class="self-link" href="#example-e33babf4"></a>

            <pre class="language-js highlight">document<c- p>.</c->cookie <c- o>=</c->
  <c- t>'__Secure-COOKIENAME=cookie-value'</c-> <c- o>+</c->
  <c- t>'; Path=/'</c-> <c- o>+</c->
  <c- t>'; expires=Fri, 12 Aug 2016 23:05:17 GMT'</c-> <c- o>+</c->
  <c- t>'; Secure'</c-> <c- o>+</c->
  <c- t>'; Domain=example.org'</c-><c- p>;</c->
<c- c1>// now we could assume the write succeeded, but since</c->
<c- c1>// failure is silent it is difficult to tell, so we</c->
<c- c1>// read to see whether the write succeeded</c->
<c- a>var</c-> successRegExp <c- o>=</c->
  <c- sr>/(^|; ?)__Secure-COOKIENAME=cookie-value(;|$)/</c-><c- p>;</c->
<c- k>if</c-> <c- p>(</c->String<c- p>(</c->document<c- p>.</c->cookie<c- p>).</c->match<c- p>(</c->successRegExp<c- p>))</c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- t>'It worked!'</c-><c- p>);</c->
<c- p>}</c-> <c- k>else</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- t>'It did not work, and we do not know why'</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <p>What if you could instead write:</p>
        <div class="example" id="example-e2699daa">
            <a class="self-link" href="#example-e2699daa"></a>

            <pre class="language-js highlight"><c- a>const</c-> one_day_ms <c- o>=</c-> <c- mf>24</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>1000</c-><c- p>;</c->
cookieStore<c- p>.</c->set<c- p>(</c->
  <c- p>{</c->
    name<c- o>:</c-> <c- t>'__Secure-COOKIENAME'</c-><c- p>,</c->
    value<c- o>:</c-> <c- t>'cookie-value'</c-><c- p>,</c->
    expires<c- o>:</c-> Date<c- p>.</c->now<c- p>()</c-> <c- o>+</c-> one_day_ms<c- p>,</c->
    domain<c- o>:</c-> <c- t>'example.org'</c->
  <c- p>}).</c->then<c- p>(</c-><c- a>function</c-><c- p>()</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'It worked!'</c-><c- p>);</c->
  <c- p>},</c-> <c- a>function</c-><c- p>(</c->reason<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c->
      <c- t>'It did not work, and this is why:'</c-><c- p>,</c->
      reason<c- p>);</c->
  <c- p>});</c->
<c- c1>// Meanwhile we can do other things while waiting for</c->
<c- c1>// the cookie store to process the write...</c->
</pre>
        </div>
        <p>This also has the advantage of not relying on document and not blocking, which together make it usable from
            <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker">service workers</a>, which otherwise do not have cookie access from
            script.
        </p>
        <p>This standard also includes a power-efficient monitoring API to replace <code>setTimeout</code>-based polling
            cookie monitors with cookie change observers.</p>
        <h3 class="heading settled" data-level="1.2" id="intro-summary"><span class="secno">1.2. </span><span
                class="content">Summary</span><a class="self-link" href="#intro-summary"></a></h3>
        <p>In short, this API offers the following functionality:</p>
        <ul>
            <li data-md>
                <p><a href="#intro-modify">write</a> (or "set") and delete (or "expire") cookies</p>
            <li data-md>
                <p><a href="#intro-query">read</a> (or "get") <a data-link-type="dfn" href="#script-visible"
                        id="ref-for-script-visible">script-visible</a> cookies</p>
                <ul>
                    <li data-md>
                        <p>... including for specified in-scope request paths in
                            <a data-link-type="biblio" href="#biblio-service-workers" title="Service Workers">service
                                worker</a> contexts
                        </p>
                </ul>
            <li data-md>
                <p><a href="#intro-monitor">monitor</a> <a data-link-type="dfn" href="#script-visible"
                        id="ref-for-script-visible①">script-visible</a> cookies for changes using
                    <code>CookieChangeEvent</code>
                </p>
                <ul>
                    <li data-md>
                        <p>... in long-running script contexts (e.g. <code>document</code>)</p>
                    <li data-md>
                        <p>... for script-supplied in-scope request paths in <a data-link-type="biblio"
                                href="#biblio-service-workers" title="Service Workers">service worker</a> contexts</p>
                </ul>
        </ul>
        <h3 class="heading settled" data-level="1.3" id="intro-query"><span class="secno">1.3. </span><span
                class="content">Querying cookies</span><a class="self-link" href="#intro-query"></a></h3>
        <p>Both <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document">documents</a> and <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker①">service
                workers</a> access the same query API, via the
            <code
                class="idl"><a data-link-type="idl" href="#dom-window-cookiestore" id="ref-for-dom-window-cookiestore">cookieStore</a></code>
            property on the <a href="#globals">global object</a>.
        </p>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options">get()</a></code>
            and <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options">getAll()</a></code>
            methods on <code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore">CookieStore</a></code>
            are used to query cookies.
            Both methods return <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise">Promise</a></code>s.
            Both methods take the same arguments, which can be either:</p>
        <ul>
            <li data-md>
                <p>a name, or</p>
            <li data-md>
                <p>a dictionary of options (optional for <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options①">getAll()</a></code>)
                </p>
        </ul>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options①">get()</a></code>
            method is essentially a form of <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options②">getAll()</a></code>
            that only returns the first result.</p>
        <div class="example" id="example-75b57f43">
            <a class="self-link" href="#example-75b57f43"></a>
            Reading a cookie:


            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
  <c- a>const</c-> cookie <c- o>=</c-> <c- k>await</c-> cookieStore<c- p>.</c->get<c- p>(</c-><c- t>'session_id'</c-><c- p>);</c->
  <c- k>if</c-> <c- p>(</c->cookie<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`Found </c-><c- si>${</c->cookie<c- p>.</c->name<c- si>}</c-><c- sb> cookie: </c-><c- si>${</c->cookie<c- p>.</c->value<c- si>}</c-><c- sb>`</c-><c- p>);</c->
  <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- t>'Cookie not found'</c-><c- p>);</c->
  <c- p>}</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- sb>`Cookie store error: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <div class="example" id="example-9453f9c5">
            <a class="self-link" href="#example-9453f9c5"></a>
            Reading multiple cookies:


            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
  <c- a>const</c-> cookies <c- o>=</c-> <c- k>await</c-> cookieStore<c- p>.</c->getAll<c- p>(</c-><c- t>'session_id'</c-><c- p>});</c->
  <c- k>for</c-> <c- p>(</c-><c- a>const</c-> cookie <c- k>of</c-> cookies<c- p>)</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`Result: </c-><c- si>${</c->cookie<c- p>.</c->name<c- si>}</c-><c- sb> = </c-><c- si>${</c->cookie<c- p>.</c->value<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- sb>`Cookie store error: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker②">Service workers</a> can obtain the list of cookies that would be sent
            by a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
                id="ref-for-concept-fetch">fetch</a> to
            any URL under their <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-scope-url"
                id="ref-for-dfn-scope-url">scope</a>.</p>
        <div class="example" id="example-2f07df9d">
            <a class="self-link" href="#example-2f07df9d"></a>
            Read the cookies for a specific URL (in a <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker③">service
                worker</a>):


            <pre class="language-js highlight"><c- k>await</c-> cookieStore<c- p>.</c->getAll<c- p>({</c->url<c- o>:</c-> <c- t>'/admin'</c-><c- p>});</c->
</pre>
        </div>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document①">Documents</a> can only obtain the cookies at their current URL. In other
            words,
            the only valid <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url">url</a></code>
            value in <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document②">Document</a> contexts is the document’s URL.</p>
        <p>The objects returned by <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options②">get()</a></code>
            and <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options③">getAll()</a></code>
            contain all the relevant information in the cookie store, not just the <a data-link-type="dfn"
                href="#cookie-name" id="ref-for-cookie-name">name</a> and the <a data-link-type="dfn"
                href="#cookie-value" id="ref-for-cookie-value">value</a> as in the older <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie②">document.cookie</a></code>
            API.</p>
        <div class="example" id="example-74bb82cb">
            <a class="self-link" href="#example-74bb82cb"></a>
            Accessing all the cookie data:


            <pre class="language-js highlight"><c- k>await</c-> cookie <c- o>=</c-> cookieStore<c- p>.</c->get<c- p>(</c-><c- t>'session_id'</c-><c- p>);</c->
console<c- p>.</c->log<c- p>(</c-><c- sb>`Cookie scope - Domain: </c-><c- si>${</c->cookie<c- p>.</c->domain<c- si>}</c-><c- sb> Path: </c-><c- si>${</c->cookie<c- p>.</c->path<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- k>if</c-> <c- p>(</c->cookie<c- p>.</c->expires <c- o>===</c-> <c- kc>null</c-><c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- t>'Cookie expires at the end of the session'</c-><c- p>);</c->
<c- p>}</c-> <c- k>else</c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- sb>`Cookie expires at: </c-><c- si>${</c->cookie<c- p>.</c->expires<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
<c- k>if</c-> <c- p>(</c->cookie<c- p>.</c->secure<c- p>)</c->
  console<c- p>.</c->log<c- p>(</c-><c- t>'The cookie is restricted to secure origins'</c-><c- p>);</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="1.4" id="intro-modify"><span class="secno">1.4. </span><span
                class="content">Modifying cookies</span><a class="self-link" href="#intro-modify"></a></h3>
        <p>Both <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document③">documents</a> and <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker④">service
                workers</a> access the same modification API, via the
            <code
                class="idl"><a data-link-type="idl" href="#dom-window-cookiestore" id="ref-for-dom-window-cookiestore①">cookieStore</a></code>
            property on the <a href="#globals">global object</a>.
        </p>
        <p>Cookies are created or modified (written) using the <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set">set()</a></code>
            method.</p>
        <div class="example" id="example-cf76b712">
            <a class="self-link" href="#example-cf76b712"></a>
            Write a cookie:


            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
  <c- k>await</c-> cookieStore<c- p>.</c->set<c- p>(</c-><c- t>'opted_out'</c-><c- p>,</c-> <c- t>'1'</c-><c- p>);</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- sb>`Failed to set cookie: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
            <p>The <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set①">set()</a></code>
                call above is shorthand for using an options dictionary, as follows:</p>
            <pre class="language-js highlight"><c- k>await</c-> cookieStore<c- p>.</c->set<c- p>({</c->
  name<c- o>:</c-> <c- t>'opted_out'</c-><c- p>,</c->
  value<c- o>:</c-> <c- t>'1'</c-><c- p>,</c->
  expires<c- o>:</c-> <c- kc>null</c-><c- p>,</c->  <c- c1>// session cookie</c->

  <c- c1>// By default, domain is set to null which means the scope is locked at the current domain.</c->
  domain<c- o>:</c-> <c- kc>null</c-><c- p>,</c->
  path<c- o>:</c-> <c- t>'/'</c->
<c- p>});</c->
</pre>
        </div>
        <p>Cookies are deleted (expired) using the <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-delete" id="ref-for-dom-cookiestore-delete">delete()</a></code>
            method.</p>
        <div class="example" id="example-7990c896">
            <a class="self-link" href="#example-7990c896"></a>
            Delete a cookie:


            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
  <c- k>await</c-> cookieStore<c- p>.</c-><c- ow>delete</c-><c- p>(</c-><c- t>'session_id'</c-><c- p>);</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- sb>`Failed to delete cookie: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <p>Under the hood, deleting a cookie is done by changing the cookie’s expiration date to the past, which still
            works.</p>
        <div class="example" id="example-e0eca546">
            <a class="self-link" href="#example-e0eca546"></a>
            Deleting a cookie by changing the expiry date:


            <pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
  <c- a>const</c-> one_day_ms <c- o>=</c-> <c- mf>24</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>60</c-> <c- o>*</c-> <c- mf>1000</c-><c- p>;</c->
  <c- k>await</c-> cookieStore<c- p>.</c->set<c- p>({</c->
    name<c- o>:</c-> <c- t>'session_id'</c-><c- p>,</c->
    value<c- o>:</c-> <c- t>'value will be ignored'</c-><c- p>,</c->
    expires<c- o>:</c-> Date<c- p>.</c->now<c- p>()</c-> <c- o>-</c-> one_day_ms <c- p>});</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- sb>`Failed to delete cookie: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="1.5" id="intro-monitor"><span class="secno">1.5. </span><span
                class="content">Monitoring cookies</span><a class="self-link" href="#intro-monitor"></a></h3>
        <p>To avoid polling, it is possible to observe changes to cookies.</p>
        <p>In <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document④">documents</a>, <code>change</code> events are fired for all relevant
            cookie changes.</p>
        <div class="example" id="example-7e599641">
            <a class="self-link" href="#example-7e599641"></a>
            Register for <code>change</code> events in documents:


            <pre class="language-js highlight">cookieStore<c- p>.</c->addEventListener<c- p>(</c-><c- t>'change'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- sb>`</c-><c- si>${</c->event<c- p>.</c->changed<c- p>.</c->length<c- si>}</c-><c- sb> changed cookies`</c-><c- p>);</c->
  <c- k>for</c-> <c- p>(</c-><c- a>const</c-> cookie <c- ow>in</c-> event<c- p>.</c->changed<c- p>)</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`Cookie </c-><c- si>${</c->cookie<c- p>.</c->name<c- si>}</c-><c- sb> changed to </c-><c- si>${</c->cookie<c- p>.</c->value<c- si>}</c-><c- sb>`</c-><c- p>);</c->

  console<c- p>.</c->log<c- p>(</c-><c- sb>`</c-><c- si>${</c->event<c- p>.</c->deleted<c- p>.</c->length<c- si>}</c-><c- sb> deleted cookies`</c-><c- p>);</c->
  <c- k>for</c-> <c- p>(</c-><c- a>const</c-> cookie <c- ow>in</c-> event<c- p>.</c->deleted<c- p>)</c->
    console<c- p>.</c->log<c- p>(</c-><c- sb>`Cookie </c-><c- si>${</c->cookie<c- p>.</c->name<c- si>}</c-><c- sb> deleted`</c-><c- p>);</c->
<c- p>});</c->
</pre>
        </div>
        <p>In <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker⑤">service workers</a>, <code>cookiechange</code> events are fired against
            the global scope, but an explicit subscription is required, associated with the service worker’s
            registration.</p>
        <div class="example" id="example-1ce710fe">
            <a class="self-link" href="#example-1ce710fe"></a>
            Register for <code>cookiechange</code> events in a service worker:


            <pre class="language-js highlight">self<c- p>.</c->addEventListener<c- p>(</c-><c- t>'activate'</c-><c- p>,</c-> <c- p>(</c->event<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
  event<c- p>.</c->waitUntil<c- p>(</c-><c- k>async</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
    <c- c1>// Snapshot current state of subscriptions.</c->
    <c- a>const</c-> subscriptions <c- o>=</c-> <c- k>await</c-> self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->getSubscriptions<c- p>();</c->

    <c- c1>// Clear any existing subscriptions.</c->
    <c- k>await</c-> self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->unsubscribe<c- p>(</c->subscriptions<c- p>);</c->

    <c- k>await</c-> self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->subscribe<c- p>([</c->
      <c- p>{</c->
        name<c- o>:</c-> <c- t>'session_id'</c-><c- p>,</c->  <c- c1>// Get change events for cookies named session_id.</c->
      <c- p>}</c->
    <c- p>]);</c->
  <c- p>});</c->
<c- p>});</c->

self<c- p>.</c->addEventListener<c- p>(</c-><c- t>'cookiechange'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
  <c- c1>// The event has |changed| and |deleted| properties with</c->
  <c- c1>// the same semantics as the Document events.</c->
  console<c- p>.</c->log<c- p>(</c-><c- sb>`</c-><c- si>${</c->event<c- p>.</c->changed<c- p>.</c->length<c- si>}</c-><c- sb> changed cookies`</c-><c- p>);</c->
  console<c- p>.</c->log<c- p>(</c-><c- sb>`</c-><c- si>${</c->event<c- p>.</c->deleted<c- p>.</c->length<c- si>}</c-><c- sb> deleted cookies`</c-><c- p>);</c->
<c- p>});</c->
</pre>
        </div>
        <p>Calls to <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe">subscribe()</a></code>
            are cumulative, so that independently maintained
            modules or libraries can set up their own subscriptions. As expected, a <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker⑥">service
                worker</a>’s
            subscriptions are persisted for with the <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration">service worker registration</a>.</p>
        <p>Subscriptions can use the same options as <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options③">get()</a></code>
            and <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options④">getAll()</a></code>.
            The complexity of fine-grained subscriptions is justified
            by the cost of dispatching an irrelevant cookie change event to a <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker⑦">service
                worker</a>,
            which is much higher than the cost of dispatching an equivalent event
            to a <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>.
            Specifically, dispatching an event to a <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker⑧">service
                worker</a> might
            require waking up the worker, which has a significant impact on battery life.</p>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions">getSubscriptions()</a></code>
            allows a <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker⑨">service worker</a> to introspect
            the subscriptions that have been made.</p>
        <div class="example" id="example-5e735d9a">
            <a class="self-link" href="#example-5e735d9a"></a>
            Checking change subscriptions:


            <pre class="language-js highlight"><c- a>const</c-> subscriptions <c- o>=</c-> <c- k>await</c-> self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->getSubscriptions<c- p>();</c->
<c- k>for</c-> <c- p>(</c-><c- a>const</c-> sub <c- k>of</c-> subscriptions<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c->sub<c- p>.</c->name<c- p>,</c-> sub<c- p>.</c->url<c- p>);</c->
<c- p>}</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="2" id="concepts"><span class="secno">2. </span><span
                class="content">Concepts</span><a class="self-link" href="#concepts"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="cookie-concept"><span class="secno">2.1. </span><span
                class="content">Cookie</span><a class="self-link" href="#cookie-concept"></a></h3>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cookie">cookie</dfn> is normatively defined
            for user agents by <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-user-agent-requirements">Cookies
                § User Agent Requirements</a>.</p>
        <div>
            Per <a href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-storage-model">Cookies §
                Storage Model</a>, a <a data-link-type="dfn" href="#cookie" id="ref-for-cookie">cookie</a> has the
            following fields:
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-name">name</dfn>,
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-value">value</dfn>,
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-domain">domain</dfn>,
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-path">path</dfn>,
            <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                id="cookie-http-only-flag">http-only-flag</dfn>.

        </div>
        <div class="algorithm" data-algorithm="normalize a cookie name or value">
            <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="normalize" data-noexport
                    id="normalize-a-cookie-name-or-value">normalize a cookie name or value</dfn> given a <a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a>
                <var>input</var>:
                remove all U+0009 TAB and U+0020 SPACE that are at the start or end of <var>input</var>.
            </p>
        </div>
        <p>A cookie is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="script-visible">script-visible</dfn> when it is in-scope and its <a data-link-type="dfn"
                href="#cookie-http-only-flag" id="ref-for-cookie-http-only-flag">http-only-flag</a> is unset. This is
            more formally enforced in the processing model, which consults <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-retrieval-model">Cookies §
                Retrieval Model</a> at appropriate points.</p>
        <p>A cookie is also subject to certain size limits. Per <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-storage-model">Cookies § Storage
                Model</a>:</p>
        <ul>
            <li data-md>
                <p>The combined lengths of the name and value fields must not be greater than 4096 <a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte" id="ref-for-byte">bytes</a> (the
                    <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                        id="cookie-maximum-name-value-pair-size">maximum name/value pair size</dfn>).
                </p>
            <li data-md>
                <p>The length of every field except the name and value fields must not be greater than 1024 <a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte" id="ref-for-byte①">bytes</a>
                    (the <dfn class="dfn-paneled" data-dfn-for="cookie" data-dfn-type="dfn" data-noexport
                        id="cookie-maximum-attribute-value-size">maximum attribute value size</dfn>).</p>
        </ul>
        <p class="note" role="note"><a data-link-type="dfn" href="#cookie" id="ref-for-cookie①">Cookie</a>
            attribute-values are stored as <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                id="ref-for-byte-sequence">byte sequences</a>, not strings.

        </p>
        <h3 class="heading settled" data-level="2.2" id="cookie-store--concept"><span class="secno">2.2. </span><span
                class="content">Cookie store</span><a class="self-link" href="#cookie-store--concept"></a></h3>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cookie-store">cookie store</dfn> is
            normatively defined for user agents by <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-user-agent-requirements">Cookies
                § User Agent Requirements</a>.</p>
        <p>When any of the following conditions occur for a <a data-link-type="dfn" href="#cookie-store"
                id="ref-for-cookie-store">cookie store</a>, perform the steps to <a data-link-type="dfn"
                href="#process-cookie-changes" id="ref-for-process-cookie-changes">process cookie changes</a>.</p>
        <ul>
            <li data-md>
                <p>A newly-created <a data-link-type="dfn" href="#cookie" id="ref-for-cookie②">cookie</a> is inserted
                    into the <a data-link-type="dfn" href="#cookie-store" id="ref-for-cookie-store①">cookie store</a>.
                </p>
            <li data-md>
                <p>A user agent evicts expired <a data-link-type="dfn" href="#cookie" id="ref-for-cookie③">cookies</a>
                    from the <a data-link-type="dfn" href="#cookie-store" id="ref-for-cookie-store②">cookie store</a>.
                </p>
            <li data-md>
                <p>A user agent removes excess <a data-link-type="dfn" href="#cookie" id="ref-for-cookie④">cookies</a>
                    from the <a data-link-type="dfn" href="#cookie-store" id="ref-for-cookie-store③">cookie store</a>.
                </p>
        </ul>
        <h3 class="heading settled" data-level="2.3" id="service-worker-extensions"><span class="secno">2.3.
            </span><span class="content">Extensions to Service Workers</span><a class="self-link"
                href="#service-worker-extensions"></a></h3>
        <p><a data-link-type="biblio" href="#biblio-service-workers" title="Service Workers">[Service-Workers]</a>
            defines <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration①">service worker registration</a>, which this specification
            extends.</p>
        <p>A <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration②">service worker registration</a> has an associated <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cookie-change-subscription-list">cookie change
                subscription list</dfn> which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                id="ref-for-list">list</a>;
            each member is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="cookie-change-subscription">cookie change subscription</dfn>. A <a data-link-type="dfn"
                href="#cookie-change-subscription" id="ref-for-cookie-change-subscription">cookie change
                subscription</a> is
            <span>
                a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuple</a> of
                <dfn class="dfn-paneled" data-dfn-for="cookie change subscription" data-dfn-type="dfn" data-noexport
                    id="cookie-change-subscription-name">name</dfn> and <dfn class="dfn-paneled"
                    data-dfn-for="cookie change subscription" data-dfn-type="dfn" data-noexport
                    id="cookie-change-subscription-url">url</dfn>.
            </span>
        </p>
        <h2 class="heading settled" data-level="3" id="CookieStore"><span class="secno">3. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore①">CookieStore</a></code>
                interface</span><a class="self-link" href="#CookieStore"></a></h2>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->),
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cookiestore"><code><c- g>CookieStore</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem"><c- n>CookieListItem</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-get" id="ref-for-dom-cookiestore-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/get(name)" data-dfn-type="argument" data-export id="dom-cookiestore-get-name-name"><code><c- g>name</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem①"><c- n>CookieListItem</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options④"><c- g>get</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/get(options), CookieStore/get()" data-dfn-type="argument" data-export id="dom-cookiestore-get-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist"><c- n>CookieList</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-getall" id="ref-for-dom-cookiestore-getall"><c- g>getAll</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/getAll(name)" data-dfn-type="argument" data-export id="dom-cookiestore-getall-name-name"><code><c- g>name</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist①"><c- n>CookieList</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options⑤"><c- g>getAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions①"><c- n>CookieStoreGetOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/getAll(options), CookieStore/getAll()" data-dfn-type="argument" data-export id="dom-cookiestore-getall-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set②"><c- g>set</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/set(name, value)" data-dfn-type="argument" data-export id="dom-cookiestore-set-name-value-name"><code><c- g>name</c-></code></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/set(name, value)" data-dfn-type="argument" data-export id="dom-cookiestore-set-name-value-value"><code><c- g>value</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-set-options" id="ref-for-dom-cookiestore-set-options"><c- g>set</c-></a>(<a data-link-type="idl-name" href="#dictdef-cookieinit" id="ref-for-dictdef-cookieinit"><c- n>CookieInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/set(options)" data-dfn-type="argument" data-export id="dom-cookiestore-set-options-options"><code><c- g>options</c-></code></dfn>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-delete" id="ref-for-dom-cookiestore-delete①"><c- g>delete</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/delete(name)" data-dfn-type="argument" data-export id="dom-cookiestore-delete-name-name"><code><c- g>name</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-delete-options" id="ref-for-dom-cookiestore-delete-options"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="#dictdef-cookiestoredeleteoptions" id="ref-for-dictdef-cookiestoredeleteoptions"><c- n>CookieStoreDeleteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore/delete(options)" data-dfn-type="argument" data-export id="dom-cookiestore-delete-options-options"><code><c- g>options</c-></code></dfn>);

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-cookiestore-onchange"><code><c- g>onchange</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookiestoregetoptions"><code><c- g>CookieStoreGetOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreGetOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookiestoregetoptions-name"><code><c- g>name</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreGetOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookiestoregetoptions-url"><code><c- g>url</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-cookiesamesite"><code><c- g>CookieSameSite</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="CookieSameSite" data-dfn-type="enum-value" data-export id="dom-cookiesamesite-strict"><code><c- s>"strict"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="CookieSameSite" data-dfn-type="enum-value" data-export id="dom-cookiesamesite-lax"><code><c- s>"lax"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="CookieSameSite" data-dfn-type="enum-value" data-export id="dom-cookiesamesite-none"><code><c- s>"none"</c-></code></dfn>
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookieinit"><code><c- g>CookieInit</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookieinit-name"><code><c- g>name</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookieinit-value"><code><c- g>value</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="DOMHighResTimeStamp?" id="dom-cookieinit-expires"><code><c- g>expires</c-></code></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c- b>USVString</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="USVString?" id="dom-cookieinit-domain"><code><c- g>domain</c-></code></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⓪"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;/&quot;" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookieinit-path"><code><c- g>path</c-></code></dfn> = "/";
  <a data-link-type="idl-name" href="#enumdef-cookiesamesite" id="ref-for-enumdef-cookiesamesite"><c- n>CookieSameSite</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;strict&quot;" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="CookieSameSite" id="dom-cookieinit-samesite"><code><c- g>sameSite</c-></code></dfn> = "strict";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CookieInit" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cookieinit-partitioned"><code><c- g>partitioned</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookiestoredeleteoptions"><code><c- g>CookieStoreDeleteOptions</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreDeleteOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookiestoredeleteoptions-name"><code><c- g>name</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①②"><c- b>USVString</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="CookieStoreDeleteOptions" data-dfn-type="dict-member" data-export data-type="USVString?" id="dom-cookiestoredeleteoptions-domain"><code><c- g>domain</c-></code></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;/&quot;" data-dfn-for="CookieStoreDeleteOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookiestoredeleteoptions-path"><code><c- g>path</c-></code></dfn> = "/";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CookieStoreDeleteOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cookiestoredeleteoptions-partitioned"><code><c- g>partitioned</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookielistitem"><code><c- g>CookieListItem</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookielistitem-name"><code><c- g>name</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieListItem" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-cookielistitem-value"><code><c- g>value</c-></code></dfn>;
};

<c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem②"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-cookielist"><code><c- g>CookieList</c-></code></dfn>;
</pre>
        <h3 class="heading settled" data-level="3.1" id="CookieStore-get"><span class="secno">3.1. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options⑤">get()</a></code>
                method</span><a class="self-link" href="#CookieStore-get"></a></h3>
        <dl class="domintro">
            <dt data-md><var>cookie</var> = await cookieStore . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-get" id="ref-for-dom-cookiestore-get①">get</a></code>(<var>name</var>)
            <dt data-md><var>cookie</var> = await cookieStore . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options⑥">get</a></code>(<var>options</var>)
            <dd data-md>
                <p>Returns a promise resolving to the first in-scope <a data-link-type="dfn" href="#script-visible"
                        id="ref-for-script-visible②">script-visible</a> value
                    for a given cookie name (or other options).
                    In a service worker context this defaults to the path of the service worker’s registered scope.
                    In a document it defaults to the path of the current document and does not respect changes from
                    <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" id="ref-for-dom-history-replacestate">replaceState()</a></code>
                    or <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain" id="ref-for-dom-document-domain">document.domain</a></code>.
                </p>
        </dl>
        <div class="algorithm" data-algorithm="get(name)" data-algorithm-for="CookieStore">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-get"><code>get(<var>name</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin">origin</a>.</p>
                <li data-md>
                    <p>If <var>origin</var> is an <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque">opaque origin</a>, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>url</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url">creation URL</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>list</var> be the results of running <a data-link-type="dfn"
                                    href="#query-cookies" id="ref-for-query-cookies">query cookies</a> with
                                <var>url</var> and <var>name</var>.
                            </p>
                        <li data-md>
                            <p>If <var>list</var> is failure, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a>
                                <var>p</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>
                                and abort these steps.
                            </p>
                        <li data-md>
                            <p>If <var>list</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">is
                                    empty</a>, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">resolve</a>
                                <var>p</var> with null.
                            </p>
                        <li data-md>
                            <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve①">resolve</a> <var>p</var> with the first item of
                                <var>list</var>.
                            </p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="get(options)" data-algorithm-for="CookieStore">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                data-lt="get(options)|get()" id="dom-cookiestore-get-options"><code>get(<var>options</var>)</code></dfn>
            method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object①">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin①">origin</a>.</p>
                <li data-md>
                    <p>If <var>origin</var> is an <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque①">opaque origin</a>, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror①">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>url</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url①">creation URL</a>.</p>
                <li data-md>
                    <p>If <var>options</var> is empty, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②">a promise rejected with</a> a <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.
                    </p>
                <li data-md>
                    <p>If <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url①">url</a></code>"]
                        is present, then run these steps:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>parsed</var> be the result of <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-basic-url-parser"
                                    id="ref-for-concept-basic-url-parser">parsing</a> <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url②">url</a></code>"]
                                with <var>settings</var>’s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                                    id="ref-for-api-base-url">API base URL</a>.</p>
                        <li data-md>
                            <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this②">this</a>’s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global">relevant global object</a> is a <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>
                                object and <var>parsed</var> does not <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-equals"
                                    id="ref-for-concept-url-equals">equal</a> <var>url</var> with <a
                                    data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#url-equals-exclude-fragments"
                                    id="ref-for-url-equals-exclude-fragments">exclude fragments</a> set to true,
                                then return <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with③">a promise rejected with</a> a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.
                            </p>
                        <li data-md>
                            <p>If <var>parsed</var>’s <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-origin"
                                    id="ref-for-concept-url-origin">origin</a> and <var>url</var>’s <a
                                    data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin"
                                    id="ref-for-concept-url-origin①">origin</a> are not the <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                                    id="ref-for-same-origin">same origin</a>,
                                then return <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④">a promise rejected with</a> a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.
                            </p>
                        <li data-md>
                            <p>Set <var>url</var> to <var>parsed</var>.</p>
                    </ol>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise①">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel①">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>list</var> be the results of running <a data-link-type="dfn"
                                    href="#query-cookies" id="ref-for-query-cookies①">query cookies</a> with
                                <var>url</var> and
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name">name</a></code>"]
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-with-default"
                                    id="ref-for-map-with-default">with default</a> null.
                            </p>
                        <li data-md>
                            <p>If <var>list</var> is failure, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a>
                                <var>p</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>
                                and abort these steps.
                            </p>
                        <li data-md>
                            <p>If <var>list</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">is
                                    empty</a>, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">resolve</a>
                                <var>p</var> with null.
                            </p>
                        <li data-md>
                            <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve③">resolve</a> <var>p</var> with the first item of
                                <var>list</var>.
                            </p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.2" id="CookieStore-getAll"><span class="secno">3.2. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options⑥">getAll()</a></code>
                method</span><a class="self-link" href="#CookieStore-getAll"></a></h3>
        <dl class="domintro">
            <dt data-md><var>cookies</var> = await cookieStore . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall" id="ref-for-dom-cookiestore-getall①">getAll</a></code>(<var>name</var>)
            <dt data-md><var>cookies</var> = await cookieStore . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options⑦">getAll</a></code>(<var>options</var>)
            <dd data-md>
                <p>Returns a promise resolving to the all in-scope <a data-link-type="dfn" href="#script-visible"
                        id="ref-for-script-visible③">script-visible</a> value for a given cookie name (or other
                    options).
                    In a service worker context this defaults to the path of the service worker’s registered scope.
                    In a document it defaults to the path of the current document and does not respect changes from
                    <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" id="ref-for-dom-history-replacestate①">replaceState()</a></code>
                    or <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain" id="ref-for-dom-document-domain①">document.domain</a></code>.
                </p>
        </dl>
        <div class="algorithm" data-algorithm="getAll(name)" data-algorithm-for="CookieStore">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-getall"><code>getAll(<var>name</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object②">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin②">origin</a>.</p>
                <li data-md>
                    <p>If <var>origin</var> is an <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque②">opaque origin</a>, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with⑤">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror②">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>url</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url②">creation URL</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise②">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel②">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>list</var> be the results of running <a data-link-type="dfn"
                                    href="#query-cookies" id="ref-for-query-cookies②">query cookies</a> with
                                <var>url</var> and <var>name</var>.
                            </p>
                        <li data-md>
                            <p>If <var>list</var> is failure, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a>
                                <var>p</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>.
                            </p>
                        <li data-md>
                            <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve④">resolve</a> <var>p</var> with <var>list</var>.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="getAll(options)" data-algorithm-for="CookieStore">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                data-lt="getAll(options)|getAll()"
                id="dom-cookiestore-getall-options"><code>getAll(<var>options</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object③">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin③">origin</a>.</p>
                <li data-md>
                    <p>If <var>origin</var> is an <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque③">opaque origin</a>, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with⑥">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror③">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>url</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url③">creation URL</a>.</p>
                <li data-md>
                    <p>If <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url③">url</a></code>"]
                        is present, then run these steps:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>parsed</var> be the result of <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-basic-url-parser"
                                    id="ref-for-concept-basic-url-parser①">parsing</a> <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url④">url</a></code>"]
                                with <var>settings</var>’s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                                    id="ref-for-api-base-url①">API base URL</a>.</p>
                        <li data-md>
                            <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this⑤">this</a>’s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global①">relevant global object</a> is a <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code>
                                object and <var>parsed</var> does not <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-equals"
                                    id="ref-for-concept-url-equals①">equal</a> <var>url</var> with <a
                                    data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#url-equals-exclude-fragments"
                                    id="ref-for-url-equals-exclude-fragments①">exclude fragments</a> set to true,
                                then return <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with⑦">a promise rejected with</a> a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code>.
                            </p>
                        <li data-md>
                            <p>If <var>parsed</var>’s <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-origin"
                                    id="ref-for-concept-url-origin②">origin</a> and <var>url</var>’s <a
                                    data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin"
                                    id="ref-for-concept-url-origin③">origin</a> are not the <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                                    id="ref-for-same-origin①">same origin</a>,
                                then return <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with⑧">a promise rejected with</a> a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>.
                            </p>
                        <li data-md>
                            <p>Set <var>url</var> to <var>parsed</var>.</p>
                    </ol>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise③">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel③">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>list</var> be the results of running <a data-link-type="dfn"
                                    href="#query-cookies" id="ref-for-query-cookies③">query cookies</a> with
                                <var>url</var> and
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name①">name</a></code>"]
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-with-default"
                                    id="ref-for-map-with-default①">with default</a> null.
                            </p>
                        <li data-md>
                            <p>If <var>list</var> is failure, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">reject</a>
                                <var>p</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑧">TypeError</a></code>.
                            </p>
                        <li data-md>
                            <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑤">resolve</a> <var>p</var> with <var>list</var>.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.3" id="CookieStore-set"><span class="secno">3.3. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set③">set()</a></code>
                method</span><a class="self-link" href="#CookieStore-set"></a></h3>
        <dl class="domintro">
            <dt data-md>await cookieStore . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-set" id="ref-for-dom-cookiestore-set④">set</a></code>(<var>name</var>,
                <var>value</var>)
            <dt data-md>await cookieStore . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-set-options" id="ref-for-dom-cookiestore-set-options①">set</a></code>(<var>options</var>)
            <dd data-md>
                <p>Writes (creates or modifies) a cookie.</p>
                <p>The options default to:</p>
                <ul>
                    <li data-md>
                        <p>Path: <code>/</code></p>
                    <li data-md>
                        <p>Domain: same as the domain of the current document or service worker’s location</p>
                    <li data-md>
                        <p>No expiry date</p>
                    <li data-md>
                        <p>SameSite: strict</p>
                </ul>
        </dl>
        <div class="algorithm" data-algorithm="set(name, value)" data-algorithm-for="CookieStore">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-set"><code>set(<var>name</var>, <var>value</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object④">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin④">origin</a>.</p>
                <li data-md>
                    <p>If <var>origin</var> is an <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque④">opaque origin</a>, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with⑨">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror④">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>url</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url④">creation URL</a>.</p>
                <li data-md>
                    <p>Let <var>domain</var> be null.</p>
                <li data-md>
                    <p>Let <var>path</var> be "/".</p>
                <li data-md>
                    <p>Let <var>sameSite</var> be <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-strict" id="ref-for-dom-cookiesamesite-strict">strict</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>partitioned</var> be false.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise④">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel④">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>r</var> be the result of running <a data-link-type="dfn" href="#set-a-cookie"
                                    id="ref-for-set-a-cookie">set a cookie</a> with
                                <var>url</var>,
                                <var>name</var>,
                                <var>value</var>,
                                <var>domain</var>,
                                <var>path</var>,
                                <var>sameSite</var>, and
                                <var>partitioned</var>.
                            </p>
                        <li data-md>
                            <p>If <var>r</var> is failure, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">reject</a>
                                <var>p</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑨">TypeError</a></code>
                                and abort these steps.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑥">Resolve</a> <var>p</var> with undefined.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="set(options)" data-algorithm-for="CookieStore">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-set-options"><code>set(<var>options</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑦">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑤">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin⑤">origin</a>.</p>
                <li data-md>
                    <p>If <var>origin</var> is an <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque⑤">opaque origin</a>, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①⓪">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑤">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>url</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url⑤">creation URL</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑤">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑤">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>r</var> be the result of running <a data-link-type="dfn" href="#set-a-cookie"
                                    id="ref-for-set-a-cookie①">set a cookie</a> with
                                <var>url</var>,
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-name" id="ref-for-dom-cookieinit-name">name</a></code>"],
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-value" id="ref-for-dom-cookieinit-value">value</a></code>"],
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-expires" id="ref-for-dom-cookieinit-expires">expires</a></code>"],
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-domain" id="ref-for-dom-cookieinit-domain">domain</a></code>"],
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-path" id="ref-for-dom-cookieinit-path">path</a></code>"],
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-samesite" id="ref-for-dom-cookieinit-samesite">sameSite</a></code>"],
                                and
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookieinit-partitioned" id="ref-for-dom-cookieinit-partitioned">partitioned</a></code>"].
                            </p>
                        <li data-md>
                            <p>If <var>r</var> is failure, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑤">reject</a>
                                <var>p</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⓪">TypeError</a></code>
                                and abort these steps.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑦">Resolve</a> <var>p</var> with undefined.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="3.4" id="CookieStore-delete"><span class="secno">3.4. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-delete" id="ref-for-dom-cookiestore-delete②">delete()</a></code>
                method</span><a class="self-link" href="#CookieStore-delete"></a></h3>
        <dl class="domintro">
            <dt data-md>await cookieStore . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-delete" id="ref-for-dom-cookiestore-delete③">delete</a></code>(<var>name</var>)
            <dt data-md>await cookieStore . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestore-delete-options" id="ref-for-dom-cookiestore-delete-options①">delete</a></code>(<var>options</var>)
            <dd data-md>
                <p>Deletes (expires) a cookie with the given name or name and <span class="allow-2119">optional</span>
                    domain and path.</p>
        </dl>
        <div class="algorithm" data-algorithm="delete(name)" data-algorithm-for="CookieStore">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-delete"><code>delete(<var>name</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑥">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin⑥">origin</a>.</p>
                <li data-md>
                    <p>If <var>origin</var> is an <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque⑥">opaque origin</a>, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①①">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑥">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>url</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url⑥">creation URL</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑥">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑥">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>r</var> be the result of running <a data-link-type="dfn" href="#delete-a-cookie"
                                    id="ref-for-delete-a-cookie">delete a cookie</a> with
                                <var>url</var>,
                                <var>name</var>,
                                null,
                                "<code>/</code>", and
                                true.
                            </p>
                        <li data-md>
                            <p>If <var>r</var> is failure, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑥">reject</a>
                                <var>p</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①①">TypeError</a></code>
                                and abort these steps.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑧">Resolve</a> <var>p</var> with undefined.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="delete(options)" data-algorithm-for="CookieStore">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStore" data-dfn-type="method" data-export
                id="dom-cookiestore-delete-options"><code>delete(<var>options</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑦">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin⑦">origin</a>.</p>
                <li data-md>
                    <p>If <var>origin</var> is an <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
                            id="ref-for-concept-origin-opaque⑦">opaque origin</a>, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①②">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑦">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>url</var> be <var>settings</var>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                            id="ref-for-concept-environment-creation-url⑦">creation URL</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑦">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑦">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>r</var> be the result of running <a data-link-type="dfn" href="#delete-a-cookie"
                                    id="ref-for-delete-a-cookie①">delete a cookie</a> with
                                <var>url</var>,
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoredeleteoptions-name" id="ref-for-dom-cookiestoredeleteoptions-name">name</a></code>"],
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoredeleteoptions-domain" id="ref-for-dom-cookiestoredeleteoptions-domain">domain</a></code>"],
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoredeleteoptions-path" id="ref-for-dom-cookiestoredeleteoptions-path">path</a></code>"],
                                and
                                <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-cookiestoredeleteoptions-partitioned" id="ref-for-dom-cookiestoredeleteoptions-partitioned">partitioned</a></code>"].
                            </p>
                        <li data-md>
                            <p>If <var>r</var> is failure, then <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑦">reject</a>
                                <var>p</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①②">TypeError</a></code>
                                and abort these steps.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve⑨">Resolve</a> <var>p</var> with undefined.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="4" id="CookieStoreManager"><span class="secno">4. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager">CookieStoreManager</a></code>
                interface</span><a class="self-link" href="#CookieStoreManager"></a></h2>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager①">CookieStoreManager</a></code>
            has an associated <dfn class="dfn-paneled" data-dfn-for="CookieStoreManager" data-dfn-type="dfn"
                data-noexport id="cookiestoremanager-registration">registration</dfn> which is a <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration③">service worker registration</a>.</p>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager②">CookieStoreManager</a></code>
            interface allows <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪">Service Workers</a> to subscribe to events for cookie changes. Using
            the <code
                class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe①">subscribe()</a></code>
            method is necessary to indicate that a particular <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration④">service worker registration</a> is interested in change
            events.</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->),
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cookiestoremanager"><code><c- g>CookieStoreManager</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe②"><c- g>subscribe</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions②"><c- n>CookieStoreGetOptions</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager/subscribe(subscriptions)" data-dfn-type="argument" data-export id="dom-cookiestoremanager-subscribe-subscriptions-subscriptions"><code><c- g>subscriptions</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⓪"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions③"><c- n>CookieStoreGetOptions</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions①"><c- g>getSubscriptions</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-unsubscribe" id="ref-for-dom-cookiestoremanager-unsubscribe"><c- g>unsubscribe</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions" id="ref-for-dictdef-cookiestoregetoptions④"><c- n>CookieStoreGetOptions</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager/unsubscribe(subscriptions)" data-dfn-type="argument" data-export id="dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions"><code><c- g>subscriptions</c-></code></dfn>);
};
</pre>
        <h3 class="heading settled" data-level="4.1" id="CookieStoreManager-subscribe"><span class="secno">4.1.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe③">subscribe()</a></code>
                method</span><a class="self-link" href="#CookieStoreManager-subscribe"></a></h3>
        <dl class="domintro">
            <dt data-md>await <var>registration</var> . cookies . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe④">subscribe</a></code>(<var>subscriptions</var>)
            <dd data-md>
                <p>Subscribe to changes to cookies. Subscriptions can use the same options as <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-get-options" id="ref-for-dom-cookiestore-get-options⑦">get()</a></code>
                    and <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestore-getall-options" id="ref-for-dom-cookiestore-getall-options⑧">getAll()</a></code>,
                    with <span class="allow-2119">optional</span> <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name②">name</a></code>
                    and <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url⑤">url</a></code>
                    properties.</p>
                <p>Once subscribed, notifications are delivered as "<code>cookiechange</code>" events fired against the
                    <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker"
                        id="ref-for-dfn-service-worker①①">Service Worker</a>’s global scope:
                </p>
        </dl>
        <div class="algorithm" data-algorithm="subscribe(subscriptions)" data-algorithm-for="CookieStoreManager">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager" data-dfn-type="method" data-export
                id="dom-cookiestoremanager-subscribe"><code>subscribe(<var>subscriptions</var>)</code></dfn> method
            steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑧">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>registration</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>’s <a
                            data-link-type="dfn" href="#cookiestoremanager-registration"
                            id="ref-for-cookiestoremanager-registration">registration</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑧">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑧">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>subscription list</var> be <var>registration</var>’s associated <a
                                    data-link-type="dfn" href="#cookie-change-subscription-list"
                                    id="ref-for-cookie-change-subscription-list">cookie change subscription list</a>.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate">For each</a> <var>entry</var> in <var>subscriptions</var>,
                                run these steps:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>name</var> be <var>entry</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name③">name</a></code>"].
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#normalize-a-cookie-name-or-value"
                                            id="ref-for-normalize-a-cookie-name-or-value">Normalize</a> <var>name</var>.
                                    </p>
                                <li data-md>
                                    <p>Let <var>url</var> be the result of <a data-link-type="dfn"
                                            href="https://url.spec.whatwg.org/#concept-basic-url-parser"
                                            id="ref-for-concept-basic-url-parser②">parsing</a> <var>entry</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url⑥">url</a></code>"]
                                        with <var>settings</var>’s <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                                            id="ref-for-api-base-url②">API base URL</a>.</p>
                                <li data-md>
                                    <p>If <var>url</var> does not start with <var>registration</var>’s <a
                                            data-link-type="dfn"
                                            href="https://w3c.github.io/ServiceWorker/#dfn-scope-url"
                                            id="ref-for-dfn-scope-url①">scope url</a>,
                                        then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject⑧">reject</a> <var>p</var> with a <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①③">TypeError</a></code>
                                        and abort these steps.</p>
                                <li data-md>
                                    <p>Let <var>subscription</var> be the <a data-link-type="dfn"
                                            href="#cookie-change-subscription"
                                            id="ref-for-cookie-change-subscription①">cookie change subscription</a>
                                        (<var>name</var>, <var>url</var>).</p>
                                <li data-md>
                                    <p>If <var>subscription list</var> does not already <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#list-contain"
                                            id="ref-for-list-contain">contain</a> <var>subscription</var>, then <a
                                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                            id="ref-for-list-append">append</a> <var>subscription</var> to
                                        <var>subscription list</var>.
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve①⓪">Resolve</a> <var>p</var> with undefined.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.2" id="CookieStoreManager-getSubscriptions"><span class="secno">4.2.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions②">getSubscriptions()</a></code>
                method</span><a class="self-link" href="#CookieStoreManager-getSubscriptions"></a></h3>
        <dl class="domintro">
            <dt data-md><var>subscriptions</var> = await <var>registration</var> . cookies . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions③">getSubscriptions()</a></code>
            <dd data-md>
                <p>This method returns a promise which resolves to a list of the cookie change subscriptions made for
                    this Service Worker registration.</p>
        </dl>
        <div class="algorithm" data-algorithm="getSubscriptions()" data-algorithm-for="CookieStoreManager">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager" data-dfn-type="method" data-export
                id="dom-cookiestoremanager-getsubscriptions"><code>getSubscriptions()</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>registration</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>’s <a
                            data-link-type="dfn" href="#cookiestoremanager-registration"
                            id="ref-for-cookiestoremanager-registration①">registration</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise⑨">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel⑨">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>subscriptions</var> be <var>registration</var>’s associated <a
                                    data-link-type="dfn" href="#cookie-change-subscription-list"
                                    id="ref-for-cookie-change-subscription-list①">cookie change subscription list</a>.
                            </p>
                        <li data-md>
                            <p>Let <var>result</var> be a new <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate①">For each</a> <var>subscription</var> in
                                <var>subscriptions</var>, run these steps:
                            </p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                            id="ref-for-list-append①">Append</a> «[ "name" → <var>subscription</var>’s
                                        <a data-link-type="dfn" href="#cookie-change-subscription-name"
                                            id="ref-for-cookie-change-subscription-name">name</a>, "url" →
                                        <var>subscription</var>’s <a data-link-type="dfn"
                                            href="#cookie-change-subscription-url"
                                            id="ref-for-cookie-change-subscription-url">url</a>]» to <var>result</var>.
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve①①">Resolve</a> <var>p</var> with <var>result</var>.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.3" id="CookieStoreManager-unsubscribe"><span class="secno">4.3.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-unsubscribe" id="ref-for-dom-cookiestoremanager-unsubscribe①">unsubscribe()</a></code>
                method</span><a class="self-link" href="#CookieStoreManager-unsubscribe"></a></h3>
        <dl class="domintro">
            <dt data-md>await <var>registration</var> . cookies . <code
                    class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-unsubscribe" id="ref-for-dom-cookiestoremanager-unsubscribe②">unsubscribe</a></code>(<var>subscriptions</var>)
            <dd data-md>
                <p>Calling this method will stop the registered service worker from receiving previously subscribed
                    events. The <var>subscriptions</var> argument ought to list subscriptions in the same form passed to
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-subscribe" id="ref-for-dom-cookiestoremanager-subscribe⑤">subscribe()</a></code>
                    or returned from <code
                        class="idl"><a data-link-type="idl" href="#dom-cookiestoremanager-getsubscriptions" id="ref-for-dom-cookiestoremanager-getsubscriptions④">getSubscriptions()</a></code>.
                </p>
        </dl>
        <div class="algorithm" data-algorithm="unsubscribe(subscriptions)" data-algorithm-for="CookieStoreManager">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="CookieStoreManager" data-dfn-type="method" data-export
                id="dom-cookiestoremanager-unsubscribe"><code>unsubscribe(<var>subscriptions</var>)</code></dfn> method
            steps are:


            <ol>
                <li data-md>
                    <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①③">this</a>’s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object⑨">relevant settings object</a>.</p>
                <li data-md>
                    <p>Let <var>registration</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>’s <a
                            data-link-type="dfn" href="#cookiestoremanager-registration"
                            id="ref-for-cookiestoremanager-registration②">registration</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise①⓪">a new promise</a>.</p>
                <li data-md>
                    <p>Run the following steps <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel①⓪">in parallel</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>subscription list</var> be <var>registration</var>’s associated <a
                                    data-link-type="dfn" href="#cookie-change-subscription-list"
                                    id="ref-for-cookie-change-subscription-list②">cookie change subscription list</a>.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate②">For each</a> <var>entry</var> in
                                <var>subscriptions</var>, run these steps:
                            </p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>name</var> be <var>entry</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-name" id="ref-for-dom-cookiestoregetoptions-name④">name</a></code>"].
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#normalize-a-cookie-name-or-value"
                                            id="ref-for-normalize-a-cookie-name-or-value①">Normalize</a>
                                        <var>name</var>.
                                    </p>
                                <li data-md>
                                    <p>Let <var>url</var> be the result of <a data-link-type="dfn"
                                            href="https://url.spec.whatwg.org/#concept-basic-url-parser"
                                            id="ref-for-concept-basic-url-parser③">parsing</a> <var>entry</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookiestoregetoptions-url" id="ref-for-dom-cookiestoregetoptions-url⑦">url</a></code>"]
                                        with <var>settings</var>’s <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                                            id="ref-for-api-base-url③">API base URL</a>.</p>
                                <li data-md>
                                    <p>If <var>url</var> does not start with <var>registration</var>’s <a
                                            data-link-type="dfn"
                                            href="https://w3c.github.io/ServiceWorker/#dfn-scope-url"
                                            id="ref-for-dfn-scope-url②">scope url</a>,
                                        then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject⑨">reject</a> <var>p</var> with a <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①④">TypeError</a></code>
                                        and abort these steps.</p>
                                <li data-md>
                                    <p>Let <var>subscription</var> be the <a data-link-type="dfn"
                                            href="#cookie-change-subscription"
                                            id="ref-for-cookie-change-subscription②">cookie change subscription</a>
                                        (<var>name</var>, <var>url</var>).</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                                            id="ref-for-list-remove">Remove</a> any <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#list-item"
                                            id="ref-for-list-item">item</a> from <var>subscription list</var> equal to
                                        <var>subscription</var>.
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve①②">Resolve</a> <var>p</var> with undefined.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.4" id="ServiceWorkerRegistration"><span class="secno">4.4.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a></code>
                interface</span><a class="self-link" href="#ServiceWorkerRegistration"></a></h3>
        <p>The <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration①">ServiceWorkerRegistration</a></code>
            interface is extended to give access to a <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager③">CookieStoreManager</a></code>
            via <code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-cookies" id="ref-for-dom-serviceworkerregistration-cookies">cookies</a></code>
            which provides the interface for subscribing to cookie changes.</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->)]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration②"><c- g>ServiceWorkerRegistration</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestoremanager" id="ref-for-cookiestoremanager④"><c- n>CookieStoreManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStoreManager" href="#dom-serviceworkerregistration-cookies" id="ref-for-dom-serviceworkerregistration-cookies①"><c- g>cookies</c-></a>;
};
</pre>
        <p>Each <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration③">ServiceWorkerRegistration</a></code>
            has an associated <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager⑤">CookieStoreManager</a></code>
            object.
            The <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager⑥">CookieStoreManager</a></code>’s
            <a data-link-type="dfn" href="#cookiestoremanager-registration"
                id="ref-for-cookiestoremanager-registration③">registration</a> is equal to the <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration④">ServiceWorkerRegistration</a></code>’s
            <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤">service worker registration</a>.
        </p>
        <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
                data-export id="dom-serviceworkerregistration-cookies"><code>cookies</code></dfn> getter steps are to
            return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>’s
            associated <code
                class="idl"><a data-link-type="idl" href="#cookiestoremanager" id="ref-for-cookiestoremanager⑦">CookieStoreManager</a></code>
            object.</p>
        <div class="example" id="example-45f94580">
            <a class="self-link" href="#example-45f94580"></a>
            Subscribing to cookie changes from a Service Worker script:


            <pre class="language-js highlight">self<c- p>.</c->registration<c- p>.</c->cookies<c- p>.</c->subscribe<c- p>([{</c->name<c- o>:</c-><c- t>'session-id'</c-><c- p>}]);</c->
</pre>
        </div>
        <div class="example" id="example-254a868d">
            <a class="self-link" href="#example-254a868d"></a>
            Subscribing to cookie changes from a script in a window context:


            <pre class="language-js highlight">navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- t>'sw.js'</c-><c- p>).</c->then<c- p>(</c->registration <c- p>=></c-> <c- p>{</c->
  registration<c- p>.</c->cookies<c- p>.</c->subscribe<c- p>([{</c->name<c- o>:</c-><c- t>'session-id'</c-><c- p>}]);</c->
<c- p>});</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="5" id="event-interfaces"><span class="secno">5. </span><span
                class="content">Event interfaces</span><a class="self-link" href="#event-interfaces"></a></h2>
        <h3 class="heading settled" data-level="5.1" id="CookieChangeEvent"><span class="secno">5.1. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#cookiechangeevent" id="ref-for-cookiechangeevent">CookieChangeEvent</a></code>
                interface</span><a class="self-link" href="#CookieChangeEvent"></a></h3>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#cookiechangeevent" id="ref-for-cookiechangeevent①">CookieChangeEvent</a></code>
            is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                id="ref-for-concept-event-dispatch">dispatched</a> against <code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore②">CookieStore</a></code>
            objects in <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code>
            contexts when any <a data-link-type="dfn" href="#script-visible"
                id="ref-for-script-visible④">script-visible</a> cookie changes have occurred.</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>Window</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cookiechangeevent"><code><c- g>CookieChangeEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent" data-dfn-type="constructor" data-export data-lt="CookieChangeEvent(type, eventInitDict)|constructor(type, eventInitDict)|CookieChangeEvent(type)|constructor(type)" id="dom-cookiechangeevent-cookiechangeevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent/CookieChangeEvent(type, eventInitDict), CookieChangeEvent/constructor(type, eventInitDict), CookieChangeEvent/CookieChangeEvent(type), CookieChangeEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiechangeeventinit" id="ref-for-dictdef-cookiechangeeventinit"><c- n>CookieChangeEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent/CookieChangeEvent(type, eventInitDict), CookieChangeEvent/constructor(type, eventInitDict), CookieChangeEvent/CookieChangeEvent(type), CookieChangeEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject①"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem③"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CookieListItem>" id="dom-cookiechangeevent-changed"><code><c- g>changed</c-></code></dfn>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject②"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem④"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CookieListItem>" id="dom-cookiechangeevent-deleted"><code><c- g>deleted</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cookiechangeeventinit"><code><c- g>CookieChangeEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist②"><c- n>CookieList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEventInit" data-dfn-type="dict-member" data-export data-type="CookieList" id="dom-cookiechangeeventinit-changed"><code><c- g>changed</c-></code></dfn>;
  <a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist③"><c- n>CookieList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CookieChangeEventInit" data-dfn-type="dict-member" data-export data-type="CookieList" id="dom-cookiechangeeventinit-deleted"><code><c- g>deleted</c-></code></dfn>;
};
</pre>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#dom-cookiechangeevent-changed" id="ref-for-dom-cookiechangeevent-changed">changed</a></code>
            and <code
                class="idl"><a data-link-type="idl" href="#dom-cookiechangeevent-deleted" id="ref-for-dom-cookiechangeevent-deleted">deleted</a></code>
            attributes must return the value they were initialized to.</p>
        <h3 class="heading settled" data-level="5.2" id="ExtendableCookieChangeEvent"><span class="secno">5.2.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#extendablecookiechangeevent" id="ref-for-extendablecookiechangeevent">ExtendableCookieChangeEvent</a></code>
                interface</span><a class="self-link" href="#ExtendableCookieChangeEvent"></a></h3>
        <p>An <code
                class="idl"><a data-link-type="idl" href="#extendablecookiechangeevent" id="ref-for-extendablecookiechangeevent①">ExtendableCookieChangeEvent</a></code>
            is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                id="ref-for-concept-event-dispatch①">dispatched</a> against
            <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code>
            objects when any <a data-link-type="dfn" href="#script-visible"
                id="ref-for-script-visible⑤">script-visible</a>
            cookie changes have occurred which match the <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker①②">Service
                Worker</a>’s
            <a data-link-type="dfn" href="#cookie-change-subscription-list"
                id="ref-for-cookie-change-subscription-list③">cookie change subscription list</a>.
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent">ExtendableEvent</a></code>
            is used as the ancestor interface for all events in <a data-link-type="dfn"
                href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker①③">Service
                Workers</a> so that the worker itself can be kept alive while the async operations are performed.</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="extendablecookiechangeevent"><code><c- g>ExtendableCookieChangeEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent①"><c- n>ExtendableEvent</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent" data-dfn-type="constructor" data-export data-lt="ExtendableCookieChangeEvent(type, eventInitDict)|constructor(type, eventInitDict)|ExtendableCookieChangeEvent(type)|constructor(type)" id="dom-extendablecookiechangeevent-extendablecookiechangeevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent/ExtendableCookieChangeEvent(type, eventInitDict), ExtendableCookieChangeEvent/constructor(type, eventInitDict), ExtendableCookieChangeEvent/ExtendableCookieChangeEvent(type), ExtendableCookieChangeEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendablecookiechangeeventinit" id="ref-for-dictdef-extendablecookiechangeeventinit"><c- n>ExtendableCookieChangeEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent/ExtendableCookieChangeEvent(type, eventInitDict), ExtendableCookieChangeEvent/constructor(type, eventInitDict), ExtendableCookieChangeEvent/ExtendableCookieChangeEvent(type), ExtendableCookieChangeEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject③"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array②"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem⑤"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CookieListItem>" id="dom-extendablecookiechangeevent-changed"><code><c- g>changed</c-></code></dfn>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject④"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array③"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem⑥"><c- n>CookieListItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CookieListItem>" id="dom-extendablecookiechangeevent-deleted"><code><c- g>deleted</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-extendablecookiechangeeventinit"><code><c- g>ExtendableCookieChangeEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist④"><c- n>CookieList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEventInit" data-dfn-type="dict-member" data-export data-type="CookieList" id="dom-extendablecookiechangeeventinit-changed"><code><c- g>changed</c-></code></dfn>;
  <a data-link-type="idl-name" href="#typedefdef-cookielist" id="ref-for-typedefdef-cookielist⑤"><c- n>CookieList</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableCookieChangeEventInit" data-dfn-type="dict-member" data-export data-type="CookieList" id="dom-extendablecookiechangeeventinit-deleted"><code><c- g>deleted</c-></code></dfn>;
};
</pre>
        <p>The <code
                class="idl"><a data-link-type="idl" href="#dom-extendablecookiechangeevent-changed" id="ref-for-dom-extendablecookiechangeevent-changed">changed</a></code>
            and <code
                class="idl"><a data-link-type="idl" href="#dom-extendablecookiechangeevent-deleted" id="ref-for-dom-extendablecookiechangeevent-deleted">deleted</a></code>
            attributes must return the value they were initialized to.</p>
        <h2 class="heading settled" data-level="6" id="globals"><span class="secno">6. </span><span
                class="content">Global interfaces</span><a class="self-link" href="#globals"></a></h2>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore③">CookieStore</a></code>
            is accessed by script using an attribute in the global
            scope in a <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window④">Window</a></code>
            or <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①">ServiceWorkerGlobalScope</a></code>
            context.</p>
        <h3 class="heading settled" data-level="6.1" id="Window"><span class="secno">6.1. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑤">Window</a></code>
                interface</span><a class="self-link" href="#Window"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑥"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑤"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestore" id="ref-for-cookiestore④"><c- n>CookieStore</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStore" href="#dom-window-cookiestore" id="ref-for-dom-window-cookiestore②"><c- g>cookieStore</c-></a>;
};
</pre>
        <p>A <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑦">Window</a></code>
            has an <dfn class="dfn-paneled" data-dfn-for="Window" data-dfn-type="dfn" data-noexport
                id="window-associated-cookiestore">associated CookieStore</dfn>, which is a <code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore⑤">CookieStore</a></code>.
        </p>
        <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="attribute" data-export
                id="dom-window-cookiestore"><code>cookieStore</code></dfn> getter steps are to return <a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>’s <a
                data-link-type="dfn" href="#window-associated-cookiestore"
                id="ref-for-window-associated-cookiestore">associated CookieStore</a>.</p>
        <h3 class="heading settled" data-level="6.2" id="ServiceWorkerGlobalScope"><span class="secno">6.2. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②">ServiceWorkerGlobalScope</a></code>
                interface</span><a class="self-link" href="#ServiceWorkerGlobalScope"></a></h3>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope③"><c- g>ServiceWorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑥"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestore" id="ref-for-cookiestore⑥"><c- n>CookieStore</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStore" href="#dom-serviceworkerglobalscope-cookiestore" id="ref-for-dom-serviceworkerglobalscope-cookiestore"><c- g>cookieStore</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-oncookiechange"><code><c- g>oncookiechange</c-></code></dfn>;
};
</pre>
        <p>A <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope④">ServiceWorkerGlobalScope</a></code>
            has an <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="dfn" data-noexport
                id="serviceworkerglobalscope-associated-cookiestore">associated CookieStore</dfn>, which is a <code
                class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore⑦">CookieStore</a></code>.
        </p>
        <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
                data-export id="dom-serviceworkerglobalscope-cookiestore"><code>cookieStore</code></dfn> getter steps
            are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                id="ref-for-this①⑦">this</a>’s <a data-link-type="dfn"
                href="#serviceworkerglobalscope-associated-cookiestore"
                id="ref-for-serviceworkerglobalscope-associated-cookiestore">associated CookieStore</a>.</p>
        <h2 class="heading settled" data-level="7" id="algorithms"><span class="secno">7. </span><span
                class="content">Algorithms</span><a class="self-link" href="#algorithms"></a></h2>
        <div class="algorithm" data-algorithm="as a timestamp">

            To represent a date and time <var>dateTime</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="as-a-timestamp">as a timestamp</dfn>,
            return the number of milliseconds from 00:00:00 UTC, 1 January 1970 to <var>dateTime</var>
            (assuming that there are exactly 86,400,000 milliseconds per day).


            <p class="note" role="note"><span class="marker">Note:</span> This is the same representation used for <a
                    data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-time-values-and-time-range"
                    id="ref-for-sec-time-values-and-time-range">time values</a> in <a data-link-type="biblio"
                    href="#biblio-ecmascript" title="ECMAScript Language Specification">[ECMAScript]</a>.</p>
        </div>
        <div class="algorithm" data-algorithm="date serialize">
            To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="date-serialize">date serialize</dfn> a
            <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①">DOMHighResTimeStamp</a></code>
            <var>millis</var>,
            let <var>dateTime</var> be the date and time <var>millis</var> milliseconds after 00:00:00 UTC, 1 January
            1970
            (assuming that there are exactly 86,400,000 milliseconds per day),
            and return a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                id="ref-for-byte-sequence①">byte sequence</a> corresponding to the closest <code>cookie-date</code>
            representation of <var>dateTime</var> according to <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-dates">Cookies § Dates</a>.
        </div>
        <h3 class="heading settled" data-level="7.1" id="query-cookies-algorithm"><span class="secno">7.1. </span><span
                class="content">Query cookies</span><a class="self-link" href="#query-cookies-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="query cookies">
            <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="query-cookies">query cookies</dfn>
                given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                    id="ref-for-concept-url">URL</a> <var>url</var> and <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">string</a>-or-null
                <var>name</var>:
            </p>
            <ol>
                <li data-md>
                    <p>Perform the steps defined in <a
                            href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-retrieval-model">Cookies
                            § Retrieval Model</a> to compute the "cookie-string from a given cookie store"
                        with <var>url</var> as <var>request-uri</var>.
                        The <var>cookie-string</var> itself is ignored, but the intermediate <var>cookie-list</var> is
                        used in subsequent steps.</p>
                    <p>For the purposes of the steps, the <var>cookie-string</var> is being generated for a "non-HTTP"
                        API.</p>
                <li data-md>
                    <p>Let <var>list</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list②">list</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate③">For each</a> <var>cookie</var> in <var>cookie-list</var>, run
                        these steps:</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">Assert: <var>cookie</var>’s <a data-link-type="dfn"
                                    href="#cookie-http-only-flag" id="ref-for-cookie-http-only-flag①">http-only-flag</a>
                                is false.</p>
                        <li data-md>
                            <p>If <var>name</var> is non-null:</p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#normalize-a-cookie-name-or-value"
                                            id="ref-for-normalize-a-cookie-name-or-value②">Normalize</a>
                                        <var>name</var>.
                                    </p>
                                <li data-md>
                                    <p>Let <var>cookieName</var> be the result of running <a data-link-type="dfn"
                                            href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                                            id="ref-for-utf-8-decode-without-bom">UTF-8 decode without BOM</a> on
                                        <var>cookie</var>’s <a data-link-type="dfn" href="#cookie-name"
                                            id="ref-for-cookie-name①">name</a>.
                                    </p>
                                <li data-md>
                                    <p>If <var>cookieName</var> does not equal <var>name</var>,
                                        then <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#iteration-continue"
                                            id="ref-for-iteration-continue">continue</a>.</p>
                            </ol>
                        <li data-md>
                            <p>Let <var>item</var> be the result of running <a data-link-type="dfn"
                                    href="#create-a-cookielistitem" id="ref-for-create-a-cookielistitem">create a
                                    CookieListItem</a> from <var>cookie</var>.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append②">Append</a> <var>item</var> to <var>list</var>.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>list</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="create a CookieListItem">
            <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-cookielistitem">create a <code
                        class="idl"><a data-link-type="idl" href="#dictdef-cookielistitem" id="ref-for-dictdef-cookielistitem⑦">CookieListItem</a></code></dfn>
                from a <a data-link-type="dfn" href="#cookie" id="ref-for-cookie⑤">cookie</a> <var>cookie</var>:</p>
            <ol>
                <li data-md>
                    <p>Let <var>name</var> be the result of running <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                            id="ref-for-utf-8-decode-without-bom①">UTF-8 decode without BOM</a> on <var>cookie</var>’s
                        <a data-link-type="dfn" href="#cookie-name" id="ref-for-cookie-name②">name</a>.
                    </p>
                <li data-md>
                    <p>Let <var>value</var> be the result of running <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                            id="ref-for-utf-8-decode-without-bom②">UTF-8 decode without BOM</a> on <var>cookie</var>’s
                        <a data-link-type="dfn" href="#cookie-value" id="ref-for-cookie-value①">value</a>.
                    </p>
                <li data-md>
                    <p>Return «[ "<code
                            class="idl"><a data-link-type="idl" href="#dom-cookielistitem-name" id="ref-for-dom-cookielistitem-name">name</a></code>"
                        → <var>name</var>, "<code
                            class="idl"><a data-link-type="idl" href="#dom-cookielistitem-value" id="ref-for-dom-cookielistitem-value">value</a></code>"
                        → <var>value</var> ]».</p>
            </ol>
            <p class="note" role="note"><span class="marker">Note:</span> One implementation is known to expose
                information beyond _name_ and _value_.</p>
        </div>
        <h3 class="heading settled" data-level="7.2" id="set-cookie-algorithm"><span class="secno">7.2. </span><span
                class="content">Set a cookie</span><a class="self-link" href="#set-cookie-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="set a cookie">
            <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-a-cookie">set a cookie</dfn> with
                <var>url</var>,
                <var>name</var>,
                <var>value</var>,
                optional <var>expires</var>,
                <var>domain</var>,
                <var>path</var>,
                <var>sameSite</var>, and
                <var>partitioned</var>
                run the following steps:
            </p>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="#normalize-a-cookie-name-or-value"
                            id="ref-for-normalize-a-cookie-name-or-value③">Normalize</a> <var>name</var>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#normalize-a-cookie-name-or-value"
                            id="ref-for-normalize-a-cookie-name-or-value④">Normalize</a> <var>value</var>.</p>
                <li data-md>
                    <p>If <var>name</var> or <var>value</var> contain U+003B (;), any <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#c0-control" id="ref-for-c0-control">C0 control</a>
                        character except U+0009 TAB, or U+007F DELETE, then return failure.</p>
                    <p class="XXX"> Note that it’s up for discussion whether these character restrictions should also
                        apply to <var>expires</var>, <var>domain</var>, <var>path</var>, and <var>sameSite</var> as
                        well. <a href="https://github.com/httpwg/http-extensions/issues/1593">[httpwg/http-extensions
                            Issue #1593]</a></p>
                <li data-md>
                    <p>If <var>name</var> contains U+003D (=), then return failure.</p>
                <li data-md>
                    <p>If <var>name</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length"
                            id="ref-for-string-length">length</a> is 0:</p>
                    <ol>
                        <li data-md>
                            <p>If <var>value</var> contains U+003D (=), then return failure.</p>
                        <li data-md>
                            <p>If <var>value</var>’s <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#string-length"
                                    id="ref-for-string-length①">length</a> is 0, then return failure.</p>
                        <li data-md>
                            <p>If <var>value</var>, <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-lowercase"
                                    id="ref-for-byte-lowercase">byte-lowercased</a>, <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                                    id="ref-for-byte-sequence-starts-with">starts with</a> `<code>__host-</code>`,
                                `<code>__hosthttp-</code>`, `<code>__http-</code>`, or `<code>__secure-</code>`, then
                                return failure.</p>
                    </ol>
                <li data-md>
                    <p>If <var>name</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-lowercase"
                            id="ref-for-byte-lowercase①">byte-lowercased</a>, <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                            id="ref-for-byte-sequence-starts-with①">starts with</a> `<code>__http-</code>` or
                        `<code>__hosthttp-</code>`, then return failure.</p>
                <li data-md>
                    <p>Let <var>encodedName</var> be the result of <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode">UTF-8
                            encoding</a> <var>name</var>.</p>
                <li data-md>
                    <p>Let <var>encodedValue</var> be the result of <a data-link-type="dfn"
                            href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode①">UTF-8
                            encoding</a> <var>value</var>.</p>
                <li data-md>
                    <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                            id="ref-for-byte-sequence②">byte sequence</a> <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length">length</a> of <var>encodedName</var> plus the <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                            id="ref-for-byte-sequence③">byte sequence</a> <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length①">length</a> of <var>encodedValue</var> is greater than the
                        <a data-link-type="dfn" href="#cookie-maximum-name-value-pair-size"
                            id="ref-for-cookie-maximum-name-value-pair-size">maximum name/value pair size</a>, then
                        return failure.
                    </p>
                <li data-md>
                    <p>Let <var>host</var> be <var>url</var>’s <a data-link-type="dfn"
                            href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host">host</a>
                    </p>
                <li data-md>
                    <p>Let <var>attributes</var> be a new <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a>.</p>
                <li data-md>
                    <p>If <var>domain</var> is not null, then run these steps:</p>
                    <ol>
                        <li data-md>
                            <p>If <var>domain</var> starts with U+002E (.), then return failure.</p>
                        <li data-md>
                            <p>If <var>name</var>, <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-lowercase"
                                    id="ref-for-byte-lowercase②">byte-lowercased</a>, <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                                    id="ref-for-byte-sequence-starts-with②">starts with</a> `<code>__host-</code>`, then
                                return failure.</p>
                        <li data-md>
                            <p>If <var>domain</var> <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/browsers.html#is-a-registrable-domain-suffix-of-or-is-equal-to"
                                    id="ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to">is not a registrable
                                    domain suffix of and is not equal to</a> <var>host</var>, then return failure.</p>
                        <li data-md>
                            <p>Let <var>parsedDomain</var> be the result of <a data-link-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-host-parser"
                                    id="ref-for-concept-host-parser">host parsing</a> <var>domain</var>.</p>
                        <li data-md>
                            <p class="assertion">Assert: <var>parsedDomain</var> is not failure.</p>
                        <li data-md>
                            <p>Let <var>encodedDomain</var> be the result of <a data-link-type="dfn"
                                    href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                    id="ref-for-utf-8-encode②">UTF-8 encoding</a> <var>parsedDomain</var>.</p>
                        <li data-md>
                            <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequence④">byte sequence</a> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                    id="ref-for-byte-sequence-length②">length</a> of <var>encodedDomain</var> is greater
                                than the <a data-link-type="dfn" href="#cookie-maximum-attribute-value-size"
                                    id="ref-for-cookie-maximum-attribute-value-size">maximum attribute value size</a>,
                                then return failure.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append③">Append</a> `<code>Domain</code>`/<var>encodedDomain</var>
                                to <var>attributes</var>.</p>
                    </ol>
                <li data-md>
                    <p>If <var>expires</var> is given, then <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">append</a>
                        `<code>Expires</code>`/<var>expires</var> (<a data-link-type="dfn" href="#date-serialize"
                            id="ref-for-date-serialize">date serialized</a>) to <var>attributes</var>.</p>
                <li data-md>
                    <p>If <var>path</var> is not null:</p>
                    <ol>
                        <li data-md>
                            <p>If <var>path</var> does not start with U+002F (/), then return failure.</p>
                        <li data-md>
                            <p>If <var>path</var> is not U+002F (/), and <var>name</var>, <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-lowercase"
                                    id="ref-for-byte-lowercase③">byte-lowercased</a>, <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                                    id="ref-for-byte-sequence-starts-with③">starts with</a> `<code>__host-</code>`, then
                                return failure.</p>
                        <li data-md>
                            <p>Let <var>encodedPath</var> be the result of <a data-link-type="dfn"
                                    href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                    id="ref-for-utf-8-encode③">UTF-8 encoding</a> <var>path</var>.</p>
                        <li data-md>
                            <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequence⑤">byte sequence</a> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                    id="ref-for-byte-sequence-length③">length</a> of <var>encodedPath</var> is greater
                                than the <a data-link-type="dfn" href="#cookie-maximum-attribute-value-size"
                                    id="ref-for-cookie-maximum-attribute-value-size①">maximum attribute value size</a>,
                                then return failure.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append⑤">Append</a> `<code>Path</code>`/<var>encodedPath</var> to
                                <var>attributes</var>.
                            </p>
                    </ol>
                <li data-md>
                    <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append⑥">append</a> `<code>Path</code>`/ U+002F (/) to
                        <var>attributes</var>.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append⑦">Append</a> `<code>Secure</code>`/`` to <var>attributes</var>.</p>
                <li data-md>
                    <p>Switch on <var>sameSite</var>:</p>
                    <dl class="switch">
                        <dt data-md>"<code
                                class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-none" id="ref-for-dom-cookiesamesite-none">none</a></code>"
                        <dd data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append⑧">Append</a> `<code>SameSite</code>`/`<code>None</code>` to
                                <var>attributes</var>.
                            </p>
                        <dt data-md>"<code
                                class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-strict" id="ref-for-dom-cookiesamesite-strict①">strict</a></code>"
                        <dd data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append⑨">Append</a> `<code>SameSite</code>`/`<code>Strict</code>`
                                to <var>attributes</var>.</p>
                        <dt data-md>"<code
                                class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-lax" id="ref-for-dom-cookiesamesite-lax">lax</a></code>"
                        <dd data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append①⓪">Append</a> `<code>SameSite</code>`/`<code>Lax</code>` to
                                <var>attributes</var>.
                            </p>
                    </dl>
                <li data-md>
                    <p>If <var>partitioned</var> is true, <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">Append</a>
                        `<code>Partitioned</code>`/`` to <var>attributes</var>.</p>
                <li data-md>
                    <p>Perform the steps defined in <a
                            href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-storage-model">Cookies
                            § Storage Model</a> for when the user agent "receives a cookie" with
                        <var>url</var> as <var>request-uri</var>,
                        <var>encodedName</var> as <var>cookie-name</var>,
                        <var>encodedValue</var> as <var>cookie-value</var>, and
                        <var>attributes</var> as <var>cookie-attribute-list</var>.
                    </p>
                    <p>For the purposes of the steps, the newly-created cookie was received from a "non-HTTP" API.</p>
                <li data-md>
                    <p>Return success.</p>
                    <p class="note" role="note"><span class="marker">Note:</span> Storing the cookie can still fail due
                        to requirements in <a data-link-type="biblio" href="#biblio-rfc6265bis-14"
                            title="Cookies: HTTP State Management Mechanism">[RFC6265BIS-14]</a>,
                        but these steps will be considered successful.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.3" id="delete-cookie-algorithm"><span class="secno">7.3. </span><span
                class="content">Delete a cookie</span><a class="self-link" href="#delete-cookie-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="delete a cookie">
            <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="delete-a-cookie">delete a cookie</dfn>
                with
                <var>url</var>,
                <var>name</var>,
                <var>domain</var>,
                <var>path</var>, and
                <var>partitioned</var>
                run the following steps:
            </p>
            <ol>
                <li data-md>
                    <p>Let <var>expires</var> be the earliest representable date represented <a data-link-type="dfn"
                            href="#as-a-timestamp" id="ref-for-as-a-timestamp">as a timestamp</a>.</p>
                    <p class="note" role="note"><span class="marker">Note:</span> The exact value of <var>expires</var>
                        is not important for the purposes of this algorithm,
                        as long as it is in the past.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="#normalize-a-cookie-name-or-value"
                            id="ref-for-normalize-a-cookie-name-or-value⑤">Normalize</a> <var>name</var>.</p>
                <li data-md>
                    <p>Let <var>value</var> be the empty string.</p>
                <li data-md>
                    <p>If <var>name</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length"
                            id="ref-for-string-length②">length</a> is 0, then set <var>value</var> to any non-empty <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                            id="ref-for-implementation-defined">implementation-defined</a> string.</p>
                <li data-md>
                    <p>Return the results of running <a data-link-type="dfn" href="#set-a-cookie"
                            id="ref-for-set-a-cookie②">set a cookie</a> with
                        <var>url</var>,
                        <var>name</var>,
                        <var>value</var>,
                        <var>expires</var>,
                        <var>domain</var>,
                        <var>path</var>,
                        "<code
                            class="idl"><a data-link-type="idl" href="#dom-cookiesamesite-strict" id="ref-for-dom-cookiesamesite-strict②">strict</a></code>",
                        and
                        <var>partitioned</var>.
                    </p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.4" id="process-changes"><span class="secno">7.4. </span><span
                class="content">Process changes</span><a class="self-link" href="#process-changes"></a></h3>
        <div class="algorithm" data-algorithm="process cookie changes">
            <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-cookie-changes">process cookie
                    changes</dfn>, run the following steps:</p>
            <ol>
                <li data-md>
                    <p>For every <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑧">Window</a></code>
                        <var>window</var>, run the following steps:
                    </p>
                    <ol>
                        <li data-md>
                            <p>Let <var>url</var> be <var>window</var>’s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                                    id="ref-for-relevant-settings-object①⓪">relevant settings object</a>’s <a
                                    data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                                    id="ref-for-concept-environment-creation-url⑧">creation URL</a>.</p>
                        <li data-md>
                            <p>Let <var>changes</var> be the <a data-link-type="dfn" href="#observable-changes"
                                    id="ref-for-observable-changes">observable changes</a> for <var>url</var>.</p>
                        <li data-md>
                            <p>If <var>changes</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">is
                                    empty</a>, then <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue①">continue</a>.</p>
                        <li data-md>
                            <p><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                    id="ref-for-queue-a-global-task">Queue a global task</a> on the <a
                                    data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                                    id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a> given
                                <var>window</var> to
                                <a data-link-type="dfn" href="#fire-a-change-event"
                                    id="ref-for-fire-a-change-event">fire a change event</a> named "<code>change</code>"
                                with <var>changes</var> at <var>window</var>’s <code
                                    class="idl"><a data-link-type="idl" href="#cookiestore" id="ref-for-cookiestore⑧">CookieStore</a></code>.
                            </p>
                    </ol>
                <li data-md>
                    <p>For every <a data-link-type="dfn"
                            href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"
                            id="ref-for-dfn-service-worker-registration⑥">service worker registration</a>
                        <var>registration</var>, run the following steps:
                    </p>
                    <ol>
                        <li data-md>
                            <p>Let <var>changes</var> be a new <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">set</a>.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate④">For each</a> <var>change</var> in the <a
                                    data-link-type="dfn" href="#observable-changes"
                                    id="ref-for-observable-changes①">observable changes</a> for
                                <var>registration</var>’s <a data-link-type="dfn"
                                    href="https://w3c.github.io/ServiceWorker/#dfn-scope-url"
                                    id="ref-for-dfn-scope-url③">scope url</a>, run these steps:
                            </p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>cookie</var> be <var>change</var>’s cookie.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                            id="ref-for-list-iterate⑤">For each</a> <var>subscription</var> in
                                        <var>registration</var>’s <a data-link-type="dfn"
                                            href="#cookie-change-subscription-list"
                                            id="ref-for-cookie-change-subscription-list④">cookie change subscription
                                            list</a>, run these steps:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>If <var>change</var> is not <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#list-contain"
                                                    id="ref-for-list-contain①">in</a> the <a data-link-type="dfn"
                                                    href="#observable-changes"
                                                    id="ref-for-observable-changes②">observable changes</a> for
                                                <var>subscription</var>’s <a data-link-type="dfn"
                                                    href="#cookie-change-subscription-url"
                                                    id="ref-for-cookie-change-subscription-url①">url</a>,
                                                then <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                                    id="ref-for-iteration-continue②">continue</a>.
                                            </p>
                                        <li data-md>
                                            <p>Let <var>cookieName</var> be the result of running <a
                                                    data-link-type="dfn"
                                                    href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom"
                                                    id="ref-for-utf-8-decode-without-bom③">UTF-8 decode without BOM</a>
                                                on <var>cookie</var>’s <a data-link-type="dfn" href="#cookie-name"
                                                    id="ref-for-cookie-name③">name</a>.</p>
                                        <li data-md>
                                            <p>If <var>cookieName</var> equals <var>subscription</var>’s <a
                                                    data-link-type="dfn" href="#cookie-change-subscription-name"
                                                    id="ref-for-cookie-change-subscription-name①">name</a>,
                                                then <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#set-append"
                                                    id="ref-for-set-append">append</a> <var>change</var> to
                                                <var>changes</var> and <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#iteration-break"
                                                    id="ref-for-iteration-break">break</a>.
                                            </p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>If <var>changes</var> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">is
                                    empty</a>, then <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue③">continue</a>.</p>
                        <li data-md>
                            <p>Let <var>changedList</var> and <var>deletedList</var> be the result of running <a
                                    data-link-type="dfn" href="#prepare-lists" id="ref-for-prepare-lists">prepare
                                    lists</a> from <var>changes</var>.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#fire-functional-event"
                                    id="ref-for-fire-functional-event">Fire a functional event</a> named
                                "<code>cookiechange</code>"
                                using <code
                                    class="idl"><a data-link-type="idl" href="#extendablecookiechangeevent" id="ref-for-extendablecookiechangeevent②">ExtendableCookieChangeEvent</a></code>
                                on <var>registration</var>
                                with these properties:</p>
                            <dl>
                                <dt data-md><code
                                        class="idl"><a data-link-type="idl" href="#dom-extendablecookiechangeevent-changed" id="ref-for-dom-extendablecookiechangeevent-changed①">changed</a></code>
                                <dd data-md>
                                    <p><var>changedList</var></p>
                                <dt data-md><code
                                        class="idl"><a data-link-type="idl" href="#dom-extendablecookiechangeevent-deleted" id="ref-for-dom-extendablecookiechangeevent-deleted①">deleted</a></code>
                                <dd data-md>
                                    <p><var>deletedList</var></p>
                            </dl>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="observable changes">
            <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="observable-changes">observable
                    changes</dfn> for <var>url</var> are the <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">set</a> of <a
                    data-link-type="dfn" href="#cookie-change" id="ref-for-cookie-change">cookie changes</a> to <a
                    data-link-type="dfn" href="#cookie" id="ref-for-cookie⑥">cookies</a> in a <a data-link-type="dfn"
                    href="#cookie-store" id="ref-for-cookie-store④">cookie store</a>
                which meet the requirements in step 1 of <a
                    href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-retrieval-algorithm">Cookies
                    § Retrieval Algorithm</a>’s steps to compute the "cookie-string from a given cookie store"
                with <var>url</var> as <var>request-uri</var>, for a "non-HTTP" API.</p>
        </div>
        <div class="algorithm" data-algorithm="cookie change">
            <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cookie-change">cookie change</dfn> is a
                <a data-link-type="dfn" href="#cookie" id="ref-for-cookie⑦">cookie</a> and a type (either
                <em>changed</em> or <em>deleted</em>):
            </p>
            <ul>
                <li data-md>
                    <p>A <a data-link-type="dfn" href="#cookie" id="ref-for-cookie⑧">cookie</a> which is removed due to
                        an insertion of another <a data-link-type="dfn" href="#cookie" id="ref-for-cookie⑨">cookie</a>
                        with the same <a data-link-type="dfn" href="#cookie-name" id="ref-for-cookie-name④">name</a>, <a
                            data-link-type="dfn" href="#cookie-domain" id="ref-for-cookie-domain">domain</a>, and <a
                            data-link-type="dfn" href="#cookie-path" id="ref-for-cookie-path">path</a> is ignored.</p>
                <li data-md>
                    <p>A newly-created <a data-link-type="dfn" href="#cookie" id="ref-for-cookie①⓪">cookie</a> which is
                        not immediately evicted is considered <em>changed</em>.</p>
                <li data-md>
                    <p>A newly-created <a data-link-type="dfn" href="#cookie" id="ref-for-cookie①①">cookie</a> which is
                        immediately evicted is considered <em>deleted</em>.</p>
                <li data-md>
                    <p>A <a data-link-type="dfn" href="#cookie" id="ref-for-cookie①②">cookie</a> which is otherwise
                        evicted or removed is considered <em>deleted</em></p>
            </ul>
        </div>
        <div class="algorithm" data-algorithm="fire a change event">
            <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-change-event">fire a change
                    event</dfn> named <var>type</var> with <var>changes</var> at <var>target</var>, run the following
                steps:</p>
            <ol>
                <li data-md>
                    <p>Let <var>event</var> be the result of <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-event-create"
                            id="ref-for-concept-event-create">creating an Event</a> using <code
                            class="idl"><a data-link-type="idl" href="#cookiechangeevent" id="ref-for-cookiechangeevent②">CookieChangeEvent</a></code>.
                    </p>
                <li data-md>
                    <p>Set <var>event</var>’s <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type">type</a></code>
                        attribute to <var>type</var>.</p>
                <li data-md>
                    <p>Set <var>event</var>’s <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-bubbles" id="ref-for-dom-event-bubbles">bubbles</a></code>
                        and <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-cancelable" id="ref-for-dom-event-cancelable">cancelable</a></code>
                        attributes to false.</p>
                <li data-md>
                    <p>Let <var>changedList</var> and <var>deletedList</var> be the result of running <a
                            data-link-type="dfn" href="#prepare-lists" id="ref-for-prepare-lists①">prepare lists</a>
                        from <var>changes</var>.</p>
                <li data-md>
                    <p>Set <var>event</var>’s <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiechangeevent-changed" id="ref-for-dom-cookiechangeevent-changed①">changed</a></code>
                        attribute to <var>changedList</var>.</p>
                <li data-md>
                    <p>Set <var>event</var>’s <code
                            class="idl"><a data-link-type="idl" href="#dom-cookiechangeevent-deleted" id="ref-for-dom-cookiechangeevent-deleted①">deleted</a></code>
                        attribute to <var>deletedList</var>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                            id="ref-for-concept-event-dispatch②">Dispatch</a> <var>event</var> at <var>target</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="prepare lists">
            <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="prepare-lists">prepare lists</dfn> from
                <var>changes</var>, run the following steps:
            </p>
            <ol>
                <li data-md>
                    <p>Let <var>changedList</var> be a new <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a>.</p>
                <li data-md>
                    <p>Let <var>deletedList</var> be a new <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate⑥">For each</a> <var>change</var> in <var>changes</var>, run these
                        steps:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>item</var> be the result of running <a data-link-type="dfn"
                                    href="#create-a-cookielistitem" id="ref-for-create-a-cookielistitem①">create a
                                    CookieListItem</a> from <var>change</var>’s cookie.</p>
                        <li data-md>
                            <p>If <var>change</var>’s type is <em>changed</em>, then <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append①②">append</a> <var>item</var> to <var>changedList</var>.</p>
                        <li data-md>
                            <p>Otherwise, run these steps:</p>
                            <ol>
                                <li data-md>
                                    <p>Set <var>item</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-cookielistitem-value" id="ref-for-dom-cookielistitem-value①">value</a></code>"]
                                        to undefined.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                            id="ref-for-list-append①③">Append</a> <var>item</var> to
                                        <var>deletedList</var>.
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>changedList</var> and <var>deletedList</var>.</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="8" id="security"><span class="secno">8. </span><span
                class="content">Security considerations</span><a class="self-link" href="#security"></a></h2>
        <p>Other than cookie access from service worker contexts, this API is not intended to expose any new
            capabilities to the web.</p>
        <h3 class="heading settled" data-level="8.1" id="gotcha"><span class="secno">8.1. </span><span
                class="content">Gotcha!</span><a class="self-link" href="#gotcha"></a></h3>
        <p>Although browser cookie implementations are now evolving in the direction of better security and fewer
            surprising and error-prone defaults, there are at present few guarantees about cookie data security.</p>
        <ul>
            <li data-md>
                <p>unsecured origins can typically overwrite cookies used on secure origins</p>
            <li data-md>
                <p>superdomains can typically overwrite cookies seen by subdomains</p>
            <li data-md>
                <p>cross-site scripting attacks and other script and header injection attacks can be used to forge
                    cookies too</p>
            <li data-md>
                <p>cookie read operations (both from script and on web servers) don’t give any indication of where the
                    cookie came from</p>
            <li data-md>
                <p>browsers sometimes truncate, transform or evict cookie data in surprising and counterintuitive ways
                </p>
                <ul>
                    <li data-md>
                        <p>... due to reaching storage limits</p>
                    <li data-md>
                        <p>... due to character encoding differences</p>
                    <li data-md>
                        <p>... due to differing syntactic and semantic rules for cookies</p>
                </ul>
        </ul>
        <p>For these reasons it is best to use caution when interpreting any cookie’s value, and never execute a
            cookie’s value as script, HTML, CSS, XML, PDF, or any other executable format.</p>
        <h3 class="heading settled" data-level="8.2" id="restrict"><span class="secno">8.2. </span><span
                class="content">Restrict?</span><a class="self-link" href="#restrict"></a></h3>
        <p>This API may have the unintended side-effect of making cookies easier to use and consequently encouraging
            their further use. If it causes their further use in <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                id="ref-for-non-secure-context">non-secure contexts</a> this could result in a web less safe for users.
            For that reason this API has been restricted to <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                id="ref-for-secure-context">secure contexts</a> only.</p>
        <h3 class="heading settled" data-level="8.3" id="secure-cookies"><span class="secno">8.3. </span><span
                class="content">Secure cookies</span><a class="self-link" href="#secure-cookies"></a></h3>
        <p><em>This section is non-normative.</em></p>
        <p>This API only allows writes for <code>Secure</code> cookies to encourage better decisions around security.
            However the API will still allow reading non-<code>Secure</code> cookies in order to facilitate the
            migration to <code>Secure</code> cookies. As a side-effect, when fetching and modifying a
            non-<code>Secure</code> cookie with this API, the non-<code>Secure</code> cookie will automatically be
            modified to <code>Secure</code>.</p>
        <h3 class="heading settled" data-level="8.4" id="surprises"><span class="secno">8.4. </span><span
                class="content">Surprises</span><a class="self-link" href="#surprises"></a></h3>
        <p>Some existing cookie behavior (especially domain-rather-than-origin orientation, <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                id="ref-for-non-secure-context①">non-secure contexts</a> being able to set cookies readable in <a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                id="ref-for-secure-context①">secure contexts</a>, and script being able to set cookies unreadable from
            script contexts) may be quite surprising from a web security standpoint.</p>
        <p>Other surprises are documented in <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14#name-introduction">Cookies §
                Introduction</a> - for instance, a cookie may be set for a superdomain (e.g. app.example.com may set a
            cookie for the whole example.com domain), and a cookie may be readable across all port numbers on a given
            domain name.</p>
        <p>Further complicating this are historical differences in cookie-handling across major browsers, although some
            of those (e.g. port number handling) are now handled with more consistency than they once were.</p>
        <h3 class="heading settled" data-level="8.5" id="prefixes"><span class="secno">8.5. </span><span
                class="content">Prefixes</span><a class="self-link" href="#prefixes"></a></h3>
        <p>Where feasible the examples use the <code>__Host-</code> and <code>__Secure-</code> name prefixes which
            causes some current browsers to disallow overwriting from <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                id="ref-for-non-secure-context②">non-secure contexts</a>, disallow overwriting with no
            <code>Secure</code> flag, and — in the case of <code>__Host-</code> — disallow overwriting with an explicit
            <code>Domain</code> or non-'/' <code>Path</code> attribute (effectively enforcing same-origin semantics.)
            These prefixes provide important security benefits in those browsers implementing Secure Cookies and degrade
            gracefully (i.e. the special semantics may not be enforced in other cookie APIs but the cookies work
            normally and the async cookies API enforces the secure semantics for write operations) in other browsers. A
            major goal of this API is interoperation with existing cookies, though, so a few examples have also been
            provided using cookie names lacking these prefixes.
        </p>
        <p>Prefix rules are also enforced in write operations by this API, but may not be enforced in the same browser
            for other APIs. For this reason it is inadvisable to rely on their enforcement too heavily until and unless
            they are more broadly adopted.</p>
        <h3 class="heading settled" data-level="8.6" id="url-scoping"><span class="secno">8.6. </span><span
                class="content">URL scoping</span><a class="self-link" href="#url-scoping"></a></h3>
        <p>Although a service worker script cannot directly access cookies today, it can already use controlled
            rendering of in-scope HTML and script resources to inject cookie-monitoring code under the remote control of
            the service worker script. This means that cookie access inside the scope of the service worker is
            technically possible already, it’s just not very convenient.</p>
        <p>When the service worker is scoped more narrowly than <code>/</code> it may still be able to read path-scoped
            cookies from outside its scope’s path space by successfully guessing/constructing a 404 page URL which
            allows IFRAME-ing and then running script inside it the same technique could expand to the whole origin, but
            a carefully constructed site (one where no out-of-scope pages are IFRAME-able) can actually deny this
            capability to a path-scoped service worker today and I was reluctant to remove that restriction without
            further discussion of the implications.</p>
        <h3 class="heading settled" data-level="8.7" id="aversion"><span class="secno">8.7. </span><span
                class="content">Cookie aversion</span><a class="self-link" href="#aversion"></a></h3>
        <p>To reduce complexity for developers and eliminate the need for ephemeral test cookies, this async cookies API
            will explicitly reject attempts to write or delete cookies when the operation would be ignored. Likewise it
            will explicitly reject attempts to read cookies when that operation would ignore actual cookie data and
            simulate an empty cookie jar. Attempts to observe cookie changes in these contexts will still "work", but
            won’t invoke the callback until and unless read access becomes allowed (due e.g. to changed site
            permissions.)</p>
        <p>Today writing to <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie③">document.cookie</a></code>
            in contexts where script-initiated cookie-writing is disallowed typically is a no-op. However, many
            cookie-writing scripts and frameworks always write a test cookie and then check for its existence to
            determine whether script-initiated cookie-writing is possible.</p>
        <p>Likewise, today reading <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie④">document.cookie</a></code>
            in contexts where script-initiated cookie-reading is disallowed typically returns an empty string. However,
            a cooperating web server can verify that server-initiated cookie-writing and cookie-reading work and report
            this to the script (which still sees empty string) and the script can use this information to infer that
            script-initiated cookie-reading is disallowed.</p>
        <h2 class="heading settled" data-level="9" id="privacy"><span class="secno">9. </span><span
                class="content">Privacy considerations</span><a class="self-link" href="#privacy"></a></h2>
        <h3 class="heading settled" data-level="9.1" id="clear-cookies"><span class="secno">9.1. </span><span
                class="content">Clear cookies</span><a class="self-link" href="#clear-cookies"></a></h3>
        <p><em>This section is non-normative.</em></p>
        <p>When a user clears cookies for an origin, the user agent needs to wipe all storage for that origin; including
            service workers and DOM-accessible storage for that origin. This is to prevent websites from restoring any
            user identifiers in persistent storage after a user initiates the action.</p>
        <h2 class="no-num heading settled" id="acknowledgements"><span class="content">Acknowledgments</span><a
                class="self-link" href="#acknowledgements"></a></h2>
        <p>Thanks to Benjamin Sittler, who created the initial proposal for this API.</p>
        <p>Many thanks to
            Adam Barth,
            Alex Russell,
            Andrea Marchesini,
            Andrew Williams,
            Anne van Kesteren,
            Ayu Ishii
            Ben Kelly,
            Craig Francis,
            Daniel Appelquist,
            Daniel Murphy,
            Domenic Denicola,
            Elliott Sprehn,
            Fagner Brack,
            Idan Horowitz,
            Jake Archibald,
            Joel Weinberger,
            Joshua Bell,
            Kenneth Rohde Christiansen,
            Lukasz Olejnik,
            Marijn Kruisselbrink,
            Mike West,
            Raymond Toy,
            Rupin Mittal,
            Tab Atkins, and
            Victor Costan
            for helping craft this standard.</p>
        <p>This standard is written by Dylan Cutler (<a href="https://www.google.com/">Google</a>, <a
                href="mailto:dylancutler@google.com">dylancutler@google.com</a>).</p>
        <h2 class="no-num heading settled" id="ipr"><span class="content">Intellectual property rights</span><a
                class="self-link" href="#ipr"></a></h2>
        <div data-fill-with="ipr">This Living Standard was originally developed in the W3C WICG, where it was available
            under the <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">W3C Software
                and Document License</a>.


        </div>
        <p>Copyright © WHATWG (Apple, Google, Mozilla, Microsoft). This work is licensed under a <a
                href="https://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0
                International License</a>. To the extent portions of it are incorporated into source code, such
            portions in the source code are licensed under the <a href="https://opensource.org/licenses/BSD-3-Clause"
                rel="license">BSD 3-Clause License</a> instead.</p>
    </main>
    <script>
        "use strict";
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("/service-worker.js");
        }
    </script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this
            specification</span><a class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#as-a-timestamp">as a timestamp</a><span>, in § 7</span>
        <li>
            associated CookieStore
            <ul>
                <li><a href="#serviceworkerglobalscope-associated-cookiestore">dfn for
                        ServiceWorkerGlobalScope</a><span>, in § 6.2</span>
                <li><a href="#window-associated-cookiestore">dfn for Window</a><span>, in § 6.1</span>
            </ul>
        <li>
            changed
            <ul>
                <li><a href="#dom-cookiechangeevent-changed">attribute for CookieChangeEvent</a><span>, in § 5.1</span>
                <li><a href="#dom-extendablecookiechangeevent-changed">attribute for
                        ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
                <li><a href="#dom-cookiechangeeventinit-changed">dict-member for CookieChangeEventInit</a><span>, in
                        § 5.1</span>
                <li><a href="#dom-extendablecookiechangeeventinit-changed">dict-member for
                        ExtendableCookieChangeEventInit</a><span>, in § 5.2</span>
            </ul>
        <li>
            constructor(type)
            <ul>
                <li><a href="#dom-cookiechangeevent-cookiechangeevent">constructor for CookieChangeEvent</a><span>, in
                        § 5.1</span>
                <li><a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent">constructor for
                        ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
            </ul>
        <li>
            constructor(type, eventInitDict)
            <ul>
                <li><a href="#dom-cookiechangeevent-cookiechangeevent">constructor for CookieChangeEvent</a><span>, in
                        § 5.1</span>
                <li><a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent">constructor for
                        ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
            </ul>
        <li><a href="#cookie">cookie</a><span>, in § 2.1</span>
        <li><a href="#cookie-change">cookie change</a><span>, in § 7.4</span>
        <li><a href="#cookiechangeevent">CookieChangeEvent</a><span>, in § 5.1</span>
        <li><a href="#dictdef-cookiechangeeventinit">CookieChangeEventInit</a><span>, in § 5.1</span>
        <li><a href="#dom-cookiechangeevent-cookiechangeevent">CookieChangeEvent(type)</a><span>, in § 5.1</span>
        <li><a href="#dom-cookiechangeevent-cookiechangeevent">CookieChangeEvent(type, eventInitDict)</a><span>, in
                § 5.1</span>
        <li><a href="#cookie-change-subscription">cookie change subscription</a><span>, in § 2.3</span>
        <li><a href="#cookie-change-subscription-list">cookie change subscription list</a><span>, in § 2.3</span>
        <li><a href="#dictdef-cookieinit">CookieInit</a><span>, in § 3</span>
        <li><a href="#typedefdef-cookielist">CookieList</a><span>, in § 3</span>
        <li><a href="#dictdef-cookielistitem">CookieListItem</a><span>, in § 3</span>
        <li><a href="#dom-serviceworkerregistration-cookies">cookies</a><span>, in § 4.4</span>
        <li><a href="#enumdef-cookiesamesite">CookieSameSite</a><span>, in § 3</span>
        <li><a href="#cookie-store">cookie store</a><span>, in § 2.2</span>
        <li><a href="#cookiestore">CookieStore</a><span>, in § 3</span>
        <li>
            cookieStore
            <ul>
                <li><a href="#dom-serviceworkerglobalscope-cookiestore">attribute for
                        ServiceWorkerGlobalScope</a><span>, in § 6.2</span>
                <li><a href="#dom-window-cookiestore">attribute for Window</a><span>, in § 6.1</span>
            </ul>
        <li><a href="#dictdef-cookiestoredeleteoptions">CookieStoreDeleteOptions</a><span>, in § 3</span>
        <li><a href="#dictdef-cookiestoregetoptions">CookieStoreGetOptions</a><span>, in § 3</span>
        <li><a href="#cookiestoremanager">CookieStoreManager</a><span>, in § 4</span>
        <li><a href="#create-a-cookielistitem">create a CookieListItem</a><span>, in § 7.1</span>
        <li><a href="#date-serialize">date serialize</a><span>, in § 7</span>
        <li><a href="#delete-a-cookie">delete a cookie</a><span>, in § 7.3</span>
        <li>
            deleted
            <ul>
                <li><a href="#dom-cookiechangeevent-deleted">attribute for CookieChangeEvent</a><span>, in § 5.1</span>
                <li><a href="#dom-extendablecookiechangeevent-deleted">attribute for
                        ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
                <li><a href="#dom-cookiechangeeventinit-deleted">dict-member for CookieChangeEventInit</a><span>, in
                        § 5.1</span>
                <li><a href="#dom-extendablecookiechangeeventinit-deleted">dict-member for
                        ExtendableCookieChangeEventInit</a><span>, in § 5.2</span>
            </ul>
        <li><a href="#dom-cookiestore-delete">delete(name)</a><span>, in § 3.4</span>
        <li><a href="#dom-cookiestore-delete-options">delete(options)</a><span>, in § 3.4</span>
        <li>
            domain
            <ul>
                <li><a href="#cookie-domain">dfn for cookie</a><span>, in § 2.1</span>
                <li><a href="#dom-cookieinit-domain">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookiestoredeleteoptions-domain">dict-member for CookieStoreDeleteOptions</a><span>,
                        in § 3</span>
            </ul>
        <li><a href="#dom-cookieinit-expires">expires</a><span>, in § 3</span>
        <li><a href="#extendablecookiechangeevent">ExtendableCookieChangeEvent</a><span>, in § 5.2</span>
        <li><a href="#dictdef-extendablecookiechangeeventinit">ExtendableCookieChangeEventInit</a><span>, in
                § 5.2</span>
        <li><a
                href="#dom-extendablecookiechangeevent-extendablecookiechangeevent">ExtendableCookieChangeEvent(type)</a><span>,
                in § 5.2</span>
        <li><a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent">ExtendableCookieChangeEvent(type,
                eventInitDict)</a><span>, in § 5.2</span>
        <li><a href="#fire-a-change-event">fire a change event</a><span>, in § 7.4</span>
        <li><a href="#dom-cookiestore-get-options">get()</a><span>, in § 3.1</span>
        <li><a href="#dom-cookiestore-getall-options">getAll()</a><span>, in § 3.2</span>
        <li><a href="#dom-cookiestore-getall">getAll(name)</a><span>, in § 3.2</span>
        <li><a href="#dom-cookiestore-getall-options">getAll(options)</a><span>, in § 3.2</span>
        <li><a href="#dom-cookiestore-get">get(name)</a><span>, in § 3.1</span>
        <li><a href="#dom-cookiestore-get-options">get(options)</a><span>, in § 3.1</span>
        <li><a href="#dom-cookiestoremanager-getsubscriptions">getSubscriptions()</a><span>, in § 4.2</span>
        <li><a href="#cookie-http-only-flag">http-only-flag</a><span>, in § 2.1</span>
        <li><a href="#dom-cookiesamesite-lax">"lax"</a><span>, in § 3</span>
        <li><a href="#cookie-maximum-attribute-value-size">maximum attribute value size</a><span>, in § 2.1</span>
        <li><a href="#cookie-maximum-name-value-pair-size">maximum name/value pair size</a><span>, in § 2.1</span>
        <li>
            name
            <ul>
                <li><a href="#cookie-name">dfn for cookie</a><span>, in § 2.1</span>
                <li><a href="#cookie-change-subscription-name">dfn for cookie change subscription</a><span>, in
                        § 2.3</span>
                <li><a href="#dom-cookieinit-name">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-name">dict-member for CookieListItem</a><span>, in § 3</span>
                <li><a href="#dom-cookiestoredeleteoptions-name">dict-member for CookieStoreDeleteOptions</a><span>, in
                        § 3</span>
                <li><a href="#dom-cookiestoregetoptions-name">dict-member for CookieStoreGetOptions</a><span>, in
                        § 3</span>
            </ul>
        <li><a href="#dom-cookiesamesite-none">"none"</a><span>, in § 3</span>
        <li><a href="#normalize-a-cookie-name-or-value">normalize</a><span>, in § 2.1</span>
        <li><a href="#normalize-a-cookie-name-or-value">normalize a cookie name or value</a><span>, in § 2.1</span>
        <li><a href="#observable-changes">observable changes</a><span>, in § 7.4</span>
        <li><a href="#dom-cookiestore-onchange">onchange</a><span>, in § 3</span>
        <li><a href="#dom-serviceworkerglobalscope-oncookiechange">oncookiechange</a><span>, in § 6.2</span>
        <li>
            partitioned
            <ul>
                <li><a href="#dom-cookieinit-partitioned">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookiestoredeleteoptions-partitioned">dict-member for
                        CookieStoreDeleteOptions</a><span>, in § 3</span>
            </ul>
        <li>
            path
            <ul>
                <li><a href="#cookie-path">dfn for cookie</a><span>, in § 2.1</span>
                <li><a href="#dom-cookieinit-path">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookiestoredeleteoptions-path">dict-member for CookieStoreDeleteOptions</a><span>, in
                        § 3</span>
            </ul>
        <li><a href="#prepare-lists">prepare lists</a><span>, in § 7.4</span>
        <li><a href="#process-cookie-changes">process cookie changes</a><span>, in § 7.4</span>
        <li><a href="#query-cookies">query cookies</a><span>, in § 7.1</span>
        <li><a href="#cookiestoremanager-registration">registration</a><span>, in § 4</span>
        <li><a href="#dom-cookieinit-samesite">sameSite</a><span>, in § 3</span>
        <li><a href="#script-visible">script-visible</a><span>, in § 2.1</span>
        <li><a href="#set-a-cookie">set a cookie</a><span>, in § 7.2</span>
        <li><a href="#dom-cookiestore-set">set(name, value)</a><span>, in § 3.3</span>
        <li><a href="#dom-cookiestore-set-options">set(options)</a><span>, in § 3.3</span>
        <li><a href="#dom-cookiesamesite-strict">"strict"</a><span>, in § 3</span>
        <li><a href="#dom-cookiestoremanager-subscribe">subscribe(subscriptions)</a><span>, in § 4.1</span>
        <li><a href="#dom-cookiestoremanager-unsubscribe">unsubscribe(subscriptions)</a><span>, in § 4.3</span>
        <li>
            url
            <ul>
                <li><a href="#cookie-change-subscription-url">dfn for cookie change subscription</a><span>, in
                        § 2.3</span>
                <li><a href="#dom-cookiestoregetoptions-url">dict-member for CookieStoreGetOptions</a><span>, in
                        § 3</span>
            </ul>
        <li>
            value
            <ul>
                <li><a href="#cookie-value">dfn for cookie</a><span>, in § 2.1</span>
                <li><a href="#dom-cookieinit-value">dict-member for CookieInit</a><span>, in § 3</span>
                <li><a href="#dom-cookielistitem-value">dict-member for CookieListItem</a><span>, in § 3</span>
            </ul>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by
            reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[DOM]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="129bdae8">Event</span>
                <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
                <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
                <li><span class="dfn-paneled" id="0c0ceb78">bubbles</span>
                <li><span class="dfn-paneled" id="8c407366">cancelable</span>
                <li><span class="dfn-paneled" id="8abfc3b6">creating an event</span>
                <li><span class="dfn-paneled" id="1372f92a">dispatch</span>
                <li><span class="dfn-paneled" id="a973e0fe">document</span>
                <li><span class="dfn-paneled" id="9d09d04c">type</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMA262]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="873e2ff8">time values</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="a3033be5">UTF-8 decode without BOM</span>
                <li><span class="dfn-paneled" id="0303e8e5">UTF-8 encode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="a33db89a">fetch</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
                <li><span class="dfn-paneled" id="5d7209e9">Window</span>
                <li><span class="dfn-paneled" id="1b5b1c0c">API base URL</span>
                <li><span class="dfn-paneled" id="a1e6e861">cookie</span>
                <li><span class="dfn-paneled" id="fa5ee9c5">creation URL</span>
                <li><span class="dfn-paneled" id="e10e7eb7">DOM manipulation task source</span>
                <li><span class="dfn-paneled" id="cc2ecc32">domain</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
                <li><span class="dfn-paneled" id="a76569bf">is a registrable domain suffix of or is equal to</span>
                <li><span class="dfn-paneled" id="5155c2d3">non-secure context</span>
                <li><span class="dfn-paneled" id="b01b1359">opaque origin</span>
                <li><span class="dfn-paneled" id="43ac8374">origin</span>
                <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
                <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
                <li><span class="dfn-paneled" id="66fd1e11">replaceState(data, unused, url)</span>
                <li><span class="dfn-paneled" id="7393da89">same origin</span>
                <li><span class="dfn-paneled" id="65181da8">secure context</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
                <li><span class="dfn-paneled" id="7b0d918d">break</span>
                <li><span class="dfn-paneled" id="f5354b9d">byte</span>
                <li><span class="dfn-paneled" id="3de9e659">byte sequence</span>
                <li><span class="dfn-paneled" id="7838e1c1">byte-lowercase</span>
                <li><span class="dfn-paneled" id="0e2d3ffe">c0 control</span>
                <li><span class="dfn-paneled" id="ae8def21">contain</span>
                <li><span class="dfn-paneled" id="f937b7b6">continue</span>
                <li><span class="dfn-paneled" id="16d07e10">for each</span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
                <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
                <li><span class="dfn-paneled" id="5afbefcd">item</span>
                <li><span class="dfn-paneled" id="36333997">length <small>(for byte sequence)</small></span>
                <li><span class="dfn-paneled" id="0fa357c3">length <small>(for string)</small></span>
                <li><span class="dfn-paneled" id="649608b9">list</span>
                <li><span class="dfn-paneled" id="99c988d6">remove</span>
                <li><span class="dfn-paneled" id="15e48c39">set</span>
                <li><span class="dfn-paneled" id="904cdc91">starts with</span>
                <li><span class="dfn-paneled" id="0698d556">string</span>
                <li><span class="dfn-paneled" id="0e8de730">tuple</span>
                <li><span class="dfn-paneled" id="ee469dff">with default</span>
            </ul>
        <li>
            <a data-link-type="biblio">[Service-Workers]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="76b107de">ExtendableEvent</span>
                <li><span class="dfn-paneled" id="5ceafb9f">ExtendableEventInit</span>
                <li><span class="dfn-paneled" id="86d2a717">ServiceWorkerGlobalScope</span>
                <li><span class="dfn-paneled" id="a51ea74c">ServiceWorkerRegistration</span>
                <li><span class="dfn-paneled" id="d2763ae9">fire a functional event</span>
                <li><span class="dfn-paneled" id="fc627dec">scope url</span>
                <li><span class="dfn-paneled" id="c60ed63a">service worker</span>
                <li><span class="dfn-paneled" id="02406c7f">service worker registration</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="9ed8b710">basic URL parser</span>
                <li><span class="dfn-paneled" id="6fbdf145">equal</span>
                <li><span class="dfn-paneled" id="aa8d681c">exclude fragments</span>
                <li><span class="dfn-paneled" id="b85ee3be">host</span>
                <li><span class="dfn-paneled" id="390a49fa">host parser</span>
                <li><span class="dfn-paneled" id="959ad97b">origin</span>
                <li><span class="dfn-paneled" id="dcffbccd">URL</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                <li><span class="dfn-paneled" id="c3e881ef">SecurityError</span>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
                <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
                <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
                <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="b262501e">reject</span>
                <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
                <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a
            class="self-link" href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a
            class="self-link" href="#normative"></a></h3>
    <dl>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living
            Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living
            Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-hr-time-3">[HR-TIME-3]
        <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a
                href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>. Living Standard. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc6265bis-14">[RFC6265BIS-14]
        <dd>S. Bingler; M. West; J. Wilander. <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14"><cite>Cookies: HTTP State Management
                    Mechanism</cite></a>. Internet-Draft. URL: <a
                href="https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14">https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-14</a>
        <dt id="biblio-service-workers">[Service-Workers]
        <dd>Yoshisato Yanagisawa; Monica CHINTALA. <a href="https://w3c.github.io/ServiceWorker/"><cite>Service
                    Workers</cite></a>. URL: <a
                href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard.
            URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a
            class="self-link" href="#informative"></a></h3>
    <dl>
        <dt id="biblio-ecmascript">[ECMAScript]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->),
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#cookiestore"><code><c- g>CookieStore</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-get-name-name"><code><c- g>name</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-get-options"><c- g>get</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a> <a href="#dom-cookiestore-get-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-getall"><c- g>getAll</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-getall-name-name"><code><c- g>name</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-getall-options"><c- g>getAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a> <a href="#dom-cookiestore-getall-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-set"><c- g>set</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-set-name-value-name"><code><c- g>name</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-set-name-value-value"><code><c- g>value</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-set-options"><c- g>set</c-></a>(<a data-link-type="idl-name" href="#dictdef-cookieinit"><c- n>CookieInit</c-></a> <a href="#dom-cookiestore-set-options-options"><code><c- g>options</c-></code></a>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-delete"><c- g>delete</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-cookiestore-delete-name-name"><code><c- g>name</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestore-delete-options"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="#dictdef-cookiestoredeleteoptions"><c- n>CookieStoreDeleteOptions</c-></a> <a href="#dom-cookiestore-delete-options-options"><code><c- g>options</c-></code></a>);

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-cookiestore-onchange"><code><c- g>onchange</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-cookiestoregetoptions"><code><c- g>CookieStoreGetOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookiestoregetoptions-name"><code><c- g>name</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookiestoregetoptions-url"><code><c- g>url</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-cookiesamesite"><code><c- g>CookieSameSite</c-></code></a> {
  <a href="#dom-cookiesamesite-strict"><code><c- s>"strict"</c-></code></a>,
  <a href="#dom-cookiesamesite-lax"><code><c- s>"lax"</c-></code></a>,
  <a href="#dom-cookiesamesite-none"><code><c- s>"none"</c-></code></a>
};

<c- b>dictionary</c-> <a href="#dictdef-cookieinit"><code><c- g>CookieInit</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookieinit-name"><code><c- g>name</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookieinit-value"><code><c- g>value</c-></code></a>;
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <a data-default="null" data-type="DOMHighResTimeStamp?" href="#dom-cookieinit-expires"><code><c- g>expires</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>? <a data-default="null" data-type="USVString?" href="#dom-cookieinit-domain"><code><c- g>domain</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-default="&quot;/&quot;" data-type="USVString" href="#dom-cookieinit-path"><code><c- g>path</c-></code></a> = "/";
  <a data-link-type="idl-name" href="#enumdef-cookiesamesite"><c- n>CookieSameSite</c-></a> <a data-default="&quot;strict&quot;" data-type="CookieSameSite" href="#dom-cookieinit-samesite"><code><c- g>sameSite</c-></code></a> = "strict";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cookieinit-partitioned"><code><c- g>partitioned</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-cookiestoredeleteoptions"><code><c- g>CookieStoreDeleteOptions</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookiestoredeleteoptions-name"><code><c- g>name</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>? <a data-default="null" data-type="USVString?" href="#dom-cookiestoredeleteoptions-domain"><code><c- g>domain</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-default="&quot;/&quot;" data-type="USVString" href="#dom-cookiestoredeleteoptions-path"><code><c- g>path</c-></code></a> = "/";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cookiestoredeleteoptions-partitioned"><code><c- g>partitioned</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-cookielistitem"><code><c- g>CookieListItem</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookielistitem-name"><code><c- g>name</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-cookielistitem-value"><code><c- g>value</c-></code></a>;
};

<c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a href="#typedefdef-cookielist"><code><c- g>CookieList</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->),
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#cookiestoremanager"><code><c- g>CookieStoreManager</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-subscribe"><c- g>subscribe</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a>> <a href="#dom-cookiestoremanager-subscribe-subscriptions-subscriptions"><code><c- g>subscriptions</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-getsubscriptions"><c- g>getSubscriptions</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cookiestoremanager-unsubscribe"><c- g>unsubscribe</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookiestoregetoptions"><c- n>CookieStoreGetOptions</c-></a>> <a href="#dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions"><code><c- g>subscriptions</c-></code></a>);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>ServiceWorker</c->,<c- n>Window</c->)]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration"><c- g>ServiceWorkerRegistration</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestoremanager"><c- n>CookieStoreManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStoreManager" href="#dom-serviceworkerregistration-cookies"><c- g>cookies</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#cookiechangeevent"><code><c- g>CookieChangeEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-cookiechangeevent-cookiechangeevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cookiechangeeventinit"><c- n>CookieChangeEventInit</c-></a> <a href="#dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a data-readonly data-type="FrozenArray<CookieListItem>" href="#dom-cookiechangeevent-changed"><code><c- g>changed</c-></code></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a data-readonly data-type="FrozenArray<CookieListItem>" href="#dom-cookiechangeevent-deleted"><code><c- g>deleted</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-cookiechangeeventinit"><code><c- g>CookieChangeEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a> <a data-type="CookieList" href="#dom-cookiechangeeventinit-changed"><code><c- g>changed</c-></code></a>;
  <a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a> <a data-type="CookieList" href="#dom-cookiechangeeventinit-deleted"><code><c- g>deleted</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#extendablecookiechangeevent"><code><c- g>ExtendableCookieChangeEvent</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendablecookiechangeeventinit"><c- n>ExtendableCookieChangeEventInit</c-></a> <a href="#dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a data-readonly data-type="FrozenArray<CookieListItem>" href="#dom-extendablecookiechangeevent-changed"><code><c- g>changed</c-></code></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-cookielistitem"><c- n>CookieListItem</c-></a>> <a data-readonly data-type="FrozenArray<CookieListItem>" href="#dom-extendablecookiechangeevent-deleted"><code><c- g>deleted</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-extendablecookiechangeeventinit"><code><c- g>ExtendableCookieChangeEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a> <a data-type="CookieList" href="#dom-extendablecookiechangeeventinit-changed"><code><c- g>changed</c-></code></a>;
  <a data-link-type="idl-name" href="#typedefdef-cookielist"><c- n>CookieList</c-></a> <a data-type="CookieList" href="#dom-extendablecookiechangeeventinit-deleted"><code><c- g>deleted</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestore"><c- n>CookieStore</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStore" href="#dom-window-cookiestore"><c- g>cookieStore</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"><c- g>ServiceWorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cookiestore"><c- n>CookieStore</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CookieStore" href="#dom-serviceworkerglobalscope-cookiestore"><c- g>cookieStore</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-oncookiechange"><code><c- g>oncookiechange</c-></code></a>;
};

</pre>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "02406c7f": { "dfnID": "02406c7f", "dfnText": "service worker registration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-registration" }], "title": "1.5. Monitoring cookies" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2460" }, { "id": "ref-for-dfn-service-worker-registration\u2461" }], "title": "2.3. Extensions to Service Workers" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2462" }, { "id": "ref-for-dfn-service-worker-registration\u2463" }], "title": "4. The CookieStoreManager interface" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464" }], "title": "4.4. The ServiceWorkerRegistration interface" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465" }], "title": "7.4. Process changes" }], "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" },
                "0303e8e5": { "dfnID": "0303e8e5", "dfnText": "UTF-8 encode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }, { "id": "ref-for-utf-8-encode\u2460" }, { "id": "ref-for-utf-8-encode\u2461" }, { "id": "ref-for-utf-8-encode\u2462" }], "title": "7.2. Set a cookie" }], "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "0698d556": { "dfnID": "0698d556", "dfnText": "string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string" }], "title": "2.1. Cookie" }, { "refs": [{ "id": "ref-for-string\u2460" }], "title": "7.1. Query cookies" }], "url": "https://infra.spec.whatwg.org/#string" },
                "0c0ceb78": { "dfnID": "0c0ceb78", "dfnText": "bubbles", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-bubbles" }], "title": "7.4. Process changes" }], "url": "https://dom.spec.whatwg.org/#dom-event-bubbles" },
                "0e2d3ffe": { "dfnID": "0e2d3ffe", "dfnText": "c0 control", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-c0-control" }], "title": "7.2. Set a cookie" }], "url": "https://infra.spec.whatwg.org/#c0-control" },
                "0e8de730": { "dfnID": "0e8de730", "dfnText": "tuple", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-tuple" }], "title": "2.3. Extensions to Service Workers" }], "url": "https://infra.spec.whatwg.org/#tuple" },
                "0e9f636b": { "dfnID": "0e9f636b", "dfnText": "DOMHighResTimeStamp", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-domhighrestimestamp" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-domhighrestimestamp\u2460" }], "title": "7. Algorithms" }], "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp" },
                "0fa357c3": { "dfnID": "0fa357c3", "dfnText": "length (for string)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string-length" }, { "id": "ref-for-string-length\u2460" }], "title": "7.2. Set a cookie" }, { "refs": [{ "id": "ref-for-string-length\u2461" }], "title": "7.3. Delete a cookie" }], "url": "https://infra.spec.whatwg.org/#string-length" },
                "129bdae8": { "dfnID": "129bdae8", "dfnText": "Event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event" }], "title": "5.1. The CookieChangeEvent interface" }], "url": "https://dom.spec.whatwg.org/#event" },
                "1372f92a": { "dfnID": "1372f92a", "dfnText": "dispatch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-dispatch" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2460" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2461" }], "title": "7.4. Process changes" }], "url": "https://dom.spec.whatwg.org/#concept-event-dispatch" },
                "15e48c39": { "dfnID": "15e48c39", "dfnText": "set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }, { "id": "ref-for-ordered-set\u2460" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "16d07e10": { "dfnID": "16d07e10", "dfnText": "for each", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2461" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2462" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }, { "id": "ref-for-list-iterate\u2464" }, { "id": "ref-for-list-iterate\u2465" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "1b5b1c0c": { "dfnID": "1b5b1c0c", "dfnText": "API base URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-api-base-url" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-api-base-url\u2460" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-api-base-url\u2461" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-api-base-url\u2462" }], "title": "4.3. The unsubscribe() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" },
                "2bc0cdf4": { "dfnID": "2bc0cdf4", "dfnText": "EventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "3. The CookieStore interface" }], "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "36333997": { "dfnID": "36333997", "dfnText": "length (for byte sequence)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-length" }, { "id": "ref-for-byte-sequence-length\u2460" }, { "id": "ref-for-byte-sequence-length\u2461" }, { "id": "ref-for-byte-sequence-length\u2462" }], "title": "7.2. Set a cookie" }], "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "390a49fa": { "dfnID": "390a49fa", "dfnText": "host parser", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-host-parser" }], "title": "7.2. Set a cookie" }], "url": "https://url.spec.whatwg.org/#concept-host-parser" },
                "3b90bdcd": { "dfnID": "3b90bdcd", "dfnText": "resolve", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolve" }, { "id": "ref-for-resolve\u2460" }, { "id": "ref-for-resolve\u2461" }, { "id": "ref-for-resolve\u2462" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-resolve\u2463" }, { "id": "ref-for-resolve\u2464" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-resolve\u2465" }, { "id": "ref-for-resolve\u2466" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-resolve\u2467" }, { "id": "ref-for-resolve\u2468" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u24ea" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2461" }], "title": "4.3. The unsubscribe() method" }], "url": "https://webidl.spec.whatwg.org/#resolve" },
                "3de9e659": { "dfnID": "3de9e659", "dfnText": "byte sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }], "title": "2.1. Cookie" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460" }], "title": "7. Algorithms" }, { "refs": [{ "id": "ref-for-byte-sequence\u2461" }, { "id": "ref-for-byte-sequence\u2462" }, { "id": "ref-for-byte-sequence\u2463" }, { "id": "ref-for-byte-sequence\u2464" }], "title": "7.2. Set a cookie" }], "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }, { "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2461" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2464" }], "title": "4.4. The ServiceWorkerRegistration interface" }, { "refs": [{ "id": "ref-for-this\u2460\u2465" }], "title": "6.1. The Window interface" }, { "refs": [{ "id": "ref-for-this\u2460\u2466" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "43ac8374": { "dfnID": "43ac8374", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-origin" }, { "id": "ref-for-concept-settings-object-origin\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2461" }, { "id": "ref-for-concept-settings-object-origin\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2463" }, { "id": "ref-for-concept-settings-object-origin\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2465" }, { "id": "ref-for-concept-settings-object-origin\u2466" }], "title": "3.4. The delete() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "44a7708c": { "dfnID": "44a7708c", "dfnText": "EventInit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-eventinit" }], "title": "5.1. The CookieChangeEvent interface" }], "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
                "48438eb3": { "dfnID": "48438eb3", "dfnText": "queue a global task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-global-task" }], "title": "7.4. Process changes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "5155c2d3": { "dfnID": "5155c2d3", "dfnText": "non-secure context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-non-secure-context" }], "title": "8.2. Restrict?" }, { "refs": [{ "id": "ref-for-non-secure-context\u2460" }], "title": "8.4. Surprises" }, { "refs": [{ "id": "ref-for-non-secure-context\u2461" }], "title": "8.5. Prefixes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context" },
                "53275e46": { "dfnID": "53275e46", "dfnText": "append (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-list-append\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-list-append\u2461" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-list-append\u2462" }, { "id": "ref-for-list-append\u2463" }, { "id": "ref-for-list-append\u2464" }, { "id": "ref-for-list-append\u2465" }, { "id": "ref-for-list-append\u2466" }, { "id": "ref-for-list-append\u2467" }, { "id": "ref-for-list-append\u2468" }, { "id": "ref-for-list-append\u2460\u24ea" }, { "id": "ref-for-list-append\u2460\u2460" }], "title": "7.2. Set a cookie" }, { "refs": [{ "id": "ref-for-list-append\u2460\u2461" }, { "id": "ref-for-list-append\u2460\u2462" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#list-append" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }], "title": "3. The CookieStore interface" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "5afbefcd": { "dfnID": "5afbefcd", "dfnText": "item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }], "title": "4.3. The unsubscribe() method" }], "url": "https://infra.spec.whatwg.org/#list-item" },
                "5ceafb9f": { "dfnID": "5ceafb9f", "dfnText": "ExtendableEventInit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-extendableeventinit" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" },
                "5d7209e9": { "dfnID": "5d7209e9", "dfnText": "Window", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window" }], "title": "1.5. Monitoring cookies" }, { "refs": [{ "id": "ref-for-window\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-window\u2461" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-window\u2462" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-window\u2463" }], "title": "6. Global interfaces" }, { "refs": [{ "id": "ref-for-window\u2464" }, { "id": "ref-for-window\u2465" }, { "id": "ref-for-window\u2466" }], "title": "6.1. The Window interface" }, { "refs": [{ "id": "ref-for-window\u2467" }], "title": "7.4. Process changes" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }, { "id": "ref-for-idl-undefined\u2461" }, { "id": "ref-for-idl-undefined\u2462" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-idl-undefined\u2463" }, { "id": "ref-for-idl-undefined\u2464" }], "title": "4. The CookieStoreManager interface" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "649608b9": { "dfnID": "649608b9", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list" }], "title": "2.3. Extensions to Service Workers" }, { "refs": [{ "id": "ref-for-list\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-list\u2461" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-list\u2462" }], "title": "7.2. Set a cookie" }, { "refs": [{ "id": "ref-for-list\u2463" }, { "id": "ref-for-list\u2464" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#list" },
                "65181da8": { "dfnID": "65181da8", "dfnText": "secure context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-secure-context" }], "title": "8.2. Restrict?" }, { "refs": [{ "id": "ref-for-secure-context\u2460" }], "title": "8.4. Surprises" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" },
                "66fd1e11": { "dfnID": "66fd1e11", "dfnText": "replaceState(data, unused, url)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-history-replacestate" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-history-replacestate\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" },
                "6b815fdd": { "dfnID": "6b815fdd", "dfnText": "is empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }, { "id": "ref-for-list-is-empty\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-list-is-empty\u2461" }, { "id": "ref-for-list-is-empty\u2462" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "6fbdf145": { "dfnID": "6fbdf145", "dfnText": "equal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-equals" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-url-equals\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://url.spec.whatwg.org/#concept-url-equals" },
                "7393da89": { "dfnID": "7393da89", "dfnText": "same origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-same-origin" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-same-origin\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
                "76b107de": { "dfnID": "76b107de", "dfnText": "ExtendableEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-extendableevent" }, { "id": "ref-for-extendableevent\u2460" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://w3c.github.io/ServiceWorker/#extendableevent" },
                "7838e1c1": { "dfnID": "7838e1c1", "dfnText": "byte-lowercase", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-lowercase" }, { "id": "ref-for-byte-lowercase\u2460" }, { "id": "ref-for-byte-lowercase\u2461" }, { "id": "ref-for-byte-lowercase\u2462" }], "title": "7.2. Set a cookie" }], "url": "https://infra.spec.whatwg.org/#byte-lowercase" },
                "7b0d918d": { "dfnID": "7b0d918d", "dfnText": "break", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-break" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#iteration-break" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }, { "id": "ref-for-exceptiondef-typeerror\u2460" }, { "id": "ref-for-exceptiondef-typeerror\u2461" }, { "id": "ref-for-exceptiondef-typeerror\u2462" }, { "id": "ref-for-exceptiondef-typeerror\u2463" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2464" }, { "id": "ref-for-exceptiondef-typeerror\u2465" }, { "id": "ref-for-exceptiondef-typeerror\u2466" }, { "id": "ref-for-exceptiondef-typeerror\u2467" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2468" }, { "id": "ref-for-exceptiondef-typeerror\u2460\u24ea" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460\u2460" }, { "id": "ref-for-exceptiondef-typeerror\u2460\u2461" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460\u2462" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460\u2463" }], "title": "4.3. The unsubscribe() method" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "860300d4": { "dfnID": "860300d4", "dfnText": "implementation-defined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }], "title": "7.3. Delete a cookie" }], "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "86d2a717": { "dfnID": "86d2a717", "dfnText": "ServiceWorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerglobalscope" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460" }], "title": "6. Global interfaces" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2461" }, { "id": "ref-for-serviceworkerglobalscope\u2462" }, { "id": "ref-for-serviceworkerglobalscope\u2463" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" },
                "873e2ff8": { "dfnID": "873e2ff8", "dfnText": "time values", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-time-values-and-time-range" }], "title": "7. Algorithms" }], "url": "https://tc39.github.io/ecma262/#sec-time-values-and-time-range" },
                "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }, { "id": "ref-for-Exposed\u2460" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-Exposed\u2461" }], "title": "4. The CookieStoreManager interface" }, { "refs": [{ "id": "ref-for-Exposed\u2462" }], "title": "4.4. The ServiceWorkerRegistration interface" }, { "refs": [{ "id": "ref-for-Exposed\u2463" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-Exposed\u2464" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8abfc3b6": { "dfnID": "8abfc3b6", "dfnText": "creating an event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-create" }], "title": "7.4. Process changes" }], "url": "https://dom.spec.whatwg.org/#concept-event-create" },
                "8c407366": { "dfnID": "8c407366", "dfnText": "cancelable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-cancelable" }], "title": "7.4. Process changes" }], "url": "https://dom.spec.whatwg.org/#dom-event-cancelable" },
                "904cdc91": { "dfnID": "904cdc91", "dfnText": "starts with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-starts-with" }, { "id": "ref-for-byte-sequence-starts-with\u2460" }, { "id": "ref-for-byte-sequence-starts-with\u2461" }, { "id": "ref-for-byte-sequence-starts-with\u2462" }], "title": "7.2. Set a cookie" }], "url": "https://infra.spec.whatwg.org/#byte-sequence-starts-with" },
                "959ad97b": { "dfnID": "959ad97b", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-origin" }, { "id": "ref-for-concept-url-origin\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-url-origin\u2461" }, { "id": "ref-for-concept-url-origin\u2462" }], "title": "3.2. The getAll() method" }], "url": "https://url.spec.whatwg.org/#concept-url-origin" },
                "99c988d6": { "dfnID": "99c988d6", "dfnText": "remove", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }], "title": "4.3. The unsubscribe() method" }], "url": "https://infra.spec.whatwg.org/#list-remove" },
                "9c4c1e66": { "dfnID": "9c4c1e66", "dfnText": "relevant settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }, { "id": "ref-for-relevant-settings-object\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461" }, { "id": "ref-for-relevant-settings-object\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2463" }, { "id": "ref-for-relevant-settings-object\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2465" }, { "id": "ref-for-relevant-settings-object\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2467" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2468" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u24ea" }], "title": "7.4. Process changes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "9cce47fd": { "dfnID": "9cce47fd", "dfnText": "sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-idl-sequence\u2460" }, { "id": "ref-for-idl-sequence\u2461" }, { "id": "ref-for-idl-sequence\u2462" }], "title": "4. The CookieStoreManager interface" }], "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "9d09d04c": { "dfnID": "9d09d04c", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-type" }], "title": "7.4. Process changes" }], "url": "https://dom.spec.whatwg.org/#dom-event-type" },
                "9ed8b710": { "dfnID": "9ed8b710", "dfnText": "basic URL parser", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-basic-url-parser" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-basic-url-parser\u2460" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-concept-basic-url-parser\u2461" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-concept-basic-url-parser\u2462" }], "title": "4.3. The unsubscribe() method" }], "url": "https://url.spec.whatwg.org/#concept-basic-url-parser" },
                "a1e6e861": { "dfnID": "a1e6e861", "dfnText": "cookie", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-cookie" }, { "id": "ref-for-dom-document-cookie\u2460" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-dom-document-cookie\u2461" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-dom-document-cookie\u2462" }, { "id": "ref-for-dom-document-cookie\u2463" }], "title": "8.7. Cookie aversion" }], "url": "https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" },
                "a3033be5": { "dfnID": "a3033be5", "dfnText": "UTF-8 decode without BOM", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode-without-bom" }, { "id": "ref-for-utf-8-decode-without-bom\u2460" }, { "id": "ref-for-utf-8-decode-without-bom\u2461" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-utf-8-decode-without-bom\u2462" }], "title": "7.4. Process changes" }], "url": "https://encoding.spec.whatwg.org/#utf-8-decode-without-bom" },
                "a33db89a": { "dfnID": "a33db89a", "dfnText": "fetch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-fetch" }], "title": "1.3. Querying cookies" }], "url": "https://fetch.spec.whatwg.org/#concept-fetch" },
                "a3b18719": { "dfnID": "a3b18719", "dfnText": "append (for set)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#set-append" },
                "a51ea74c": { "dfnID": "a51ea74c", "dfnText": "ServiceWorkerRegistration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerregistration" }, { "id": "ref-for-serviceworkerregistration\u2460" }, { "id": "ref-for-serviceworkerregistration\u2461" }, { "id": "ref-for-serviceworkerregistration\u2462" }, { "id": "ref-for-serviceworkerregistration\u2463" }], "title": "4.4. The ServiceWorkerRegistration interface" }], "url": "https://w3c.github.io/ServiceWorker/#serviceworkerregistration" },
                "a5c91173": { "dfnID": "a5c91173", "dfnText": "SameObject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SameObject" }], "title": "4.4. The ServiceWorkerRegistration interface" }, { "refs": [{ "id": "ref-for-SameObject\u2460" }, { "id": "ref-for-SameObject\u2461" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-SameObject\u2462" }, { "id": "ref-for-SameObject\u2463" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-SameObject\u2464" }], "title": "6.1. The Window interface" }, { "refs": [{ "id": "ref-for-SameObject\u2465" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "https://webidl.spec.whatwg.org/#SameObject" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }, { "id": "ref-for-in-parallel\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2461" }, { "id": "ref-for-in-parallel\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2463" }, { "id": "ref-for-in-parallel\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2465" }, { "id": "ref-for-in-parallel\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2467" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2468" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u24ea" }], "title": "4.3. The unsubscribe() method" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "a76569bf": { "dfnID": "a76569bf", "dfnText": "is a registrable domain suffix of or is equal to", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to" }], "title": "7.2. Set a cookie" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#is-a-registrable-domain-suffix-of-or-is-equal-to" },
                "a973e0fe": { "dfnID": "a973e0fe", "dfnText": "document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-document" }, { "id": "ref-for-concept-document\u2460" }, { "id": "ref-for-concept-document\u2461" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-concept-document\u2462" }], "title": "1.4. Modifying cookies" }, { "refs": [{ "id": "ref-for-concept-document\u2463" }], "title": "1.5. Monitoring cookies" }], "url": "https://dom.spec.whatwg.org/#concept-document" },
                "aa8d681c": { "dfnID": "aa8d681c", "dfnText": "exclude fragments", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-equals-exclude-fragments" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-url-equals-exclude-fragments\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://url.spec.whatwg.org/#url-equals-exclude-fragments" },
                "ae8def21": { "dfnID": "ae8def21", "dfnText": "contain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
                "as-a-timestamp": { "dfnID": "as-a-timestamp", "dfnText": "as a timestamp", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-as-a-timestamp" }], "title": "7.3. Delete a cookie" }], "url": "#as-a-timestamp" },
                "b01b1359": { "dfnID": "b01b1359", "dfnText": "opaque origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-origin-opaque" }, { "id": "ref-for-concept-origin-opaque\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-origin-opaque\u2461" }, { "id": "ref-for-concept-origin-opaque\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-concept-origin-opaque\u2463" }, { "id": "ref-for-concept-origin-opaque\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-concept-origin-opaque\u2465" }, { "id": "ref-for-concept-origin-opaque\u2466" }], "title": "3.4. The delete() method" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" },
                "b0d7f3c3": { "dfnID": "b0d7f3c3", "dfnText": "USVString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-USVString" }, { "id": "ref-for-idl-USVString\u2460" }, { "id": "ref-for-idl-USVString\u2461" }, { "id": "ref-for-idl-USVString\u2462" }, { "id": "ref-for-idl-USVString\u2463" }, { "id": "ref-for-idl-USVString\u2464" }, { "id": "ref-for-idl-USVString\u2465" }, { "id": "ref-for-idl-USVString\u2466" }, { "id": "ref-for-idl-USVString\u2467" }, { "id": "ref-for-idl-USVString\u2468" }, { "id": "ref-for-idl-USVString\u2460\u24ea" }, { "id": "ref-for-idl-USVString\u2460\u2460" }, { "id": "ref-for-idl-USVString\u2460\u2461" }, { "id": "ref-for-idl-USVString\u2460\u2462" }, { "id": "ref-for-idl-USVString\u2460\u2463" }, { "id": "ref-for-idl-USVString\u2460\u2464" }], "title": "3. The CookieStore interface" }], "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "b262501e": { "dfnID": "b262501e", "dfnText": "reject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reject" }, { "id": "ref-for-reject\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-reject\u2461" }, { "id": "ref-for-reject\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-reject\u2463" }, { "id": "ref-for-reject\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-reject\u2465" }, { "id": "ref-for-reject\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-reject\u2467" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-reject\u2468" }], "title": "4.3. The unsubscribe() method" }], "url": "https://webidl.spec.whatwg.org/#reject" },
                "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "4. The CookieStoreManager interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2461" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2462" }], "title": "6.1. The Window interface" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "b85ee3be": { "dfnID": "b85ee3be", "dfnText": "host", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-host" }], "title": "7.2. Set a cookie" }], "url": "https://url.spec.whatwg.org/#concept-url-host" },
                "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-idl-promise\u2460" }, { "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }, { "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }, { "id": "ref-for-idl-promise\u2465" }, { "id": "ref-for-idl-promise\u2466" }, { "id": "ref-for-idl-promise\u2467" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2468" }, { "id": "ref-for-idl-promise\u2460\u24ea" }, { "id": "ref-for-idl-promise\u2460\u2460" }], "title": "4. The CookieStoreManager interface" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "c3e881ef": { "dfnID": "c3e881ef", "dfnText": "SecurityError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-securityerror" }, { "id": "ref-for-securityerror\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-securityerror\u2461" }, { "id": "ref-for-securityerror\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-securityerror\u2463" }, { "id": "ref-for-securityerror\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-securityerror\u2465" }, { "id": "ref-for-securityerror\u2466" }], "title": "3.4. The delete() method" }], "url": "https://webidl.spec.whatwg.org/#securityerror" },
                "c60ed63a": { "dfnID": "c60ed63a", "dfnText": "service worker", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker" }], "title": "1.1. Alternative to document.cookie" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460" }, { "id": "ref-for-dfn-service-worker\u2461" }, { "id": "ref-for-dfn-service-worker\u2462" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2463" }], "title": "1.4. Modifying cookies" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2464" }, { "id": "ref-for-dfn-service-worker\u2465" }, { "id": "ref-for-dfn-service-worker\u2466" }, { "id": "ref-for-dfn-service-worker\u2467" }, { "id": "ref-for-dfn-service-worker\u2468" }], "title": "1.5. Monitoring cookies" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea" }], "title": "4. The CookieStoreManager interface" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2460" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2461" }, { "id": "ref-for-dfn-service-worker\u2460\u2462" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker" },
                "cc2ecc32": { "dfnID": "cc2ecc32", "dfnText": "domain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-domain" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-document-domain\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain" },
                "cookie": { "dfnID": "cookie", "dfnText": "cookie", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie" }, { "id": "ref-for-cookie\u2460" }], "title": "2.1. Cookie" }, { "refs": [{ "id": "ref-for-cookie\u2461" }, { "id": "ref-for-cookie\u2462" }, { "id": "ref-for-cookie\u2463" }], "title": "2.2. Cookie store" }, { "refs": [{ "id": "ref-for-cookie\u2464" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-cookie\u2465" }, { "id": "ref-for-cookie\u2466" }, { "id": "ref-for-cookie\u2467" }, { "id": "ref-for-cookie\u2468" }, { "id": "ref-for-cookie\u2460\u24ea" }, { "id": "ref-for-cookie\u2460\u2460" }, { "id": "ref-for-cookie\u2460\u2461" }], "title": "7.4. Process changes" }], "url": "#cookie" },
                "cookie-change": { "dfnID": "cookie-change", "dfnText": "cookie change", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change" }], "title": "7.4. Process changes" }], "url": "#cookie-change" },
                "cookie-change-subscription": { "dfnID": "cookie-change-subscription", "dfnText": "cookie change subscription", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change-subscription" }], "title": "2.3. Extensions to Service Workers" }, { "refs": [{ "id": "ref-for-cookie-change-subscription\u2460" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription\u2461" }], "title": "4.3. The unsubscribe() method" }], "url": "#cookie-change-subscription" },
                "cookie-change-subscription-list": { "dfnID": "cookie-change-subscription-list", "dfnText": "cookie change subscription list", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change-subscription-list" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-list\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-list\u2461" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-list\u2462" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-list\u2463" }], "title": "7.4. Process changes" }], "url": "#cookie-change-subscription-list" },
                "cookie-change-subscription-name": { "dfnID": "cookie-change-subscription-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change-subscription-name" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-name\u2460" }], "title": "7.4. Process changes" }], "url": "#cookie-change-subscription-name" },
                "cookie-change-subscription-url": { "dfnID": "cookie-change-subscription-url", "dfnText": "url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-change-subscription-url" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-cookie-change-subscription-url\u2460" }], "title": "7.4. Process changes" }], "url": "#cookie-change-subscription-url" },
                "cookie-domain": { "dfnID": "cookie-domain", "dfnText": "domain", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-domain" }], "title": "7.4. Process changes" }], "url": "#cookie-domain" },
                "cookie-http-only-flag": { "dfnID": "cookie-http-only-flag", "dfnText": "http-only-flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-http-only-flag" }], "title": "2.1. Cookie" }, { "refs": [{ "id": "ref-for-cookie-http-only-flag\u2460" }], "title": "7.1. Query cookies" }], "url": "#cookie-http-only-flag" },
                "cookie-maximum-attribute-value-size": { "dfnID": "cookie-maximum-attribute-value-size", "dfnText": "maximum attribute value size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-maximum-attribute-value-size" }, { "id": "ref-for-cookie-maximum-attribute-value-size\u2460" }], "title": "7.2. Set a cookie" }], "url": "#cookie-maximum-attribute-value-size" },
                "cookie-maximum-name-value-pair-size": { "dfnID": "cookie-maximum-name-value-pair-size", "dfnText": "maximum name/value pair size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-maximum-name-value-pair-size" }], "title": "7.2. Set a cookie" }], "url": "#cookie-maximum-name-value-pair-size" },
                "cookie-name": { "dfnID": "cookie-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-name" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-cookie-name\u2460" }, { "id": "ref-for-cookie-name\u2461" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-cookie-name\u2462" }, { "id": "ref-for-cookie-name\u2463" }], "title": "7.4. Process changes" }], "url": "#cookie-name" },
                "cookie-path": { "dfnID": "cookie-path", "dfnText": "path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-path" }], "title": "7.4. Process changes" }], "url": "#cookie-path" },
                "cookie-store": { "dfnID": "cookie-store", "dfnText": "cookie store", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-store" }, { "id": "ref-for-cookie-store\u2460" }, { "id": "ref-for-cookie-store\u2461" }, { "id": "ref-for-cookie-store\u2462" }], "title": "2.2. Cookie store" }, { "refs": [{ "id": "ref-for-cookie-store\u2463" }], "title": "7.4. Process changes" }], "url": "#cookie-store" },
                "cookie-value": { "dfnID": "cookie-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookie-value" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-cookie-value\u2460" }], "title": "7.1. Query cookies" }], "url": "#cookie-value" },
                "cookiechangeevent": { "dfnID": "cookiechangeevent", "dfnText": "CookieChangeEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookiechangeevent" }, { "id": "ref-for-cookiechangeevent\u2460" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-cookiechangeevent\u2461" }], "title": "7.4. Process changes" }], "url": "#cookiechangeevent" },
                "cookiestore": { "dfnID": "cookiestore", "dfnText": "CookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookiestore" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-cookiestore\u2460" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-cookiestore\u2461" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-cookiestore\u2462" }], "title": "6. Global interfaces" }, { "refs": [{ "id": "ref-for-cookiestore\u2463" }, { "id": "ref-for-cookiestore\u2464" }], "title": "6.1. The Window interface" }, { "refs": [{ "id": "ref-for-cookiestore\u2465" }, { "id": "ref-for-cookiestore\u2466" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }, { "refs": [{ "id": "ref-for-cookiestore\u2467" }], "title": "7.4. Process changes" }], "url": "#cookiestore" },
                "cookiestoremanager": { "dfnID": "cookiestoremanager", "dfnText": "CookieStoreManager", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookiestoremanager" }, { "id": "ref-for-cookiestoremanager\u2460" }, { "id": "ref-for-cookiestoremanager\u2461" }], "title": "4. The CookieStoreManager interface" }, { "refs": [{ "id": "ref-for-cookiestoremanager\u2462" }, { "id": "ref-for-cookiestoremanager\u2463" }, { "id": "ref-for-cookiestoremanager\u2464" }, { "id": "ref-for-cookiestoremanager\u2465" }, { "id": "ref-for-cookiestoremanager\u2466" }], "title": "4.4. The ServiceWorkerRegistration interface" }], "url": "#cookiestoremanager" },
                "cookiestoremanager-registration": { "dfnID": "cookiestoremanager-registration", "dfnText": "registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cookiestoremanager-registration" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-cookiestoremanager-registration\u2460" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-cookiestoremanager-registration\u2461" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-cookiestoremanager-registration\u2462" }], "title": "4.4. The ServiceWorkerRegistration interface" }], "url": "#cookiestoremanager-registration" },
                "create-a-cookielistitem": { "dfnID": "create-a-cookielistitem", "dfnText": "create a CookieListItem", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-cookielistitem" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-create-a-cookielistitem\u2460" }], "title": "7.4. Process changes" }], "url": "#create-a-cookielistitem" },
                "d0b4a948": { "dfnID": "d0b4a948", "dfnText": "a promise rejected with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-rejected-with" }, { "id": "ref-for-a-promise-rejected-with\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2461" }, { "id": "ref-for-a-promise-rejected-with\u2462" }, { "id": "ref-for-a-promise-rejected-with\u2463" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2464" }, { "id": "ref-for-a-promise-rejected-with\u2465" }, { "id": "ref-for-a-promise-rejected-with\u2466" }, { "id": "ref-for-a-promise-rejected-with\u2467" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2468" }, { "id": "ref-for-a-promise-rejected-with\u2460\u24ea" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2461" }], "title": "3.4. The delete() method" }], "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "d2763ae9": { "dfnID": "d2763ae9", "dfnText": "fire a functional event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fire-functional-event" }], "title": "7.4. Process changes" }], "url": "https://w3c.github.io/ServiceWorker/#fire-functional-event" },
                "dacde8b5": { "dfnID": "dacde8b5", "dfnText": "a new promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }, { "id": "ref-for-a-new-promise\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461" }, { "id": "ref-for-a-new-promise\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2463" }, { "id": "ref-for-a-new-promise\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2465" }, { "id": "ref-for-a-new-promise\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2467" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2468" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u24ea" }], "title": "4.3. The unsubscribe() method" }], "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "date-serialize": { "dfnID": "date-serialize", "dfnText": "date serialize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-date-serialize" }], "title": "7.2. Set a cookie" }], "url": "#date-serialize" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }, { "id": "ref-for-idl-DOMException\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }, { "id": "ref-for-idl-DOMException\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2463" }, { "id": "ref-for-idl-DOMException\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }, { "id": "ref-for-idl-DOMException\u2466" }], "title": "3.4. The delete() method" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "dcf5fafa": { "dfnID": "dcf5fafa", "dfnText": "FrozenArray", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-frozen-array" }, { "id": "ref-for-idl-frozen-array\u2460" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-idl-frozen-array\u2461" }, { "id": "ref-for-idl-frozen-array\u2462" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
                "dcffbccd": { "dfnID": "dcffbccd", "dfnText": "URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url" }], "title": "7.1. Query cookies" }], "url": "https://url.spec.whatwg.org/#concept-url" },
                "delete-a-cookie": { "dfnID": "delete-a-cookie", "dfnText": "delete a cookie", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-delete-a-cookie" }, { "id": "ref-for-delete-a-cookie\u2460" }], "title": "3.4. The delete() method" }], "url": "#delete-a-cookie" },
                "dictdef-cookiechangeeventinit": { "dfnID": "dictdef-cookiechangeeventinit", "dfnText": "CookieChangeEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookiechangeeventinit" }], "title": "5.1. The CookieChangeEvent interface" }], "url": "#dictdef-cookiechangeeventinit" },
                "dictdef-cookieinit": { "dfnID": "dictdef-cookieinit", "dfnText": "CookieInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookieinit" }], "title": "3. The CookieStore interface" }], "url": "#dictdef-cookieinit" },
                "dictdef-cookielistitem": { "dfnID": "dictdef-cookielistitem", "dfnText": "CookieListItem", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookielistitem" }, { "id": "ref-for-dictdef-cookielistitem\u2460" }, { "id": "ref-for-dictdef-cookielistitem\u2461" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dictdef-cookielistitem\u2462" }, { "id": "ref-for-dictdef-cookielistitem\u2463" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dictdef-cookielistitem\u2464" }, { "id": "ref-for-dictdef-cookielistitem\u2465" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dictdef-cookielistitem\u2466" }], "title": "7.1. Query cookies" }], "url": "#dictdef-cookielistitem" },
                "dictdef-cookiestoredeleteoptions": { "dfnID": "dictdef-cookiestoredeleteoptions", "dfnText": "CookieStoreDeleteOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookiestoredeleteoptions" }], "title": "3. The CookieStore interface" }], "url": "#dictdef-cookiestoredeleteoptions" },
                "dictdef-cookiestoregetoptions": { "dfnID": "dictdef-cookiestoregetoptions", "dfnText": "CookieStoreGetOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cookiestoregetoptions" }, { "id": "ref-for-dictdef-cookiestoregetoptions\u2460" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dictdef-cookiestoregetoptions\u2461" }, { "id": "ref-for-dictdef-cookiestoregetoptions\u2462" }, { "id": "ref-for-dictdef-cookiestoregetoptions\u2463" }], "title": "4. The CookieStoreManager interface" }], "url": "#dictdef-cookiestoregetoptions" },
                "dictdef-extendablecookiechangeeventinit": { "dfnID": "dictdef-extendablecookiechangeeventinit", "dfnText": "ExtendableCookieChangeEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-extendablecookiechangeeventinit" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "#dictdef-extendablecookiechangeeventinit" },
                "dom-cookiechangeevent-changed": { "dfnID": "dom-cookiechangeevent-changed", "dfnText": "changed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiechangeevent-changed" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dom-cookiechangeevent-changed\u2460" }], "title": "7.4. Process changes" }], "url": "#dom-cookiechangeevent-changed" },
                "dom-cookiechangeevent-cookiechangeevent": { "dfnID": "dom-cookiechangeevent-cookiechangeevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-cookiechangeevent-cookiechangeevent" },
                "dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-eventinitdict" },
                "dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type": { "dfnID": "dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-cookiechangeevent-cookiechangeevent-type-eventinitdict-type" },
                "dom-cookiechangeevent-deleted": { "dfnID": "dom-cookiechangeevent-deleted", "dfnText": "deleted", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiechangeevent-deleted" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dom-cookiechangeevent-deleted\u2460" }], "title": "7.4. Process changes" }], "url": "#dom-cookiechangeevent-deleted" },
                "dom-cookiechangeeventinit-changed": { "dfnID": "dom-cookiechangeeventinit-changed", "dfnText": "changed", "external": false, "refSections": [], "url": "#dom-cookiechangeeventinit-changed" },
                "dom-cookiechangeeventinit-deleted": { "dfnID": "dom-cookiechangeeventinit-deleted", "dfnText": "deleted", "external": false, "refSections": [], "url": "#dom-cookiechangeeventinit-deleted" },
                "dom-cookieinit-domain": { "dfnID": "dom-cookieinit-domain", "dfnText": "domain", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-domain" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-domain" },
                "dom-cookieinit-expires": { "dfnID": "dom-cookieinit-expires", "dfnText": "expires", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-expires" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-expires" },
                "dom-cookieinit-name": { "dfnID": "dom-cookieinit-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-name" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-name" },
                "dom-cookieinit-partitioned": { "dfnID": "dom-cookieinit-partitioned", "dfnText": "partitioned", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-partitioned" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-partitioned" },
                "dom-cookieinit-path": { "dfnID": "dom-cookieinit-path", "dfnText": "path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-path" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-path" },
                "dom-cookieinit-samesite": { "dfnID": "dom-cookieinit-samesite", "dfnText": "sameSite", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-samesite" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-samesite" },
                "dom-cookieinit-value": { "dfnID": "dom-cookieinit-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookieinit-value" }], "title": "3.3. The set() method" }], "url": "#dom-cookieinit-value" },
                "dom-cookielistitem-name": { "dfnID": "dom-cookielistitem-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookielistitem-name" }], "title": "7.1. Query cookies" }], "url": "#dom-cookielistitem-name" },
                "dom-cookielistitem-value": { "dfnID": "dom-cookielistitem-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookielistitem-value" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-dom-cookielistitem-value\u2460" }], "title": "7.4. Process changes" }], "url": "#dom-cookielistitem-value" },
                "dom-cookiesamesite-lax": { "dfnID": "dom-cookiesamesite-lax", "dfnText": "\"lax\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiesamesite-lax" }], "title": "7.2. Set a cookie" }], "url": "#dom-cookiesamesite-lax" },
                "dom-cookiesamesite-none": { "dfnID": "dom-cookiesamesite-none", "dfnText": "\"none\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiesamesite-none" }], "title": "7.2. Set a cookie" }], "url": "#dom-cookiesamesite-none" },
                "dom-cookiesamesite-strict": { "dfnID": "dom-cookiesamesite-strict", "dfnText": "\"strict\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiesamesite-strict" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-dom-cookiesamesite-strict\u2460" }], "title": "7.2. Set a cookie" }, { "refs": [{ "id": "ref-for-dom-cookiesamesite-strict\u2461" }], "title": "7.3. Delete a cookie" }], "url": "#dom-cookiesamesite-strict" },
                "dom-cookiestore-delete": { "dfnID": "dom-cookiestore-delete", "dfnText": "delete(name)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-delete" }], "title": "1.4. Modifying cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-delete\u2460" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-delete\u2461" }, { "id": "ref-for-dom-cookiestore-delete\u2462" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestore-delete" },
                "dom-cookiestore-delete-name-name": { "dfnID": "dom-cookiestore-delete-name-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookiestore-delete-name-name" },
                "dom-cookiestore-delete-options": { "dfnID": "dom-cookiestore-delete-options", "dfnText": "delete(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-delete-options" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-delete-options\u2460" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestore-delete-options" },
                "dom-cookiestore-delete-options-options": { "dfnID": "dom-cookiestore-delete-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cookiestore-delete-options-options" },
                "dom-cookiestore-get": { "dfnID": "dom-cookiestore-get", "dfnText": "get(name)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-get" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get\u2460" }], "title": "3.1. The get() method" }], "url": "#dom-cookiestore-get" },
                "dom-cookiestore-get-name-name": { "dfnID": "dom-cookiestore-get-name-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookiestore-get-name-name" },
                "dom-cookiestore-get-options": { "dfnID": "dom-cookiestore-get-options", "dfnText": "get(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-get-options" }, { "id": "ref-for-dom-cookiestore-get-options\u2460" }, { "id": "ref-for-dom-cookiestore-get-options\u2461" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get-options\u2462" }], "title": "1.5. Monitoring cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get-options\u2463" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get-options\u2464" }, { "id": "ref-for-dom-cookiestore-get-options\u2465" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-cookiestore-get-options\u2466" }], "title": "4.1. The subscribe() method" }], "url": "#dom-cookiestore-get-options" },
                "dom-cookiestore-get-options-options": { "dfnID": "dom-cookiestore-get-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cookiestore-get-options-options" },
                "dom-cookiestore-getall": { "dfnID": "dom-cookiestore-getall", "dfnText": "getAll(name)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-getall" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall\u2460" }], "title": "3.2. The getAll() method" }], "url": "#dom-cookiestore-getall" },
                "dom-cookiestore-getall-name-name": { "dfnID": "dom-cookiestore-getall-name-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookiestore-getall-name-name" },
                "dom-cookiestore-getall-options": { "dfnID": "dom-cookiestore-getall-options", "dfnText": "getAll(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-getall-options" }, { "id": "ref-for-dom-cookiestore-getall-options\u2460" }, { "id": "ref-for-dom-cookiestore-getall-options\u2461" }, { "id": "ref-for-dom-cookiestore-getall-options\u2462" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall-options\u2463" }], "title": "1.5. Monitoring cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall-options\u2464" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall-options\u2465" }, { "id": "ref-for-dom-cookiestore-getall-options\u2466" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-dom-cookiestore-getall-options\u2467" }], "title": "4.1. The subscribe() method" }], "url": "#dom-cookiestore-getall-options" },
                "dom-cookiestore-getall-options-options": { "dfnID": "dom-cookiestore-getall-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cookiestore-getall-options-options" },
                "dom-cookiestore-onchange": { "dfnID": "dom-cookiestore-onchange", "dfnText": "onchange", "external": false, "refSections": [], "url": "#dom-cookiestore-onchange" },
                "dom-cookiestore-set": { "dfnID": "dom-cookiestore-set", "dfnText": "set(name, value)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-set" }, { "id": "ref-for-dom-cookiestore-set\u2460" }], "title": "1.4. Modifying cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestore-set\u2461" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-set\u2462" }, { "id": "ref-for-dom-cookiestore-set\u2463" }], "title": "3.3. The set() method" }], "url": "#dom-cookiestore-set" },
                "dom-cookiestore-set-name-value-name": { "dfnID": "dom-cookiestore-set-name-value-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-cookiestore-set-name-value-name" },
                "dom-cookiestore-set-name-value-value": { "dfnID": "dom-cookiestore-set-name-value-value", "dfnText": "value", "external": false, "refSections": [], "url": "#dom-cookiestore-set-name-value-value" },
                "dom-cookiestore-set-options": { "dfnID": "dom-cookiestore-set-options", "dfnText": "set(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestore-set-options" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-dom-cookiestore-set-options\u2460" }], "title": "3.3. The set() method" }], "url": "#dom-cookiestore-set-options" },
                "dom-cookiestore-set-options-options": { "dfnID": "dom-cookiestore-set-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cookiestore-set-options-options" },
                "dom-cookiestoredeleteoptions-domain": { "dfnID": "dom-cookiestoredeleteoptions-domain", "dfnText": "domain", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoredeleteoptions-domain" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestoredeleteoptions-domain" },
                "dom-cookiestoredeleteoptions-name": { "dfnID": "dom-cookiestoredeleteoptions-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoredeleteoptions-name" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestoredeleteoptions-name" },
                "dom-cookiestoredeleteoptions-partitioned": { "dfnID": "dom-cookiestoredeleteoptions-partitioned", "dfnText": "partitioned", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoredeleteoptions-partitioned" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestoredeleteoptions-partitioned" },
                "dom-cookiestoredeleteoptions-path": { "dfnID": "dom-cookiestoredeleteoptions-path", "dfnText": "path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoredeleteoptions-path" }], "title": "3.4. The delete() method" }], "url": "#dom-cookiestoredeleteoptions-path" },
                "dom-cookiestoregetoptions-name": { "dfnID": "dom-cookiestoregetoptions-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-name" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-name\u2460" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-name\u2461" }, { "id": "ref-for-dom-cookiestoregetoptions-name\u2462" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-name\u2463" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoregetoptions-name" },
                "dom-cookiestoregetoptions-url": { "dfnID": "dom-cookiestoregetoptions-url", "dfnText": "url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url\u2460" }, { "id": "ref-for-dom-cookiestoregetoptions-url\u2461" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url\u2462" }, { "id": "ref-for-dom-cookiestoregetoptions-url\u2463" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url\u2464" }, { "id": "ref-for-dom-cookiestoregetoptions-url\u2465" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoregetoptions-url\u2466" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoregetoptions-url" },
                "dom-cookiestoremanager-getsubscriptions": { "dfnID": "dom-cookiestoremanager-getsubscriptions", "dfnText": "getSubscriptions()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoremanager-getsubscriptions" }], "title": "1.5. Monitoring cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-getsubscriptions\u2460" }], "title": "4. The CookieStoreManager interface" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-getsubscriptions\u2461" }, { "id": "ref-for-dom-cookiestoremanager-getsubscriptions\u2462" }], "title": "4.2. The getSubscriptions() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-getsubscriptions\u2463" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoremanager-getsubscriptions" },
                "dom-cookiestoremanager-subscribe": { "dfnID": "dom-cookiestoremanager-subscribe", "dfnText": "subscribe(subscriptions)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoremanager-subscribe" }], "title": "1.5. Monitoring cookies" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-subscribe\u2460" }, { "id": "ref-for-dom-cookiestoremanager-subscribe\u2461" }], "title": "4. The CookieStoreManager interface" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-subscribe\u2462" }, { "id": "ref-for-dom-cookiestoremanager-subscribe\u2463" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-subscribe\u2464" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoremanager-subscribe" },
                "dom-cookiestoremanager-subscribe-subscriptions-subscriptions": { "dfnID": "dom-cookiestoremanager-subscribe-subscriptions-subscriptions", "dfnText": "subscriptions", "external": false, "refSections": [], "url": "#dom-cookiestoremanager-subscribe-subscriptions-subscriptions" },
                "dom-cookiestoremanager-unsubscribe": { "dfnID": "dom-cookiestoremanager-unsubscribe", "dfnText": "unsubscribe(subscriptions)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cookiestoremanager-unsubscribe" }], "title": "4. The CookieStoreManager interface" }, { "refs": [{ "id": "ref-for-dom-cookiestoremanager-unsubscribe\u2460" }, { "id": "ref-for-dom-cookiestoremanager-unsubscribe\u2461" }], "title": "4.3. The unsubscribe() method" }], "url": "#dom-cookiestoremanager-unsubscribe" },
                "dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions": { "dfnID": "dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions", "dfnText": "subscriptions", "external": false, "refSections": [], "url": "#dom-cookiestoremanager-unsubscribe-subscriptions-subscriptions" },
                "dom-extendablecookiechangeevent-changed": { "dfnID": "dom-extendablecookiechangeevent-changed", "dfnText": "changed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablecookiechangeevent-changed" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dom-extendablecookiechangeevent-changed\u2460" }], "title": "7.4. Process changes" }], "url": "#dom-extendablecookiechangeevent-changed" },
                "dom-extendablecookiechangeevent-deleted": { "dfnID": "dom-extendablecookiechangeevent-deleted", "dfnText": "deleted", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablecookiechangeevent-deleted" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-dom-extendablecookiechangeevent-deleted\u2460" }], "title": "7.4. Process changes" }], "url": "#dom-extendablecookiechangeevent-deleted" },
                "dom-extendablecookiechangeevent-extendablecookiechangeevent": { "dfnID": "dom-extendablecookiechangeevent-extendablecookiechangeevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeevent-extendablecookiechangeevent" },
                "dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-eventinitdict" },
                "dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type": { "dfnID": "dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeevent-extendablecookiechangeevent-type-eventinitdict-type" },
                "dom-extendablecookiechangeeventinit-changed": { "dfnID": "dom-extendablecookiechangeeventinit-changed", "dfnText": "changed", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeeventinit-changed" },
                "dom-extendablecookiechangeeventinit-deleted": { "dfnID": "dom-extendablecookiechangeeventinit-deleted", "dfnText": "deleted", "external": false, "refSections": [], "url": "#dom-extendablecookiechangeeventinit-deleted" },
                "dom-serviceworkerglobalscope-cookiestore": { "dfnID": "dom-serviceworkerglobalscope-cookiestore", "dfnText": "cookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-cookiestore" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "#dom-serviceworkerglobalscope-cookiestore" },
                "dom-serviceworkerglobalscope-oncookiechange": { "dfnID": "dom-serviceworkerglobalscope-oncookiechange", "dfnText": "oncookiechange", "external": false, "refSections": [], "url": "#dom-serviceworkerglobalscope-oncookiechange" },
                "dom-serviceworkerregistration-cookies": { "dfnID": "dom-serviceworkerregistration-cookies", "dfnText": "cookies", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-cookies" }, { "id": "ref-for-dom-serviceworkerregistration-cookies\u2460" }], "title": "4.4. The ServiceWorkerRegistration interface" }], "url": "#dom-serviceworkerregistration-cookies" },
                "dom-window-cookiestore": { "dfnID": "dom-window-cookiestore", "dfnText": "cookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-window-cookiestore" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-dom-window-cookiestore\u2460" }], "title": "1.4. Modifying cookies" }, { "refs": [{ "id": "ref-for-dom-window-cookiestore\u2461" }], "title": "6.1. The Window interface" }], "url": "#dom-window-cookiestore" },
                "e10e7eb7": { "dfnID": "e10e7eb7", "dfnText": "DOM manipulation task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-manipulation-task-source" }], "title": "7.4. Process changes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "ee469dff": { "dfnID": "ee469dff", "dfnText": "with default", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-with-default" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-map-with-default\u2460" }], "title": "3.2. The getAll() method" }], "url": "https://infra.spec.whatwg.org/#map-with-default" },
                "enumdef-cookiesamesite": { "dfnID": "enumdef-cookiesamesite", "dfnText": "CookieSameSite", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-cookiesamesite" }], "title": "3. The CookieStore interface" }], "url": "#enumdef-cookiesamesite" },
                "extendablecookiechangeevent": { "dfnID": "extendablecookiechangeevent", "dfnText": "ExtendableCookieChangeEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendablecookiechangeevent" }, { "id": "ref-for-extendablecookiechangeevent\u2460" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-extendablecookiechangeevent\u2461" }], "title": "7.4. Process changes" }], "url": "#extendablecookiechangeevent" },
                "f0951476": { "dfnID": "f0951476", "dfnText": "EventHandler", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventhandler" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-eventhandler\u2460" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "f5354b9d": { "dfnID": "f5354b9d", "dfnText": "byte", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte" }, { "id": "ref-for-byte\u2460" }], "title": "2.1. Cookie" }], "url": "https://infra.spec.whatwg.org/#byte" },
                "f937b7b6": { "dfnID": "f937b7b6", "dfnText": "continue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-iteration-continue\u2460" }, { "id": "ref-for-iteration-continue\u2461" }, { "id": "ref-for-iteration-continue\u2462" }], "title": "7.4. Process changes" }], "url": "https://infra.spec.whatwg.org/#iteration-continue" },
                "fa5ee9c5": { "dfnID": "fa5ee9c5", "dfnText": "creation URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-creation-url" }, { "id": "ref-for-concept-environment-creation-url\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2461" }, { "id": "ref-for-concept-environment-creation-url\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2463" }, { "id": "ref-for-concept-environment-creation-url\u2464" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2465" }, { "id": "ref-for-concept-environment-creation-url\u2466" }], "title": "3.4. The delete() method" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2467" }], "title": "7.4. Process changes" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" },
                "fc627dec": { "dfnID": "fc627dec", "dfnText": "scope url", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-scope-url" }], "title": "1.3. Querying cookies" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2461" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2462" }], "title": "7.4. Process changes" }], "url": "https://w3c.github.io/ServiceWorker/#dfn-scope-url" },
                "fire-a-change-event": { "dfnID": "fire-a-change-event", "dfnText": "fire a change event", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fire-a-change-event" }], "title": "7.4. Process changes" }], "url": "#fire-a-change-event" },
                "normalize-a-cookie-name-or-value": { "dfnID": "normalize-a-cookie-name-or-value", "dfnText": "normalize a cookie name or value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-normalize-a-cookie-name-or-value" }], "title": "4.1. The subscribe() method" }, { "refs": [{ "id": "ref-for-normalize-a-cookie-name-or-value\u2460" }], "title": "4.3. The unsubscribe() method" }, { "refs": [{ "id": "ref-for-normalize-a-cookie-name-or-value\u2461" }], "title": "7.1. Query cookies" }, { "refs": [{ "id": "ref-for-normalize-a-cookie-name-or-value\u2462" }, { "id": "ref-for-normalize-a-cookie-name-or-value\u2463" }], "title": "7.2. Set a cookie" }, { "refs": [{ "id": "ref-for-normalize-a-cookie-name-or-value\u2464" }], "title": "7.3. Delete a cookie" }], "url": "#normalize-a-cookie-name-or-value" },
                "observable-changes": { "dfnID": "observable-changes", "dfnText": "observable changes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-observable-changes" }, { "id": "ref-for-observable-changes\u2460" }, { "id": "ref-for-observable-changes\u2461" }], "title": "7.4. Process changes" }], "url": "#observable-changes" },
                "prepare-lists": { "dfnID": "prepare-lists", "dfnText": "prepare lists", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-prepare-lists" }, { "id": "ref-for-prepare-lists\u2460" }], "title": "7.4. Process changes" }], "url": "#prepare-lists" },
                "process-cookie-changes": { "dfnID": "process-cookie-changes", "dfnText": "process cookie changes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-process-cookie-changes" }], "title": "2.2. Cookie store" }], "url": "#process-cookie-changes" },
                "query-cookies": { "dfnID": "query-cookies", "dfnText": "query cookies", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-query-cookies" }, { "id": "ref-for-query-cookies\u2460" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-query-cookies\u2461" }, { "id": "ref-for-query-cookies\u2462" }], "title": "3.2. The getAll() method" }], "url": "#query-cookies" },
                "script-visible": { "dfnID": "script-visible", "dfnText": "script-visible", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-script-visible" }, { "id": "ref-for-script-visible\u2460" }], "title": "1.2. Summary" }, { "refs": [{ "id": "ref-for-script-visible\u2461" }], "title": "3.1. The get() method" }, { "refs": [{ "id": "ref-for-script-visible\u2462" }], "title": "3.2. The getAll() method" }, { "refs": [{ "id": "ref-for-script-visible\u2463" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-script-visible\u2464" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "#script-visible" },
                "serviceworkerglobalscope-associated-cookiestore": { "dfnID": "serviceworkerglobalscope-associated-cookiestore", "dfnText": "associated CookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerglobalscope-associated-cookiestore" }], "title": "6.2. The ServiceWorkerGlobalScope interface" }], "url": "#serviceworkerglobalscope-associated-cookiestore" },
                "set-a-cookie": { "dfnID": "set-a-cookie", "dfnText": "set a cookie", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-a-cookie" }, { "id": "ref-for-set-a-cookie\u2460" }], "title": "3.3. The set() method" }, { "refs": [{ "id": "ref-for-set-a-cookie\u2461" }], "title": "7.3. Delete a cookie" }], "url": "#set-a-cookie" },
                "typedefdef-cookielist": { "dfnID": "typedefdef-cookielist", "dfnText": "CookieList", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-cookielist" }, { "id": "ref-for-typedefdef-cookielist\u2460" }], "title": "3. The CookieStore interface" }, { "refs": [{ "id": "ref-for-typedefdef-cookielist\u2461" }, { "id": "ref-for-typedefdef-cookielist\u2462" }], "title": "5.1. The CookieChangeEvent interface" }, { "refs": [{ "id": "ref-for-typedefdef-cookielist\u2463" }, { "id": "ref-for-typedefdef-cookielist\u2464" }], "title": "5.2. The ExtendableCookieChangeEvent interface" }], "url": "#typedefdef-cookielist" },
                "window-associated-cookiestore": { "dfnID": "window-associated-cookiestore", "dfnText": "associated CookieStore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-window-associated-cookiestore" }], "title": "6.1. The Window interface" }], "url": "#window-associated-cookiestore" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#as-a-timestamp": { "displayText": "as a timestamp", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "as a timestamp", "type": "dfn", "url": "#as-a-timestamp" },
                "#cookie": { "displayText": "cookie", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "cookie", "type": "dfn", "url": "#cookie" },
                "#cookie-change": { "displayText": "cookie change", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "cookie change", "type": "dfn", "url": "#cookie-change" },
                "#cookie-change-subscription": { "displayText": "cookie change subscription", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "cookie change subscription", "type": "dfn", "url": "#cookie-change-subscription" },
                "#cookie-change-subscription-list": { "displayText": "cookie change subscription list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "cookie change subscription list", "type": "dfn", "url": "#cookie-change-subscription-list" },
                "#cookie-change-subscription-name": { "displayText": "name", "export": true, "for_": ["cookie change subscription"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "name", "type": "dfn", "url": "#cookie-change-subscription-name" },
                "#cookie-change-subscription-url": { "displayText": "url", "export": true, "for_": ["cookie change subscription"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "url", "type": "dfn", "url": "#cookie-change-subscription-url" },
                "#cookie-domain": { "displayText": "domain", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "domain", "type": "dfn", "url": "#cookie-domain" },
                "#cookie-http-only-flag": { "displayText": "http-only-flag", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "http-only-flag", "type": "dfn", "url": "#cookie-http-only-flag" },
                "#cookie-maximum-attribute-value-size": { "displayText": "maximum attribute value size", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "maximum attribute value size", "type": "dfn", "url": "#cookie-maximum-attribute-value-size" },
                "#cookie-maximum-name-value-pair-size": { "displayText": "maximum name/value pair size", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "maximum name/value pair size", "type": "dfn", "url": "#cookie-maximum-name-value-pair-size" },
                "#cookie-name": { "displayText": "name", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "name", "type": "dfn", "url": "#cookie-name" },
                "#cookie-path": { "displayText": "path", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "path", "type": "dfn", "url": "#cookie-path" },
                "#cookie-store": { "displayText": "cookie store", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "cookie store", "type": "dfn", "url": "#cookie-store" },
                "#cookie-value": { "displayText": "value", "export": true, "for_": ["cookie"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "value", "type": "dfn", "url": "#cookie-value" },
                "#cookiechangeevent": { "displayText": "CookieChangeEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieChangeEvent", "type": "interface", "url": "#cookiechangeevent" },
                "#cookiestore": { "displayText": "CookieStore", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieStore", "type": "interface", "url": "#cookiestore" },
                "#cookiestoremanager": { "displayText": "CookieStoreManager", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieStoreManager", "type": "interface", "url": "#cookiestoremanager" },
                "#cookiestoremanager-registration": { "displayText": "registration", "export": true, "for_": ["CookieStoreManager"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "registration", "type": "dfn", "url": "#cookiestoremanager-registration" },
                "#create-a-cookielistitem": { "displayText": "create a cookielistitem", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "create a cookielistitem", "type": "dfn", "url": "#create-a-cookielistitem" },
                "#date-serialize": { "displayText": "date serialize", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "date serialize", "type": "dfn", "url": "#date-serialize" },
                "#delete-a-cookie": { "displayText": "delete a cookie", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "delete a cookie", "type": "dfn", "url": "#delete-a-cookie" },
                "#dictdef-cookiechangeeventinit": { "displayText": "CookieChangeEventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieChangeEventInit", "type": "dictionary", "url": "#dictdef-cookiechangeeventinit" },
                "#dictdef-cookieinit": { "displayText": "CookieInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieInit", "type": "dictionary", "url": "#dictdef-cookieinit" },
                "#dictdef-cookielistitem": { "displayText": "CookieListItem", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieListItem", "type": "dictionary", "url": "#dictdef-cookielistitem" },
                "#dictdef-cookiestoredeleteoptions": { "displayText": "CookieStoreDeleteOptions", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieStoreDeleteOptions", "type": "dictionary", "url": "#dictdef-cookiestoredeleteoptions" },
                "#dictdef-cookiestoregetoptions": { "displayText": "CookieStoreGetOptions", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieStoreGetOptions", "type": "dictionary", "url": "#dictdef-cookiestoregetoptions" },
                "#dictdef-extendablecookiechangeeventinit": { "displayText": "ExtendableCookieChangeEventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "ExtendableCookieChangeEventInit", "type": "dictionary", "url": "#dictdef-extendablecookiechangeeventinit" },
                "#dom-cookiechangeevent-changed": { "displayText": "changed", "export": true, "for_": ["CookieChangeEvent"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "changed", "type": "attribute", "url": "#dom-cookiechangeevent-changed" },
                "#dom-cookiechangeevent-deleted": { "displayText": "deleted", "export": true, "for_": ["CookieChangeEvent"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "deleted", "type": "attribute", "url": "#dom-cookiechangeevent-deleted" },
                "#dom-cookieinit-domain": { "displayText": "domain", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "domain", "type": "dict-member", "url": "#dom-cookieinit-domain" },
                "#dom-cookieinit-expires": { "displayText": "expires", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "expires", "type": "dict-member", "url": "#dom-cookieinit-expires" },
                "#dom-cookieinit-name": { "displayText": "name", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "name", "type": "dict-member", "url": "#dom-cookieinit-name" },
                "#dom-cookieinit-partitioned": { "displayText": "partitioned", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "partitioned", "type": "dict-member", "url": "#dom-cookieinit-partitioned" },
                "#dom-cookieinit-path": { "displayText": "path", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "path", "type": "dict-member", "url": "#dom-cookieinit-path" },
                "#dom-cookieinit-samesite": { "displayText": "sameSite", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "sameSite", "type": "dict-member", "url": "#dom-cookieinit-samesite" },
                "#dom-cookieinit-value": { "displayText": "value", "export": true, "for_": ["CookieInit"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "value", "type": "dict-member", "url": "#dom-cookieinit-value" },
                "#dom-cookielistitem-name": { "displayText": "name", "export": true, "for_": ["CookieListItem"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "name", "type": "dict-member", "url": "#dom-cookielistitem-name" },
                "#dom-cookielistitem-value": { "displayText": "value", "export": true, "for_": ["CookieListItem"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "value", "type": "dict-member", "url": "#dom-cookielistitem-value" },
                "#dom-cookiesamesite-lax": { "displayText": "\"lax\"", "export": true, "for_": ["CookieSameSite"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "\"lax\"", "type": "enum-value", "url": "#dom-cookiesamesite-lax" },
                "#dom-cookiesamesite-none": { "displayText": "\"none\"", "export": true, "for_": ["CookieSameSite"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "\"none\"", "type": "enum-value", "url": "#dom-cookiesamesite-none" },
                "#dom-cookiesamesite-strict": { "displayText": "\"strict\"", "export": true, "for_": ["CookieSameSite"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "\"strict\"", "type": "enum-value", "url": "#dom-cookiesamesite-strict" },
                "#dom-cookiestore-delete": { "displayText": "delete(name)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "delete(name)", "type": "method", "url": "#dom-cookiestore-delete" },
                "#dom-cookiestore-delete-options": { "displayText": "delete(options)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "delete(options)", "type": "method", "url": "#dom-cookiestore-delete-options" },
                "#dom-cookiestore-get": { "displayText": "get(name)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "get(name)", "type": "method", "url": "#dom-cookiestore-get" },
                "#dom-cookiestore-get-options": { "displayText": "get()", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "get()", "type": "method", "url": "#dom-cookiestore-get-options" },
                "#dom-cookiestore-getall": { "displayText": "getAll(name)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "getAll(name)", "type": "method", "url": "#dom-cookiestore-getall" },
                "#dom-cookiestore-getall-options": { "displayText": "getAll()", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "getAll()", "type": "method", "url": "#dom-cookiestore-getall-options" },
                "#dom-cookiestore-set": { "displayText": "set(name, value)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "set(name, value)", "type": "method", "url": "#dom-cookiestore-set" },
                "#dom-cookiestore-set-options": { "displayText": "set(options)", "export": true, "for_": ["CookieStore"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "set(options)", "type": "method", "url": "#dom-cookiestore-set-options" },
                "#dom-cookiestoredeleteoptions-domain": { "displayText": "domain", "export": true, "for_": ["CookieStoreDeleteOptions"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "domain", "type": "dict-member", "url": "#dom-cookiestoredeleteoptions-domain" },
                "#dom-cookiestoredeleteoptions-name": { "displayText": "name", "export": true, "for_": ["CookieStoreDeleteOptions"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "name", "type": "dict-member", "url": "#dom-cookiestoredeleteoptions-name" },
                "#dom-cookiestoredeleteoptions-partitioned": { "displayText": "partitioned", "export": true, "for_": ["CookieStoreDeleteOptions"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "partitioned", "type": "dict-member", "url": "#dom-cookiestoredeleteoptions-partitioned" },
                "#dom-cookiestoredeleteoptions-path": { "displayText": "path", "export": true, "for_": ["CookieStoreDeleteOptions"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "path", "type": "dict-member", "url": "#dom-cookiestoredeleteoptions-path" },
                "#dom-cookiestoregetoptions-name": { "displayText": "name", "export": true, "for_": ["CookieStoreGetOptions"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "name", "type": "dict-member", "url": "#dom-cookiestoregetoptions-name" },
                "#dom-cookiestoregetoptions-url": { "displayText": "url", "export": true, "for_": ["CookieStoreGetOptions"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "url", "type": "dict-member", "url": "#dom-cookiestoregetoptions-url" },
                "#dom-cookiestoremanager-getsubscriptions": { "displayText": "getSubscriptions()", "export": true, "for_": ["CookieStoreManager"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "getSubscriptions()", "type": "method", "url": "#dom-cookiestoremanager-getsubscriptions" },
                "#dom-cookiestoremanager-subscribe": { "displayText": "subscribe(subscriptions)", "export": true, "for_": ["CookieStoreManager"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "subscribe(subscriptions)", "type": "method", "url": "#dom-cookiestoremanager-subscribe" },
                "#dom-cookiestoremanager-unsubscribe": { "displayText": "unsubscribe(subscriptions)", "export": true, "for_": ["CookieStoreManager"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "unsubscribe(subscriptions)", "type": "method", "url": "#dom-cookiestoremanager-unsubscribe" },
                "#dom-extendablecookiechangeevent-changed": { "displayText": "changed", "export": true, "for_": ["ExtendableCookieChangeEvent"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "changed", "type": "attribute", "url": "#dom-extendablecookiechangeevent-changed" },
                "#dom-extendablecookiechangeevent-deleted": { "displayText": "deleted", "export": true, "for_": ["ExtendableCookieChangeEvent"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "deleted", "type": "attribute", "url": "#dom-extendablecookiechangeevent-deleted" },
                "#dom-serviceworkerglobalscope-cookiestore": { "displayText": "cookieStore", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "cookieStore", "type": "attribute", "url": "#dom-serviceworkerglobalscope-cookiestore" },
                "#dom-serviceworkerregistration-cookies": { "displayText": "cookies", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "cookies", "type": "attribute", "url": "#dom-serviceworkerregistration-cookies" },
                "#dom-window-cookiestore": { "displayText": "cookieStore", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "cookieStore", "type": "attribute", "url": "#dom-window-cookiestore" },
                "#enumdef-cookiesamesite": { "displayText": "CookieSameSite", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieSameSite", "type": "enum", "url": "#enumdef-cookiesamesite" },
                "#extendablecookiechangeevent": { "displayText": "ExtendableCookieChangeEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "ExtendableCookieChangeEvent", "type": "interface", "url": "#extendablecookiechangeevent" },
                "#fire-a-change-event": { "displayText": "fire a change event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "fire a change event", "type": "dfn", "url": "#fire-a-change-event" },
                "#normalize-a-cookie-name-or-value": { "displayText": "normalize", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "normalize", "type": "dfn", "url": "#normalize-a-cookie-name-or-value" },
                "#observable-changes": { "displayText": "observable changes", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "observable changes", "type": "dfn", "url": "#observable-changes" },
                "#prepare-lists": { "displayText": "prepare lists", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "prepare lists", "type": "dfn", "url": "#prepare-lists" },
                "#process-cookie-changes": { "displayText": "process cookie changes", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "process cookie changes", "type": "dfn", "url": "#process-cookie-changes" },
                "#query-cookies": { "displayText": "query cookies", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "query cookies", "type": "dfn", "url": "#query-cookies" },
                "#script-visible": { "displayText": "script-visible", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "script-visible", "type": "dfn", "url": "#script-visible" },
                "#serviceworkerglobalscope-associated-cookiestore": { "displayText": "associated cookiestore", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "associated cookiestore", "type": "dfn", "url": "#serviceworkerglobalscope-associated-cookiestore" },
                "#set-a-cookie": { "displayText": "set a cookie", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "set a cookie", "type": "dfn", "url": "#set-a-cookie" },
                "#typedefdef-cookielist": { "displayText": "CookieList", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "CookieList", "type": "typedef", "url": "#typedefdef-cookielist" },
                "#window-associated-cookiestore": { "displayText": "associated cookiestore", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "cookiestore", "spec": "cookiestore-1", "status": "local", "text": "associated cookiestore", "type": "dfn", "url": "#window-associated-cookiestore" },
                "https://dom.spec.whatwg.org/#concept-document": { "displayText": "document", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "document", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-document" },
                "https://dom.spec.whatwg.org/#concept-event-create": { "displayText": "creating an event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "creating an event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-create" },
                "https://dom.spec.whatwg.org/#concept-event-dispatch": { "displayText": "dispatch", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "dispatch", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-dispatch" },
                "https://dom.spec.whatwg.org/#dictdef-eventinit": { "displayText": "EventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventInit", "type": "dictionary", "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
                "https://dom.spec.whatwg.org/#dom-event-bubbles": { "displayText": "bubbles", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "bubbles", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-bubbles" },
                "https://dom.spec.whatwg.org/#dom-event-cancelable": { "displayText": "cancelable", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "cancelable", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-cancelable" },
                "https://dom.spec.whatwg.org/#dom-event-type": { "displayText": "type", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "type", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-type" },
                "https://dom.spec.whatwg.org/#event": { "displayText": "Event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Event", "type": "interface", "url": "https://dom.spec.whatwg.org/#event" },
                "https://dom.spec.whatwg.org/#eventtarget": { "displayText": "EventTarget", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventTarget", "type": "interface", "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "https://encoding.spec.whatwg.org/#utf-8-decode-without-bom": { "displayText": "UTF-8 decode without BOM", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 decode without bom", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-decode-without-bom" },
                "https://encoding.spec.whatwg.org/#utf-8-encode": { "displayText": "UTF-8 encode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 encode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "https://fetch.spec.whatwg.org/#concept-fetch": { "displayText": "fetch", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "fetch", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-fetch" },
                "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque": { "displayText": "opaque origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "opaque origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" },
                "https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain": { "displayText": "domain", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "domain", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/browsers.html#dom-document-domain" },
                "https://html.spec.whatwg.org/multipage/browsers.html#is-a-registrable-domain-suffix-of-or-is-equal-to": { "displayText": "is a registrable domain suffix of or is equal to", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "is a registrable domain suffix of or is equal to", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#is-a-registrable-domain-suffix-of-or-is-equal-to" },
                "https://html.spec.whatwg.org/multipage/browsers.html#same-origin": { "displayText": "same origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "same origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
                "https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie": { "displayText": "cookie", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "cookie", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate": { "displayText": "replaceState(data, unused, url)", "export": true, "for_": ["History"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "replaceState(data, unused, url)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": { "displayText": "Window", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Window", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url": { "displayText": "API base URL", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "api base url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url": { "displayText": "creation URL", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "creation url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": { "displayText": "origin", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source": { "displayText": "DOM manipulation task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "dom manipulation task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": { "displayText": "EventHandler", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "EventHandler", "type": "typedef", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context": { "displayText": "non-secure context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "non-secure context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": { "displayText": "queue a global task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a global task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": { "displayText": "relevant settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context": { "displayText": "secure context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "secure context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" },
                "https://infra.spec.whatwg.org/#byte": { "displayText": "byte", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte" },
                "https://infra.spec.whatwg.org/#byte-lowercase": { "displayText": "byte-lowercase", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte-lowercase", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-lowercase" },
                "https://infra.spec.whatwg.org/#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte sequence", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "https://infra.spec.whatwg.org/#byte-sequence-length": { "displayText": "length", "export": true, "for_": ["byte sequence"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "length", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "https://infra.spec.whatwg.org/#byte-sequence-starts-with": { "displayText": "starts with", "export": true, "for_": ["byte sequence"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "starts with", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence-starts-with" },
                "https://infra.spec.whatwg.org/#c0-control": { "displayText": "c0 control", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "c0 control", "type": "dfn", "url": "https://infra.spec.whatwg.org/#c0-control" },
                "https://infra.spec.whatwg.org/#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "implementation-defined", "type": "dfn", "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "https://infra.spec.whatwg.org/#iteration-break": { "displayText": "break", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "break", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-break" },
                "https://infra.spec.whatwg.org/#iteration-continue": { "displayText": "continue", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "continue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-continue" },
                "https://infra.spec.whatwg.org/#list": { "displayText": "list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "list", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list" },
                "https://infra.spec.whatwg.org/#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-append" },
                "https://infra.spec.whatwg.org/#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
                "https://infra.spec.whatwg.org/#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is empty", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "https://infra.spec.whatwg.org/#list-item": { "displayText": "item", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-item" },
                "https://infra.spec.whatwg.org/#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "https://infra.spec.whatwg.org/#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-remove" },
                "https://infra.spec.whatwg.org/#map-with-default": { "displayText": "with default", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "with default", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-with-default" },
                "https://infra.spec.whatwg.org/#ordered-set": { "displayText": "set", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "https://infra.spec.whatwg.org/#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#set-append" },
                "https://infra.spec.whatwg.org/#string": { "displayText": "string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "string", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string" },
                "https://infra.spec.whatwg.org/#string-length": { "displayText": "length", "export": true, "for_": ["string", "JavaScript string", "ASCII string", "isomorphic string", "scalar value string"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "length", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string-length" },
                "https://infra.spec.whatwg.org/#tuple": { "displayText": "tuple", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "tuple", "type": "dfn", "url": "https://infra.spec.whatwg.org/#tuple" },
                "https://tc39.github.io/ecma262/#sec-time-values-and-time-range": { "displayText": "time values", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecma262", "spec": "ecma262", "status": "anchor-block", "text": "time values", "type": "dfn", "url": "https://tc39.github.io/ecma262/#sec-time-values-and-time-range" },
                "https://url.spec.whatwg.org/#concept-basic-url-parser": { "displayText": "basic URL parser", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "basic url parser", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-basic-url-parser" },
                "https://url.spec.whatwg.org/#concept-host-parser": { "displayText": "host parser", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "host parser", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-host-parser" },
                "https://url.spec.whatwg.org/#concept-url": { "displayText": "URL", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "url", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url" },
                "https://url.spec.whatwg.org/#concept-url-equals": { "displayText": "equal", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "equal", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-equals" },
                "https://url.spec.whatwg.org/#concept-url-host": { "displayText": "host", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "host", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-host" },
                "https://url.spec.whatwg.org/#concept-url-origin": { "displayText": "origin", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "origin", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-origin" },
                "https://url.spec.whatwg.org/#url-equals-exclude-fragments": { "displayText": "exclude fragments", "export": true, "for_": ["url/equals"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "exclude fragments", "type": "dfn", "url": "https://url.spec.whatwg.org/#url-equals-exclude-fragments" },
                "https://w3c.github.io/ServiceWorker/#dfn-scope-url": { "displayText": "scope url", "export": true, "for_": ["service worker registration"], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "scope url", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#dfn-scope-url" },
                "https://w3c.github.io/ServiceWorker/#dfn-service-worker": { "displayText": "service worker", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "service worker", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker" },
                "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration": { "displayText": "service worker registration", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "service worker registration", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" },
                "https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit": { "displayText": "ExtendableEventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "ExtendableEventInit", "type": "dictionary", "url": "https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" },
                "https://w3c.github.io/ServiceWorker/#extendableevent": { "displayText": "ExtendableEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "ExtendableEvent", "type": "interface", "url": "https://w3c.github.io/ServiceWorker/#extendableevent" },
                "https://w3c.github.io/ServiceWorker/#fire-functional-event": { "displayText": "fire a functional event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "fire a functional event", "type": "dfn", "url": "https://w3c.github.io/ServiceWorker/#fire-functional-event" },
                "https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope": { "displayText": "ServiceWorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "ServiceWorkerGlobalScope", "type": "interface", "url": "https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" },
                "https://w3c.github.io/ServiceWorker/#serviceworkerregistration": { "displayText": "ServiceWorkerRegistration", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "ServiceWorkerRegistration", "type": "interface", "url": "https://w3c.github.io/ServiceWorker/#serviceworkerregistration" },
                "https://w3c.github.io/hr-time/#dom-domhighrestimestamp": { "displayText": "DOMHighResTimeStamp", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "DOMHighResTimeStamp", "type": "typedef", "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#SameObject": { "displayText": "SameObject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SameObject", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SameObject" },
                "https://webidl.spec.whatwg.org/#SecureContext": { "displayText": "SecureContext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "https://webidl.spec.whatwg.org/#a-new-promise": { "displayText": "a new promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a new promise", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "https://webidl.spec.whatwg.org/#a-promise-rejected-with": { "displayText": "a promise rejected with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise rejected with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-DOMString": { "displayText": "DOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "https://webidl.spec.whatwg.org/#idl-USVString": { "displayText": "USVString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "USVString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-frozen-array": { "displayText": "FrozenArray", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "FrozenArray", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
                "https://webidl.spec.whatwg.org/#idl-promise": { "displayText": "Promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "https://webidl.spec.whatwg.org/#idl-sequence": { "displayText": "sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "sequence", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "https://webidl.spec.whatwg.org/#reject": { "displayText": "reject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reject", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#reject" },
                "https://webidl.spec.whatwg.org/#resolve": { "displayText": "resolve", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "resolve", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#resolve" },
                "https://webidl.spec.whatwg.org/#securityerror": { "displayText": "SecurityError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecurityError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#securityerror" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>