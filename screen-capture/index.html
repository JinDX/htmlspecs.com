<!DOCTYPE html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="generator" content="ReSpec 35.1.1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>

    <link href="https://www.w3.org/TR/screen-capture/screenshare.css" rel="stylesheet" type="text/css">


    <title>屏幕捕获</title>


    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>

    <meta name="color-scheme" content="light">
    <meta name="revision" content="d864164856b535b65281de604de27647823e278f">
    <meta name="description"
        content="本文档定义了如何使用 getDisplayMedia 扩展 Media Capture API [GETUSERMEDIA]，将用户的显示器或其部分作为媒体流的来源。">

    <link rel="canonical" href="https://www.w3.org/TR/screen-capture/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
      "specStatus": "WD",
      "shortName": "screen-capture",
      "copyrightStart": "2015",
      "edDraftURI": "https://w3c.github.io/mediacapture-screen-share/",
      "editors": [
        {
          "name": "Jan-Ivar Bruaroey",
          "company": "Mozilla",
          "w3cid": 79152
        },
        {
          "name": "Elad Alon",
          "company": "Google",
          "w3cid": 118124
        }
      ],
      "formerEditors": [
        {
          "name": "Martin Thomson",
          "company": "Mozilla",
          "w3cid": 68503
        },
        {
          "name": "Keith Griffin",
          "company": "Cisco",
          "w3cid": 65606
        },
        {
          "name": "Suhas Nandakumar",
          "company": "Cisco",
          "w3cid": 48827
        },
        {
          "name": "Henrik Boström",
          "company": "Google",
          "w3cid": 96936
        }
      ],
      "group": "webrtc",
      "xref": [
        "html",
        "infra",
        "permissions",
        "permissions-policy",
        "dom",
        "mediacapture-streams",
        "webidl"
      ],
      "wgPublicList": "public-webrtc",
      "github": "https://github.com/w3c/mediacapture-screen-share/",
      "otherLinks": [
        {
          "key": "Participate",
          "data": [
            {
              "value": "Mailing list",
              "href": "https://lists.w3.org/Archives/Public/public-webrtc/"
            }
          ]
        }
      ],
      "gitRevision": "d864164856b535b65281de604de27647823e278f",
      "publishDate": "2024-06-27",
      "previousMaturity": "WD",
      "previousPublishDate": "2024-02-08",
      "publishISODate": "2024-06-27T00:00:00.000Z",
      "generatedSubtitle": "W3C Working Draft 27 June 2024"
    }</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body class="h-entry" data-cite="WEBIDL html infra permissions permissions-policy dom mediacapture-streams webidl">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"></a></p>
        <h1 id="title" class="title">屏幕捕获</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C工作草案</a> <time class="dt-published"
                datetime="2024-06-27">2024年6月27日</time></p>
        <details open="">
            <summary>关于本文档的更多细节</summary>
            <dl>
                <dt>此版本：</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2024/WD-screen-capture-20240627/">https://www.w3.org/TR/2024/WD-screen-capture-20240627/</a>
                </dd>
                <dt>最新发布版本：</dt>
                <dd>
                    <a href="https://www.w3.org/TR/screen-capture/">https://www.w3.org/TR/screen-capture/</a>
                </dd>
                <dt>最新编辑草案：</dt>
                <dd><a
                        href="https://w3c.github.io/mediacapture-screen-share/">https://w3c.github.io/mediacapture-screen-share/</a>
                </dd>
                <dt>历史记录：</dt>
                <dd><a
                        href="https://www.w3.org/standards/history/screen-capture/">https://www.w3.org/standards/history/screen-capture/</a>
                </dd>
                <dd><a href="https://github.com/w3c/mediacapture-screen-share/commits/">提交历史</a></dd>
                <dt>编辑者：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="79152"><span class="p-name fn">Jan-Ivar
                        Bruaroey</span>（<span class="p-org org h-org">Mozilla</span>）</dd>
                <dd class="editor p-author h-card vcard" data-editor-id="118124"><span class="p-name fn">Elad
                        Alon</span>（<span class="p-org org h-org">Google</span>）</dd>
                <dt>前编辑者：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="68503"><span class="p-name fn">Martin
                        Thomson</span>（<span class="p-org org h-org">Mozilla</span>）</dd>
                <dd class="editor p-author h-card vcard" data-editor-id="65606"><span class="p-name fn">Keith
                        Griffin</span>（<span class="p-org org h-org">思科</span>）</dd>
                <dd class="editor p-author h-card vcard" data-editor-id="48827"><span class="p-name fn">Suhas
                        Nandakumar</span>（<span class="p-org org h-org">思科</span>）</dd>
                <dd class="editor p-author h-card vcard" data-editor-id="96936"><span class="p-name fn">Henrik
                        Boström</span>（<span class="p-org org h-org">Google</span>）</dd>
                <dt>反馈：</dt>
                <dd><a href="https://github.com/w3c/mediacapture-screen-share/">GitHub
                        w3c/mediacapture-screen-share</a>（<a
                        href="https://github.com/w3c/mediacapture-screen-share/pulls/">拉取请求</a>，<a
                        href="https://github.com/w3c/mediacapture-screen-share/issues/new/choose">新问题</a>，<a
                        href="https://github.com/w3c/mediacapture-screen-share/issues/">打开的问题</a>）</dd>
                <dd><a
                        href="mailto:public-webrtc@w3.org?subject=%5Bscreen-capture%5D%20YOUR%20TOPIC%20HERE">public-webrtc@w3.org</a>，主题行
                    <kbd>[screen-capture] <em>… 消息主题 …</em></kbd> (<a rel="discussion"
                        href="https://lists.w3.org/Archives/Public/public-webrtc">存档</a>)
                </dd>
                <dt>参与</dt>
                <dd><a href="https://lists.w3.org/Archives/Public/public-webrtc/">邮件列表</a></dd>
            </dl>
        </details>

        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">版权所有</a> © 2015-2024 <a
                href="https://www.w3.org/">万维网联盟</a>。
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">责任</a>、<a
                href="https://www.w3.org/policies/#W3C_Trademarks">商标</a>及<a rel="license"
                href="https://www.w3.org/copyright/software-license-2023/" title="W3C软件和文档许可">宽松文档许可</a>规则适用。
        </p>
        <hr title="标题分隔符">
    </div>
    <section id="abstract" class="introductory">
        <h2>摘要</h2>
        <p>本文档定义了如何使用 <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-1"><code>getDisplayMedia</code></a> 扩展 Media Capture API
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="媒体捕获与流">GETUSERMEDIA</a></cite>]，将用户的显示器或其部分作为媒体流的来源。</p>
    </section>



    <section id="sotd" class="introductory">
        <h2>本文档状态</h2>
        <p><em>本节描述了本文档在发布时的状态。当前 <abbr title="World Wide Web Consortium">W3C</abbr> 出版物和本技术报告的最新修订版列表可在 <a
                    href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> 技术报告索引</a>
                中找到：https://www.w3.org/TR/。</em></p>
        <p>本文件尚未完成，内容可能会有重大变化。尽管鼓励进行早期实验，但因此不建议用于实际实现。</p>
        <p>
            本文档由 <a href="https://www.w3.org/groups/wg/webrtc">Web实时通信工作组</a> 作为工作草案发布，遵循 <a
                href="https://www.w3.org/policies/process/20231103/#recs-and-notes">推荐标准路线</a>。
        </p>
        <p>作为工作草案发布并不意味着得到了 <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可。</p>
        <p>这是一个草案文件，可能会随时更新、替换或被其他文件取代。在引用本文件时，不应将其视为最终定稿，而是工作中的进展。</p>
        <p>
            本文档由一个依据 <a href="https://www.w3.org/policies/patent-policy/"><abbr
                    title="World Wide Web Consortium">W3C</abbr> 专利政策</a> 运作的小组编写。<abbr
                title="World Wide Web Consortium">W3C</abbr> 维护了一份<a rel="disclosure"
                href="https://www.w3.org/groups/wg/webrtc/ipr">专利披露的公开列表</a>，与该小组的成果相关；该页面还包括有关披露专利的说明。任何知晓含有 <a
                href="https://www.w3.org/policies/patent-policy/#def-essential">必要权利要求</a> 专利的个人，必须依据 <a
                href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">W3C专利政策第6节</a> 披露相关信息。
        </p>
        <p>
            本文档受 <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">2023年11月03日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> 流程文件</a> 约束。
        </p>
    </section>

    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目录</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">摘要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">本文档状态</a></li>
            <li class="tocline"><a class="tocxref" href="#intro"><bdi class="secno">1. </bdi>介绍</a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>一致性</a></li>
            <li class="tocline"><a class="tocxref" href="#example"><bdi class="secno">3. </bdi>示例</a></li>
            <li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">4. </bdi>术语</a></li>
            <li class="tocline"><a class="tocxref" href="#capturing-displayed-media"><bdi class="secno">5.
                    </bdi>捕获显示的媒体</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#mediadevices-additions"><bdi class="secno">5.1
                            </bdi><code>MediaDevices</code> 新增功能</a></li>
                    <li class="tocline"><a class="tocxref" href="#hidden-display-surfaces"><bdi class="secno">5.2
                            </bdi>关闭和最小化的显示表面</a></li>
                    <li class="tocline"><a class="tocxref" href="#constraints"><bdi class="secno">5.3
                            </bdi>不受约束的显示表面选择</a></li>
                    <li class="tocline"><a class="tocxref" href="#constrainable-properties"><bdi class="secno">5.4
                            </bdi>捕获显示表面的可约束属性</a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#downscaling-and-frame-decimation"><bdi
                                        class="secno">5.4.1 </bdi>缩放和帧删减</a></li>
                            <li class="tocline"><a class="tocxref" href="#capturestartfocusbehavior"><bdi
                                        class="secno">5.4.2 </bdi><code>CaptureStartFocusBehavior</code></a></li>
                            <li class="tocline"><a class="tocxref" href="#capturecontroller"><bdi class="secno">5.4.3
                                    </bdi><code>CaptureController</code></a></li>
                            <li class="tocline"><a class="tocxref" href="#selfcapturepreferenceenum"><bdi
                                        class="secno">5.4.4 </bdi><code>SelfCapturePreferenceEnum</code></a></li>
                            <li class="tocline"><a class="tocxref" href="#systemaudiopreferenceenum"><bdi
                                        class="secno">5.4.5 </bdi><code>SystemAudioPreferenceEnum</code></a></li>
                            <li class="tocline"><a class="tocxref" href="#surfaceswitchingpreferenceenum"><bdi
                                        class="secno">5.4.6 </bdi><code>SurfaceSwitchingPreferenceEnum</code></a></li>
                            <li class="tocline"><a class="tocxref" href="#monitortypesurfacesenum"><bdi
                                        class="secno">5.4.7 </bdi><code>MonitorTypeSurfacesEnum</code></a></li>
                            <li class="tocline"><a class="tocxref" href="#displaymediastreamoptions"><bdi
                                        class="secno">5.4.8 </bdi>DisplayMediaStreamOptions</a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#extensions-to-mediatracksupportedconstraints"><bdi class="secno">5.4.9
                                    </bdi>扩展 <code>MediaTrackSupportedConstraints</code> </a></li>
                            <li class="tocline"><a class="tocxref" href="#extensions-to-mediatrackconstraintset"><bdi
                                        class="secno">5.4.10 </bdi>扩展 <code>MediaTrackConstraintSet</code> </a></li>
                            <li class="tocline"><a class="tocxref" href="#extensions-to-mediatracksettings"><bdi
                                        class="secno">5.4.11 </bdi>扩展 <code>MediaTrackSettings</code> </a></li>
                            <li class="tocline"><a class="tocxref" href="#extensions-to-mediatrackcapabilities"><bdi
                                        class="secno">5.4.12 </bdi>扩展 <code>MediaTrackCapabilities</code> </a></li>
                            <li class="tocline"><a class="tocxref" href="#displaycapturesurfacetype"><bdi
                                        class="secno">5.4.13 </bdi><code>DisplayCaptureSurfaceType</code></a></li>
                            <li class="tocline"><a class="tocxref" href="#cursorcaptureconstraint"><bdi
                                        class="secno">5.4.14 </bdi><code>CursorCaptureConstraint</code></a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#deviceId"><bdi class="secno">5.5 </bdi>设备标识符</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-intergration"><bdi class="secno">6. </bdi>权限集成</a>
            </li>
            <li class="tocline"><a class="tocxref" href="#feature-policy-integration"><bdi class="secno">7.
                    </bdi>权限策略集成</a></li>
            <li class="tocline"><a class="tocxref" href="#privacy-indicator-requirements"><bdi class="secno">8.
                    </bdi>隐私指示器要求</a></li>
            <li class="tocline"><a class="tocxref" href="#security-and-permissions"><bdi class="secno">9.
                    </bdi>安全性与权限</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#capturing-logical-or-visible-display-surfaces"><bdi
                                class="secno">9.1 </bdi>捕获逻辑或可见显示表面</a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#capturing-audio"><bdi class="secno">9.1.1
                                    </bdi>捕获音频</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#authorizing-display-capture"><bdi class="secno">9.2
                            </bdi>授权显示捕获</a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#active-user-consent"><bdi class="secno">9.2.1
                                    </bdi>主动用户同意</a></li>
                            <li class="tocline"><a class="tocxref" href="#elevated-permissions"><bdi class="secno">9.2.2
                                    </bdi>提升权限</a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#capabilities-depending-on-elevated-permissions"><bdi class="secno">9.2.3
                                    </bdi>依赖于提升权限的功能</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#feedback-and-interface-during-capture"><bdi
                                class="secno">9.3 </bdi>捕获期间的反馈与界面</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1
                            </bdi>规范性参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.2
                            </bdi>信息性参考文献</a></li>
                </ol>
            </li>
        </ol>
    </nav>


    <section class="informative" id="intro">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>介绍</h2><a class="self-link" href="#intro"
                aria-label="第1节的固定链接"></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>本文档描述了对媒体捕获API [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="媒体捕获和流">GETUSERMEDIA</a></cite>]
            的扩展，该扩展允许获取用户的显示屏或其部分，以视频轨道的形式呈现。在某些情况下，系统、应用程序或窗口音频也会被捕获，并以音频轨道的形式呈现。这支持多种应用，包括使用WebRTC进行屏幕共享 [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-webrtc"
                    title="WebRTC：浏览器中的实时通信">WEBRTC</a></cite>]。</p>

        <p>此功能具有重大安全隐患。使用此API访问用户显示信息的应用程序可能会访问来自其他来源的机密信息，如果这些信息受应用程序控制。这包括用户代理沙盒提供保护的内容。</p>

        <p>本文档主要关注视频和音频的捕获 [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="媒体捕获和流">GETUSERMEDIA</a></cite>]，但此处定义的一般机制可以扩展到其他类型的媒体，目前深度 [<cite><a class="bibref"
                    data-link-type="biblio" href="#bib-mediacapture-depth"
                    title="媒体捕获深度流扩展">MEDIACAPTURE-DEPTH</a></cite>] 已被定义。</p>
    </section>

    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x2-conformance"><bdi class="secno">2. </bdi>一致性</h2><a class="self-link" href="#conformance"
                aria-label="第2节的固定链接"></a>
        </div>
        <p>除标记为非规范性的章节外，本规范中的所有作者指南、图表、示例和注释均为非规范性。规范中其他内容均为规范性。</p>
        <p>
            文档中的关键字 <em class="rfc2119">MAY</em>、<em class="rfc2119">MUST</em>、<em class="rfc2119">MUST NOT</em> 和 <em
                class="rfc2119">SHOULD</em> 应按照 <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            中的描述进行解释
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="RFC 中指示要求级别的关键字">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-rfc8174" title="RFC 2119 关键字大小写歧义">RFC8174</a></cite>]，仅当它们全部大写时，如此处所示。
        </p>
        <p>本规范定义的合规性标准适用于单一产品：实现其所含接口的<dfn data-lt="user agents|user agent" id="dfn-user-agents" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">用户代理</dfn>。</p>

        <p>使用 ECMAScript [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                    title="ECMAScript 语言规范">ECMA-262</a></cite>] 实现本规范定义的 API 的实现，必须以与 Web IDL 规范中定义的 ECMAScript
            绑定一致的方式实现
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl"
                    title="Web IDL 标准">WEBIDL</a></cite>]，因为本规范使用了该规范和术语。</p>
    </section>

    <section id="example">
        <div class="header-wrapper">
            <h2 id="x3-example"><bdi class="secno">3. </bdi>示例</h2><a class="self-link" href="#example"
                aria-label="第3节的固定链接"></a>
        </div>

        <p>以下示例演示了使用本文档定义的 <code>navigator.mediaDevices.getDisplayMedia</code> 方法请求显示捕获。</p>

        <div class="example" id="example-1">
            <div class="marker">
                <a class="self-link" href="#example-1">示例<bdi> 1</bdi></a>
            </div>
            <pre class="highlight" aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">let</span> mediaStream = <span class="hljs-keyword">await</span> navigator.mediaDevices.getDisplayMedia({<span class="hljs-attr">video</span>:<span class="hljs-literal">true</span>});
      videoElement.srcObject = mediaStream;
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'无法获取屏幕捕获: '</span> + e);
    }</code></pre>
        </div>
    </section>


    <section id="terminology">
        <div class="header-wrapper">
            <h2 id="x4-terminology"><bdi class="secno">4. </bdi>术语</h2><a class="self-link" href="#terminology"
                aria-label="第4节的固定链接"></a>
        </div>

        <p>本文档使用了 <a data-link-type="idl" data-lt="MediaStream" data-type="interface"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>、
            <a data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
            和
            <a data-link-type="idl" data-lt="ConstrainablePattern" data-type="interface"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainablepattern"><code>ConstrainablePattern</code></a>
            的定义，来源于
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="媒体捕获和流">GETUSERMEDIA</a></cite>]。
        </p>

        <p>屏幕捕获涵盖了几种不同类型的基于屏幕的表面。统称为 <dfn class="export" data-lt="display surface|display surfaces" data-export=""
                id="dfn-display-surface" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">显示表面</dfn>，本文档定义了以下类型：
        </p>

        <ul>
            <li><dfn data-dfn-for="display surface" class="export" data-export="" id="dfn-monitor" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">监视器</dfn>
                <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-1">显示表面</a> 代表一个物理显示器。某些系统有多个
                <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                    id="ref-for-dfn-monitor-1">监视器</a>，可以单独识别。多个
                <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                    id="ref-for-dfn-monitor-2">监视器</a> 也可能聚合为一个逻辑
                <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                    id="ref-for-dfn-monitor-3">监视器</a>。聚合的
                <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-2">显示表面</a> 作为一个单一的
                <a data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                捕获。
            </li>

            <li><dfn data-dfn-for="display surface" class="export" data-export="" id="dfn-window" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">窗口</dfn> <a href="#dfn-display-surface"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-display-surface-3">
                    显示表面</a> 是一个单一的应用程序使用的连续表面。
            </li>

            <li><dfn data-dfn-for="display surface" class="export" data-export="" id="dfn-browser" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">浏览器</dfn>
                <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-4">显示表面</a> 是一个 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">浏览上下文</a>
                的渲染形式。
                这并不严格局限于 HTML [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                        title="HTML 标准">HTML</a></cite>] 文档，但本文档的讨论将涉及捕获 HTML 的一些特定问题。
            </li>
        </ul>

        <p>本文档区分了每种显示表面的两个变体：</p>

        <ul>
            <li><dfn class="export" data-export="" data-plurals="logical display surfaces"
                    id="dfn-logical-display-surface" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">逻辑显示表面</dfn> 是操作系统为应用程序提供的用于渲染的表面。</li>

            <li><dfn class="export" data-export="" id="dfn-visible-display-surface" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">可见显示表面</dfn> 是渲染到
                <a data-link-type="dfn|abstract-op" href="#dfn-logical-display-surface" class="internalDFN"
                    id="ref-for-dfn-logical-display-surface-1">逻辑显示表面</a> 上的一部分。
            </li>
        </ul>

        <p>某些操作系统允许不同应用程序的窗口在其他窗口上方完全或部分遮挡，因此
            <a href="#dfn-visible-display-surface" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-visible-display-surface-1">可见显示表面</a> 是
            <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-logical-display-surface-2">逻辑显示表面</a> 的严格子集。
        </p>

        <p><dfn class="export" data-export="" id="dfn-source-pixel-ratio" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">源像素比</dfn> 是 <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-display-surface-5">显示表面</a> 的 1/96 英寸除以其垂直像素大小。</p>

        <p><dfn class="event" data-dfn-type="event" id="dfn-devicechange" tabindex="0" aria-haspopup="dialog"
                data-export="">devicechange</dfn> 事件在 [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-getusermedia" title="媒体捕获和流">GETUSERMEDIA</a></cite>] 中定义。</p>
    </section>



    <section id="capturing-displayed-media">
        <div class="header-wrapper">
            <h2 id="x5-capturing-displayed-media"><bdi class="secno">5. </bdi>捕获显示的媒体</h2><a class="self-link"
                href="#capturing-displayed-media" aria-label="第5节的固定链接"></a>
        </div>

        <p>通过在 <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-2"><code>getDisplayMedia</code></a> 方法添加到
            <a data-link-type="idl" data-lt="MediaDevices" href="#dom-mediadevices" class="internalDFN"
                id="ref-for-dom-mediadevices-1"><code>MediaDevices</code></a> 接口，可以启用对显示媒体的捕获，
            该方法类似于 <a data-link-type="idl" data-lt="getUserMedia()" data-type="method"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
            ，但每次都是从由最终用户选择的一个显示设备获取媒体。
        </p>

        <section id="mediadevices-additions">
            <div class="header-wrapper">
                <h3 id="x5-1-mediadevices-additions"><bdi class="secno">5.1 </bdi><dfn id="dom-mediadevices"
                        data-idl="interface" data-title="MediaDevices" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn"><code>MediaDevices</code></dfn> 新增功能</h3><a
                    class="self-link" href="#mediadevices-additions" aria-label="第5.1节的固定链接"></a>
            </div>


            <pre class="idl def" id="webidl-1871707568"><span class="idlHeader"><a class="self-link" href="#webidl-1871707568">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-mediadevices-partial-1" data-title="MediaDevices">partial interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediadevices" id="ref-for-dom-mediadevices-2"><code>MediaDevices</code></a> {<span data-idl="" class="idlMethod" id="idl-def-mediadevices-getdisplaymedia-options" data-title="getDisplayMedia" data-dfn-for="MediaDevices"><span class="idlType">
    <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream">MediaStream</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediadevices-getdisplaymedia" id="ref-for-dom-mediadevices-getdisplaymedia-3"><code>getDisplayMedia</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-displaymediastreamoptions" class="internalDFN" id="ref-for-dom-displaymediastreamoptions-1"><code>DisplayMediaStreamOptions</code></a></span> <span class="idlParamName">options</span> = {});</span>
};</span></code></pre>

            <dl data-link-for="MediaDevices" data-dfn-for="MediaDevices" class="methods">
                <dt><dfn data-export="" data-dfn-type="method" id="dom-mediadevices-getdisplaymedia"
                        data-idl="operation" data-title="getDisplayMedia" data-dfn-for="MediaDevices"
                        data-type="Promise" data-lt="getDisplayMedia()|getDisplayMedia(options)"
                        data-local-lt="MediaDevices.getDisplayMedia|MediaDevices.getDisplayMedia()|getDisplayMedia"
                        tabindex="0" aria-haspopup="dialog"><code>getDisplayMedia</code></dfn>
                </dt>

                <dd>
                    <p>提示用户许可以实时捕获其显示屏。</p>

                    <p>用户代理<em class="rfc2119">必须</em>每次都让最终用户从所有可用选项中选择一个 <a data-link-type="dfn|abstract-op"
                            href="#dfn-display-surface" class="internalDFN" id="ref-for-dfn-display-surface-6">显示表面</a>
                        进行共享，并且<em class="rfc2119">不得</em>
                        使用 <a data-link-type="idl" data-lt="MediaTrackConstraints" data-type="dictionary"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints"><code>MediaTrackConstraints</code></a>
                        中的
                        <var>options</var>.<code>video</code> 或
                        <var>options</var>.<code>audio</code> 限制该选择。
                    </p>

                    <p>用户代理<em class="rfc2119">可以</em>使用 <a data-link-type="idl" data-lt="displaySurface"
                            href="#dfn-displaysurface" class="internalDFN"
                            id="ref-for-dfn-displaysurface-1"><code>displaySurface</code></a> 限制的存在及其值来影响向用户展示的源选择。
                        但用户代理<em class="rfc2119">必须</em>仍然为用户提供无限制的显示表面选择。强烈建议用户代理引导用户避免共享整个显示器，
                        因为这会对用户隐私构成 <a href="#security-and-permissions">风险</a>。</p>

                    <p>用户选择后，<a data-link-type="idl" data-lt="MediaTrackConstraints" data-type="dictionary"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints"><code>MediaTrackConstraints</code></a>
                        中的任何 <var>options</var>.<code>video</code> 或 <var>options</var>.<code>audio</code>
                        <em class="rfc2119">必须</em> 仅应用于用户选择的媒体。
                    </p>

                    <p>对于音频，用户代理<em class="rfc2119">可以</em>为最终用户提供可共享的音频源。哪些选项可供选择由用户代理决定，
                        而音频源不一定与视频源相同。音频源可以是某个 <a data-link-type="dfn|abstract-op" href="#dfn-window"
                            class="internalDFN" id="ref-for-dfn-window-1">窗口</a>、<a data-link-type="dfn|abstract-op"
                            href="#dfn-browser" class="internalDFN" id="ref-for-dfn-browser-1">浏览器</a>、整个系统音频或它们的任意组合。
                        与<code>getUserMedia()</code>不同，用户代理可以不返回音频，即使音频约束存在。如果用户代理知道在流的生命周期内不会共享音频，
                        它<em class="rfc2119">不得</em> 在结果流中包含音轨。用户代理<em class="rfc2119">可以</em>通过仅返回视频轨道接受音视频请求，
                        也<em class="rfc2119">可以</em>通过返回音轨和视频轨道来接受请求。用户代理<em class="rfc2119">必须</em>拒绝仅音频请求。</p>

                    <p>除源选择不同且需要用户选择外，<code>getDisplayMedia()</code> 与 <code>getUserMedia()</code>
                        的不同还在于 "<code>granted</code>" 权限无法持久化。</p>

                    <p>当调用 <code>getDisplayMedia()</code> 方法时，用户代理<em class="rfc2119">必须</em>执行以下步骤：</p>


                    <ol>
                        <li>
                            <p>令 <var>mediaDevices</var> 为 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this">this</a>。</p>
                        </li>

                        <li>
                            <p>令 <var>controller</var> 为 <var>options</var>.<code>controller</code>（若存在），否则为
                                <code>null</code>。
                            </p>
                        </li>

                        <li>
                            <p>如果 <var>controller</var> 不为 <code>null</code>，则运行以下步骤：</p>

                            <ol>
                                <li>
                                    <p>如果 <var>controller</var>.<a data-link-type="attribute" data-lt="[[IsBound]]"
                                            href="#dfn-isbound" class="internalDFN"
                                            id="ref-for-dfn-isbound-1"><code>[[IsBound]]</code></a> 为 <code>true</code>，
                                        则返回一个带有 <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        对象的 promise，
                                        该对象的 <a data-link-type="idl" data-type="attribute"
                                            href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                        属性值为 <a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>。
                                    </p>
                                </li>

                                <li>
                                    <p>将 <var>controller</var>.<a data-link-type="attribute" data-lt="[[IsBound]]"
                                            href="#dfn-isbound" class="internalDFN"
                                            id="ref-for-dfn-isbound-2"><code>[[IsBound]]</code></a> 设置为
                                        <code>true</code>。
                                    </p>
                                </li>
                            </ol>
                        </li>

                        <li>
                            <p>如果 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关的全局对象</a>
                                的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this">this</a> 没有
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">短暂激活</a>，则返回一个
                                带有 <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                    href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                对象的 promise，
                                该对象的 <a data-link-type="idl" data-type="attribute"
                                    href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                属性值为 <a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                                    href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>。
                            </p>
                        </li>

                        <li>
                            <p>令 <var>options</var> 为此方法的第一个参数。</p>
                        </li>

                        <li>
                            <p>令 <var>constraints</var> 为 <code>[</code><var>options</var>.<code>audio</code>,
                                <var>options</var>.<code>video</code><code>]</code>。
                            </p>
                        </li>

                        <li>
                            <p>如果 <code>constraints.video</code> 为 <code>false</code>，则返回一个带有新创建的 <a
                                    data-link-type="idl" data-lt="TypeError" data-type="exception"
                                    href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                                的 promise。</p>
                        </li>

                        <li>
                            <p>对于 <var>constraints</var> 中的每个值为字典的现有成员 <var>CS</var>，运行以下步骤：</p>

                            <ol>
                                <li>
                                    <p>如果 <var>CS</var> 包含名为 <code>advanced</code> 的成员，则返回一个带有新创建的 <a
                                            data-link-type="idl" data-lt="TypeError" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                                        的
                                        promise。</p>
                                </li>

                                <li>
                                    <p>如果 <var>CS</var> 包含一个成员，其名称指定了适用于 <a data-link-type="dfn|abstract-op"
                                            href="#dfn-display-surface" class="internalDFN"
                                            id="ref-for-dfn-display-surface-8">显示表面</a> 的
                                        可约束属性，并且其值是包含名为 <code>min</code> 或 <code>exact</code> 成员的字典，则返回一个带有新创建的
                                        <a data-link-type="idl" data-lt="TypeError" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                                        的 promise。
                                    </p>
                                </li>

                                <li>
                                    <p>如果 <var>CS</var> 包含一个成员，其名称指定了适用于 <a data-link-type="dfn|abstract-op"
                                            href="#dfn-display-surface" class="internalDFN"
                                            id="ref-for-dfn-display-surface-9">显示表面</a> 的
                                        可约束属性，并且其值是包含名为 <code>max</code> 的成员的字典，并且该成员的值小于可约束属性的
                                        <a data-link-type="dfn|abstract-op" href="#dfn-floor-value" class="internalDFN"
                                            id="ref-for-dfn-floor-value-1">下限值</a>，则令 <var>failedConstraint</var>
                                        为该成员的名称，令
                                        <var>message</var> 为 <code>undefined</code> 或人类可读的消息，并返回一个带有通过调用
                                        <code>OverconstrainedError(<var>failedConstraint</var>, <var>message</var>)</code>
                                        创建的新
                                        <code>OverconstrainedError</code> 的 promise。
                                    </p>
                                </li>
                            </ol>
                        </li>


                        <li>
                            <p>令 <var>requestedMediaTypes</var> 为 <var>constraints</var> 中的媒体类型集合，且这些类型的值为字典或
                                <code>true</code>。
                            </p>
                        </li>

                        <li>
                            <p>如果 <a data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">当前设置对象</a>的
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联的
                                    <code>Document</code></a> 不是 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全激活</a>的，或没有
                                <a href="https://html.spec.whatwg.org/multipage/#gains-focus">焦点</a>，则返回带有 <a
                                    data-link-type="idl" data-lt="DOMException" data-type="interface"
                                    href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                对象的 promise，
                                该对象的 <a data-link-type="idl" data-type="attribute"
                                    href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                属性值为 <a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                                    href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>。
                            </p>
                        </li>

                        <li>
                            <p>令 <var>p</var> 为一个新的 promise。</p>
                        </li>

                        <li>
                            <p>按以下步骤并行运行：</p>

                            <ol>
                                <li>
                                    <p>对于 <var>requestedMediaTypes</var> 中的每个媒体类型 <var>T</var>：</p>

                                    <ol>
                                        <li>
                                            <p>如果没有类型为 <var>T</var> 的来源，则用带有 <a data-link-type="idl"
                                                    data-lt="DOMException" data-type="interface"
                                                    href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                                对象的 promise 拒绝 <var>p</var>，该对象的 <a data-link-type="idl"
                                                    data-type="attribute"
                                                    href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                                属性值为 <a data-link-type="idl" data-lt="NotFoundError"
                                                    data-type="exception"
                                                    href="https://webidl.spec.whatwg.org/#notfounderror"><code>NotFoundError</code></a>。
                                            </p>
                                        </li>

                                        <li>
                                            <p>读取当前浏览上下文中获取类型 <var>T</var> 的来源的 <a data-link-type="dfn|abstract-op"
                                                    data-type="dfn"
                                                    href="https://www.w3.org/TR/permissions/#dfn-permission-state">权限状态</a>。
                                                如果权限状态是 "<a data-link-type="idl" data-type="enum-value"
                                                    href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>"，则跳转到标记为
                                                <em>PermissionFailure</em> 的步骤。
                                            </p>
                                        </li>
                                    </ol>
                                </li>

                                <li>
                                    <p>可选地，例如基于先前建立的用户偏好、出于安全原因或由于平台限制，跳转到标记为 <em>Permission Failure</em> 的步骤。</p>
                                </li>

                                <li>
                                    <p><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://www.w3.org/TR/permissions/#dfn-prompt-the-user-to-choose">提示用户选择</a>
                                        一个显示设备，用于 <a data-link-type="idl" data-lt="PermissionDescriptor"
                                            data-type="dictionary"
                                            href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor"><code>PermissionDescriptor</code></a>，其
                                        <a data-link-type="idl" data-type="dict-member"
                                            href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor-name"><code>name</code></a>
                                        设置为 "display-capture"，结果是提供的一组媒体。
                                    </p>

                                    <p>提供的媒体 <em class="rfc2119">MUST</em> 包含一个视频轨道。</p>

                                    <p>提供的媒体 <em class="rfc2119">MUST</em> 至多包含一个音频轨道。如果在 <var>requestedMediaTypes</var>
                                        中没有指定音频，或其值为 <code>false</code>，则该音频轨道 <em class="rfc2119">MUST NOT</em> 被包含。
                                    </p>

                                    <p>选择的设备 <em class="rfc2119">MUST</em> 由用户确定。一旦选择了来源，<a data-link-type="idl"
                                            data-lt="MediaStreamTrack" data-type="interface"
                                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                                        的来源 <em class="rfc2119">MUST NOT</em> 改变，除非用户通过其与用户代理的交互允许。</p>

                                    <p>鼓励用户代理警告用户不要共享 <a data-link-type="dfn|abstract-op" href="#dfn-browser"
                                            class="internalDFN" id="ref-for-dfn-browser-2">浏览器</a> 显示设备或 <a
                                            data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                            id="ref-for-dfn-monitor-5">显示器</a>
                                        显示设备，尤其是在浏览器窗口可见的情况下，或基于这些共享代表了显著更高的风险尝试阻止选择这些设备。</p>

                                    <p>如果请求的结果是 "<a data-link-type="idl" data-type="enum-value"
                                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"，
                                        那么对于每个为提供的媒体提供来源的设备，使用设备的稳定且私有的 ID（<var>deviceId</var>），
                                        设置 [[devicesLiveMap]]<var>[deviceId]</var> 为 <code>true</code>，如果它还没有设置为
                                        <code>true</code>，并且将 [[devicesAccessibleMap]]<var>[deviceId]</var> 设置为
                                        <code>true</code>。
                                    </p>

                                    <p>用户代理 <em class="rfc2119">MUST NOT</em> 存储 "<a data-link-type="idl"
                                            data-type="enum-value"
                                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"
                                        权限条目。</p>

                                    <p>如果结果是 "<a data-link-type="idl" data-type="enum-value"
                                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>"，
                                        则跳转到标记为 <em>Permission Failure</em> 的步骤。如果用户从未响应，则该算法在此步骤停滞。</p>

                                    <p>如果用户授予了权限但由于硬件错误（如操作系统/程序/网页锁定）阻止访问，用带有新 <a data-link-type="idl"
                                            data-lt="DOMException" data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        对象的 promise 拒绝 <var>p</var>，该对象的 <a data-link-type="idl" data-type="attribute"
                                            href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                        属性值为 <a data-link-type="idl" data-lt="NotReadableError" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#notreadableerror"><code>NotReadableError</code></a>，并中止这些步骤。
                                    </p>

                                    <p>如果结果是 "<a data-link-type="idl" data-type="enum-value"
                                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"，
                                        但设备访问由于上述原因以外的任何原因失败，用带有新 <a data-link-type="idl" data-lt="DOMException"
                                            data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        对象的 promise 拒绝 <var>p</var>，该对象的 <a data-link-type="idl" data-type="attribute"
                                            href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                        属性值为 <a data-link-type="idl" data-lt="AbortError" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>，并中止这些步骤。
                                    </p>
                                </li>

                                <li>
                                    <p>令 <var>stream</var> 为 <a data-link-type="idl" data-lt="MediaStream"
                                            data-type="interface"
                                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                                        对象。</p>
                                </li>

                                <li>
                                    <p>对于用户授予权限的每个来源，执行以下步骤：</p>
                                    <ol>
                                        <li>
                                            <p>令 <var>track</var> 为通过 <a data-link-type="dfn|abstract-op"
                                                    data-lt="create a MediaStreamTrack" data-type="dfn"
                                                    href="https://www.w3.org/TR/mediacapture-streams/#dfn-create-a-mediastreamtrack">创建
                                                    MediaStreamTrack</a>
                                                的结果，使用 <var>source</var> 和 <var>mediaDevices</var>。</p>
                                        </li>
                                        <li>
                                            <p>将 <var>track</var> 添加到 <var>stream</var> 的轨道集中。</p>
                                        </li>
                                        <li>
                                            <p><a data-link-type="dfn|abstract-op" data-type="dfn"
                                                    href="https://www.w3.org/TR/mediacapture-streams/#dfn-tie-track-source-to-mediadevices">将轨道来源与
                                                    MediaDevices 绑定</a>，使用 <var>source</var> 和 <var>mediaDevices</var>。
                                            </p>
                                        </li>
                                    </ol>
                                </li>

                                <li>
                                    <p>对 <var>stream</var> 中的所有轨道运行 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://www.w3.org/TR/mediacapture-streams/#dfn-applyconstraints-algorithm">应用约束算法</a>。
                                        如果失败，令 <var>failedConstraint</var> 为失败的算法结果，令 <var>message</var> 为
                                        <code>undefined</code> 或信息性的人类可读消息，
                                        然后用新创建的 <code>OverconstrainedError</code> 拒绝 <var>p</var>，通过调用
                                        <code>OverconstrainedError(<var>failedConstraint</var>, <var>message</var>)</code>。
                                    </p>
                                </li>

                                <li>
                                    <p>此 <a data-link-type="idl" data-lt="getDisplayMedia()"
                                            href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                                            id="ref-for-dom-mediadevices-getdisplaymedia-6"><code>getDisplayMedia</code></a><code>()</code>
                                        调用现在被认为已经产生了一个新的 <dfn data-plurals="capture-sessions" id="dfn-capture-session"
                                            tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">捕获会话</dfn>。</p>
                                </li>

                                <li>如果 <var>controller</var> 不为 <code>null</code>，执行以下步骤：

                                    <ol>
                                        <li>
                                            <p>将 <var>controller</var>.<a data-link-type="attribute"
                                                    data-lt="[[Source]]" href="#dfn-source" class="internalDFN"
                                                    id="ref-for-dfn-source-1"><code>[[Source]]</code></a> 设置为
                                                <var>stream</var> 的视频轨道的 <a
                                                    href="https://www.w3.org/TR/mediacapture-streams/#dfn-source-0">[[Source]]</a>。
                                            </p>
                                        </li>

                                        <li>
                                            <p>将 <var>controller</var>.<a data-link-type="attribute"
                                                    data-lt="[[DisplaySurfaceType]]" href="#dfn-displaysurfacetype"
                                                    class="internalDFN"
                                                    id="ref-for-dfn-displaysurfacetype-1"><code>[[DisplaySurfaceType]]</code></a>
                                                设置为 <var>stream</var> 的视频轨道的 <a data-link-type="idl"
                                                    data-lt="DisplayCaptureSurfaceType"
                                                    href="#dom-displaycapturesurfacetype" class="internalDFN"
                                                    id="ref-for-dom-displaycapturesurfacetype-1"><code>DisplayCaptureSurfaceType</code></a>。
                                            </p>
                                        </li>

                                        <li>
                                            <p>排队一个任务，以在 <var>controller</var> 上运行 <a data-link-type="dfn|abstract-op"
                                                    href="#dfn-finalize-focus-decision-algorithm" class="internalDFN"
                                                    id="ref-for-dfn-finalize-focus-decision-algorithm-1">最终确定焦点决策算法</a>。
                                            </p>
                                        </li>
                                    </ol>
                                </li>

                                <li>
                                    <p><a data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">解析</a>
                                        <var>p</var> 并中止这些步骤。
                                    </p>
                                </li>

                                <li>
                                    <p><em>Permission Failure</em>：用新 <a data-link-type="idl" data-lt="DOMException"
                                            data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        对象的 promise 拒绝 <var>p</var>，该对象的 <a data-link-type="idl" data-type="attribute"
                                            href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                        属性值为 <a data-link-type="idl" data-lt="NotAllowedError" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>。
                                    </p>
                                </li>
                            </ol>
                        </li>

                        <li>
                            <p>返回 <var>p</var>。</p>
                        </li>
                    </ol>


                    <p>当顶级文档失去焦点时，按以下步骤对该文档及其嵌套的 <a data-link-type="idl" data-lt="CaptureController"
                            href="#dom-capturecontroller" class="internalDFN"
                            id="ref-for-dom-capturecontroller-1"><code>CaptureController</code></a> 对象运行这些操作：</p>

                    <ol>
                        <li>
                            <p>如果 <a data-link-type="attribute" data-lt="[[Source]]" href="#dfn-source"
                                    class="internalDFN" id="ref-for-dfn-source-2">
                                    <code>[[Source]]</code></a> 是 <code>undefined</code>，则中止这些步骤。</p>
                        </li>

                        <li>
                            <p>将 <a data-link-type="attribute" data-lt="[[FocusChangeDisabled]]"
                                    href="#dfn-focuschangedisabled" class="internalDFN"
                                    id="ref-for-dfn-focuschangedisabled-1"><code>[[FocusChangeDisabled]]</code></a> 设置为
                                <code>true</code>。
                            </p>
                        </li>
                    </ol>

                    <p><a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agents-1">用户代理</a> <em class="rfc2119">不得</em> 捕获部分透明的已捕获 <a
                            href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-display-surface-10">显示表面</a> 背后的内容。</p>

                    <p>对于新创建的 <a data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack">
                            <code>MediaStreamTrack</code></a>，<a href="#dfn-user-agents" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-user-agents-2">用户代理</a> <em class="rfc2119">不得</em>
                        捕获显示给用户的提示。</p>

                    <p>未当前显示在屏幕上的信息 <em class="rfc2119">应当</em> 在捕获中被模糊处理，除非应用程序已被特别授权访问该内容（例如，通过 <a
                            href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-elevated-permissions-1">
                            提升的权限</a> 等方式）。</p>

                    <p><a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agents-3">用户代理</a> <em class="rfc2119">不得</em> 在没有 <a
                            href="#dfn-active-user-consent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-active-user-consent-1">用户主动同意</a> 的情况下共享音频，例如当捕获一个 <a
                            data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                            id="ref-for-dfn-window-2">窗口</a> 的视频伴随捕获整个系统的音频，包括与该窗口无关的应用程序时。</p>
                </dd>
            </dl>
        </section>


        <section id="closed-and-minimized-display-surfaces">
            <div class="header-wrapper">
                <h3 id="hidden-display-surfaces"><bdi class="secno">5.2 </bdi>关闭和最小化的显示表面</h3><a class="self-link"
                    href="#hidden-display-surfaces" aria-label="Permalink for Section 5.2"></a>
            </div>

            <p>共享的<a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-11">显示表面</a>可能会因操作系统或用户代理采取的操作而暂时或永久变得无法访问。<a
                    href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-12">显示表面</a>被视为不可访问的具体情况不在本规范范围内，但示例<em class="rfc2119">可能</em>包括<a
                    data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                    id="ref-for-dfn-monitor-6">监视器</a>断开连接、<a data-link-type="dfn|abstract-op" href="#dfn-window"
                    class="internalDFN" id="ref-for-dfn-window-3">窗口</a>或<a data-link-type="dfn|abstract-op"
                    href="#dfn-browser" class="internalDFN" id="ref-for-dfn-browser-3">浏览器</a>关闭或最小化，或由于电话上的来电导致。</p>

            <div class="note" role="note" id="issue-container-generatedID">
                <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>注意</span></div>
                <p class="">用户代理最终决定在此上下文中不可访问的含义，但鼓励仅为有外部原因的中断触发静音和取消静音事件。</p>
            </div>

            <p>当<a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-13">显示表面</a>进入非永久的不可访问状态时，用户代理<em class="rfc2119">必须</em>排队一个任务，
                该任务将相应媒体轨道的<a data-link-type="dfn|abstract-op" data-lt="set a track's muted state" data-type="dfn"
                    href="https://www.w3.org/TR/mediacapture-streams/#set-track-muted">静音状态</a>
                设置为<code>true</code>。</p>

            <p>当<a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-14">显示表面</a>退出不可访问状态并变得可访问时，用户代理<em class="rfc2119">必须</em>排队一个任务，
                该任务将相应媒体轨道的<a data-link-type="dfn|abstract-op" data-lt="set a track's muted state" data-type="dfn"
                    href="https://www.w3.org/TR/mediacapture-streams/#set-track-muted">静音状态</a>
                设置为<code>false</code>。</p>

            <p>当<a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-15">显示表面</a>进入永久不可访问状态时（例如源<a data-link-type="dfn|abstract-op"
                    href="#dfn-window" class="internalDFN" id="ref-for-dfn-window-4">窗口</a>关闭），用户代理<em
                    class="rfc2119">必须</em>排队一个任务，该任务将相应的媒体轨道<a data-link-type="dfn|abstract-op" data-lt="ended"
                    data-type="dfn" href="https://www.w3.org/TR/mediacapture-streams/#track-ended">结束</a>。</p>

            <p>刚刚由<a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                    id="ref-for-dom-mediadevices-getdisplaymedia-7"><code>getDisplayMedia</code></a>
                返回的流<em class="rfc2119">可能</em>包含默认静音的轨道。属于同一流的音频和视频轨道<em class="rfc2119">可以</em>独立静音或取消静音。</p>
        </section>

        <section id="unconstrained-display-surface-selection">
            <div class="header-wrapper">
                <h3 id="constraints"><bdi class="secno">5.3 </bdi>不受约束的显示表面选择</h3><a class="self-link"
                    href="#constraints" aria-label="Permalink for Section 5.3"></a>
            </div>

            <p class="fingerprint">不接受源选择的约束意味着<a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia"
                    class="internalDFN" id="ref-for-dom-mediadevices-getdisplaymedia-8"><code>getDisplayMedia</code></a>
                仅提供指纹信息，暴露是否存在音频、视频或音视频显示源。<img alt="（这是一个指纹矢量。）"
                    src="https://www.w3.org/TR/screen-capture/images/fingerprint.png" width="15" height="21"></p>

            <p>请注意，接受<a data-link-type="idl" data-lt="displaySurface" href="#dfn-displaysurface" class="internalDFN"
                    id="ref-for-dfn-displaysurface-2"><code>displaySurface</code></a>约束不会限制用户选择。</p>
        </section>



        <section id="constrainable-properties-for-captured-display-surfaces">
            <div class="header-wrapper">
                <h3 id="constrainable-properties"><bdi class="secno">5.4 </bdi>捕获显示表面的可约束属性</h3><a class="self-link"
                    href="#constrainable-properties" aria-label="Permalink for Section 5.4"></a>
            </div>

            <p>在<a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                    id="ref-for-dom-mediadevices-getdisplaymedia-9"><code>getDisplayMedia</code></a>中，约束的作用与在
                <a data-link-type="idl" data-lt="getUserMedia()" data-type="method"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
                中不同。它们不用于发现，而是在用户选择之后应用。
            </p>

            <p>本节定义了哪些约束适用于<a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                    id="ref-for-dom-mediadevices-getdisplaymedia-10"><code>getDisplayMedia</code></a>轨道；除非在此列出，否则
                <a data-link-type="idl" data-lt="getUserMedia()" data-type="method"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>中定义的约束不适用。
            </p>

            <p>其中一些约束启用了用户代理处理功能，例如降尺度和帧减损，以及显示特定的功能。其他约束允许观察用户选择的<a href="#dfn-display-surface" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-display-surface-16">显示表面</a>的固有属性，如功能和设置。
            </p>

            <p>以下新的和现有的<a data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                <a href="https://www.w3.org/TR/mediacapture-streams/#constrainable-properties">可约束属性</a>被定义为适用于用户选择的视频<a
                    href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-17">显示表面</a>，并具有以下行为：
            </p>


            <table class="simple">
                <thead>
                    <tr>
                        <th>属性名称</th>
                        <th>类型</th>
                        <th>行为</th>
                    </tr>
                </thead>

                <tbody>
                    <tr id="def-constraint-width">
                        <td><dfn class="export" data-export="" id="dfn-width" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">width</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="unsigned long" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><code>unsigned long</code></a>
                        </td>
                        <td>以像素为单位的宽度。作为能力，最大值<em class="rfc2119">必须</em>反映<a href="#dfn-display-surface"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-display-surface-18">显示表面</a>的宽度，最小值<em
                                class="rfc2119">必须</em>反映用户代理通过缩放提供的最小保持宽高比的表示。</td>
                    </tr>

                    <tr id="def-constraint-height">
                        <td><dfn class="export" data-export="" id="dfn-height" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">height</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="unsigned long" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><code>unsigned long</code></a>
                        </td>
                        <td>以像素为单位的高度。作为能力，最大值<em class="rfc2119">必须</em>反映<a href="#dfn-display-surface"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-display-surface-19">显示表面</a>的高度，最小值<em
                                class="rfc2119">必须</em>反映用户代理通过缩放提供的最小保持宽高比的表示。</td>
                    </tr>

                    <tr id="def-constraint-frameRate">
                        <td><dfn class="export" data-export="" id="dfn-framerate" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">frameRate</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="double" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-double"><code>double</code></a></td>
                        <td>帧率（每秒帧数）。作为能力，最大值<em class="rfc2119">必须</em>反映<a href="#dfn-display-surface"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-display-surface-20">显示表面</a>的帧率，最小值<em
                                class="rfc2119">必须</em>反映用户代理通过帧减损提供的最低帧率。</td>
                    </tr>

                    <tr id="def-constraint-aspect">
                        <td><dfn class="export" data-export="" id="dfn-aspectratio" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">aspectRatio</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="double" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-double"><code>double</code></a></td>
                        <td>精确的宽高比（宽度除以高度，以小数点后十位表示的双精度数值）或宽高比范围。作为设置，表示<code>width / height</code>。作为能力，最小值和最大值<em
                                class="rfc2119">必须</em>为当前设置值，使该属性从应用程序视角看不可变。</td>
                    </tr>

                    <tr id="def-constraint-resizeMode">
                        <td><dfn class="export" data-export="" id="dfn-resizemode" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">resizeMode</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="DOMString" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></td>
                        <td>该字符串是<a data-link-type="idl" data-lt="VideoResizeModeEnum" data-type="enum"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-videoresizemodeenum"><code>VideoResizeModeEnum</code></a>的成员之一。作为设置，"<a
                                data-link-type="idl" data-type="enum-value"
                                href="https://www.w3.org/TR/mediacapture-streams/#idl-def-VideoResizeModeEnum.user"><code>none</code></a>"表示<a
                                data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>包含呈现显示所有细节所需的所有比特，如果<code><a href="#dfn-source-pixel-ratio" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-source-pixel-ratio-1">source pixel ratio</a>&gt; 1</code>，则<code>width</code>和<code>height</code>比终端用户视角下的显示外观更大。而"<a
                                data-link-type="idl" data-type="enum-value"
                                href="https://www.w3.org/TR/mediacapture-streams/#idl-def-VideoResizeModeEnum.right"><code>crop-and-scale</code></a>"表示<a
                                data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>包含<a
                                href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-display-surface-21">显示表面</a>的按比例缩小的表示，但未裁剪。作为能力，"<a data-link-type="idl"
                                data-type="enum-value"
                                href="https://www.w3.org/TR/mediacapture-streams/#idl-def-VideoResizeModeEnum.user"><code>none</code></a>"和"<a
                                data-link-type="idl" data-type="enum-value"
                                href="https://www.w3.org/TR/mediacapture-streams/#idl-def-VideoResizeModeEnum.right"><code>crop-and-scale</code></a>"<em
                                class="rfc2119">必须</em>都存在。</td>
                    </tr>

                    <tr id="def-constraint-displaySurface">
                        <td><dfn class="export" data-export="" id="dfn-displaysurface" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">displaySurface</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="DOMString" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></td>
                        <td>此字符串是<a data-link-type="idl" data-lt="DisplayCaptureSurfaceType"
                                href="#dom-displaycapturesurfacetype" class="internalDFN"
                                id="ref-for-dom-displaycapturesurfacetype-2"><code>DisplayCaptureSurfaceType</code></a>的成员之一。
                            作为设置，表示正在捕获的<a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                class="internalDFN" id="ref-for-dfn-display-surface-22">显示表面</a>的类型。作为能力，设置值<em
                                class="rfc2119">必须</em>是唯一的值，使得该属性从应用程序视角看不可变。作为约束，值向用户代理指示应用程序偏好特定的<a
                                data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                id="ref-for-dfn-display-surface-23">显示表面</a>类型；用户代理<em
                                class="rfc2119">可以</em>根据该偏好重新排序提供给用户的选项。此约束在其他用途上被忽略，因此不会产生任何副作用（例如成为<code>OverconstrainedError</code>的原因）。
                        </td>
                    </tr>

                    <tr id="def-constraint-logicalSurface">
                        <td><dfn class="export" data-export="" id="dfn-logicalsurface" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">logicalSurface</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="boolean" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></td>
                        <td>作为设置，值为<code>true</code>表示捕获<a data-link-type="dfn|abstract-op"
                                href="#dfn-logical-display-surface" class="internalDFN"
                                id="ref-for-dfn-logical-display-surface-3">逻辑显示表面</a>，而值为<code>false</code>表示捕获<a
                                data-link-type="dfn|abstract-op" href="#dfn-visible-display-surface" class="internalDFN"
                                id="ref-for-dfn-visible-display-surface-2">可见显示表面</a>。作为能力，此相同的值<em
                                class="rfc2119">必须</em>是唯一的值，使该属性从应用程序视角看不可变。</td>
                    </tr>

                    <tr id="def-constraint-cursor">
                        <td><dfn class="export" data-export="" id="dfn-cursor" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">cursor</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="DOMString" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></td>
                        <td>此字符串是<a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-1"><code>CursorCaptureConstraint</code></a>的成员之一。作为设置，表示捕获的<a
                                data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                id="ref-for-dfn-display-surface-24">显示表面</a>中光标是否包括以及何时包括。作为能力，用户代理<em
                                class="rfc2119">必须</em>仅包含其能够支持的从<a data-link-type="idl"
                                data-lt="CursorCaptureConstraint" href="#dom-cursorcaptureconstraint"
                                class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-2"><code>CursorCaptureConstraint</code></a>获取的值集。
                        </td>
                    </tr>
                </tbody>
            </table>



            <p>以下新属性和已有的<a data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                <a href="https://www.w3.org/TR/mediacapture-streams/#constrainable-properties">可约束属性</a>
                被定义为适用于用户选择的音频源，具有以下行为：
            </p>

            <table class="simple">
                <thead>
                    <tr>
                        <th>属性名称</th>
                        <th>类型</th>
                        <th>行为</th>
                    </tr>
                </thead>

                <tbody>
                    <tr id="def-constraint-restrictOwnAudio">
                        <td><dfn class="export" data-export="" id="dfn-restrictownaudio" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">restrictOwnAudio</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="boolean" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></td>
                        <td>
                            <p>作为设置，此值指示用户代理是否正在对源应用<a href="#dfn-own-audio-restriction" class="internalDFN"
                                    data-link-type="dfn" id="ref-for-dfn-own-audio-restriction-1">自有音频限制</a>。</p>

                            <p>作为约束，此属性可以被约束，结果是启用或禁用<a href="#dfn-own-audio-restriction" class="internalDFN"
                                    data-link-type="dfn" id="ref-for-dfn-own-audio-restriction-2">自有音频限制</a>。</p>

                            <p>当应用<dfn id="dfn-own-audio-restriction" tabindex="0" aria-haspopup="dialog"
                                    data-dfn-type="dfn">自有音频限制</dfn>时，用户代理<em class="rfc2119">必须</em>尝试从正在捕获的音频中移除由执行
                                <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                                    id="ref-for-dom-mediadevices-getdisplaymedia-11"><code>getDisplayMedia</code></a>的文档生成的任何音频。如果用户代理无法通过处理移除音频，它<em
                                    class="rfc2119">应</em>通过排除文档的音频不被捕获来移除该音频。如果这导致没有音频被捕获，用户代理<em
                                    class="rfc2119">必须</em>保持音轨静音，直到它能够再次捕获音频。
                            </p>
                        </td>
                    </tr>

                    <tr id="def-constraint-suppressLocalAudioPlayback">
                        <td><dfn class="export" data-export="" id="dfn-suppresslocalaudioplayback" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">suppressLocalAudioPlayback</dfn>
                        </td>
                        <td><a data-link-type="idl" data-lt="boolean" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></td>
                        <td>
                            <p>作为设置，此值指示应用程序是否指示用户代理对源应用<a href="#dfn-local-audio-playback-suppression"
                                    class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-local-audio-playback-suppression-1">本地音频回放抑制</a>。</p>

                            <p>作为约束，该值仅在用户选择捕获<a data-link-type="dfn|abstract-op" href="#dfn-browser"
                                    class="internalDFN" id="ref-for-dfn-browser-4">浏览器</a><a
                                    data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-26">显示表面</a>时才有意义。在这种情况下，值为<code>true</code>表示用户代理<em
                                    class="rfc2119">应</em>对捕获的<a data-link-type="dfn|abstract-op" href="#dfn-browser"
                                    class="internalDFN" id="ref-for-dfn-browser-5">浏览器</a><a
                                    data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-27">显示表面</a>执行<a
                                    href="#dfn-local-audio-playback-suppression" class="internalDFN"
                                    data-link-type="dfn"
                                    id="ref-for-dfn-local-audio-playback-suppression-2">本地音频回放抑制</a>。</p>

                            <p>当应用<dfn id="dfn-local-audio-playback-suppression" tabindex="0" aria-haspopup="dialog"
                                    data-dfn-type="dfn">本地音频回放抑制</dfn>时，用户代理<em
                                    class="rfc2119">应</em>停止将音频传递到本地扬声器，但该音频<em class="rfc2119">必须</em>仍被任何正在进行的音频捕获<a
                                    data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                                    id="ref-for-dfn-capture-session-1">捕获会话</a>捕获。此抑制<em
                                    class="rfc2119">不得</em>被捕获的文档感知。此外，捕获的文档只能观察是否应用<a
                                    href="#dfn-suppresslocalaudioplayback" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-suppresslocalaudioplayback-1">suppressLocalAudioPlayback</a>，而不是抑制是否生效（即不能观察用户是否在用户代理中覆盖了此设置）。
                            </p>

                            <p>当<a data-link-type="dfn|abstract-op" href="#dfn-browser" class="internalDFN"
                                    id="ref-for-dfn-browser-6">浏览器</a><a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-28">显示表面</a>同时被多个捕获时，只要至少有一个活动的音频捕获<a
                                    data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                                    id="ref-for-dfn-capture-session-2">捕获会话</a>将<a
                                    href="#dfn-suppresslocalaudioplayback" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-suppresslocalaudioplayback-2">suppressLocalAudioPlayback</a>约束为<code>true</code>，<a
                                    href="#dfn-local-audio-playback-suppression" class="internalDFN"
                                    data-link-type="dfn"
                                    id="ref-for-dfn-local-audio-playback-suppression-3">本地音频回放抑制</a><em
                                    class="rfc2119">应</em>被应用。</p>
                        </td>
                    </tr>
                </tbody>
            </table>

            <p>当用户选择的<a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-29">显示表面</a>的底层源的固有属性发生变化时，例如用户调整捕获窗口大小时，这些变化使一个或多个可约束属性的能力和/或设置过时时，用户代理<em
                    class="rfc2119">必须</em>排队一个任务来执行以下步骤：
            </p>

            <ol>
                <li>
                    <p>同时更新所有受影响的可约束属性。</p>

                    <p>如果这导致“过度约束”的情况，那么用户代理<em class="rfc2119">必须</em>忽略造成过度约束的约束，只要它们继续过度约束。用户代理<em
                            class="rfc2119">不得</em>使音轨静音。</p>
                </li>
            </ol>

            <div class="note" role="note" id="issue-container-generatedID-0">
                <div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>注</span></div>
                <div class="">
                    <p>虽然min和exact约束在getDisplayMedia()上会产生TypeError，但本规范不改变track.applyConstraints()方法。因此，它们可能根据值而产生OverconstrainedError或成功，因此可能存在以导致这种“过度约束”的情况。max约束也可能导致这种情况，例如在aspectRatio的情况下。本规范认为这些是无用的边缘情况。
                    </p>
                </div>
            </div>



            <section id="downscaling-and-frame-decimation">
                <div class="header-wrapper">
                    <h4 id="x5-4-1-downscaling-and-frame-decimation"><bdi class="secno">5.4.1 </bdi>缩放和帧删减</h4><a
                        class="self-link" href="#downscaling-and-frame-decimation" aria-label="第 5.4.1 节的永久链接"></a>
                </div>

                <p>为了实现<a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/mediacapture-streams/#dfn-selectsettings">选择设置</a>
                    算法，用户代理<em class="rfc2119">应该</em>考虑所有可能的缩放组合，这些组合可以在保持原始<a href="#dfn-display-surface"
                        class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-display-surface-30">显示表面</a>的纵横比（精确到最近的像素）的情况下进行，以及通过帧删减可用的帧率，作为可用的<a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/mediacapture-streams/#dfn-settings-dictionary">设置字典</a>。</p>

                <p>约束条件的缩放和删减效果随后由<a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/mediacapture-streams/#dfn-fitness-distance">适应距离</a>
                    算法有效地管理。</p>

                <p>目的是让用户代理在指定理想<code>width</code>、理想<code>height</code>和/或理想<code>frameRate</code>时生成接近理想值的输出，同时始终保持原始<a
                        href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-display-surface-31">显示表面</a>的纵横比。</p>

                <p>用户代理<em class="rfc2119">应该</em>默认情况下通过<a href="#dfn-source-pixel-ratio" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-source-pixel-ratio-2">源像素比</a>进行缩放，除非应用的约束另有规定。</p>

                <p>用户代理<em class="rfc2119">不得</em>裁剪捕获的输出。</p>

                <p>用户代理<em class="rfc2119">不得</em>放大捕获的输出，或创建额外的帧，除非需要保持高分辨率和帧率，以在聚合的<a href="#dfn-display-surface"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-display-surface-32">显示表面</a>中呈现。</p>

                <div class="note" role="note" id="issue-container-generatedID-1">
                    <div role="heading" class="note-title marker" id="h-note-1" aria-level="5"><span>注</span></div>
                    <div class="">
                        <p>max约束类型允许Web应用程序为可约束的属性（如宽度和高度）提供最大限制。这有助于在最终用户调整<a data-link-type="dfn|abstract-op"
                                href="#dfn-window" class="internalDFN" id="ref-for-dfn-window-5">窗口</a>或<a
                                data-link-type="dfn|abstract-op" href="#dfn-browser" class="internalDFN"
                                id="ref-for-dfn-browser-7">浏览器</a>表面大小时进行捕获，限制极端的纵横比。</p>
                    </div>
                </div>

                <p>对于本规范中每个正数类型的可约束属性，用户代理<em class="rfc2119">必须</em>建立一个<dfn id="dfn-floor-value" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">底值</dfn>，表示无论源如何，用户代理支持的最小允许值。此值<em
                        class="rfc2119">必须</em>是恒定的，并且<em class="rfc2119">必须</em>大于<code>0</code>。鼓励用户代理支持所有大于<a
                        href="#dfn-floor-value" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-floor-value-2">底值</a>的值，无论源如何。</p>

                <div class="note" role="note" id="issue-container-generatedID-2">
                    <div role="heading" class="note-title marker" id="h-note-2" aria-level="5"><span>注</span></div>
                    <div class="">
                        <p><a href="#dfn-floor-value" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-floor-value-3">底值</a>
                            的目的是帮助用户代理在用户已经被提示后避免由于<a data-link-type="idl" data-lt="getDisplayMedia()"
                                href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                                id="ref-for-dom-mediadevices-getdisplaymedia-12"><code>getDisplayMedia</code></a><code>()</code>
                            产生
                            <code>OverconstrainedError</code>错误，并避免泄露关于用户系统的信息。
                        </p>
                    </div>
                </div>
            </section>


            <section id="capturestartfocusbehavior">
                <div class="header-wrapper">
                    <h4 id="x5-4-2-capturestartfocusbehavior"><bdi class="secno">5.4.2 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-capturestartfocusbehavior" data-idl="enum"
                            data-title="CaptureStartFocusBehavior" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>CaptureStartFocusBehavior</code></dfn>
                    </h4><a class="self-link" href="#capturestartfocusbehavior" aria-label="第 5.4.2 节的永久链接"></a>
                </div>

                <p>描述当应用程序调用<a data-link-type="idl" data-lt="setFocusBehavior()"
                        href="#dom-capturecontroller-setfocusbehavior" class="internalDFN"
                        id="ref-for-dom-capturecontroller-setfocusbehavior-1"><code>setFocusBehavior</code></a><code>()</code>
                    时，是否希望用户代理聚焦与该<a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                        class="internalDFN" id="ref-for-dom-capturecontroller-2"><code>CaptureController</code></a>的<a
                        data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-3">捕获会话</a>相关联的
                    <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                        id="ref-for-dfn-display-surface-33">显示表面</a>。
                </p>

                <pre class="idl def" id="webidl-214854339"><span class="idlHeader"><a class="self-link" href="#webidl-214854339">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-capturestartfocusbehavior" data-title="CaptureStartFocusBehavior">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-capturestartfocusbehavior" id="ref-for-dom-capturestartfocusbehavior-1"><code>CaptureStartFocusBehavior</code></a> {
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CaptureStartFocusBehavior.focus-capturing-application" id="ref-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application-1"><code>focus-capturing-application</code></a>"</span>,
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CaptureStartFocusBehavior.focus-captured-surface" id="ref-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface-1"><code>focus-captured-surface</code></a>"</span>,
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CaptureStartFocusBehavior.no-focus-change" id="ref-for-idl-def-CaptureStartFocusBehavior.no-focus-change-1"><code>no-focus-change</code></a>"</span>
                };</span></code></pre>

                <table data-dfn-for="CaptureStartFocusBehavior" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">枚举描述</th>
                        </tr>

                        <tr>
                            <td style="white-space:nowrap"><dfn
                                    id="idl-def-CaptureStartFocusBehavior.focus-capturing-application" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value"
                                    data-title="focus-capturing-application" data-dfn-for="CaptureStartFocusBehavior"
                                    tabindex="0" aria-haspopup="dialog"><code>focus-capturing-application</code></dfn>
                            </td>
                            <td>应用程序希望自己被聚焦。</td>
                        </tr>

                        <tr>
                            <td style="white-space:nowrap"><dfn
                                    id="idl-def-CaptureStartFocusBehavior.focus-captured-surface" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="focus-captured-surface"
                                    data-dfn-for="CaptureStartFocusBehavior" tabindex="0"
                                    aria-haspopup="dialog"><code>focus-captured-surface</code></dfn>
                            </td>
                            <td>应用程序希望与此<a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                    class="internalDFN" id="ref-for-dfn-display-surface-34">显示表面</a>
                                相关联的<a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                                    class="internalDFN"
                                    id="ref-for-dom-capturecontroller-3"><code>CaptureController</code></a>的<a
                                    data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                                    id="ref-for-dfn-capture-session-4">捕获会话</a>被聚焦。
                            </td>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-CaptureStartFocusBehavior.no-focus-change" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="no-focus-change"
                                    data-dfn-for="CaptureStartFocusBehavior" tabindex="0"
                                    aria-haspopup="dialog"><code>no-focus-change</code></dfn>
                            </td>
                            <td>应用程序希望用户代理不改变焦点，将焦点保持在用户与用户代理和/或操作系统交互时最后聚焦的表面上。</td>
                        </tr>
                    </tbody>
                </table>

                <div class="note" role="note" id="issue-container-generatedID-3">
                    <div role="heading" class="note-title marker" id="h-note-3" aria-level="5"><span>注</span></div>
                    <div class="">
                        工作组正在研究弃用"<a data-link-type="idl" href="#idl-def-CaptureStartFocusBehavior.no-focus-change"
                            class="internalDFN"
                            id="ref-for-idl-def-CaptureStartFocusBehavior.no-focus-change-2"><code>no-focus-change</code></a>"的可能性。
                    </div>
                </div>
            </section>


            <section id="capturecontroller">
                <div class="header-wrapper">
                    <h4 id="x5-4-3-capturecontroller"><bdi class="secno">5.4.3 </bdi><dfn data-export=""
                            data-dfn-type="interface" id="dom-capturecontroller" data-idl="interface"
                            data-title="CaptureController" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>CaptureController</code></dfn>
                    </h4><a class="self-link" href="#capturecontroller" aria-label="第 5.4.3 节的永久链接"></a>
                </div>

                <p><a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller" class="internalDFN"
                        id="ref-for-dom-capturecontroller-4"><code>CaptureController</code></a>对象可能与
                    <a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-5">捕获会话</a>关联。它用于暴露与
                    <a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-6">捕获会话</a>本身相关的功能，而不是与
                    <a data-link-type="idl" data-lt="getDisplayMedia()" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-13"><code>getDisplayMedia</code></a><code>()</code>或其生成的
                    流或轨道相关。
                </p>

                <p>任何给定的<a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-7">捕获会话</a>最多与一个
                    <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                        class="internalDFN" id="ref-for-dom-capturecontroller-5"><code>CaptureController</code></a>关联。
                </p>

                <p>任何给定的<a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                        class="internalDFN" id="ref-for-dom-capturecontroller-6"><code>CaptureController</code></a>最多与一个
                    <a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-8">捕获会话</a>关联。
                </p>

                <pre class="idl def" id="webidl-999726024"><span class="idlHeader"><a class="self-link" href="#webidl-999726024">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-capturecontroller" data-title="CaptureController">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
    interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-capturecontroller" id="ref-for-dom-capturecontroller-7"><code>CaptureController</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-capturecontroller-constructor" data-title="constructor" data-dfn-for="CaptureController">
      <a class="internalDFN" data-link-type="constructor" href="#dom-capturecontroller-constructor" id="ref-for-dom-capturecontroller-constructor-1"><code>constructor</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-capturecontroller-setfocusbehavior-focusbehavior" data-title="setFocusBehavior" data-dfn-for="CaptureController"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-capturecontroller-setfocusbehavior" id="ref-for-dom-capturecontroller-setfocusbehavior-2"><code>setFocusBehavior</code></a>(<span class="idlType"><a data-link-type="idl" href="#dom-capturestartfocusbehavior" class="internalDFN" id="ref-for-dom-capturestartfocusbehavior-2"><code>CaptureStartFocusBehavior</code></a></span> <span class="idlParamName">focusBehavior</span>);</span>
    };</span></code></pre>

                <div class="issue atrisk" id="issue-container-number-1">
                    <div role="heading" class="issue-title marker" id="h-issue" aria-level="5"><span>(有风险的功能)
                            问题 1</span></div>
                    <div class="atrisk">
                        <p><a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                                class="internalDFN"
                                id="ref-for-dom-capturecontroller-8"><code>CaptureController</code></a>尚未定义
                            事件处理程序，因此不需要从<a data-link-type="idl" data-lt="EventTarget" data-type="interface"
                                href="https://dom.spec.whatwg.org/#eventtarget"><code>EventTarget</code></a>继承。这是为了将来扩展
                            <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                                class="internalDFN"
                                id="ref-for-dom-capturecontroller-9"><code>CaptureController</code></a>的规范提供事件处理程序属性的好处；
                            如果不使用继承，它可以被移除。
                        </p>
                    </div>
                </div>


                <dl data-link-for="CaptureController" data-dfn-for="CaptureController" class="methods">
                    <dt><dfn data-export="" data-dfn-type="constructor" id="dom-capturecontroller-constructor"
                            data-idl="constructor" data-title="constructor" data-dfn-for="CaptureController"
                            data-lt="constructor()"
                            data-local-lt="CaptureController.constructor|CaptureController.constructor()|constructor"
                            tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>
                    </dt>

                    <dd>
                        创建一个新的<a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                            class="internalDFN"
                            id="ref-for-dom-capturecontroller-10"><code>CaptureController</code></a>对象，具有以下内部槽：

                        <table class="simple">
                            <thead>
                                <tr>
                                    <th>内部槽</th>
                                    <th>初始值</th>
                                    <th>描述 (<em>非规范性</em>)</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr>
                                    <td><dfn data-idl="" data-dfn-for="CaptureController" data-noexport=""
                                            data-dfn-type="attribute" id="dfn-isbound" tabindex="0"
                                            aria-haspopup="dialog">[[IsBound]]</dfn>
                                    </td>
                                    <td><code>false</code></td>
                                    <td>应用程序是否已尝试将<a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>与
                                        <a data-link-type="dfn|abstract-op" href="#dfn-capture-session"
                                            class="internalDFN" id="ref-for-dfn-capture-session-9">捕获会话</a>关联。
                                    </td>
                                </tr>

                                <tr>
                                    <td><dfn data-idl="" data-dfn-for="CaptureController" data-noexport=""
                                            data-dfn-type="attribute" id="dfn-source" tabindex="0"
                                            aria-haspopup="dialog">[[Source]]</dfn>
                                    </td>
                                    <td><code>null</code></td>
                                    <td>与<a data-link-type="dfn|abstract-op" href="#dfn-capture-session"
                                            class="internalDFN" id="ref-for-dfn-capture-session-10">捕获会话</a>关联的源。</td>
                                </tr>

                                <tr>
                                    <td><dfn data-idl="" data-dfn-for="CaptureController" data-noexport=""
                                            data-dfn-type="attribute" id="dfn-displaysurfacetype" tabindex="0"
                                            aria-haspopup="dialog">[[DisplaySurfaceType]]</dfn>
                                    </td>
                                    <td><code>null</code></td>
                                    <td>一旦开始捕获，该值将设置为捕获的
                                        <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                            class="internalDFN" id="ref-for-dfn-display-surface-35">显示表面</a>的类型。
                                    </td>
                                </tr>

                                <tr>
                                    <td><dfn data-idl="" data-dfn-for="CaptureController" data-noexport=""
                                            data-dfn-type="attribute" id="dfn-focuschangedisabled" tabindex="0"
                                            aria-haspopup="dialog">[[FocusChangeDisabled]]</dfn>
                                    </td>
                                    <td><code>false</code></td>
                                    <td>焦点更改是否已被外部事件或用户代理的考虑禁用。</td>
                                </tr>

                                <tr>
                                    <td><dfn data-idl="" data-dfn-for="CaptureController" data-noexport=""
                                            data-dfn-type="attribute" id="dfn-focusdecisionfinalized" tabindex="0"
                                            aria-haspopup="dialog">[[FocusDecisionFinalized]]</dfn>
                                    </td>
                                    <td><code>false</code></td>
                                    <td>当焦点决策最终确定时设置为true。</td>
                                </tr>

                                <tr>
                                    <td><dfn data-idl="" data-dfn-for="CaptureController" data-noexport=""
                                            data-dfn-type="attribute" id="dfn-focusbehavior" tabindex="0"
                                            aria-haspopup="dialog">[[FocusBehavior]]</dfn>
                                    </td>
                                    <td><code>null</code></td>
                                    <td>应用程序期望的焦点行为。</td>
                                </tr>
                            </tbody>
                        </table>

                        <p>用户代理<em class="rfc2119">可以</em>在任何时候根据自身逻辑将
                            <a data-link-type="attribute" data-lt="[[FocusChangeDisabled]]"
                                href="#dfn-focuschangedisabled" class="internalDFN"
                                id="ref-for-dfn-focuschangedisabled-2"><code>[[FocusChangeDisabled]]</code></a>设置为
                            <code>true</code>。
                        </p>
                    </dd>

                    <dt><dfn data-export="" data-dfn-type="method" id="dom-capturecontroller-setfocusbehavior"
                            data-idl="operation" data-title="setFocusBehavior" data-dfn-for="CaptureController"
                            data-type="undefined" data-lt="setFocusBehavior()|setFocusBehavior(focusBehavior)"
                            data-local-lt="CaptureController.setFocusBehavior|CaptureController.setFocusBehavior()|setFocusBehavior"
                            tabindex="0" aria-haspopup="dialog"><code>setFocusBehavior</code></dfn>
                    </dt>

                    <dd>
                        <p>执行以下步骤：</p>

                        <ol>
                            <li>
                                <p>将<var>focusBehavior</var>设为该方法的第一个参数。</p>
                            </li>

                            <li>
                                <p>如果<a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[Source]]" href="#dfn-source"
                                        class="internalDFN" id="ref-for-dfn-source-3"><code>[[Source]]</code></a>为
                                    <code>null</code>，则将<a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[FocusBehavior]]" href="#dfn-focusbehavior"
                                        class="internalDFN"
                                        id="ref-for-dfn-focusbehavior-1"><code>[[FocusBehavior]]</code></a>设为
                                    <var>focusBehavior</var>，并中止这些步骤。
                                </p>
                            </li>

                            <li>
                                <p>如果<a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[Source]]" href="#dfn-source"
                                        class="internalDFN" id="ref-for-dfn-source-4"><code>[[Source]]</code></a>已被
                                    <a href="https://www.w3.org/TR/mediacapture-streams/#source-stopped">停止</a>，则
                                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>
                                    "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                                    <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                </p>
                            </li>

                            <li>
                                <p>如果<a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[DisplaySurfaceType]]"
                                        href="#dfn-displaysurfacetype" class="internalDFN"
                                        id="ref-for-dfn-displaysurfacetype-2"><code>[[DisplaySurfaceType]]</code></a>既不是
                                    "<a data-link-type="idl" href="#idl-def-DisplayCaptureSurfaceType.browser"
                                        class="internalDFN"
                                        id="ref-for-idl-def-DisplayCaptureSurfaceType.browser-1"><code>browser</code></a>"也不是
                                    "<a data-link-type="idl" href="#idl-def-DisplayCaptureSurfaceType.window"
                                        class="internalDFN"
                                        id="ref-for-idl-def-DisplayCaptureSurfaceType.window-1"><code>window</code></a>"，
                                    则<a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>
                                    "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                                    <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                </p>
                            </li>

                            <li>
                                <p>如果<a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[FocusDecisionFinalized]]"
                                        href="#dfn-focusdecisionfinalized" class="internalDFN"
                                        id="ref-for-dfn-focusdecisionfinalized-1"><code>[[FocusDecisionFinalized]]</code></a>
                                    为<code>true</code>，则<a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-throw">抛出</a>
                                    "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception"
                                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                                    <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                </p>
                            </li>

                            <li>
                                <p>将<a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[FocusBehavior]]" href="#dfn-focusbehavior"
                                        class="internalDFN"
                                        id="ref-for-dfn-focusbehavior-2"><code>[[FocusBehavior]]</code></a>设为
                                    <var>focusBehavior</var>。
                                </p>
                            </li>

                            <li>
                                <p>在<a data-link-type="dfn|abstract-op" href="#dfn-finalize-focus-decision-algorithm"
                                        class="internalDFN"
                                        id="ref-for-dfn-finalize-focus-decision-algorithm-2">焦点决策最终确定算法</a>上运行
                                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#this">this</a>。
                                </p>
                            </li>
                        </ol>
                    </dd>
                </dl>



                <p>The <dfn id="dfn-finalize-focus-decision-algorithm" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">焦点决策最终确定算法</dfn>，给定<var>controller</var>，包括以下步骤：
                </p>

                <ol>
                    <li>
                        <p>如果自<a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                                id="ref-for-dfn-capture-session-11">捕获会话</a>开始以来已经经过了太长时间，用户代理<em
                                class="rfc2119">应该</em>将
                            <a data-link-type="attribute" data-lt="[[FocusDecisionFinalized]]"
                                href="#dfn-focusdecisionfinalized" class="internalDFN"
                                id="ref-for-dfn-focusdecisionfinalized-2"><code>[[FocusDecisionFinalized]]</code></a>设置为
                            <code>true</code>。时间跨度由用户代理决定，但建议使用一秒的值。
                        </p>
                    </li>

                    <li>
                        <p>如果<var>controller</var>.<a data-link-type="attribute" data-lt="[[FocusDecisionFinalized]]"
                                href="#dfn-focusdecisionfinalized" class="internalDFN"
                                id="ref-for-dfn-focusdecisionfinalized-3"><code>[[FocusDecisionFinalized]]</code></a>为
                            <code>true</code>，中止这些步骤。
                        </p>
                    </li>

                    <li>
                        <p>将<var>controller</var>.<a data-link-type="attribute" data-lt="[[FocusDecisionFinalized]]"
                                href="#dfn-focusdecisionfinalized" class="internalDFN"
                                id="ref-for-dfn-focusdecisionfinalized-4"><code>[[FocusDecisionFinalized]]</code></a>设置为
                            <code>true</code>。
                        </p>
                    </li>

                    <li>
                        <p>如果<var>controller</var>.<a data-link-type="attribute" data-lt="[[FocusChangeDisabled]]"
                                href="#dfn-focuschangedisabled" class="internalDFN"
                                id="ref-for-dfn-focuschangedisabled-3"><code>[[FocusChangeDisabled]]</code></a>为<code>true</code>，中止这些步骤。
                        </p>
                    </li>

                    <li>
                        <p>如果<var>controller</var>.<a data-link-type="attribute" data-lt="[[DisplaySurfaceType]]"
                                href="#dfn-displaysurfacetype" class="internalDFN"
                                id="ref-for-dfn-displaysurfacetype-3"><code>[[DisplaySurfaceType]]</code></a>既不是
                            "<a data-link-type="idl" href="#idl-def-DisplayCaptureSurfaceType.browser"
                                class="internalDFN"
                                id="ref-for-idl-def-DisplayCaptureSurfaceType.browser-2"><code>browser</code></a>"也不是
                            "<a data-link-type="idl" href="#idl-def-DisplayCaptureSurfaceType.window"
                                class="internalDFN"
                                id="ref-for-idl-def-DisplayCaptureSurfaceType.window-2"><code>window</code></a>"，中止这些步骤。
                        </p>
                    </li>

                    <li>
                        <p>让<var>focusBehavior</var>为<var>controller</var>.<a data-link-type="attribute"
                                data-lt="[[FocusBehavior]]" href="#dfn-focusbehavior" class="internalDFN"
                                id="ref-for-dfn-focusbehavior-3"><code>[[FocusBehavior]]</code></a>。
                        </p>
                    </li>

                    <li>
                        <p>并行运行以下步骤<a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>：
                        </p>

                        <ol>
                            <li>
                                <p>如果<var>focusBehavior</var>为
                                    "<a data-link-type="idl"
                                        href="#idl-def-CaptureStartFocusBehavior.focus-capturing-application"
                                        class="internalDFN"
                                        id="ref-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application-2"><code>focus-capturing-application</code></a>"，
                                    聚焦代表捕获文档的<a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                        class="internalDFN" id="ref-for-dfn-display-surface-36">显示表面</a>。
                                </p>
                            </li>

                            <li>
                                <p>如果<var>focusBehavior</var>为
                                    "<a data-link-type="idl"
                                        href="#idl-def-CaptureStartFocusBehavior.focus-captured-surface"
                                        class="internalDFN"
                                        id="ref-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface-2"><code>focus-captured-surface</code></a>"，
                                    聚焦<var>controller</var>.<a data-link-type="attribute" data-lt="[[Source]]"
                                        href="#dfn-source" class="internalDFN"
                                        id="ref-for-dfn-source-5"><code>[[Source]]</code></a>
                                    所指的<a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                        class="internalDFN" id="ref-for-dfn-display-surface-37">显示表面</a>。
                                </p>
                            </li>
                        </ol>
                    </li>
                </ol>
            </section>


            <section id="selfcapturepreferenceenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-4-selfcapturepreferenceenum"><bdi class="secno">5.4.4 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-selfcapturepreferenceenum" data-idl="enum"
                            data-title="SelfCapturePreferenceEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SelfCapturePreferenceEnum</code></dfn>
                    </h4><a class="self-link" href="#selfcapturepreferenceenum" aria-label="Section 5.4.4 的永久链接"></a>
                </div>

                <p>描述应用程序提供的不同提示，表明应用程序所在的<a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                        class="internalDFN" id="ref-for-dfn-display-surface-38">显示表面</a>是否应该包含在用户提供的选项中。
                </p>

                <pre class="idl def" id="webidl-83534870"><span class="idlHeader"><a class="self-link" href="#webidl-83534870">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-selfcapturepreferenceenum" data-title="SelfCapturePreferenceEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-selfcapturepreferenceenum" id="ref-for-dom-selfcapturepreferenceenum-1"><code>SelfCapturePreferenceEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SelfCapturePreferenceEnum.include" id="ref-for-idl-def-SelfCapturePreferenceEnum.include-1"><code>include</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SelfCapturePreferenceEnum.exclude" id="ref-for-idl-def-SelfCapturePreferenceEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="SelfCapturePreferenceEnum" class="simple">
                    <thead>
                        <tr>
                            <th>枚举值</th>
                            <th>描述</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><dfn id="idl-def-SelfCapturePreferenceEnum.include" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="include"
                                    data-dfn-for="SelfCapturePreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>include</code></dfn>
                            </td>
                            <td>应用程序倾向于将此表面包含在用户提供的选项中。</td>
                        </tr>
                        <tr>
                            <td><dfn id="idl-def-SelfCapturePreferenceEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="SelfCapturePreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>
                            <td>应用程序倾向于将此表面排除在用户提供的选项之外。</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="systemaudiopreferenceenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-5-systemaudiopreferenceenum"><bdi class="secno">5.4.5 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-systemaudiopreferenceenum" data-idl="enum"
                            data-title="SystemAudioPreferenceEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SystemAudioPreferenceEnum</code></dfn>
                    </h4><a class="self-link" href="#systemaudiopreferenceenum" aria-label="Section 5.4.5 的永久链接"></a>
                </div>

                <p>描述应用程序调用
                    <a data-link-type="idl" data-lt="getDisplayMedia()" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-14"><code>getDisplayMedia</code></a><code>()</code>
                    时，是否希望用户代理在提供给用户的音频源选项中包含系统音频。
                </p>

                <pre class="idl def" id="webidl-1180004445"><span class="idlHeader"><a class="self-link" href="#webidl-1180004445">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-systemaudiopreferenceenum" data-title="SystemAudioPreferenceEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-systemaudiopreferenceenum" id="ref-for-dom-systemaudiopreferenceenum-1"><code>SystemAudioPreferenceEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SystemAudioPreferenceEnum.include" id="ref-for-idl-def-SystemAudioPreferenceEnum.include-1"><code>include</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SystemAudioPreferenceEnum.exclude" id="ref-for-idl-def-SystemAudioPreferenceEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="SystemAudioPreferenceEnum" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">枚举值描述</th>
                        </tr>
                        <tr>
                            <td><dfn id="idl-def-SystemAudioPreferenceEnum.include" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="include"
                                    data-dfn-for="SystemAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>include</code></dfn>
                            </td>
                            <td>应用程序希望提供分享系统音频的选项给用户。</td>
                        </tr>
                        <tr>
                            <td><dfn id="idl-def-SystemAudioPreferenceEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="SystemAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>
                            <td>应用程序希望不提供分享系统音频的选项给用户。</td>
                        </tr>
                    </tbody>
                </table>
            </section>


            <section id="surfaceswitchingpreferenceenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-6-surfaceswitchingpreferenceenum"><bdi class="secno">5.4.6 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-surfaceswitchingpreferenceenum" data-idl="enum"
                            data-title="SurfaceSwitchingPreferenceEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SurfaceSwitchingPreferenceEnum</code></dfn>
                    </h4><a class="self-link" href="#surfaceswitchingpreferenceenum"
                        aria-label="Section 5.4.6 的永久链接"></a>
                </div>

                <p>描述应用程序调用
                    <a data-link-type="idl" data-lt="getDisplayMedia()" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-15"><code>getDisplayMedia</code></a><code>()</code>
                    时，是否希望用户代理在捕获过程中为用户提供动态切换源<a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                        class="internalDFN" id="ref-for-dfn-display-surface-40">显示表面</a>的选项。
                </p>

                <pre class="idl def" id="webidl-1808759589"><span class="idlHeader"><a class="self-link" href="#webidl-1808759589">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-surfaceswitchingpreferenceenum" data-title="SurfaceSwitchingPreferenceEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-surfaceswitchingpreferenceenum" id="ref-for-dom-surfaceswitchingpreferenceenum-1"><code>SurfaceSwitchingPreferenceEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SurfaceSwitchingPreferenceEnum.include" id="ref-for-idl-def-SurfaceSwitchingPreferenceEnum.include-1"><code>include</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SurfaceSwitchingPreferenceEnum.exclude" id="ref-for-idl-def-SurfaceSwitchingPreferenceEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="SurfaceSwitchingPreferenceEnum" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">枚举值描述</th>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-SurfaceSwitchingPreferenceEnum.include" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="include"
                                    data-dfn-for="SurfaceSwitchingPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>include</code></dfn>
                            </td>
                            <td>应用程序希望在捕获期间为用户提供动态切换源<a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                    class="internalDFN" id="ref-for-dfn-display-surface-41">显示表面</a>的选项。</td>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-SurfaceSwitchingPreferenceEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="SurfaceSwitchingPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>
                            <td>应用程序希望在捕获期间不提供动态切换源<a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                    class="internalDFN" id="ref-for-dfn-display-surface-42">显示表面</a>的选项。</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="monitortypesurfacesenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-7-monitortypesurfacesenum"><bdi class="secno">5.4.7 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-monitortypesurfacesenum" data-idl="enum"
                            data-title="MonitorTypeSurfacesEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>MonitorTypeSurfacesEnum</code></dfn>
                    </h4><a class="self-link" href="#monitortypesurfacesenum" aria-label="Section 5.4.7 的永久链接"></a>
                </div>

                <p>描述应用程序是否希望用户代理为用户提供选择类型为
                    <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                        id="ref-for-dfn-monitor-8">监视器</a>的
                    <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                        id="ref-for-dfn-display-surface-43">显示表面</a>的选项。
                </p>

                <pre class="idl def" id="webidl-968846331"><span class="idlHeader"><a class="self-link" href="#webidl-968846331">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-monitortypesurfacesenum" data-title="MonitorTypeSurfacesEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-monitortypesurfacesenum" id="ref-for-dom-monitortypesurfacesenum-1"><code>MonitorTypeSurfacesEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-MonitorTypeSurfacesEnum.include" id="ref-for-idl-def-MonitorTypeSurfacesEnum.include-1"><code>include</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-MonitorTypeSurfacesEnum.exclude" id="ref-for-idl-def-MonitorTypeSurfacesEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="MonitorTypeSurfacesEnum" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">枚举值描述</th>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-MonitorTypeSurfacesEnum.include" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="include"
                                    data-dfn-for="MonitorTypeSurfacesEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>include</code></dfn>
                            </td>
                            <td>应用程序希望提供类型为<a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                    id="ref-for-dfn-monitor-9">监视器</a>的
                                <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-44">显示表面</a>供用户选择。
                            </td>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-MonitorTypeSurfacesEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="MonitorTypeSurfacesEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>
                            <td>应用程序希望不提供类型为<a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                    id="ref-for-dfn-monitor-10">监视器</a>的
                                <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-45">显示表面</a>供用户选择。
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>



            <section id="displaymediastreamoptions">
                <div class="header-wrapper">
                    <h4 id="x5-4-8-displaymediastreamoptions"><bdi class="secno">5.4.8 </bdi>DisplayMediaStreamOptions
                    </h4><a class="self-link" href="#displaymediastreamoptions" aria-label="Section 5.4.8 的永久链接"></a>
                </div>

                <p><dfn data-export="" data-dfn-type="dictionary" id="dom-displaymediastreamoptions"
                        data-idl="dictionary" data-title="DisplayMediaStreamOptions" tabindex="0"
                        aria-haspopup="dialog"><code>DisplayMediaStreamOptions</code></dfn>字典用于向用户代理指示哪些类型的<a
                        data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>可以包含在
                    <a data-link-type="idl" data-lt="MediaStream" data-type="interface"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                    中，该<code>MediaStream</code>由<a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-16"><code>getDisplayMedia</code></a>返回。
                </p>


                <div>
                    <pre class="idl def" id="webidl-238446172"><span class="idlHeader"><a class="self-link" href="#webidl-238446172">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-displaymediastreamoptions" data-title="DisplayMediaStreamOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-displaymediastreamoptions" id="ref-for-dom-displaymediastreamoptions-2"><code>DisplayMediaStreamOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-video" data-title="video" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
      (<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a> or <a data-link-type="idl" data-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints">MediaTrackConstraints</a>)</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-video" id="ref-for-dom-displaymediastreamoptions-video-1"><code>video</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-audio" data-title="audio" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
      (<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a> or <a data-link-type="idl" data-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints">MediaTrackConstraints</a>)</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-audio" id="ref-for-dom-displaymediastreamoptions-audio-1"><code>audio</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-controller" data-title="controller" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
      <a data-link-type="idl" href="#dom-capturecontroller" class="internalDFN" id="ref-for-dom-capturecontroller-11"><code>CaptureController</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-controller" id="ref-for-dom-displaymediastreamoptions-controller-1"><code>controller</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-selfbrowsersurface" data-title="selfBrowserSurface" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
      <a data-link-type="idl" href="#dom-selfcapturepreferenceenum" class="internalDFN" id="ref-for-dom-selfcapturepreferenceenum-2"><code>SelfCapturePreferenceEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-selfbrowsersurface" id="ref-for-dom-displaymediastreamoptions-selfbrowsersurface-1"><code>selfBrowserSurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-systemaudio" data-title="systemAudio" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
      <a data-link-type="idl" href="#dom-systemaudiopreferenceenum" class="internalDFN" id="ref-for-dom-systemaudiopreferenceenum-2"><code>SystemAudioPreferenceEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-systemaudio" id="ref-for-dom-displaymediastreamoptions-systemaudio-1"><code>systemAudio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-surfaceswitching" data-title="surfaceSwitching" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
      <a data-link-type="idl" href="#dom-surfaceswitchingpreferenceenum" class="internalDFN" id="ref-for-dom-surfaceswitchingpreferenceenum-2"><code>SurfaceSwitchingPreferenceEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-surfaceswitching" id="ref-for-dom-displaymediastreamoptions-surfaceswitching-1"><code>surfaceSwitching</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-monitortypesurfaces" data-title="monitorTypeSurfaces" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
      <a data-link-type="idl" href="#dom-monitortypesurfacesenum" class="internalDFN" id="ref-for-dom-monitortypesurfacesenum-2"><code>MonitorTypeSurfacesEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-monitortypesurfaces" id="ref-for-dom-displaymediastreamoptions-monitortypesurfaces-1"><code>monitorTypeSurfaces</code></a>;</span>
    };</span></code></pre>

                    <section>
                        <div class="header-wrapper">
                            <h5 id="dictionary-displaymediastreamoptions-members">字典 <a class="idlType internalDFN"
                                    href="#dom-displaymediastreamoptions" data-link-type="idl"
                                    id="ref-for-dom-displaymediastreamoptions-3"><code>DisplayMediaStreamOptions</code></a>
                                成员</h5><a class="self-link" href="#dictionary-displaymediastreamoptions-members"
                                aria-label="此部分的永久链接"></a>
                        </div>


                        <dl data-link-for="DisplayMediaStreamOptions" data-dfn-for="DisplayMediaStreamOptions"
                            class="dictionary-members">
                            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-displaymediastreamoptions-video"
                                    data-idl="field" data-title="video" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="boolean|MediaTrackConstraints" tabindex="0"
                                    aria-haspopup="dialog"><code>video</code></dfn> 类型为
                                <code>(boolean 或
                  <a data-link-type="idl" data-lt="MediaTrackConstraints" data-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints"><code>MediaTrackConstraints</code></a>)</code>,
                                默认值为
                                <code>true</code>
                            </dt>


                            <dd>
                                <p>如果 <code>true</code>，则请求返回的
                                    <a data-link-type="idl" data-lt="MediaStream" data-type="interface"
                                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                                    包含一个视频轨道。如果提供了 <code>Constraints</code> 结构，还可以进一步
                                    指定希望应用于用户选择的显示表面的视频轨道处理选项。如果
                                    <code>false</code>，根据
                                    <a data-link-type="dfn|abstract-op" href="#dom-mediadevices-getdisplaymedia"
                                        id="ref-for-dom-mediadevices-getdisplaymedia-17">getDisplayMedia
                                        算法</a>，请求将被以
                                    <a data-link-type="idl|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#reject">拒绝</a>，
                                    并抛出一个
                                    <a data-link-type="idl" data-lt="TypeError" data-type="exception"
                                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>。
                                </p>
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-displaymediastreamoptions-audio"
                                    data-idl="field" data-title="audio" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="boolean|MediaTrackConstraints" tabindex="0"
                                    aria-haspopup="dialog"><code>audio</code></dfn> 类型为
                                <code>(boolean 或
                  <a data-link-type="idl" data-lt="MediaTrackConstraints" data-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints"><code>MediaTrackConstraints</code></a>)</code>,
                                默认值为
                                <code>false</code>
                            </dt>


                            <dd>
                                <p>如果 <code>true</code>，表示希望返回的
                                    <a data-link-type="idl" data-lt="MediaStream" data-type="interface"
                                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                                    包含一个音频轨道（如果支持且用户选择的显示表面有音频可用）。如果提供了
                                    <code>Constraints</code> 结构，还可以进一步
                                    指定希望应用于音频轨道的处理选项。如果 <code>false</code>，
                                    返回的 <a data-link-type="idl" data-lt="MediaStream"
                                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                                    将不包含音频轨道。
                                </p>
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-controller" data-idl="field"
                                    data-title="controller" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="CaptureController" tabindex="0"
                                    aria-haspopup="dialog"><code>controller</code></dfn> 类型为
                                <code><a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller" class="internalDFN" id="ref-for-dom-capturecontroller-12"><code>CaptureController</code></a></code>
                            </dt>


                            <dd>
                                <p>如果存在，此
                                    <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                                        class="internalDFN"
                                        id="ref-for-dom-capturecontroller-13"><code>CaptureController</code></a> 对象
                                    将与
                                    <a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                                        id="ref-for-dfn-capture-session-12">capture-session</a>
                                    关联。通过此对象提供的方法，可以操作
                                    <a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                                        id="ref-for-dfn-capture-session-13">capture-session</a>。
                                </p>
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-selfbrowsersurface" data-idl="field"
                                    data-title="selfBrowserSurface" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="SelfCapturePreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>selfBrowserSurface</code></dfn> 类型为
                                <a data-link-type="idl" data-lt="SelfCapturePreferenceEnum"
                                    href="#dom-selfcapturepreferenceenum" class="internalDFN"
                                    id="ref-for-dom-selfcapturepreferenceenum-3"><code>SelfCapturePreferenceEnum</code></a>
                            </dt>


                            <dd>如果存在，表示应用程序希望
                                <a data-link-type="dfn|abstract-op" href="#dfn-browser" class="internalDFN"
                                    id="ref-for-dfn-browser-8">浏览器</a>
                                <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-46">显示表面</a>，
                                与 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this">this</a> 的
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>
                                的
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">相关
                                    文档</a>的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">顶级
                                    浏览上下文</a>，应
                                包含在提供给用户的选择中。用户代理 <em class="rfc2119">可以</em>
                                忽略此提示。
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-systemaudio" data-idl="field"
                                    data-title="systemAudio" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="SystemAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>systemAudio</code></dfn> 类型为
                                <a data-link-type="idl" data-lt="SystemAudioPreferenceEnum"
                                    href="#dom-systemaudiopreferenceenum" class="internalDFN"
                                    id="ref-for-dom-systemaudiopreferenceenum-3"><code>SystemAudioPreferenceEnum</code></a>
                            </dt>


                            <dd>如果存在，表示应用程序希望系统音频被包含在提供给用户的音频源选项中。用户代理 <em class="rfc2119">可以</em> 忽略此提示。</dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-surfaceswitching" data-idl="field"
                                    data-title="surfaceSwitching" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="SurfaceSwitchingPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>surfaceSwitching</code></dfn> 类型为
                                <a data-link-type="idl" data-lt="SurfaceSwitchingPreferenceEnum"
                                    href="#dom-surfaceswitchingpreferenceenum" class="internalDFN"
                                    id="ref-for-dom-surfaceswitchingpreferenceenum-3"><code>SurfaceSwitchingPreferenceEnum</code></a>
                            </dt>


                            <dd>如果存在，表示应用程序希望用户代理提供用户一个动态切换捕获的
                                <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-47">显示表面</a> 的选项。
                                用户代理 <em class="rfc2119">可以</em> 忽略此提示。
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-monitortypesurfaces" data-idl="field"
                                    data-title="monitorTypeSurfaces" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="MonitorTypeSurfacesEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>monitorTypeSurfaces</code></dfn> 类型为
                                <a data-link-type="idl" data-lt="MonitorTypeSurfacesEnum"
                                    href="#dom-monitortypesurfacesenum" class="internalDFN"
                                    id="ref-for-dom-monitortypesurfacesenum-3"><code>MonitorTypeSurfacesEnum</code></a>
                            </dt>


                            <dd>
                                <p>如果存在，表示应用程序希望用户代理在提供给用户的选择中包含类型为
                                    <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                        id="ref-for-dfn-monitor-11">监视器</a> 的
                                    <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                        id="ref-for-dfn-display-surface-48">显示表面</a>。用户代理 <em class="rfc2119">可以</em>
                                    忽略此提示。
                                </p>


                                <div class="note" role="note" id="issue-container-generatedID-4">
                                    <div role="heading" class="note-title marker" id="h-note-4" aria-level="6">
                                        <span>注意</span>
                                    </div>
                                    <div class="">
                                        <p>用户代理仍可能向用户提供捕获
                                            <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                                class="internalDFN" id="ref-for-dfn-display-surface-49">显示表面</a> 类型为
                                            <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                                id="ref-for-dfn-monitor-12">监视器</a> 的选项。因此，建议应用程序仍应检查其接收的轨道的
                                            <a data-link-type="idl" href="#dom-mediatracksettings-displaysurface"
                                                class="internalDFN"
                                                id="ref-for-dom-mediatracksettings-displaysurface-1"><code>displaySurface</code></a>
                                            设置。
                                        </p>
                                    </div>
                                </div>
                            </dd>
                        </dl>
                    </section>
                </div>
            </section>


            <section id="extensions-to-mediatracksupportedconstraints">
                <div class="header-wrapper">
                    <h4 id="x5-4-9-extensions-to-mediatracksupportedconstraints"><bdi class="secno">5.4.9
                        </bdi>扩展 <a data-link-type="idl" data-lt="MediaTrackSupportedConstraints" data-type="dictionary"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksupportedconstraints"><code>MediaTrackSupportedConstraints</code></a>
                    </h4><a class="self-link" href="#extensions-to-mediatracksupportedconstraints"
                        aria-label="第 5.4.9 节的永久链接"></a>
                </div>



                <p><a data-link-type="idl" data-lt="MediaTrackSupportedConstraints" data-type="dictionary"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksupportedconstraints"><code>MediaTrackSupportedConstraints</code></a>
                    在此处扩展了用户代理识别的约束列表。</p>

                <pre class="idl def" id="webidl-210984315"><span class="idlHeader"><a class="self-link" href="#webidl-210984315">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-mediatracksupportedconstraints-partial-1" data-title="MediaTrackSupportedConstraints">partial dictionary <a data-idl="partial" data-link-type="dictionary" data-title="MediaTrackSupportedConstraints" class="idlID" data-dfn-for="MediaTrackSupportedConstraints" data-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksupportedconstraints">MediaTrackSupportedConstraints</a> {<span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-displaysurface" data-title="displaySurface" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
                  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-displaysurface" id="ref-for-dom-mediatracksupportedconstraints-displaysurface-1"><code>displaySurface</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-logicalsurface" data-title="logicalSurface" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
                  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-logicalsurface" id="ref-for-dom-mediatracksupportedconstraints-logicalsurface-1"><code>logicalSurface</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-cursor" data-title="cursor" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
                  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-cursor" id="ref-for-dom-mediatracksupportedconstraints-cursor-1"><code>cursor</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-restrictownaudio" data-title="restrictOwnAudio" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
                  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-restrictownaudio" id="ref-for-dom-mediatracksupportedconstraints-restrictownaudio-1"><code>restrictOwnAudio</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-suppresslocalaudioplayback" data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
                  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-suppresslocalaudioplayback" id="ref-for-dom-mediatracksupportedconstraints-suppresslocalaudioplayback-1"><code>suppressLocalAudioPlayback</code></a> = true;</span>
                };</span></code></pre>

                <dl data-dfn-for="MediaTrackSupportedConstraints" class="dictionary-members">
                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksupportedconstraints-displaysurface" data-idl="field"
                            data-title="displaySurface" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>displaySurface</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>，默认值为
                        <code>true</code>
                    </dt>


                    <dd>
                        <p>是否识别 <a data-link-type="idl" data-lt="displaySurface" href="#dfn-displaysurface"
                                class="internalDFN" id="ref-for-dfn-displaysurface-3"><code>displaySurface</code></a>
                            约束。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksupportedconstraints-logicalsurface" data-idl="field"
                            data-title="logicalSurface" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>logicalSurface</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>，
                        默认值为 <code>true</code></dt>


                    <dd>
                        <p>是否识别 <a data-link-type="idl" data-lt="logicalSurface" href="#dfn-logicalsurface"
                                class="internalDFN" id="ref-for-dfn-logicalsurface-1"><code>logicalSurface</code></a>
                            约束。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-cursor"
                            data-idl="field" data-title="cursor" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>cursor</code></dfn> 类型为 <a
                            data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>，默认值为
                        <code>true</code>
                    </dt>


                    <dd>
                        <p>是否识别 <a data-link-type="idl" data-lt="cursor" href="#dfn-cursor" class="internalDFN"
                                id="ref-for-dfn-cursor-1"><code>cursor</code></a> 约束。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksupportedconstraints-restrictownaudio" data-idl="field"
                            data-title="restrictOwnAudio" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>restrictOwnAudio</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>，默认值为
                        <code>true</code>
                    </dt>


                    <dd>
                        <p>是否识别 <a data-link-type="idl" data-lt="restrictOwnAudio" href="#dfn-restrictownaudio"
                                class="internalDFN"
                                id="ref-for-dfn-restrictownaudio-1"><code>restrictOwnAudio</code></a> 约束。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksupportedconstraints-suppresslocalaudioplayback" data-idl="field"
                            data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0"
                            aria-haspopup="dialog"><code>suppressLocalAudioPlayback</code></dfn> 类型为 <a
                            data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>，
                        默认值为 <code>true</code></dt>


                    <dd>
                        <p>是否识别 <a data-link-type="idl" data-lt="suppressLocalAudioPlayback"
                                href="#dfn-suppresslocalaudioplayback" class="internalDFN"
                                id="ref-for-dfn-suppresslocalaudioplayback-3"><code>suppressLocalAudioPlayback</code></a>
                            约束。</p>
                    </dd>
                </dl>
            </section>



            <section id="extensions-to-mediatrackconstraintset">
                <div class="header-wrapper">
                    <h4 id="x5-4-10-extensions-to-mediatrackconstraintset"><bdi class="secno">5.4.10 </bdi>扩展
                        <a data-link-type="idl" data-lt="MediaTrackConstraintSet" data-type="dictionary"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraintset"><code>MediaTrackConstraintSet</code></a>
                    </h4><a class="self-link" href="#extensions-to-mediatrackconstraintset"
                        aria-label="第 5.4.10 节的永久链接"></a>
                </div>



                <p><a data-link-type="idl" data-lt="MediaTrackConstraintSet" data-type="dictionary"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraintset"><code>MediaTrackConstraintSet</code></a>
                    用于读取约束的当前状态。</p>

                <pre class="idl def" id="webidl-615542218"><span class="idlHeader"><a class="self-link" href="#webidl-615542218">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-mediatrackconstraintset-partial-1" data-title="MediaTrackConstraintSet">partial dictionary <a data-idl="partial" data-link-type="dictionary" data-title="MediaTrackConstraintSet" class="idlID" data-dfn-for="MediaTrackConstraintSet" data-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraintset">MediaTrackConstraintSet</a> {<span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-displaysurface" data-title="displaySurface" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
                  <a data-link-type="idl" data-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring">ConstrainDOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-displaysurface" id="ref-for-dom-mediatrackconstraintset-displaysurface-1"><code>displaySurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-logicalsurface" data-title="logicalSurface" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
                  <a data-link-type="idl" data-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean">ConstrainBoolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-logicalsurface" id="ref-for-dom-mediatrackconstraintset-logicalsurface-1"><code>logicalSurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-cursor" data-title="cursor" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
                  <a data-link-type="idl" data-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring">ConstrainDOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-cursor" id="ref-for-dom-mediatrackconstraintset-cursor-1"><code>cursor</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-restrictownaudio" data-title="restrictOwnAudio" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
                  <a data-link-type="idl" data-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean">ConstrainBoolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-restrictownaudio" id="ref-for-dom-mediatrackconstraintset-restrictownaudio-1"><code>restrictOwnAudio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-suppresslocalaudioplayback" data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
                  <a data-link-type="idl" data-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean">ConstrainBoolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-suppresslocalaudioplayback" id="ref-for-dom-mediatrackconstraintset-suppresslocalaudioplayback-1"><code>suppressLocalAudioPlayback</code></a>;</span>
                };</span></code></pre>

                <dl data-dfn-for="MediaTrackConstraintSet" class="dictionary-members">
                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-displaysurface"
                            data-idl="field" data-title="displaySurface" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainDOMString" tabindex="0"
                            aria-haspopup="dialog"><code>displaySurface</code></dfn> 类型为
                        <a data-link-type="idl" data-lt="ConstrainDOMString" data-type="typedef"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring"><code>ConstrainDOMString</code></a>
                    </dt>


                    <dd>
                        <p>正在捕获的 <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                id="ref-for-dfn-display-surface-50">显示表面</a> 的类型。
                            这假设来自 <a data-link-type="idl" data-lt="DisplayCaptureSurfaceType"
                                href="#dom-displaycapturesurfacetype" class="internalDFN"
                                id="ref-for-dom-displaycapturesurfacetype-3"><code>DisplayCaptureSurfaceType</code></a>
                            枚举的值。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-logicalsurface"
                            data-idl="field" data-title="logicalSurface" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainBoolean" tabindex="0"
                            aria-haspopup="dialog"><code>logicalSurface</code></dfn> 类型为 <a data-link-type="idl"
                            data-lt="ConstrainBoolean" data-type="typedef"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean"><code>ConstrainBoolean</code></a>
                    </dt>


                    <dd>
                        <p><code>true</code> 表示捕获 <a data-link-type="dfn|abstract-op"
                                href="#dfn-logical-display-surface" class="internalDFN"
                                id="ref-for-dfn-logical-display-surface-4">逻辑显示表面</a>；<code>false</code> 表示
                            捕获 <a data-link-type="dfn|abstract-op" href="#dfn-visible-display-surface"
                                class="internalDFN" id="ref-for-dfn-visible-display-surface-3">可见显示表面</a>。
                        </p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-cursor"
                            data-idl="field" data-title="cursor" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainDOMString" tabindex="0" aria-haspopup="dialog"><code>cursor</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="ConstrainDOMString" data-type="typedef"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring"><code>ConstrainDOMString</code></a>
                    </dt>


                    <dd>
                        <p>假设来自 <a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-3"><code>CursorCaptureConstraint</code></a>
                            枚举的值，该枚举决定何时以及是否将光标包含在捕获的显示表面中。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatrackconstraintset-restrictownaudio" data-idl="field"
                            data-title="restrictOwnAudio" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainBoolean" tabindex="0"
                            aria-haspopup="dialog"><code>restrictOwnAudio</code></dfn> 类型为 <a data-link-type="idl"
                            data-lt="ConstrainBoolean" data-type="typedef"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean"><code>ConstrainBoolean</code></a>
                    </dt>


                    <dd>
                        <p>此约束仅适用于音频轨道。参见
                            <a data-link-type="idl" data-lt="restrictOwnAudio" href="#dfn-restrictownaudio"
                                class="internalDFN"
                                id="ref-for-dfn-restrictownaudio-2"><code>restrictOwnAudio</code></a>。
                        </p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatrackconstraintset-suppresslocalaudioplayback" data-idl="field"
                            data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainBoolean" tabindex="0"
                            aria-haspopup="dialog"><code>suppressLocalAudioPlayback</code></dfn> 类型为
                        <a data-link-type="idl" data-lt="ConstrainBoolean" data-type="typedef"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean"><code>ConstrainBoolean</code></a>
                    </dt>


                    <dd>
                        <p>此约束仅适用于音频轨道。参见
                            <a data-link-type="idl" data-lt="suppressLocalAudioPlayback"
                                href="#dfn-suppresslocalaudioplayback" class="internalDFN"
                                id="ref-for-dfn-suppresslocalaudioplayback-4"><code>suppressLocalAudioPlayback</code></a>。
                        </p>
                    </dd>
                </dl>
            </section>



            <section id="extensions-to-mediatracksettings">
                <div class="header-wrapper">
                    <h4 id="x5-4-11-extensions-to-mediatracksettings"><bdi class="secno">5.4.11 </bdi>扩展 <a
                            data-link-type="idl" data-lt="MediaTrackSettings" data-type="dictionary"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksettings"><code>MediaTrackSettings</code></a>
                    </h4><a class="self-link" href="#extensions-to-mediatracksettings" aria-label="第 5.4.11 节的永久链接"></a>
                </div>



                <p>当在视频流轨道上调用 <a data-link-type="idl" data-lt="getSettings()" data-type="method"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-getsettings"><code>getSettings</code></a><code>()</code>
                    方法时，用户代理必须返回扩展的
                    <a data-link-type="idl" data-lt="MediaTrackSettings" data-type="dictionary"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksettings"><code>MediaTrackSettings</code></a>
                    字典，表示底层用户代理的当前状态。
                </p>

                <pre class="idl def" id="webidl-1483133749"><span class="idlHeader"><a class="self-link" href="#webidl-1483133749">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-mediatracksettings-partial-1" data-title="MediaTrackSettings">partial dictionary <a data-idl="partial" data-link-type="dictionary" data-title="MediaTrackSettings" class="idlID" data-dfn-for="MediaTrackSettings" data-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksettings">MediaTrackSettings</a> {<span data-idl="" class="idlMember" id="idl-def-mediatracksettings-displaysurface" data-title="displaySurface" data-dfn-for="MediaTrackSettings"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-displaysurface" id="ref-for-dom-mediatracksettings-displaysurface-2"><code>displaySurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-logicalsurface" data-title="logicalSurface" data-dfn-for="MediaTrackSettings"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-logicalsurface" id="ref-for-dom-mediatracksettings-logicalsurface-1"><code>logicalSurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-cursor" data-title="cursor" data-dfn-for="MediaTrackSettings"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-cursor" id="ref-for-dom-mediatracksettings-cursor-1"><code>cursor</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-restrictownaudio" data-title="restrictOwnAudio" data-dfn-for="MediaTrackSettings"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-restrictownaudio" id="ref-for-dom-mediatracksettings-restrictownaudio-1"><code>restrictOwnAudio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-suppresslocalaudioplayback" data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackSettings"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-suppresslocalaudioplayback" id="ref-for-dom-mediatracksettings-suppresslocalaudioplayback-1"><code>suppressLocalAudioPlayback</code></a>;</span>
    };</span></code></pre>

                <dl data-link-for="MediaTrackSettings" data-dfn-for="MediaTrackSettings" class="dictionary-members">
                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-displaysurface"
                            data-idl="field" data-title="displaySurface" data-dfn-for="MediaTrackSettings"
                            data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>displaySurface</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="DOMString" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></dt>


                    <dd>
                        <p>正在捕获的 <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                id="ref-for-dfn-display-surface-50">显示表面</a> 的类型。
                            这假设来自 <a data-link-type="idl" data-lt="DisplayCaptureSurfaceType"
                                href="#dom-displaycapturesurfacetype" class="internalDFN"
                                id="ref-for-dom-displaycapturesurfacetype-4"><code>DisplayCaptureSurfaceType</code></a>
                            枚举的值。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-logicalsurface"
                            data-idl="field" data-title="logicalSurface" data-dfn-for="MediaTrackSettings"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>logicalSurface</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></dt>


                    <dd>
                        <p><code>true</code> 表示捕获 <a href="#dfn-logical-display-surface" class="internalDFN"
                                data-link-type="dfn"
                                id="ref-for-dfn-logical-display-surface-5">逻辑显示表面</a>；<code>false</code> 表示
                            捕获 <a href="#dfn-visible-display-surface" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-visible-display-surface-4">可见显示
                                表面</a>。
                        </p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-cursor"
                            data-idl="field" data-title="cursor" data-dfn-for="MediaTrackSettings" data-type="DOMString"
                            tabindex="0" aria-haspopup="dialog"><code>cursor</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="ConstrainDOMString" data-type="typedef"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring"><code>ConstrainDOMString</code></a>
                    </dt>


                    <dd>
                        <p>假设来自 <a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-cursorcaptureconstraint-4"><code>CursorCaptureConstraint</code></a>
                            枚举的值，该枚举决定何时以及是否将光标包含在捕获的
                            显示表面中。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-restrictownaudio"
                            data-idl="field" data-title="restrictOwnAudio" data-dfn-for="MediaTrackSettings"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>restrictOwnAudio</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></dt>


                    <dd>
                        <p>指示是否应用 <a href="#dfn-restrictownaudio"
                                id="ref-for-dfn-restrictownaudio-3">restrictOwnAudio</a> 约束
                            (<code>true</code>) 或不应用 (<code>false</code>)。</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksettings-suppresslocalaudioplayback" data-idl="field"
                            data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackSettings"
                            data-type="boolean" tabindex="0"
                            aria-haspopup="dialog"><code>suppressLocalAudioPlayback</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></dt>


                    <dd>
                        <p>指示应用程序是否指示用户代理对源应用
                            <a data-link-type="dfn|abstract-op" href="#dfn-local-audio-playback-suppression"
                                class="internalDFN" id="ref-for-dfn-local-audio-playback-suppression-4">本地音频播放抑制</a>。
                        </p>
                    </dd>
                </dl>
            </section>



            <section id="extensions-to-mediatrackcapabilities">
                <div class="header-wrapper">
                    <h4 id="x5-4-12-extensions-to-mediatrackcapabilities"><bdi class="secno">5.4.12 </bdi>扩展
                        <a data-link-type="idl" data-lt="MediaTrackCapabilities" data-type="dictionary"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackcapabilities"><code>MediaTrackCapabilities</code></a>
                    </h4><a class="self-link" href="#extensions-to-mediatrackcapabilities"
                        aria-label="第 5.4.12 节的永久链接"></a>
                </div>



                <p>当在视频流轨道上调用 <a data-link-type="idl" data-lt="getCapabilities()" data-type="method"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-getcapabilities"><code>getCapabilities</code></a><code>()</code>
                    方法时，用户代理必须返回扩展的
                    <a data-link-type="idl" data-lt="MediaTrackCapabilities" data-type="dictionary"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackcapabilities"><code>MediaTrackCapabilities</code></a>
                    字典，表示底层用户代理的能力。
                </p>

                <pre class="idl def" id="webidl-258568626"><span class="idlHeader"><a class="self-link" href="#webidl-258568626">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-mediatrackcapabilities-partial-1" data-title="MediaTrackCapabilities">partial dictionary <a data-idl="partial" data-link-type="dictionary" data-title="MediaTrackCapabilities" class="idlID" data-dfn-for="MediaTrackCapabilities" data-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackcapabilities">MediaTrackCapabilities</a> {<span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-displaysurface" data-title="displaySurface" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
                  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-displaysurface" id="ref-for-dom-mediatrackcapabilities-displaysurface-1"><code>displaySurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-logicalsurface" data-title="logicalSurface" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
                  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-logicalsurface" id="ref-for-dom-mediatrackcapabilities-logicalsurface-1"><code>logicalSurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-cursor" data-title="cursor" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
                  <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-cursor" id="ref-for-dom-mediatrackcapabilities-cursor-1"><code>cursor</code></a>;</span>
                };</span></code></pre>

                <dl data-link-for="MediaTrackCapabilities" data-dfn-for="MediaTrackCapabilities"
                    class="dictionary-members">
                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-displaysurface"
                            data-idl="field" data-title="displaySurface" data-dfn-for="MediaTrackCapabilities"
                            data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>displaySurface</code></dfn>
                        类型为 <a data-link-type="idl" data-lt="DOMString" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></dt>

                    <dd>
                        <p><em class="rfc2119">必须</em> 与通过
                            <a data-link-type="idl" data-lt="getSettings()" data-type="method"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-getsettings"><code>getSettings</code></a><code>()</code>
                            方法返回的值相同，使得从应用程序的角度看，该属性是不可变的。
                        </p>
                    </dd>

                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-logicalsurface"
                            data-idl="field" data-title="logicalSurface" data-dfn-for="MediaTrackCapabilities"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>logicalSurface</code></dfn>
                        类型为
                        <a data-link-type="idl" data-lt="boolean" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>
                    </dt>

                    <dd>
                        <p><em class="rfc2119">必须</em> 与通过
                            <a data-link-type="idl" data-lt="getSettings()" data-type="method"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-getsettings"><code>getSettings</code></a><code>()</code>
                            方法返回的值相同，使得从应用程序的角度看，该属性是不可变的。
                        </p>
                    </dd>

                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-cursor"
                            data-idl="field" data-title="cursor" data-dfn-for="MediaTrackCapabilities"
                            data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>cursor</code></dfn> 类型为
                        sequence&lt;DOMString&gt;</dt>

                    <dd>
                        <p><em class="rfc2119">必须</em> 完全由用户代理能够支持的
                            <a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-5"><code>CursorCaptureConstraint</code></a>
                            枚举中的值组成。
                        </p>
                    </dd>
                </dl>
            </section>



            <section id="displaycapturesurfacetype">
                <div class="header-wrapper">
                    <h4 id="x5-4-13-displaycapturesurfacetype"><bdi class="secno">5.4.13 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-displaycapturesurfacetype" data-idl="enum"
                            data-title="DisplayCaptureSurfaceType" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>DisplayCaptureSurfaceType</code></dfn>
                    </h4><a class="self-link" href="#displaycapturesurfacetype" aria-label="第 5.4.13 节的永久链接"></a>
                </div>

                <p><a data-link-type="idl" data-lt="DisplayCaptureSurfaceType" href="#dom-displaycapturesurfacetype"
                        class="internalDFN"
                        id="ref-for-dom-displaycapturesurfacetype-5"><code>DisplayCaptureSurfaceType</code></a>
                    枚举描述了不同类型的显示表面。</p>

                <pre class="idl def" id="webidl-2120422013"><span class="idlHeader"><a class="self-link" href="#webidl-2120422013">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-displaycapturesurfacetype" data-title="DisplayCaptureSurfaceType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-displaycapturesurfacetype" id="ref-for-dom-displaycapturesurfacetype-6"><code>DisplayCaptureSurfaceType</code></a> {
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-DisplayCaptureSurfaceType.monitor" id="ref-for-idl-def-DisplayCaptureSurfaceType.monitor-1"><code>monitor</code></a>"</span>,
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-DisplayCaptureSurfaceType.window" id="ref-for-idl-def-DisplayCaptureSurfaceType.window-3"><code>window</code></a>"</span>,
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-DisplayCaptureSurfaceType.browser" id="ref-for-idl-def-DisplayCaptureSurfaceType.browser-3"><code>browser</code></a>"</span>
                };</span></code></pre>

                <table data-dfn-for="DisplayCaptureSurfaceType" class="simple">
                    <thead>
                        <tr>
                            <th>枚举值</th>

                            <th>描述</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td><dfn id="idl-def-DisplayCaptureSurfaceType.monitor" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="monitor"
                                    data-dfn-for="DisplayCaptureSurfaceType" tabindex="0"
                                    aria-haspopup="dialog"><code>monitor</code></dfn>
                            </td>

                            <td>一个 <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                    id="ref-for-dfn-monitor-13">显示器</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-52">显示表面</a>、物理显示器或多个物理显示器的集合</td>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-DisplayCaptureSurfaceType.window" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="window"
                                    data-dfn-for="DisplayCaptureSurfaceType" tabindex="0"
                                    aria-haspopup="dialog"><code>window</code></dfn>
                            </td>

                            <td>一个 <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                                    id="ref-for-dfn-window-6">窗口</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-53">显示表面</a>，或单个应用程序窗口</td>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-DisplayCaptureSurfaceType.browser" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="browser"
                                    data-dfn-for="DisplayCaptureSurfaceType" tabindex="0"
                                    aria-haspopup="dialog"><code>browser</code></dfn>
                            </td>

                            <td>一个 <a data-link-type="dfn|abstract-op" href="#dfn-browser" class="internalDFN"
                                    id="ref-for-dfn-browser-9">浏览器</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-54">显示表面</a>，或单个浏览器窗口</td>
                        </tr>
                    </tbody>
                </table>
            </section>


            <section id="cursorcaptureconstraint">
                <div class="header-wrapper">
                    <h4 id="x5-4-14-cursorcaptureconstraint"><bdi class="secno">5.4.14 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-cursorcaptureconstraint" data-idl="enum"
                            data-title="CursorCaptureConstraint" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>CursorCaptureConstraint</code></dfn>
                    </h4><a class="self-link" href="#cursorcaptureconstraint" aria-label="第 5.4.14 节的永久链接"></a>
                </div>

                <p><a data-link-type="idl" data-lt="CursorCaptureConstraint" href="#dom-cursorcaptureconstraint"
                        class="internalDFN"
                        id="ref-for-dom-cursorcaptureconstraint-6"><code>CursorCaptureConstraint</code></a> 枚举了
                    捕获光标的不同条件。
                </p>

                <pre class="idl def" id="webidl-1713755194"><span class="idlHeader"><a class="self-link" href="#webidl-1713755194">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-cursorcaptureconstraint" data-title="CursorCaptureConstraint">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-cursorcaptureconstraint" id="ref-for-dom-cursorcaptureconstraint-7"><code>CursorCaptureConstraint</code></a> {
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CursorCaptureConstraint.never" id="ref-for-idl-def-CursorCaptureConstraint.never-1"><code>never</code></a>"</span>,
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CursorCaptureConstraint.always" id="ref-for-idl-def-CursorCaptureConstraint.always-1"><code>always</code></a>"</span>,
                  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CursorCaptureConstraint.motion" id="ref-for-idl-def-CursorCaptureConstraint.motion-1"><code>motion</code></a>"</span>
                };</span></code></pre>

                <table data-dfn-for="CursorCaptureConstraint" class="simple">
                    <thead>
                        <tr>
                            <th>枚举值</th>
                            <th>描述</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td><dfn id="idl-def-CursorCaptureConstraint.never" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="never"
                                    data-dfn-for="CursorCaptureConstraint" tabindex="0"
                                    aria-haspopup="dialog"><code>never</code></dfn>
                            </td>
                            <td>一个 "<a data-link-type="idl" href="#idl-def-CursorCaptureConstraint.never"
                                    class="internalDFN"
                                    id="ref-for-idl-def-CursorCaptureConstraint.never-2"><code>never</code></a>" 光标捕获约束
                                将光标从捕获的显示表面中省略。</td>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-CursorCaptureConstraint.always" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="always"
                                    data-dfn-for="CursorCaptureConstraint" tabindex="0"
                                    aria-haspopup="dialog"><code>always</code></dfn>
                            </td>
                            <td>一个 "<a data-link-type="idl" href="#idl-def-CursorCaptureConstraint.always"
                                    class="internalDFN"
                                    id="ref-for-idl-def-CursorCaptureConstraint.always-2"><code>always</code></a>"
                                光标捕获约束将光标包含在捕获的显示表面中。</td>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-CursorCaptureConstraint.motion" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="motion"
                                    data-dfn-for="CursorCaptureConstraint" tabindex="0"
                                    aria-haspopup="dialog"><code>motion</code></dfn>
                            </td>
                            <td>
                                一个 "<a data-link-type="idl" href="#idl-def-CursorCaptureConstraint.motion"
                                    class="internalDFN"
                                    id="ref-for-idl-def-CursorCaptureConstraint.motion-2"><code>motion</code></a>"
                                光标捕获约束将在光标/指针移动时将其包含在捕获的显示表面中。当指针/光标在一段时间内没有进一步移动时，捕获的光标将被移除，具体时间由 <a
                                    href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-user-agents-4">用户代理</a> 决定。
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </section>


        <section id="device-identifiers">
            <div class="header-wrapper">
                <h3 id="deviceId"><bdi class="secno">5.5 </bdi>设备标识符</h3><a class="self-link" href="#deviceId"
                    aria-label="第 5.5 节的永久链接"></a>
            </div>

            <p>每个潜在的捕获源在此 API 中都被视为一个独立的媒体源。然而，显示捕获源 <em class="rfc2119">不得</em> 通过
                <a data-link-type="idl" data-lt="enumerateDevices()" data-type="method"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-enumeratedevices"><code>enumerateDevices</code></a><code>()</code>
                被枚举，因为这会泄露主机系统的过多信息。
            </p>

            <p>因此，显示捕获源不能通过
                <a data-link-type="idl" data-type="dict-member"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksupportedconstraints-deviceid"><code>deviceId</code></a>
                约束来选择，因为它们的
                <a data-link-type="idl" data-type="attribute"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadeviceinfo-deviceid"><code>deviceId</code></a>
                不会被公开。
            </p>

            <div class="note" role="note" id="issue-container-generatedID-5">
                <div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>注意</span></div>
                <div class="">
                    <p>这不应与用于实现隐私指示器算法中同名的稳定且私密的 ID 混淆。</p>
                </div>
            </div>
        </section>
    </section>


    <section data-cite="permissions" id="permissions-integration">
        <div class="header-wrapper">
            <h2 id="permissions-intergration"><bdi class="secno">6. </bdi>权限集成</h2><a class="self-link"
                href="#permissions-intergration" aria-label="第 6 节的永久链接"></a>
        </div>

        <p><cite>屏幕捕获</cite>是一个由 <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions/#dfn-powerful-feature">强大功能</a>标识的特性，
            名称为 "display-capture"，需要使用 <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions/#dfn-express-permission">明确的权限</a>。
        </p>

        <p>根据与 <cite><a data-matched-text="[[[Permissions]]]" href="https://www.w3.org/TR/permissions/">权限</a></cite>
            规范的集成要求，
            本规范定义了以下内容：</p>

        <dl>
            <dt><a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission-state-constraints">权限状态约束</a></dt>

            <dd>
                此描述符的 <a data-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-permission-state">权限状态</a> 的有效值为
                "<a data-link-type="idl" data-type="enum-value"
                    href="https://www.w3.org/TR/permissions/#dom-permissionstate-prompt"><code>prompt</code></a>" 和
                "<a data-link-type="idl" data-type="enum-value"
                    href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>"。用户代理
                <em class="rfc2119">不得</em> 将此描述符的 <a data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission-state">权限状态</a> 设置为
                "<a data-link-type="idl" data-type="enum-value"
                    href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"。
            </dd>
        </dl>
    </section>


    <section id="permissions-policy-integration">
        <div class="header-wrapper">
            <h2 id="feature-policy-integration"><bdi class="secno">7. </bdi>权限策略集成</h2><a class="self-link"
                href="#feature-policy-integration" aria-label="第 7 节的永久链接"></a>
        </div>

        <p>本规范定义了一个由字符串 <dfn class="permission export" data-dfn-type="permission" data-export=""
                id="dfn-display-capture" tabindex="0" aria-haspopup="dialog"><code>"display-capture"</code></dfn> 标识的
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制的功能</a>。
            其<a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">默认允许列表</a>
            为 <code>"self"</code>。
        </p>

        <div class="note" role="note" id="issue-container-generatedID-6">
            <div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>注意</span></div>
            <div class="">
                <p>一个 <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-document">文档</a> 的 <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy">权限策略</a>
                    决定
                    该文档中的任何内容是否被允许使用
                    <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-18"><code>getDisplayMedia</code></a>。如果在任何文档中被禁用，
                    则该文档中的任何内容都将不被<a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">允许使用</a>
                    <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-19"><code>getDisplayMedia</code></a>。这由
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://www.w3.org/TR/permissions/#dfn-prompt-the-user-to-choose">提示用户选择</a>
                    算法强制执行。
                </p>
            </div>
        </div>
    </section>


    <section id="privacy-indicator-requirements">
        <div class="header-wrapper">
            <h2 id="x8-privacy-indicator-requirements"><bdi class="secno">8. </bdi>隐私指示器要求</h2><a class="self-link"
                href="#privacy-indicator-requirements" aria-label="第 8 节的永久链接"></a>
        </div>

        <p>本规范扩展了 <a href="https://www.w3.org/TR/mediacapture-streams/#privacy-indicator-requirements">隐私指示器要求</a>，基于
            <a data-link-type="idl" data-lt="getUserMedia()" data-type="method"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
            包括 <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-20"><code>getDisplayMedia</code></a>。
        </p>

        <p>本规范中提到的 [[devicesLiveMap]]、[[devicesAccessibleMap]] 和 [[kindsAccessibleMap]] 指的是已经创建的定义，用于支持
            <a data-link-type="idl" data-lt="getUserMedia()" data-type="method"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
            的隐私指示器要求。
        </p>

        <p>对于 <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-21"><code>getDisplayMedia</code></a> 暴露的每种 <var>kind</var>
            设备，使用设备的稳定且私密的 ID，<var>deviceId</var>，
            将 <var>kind</var> 设置为 <code>"Display"</code> + <var>kind</var>，并执行以下操作：</p>

        <ul>
            <li>定义 <var>any&lt;kind&gt;Accessible</var>（例如
                <var>anyDisplayVideoAccessible</var>）为 [[kindsAccessibleMap]]<var>[kind]</var> 值与该种类设备的所有
                [[devicesAccessibleMap]]<var>[deviceId]</var> 值的逻辑或，并将所有值初始化为 <code>false</code>。
            </li>

            <li>定义 <var>any&lt;kind&gt;Accessible</var>（例如
                <var>anyDisplayVideoAccessible</var>）为 [[kindsAccessibleMap]]<var>[kind]</var> 值与该种类设备的所有
                [[devicesAccessibleMap]]<var>[deviceId]</var> 值的逻辑或，并将所有值初始化为 <code>false</code>。
            </li>

            <li>定义 any<var>&lt;kind&gt;Live</var>（例如
                <var>anyDisplayVideoLive</var>）为该种类设备的所有 [[devicesLiveMap]]<var>[deviceId]</var> 值的逻辑或。
            </li>
        </ul>

        <p>然后，基于上述新定义，用户代理的要求与 <a
                href="https://www.w3.org/TR/mediacapture-streams/#privacy-indicator-requirements">隐私指示器要求</a> 的
            <a data-link-type="idl" data-lt="getUserMedia()" data-type="method"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
            方法中的要求相同。
        </p>

        <div class="note" role="note" id="issue-container-generatedID-7">
            <div role="heading" class="note-title marker" id="h-note-7" aria-level="3"><span>注意</span></div>
            <div class="">
                <p>尽管对于 <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-22"><code>getDisplayMedia</code></a> 存在单一的权限描述符，以上
                    定义通过种类进行区分，以便用户代理能够实现隐私指示器，向最终用户展示正在共享的特定类型的显示源。</p>
            </div>
        </div>

        <div class="note" role="note" id="issue-container-generatedID-8">
            <div role="heading" class="note-title marker" id="h-note-8" aria-level="3"><span>注意</span></div>
            <div class="">
                <p>由于本规范禁止用户代理持久化
                    "<a data-link-type="idl" data-type="enum-value"
                        href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"
                    权限，因此只有 "Live" 指示器是
                    重要的。</p>
            </div>
        </div>

        <p>用户代理 <em class="rfc2119">不得</em> 根据
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="#dfn-devicechange" class="internalDFN"
                id="ref-for-dfn-devicechange-1">devicechange</a> 事件
            根据
            <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-23"><code>getDisplayMedia</code></a> 的可用源集的变化触发。
        </p>
    </section>


    <section id="security-and-permissions">
        <div class="header-wrapper">
            <h2 id="x9-security-and-permissions"><bdi class="secno">9. </bdi>安全性与权限</h2><a class="self-link"
                href="#security-and-permissions" aria-label="第 9 节的永久链接"></a>
        </div>

        <p>本节为说明性内容；然而，如果未遵守其中包含的建议，将对平台安全构成一些严重风险。</p>

        <p>捕获显示内容对用户隐私和安全构成的风险有两个方面。直接且明显的风险是用户不小心分享了他们不希望分享的内容，或可能未意识到会被分享的内容。</p>

        <p>显示捕获对浏览器沙盒提供的跨站请求伪造保护构成了不太明显的风险。显示和捕获由应用程序控制的信息，即使是间接控制，也可能允许该应用程序访问原本无法直接访问的信息。例如，画布 API
            不允许对画布进行采样，或在其未清除来源时转换为可访问的形式[<cite><a class="bibref" data-link-type="biblio" href="#bib-2dcontext"
                    title="HTML Canvas 2D Context">2DCONTEXT</a></cite>]。</p>

        <p>这个问题在 [<cite><a class="bibref" data-link-type="biblio" href="#bib-rtcweb-security-arch"
                    title="WebRTC Security Architecture">RTCWEB-SECURITY-ARCH</a></cite>]
            和 [<cite><a class="bibref" data-link-type="biblio" href="#bib-rtcweb-security"
                    title="Security Considerations for WebRTC">RTCWEB-SECURITY</a></cite>] 中有更详细的讨论。</p>

        <p>显示捕获包括浏览器窗口，特别是那些由任何形式的应用程序控制的窗口，存在违反这些基本安全保护的风险。这种风险不仅限于浏览器窗口，因为取决于操作系统，浏览器应用程序与其他应用程序之间的控制通道也是如此。关键考虑因素是，捕获的
            <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-display-surface-55">显示表面</a> 是否可能以某种方式呈现对接收媒体的应用程序而言本应保密的信息。
        </p>

        <section id="capturing-logical-or-visible-display-surfaces">
            <div class="header-wrapper">
                <h3 id="x9-1-capturing-logical-or-visible-display-surfaces"><bdi class="secno">9.1 </bdi>捕获逻辑或可见显示表面
                </h3><a class="self-link" href="#capturing-logical-or-visible-display-surfaces"
                    aria-label="第 9.1 节的永久链接"></a>
            </div>

            <p>捕获 <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-6">逻辑显示表面</a> 会导致有可能共享用户未意识到的内容。一个
                <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-7">逻辑显示表面</a>
                可能会呈现用户不打算公开的信息。如果这些信息是可见的，用户更容易识别出来。这些方法对机器可能无效，但人类接收者不太可能处理仅短暂出现的内容。
            </p>

            <p>建议将当前未渲染到屏幕上的信息在捕获时遮蔽，除非应用程序已通过 <a href="#dfn-elevated-permissions" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-elevated-permissions-2">提升权限</a>
                专门授权访问该内容。</p>

            <p>如何捕获 <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-8">逻辑显示表面</a> 的遮蔽区域以生成 <a
                    href="#dfn-visible-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-visible-display-surface-5">可见显示表面</a> 捕获 <em class="rfc2119">可以</em>
                变化。一些应用程序，如演示软件，受益于将遮蔽部分的屏幕渲染为在遮蔽之前出现的图像。冻结图像可能会导致动态内容的视觉伪影，或隐藏内容被遮蔽的事实。请注意，捕获的冻结部分可能被错误地认为是错误。或者，遮蔽区域可能被替换为标记其被遮蔽的内容，例如灰色或阴影。
            </p>

            <p>一些系统可能仅捕获 <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-9">逻辑显示表面</a>。例如，具有小屏幕的设备通常没有
                <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                    id="ref-for-dfn-window-7">窗口</a> 的概念，并且仅以全屏模式呈现应用程序。这些系统可能会提供对当前不可见的应用程序的捕获，如果不捕获 <a
                    href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-10">逻辑显示表面</a>，则可能无法使用。
            </p>

            <p>当捕获部分透明的 <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                    id="ref-for-dfn-window-8">窗口</a> 或其他 <a href="#dfn-display-surface" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-display-surface-56">显示表面</a> 时，任何后面的内容将不会被捕获。</p>

            <p>存在一个风险，即用户提示可能会因新创建的 <a data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                暂时显示在用户选择的屏幕上。例如，如果用户选择了显示用户提示的屏幕，那么该用户提示可能会短暂地暴露给网页。在用户提示显示可供选择的各种表面预览的情况下，这些预览将不会被新创建的 <a
                    data-link-type="idl" data-lt="MediaStreamTrack" data-type="interface"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                捕获。</p>

            <section id="capturing-audio">
                <div class="header-wrapper">
                    <h4 id="x9-1-1-capturing-audio"><bdi class="secno">9.1.1 </bdi>捕获音频</h4><a class="self-link"
                        href="#capturing-audio" aria-label="第 9.1.1 节的永久链接"></a>
                </div>

                <p><a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-24"><code>getDisplayMedia</code></a> 允许
                    同时捕获音频和视频，这会带来隐私和安全问题，因为这可能会暴露有关系统应用程序的附加信息，并且共享的音频源集合不一定与共享的视频源集合相同。例如，捕获一个 <a
                        data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                        id="ref-for-dfn-window-9">窗口</a> 的视频，同时伴随整个系统的音频，
                    包括与该窗口无关的应用程序的音频，将不会在未获得 <a href="#dfn-active-user-consent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-active-user-consent-2">主动用户同意</a>
                    的情况下共享。重要的是用户了解将共享哪些内容，包括任何可能的音频。强烈建议允许用户仅对视频而非音频给予同意，从而生成仅视频的流。这确保了对音频的请求始终是可选的，并且不会限制用户与仅视频请求相比的选择。
                </p>
            </section>
        </section>

        <section id="authorizing-display-capture">
            <div class="header-wrapper">
                <h3 id="x9-2-authorizing-display-capture"><bdi class="secno">9.2 </bdi>授权显示捕获</h3>
                <a class="self-link" href="#authorizing-display-capture" aria-label="第 9.2 节的永久链接"></a>
            </div>

            <p>本文档鼓励实现提供额外的限制，以加强用于确认用户同意的机制。这些限制旨在减轻 API 带来的安全和隐私风险。</p>

            <p>描述了两种形式的同意交互：<a href="#dfn-active-user-consent" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-active-user-consent-3">主动用户同意</a> 和一系列
                <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-elevated-permissions-3">提升权限</a>。这些仅为非规范性建议。
            </p>

            <section id="active-user-consent">
                <div class="header-wrapper">
                    <h4 id="x9-2-1-active-user-consent"><bdi class="secno">9.2.1 </bdi>主动用户同意</h4><a class="self-link"
                        href="#active-user-consent" aria-label="第 9.2.1 节的永久链接"></a>
                </div>

                <p><dfn id="dfn-active-user-consent" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">主动用户同意</dfn> 在应用程序几乎没有或没有获得用户未打算分享的信息的风险时是足够的。这些情况可以通过那些请求捕获的应用程序无法控制捕获的 <a
                        href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-display-surface-57">显示表面</a> 内容的应用程序来识别。</p>

                <p>为了防止应用程序限制呈现给用户的可用选择，从而促进特定选择的目标，<a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-25"><code>getDisplayMedia</code></a> API
                    不允许使用约束来缩小呈现的选项集。</p>
            </section>

            <section id="elevated-permissions">
                <div class="header-wrapper">
                    <h4 id="x9-2-2-elevated-permissions"><bdi class="secno">9.2.2 </bdi>提升权限</h4><a class="self-link"
                        href="#elevated-permissions" aria-label="第 9.2.2 节的永久链接"></a>
                </div>

                <p>强烈建议要求 <dfn id="dfn-elevated-permissions" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">提升权限</dfn> 以访问任何可能被用来
                    绕过内容跨源保护的 <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-display-surface-58">显示表面</a>。这个同意过程的关键目标不仅是证明用户有意分享内容，
                    而且还要确定用户对被授予访问权限的应用程序表现出更高的信任级别。</p>

                <p>可能会提供多种不同的控制来授予 <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-4">提升权限</a>。本节描述了可以独立授予的几种不同能力。一个
                    <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agents-5">用户代理</a> 可能会选择禁止访问任何需要
                    <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-5">提升权限</a> 的能力。
                </p>

                <p>如果支持访问这些表面，强烈建议任何获取
                    <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-6">提升权限</a>
                    的机制不应仅依赖于简单的用户同意提示。任何操作都需要确保授权具有提升权限的应用程序的决定是有意的。例如，一个
                    <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agents-6">用户代理</a> 可能会要求一个类似于软件安装的过程，以表示用户已授予对
                    <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-7">提升权限</a>
                    的同意。
                </p>

                <p><a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-8">提升权限</a> 体验可以允许 <a href="#dfn-user-agents"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agents-7">用户代理</a>
                    传达启用此功能的相关风险，或者至少传达对被授予访问权限的应用程序需要增强信任。</p>

                <p>请注意，<a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-9">提升权限</a> 不是
                    <a href="#dfn-active-user-consent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-active-user-consent-4">主动用户同意</a> 的替代品。建议
                    <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agents-8">用户代理</a> 仍然为用户提供选择共享内容的能力，即使对于具有
                    <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-10">提升权限</a> 的应用程序也是如此。
                </p>
            </section>

            <section id="capabilities-depending-on-elevated-permissions">
                <div class="header-wrapper">
                    <h4 id="x9-2-3-capabilities-depending-on-elevated-permissions"><bdi class="secno">9.2.3
                        </bdi>依赖于提升权限的能力</h4><a class="self-link" href="#capabilities-depending-on-elevated-permissions"
                        aria-label="第 9.2.3 节的永久链接"></a>
                </div>

                <p><a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-11">提升权限</a> 被鼓励作为访问捕获
                    <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                        id="ref-for-dfn-monitor-14">监视器</a> 或 <a data-link-type="dfn|abstract-op" href="#dfn-browser"
                        class="internalDFN" id="ref-for-dfn-browser-10">浏览器</a> <a href="#dfn-display-surface"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-display-surface-59">显示表面</a>
                    的访问权限。请注意，完整的 <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                        id="ref-for-dfn-monitor-15">监视器</a> 的捕获包括因为这可能包括来自 <a href="#dfn-user-agents"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agents-9">用户代理</a> 的窗口。
                </p>

                <p>类似地，<a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-12">提升权限</a> 是访问
                    <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-logical-display-surface-11">逻辑显示表面</a> 的访问权限的鼓励前提，
                    该显示表面通常不会被提供。
                </p>

                <p>强烈建议对授予给某个源的任何 <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-13">提升权限</a> 持久化。<a href="#dfn-elevated-permissions"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-elevated-permissions-14">提升权限</a>
                    过程部分依赖于其新颖性，以确保正确捕获用户意图。</p>
            </section>
        </section>

        <section id="feedback-and-interface-during-capture">
            <div class="header-wrapper">
                <h3 id="x9-3-feedback-and-interface-during-capture"><bdi class="secno">9.3 </bdi>捕获期间的反馈与界面</h3><a
                    class="self-link" href="#feedback-and-interface-during-capture" aria-label="第 9.3 节的永久链接"></a>
            </div>

            <p>建议实现提供类似于用户在共享摄像头或麦克风时所提供的用户反馈和控制机制，正如 [<cite><a class="bibref" data-link-type="biblio"
                        href="#bib-getusermedia" title="Media Capture and Streams">GETUSERMEDIA</a></cite>] 中所鼓励的。</p>

            <p>用户在内容被积极捕获时了解内容正在被共享是非常重要的。<a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agents-10">用户代理</a> 建议在内容被捕获时显示显著的指示器。除了指示器外，建议 <a href="#dfn-user-agents"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agents-11">用户代理</a>
                提供一种方法，精确了解正在共享的内容；虽然应用程序通过呈现捕获的内容可以轻松提供此功能，但此信息允许用户准确评估正在共享的内容。</p>

            <p>除了反馈机制外，还建议提供一种方法让用户停止任何活动的捕获。</p>
        </section>
    </section>



    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-references"><bdi class="secno">A. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="附录 A 的永久链接"></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>规范性参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="附录 A.1 的永久链接"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-2dcontext">[2DCONTEXT]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/2dcontext/"><cite>HTML Canvas 2D Context</cite></a>。Rik Cabanier;
                    Jatinder Mann; Jay Munro; Tom Wiltzius; Ian Hickson。W3C。2021年1月28日。W3C 推荐。URL:
                    <a href="https://www.w3.org/TR/2dcontext/">https://www.w3.org/TR/2dcontext/</a>
                </dd>
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>。Anne van Kesteren。WHATWG。
                    活动标准。URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-ecma-262">[ECMA-262]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>。
                    Ecma International。URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-getusermedia">[GETUSERMEDIA]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/mediacapture-streams/"><cite>媒体捕获与流</cite></a>。
                    Cullen Jennings; Bernard Aboba; Jan-Ivar Bruaroey; Henrik Boström; youenn fablet。W3C。2024年6月20日。
                    W3C 候选推荐。URL: <a
                        href="https://www.w3.org/TR/mediacapture-streams/">https://www.w3.org/TR/mediacapture-streams/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>。Anne van Kesteren;
                    Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters。WHATWG。活动标准。URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>基础设施标准</cite></a>。Anne van Kesteren; Domenic
                    Denicola。WHATWG。活动标准。URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-permissions">[Permissions]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions/"><cite>权限</cite></a>。Marcos Caceres; Mike Taylor。
                    W3C。2024年3月19日。W3C 工作草案。URL: <a
                        href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
                </dd>
                <dt id="bib-permissions-policy">[permissions-policy]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>权限策略</cite></a>。Ian
                    Clelland。W3C。2024年6月27日。W3C 工作草案。URL: <a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>RFC 中用于指示要求级别的关键词</cite></a>。
                    S. Bradner。IETF。1997年3月。最佳当前实践。URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC 2119 关键词中大写与小写的歧义</cite></a>。
                    B. Leiba。IETF。2017年5月。最佳当前实践。URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-rtcweb-security">[RTCWEB-SECURITY]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8826"><cite>WebRTC 的安全性考虑</cite></a>。E.
                    Rescorla。IETF。2021年1月。提案标准。URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8826">https://www.rfc-editor.org/rfc/rfc8826</a>
                </dd>
                <dt id="bib-rtcweb-security-arch">[RTCWEB-SECURITY-ARCH]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8827"><cite>WebRTC 安全架构</cite></a>。E.
                    Rescorla。IETF。2021年1月。提案标准。URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8827">https://www.rfc-editor.org/rfc/rfc8827</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。Edgar Chen; Timothy Gu。
                    WHATWG。活动标准。URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="a-2-informative-references"><bdi class="secno">A.2 </bdi>信息性参考文献</h3><a class="self-link"
                    href="#informative-references" aria-label="附录 A.2 的永久链接"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-mediacapture-depth">[MEDIACAPTURE-DEPTH]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/mediacapture-depth/"><cite>媒体捕获深度流扩展</cite></a>。Anssi Kostiainen;
                    Ningxin Hu; Rijubrata Bhaumik; Rob Manson。W3C。2022年2月1日。W3C 工作草案。URL: <a
                        href="https://www.w3.org/TR/mediacapture-depth/">https://www.w3.org/TR/mediacapture-depth/</a>
                </dd>
                <dt id="bib-webrtc">[WEBRTC]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webrtc/"><cite>WebRTC：浏览器中的实时通信</cite></a>。Cullen Jennings;
                    Florent Castelli; Henrik Boström; Jan-Ivar Bruaroey。W3C。2023年3月6日。W3C 推荐。URL: <a
                        href="https://www.w3.org/TR/webrtc/">https://www.w3.org/TR/webrtc/</a>
                </dd>
            </dl>
        </section>
    </section>

    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="返回顶部">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-user-agents"
        aria-label="Links in this document to definition: user agent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-user-agents"
                aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-user-agents-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a> <a href="#ref-for-dfn-user-agents-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-user-agents-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agents-4" title="§ 5.4.14 CursorCaptureConstraint">§ 5.4.14
                    CursorCaptureConstraint</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agents-5" title="§ 9.2.2 Elevated Permissions">§ 9.2.2 Elevated
                    Permissions</a> <a href="#ref-for-dfn-user-agents-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-user-agents-7" title="Reference 3">(3)</a> <a href="#ref-for-dfn-user-agents-8"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agents-9" title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§
                    9.2.3 Capabilities Depending on Elevated Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agents-10" title="§ 9.3 Feedback and Interface During Capture">§ 9.3 Feedback
                    and Interface During Capture</a> <a href="#ref-for-dfn-user-agents-11" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-display-surface"
        aria-label="Links in this document to definition: display surfaces">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-display-surface"
                aria-label="Permalink for definition: display surfaces. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-display-surface-1" title="§ 4. Terminology">§ 4. Terminology</a> <a
                    href="#ref-for-dfn-display-surface-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-display-surface-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-5" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-6" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a> <a href="#ref-for-dfn-display-surface-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-display-surface-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-9" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-10" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-11" title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2
                    Closed and Minimized Display Surfaces</a> <a href="#ref-for-dfn-display-surface-12"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-13" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-14" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-15" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-16"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-display-surface-17"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-18" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-19" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-20" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-display-surface-21" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-display-surface-22" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-display-surface-23" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-display-surface-24" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-display-surface-25" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-display-surface-26" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-display-surface-27" title="Reference 12">(12)</a> <a
                    href="#ref-for-dfn-display-surface-28" title="Reference 13">(13)</a> <a
                    href="#ref-for-dfn-display-surface-29" title="Reference 14">(14)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-30" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1
                    Downscaling and Frame Decimation</a> <a href="#ref-for-dfn-display-surface-31"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-32" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-33" title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2
                    CaptureStartFocusBehavior</a> <a href="#ref-for-dfn-display-surface-34" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-35" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dfn-display-surface-36" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-display-surface-37" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-38" title="§ 5.4.4 SelfCapturePreferenceEnum">§ 5.4.4
                    SelfCapturePreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-39" title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5
                    SystemAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-40" title="§ 5.4.6 SurfaceSwitchingPreferenceEnum">§ 5.4.6
                    SurfaceSwitchingPreferenceEnum</a> <a href="#ref-for-dfn-display-surface-41"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-42" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-43" title="§ 5.4.7 MonitorTypeSurfacesEnum">§ 5.4.7
                    MonitorTypeSurfacesEnum</a> <a href="#ref-for-dfn-display-surface-44" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-display-surface-45" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-46" title="§ Dictionary DisplayMediaStreamOptions Members">§
                    Dictionary DisplayMediaStreamOptions Members</a> <a href="#ref-for-dfn-display-surface-47"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-48" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-49" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-50" title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§
                    5.4.10 Extensions to MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-51" title="§ 5.4.11 Extensions to MediaTrackSettings">§ 5.4.11
                    Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-52" title="§ 5.4.13 DisplayCaptureSurfaceType">§ 5.4.13
                    DisplayCaptureSurfaceType</a> <a href="#ref-for-dfn-display-surface-53" title="Reference 2">(2)</a>
                <a href="#ref-for-dfn-display-surface-54" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-55" title="§ 9. Security and Permissions">§ 9. Security and
                    Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-56" title="§ 9.1 Capturing Logical or Visible Display Surfaces">§
                    9.1 Capturing Logical or Visible Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-57" title="§ 9.2.1 Active User Consent">§ 9.2.1 Active User
                    Consent</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-58" title="§ 9.2.2 Elevated Permissions">§ 9.2.2 Elevated
                    Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-59"
                    title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3 Capabilities Depending on
                    Elevated Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-monitor"
        aria-label="Links in this document to definition: monitor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-monitor"
                aria-label="Permalink for definition: monitor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-monitor-1" title="§ 4. Terminology">§ 4. Terminology</a> <a
                    href="#ref-for-dfn-monitor-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-monitor-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-monitor-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-5" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-6" title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2 Closed and
                    Minimized Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-7" title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5
                    SystemAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-8" title="§ 5.4.7 MonitorTypeSurfacesEnum">§ 5.4.7
                    MonitorTypeSurfacesEnum</a> <a href="#ref-for-dfn-monitor-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monitor-10" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-11" title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary
                    DisplayMediaStreamOptions Members</a> <a href="#ref-for-dfn-monitor-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-13" title="§ 5.4.13 DisplayCaptureSurfaceType">§ 5.4.13
                    DisplayCaptureSurfaceType</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-14" title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3
                    Capabilities Depending on Elevated Permissions</a> <a href="#ref-for-dfn-monitor-15"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-window"
        aria-label="Links in this document to definition: window">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-window"
                aria-label="Permalink for definition: window. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-window-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a> <a
                    href="#ref-for-dfn-window-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-3" title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2 Closed and
                    Minimized Display Surfaces</a> <a href="#ref-for-dfn-window-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-5" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1 Downscaling and
                    Frame Decimation</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-6" title="§ 5.4.13 DisplayCaptureSurfaceType">§ 5.4.13
                    DisplayCaptureSurfaceType</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-7" title="§ 9.1 Capturing Logical or Visible Display Surfaces">§ 9.1
                    Capturing Logical or Visible Display Surfaces</a> <a href="#ref-for-dfn-window-8"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-9" title="§ 9.1.1 Capturing Audio">§ 9.1.1 Capturing Audio</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-browser"
        aria-label="Links in this document to definition: browser">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-browser"
                aria-label="Permalink for definition: browser. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-browser-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a>
                <a href="#ref-for-dfn-browser-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-3" title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2 Closed and
                    Minimized Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-4" title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§
                    5.4 Constrainable Properties for Captured Display Surfaces</a> <a href="#ref-for-dfn-browser-5"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-browser-6" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-7" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1 Downscaling
                    and Frame Decimation</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-8" title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary
                    DisplayMediaStreamOptions Members</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-9" title="§ 5.4.13 DisplayCaptureSurfaceType">§ 5.4.13
                    DisplayCaptureSurfaceType</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-10" title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3
                    Capabilities Depending on Elevated Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-logical-display-surface"
        aria-label="Links in this document to definition: logical display surface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-logical-display-surface"
                aria-label="Permalink for definition: logical display surface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-1" title="§ 4. Terminology">§ 4. Terminology</a> <a
                    href="#ref-for-dfn-logical-display-surface-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-3"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-4"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-5" title="§ 5.4.11 Extensions to MediaTrackSettings">§
                    5.4.11 Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-6"
                    title="§ 9.1 Capturing Logical or Visible Display Surfaces">§ 9.1 Capturing Logical or Visible
                    Display Surfaces</a> <a href="#ref-for-dfn-logical-display-surface-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-logical-display-surface-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-logical-display-surface-9" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-logical-display-surface-10" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-11"
                    title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3 Capabilities Depending on
                    Elevated Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-visible-display-surface"
        aria-label="Links in this document to definition: visible display surface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-visible-display-surface"
                aria-label="Permalink for definition: visible display surface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-1" title="§ 4. Terminology">§ 4. Terminology</a>
            </li>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-2"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-3"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-4" title="§ 5.4.11 Extensions to MediaTrackSettings">§
                    5.4.11 Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-5"
                    title="§ 9.1 Capturing Logical or Visible Display Surfaces">§ 9.1 Capturing Logical or Visible
                    Display Surfaces</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-source-pixel-ratio"
        aria-label="Links in this document to definition: source pixel ratio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-source-pixel-ratio"
                aria-label="Permalink for definition: source pixel ratio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-source-pixel-ratio-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-source-pixel-ratio-2" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1
                    Downscaling and Frame Decimation</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-devicechange"
        aria-label="Links in this document to definition: devicechange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-devicechange"
                aria-label="Permalink for definition: devicechange. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-devicechange-1" title="§ 8. Privacy Indicator Requirements">§ 8. Privacy Indicator
                    Requirements</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediadevices"
        aria-label="Links in this document to definition: MediaDevices">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediadevices"
                aria-label="Permalink for definition: MediaDevices. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediadevices-1" title="§ 5. Capturing Displayed Media">§ 5. Capturing Displayed
                    Media</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-2" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediadevices-getdisplaymedia"
        aria-label="Links in this document to definition: getDisplayMedia">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediadevices-getdisplaymedia"
                aria-label="Permalink for definition: getDisplayMedia. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1871707568">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-1" title="§ Abstract">§ Abstract</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-2" title="§ 5. Capturing Displayed Media">§ 5.
                    Capturing Displayed Media</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-3" title="§ 5.1 MediaDevices Additions">§ 5.1
                    MediaDevices Additions</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-5"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-6"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-7"
                    title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2 Closed and Minimized Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-8"
                    title="§ 5.3 Unconstrained Display Surface Selection">§ 5.3 Unconstrained Display Surface
                    Selection</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-9"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-10"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-11"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-12"
                    title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1 Downscaling and Frame Decimation</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-13" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-14" title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5
                    SystemAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-15" title="§ 5.4.6 SurfaceSwitchingPreferenceEnum">§
                    5.4.6 SurfaceSwitchingPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-16" title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-17"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-18" title="§ 7. Permissions Policy Integration">§ 7.
                    Permissions Policy Integration</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-19"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-20" title="§ 8. Privacy Indicator Requirements">§ 8.
                    Privacy Indicator Requirements</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-21"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-22"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-23"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-24" title="§ 9.1.1 Capturing Audio">§ 9.1.1 Capturing
                    Audio</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-25" title="§ 9.2.1 Active User Consent">§ 9.2.1
                    Active User Consent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-capture-session"
        aria-label="Links in this document to definition: capture-session">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-capture-session"
                aria-label="Permalink for definition: capture-session. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-capture-session-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-capture-session-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-capture-session-3" title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2
                    CaptureStartFocusBehavior</a> <a href="#ref-for-dfn-capture-session-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-capture-session-5" title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a>
                <a href="#ref-for-dfn-capture-session-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-capture-session-7" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-capture-session-8" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-capture-session-9" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-capture-session-10" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-capture-session-11" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-capture-session-12" title="§ Dictionary DisplayMediaStreamOptions Members">§
                    Dictionary DisplayMediaStreamOptions Members</a> <a href="#ref-for-dfn-capture-session-13"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-width"
        aria-label="Links in this document to definition: width">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-width"
                aria-label="Permalink for definition: width. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-height"
        aria-label="Links in this document to definition: height">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-height"
                aria-label="Permalink for definition: height. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-framerate"
        aria-label="Links in this document to definition: frameRate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-framerate"
                aria-label="Permalink for definition: frameRate. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-aspectratio"
        aria-label="Links in this document to definition: aspectRatio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-aspectratio"
                aria-label="Permalink for definition: aspectRatio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-resizemode"
        aria-label="Links in this document to definition: resizeMode">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-resizemode"
                aria-label="Permalink for definition: resizeMode. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-displaysurface-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-displaysurface-2" title="§ 5.3 Unconstrained Display Surface Selection">§ 5.3
                    Unconstrained Display Surface Selection</a>
            </li>
            <li>
                <a href="#ref-for-dfn-displaysurface-3" title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§
                    5.4.9 Extensions to MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-logicalsurface-1" title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§
                    5.4.9 Extensions to MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-cursor"
        aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-cursor-1" title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§ 5.4.9
                    Extensions to MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-restrictownaudio"
        aria-label="Links in this document to definition: restrictOwnAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-restrictownaudio"
                aria-label="Permalink for definition: restrictOwnAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-restrictownaudio-1" title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§
                    5.4.9 Extensions to MediaTrackSupportedConstraints</a>
            </li>
            <li>
                <a href="#ref-for-dfn-restrictownaudio-2" title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§
                    5.4.10 Extensions to MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dfn-restrictownaudio-3" title="§ 5.4.11 Extensions to MediaTrackSettings">§ 5.4.11
                    Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-own-audio-restriction"
        aria-label="Links in this document to definition: own audio restriction">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-own-audio-restriction"
                aria-label="Permalink for definition: own audio restriction. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-own-audio-restriction-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-own-audio-restriction-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-suppresslocalaudioplayback"
        aria-label="Links in this document to definition: suppressLocalAudioPlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-suppresslocalaudioplayback"
                aria-label="Permalink for definition: suppressLocalAudioPlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-suppresslocalaudioplayback-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-suppresslocalaudioplayback-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-suppresslocalaudioplayback-3"
                    title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§ 5.4.9 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
            <li>
                <a href="#ref-for-dfn-suppresslocalaudioplayback-4"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-local-audio-playback-suppression"
        aria-label="Links in this document to definition: local audio playback suppression">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-local-audio-playback-suppression"
                aria-label="Permalink for definition: local audio playback suppression. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-local-audio-playback-suppression-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-local-audio-playback-suppression-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-local-audio-playback-suppression-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-local-audio-playback-suppression-4"
                    title="§ 5.4.11 Extensions to MediaTrackSettings">§ 5.4.11 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-floor-value"
        aria-label="Links in this document to definition: floor value">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-floor-value"
                aria-label="Permalink for definition: floor value. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-floor-value-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-floor-value-2" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1
                    Downscaling and Frame Decimation</a> <a href="#ref-for-dfn-floor-value-3"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-capturestartfocusbehavior"
        aria-label="Links in this document to definition: CaptureStartFocusBehavior">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-capturestartfocusbehavior"
                aria-label="Permalink for definition: CaptureStartFocusBehavior. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-214854339">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-capturestartfocusbehavior-1" title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2
                    CaptureStartFocusBehavior</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturestartfocusbehavior-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application"
        aria-label="Links in this document to definition: focus-capturing-application">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CaptureStartFocusBehavior.focus-capturing-application"
                aria-label="Permalink for definition: focus-capturing-application. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-214854339">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application-1"
                    title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2 CaptureStartFocusBehavior</a>
            </li>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application-2"
                    title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface"
        aria-label="Links in this document to definition: focus-captured-surface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CaptureStartFocusBehavior.focus-captured-surface"
                aria-label="Permalink for definition: focus-captured-surface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-214854339">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface-1"
                    title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2 CaptureStartFocusBehavior</a>
            </li>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface-2"
                    title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CaptureStartFocusBehavior.no-focus-change"
        aria-label="Links in this document to definition: no-focus-change">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CaptureStartFocusBehavior.no-focus-change"
                aria-label="Permalink for definition: no-focus-change. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-214854339">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.no-focus-change-1"
                    title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2 CaptureStartFocusBehavior</a> <a
                    href="#ref-for-idl-def-CaptureStartFocusBehavior.no-focus-change-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-capturecontroller"
        aria-label="Links in this document to definition: CaptureController">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-capturecontroller"
                aria-label="Permalink for definition: CaptureController. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-999726024">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-capturecontroller-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-2" title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2
                    CaptureStartFocusBehavior</a> <a href="#ref-for-dom-capturecontroller-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-4" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dom-capturecontroller-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-capturecontroller-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-capturecontroller-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-capturecontroller-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-capturecontroller-9" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-capturecontroller-10" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-11" title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-12" title="§ Dictionary DisplayMediaStreamOptions Members">§
                    Dictionary DisplayMediaStreamOptions Members</a> <a href="#ref-for-dom-capturecontroller-13"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-capturecontroller-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-capturecontroller-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-999726024">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-capturecontroller-constructor-1" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-isbound"
        aria-label="Links in this document to definition: [[IsBound]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-isbound"
                aria-label="Permalink for definition: [[IsBound]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-isbound-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a>
                <a href="#ref-for-dfn-isbound-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-source"
        aria-label="Links in this document to definition: [[Source]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-source"
                aria-label="Permalink for definition: [[Source]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-source-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a> <a
                    href="#ref-for-dfn-source-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-source-3" title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a> <a
                    href="#ref-for-dfn-source-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-source-5"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-displaysurfacetype"
        aria-label="Links in this document to definition: [[DisplaySurfaceType]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-displaysurfacetype"
                aria-label="Permalink for definition: [[DisplaySurfaceType]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-displaysurfacetype-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-displaysurfacetype-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dfn-displaysurfacetype-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-focuschangedisabled"
        aria-label="Links in this document to definition: [[FocusChangeDisabled]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-focuschangedisabled"
                aria-label="Permalink for definition: [[FocusChangeDisabled]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-focuschangedisabled-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-focuschangedisabled-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dfn-focuschangedisabled-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-focusdecisionfinalized"
        aria-label="Links in this document to definition: [[FocusDecisionFinalized]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-focusdecisionfinalized"
                aria-label="Permalink for definition: [[FocusDecisionFinalized]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-focusdecisionfinalized-1" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dfn-focusdecisionfinalized-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-focusdecisionfinalized-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-focusdecisionfinalized-4" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-focusbehavior"
        aria-label="Links in this document to definition: [[FocusBehavior]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-focusbehavior"
                aria-label="Permalink for definition: [[FocusBehavior]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-focusbehavior-1" title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a>
                <a href="#ref-for-dfn-focusbehavior-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-focusbehavior-3" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-capturecontroller-setfocusbehavior"
        aria-label="Links in this document to definition: setFocusBehavior">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-capturecontroller-setfocusbehavior"
                aria-label="Permalink for definition: setFocusBehavior. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-999726024">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-capturecontroller-setfocusbehavior-1" title="§ 5.4.2 CaptureStartFocusBehavior">§
                    5.4.2 CaptureStartFocusBehavior</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-setfocusbehavior-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-finalize-focus-decision-algorithm"
        aria-label="Links in this document to definition: finalize focus decision algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-finalize-focus-decision-algorithm"
                aria-label="Permalink for definition: finalize focus decision algorithm. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-finalize-focus-decision-algorithm-1" title="§ 5.1 MediaDevices Additions">§ 5.1
                    MediaDevices Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-finalize-focus-decision-algorithm-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-selfcapturepreferenceenum"
        aria-label="Links in this document to definition: SelfCapturePreferenceEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-selfcapturepreferenceenum"
                aria-label="Permalink for definition: SelfCapturePreferenceEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-83534870">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-selfcapturepreferenceenum-1" title="§ 5.4.4 SelfCapturePreferenceEnum">§ 5.4.4
                    SelfCapturePreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-selfcapturepreferenceenum-2" title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-selfcapturepreferenceenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SelfCapturePreferenceEnum.include"
        aria-label="Links in this document to definition: include">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SelfCapturePreferenceEnum.include"
                aria-label="Permalink for definition: include. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-83534870">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SelfCapturePreferenceEnum.include-1"
                    title="§ 5.4.4 SelfCapturePreferenceEnum">§ 5.4.4 SelfCapturePreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SelfCapturePreferenceEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SelfCapturePreferenceEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-83534870">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SelfCapturePreferenceEnum.exclude-1"
                    title="§ 5.4.4 SelfCapturePreferenceEnum">§ 5.4.4 SelfCapturePreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-systemaudiopreferenceenum"
        aria-label="Links in this document to definition: SystemAudioPreferenceEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-systemaudiopreferenceenum"
                aria-label="Permalink for definition: SystemAudioPreferenceEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1180004445">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-systemaudiopreferenceenum-1" title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5
                    SystemAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-systemaudiopreferenceenum-2" title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-systemaudiopreferenceenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SystemAudioPreferenceEnum.include"
        aria-label="Links in this document to definition: include">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SystemAudioPreferenceEnum.include"
                aria-label="Permalink for definition: include. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1180004445">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SystemAudioPreferenceEnum.include-1"
                    title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5 SystemAudioPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SystemAudioPreferenceEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SystemAudioPreferenceEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1180004445">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SystemAudioPreferenceEnum.exclude-1"
                    title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5 SystemAudioPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-surfaceswitchingpreferenceenum"
        aria-label="Links in this document to definition: SurfaceSwitchingPreferenceEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-surfaceswitchingpreferenceenum"
                aria-label="Permalink for definition: SurfaceSwitchingPreferenceEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1808759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-surfaceswitchingpreferenceenum-1" title="§ 5.4.6 SurfaceSwitchingPreferenceEnum">§
                    5.4.6 SurfaceSwitchingPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-surfaceswitchingpreferenceenum-2" title="§ 5.4.8 DisplayMediaStreamOptions">§
                    5.4.8 DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-surfaceswitchingpreferenceenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SurfaceSwitchingPreferenceEnum.include"
        aria-label="Links in this document to definition: include">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SurfaceSwitchingPreferenceEnum.include"
                aria-label="Permalink for definition: include. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1808759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SurfaceSwitchingPreferenceEnum.include-1"
                    title="§ 5.4.6 SurfaceSwitchingPreferenceEnum">§ 5.4.6 SurfaceSwitchingPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SurfaceSwitchingPreferenceEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SurfaceSwitchingPreferenceEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1808759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SurfaceSwitchingPreferenceEnum.exclude-1"
                    title="§ 5.4.6 SurfaceSwitchingPreferenceEnum">§ 5.4.6 SurfaceSwitchingPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-monitortypesurfacesenum"
        aria-label="Links in this document to definition: MonitorTypeSurfacesEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-monitortypesurfacesenum"
                aria-label="Permalink for definition: MonitorTypeSurfacesEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-968846331">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-monitortypesurfacesenum-1" title="§ 5.4.7 MonitorTypeSurfacesEnum">§ 5.4.7
                    MonitorTypeSurfacesEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-monitortypesurfacesenum-2" title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-monitortypesurfacesenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-MonitorTypeSurfacesEnum.include"
        aria-label="Links in this document to definition: include">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-MonitorTypeSurfacesEnum.include"
                aria-label="Permalink for definition: include. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-968846331">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-MonitorTypeSurfacesEnum.include-1" title="§ 5.4.7 MonitorTypeSurfacesEnum">§
                    5.4.7 MonitorTypeSurfacesEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-MonitorTypeSurfacesEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-MonitorTypeSurfacesEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-968846331">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-MonitorTypeSurfacesEnum.exclude-1" title="§ 5.4.7 MonitorTypeSurfacesEnum">§
                    5.4.7 MonitorTypeSurfacesEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-displaymediastreamoptions"
        aria-label="Links in this document to definition: DisplayMediaStreamOptions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions"
                aria-label="Permalink for definition: DisplayMediaStreamOptions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-238446172">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-1" title="§ 5.1 MediaDevices Additions">§ 5.1
                    MediaDevices Additions</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-2" title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-video" aria-label="Links in this document to definition: video">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-video"
                aria-label="Permalink for definition: video. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-238446172">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-video-1" title="§ 5.4.8 DisplayMediaStreamOptions">§
                    5.4.8 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-audio" aria-label="Links in this document to definition: audio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-audio"
                aria-label="Permalink for definition: audio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-238446172">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-audio-1" title="§ 5.4.8 DisplayMediaStreamOptions">§
                    5.4.8 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-controller"
        aria-label="Links in this document to definition: controller">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-controller"
                aria-label="Permalink for definition: controller. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-238446172">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-controller-1"
                    title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-selfbrowsersurface"
        aria-label="Links in this document to definition: selfBrowserSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-selfbrowsersurface"
                aria-label="Permalink for definition: selfBrowserSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-238446172">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-selfbrowsersurface-1"
                    title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-systemaudio"
        aria-label="Links in this document to definition: systemAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-systemaudio"
                aria-label="Permalink for definition: systemAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-238446172">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-systemaudio-1"
                    title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-surfaceswitching"
        aria-label="Links in this document to definition: surfaceSwitching">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-surfaceswitching"
                aria-label="Permalink for definition: surfaceSwitching. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-238446172">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-surfaceswitching-1"
                    title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-monitortypesurfaces"
        aria-label="Links in this document to definition: monitorTypeSurfaces">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-monitortypesurfaces"
                aria-label="Permalink for definition: monitorTypeSurfaces. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-238446172">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-monitortypesurfaces-1"
                    title="§ 5.4.8 DisplayMediaStreamOptions">§ 5.4.8 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-displaysurface-1"
                    title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§ 5.4.9 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-logicalsurface-1"
                    title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§ 5.4.9 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-cursor"
        aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-cursor-1"
                    title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§ 5.4.9 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-restrictownaudio"
        aria-label="Links in this document to definition: restrictOwnAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-restrictownaudio"
                aria-label="Permalink for definition: restrictOwnAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-restrictownaudio-1"
                    title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§ 5.4.9 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-suppresslocalaudioplayback"
        aria-label="Links in this document to definition: suppressLocalAudioPlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-suppresslocalaudioplayback"
                aria-label="Permalink for definition: suppressLocalAudioPlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-suppresslocalaudioplayback-1"
                    title="§ 5.4.9 Extensions to MediaTrackSupportedConstraints">§ 5.4.9 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-displaysurface-1"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-logicalsurface-1"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-cursor" aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-cursor-1"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-restrictownaudio"
        aria-label="Links in this document to definition: restrictOwnAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-restrictownaudio"
                aria-label="Permalink for definition: restrictOwnAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-restrictownaudio-1"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-suppresslocalaudioplayback"
        aria-label="Links in this document to definition: suppressLocalAudioPlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-suppresslocalaudioplayback"
                aria-label="Permalink for definition: suppressLocalAudioPlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-suppresslocalaudioplayback-1"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1483133749">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-displaysurface-1"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediatracksettings-displaysurface-2"
                    title="§ 5.4.11 Extensions to MediaTrackSettings">§ 5.4.11 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1483133749">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-logicalsurface-1"
                    title="§ 5.4.11 Extensions to MediaTrackSettings">§ 5.4.11 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediatracksettings-cursor"
        aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1483133749">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-cursor-1" title="§ 5.4.11 Extensions to MediaTrackSettings">§
                    5.4.11 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-restrictownaudio"
        aria-label="Links in this document to definition: restrictOwnAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-restrictownaudio"
                aria-label="Permalink for definition: restrictOwnAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1483133749">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-restrictownaudio-1"
                    title="§ 5.4.11 Extensions to MediaTrackSettings">§ 5.4.11 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-suppresslocalaudioplayback"
        aria-label="Links in this document to definition: suppressLocalAudioPlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-suppresslocalaudioplayback"
                aria-label="Permalink for definition: suppressLocalAudioPlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1483133749">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-suppresslocalaudioplayback-1"
                    title="§ 5.4.11 Extensions to MediaTrackSettings">§ 5.4.11 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackcapabilities-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackcapabilities-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-258568626">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackcapabilities-displaysurface-1"
                    title="§ 5.4.12 Extensions to MediaTrackCapabilities">§ 5.4.12 Extensions to
                    MediaTrackCapabilities</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackcapabilities-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackcapabilities-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-258568626">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackcapabilities-logicalsurface-1"
                    title="§ 5.4.12 Extensions to MediaTrackCapabilities">§ 5.4.12 Extensions to
                    MediaTrackCapabilities</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackcapabilities-cursor" aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackcapabilities-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-258568626">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackcapabilities-cursor-1"
                    title="§ 5.4.12 Extensions to MediaTrackCapabilities">§ 5.4.12 Extensions to
                    MediaTrackCapabilities</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-displaycapturesurfacetype"
        aria-label="Links in this document to definition: DisplayCaptureSurfaceType">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaycapturesurfacetype"
                aria-label="Permalink for definition: DisplayCaptureSurfaceType. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2120422013">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-1" title="§ 5.1 MediaDevices Additions">§ 5.1
                    MediaDevices Additions</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-2"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-3"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-4" title="§ 5.4.11 Extensions to MediaTrackSettings">§
                    5.4.11 Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-5" title="§ 5.4.13 DisplayCaptureSurfaceType">§ 5.4.13
                    DisplayCaptureSurfaceType</a> <a href="#ref-for-dom-displaycapturesurfacetype-6"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-DisplayCaptureSurfaceType.monitor"
        aria-label="Links in this document to definition: monitor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-DisplayCaptureSurfaceType.monitor"
                aria-label="Permalink for definition: monitor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2120422013">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.monitor-1"
                    title="§ 5.4.13 DisplayCaptureSurfaceType">§ 5.4.13 DisplayCaptureSurfaceType</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-DisplayCaptureSurfaceType.window"
        aria-label="Links in this document to definition: window">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-DisplayCaptureSurfaceType.window"
                aria-label="Permalink for definition: window. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2120422013">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.window-1" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.window-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.window-3"
                    title="§ 5.4.13 DisplayCaptureSurfaceType">§ 5.4.13 DisplayCaptureSurfaceType</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-DisplayCaptureSurfaceType.browser"
        aria-label="Links in this document to definition: browser">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-DisplayCaptureSurfaceType.browser"
                aria-label="Permalink for definition: browser. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2120422013">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.browser-1" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.browser-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.browser-3"
                    title="§ 5.4.13 DisplayCaptureSurfaceType">§ 5.4.13 DisplayCaptureSurfaceType</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-cursorcaptureconstraint"
        aria-label="Links in this document to definition: CursorCaptureConstraint">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-cursorcaptureconstraint"
                aria-label="Permalink for definition: CursorCaptureConstraint. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1713755194">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dom-cursorcaptureconstraint-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-3"
                    title="§ 5.4.10 Extensions to MediaTrackConstraintSet">§ 5.4.10 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-4" title="§ 5.4.11 Extensions to MediaTrackSettings">§
                    5.4.11 Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-5" title="§ 5.4.12 Extensions to MediaTrackCapabilities">§
                    5.4.12 Extensions to MediaTrackCapabilities</a>
            </li>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-6" title="§ 5.4.14 CursorCaptureConstraint">§ 5.4.14
                    CursorCaptureConstraint</a> <a href="#ref-for-dom-cursorcaptureconstraint-7"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CursorCaptureConstraint.never"
        aria-label="Links in this document to definition: never">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CursorCaptureConstraint.never"
                aria-label="Permalink for definition: never. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1713755194">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CursorCaptureConstraint.never-1" title="§ 5.4.14 CursorCaptureConstraint">§
                    5.4.14 CursorCaptureConstraint</a> <a href="#ref-for-idl-def-CursorCaptureConstraint.never-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CursorCaptureConstraint.always"
        aria-label="Links in this document to definition: always">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CursorCaptureConstraint.always"
                aria-label="Permalink for definition: always. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1713755194">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CursorCaptureConstraint.always-1" title="§ 5.4.14 CursorCaptureConstraint">§
                    5.4.14 CursorCaptureConstraint</a> <a href="#ref-for-idl-def-CursorCaptureConstraint.always-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CursorCaptureConstraint.motion"
        aria-label="Links in this document to definition: motion">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CursorCaptureConstraint.motion"
                aria-label="Permalink for definition: motion. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1713755194">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CursorCaptureConstraint.motion-1" title="§ 5.4.14 CursorCaptureConstraint">§
                    5.4.14 CursorCaptureConstraint</a> <a href="#ref-for-idl-def-CursorCaptureConstraint.motion-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-display-capture"
        aria-label="Links in this document to definition: &quot;display-capture&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-display-capture"
                aria-label="Permalink for definition: &quot;display-capture&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-active-user-consent"
        aria-label="Links in this document to definition: Active user consent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-active-user-consent"
                aria-label="Permalink for definition: Active user consent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-active-user-consent-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-user-consent-2" title="§ 9.1.1 Capturing Audio">§ 9.1.1 Capturing Audio</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-user-consent-3" title="§ 9.2 Authorizing Display Capture">§ 9.2 Authorizing
                    Display Capture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-user-consent-4" title="§ 9.2.2 Elevated Permissions">§ 9.2.2 Elevated
                    Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-elevated-permissions"
        aria-label="Links in this document to definition: elevated permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-elevated-permissions"
                aria-label="Permalink for definition: elevated permissions. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-2"
                    title="§ 9.1 Capturing Logical or Visible Display Surfaces">§ 9.1 Capturing Logical or Visible
                    Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-3" title="§ 9.2 Authorizing Display Capture">§ 9.2
                    Authorizing Display Capture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-4" title="§ 9.2.2 Elevated Permissions">§ 9.2.2 Elevated
                    Permissions</a> <a href="#ref-for-dfn-elevated-permissions-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-elevated-permissions-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-elevated-permissions-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-elevated-permissions-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-elevated-permissions-9" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-elevated-permissions-10" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-11"
                    title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3 Capabilities Depending on
                    Elevated Permissions</a> <a href="#ref-for-dfn-elevated-permissions-12" title="Reference 2">(2)</a>
                <a href="#ref-for-dfn-elevated-permissions-13" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-elevated-permissions-14" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <scriot src="/dropdown.js"></scriot>
</body>

</html>